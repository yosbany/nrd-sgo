var fA=Object.defineProperty;var hA=(t,e,n)=>e in t?fA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Nr=(t,e,n)=>hA(t,typeof e!="symbol"?e+"":e,n);function mA(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function Yg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hp={exports:{}},tc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function pA(){if(v_)return tc;v_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var f in i)f!=="key"&&(l[f]=i[f])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:u,ref:i!==void 0?i:null,props:l}}return tc.Fragment=e,tc.jsx=n,tc.jsxs=n,tc}var b_;function gA(){return b_||(b_=1,hp.exports=pA()),hp.exports}var d=gA(),mp={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function yA(){if(x_)return Re;x_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function b(I){return I===null||typeof I!="object"?null:(I=y&&I[y]||I["@@iterator"],typeof I=="function"?I:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,x={};function S(I,$,z){this.props=I,this.context=$,this.refs=x,this.updater=z||_}S.prototype.isReactComponent={},S.prototype.setState=function(I,$){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,$,"setState")},S.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function N(){}N.prototype=S.prototype;function T(I,$,z){this.props=I,this.context=$,this.refs=x,this.updater=z||_}var D=T.prototype=new N;D.constructor=T,C(D,S.prototype),D.isPureReactComponent=!0;var M=Array.isArray,j={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function O(I,$,z,W,K,se){return z=se.ref,{$$typeof:t,type:I,key:$,ref:z!==void 0?z:null,props:se}}function q(I,$){return O(I.type,$,void 0,void 0,void 0,I.props)}function B(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function V(I){var $={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(z){return $[z]})}var te=/\/+/g;function re(I,$){return typeof I=="object"&&I!==null&&I.key!=null?V(""+I.key):$.toString(36)}function ce(){}function le(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(ce,ce):(I.status="pending",I.then(function($){I.status==="pending"&&(I.status="fulfilled",I.value=$)},function($){I.status==="pending"&&(I.status="rejected",I.reason=$)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function de(I,$,z,W,K){var se=typeof I;(se==="undefined"||se==="boolean")&&(I=null);var ne=!1;if(I===null)ne=!0;else switch(se){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(I.$$typeof){case t:case e:ne=!0;break;case v:return ne=I._init,de(ne(I._payload),$,z,W,K)}}if(ne)return K=K(I),ne=W===""?"."+re(I,0):W,M(K)?(z="",ne!=null&&(z=ne.replace(te,"$&/")+"/"),de(K,$,z,"",function(Ce){return Ce})):K!=null&&(B(K)&&(K=q(K,z+(K.key==null||I&&I.key===K.key?"":(""+K.key).replace(te,"$&/")+"/")+ne)),$.push(K)),1;ne=0;var ge=W===""?".":W+":";if(M(I))for(var fe=0;fe<I.length;fe++)W=I[fe],se=ge+re(W,fe),ne+=de(W,$,z,se,K);else if(fe=b(I),typeof fe=="function")for(I=fe.call(I),fe=0;!(W=I.next()).done;)W=W.value,se=ge+re(W,fe++),ne+=de(W,$,z,se,K);else if(se==="object"){if(typeof I.then=="function")return de(le(I),$,z,W,K);throw $=String(I),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ne}function H(I,$,z){if(I==null)return I;var W=[],K=0;return de(I,W,"","",function(se){return $.call(z,se,K++)}),W}function ie(I){if(I._status===-1){var $=I._result;$=$(),$.then(function(z){(I._status===0||I._status===-1)&&(I._status=1,I._result=z)},function(z){(I._status===0||I._status===-1)&&(I._status=2,I._result=z)}),I._status===-1&&(I._status=0,I._result=$)}if(I._status===1)return I._result.default;throw I._result}var J=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function X(){}return Re.Children={map:H,forEach:function(I,$,z){H(I,function(){$.apply(this,arguments)},z)},count:function(I){var $=0;return H(I,function(){$++}),$},toArray:function(I){return H(I,function($){return $})||[]},only:function(I){if(!B(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Re.Component=S,Re.Fragment=n,Re.Profiler=i,Re.PureComponent=T,Re.StrictMode=a,Re.Suspense=m,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(I){return function(){return I.apply(null,arguments)}},Re.cloneElement=function(I,$,z){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var W=C({},I.props),K=I.key,se=void 0;if($!=null)for(ne in $.ref!==void 0&&(se=void 0),$.key!==void 0&&(K=""+$.key),$)!L.call($,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&$.ref===void 0||(W[ne]=$[ne]);var ne=arguments.length-2;if(ne===1)W.children=z;else if(1<ne){for(var ge=Array(ne),fe=0;fe<ne;fe++)ge[fe]=arguments[fe+2];W.children=ge}return O(I.type,K,void 0,void 0,se,W)},Re.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},Re.createElement=function(I,$,z){var W,K={},se=null;if($!=null)for(W in $.key!==void 0&&(se=""+$.key),$)L.call($,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(K[W]=$[W]);var ne=arguments.length-2;if(ne===1)K.children=z;else if(1<ne){for(var ge=Array(ne),fe=0;fe<ne;fe++)ge[fe]=arguments[fe+2];K.children=ge}if(I&&I.defaultProps)for(W in ne=I.defaultProps,ne)K[W]===void 0&&(K[W]=ne[W]);return O(I,se,void 0,void 0,null,K)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(I){return{$$typeof:f,render:I}},Re.isValidElement=B,Re.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:ie}},Re.memo=function(I,$){return{$$typeof:p,type:I,compare:$===void 0?null:$}},Re.startTransition=function(I){var $=j.T,z={};j.T=z;try{var W=I(),K=j.S;K!==null&&K(z,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(X,J)}catch(se){J(se)}finally{j.T=$}},Re.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Re.use=function(I){return j.H.use(I)},Re.useActionState=function(I,$,z){return j.H.useActionState(I,$,z)},Re.useCallback=function(I,$){return j.H.useCallback(I,$)},Re.useContext=function(I){return j.H.useContext(I)},Re.useDebugValue=function(){},Re.useDeferredValue=function(I,$){return j.H.useDeferredValue(I,$)},Re.useEffect=function(I,$){return j.H.useEffect(I,$)},Re.useId=function(){return j.H.useId()},Re.useImperativeHandle=function(I,$,z){return j.H.useImperativeHandle(I,$,z)},Re.useInsertionEffect=function(I,$){return j.H.useInsertionEffect(I,$)},Re.useLayoutEffect=function(I,$){return j.H.useLayoutEffect(I,$)},Re.useMemo=function(I,$){return j.H.useMemo(I,$)},Re.useOptimistic=function(I,$){return j.H.useOptimistic(I,$)},Re.useReducer=function(I,$,z){return j.H.useReducer(I,$,z)},Re.useRef=function(I){return j.H.useRef(I)},Re.useState=function(I){return j.H.useState(I)},Re.useSyncExternalStore=function(I,$,z){return j.H.useSyncExternalStore(I,$,z)},Re.useTransition=function(){return j.H.useTransition()},Re.version="19.0.0",Re}var __;function Nf(){return __||(__=1,mp.exports=yA()),mp.exports}var w=Nf();const A=Yg(w),vA=mA({__proto__:null,default:A},[w]);var pp={exports:{}},nc={},gp={exports:{}},yp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function bA(){return w_||(w_=1,function(t){function e(H,ie){var J=H.length;H.push(ie);e:for(;0<J;){var X=J-1>>>1,I=H[X];if(0<i(I,ie))H[X]=ie,H[J]=I,J=X;else break e}}function n(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var ie=H[0],J=H.pop();if(J!==ie){H[0]=J;e:for(var X=0,I=H.length,$=I>>>1;X<$;){var z=2*(X+1)-1,W=H[z],K=z+1,se=H[K];if(0>i(W,J))K<I&&0>i(se,W)?(H[X]=se,H[K]=J,X=K):(H[X]=W,H[z]=J,X=z);else if(K<I&&0>i(se,J))H[X]=se,H[K]=J,X=K;else break e}}return ie}function i(H,ie){var J=H.sortIndex-ie.sortIndex;return J!==0?J:H.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],p=[],v=1,y=null,b=3,_=!1,C=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function D(H){for(var ie=n(p);ie!==null;){if(ie.callback===null)a(p);else if(ie.startTime<=H)a(p),ie.sortIndex=ie.expirationTime,e(m,ie);else break;ie=n(p)}}function M(H){if(x=!1,D(H),!C)if(n(m)!==null)C=!0,le();else{var ie=n(p);ie!==null&&de(M,ie.startTime-H)}}var j=!1,L=-1,O=5,q=-1;function B(){return!(t.unstable_now()-q<O)}function V(){if(j){var H=t.unstable_now();q=H;var ie=!0;try{e:{C=!1,x&&(x=!1,N(L),L=-1),_=!0;var J=b;try{t:{for(D(H),y=n(m);y!==null&&!(y.expirationTime>H&&B());){var X=y.callback;if(typeof X=="function"){y.callback=null,b=y.priorityLevel;var I=X(y.expirationTime<=H);if(H=t.unstable_now(),typeof I=="function"){y.callback=I,D(H),ie=!0;break t}y===n(m)&&a(m),D(H)}else a(m);y=n(m)}if(y!==null)ie=!0;else{var $=n(p);$!==null&&de(M,$.startTime-H),ie=!1}}break e}finally{y=null,b=J,_=!1}ie=void 0}}finally{ie?te():j=!1}}}var te;if(typeof T=="function")te=function(){T(V)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ce=re.port2;re.port1.onmessage=V,te=function(){ce.postMessage(null)}}else te=function(){S(V,0)};function le(){j||(j=!0,te())}function de(H,ie){L=S(function(){H(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){C||_||(C=!0,le())},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(m)},t.unstable_next=function(H){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var J=b;b=ie;try{return H()}finally{b=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ie){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var J=b;b=H;try{return ie()}finally{b=J}},t.unstable_scheduleCallback=function(H,ie,J){var X=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?X+J:X):J=X,H){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=J+I,H={id:v++,callback:ie,priorityLevel:H,startTime:J,expirationTime:I,sortIndex:-1},J>X?(H.sortIndex=J,e(p,H),n(m)===null&&H===n(p)&&(x?(N(L),L=-1):x=!0,de(M,J-X))):(H.sortIndex=I,e(m,H),C||_||(C=!0,le())),H},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(H){var ie=b;return function(){var J=b;b=ie;try{return H.apply(this,arguments)}finally{b=J}}}}(yp)),yp}var E_;function xA(){return E_||(E_=1,gp.exports=bA()),gp.exports}var vp={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function _A(){if(S_)return Gt;S_=1;var t=Nf();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(m,p,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:m,containerInfo:p,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Gt.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},Gt.flushSync=function(m){var p=u.T,v=a.p;try{if(u.T=null,a.p=2,m)return m()}finally{u.T=p,a.p=v,a.d.f()}},Gt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(m,p))},Gt.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Gt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,y=f(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:_}):v==="script"&&a.d.X(m,{crossOrigin:y,integrity:b,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Gt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);a.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(m)},Gt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,y=f(v,p.crossOrigin);a.d.L(m,v,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Gt.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=f(p.as,p.crossOrigin);a.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(m)},Gt.requestFormReset=function(m){a.d.r(m)},Gt.unstable_batchedUpdates=function(m,p){return m(p)},Gt.useFormState=function(m,p,v){return u.H.useFormState(m,p,v)},Gt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Gt.version="19.0.0",Gt}var C_;function ZE(){if(C_)return vp.exports;C_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vp.exports=_A(),vp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function wA(){if(N_)return nc;N_=1;var t=xA(),e=Nf(),n=ZE();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),_=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),M=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=j&&r[j]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function q(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case m:return"Fragment";case f:return"Portal";case v:return"Profiler";case p:return"StrictMode";case x:return"Suspense";case S:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case _:return(r.displayName||"Context")+".Provider";case b:return(r._context.displayName||"Context")+".Consumer";case C:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return s=r.displayName||null,s!==null?s:q(r.type)||"Memo";case T:s=r._payload,r=r._init;try{return q(r(s))}catch{}}return null}var B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.assign,te,re;function ce(r){if(te===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);te=s&&s[1]||"",re=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+te+r+re}var le=!1;function de(r,s){if(!r||le)return"";le=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Q){var Y=Q}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(Q){Y=Q}r.call(ae.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),E=g[0],R=g[1];if(E&&R){var k=E.split(`
`),U=R.split(`
`);for(h=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(c===k.length||h===U.length)for(c=k.length-1,h=U.length-1;1<=c&&0<=h&&k[c]!==U[h];)h--;for(;1<=c&&0<=h;c--,h--)if(k[c]!==U[h]){if(c!==1||h!==1)do if(c--,h--,0>h||k[c]!==U[h]){var Z=`
`+k[c].replace(" at new "," at ");return r.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",r.displayName)),Z}while(1<=c&&0<=h);break}}}finally{le=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ce(o):""}function H(r){switch(r.tag){case 26:case 27:case 5:return ce(r.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 15:return r=de(r.type,!1),r;case 11:return r=de(r.type.render,!1),r;case 1:return r=de(r.type,!0),r;default:return""}}function ie(r){try{var s="";do s+=H(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function J(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function X(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function I(r){if(J(r)!==r)throw Error(a(188))}function $(r){var s=r.alternate;if(!s){if(s=J(r),s===null)throw Error(a(188));return s!==r?null:r}for(var o=r,c=s;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return I(h),r;if(g===c)return I(h),s;g=g.sibling}throw Error(a(188))}if(o.return!==c.return)o=h,c=g;else{for(var E=!1,R=h.child;R;){if(R===o){E=!0,o=h,c=g;break}if(R===c){E=!0,c=h,o=g;break}R=R.sibling}if(!E){for(R=g.child;R;){if(R===o){E=!0,o=g,c=h;break}if(R===c){E=!0,c=g,o=h;break}R=R.sibling}if(!E)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?r:s}function z(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=z(r),s!==null)return s;r=r.sibling}return null}var W=Array.isArray,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ne=[],ge=-1;function fe(r){return{current:r}}function Ce(r){0>ge||(r.current=ne[ge],ne[ge]=null,ge--)}function Ne(r,s){ge++,ne[ge]=r.current,r.current=s}var Yt=fe(null),Qn=fe(null),Ht=fe(null),Zn=fe(null);function _a(r,s){switch(Ne(Ht,s),Ne(Qn,r),Ne(Yt,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Yx(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=Yx(r),s=Wx(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Ce(Yt),Ne(Yt,s)}function Jn(){Ce(Yt),Ce(Qn),Ce(Ht)}function er(r){r.memoizedState!==null&&Ne(Zn,r);var s=Yt.current,o=Wx(s,r.type);s!==o&&(Ne(Qn,r),Ne(Yt,o))}function Lr(r){Qn.current===r&&(Ce(Yt),Ce(Qn)),Zn.current===r&&(Ce(Zn),Xl._currentValue=se)}var Nt=Object.prototype.hasOwnProperty,rl=t.unstable_scheduleCallback,al=t.unstable_cancelCallback,rn=t.unstable_shouldYield,wa=t.unstable_requestPaint,On=t.unstable_now,ih=t.unstable_getCurrentPriorityLevel,Es=t.unstable_ImmediatePriority,pu=t.unstable_UserBlockingPriority,Ss=t.unstable_NormalPriority,sl=t.unstable_LowPriority,Ur=t.unstable_IdlePriority,gu=t.log,Ea=t.unstable_setDisableYieldValue,Cs=null,Wt=null;function yu(r){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Cs,r,void 0,(r.current.flags&128)===128)}catch{}}function tr(r){if(typeof gu=="function"&&Ea(r),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(Cs,r)}catch{}}var Kt=Math.clz32?Math.clz32:oh,il=Math.log,vr=Math.LN2;function oh(r){return r>>>=0,r===0?32:31-(il(r)/vr|0)|0}var Ns=128,Ts=4194304;function Se(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function at(r,s){var o=r.pendingLanes;if(o===0)return 0;var c=0,h=r.suspendedLanes,g=r.pingedLanes,E=r.warmLanes;r=r.finishedLanes!==0;var R=o&134217727;return R!==0?(o=R&~h,o!==0?c=Se(o):(g&=R,g!==0?c=Se(g):r||(E=R&~E,E!==0&&(c=Se(E))))):(R=o&~h,R!==0?c=Se(R):g!==0?c=Se(g):r||(E=o&~E,E!==0&&(c=Se(E)))),c===0?0:s!==0&&s!==c&&(s&h)===0&&(h=c&-c,E=s&-s,h>=E||h===32&&(E&4194176)!==0)?s:c}function lt(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Xt(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rs(){var r=Ns;return Ns<<=1,(Ns&4194176)===0&&(Ns=128),r}function gt(){var r=Ts;return Ts<<=1,(Ts&62914560)===0&&(Ts=4194304),r}function qt(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function br(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function gn(r,s,o,c,h,g){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var R=r.entanglements,k=r.expirationTimes,U=r.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-Kt(o),ae=1<<Z;R[Z]=0,k[Z]=-1;var Y=U[Z];if(Y!==null)for(U[Z]=null,Z=0;Z<Y.length;Z++){var Q=Y[Z];Q!==null&&(Q.lane&=-536870913)}o&=~ae}c!==0&&an(r,c,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(E&~s))}function an(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Kt(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194218}function ol(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Kt(o),h=1<<c;h&s|r[c]&s&&(r[c]|=s),o&=~h}}function xr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function lh(){var r=K.p;return r!==0?r:(r=window.event,r===void 0?32:f_(r.type))}function nR(r,s){var o=K.p;try{return K.p=r,s()}finally{K.p=o}}var Sa=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Sa,sn="__reactProps$"+Sa,Ci="__reactContainer$"+Sa,ch="__reactEvents$"+Sa,rR="__reactListeners$"+Sa,aR="__reactHandles$"+Sa,$v="__reactResources$"+Sa,ll="__reactMarker$"+Sa;function uh(r){delete r[Vt],delete r[sn],delete r[ch],delete r[rR],delete r[aR]}function Ds(r){var s=r[Vt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Ci]||o[Vt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Qx(r);r!==null;){if(o=r[Vt])return o;r=Qx(r)}return s}r=o,o=r.parentNode}return null}function Ni(r){if(r=r[Vt]||r[Ci]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function cl(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function Ti(r){var s=r[$v];return s||(s=r[$v]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Tt(r){r[ll]=!0}var Gv=new Set,Yv={};function As(r,s){Ri(r,s),Ri(r+"Capture",s)}function Ri(r,s){for(Yv[r]=s,r=0;r<s.length;r++)Gv.add(s[r])}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wv={},Kv={};function iR(r){return Nt.call(Kv,r)?!0:Nt.call(Wv,r)?!1:sR.test(r)?Kv[r]=!0:(Wv[r]=!0,!1)}function vu(r,s,o){if(iR(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function bu(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function zr(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}function kn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Xv(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function oR(r){var s=Xv(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(E){c=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function xu(r){r._valueTracker||(r._valueTracker=oR(r))}function Qv(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=Xv(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function _u(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var lR=/[\n"\\]/g;function jn(r){return r.replace(lR,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function dh(r,s,o,c,h,g,E,R){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+kn(s)):r.value!==""+kn(s)&&(r.value=""+kn(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?fh(r,E,kn(s)):o!=null?fh(r,E,kn(o)):c!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+kn(R):r.removeAttribute("name")}function Zv(r,s,o,c,h,g,E,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+kn(o):"",s=s!=null?""+kn(s):o,R||s===r.value||(r.value=s),r.defaultValue=s}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=R?r.checked:!!c,r.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function fh(r,s,o){s==="number"&&_u(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Di(r,s,o,c){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&c&&(r[o].defaultSelected=!0)}else{for(o=""+kn(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function Jv(r,s,o){if(s!=null&&(s=""+kn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+kn(o):""}function eb(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(a(92));if(W(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=kn(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function Ai(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var cR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tb(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||cR.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function nb(r,s,o){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var h in s)c=s[h],s.hasOwnProperty(h)&&o[h]!==c&&tb(r,h,c)}else for(var g in s)s.hasOwnProperty(g)&&tb(r,g,s[g])}function hh(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wu(r){return dR.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var mh=null;function ph(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ii=null,Oi=null;function rb(r){var s=Ni(r);if(s&&(r=s.stateNode)){var o=r[sn]||null;e:switch(r=s.stateNode,s.type){case"input":if(dh(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+jn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var h=c[sn]||null;if(!h)throw Error(a(90));dh(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&Qv(c)}break e;case"textarea":Jv(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Di(r,!!o.multiple,s,!1)}}}var gh=!1;function ab(r,s,o){if(gh)return r(s,o);gh=!0;try{var c=r(s);return c}finally{if(gh=!1,(Ii!==null||Oi!==null)&&(sd(),Ii&&(s=Ii,r=Oi,Oi=Ii=null,rb(s),r)))for(s=0;s<r.length;s++)rb(r[s])}}function ul(r,s){var o=r.stateNode;if(o===null)return null;var c=o[sn]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(a(231,s,typeof o));return o}var yh=!1;if(Br)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){yh=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{yh=!1}var Ca=null,vh=null,Eu=null;function sb(){if(Eu)return Eu;var r,s=vh,o=s.length,c,h="value"in Ca?Ca.value:Ca.textContent,g=h.length;for(r=0;r<o&&s[r]===h[r];r++);var E=o-r;for(c=1;c<=E&&s[o-c]===h[g-c];c++);return Eu=h.slice(r,1<c?1-c:void 0)}function Su(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Cu(){return!0}function ib(){return!1}function on(r){function s(o,c,h,g,E){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(o=r[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Cu:ib,this.isPropagationStopped=ib,this}return V(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Cu)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Cu)},persist:function(){},isPersistent:Cu}),s}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=on(Is),fl=V({},Is,{view:0,detail:0}),fR=on(fl),bh,xh,hl,Tu=V({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wh,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==hl&&(hl&&r.type==="mousemove"?(bh=r.screenX-hl.screenX,xh=r.screenY-hl.screenY):xh=bh=0,hl=r),bh)},movementY:function(r){return"movementY"in r?r.movementY:xh}}),ob=on(Tu),hR=V({},Tu,{dataTransfer:0}),mR=on(hR),pR=V({},fl,{relatedTarget:0}),_h=on(pR),gR=V({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),yR=on(gR),vR=V({},Is,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),bR=on(vR),xR=V({},Is,{data:0}),lb=on(xR),_R={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ER={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SR(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ER[r])?!!s[r]:!1}function wh(){return SR}var CR=V({},fl,{key:function(r){if(r.key){var s=_R[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Su(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?wR[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wh,charCode:function(r){return r.type==="keypress"?Su(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Su(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),NR=on(CR),TR=V({},Tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cb=on(TR),RR=V({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wh}),DR=on(RR),AR=V({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),IR=on(AR),OR=V({},Tu,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),kR=on(OR),jR=V({},Is,{newState:0,oldState:0}),MR=on(jR),PR=[9,13,27,32],Eh=Br&&"CompositionEvent"in window,ml=null;Br&&"documentMode"in document&&(ml=document.documentMode);var LR=Br&&"TextEvent"in window&&!ml,ub=Br&&(!Eh||ml&&8<ml&&11>=ml),db=" ",fb=!1;function hb(r,s){switch(r){case"keyup":return PR.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mb(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ki=!1;function UR(r,s){switch(r){case"compositionend":return mb(s);case"keypress":return s.which!==32?null:(fb=!0,db);case"textInput":return r=s.data,r===db&&fb?null:r;default:return null}}function BR(r,s){if(ki)return r==="compositionend"||!Eh&&hb(r,s)?(r=sb(),Eu=vh=Ca=null,ki=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ub&&s.locale!=="ko"?null:s.data;default:return null}}var zR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pb(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!zR[r.type]:s==="textarea"}function gb(r,s,o,c){Ii?Oi?Oi.push(c):Oi=[c]:Ii=c,s=ud(s,"onChange"),0<s.length&&(o=new Nu("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var pl=null,gl=null;function FR(r){Hx(r,0)}function Ru(r){var s=cl(r);if(Qv(s))return r}function yb(r,s){if(r==="change")return s}var vb=!1;if(Br){var Sh;if(Br){var Ch="oninput"in document;if(!Ch){var bb=document.createElement("div");bb.setAttribute("oninput","return;"),Ch=typeof bb.oninput=="function"}Sh=Ch}else Sh=!1;vb=Sh&&(!document.documentMode||9<document.documentMode)}function xb(){pl&&(pl.detachEvent("onpropertychange",_b),gl=pl=null)}function _b(r){if(r.propertyName==="value"&&Ru(gl)){var s=[];gb(s,gl,r,ph(r)),ab(FR,s)}}function HR(r,s,o){r==="focusin"?(xb(),pl=s,gl=o,pl.attachEvent("onpropertychange",_b)):r==="focusout"&&xb()}function qR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ru(gl)}function VR(r,s){if(r==="click")return Ru(s)}function $R(r,s){if(r==="input"||r==="change")return Ru(s)}function GR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var yn=typeof Object.is=="function"?Object.is:GR;function yl(r,s){if(yn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!Nt.call(s,h)||!yn(r[h],s[h]))return!1}return!0}function wb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Eb(r,s){var o=wb(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=wb(o)}}function Sb(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Sb(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Cb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=_u(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=_u(r.document)}return s}function Nh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function YR(r,s){var o=Cb(s);s=r.focusedElem;var c=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&Sb(s.ownerDocument.documentElement,s)){if(c!==null&&Nh(s)){if(r=c.start,o=c.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var h=s.textContent.length,g=Math.min(c.start,h);c=c.end===void 0?g:Math.min(c.end,h),!o.extend&&g>c&&(h=c,c=g,g=h),h=Eb(s,g);var E=Eb(s,c);h&&E&&(o.rangeCount!==1||o.anchorNode!==h.node||o.anchorOffset!==h.offset||o.focusNode!==E.node||o.focusOffset!==E.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),o.removeAllRanges(),g>c?(o.addRange(r),o.extend(E.node,E.offset)):(r.setEnd(E.node,E.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var WR=Br&&"documentMode"in document&&11>=document.documentMode,ji=null,Th=null,vl=null,Rh=!1;function Nb(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Rh||ji==null||ji!==_u(c)||(c=ji,"selectionStart"in c&&Nh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),vl&&yl(vl,c)||(vl=c,c=ud(Th,"onSelect"),0<c.length&&(s=new Nu("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=ji)))}function Os(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Mi={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},Dh={},Tb={};Br&&(Tb=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function ks(r){if(Dh[r])return Dh[r];if(!Mi[r])return r;var s=Mi[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Tb)return Dh[r]=s[o];return r}var Rb=ks("animationend"),Db=ks("animationiteration"),Ab=ks("animationstart"),KR=ks("transitionrun"),XR=ks("transitionstart"),QR=ks("transitioncancel"),Ib=ks("transitionend"),Ob=new Map,kb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function nr(r,s){Ob.set(r,s),As(s,[r])}var Mn=[],Pi=0,Ah=0;function Du(){for(var r=Pi,s=Ah=Pi=0;s<r;){var o=Mn[s];Mn[s++]=null;var c=Mn[s];Mn[s++]=null;var h=Mn[s];Mn[s++]=null;var g=Mn[s];if(Mn[s++]=null,c!==null&&h!==null){var E=c.pending;E===null?h.next=h:(h.next=E.next,E.next=h),c.pending=h}g!==0&&jb(o,h,g)}}function Au(r,s,o,c){Mn[Pi++]=r,Mn[Pi++]=s,Mn[Pi++]=o,Mn[Pi++]=c,Ah|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Ih(r,s,o,c){return Au(r,s,o,c),Iu(r)}function Na(r,s){return Au(r,null,null,s),Iu(r)}function jb(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;h&&s!==null&&r.tag===3&&(g=r.stateNode,h=31-Kt(o),g=g.hiddenUpdates,r=g[h],r===null?g[h]=[s]:r.push(s),s.lane=o|536870912)}function Iu(r){if(50<ql)throw ql=0,Lm=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Li={},Mb=new WeakMap;function Pn(r,s){if(typeof r=="object"&&r!==null){var o=Mb.get(r);return o!==void 0?o:(s={value:r,source:s,stack:ie(s)},Mb.set(r,s),s)}return{value:r,source:s,stack:ie(s)}}var Ui=[],Bi=0,Ou=null,ku=0,Ln=[],Un=0,js=null,Fr=1,Hr="";function Ms(r,s){Ui[Bi++]=ku,Ui[Bi++]=Ou,Ou=r,ku=s}function Pb(r,s,o){Ln[Un++]=Fr,Ln[Un++]=Hr,Ln[Un++]=js,js=r;var c=Fr;r=Hr;var h=32-Kt(c)-1;c&=~(1<<h),o+=1;var g=32-Kt(s)+h;if(30<g){var E=h-h%5;g=(c&(1<<E)-1).toString(32),c>>=E,h-=E,Fr=1<<32-Kt(s)+h|o<<h|c,Hr=g+r}else Fr=1<<g|o<<h|c,Hr=r}function Oh(r){r.return!==null&&(Ms(r,1),Pb(r,1,0))}function kh(r){for(;r===Ou;)Ou=Ui[--Bi],Ui[Bi]=null,ku=Ui[--Bi],Ui[Bi]=null;for(;r===js;)js=Ln[--Un],Ln[Un]=null,Hr=Ln[--Un],Ln[Un]=null,Fr=Ln[--Un],Ln[Un]=null}var Qt=null,Pt=null,He=!1,rr=null,_r=!1,jh=Error(a(519));function Ps(r){var s=Error(a(418,""));throw _l(Pn(s,r)),jh}function Lb(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[Vt]=r,s[sn]=c,o){case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":case"embed":Be("load",s);break;case"video":case"audio":for(o=0;o<$l.length;o++)Be($l[o],s);break;case"source":Be("error",s);break;case"img":case"image":case"link":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"input":Be("invalid",s),Zv(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),xu(s);break;case"select":Be("invalid",s);break;case"textarea":Be("invalid",s),eb(s,c.value,c.defaultValue,c.children),xu(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||Gx(s.textContent,o)?(c.popover!=null&&(Be("beforetoggle",s),Be("toggle",s)),c.onScroll!=null&&Be("scroll",s),c.onScrollEnd!=null&&Be("scrollend",s),c.onClick!=null&&(s.onclick=dd),s=!0):s=!1,s||Ps(r)}function Ub(r){for(Qt=r.return;Qt;)switch(Qt.tag){case 3:case 27:_r=!0;return;case 5:case 13:_r=!1;return;default:Qt=Qt.return}}function bl(r){if(r!==Qt)return!1;if(!He)return Ub(r),He=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||ep(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&Pt&&Ps(r),Ub(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Pt=sr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Pt=null}}else Pt=Qt?sr(r.stateNode.nextSibling):null;return!0}function xl(){Pt=Qt=null,He=!1}function _l(r){rr===null?rr=[r]:rr.push(r)}var wl=Error(a(460)),Bb=Error(a(474)),Mh={then:function(){}};function zb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ju(){}function Fb(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(ju,ju),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===wl?Error(a(483)):r;default:if(typeof s.status=="string")s.then(ju,ju);else{if(r=Ze,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=c}},function(c){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===wl?Error(a(483)):r}throw El=s,wl}}var El=null;function Hb(){if(El===null)throw Error(a(459));var r=El;return El=null,r}var zi=null,Sl=0;function Mu(r){var s=Sl;return Sl+=1,zi===null&&(zi=[]),Fb(zi,r,s)}function Cl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Pu(r,s){throw s.$$typeof===l?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function qb(r){var s=r._init;return s(r._payload)}function Vb(r){function s(F,P){if(r){var G=F.deletions;G===null?(F.deletions=[P],F.flags|=16):G.push(P)}}function o(F,P){if(!r)return null;for(;P!==null;)s(F,P),P=P.sibling;return null}function c(F){for(var P=new Map;F!==null;)F.key!==null?P.set(F.key,F):P.set(F.index,F),F=F.sibling;return P}function h(F,P){return F=Ua(F,P),F.index=0,F.sibling=null,F}function g(F,P,G){return F.index=G,r?(G=F.alternate,G!==null?(G=G.index,G<P?(F.flags|=33554434,P):G):(F.flags|=33554434,P)):(F.flags|=1048576,P)}function E(F){return r&&F.alternate===null&&(F.flags|=33554434),F}function R(F,P,G,ee){return P===null||P.tag!==6?(P=Dm(G,F.mode,ee),P.return=F,P):(P=h(P,G),P.return=F,P)}function k(F,P,G,ee){var he=G.type;return he===m?Z(F,P,G.props.children,ee,G.key):P!==null&&(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===T&&qb(he)===P.type)?(P=h(P,G.props),Cl(P,G),P.return=F,P):(P=ed(G.type,G.key,G.props,null,F.mode,ee),Cl(P,G),P.return=F,P)}function U(F,P,G,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==G.containerInfo||P.stateNode.implementation!==G.implementation?(P=Am(G,F.mode,ee),P.return=F,P):(P=h(P,G.children||[]),P.return=F,P)}function Z(F,P,G,ee,he){return P===null||P.tag!==7?(P=Gs(G,F.mode,ee,he),P.return=F,P):(P=h(P,G),P.return=F,P)}function ae(F,P,G){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Dm(""+P,F.mode,G),P.return=F,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case u:return G=ed(P.type,P.key,P.props,null,F.mode,G),Cl(G,P),G.return=F,G;case f:return P=Am(P,F.mode,G),P.return=F,P;case T:var ee=P._init;return P=ee(P._payload),ae(F,P,G)}if(W(P)||L(P))return P=Gs(P,F.mode,G,null),P.return=F,P;if(typeof P.then=="function")return ae(F,Mu(P),G);if(P.$$typeof===_)return ae(F,Qu(F,P),G);Pu(F,P)}return null}function Y(F,P,G,ee){var he=P!==null?P.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return he!==null?null:R(F,P,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case u:return G.key===he?k(F,P,G,ee):null;case f:return G.key===he?U(F,P,G,ee):null;case T:return he=G._init,G=he(G._payload),Y(F,P,G,ee)}if(W(G)||L(G))return he!==null?null:Z(F,P,G,ee,null);if(typeof G.then=="function")return Y(F,P,Mu(G),ee);if(G.$$typeof===_)return Y(F,P,Qu(F,G),ee);Pu(F,G)}return null}function Q(F,P,G,ee,he){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return F=F.get(G)||null,R(P,F,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case u:return F=F.get(ee.key===null?G:ee.key)||null,k(P,F,ee,he);case f:return F=F.get(ee.key===null?G:ee.key)||null,U(P,F,ee,he);case T:var ke=ee._init;return ee=ke(ee._payload),Q(F,P,G,ee,he)}if(W(ee)||L(ee))return F=F.get(G)||null,Z(P,F,ee,he,null);if(typeof ee.then=="function")return Q(F,P,G,Mu(ee),he);if(ee.$$typeof===_)return Q(F,P,G,Qu(P,ee),he);Pu(P,ee)}return null}function ve(F,P,G,ee){for(var he=null,ke=null,xe=P,_e=P=0,At=null;xe!==null&&_e<G.length;_e++){xe.index>_e?(At=xe,xe=null):At=xe.sibling;var qe=Y(F,xe,G[_e],ee);if(qe===null){xe===null&&(xe=At);break}r&&xe&&qe.alternate===null&&s(F,xe),P=g(qe,P,_e),ke===null?he=qe:ke.sibling=qe,ke=qe,xe=At}if(_e===G.length)return o(F,xe),He&&Ms(F,_e),he;if(xe===null){for(;_e<G.length;_e++)xe=ae(F,G[_e],ee),xe!==null&&(P=g(xe,P,_e),ke===null?he=xe:ke.sibling=xe,ke=xe);return He&&Ms(F,_e),he}for(xe=c(xe);_e<G.length;_e++)At=Q(xe,F,_e,G[_e],ee),At!==null&&(r&&At.alternate!==null&&xe.delete(At.key===null?_e:At.key),P=g(At,P,_e),ke===null?he=At:ke.sibling=At,ke=At);return r&&xe.forEach(function($a){return s(F,$a)}),He&&Ms(F,_e),he}function Te(F,P,G,ee){if(G==null)throw Error(a(151));for(var he=null,ke=null,xe=P,_e=P=0,At=null,qe=G.next();xe!==null&&!qe.done;_e++,qe=G.next()){xe.index>_e?(At=xe,xe=null):At=xe.sibling;var $a=Y(F,xe,qe.value,ee);if($a===null){xe===null&&(xe=At);break}r&&xe&&$a.alternate===null&&s(F,xe),P=g($a,P,_e),ke===null?he=$a:ke.sibling=$a,ke=$a,xe=At}if(qe.done)return o(F,xe),He&&Ms(F,_e),he;if(xe===null){for(;!qe.done;_e++,qe=G.next())qe=ae(F,qe.value,ee),qe!==null&&(P=g(qe,P,_e),ke===null?he=qe:ke.sibling=qe,ke=qe);return He&&Ms(F,_e),he}for(xe=c(xe);!qe.done;_e++,qe=G.next())qe=Q(xe,F,_e,qe.value,ee),qe!==null&&(r&&qe.alternate!==null&&xe.delete(qe.key===null?_e:qe.key),P=g(qe,P,_e),ke===null?he=qe:ke.sibling=qe,ke=qe);return r&&xe.forEach(function(dA){return s(F,dA)}),He&&Ms(F,_e),he}function dt(F,P,G,ee){if(typeof G=="object"&&G!==null&&G.type===m&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case u:e:{for(var he=G.key;P!==null;){if(P.key===he){if(he=G.type,he===m){if(P.tag===7){o(F,P.sibling),ee=h(P,G.props.children),ee.return=F,F=ee;break e}}else if(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===T&&qb(he)===P.type){o(F,P.sibling),ee=h(P,G.props),Cl(ee,G),ee.return=F,F=ee;break e}o(F,P);break}else s(F,P);P=P.sibling}G.type===m?(ee=Gs(G.props.children,F.mode,ee,G.key),ee.return=F,F=ee):(ee=ed(G.type,G.key,G.props,null,F.mode,ee),Cl(ee,G),ee.return=F,F=ee)}return E(F);case f:e:{for(he=G.key;P!==null;){if(P.key===he)if(P.tag===4&&P.stateNode.containerInfo===G.containerInfo&&P.stateNode.implementation===G.implementation){o(F,P.sibling),ee=h(P,G.children||[]),ee.return=F,F=ee;break e}else{o(F,P);break}else s(F,P);P=P.sibling}ee=Am(G,F.mode,ee),ee.return=F,F=ee}return E(F);case T:return he=G._init,G=he(G._payload),dt(F,P,G,ee)}if(W(G))return ve(F,P,G,ee);if(L(G)){if(he=L(G),typeof he!="function")throw Error(a(150));return G=he.call(G),Te(F,P,G,ee)}if(typeof G.then=="function")return dt(F,P,Mu(G),ee);if(G.$$typeof===_)return dt(F,P,Qu(F,G),ee);Pu(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,P!==null&&P.tag===6?(o(F,P.sibling),ee=h(P,G),ee.return=F,F=ee):(o(F,P),ee=Dm(G,F.mode,ee),ee.return=F,F=ee),E(F)):o(F,P)}return function(F,P,G,ee){try{Sl=0;var he=dt(F,P,G,ee);return zi=null,he}catch(xe){if(xe===wl)throw xe;var ke=Hn(29,xe,null,F.mode);return ke.lanes=ee,ke.return=F,ke}finally{}}}var Ls=Vb(!0),$b=Vb(!1),Fi=fe(null),Lu=fe(0);function Gb(r,s){r=Jr,Ne(Lu,r),Ne(Fi,s),Jr=r|s.baseLanes}function Ph(){Ne(Lu,Jr),Ne(Fi,Fi.current)}function Lh(){Jr=Lu.current,Ce(Fi),Ce(Lu)}var Bn=fe(null),wr=null;function Ta(r){var s=r.alternate;Ne(xt,xt.current&1),Ne(Bn,r),wr===null&&(s===null||Fi.current!==null||s.memoizedState!==null)&&(wr=r)}function Yb(r){if(r.tag===22){if(Ne(xt,xt.current),Ne(Bn,r),wr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(wr=r)}}else Ra()}function Ra(){Ne(xt,xt.current),Ne(Bn,Bn.current)}function qr(r){Ce(Bn),wr===r&&(wr=null),Ce(xt)}var xt=fe(0);function Uu(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ZR=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},JR=t.unstable_scheduleCallback,eD=t.unstable_NormalPriority,_t={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uh(){return{controller:new ZR,data:new Map,refCount:0}}function Nl(r){r.refCount--,r.refCount===0&&JR(eD,function(){r.controller.abort()})}var Tl=null,Bh=0,Hi=0,qi=null;function tD(r,s){if(Tl===null){var o=Tl=[];Bh=0,Hi=$m(),qi={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Bh++,s.then(Wb,Wb),s}function Wb(){if(--Bh===0&&Tl!==null){qi!==null&&(qi.status="fulfilled");var r=Tl;Tl=null,Hi=0,qi=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function nD(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var Kb=B.S;B.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&tD(r,s),Kb!==null&&Kb(r,s)};var Us=fe(null);function zh(){var r=Us.current;return r!==null?r:Ze.pooledCache}function Bu(r,s){s===null?Ne(Us,Us.current):Ne(Us,s.pool)}function Xb(){var r=zh();return r===null?null:{parent:_t._currentValue,pool:r}}var Da=0,De=null,We=null,yt=null,zu=!1,Vi=!1,Bs=!1,Fu=0,Rl=0,$i=null,rD=0;function mt(){throw Error(a(321))}function Fh(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!yn(r[o],s[o]))return!1;return!0}function Hh(r,s,o,c,h,g){return Da=g,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=r===null||r.memoizedState===null?zs:Aa,Bs=!1,g=o(c,h),Bs=!1,Vi&&(g=Zb(s,o,c,h)),Qb(r),g}function Qb(r){B.H=Er;var s=We!==null&&We.next!==null;if(Da=0,yt=We=De=null,zu=!1,Rl=0,$i=null,s)throw Error(a(300));r===null||Rt||(r=r.dependencies,r!==null&&Xu(r)&&(Rt=!0))}function Zb(r,s,o,c){De=r;var h=0;do{if(Vi&&($i=null),Rl=0,Vi=!1,25<=h)throw Error(a(301));if(h+=1,yt=We=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=Fs,g=s(o,c)}while(Vi);return g}function aD(){var r=B.H,s=r.useState()[0];return s=typeof s.then=="function"?Dl(s):s,r=r.useState()[0],(We!==null?We.memoizedState:null)!==r&&(De.flags|=1024),s}function qh(){var r=Fu!==0;return Fu=0,r}function Vh(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function $h(r){if(zu){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}zu=!1}Da=0,yt=We=De=null,Vi=!1,Rl=Fu=0,$i=null}function ln(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?De.memoizedState=yt=r:yt=yt.next=r,yt}function vt(){if(We===null){var r=De.alternate;r=r!==null?r.memoizedState:null}else r=We.next;var s=yt===null?De.memoizedState:yt.next;if(s!==null)yt=s,We=r;else{if(r===null)throw De.alternate===null?Error(a(467)):Error(a(310));We=r,r={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},yt===null?De.memoizedState=yt=r:yt=yt.next=r}return yt}var Hu;Hu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Dl(r){var s=Rl;return Rl+=1,$i===null&&($i=[]),r=Fb($i,r,s),s=De,(yt===null?s.memoizedState:yt.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?zs:Aa),r}function qu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Dl(r);if(r.$$typeof===_)return $t(r)}throw Error(a(438,String(r)))}function Gh(r){var s=null,o=De.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Hu(),De.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=M;return s.index++,o}function Vr(r,s){return typeof s=="function"?s(r):s}function Vu(r){var s=vt();return Yh(s,We,r)}function Yh(r,s,o){var c=r.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var h=r.baseQueue,g=c.pending;if(g!==null){if(h!==null){var E=h.next;h.next=g.next,g.next=E}s.baseQueue=h=g,c.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{s=h.next;var R=E=null,k=null,U=s,Z=!1;do{var ae=U.lane&-536870913;if(ae!==U.lane?(Fe&ae)===ae:(Da&ae)===ae){var Y=U.revertLane;if(Y===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ae===Hi&&(Z=!0);else if((Da&Y)===Y){U=U.next,Y===Hi&&(Z=!0);continue}else ae={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},k===null?(R=k=ae,E=g):k=k.next=ae,De.lanes|=Y,Ba|=Y;ae=U.action,Bs&&o(g,ae),g=U.hasEagerState?U.eagerState:o(g,ae)}else Y={lane:ae,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},k===null?(R=k=Y,E=g):k=k.next=Y,De.lanes|=ae,Ba|=ae;U=U.next}while(U!==null&&U!==s);if(k===null?E=g:k.next=R,!yn(g,r.memoizedState)&&(Rt=!0,Z&&(o=qi,o!==null)))throw o;r.memoizedState=g,r.baseState=E,r.baseQueue=k,c.lastRenderedState=g}return h===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Wh(r){var s=vt(),o=s.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var c=o.dispatch,h=o.pending,g=s.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do g=r(g,E.action),E=E.next;while(E!==h);yn(g,s.memoizedState)||(Rt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function Jb(r,s,o){var c=De,h=vt(),g=He;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=s();var E=!yn((We||h).memoizedState,o);if(E&&(h.memoizedState=o,Rt=!0),h=h.queue,Qh(n0.bind(null,c,h,r),[r]),h.getSnapshot!==s||E||yt!==null&&yt.memoizedState.tag&1){if(c.flags|=2048,Gi(9,t0.bind(null,c,h,o,s),{destroy:void 0},null),Ze===null)throw Error(a(349));g||(Da&60)!==0||e0(c,s,o)}return o}function e0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=De.updateQueue,s===null?(s=Hu(),De.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function t0(r,s,o,c){s.value=o,s.getSnapshot=c,r0(s)&&a0(r)}function n0(r,s,o){return o(function(){r0(s)&&a0(r)})}function r0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!yn(r,o)}catch{return!0}}function a0(r){var s=Na(r,2);s!==null&&Zt(s,r,2)}function Kh(r){var s=ln();if(typeof r=="function"){var o=r;if(r=o(),Bs){tr(!0);try{o()}finally{tr(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:r},s}function s0(r,s,o,c){return r.baseState=o,Yh(r,We,typeof c=="function"?c:Vr)}function sD(r,s,o,c,h){if(Yu(r))throw Error(a(485));if(r=s.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};B.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,i0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function i0(r,s){var o=s.action,c=s.payload,h=r.state;if(s.isTransition){var g=B.T,E={};B.T=E;try{var R=o(h,c),k=B.S;k!==null&&k(E,R),o0(r,s,R)}catch(U){Xh(r,s,U)}finally{B.T=g}}else try{g=o(h,c),o0(r,s,g)}catch(U){Xh(r,s,U)}}function o0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){l0(r,s,c)},function(c){return Xh(r,s,c)}):l0(r,s,o)}function l0(r,s,o){s.status="fulfilled",s.value=o,c0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,i0(r,o)))}function Xh(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,c0(s),s=s.next;while(s!==c)}r.action=null}function c0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function u0(r,s){return s}function d0(r,s){if(He){var o=Ze.formState;if(o!==null){e:{var c=De;if(He){if(Pt){t:{for(var h=Pt,g=_r;h.nodeType!==8;){if(!g){h=null;break t}if(h=sr(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Pt=sr(h.nextSibling),c=h.data==="F!";break e}}Ps(c)}c=!1}c&&(s=o[0])}}return o=ln(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u0,lastRenderedState:s},o.queue=c,o=D0.bind(null,De,c),c.dispatch=o,c=Kh(!1),g=nm.bind(null,De,!1,c.queue),c=ln(),h={state:s,dispatch:null,action:r,pending:null},c.queue=h,o=sD.bind(null,De,h,g,o),h.dispatch=o,c.memoizedState=r,[s,o,!1]}function f0(r){var s=vt();return h0(s,We,r)}function h0(r,s,o){s=Yh(r,s,u0)[0],r=Vu(Vr)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Dl(s):s;var c=vt(),h=c.queue,g=h.dispatch;return o!==c.memoizedState&&(De.flags|=2048,Gi(9,iD.bind(null,h,o),{destroy:void 0},null)),[s,g,r]}function iD(r,s){r.action=s}function m0(r){var s=vt(),o=We;if(o!==null)return h0(s,o,r);vt(),s=s.memoizedState,o=vt();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Gi(r,s,o,c){return r={tag:r,create:s,inst:o,deps:c,next:null},s=De.updateQueue,s===null&&(s=Hu(),De.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function p0(){return vt().memoizedState}function $u(r,s,o,c){var h=ln();De.flags|=r,h.memoizedState=Gi(1|s,o,{destroy:void 0},c===void 0?null:c)}function Gu(r,s,o,c){var h=vt();c=c===void 0?null:c;var g=h.memoizedState.inst;We!==null&&c!==null&&Fh(c,We.memoizedState.deps)?h.memoizedState=Gi(s,o,g,c):(De.flags|=r,h.memoizedState=Gi(1|s,o,g,c))}function g0(r,s){$u(8390656,8,r,s)}function Qh(r,s){Gu(2048,8,r,s)}function y0(r,s){return Gu(4,2,r,s)}function v0(r,s){return Gu(4,4,r,s)}function b0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function x0(r,s,o){o=o!=null?o.concat([r]):null,Gu(4,4,b0.bind(null,s,r),o)}function Zh(){}function _0(r,s){var o=vt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Fh(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function w0(r,s){var o=vt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Fh(s,c[1]))return c[0];if(c=r(),Bs){tr(!0);try{r()}finally{tr(!1)}}return o.memoizedState=[c,s],c}function Jh(r,s,o){return o===void 0||(Da&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Sx(),De.lanes|=r,Ba|=r,o)}function E0(r,s,o,c){return yn(o,s)?o:Fi.current!==null?(r=Jh(r,o,c),yn(r,s)||(Rt=!0),r):(Da&42)===0?(Rt=!0,r.memoizedState=o):(r=Sx(),De.lanes|=r,Ba|=r,s)}function S0(r,s,o,c,h){var g=K.p;K.p=g!==0&&8>g?g:8;var E=B.T,R={};B.T=R,nm(r,!1,s,o);try{var k=h(),U=B.S;if(U!==null&&U(R,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Z=nD(k,c);Al(r,s,Z,_n(r))}else Al(r,s,c,_n(r))}catch(ae){Al(r,s,{then:function(){},status:"rejected",reason:ae},_n())}finally{K.p=g,B.T=E}}function oD(){}function em(r,s,o,c){if(r.tag!==5)throw Error(a(476));var h=C0(r).queue;S0(r,h,s,se,o===null?oD:function(){return N0(r),o(c)})}function C0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:se},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function N0(r){var s=C0(r).next.queue;Al(r,s,{},_n())}function tm(){return $t(Xl)}function T0(){return vt().memoizedState}function R0(){return vt().memoizedState}function lD(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=_n();r=ka(o);var c=ja(s,r,o);c!==null&&(Zt(c,s,o),kl(c,s,o)),s={cache:Uh()},r.payload=s;return}s=s.return}}function cD(r,s,o){var c=_n();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(r)?A0(s,o):(o=Ih(r,s,o,c),o!==null&&(Zt(o,r,c),I0(o,s,c)))}function D0(r,s,o){var c=_n();Al(r,s,o,c)}function Al(r,s,o,c){var h={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Yu(r))A0(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,R=g(E,o);if(h.hasEagerState=!0,h.eagerState=R,yn(R,E))return Au(r,s,h,0),Ze===null&&Du(),!1}catch{}finally{}if(o=Ih(r,s,h,c),o!==null)return Zt(o,r,c),I0(o,s,c),!0}return!1}function nm(r,s,o,c){if(c={lane:2,revertLane:$m(),action:c,hasEagerState:!1,eagerState:null,next:null},Yu(r)){if(s)throw Error(a(479))}else s=Ih(r,o,c,2),s!==null&&Zt(s,r,2)}function Yu(r){var s=r.alternate;return r===De||s!==null&&s===De}function A0(r,s){Vi=zu=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function I0(r,s,o){if((o&4194176)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,ol(r,o)}}var Er={readContext:$t,use:qu,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt};Er.useCacheRefresh=mt,Er.useMemoCache=mt,Er.useHostTransitionStatus=mt,Er.useFormState=mt,Er.useActionState=mt,Er.useOptimistic=mt;var zs={readContext:$t,use:qu,useCallback:function(r,s){return ln().memoizedState=[r,s===void 0?null:s],r},useContext:$t,useEffect:g0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,$u(4194308,4,b0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return $u(4194308,4,r,s)},useInsertionEffect:function(r,s){$u(4,2,r,s)},useMemo:function(r,s){var o=ln();s=s===void 0?null:s;var c=r();if(Bs){tr(!0);try{r()}finally{tr(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=ln();if(o!==void 0){var h=o(s);if(Bs){tr(!0);try{o(s)}finally{tr(!1)}}}else h=s;return c.memoizedState=c.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},c.queue=r,r=r.dispatch=cD.bind(null,De,r),[c.memoizedState,r]},useRef:function(r){var s=ln();return r={current:r},s.memoizedState=r},useState:function(r){r=Kh(r);var s=r.queue,o=D0.bind(null,De,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Zh,useDeferredValue:function(r,s){var o=ln();return Jh(o,r,s)},useTransition:function(){var r=Kh(!1);return r=S0.bind(null,De,r.queue,!0,!1),ln().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=De,h=ln();if(He){if(o===void 0)throw Error(a(407));o=o()}else{if(o=s(),Ze===null)throw Error(a(349));(Fe&60)!==0||e0(c,s,o)}h.memoizedState=o;var g={value:o,getSnapshot:s};return h.queue=g,g0(n0.bind(null,c,g,r),[r]),c.flags|=2048,Gi(9,t0.bind(null,c,g,o,s),{destroy:void 0},null),o},useId:function(){var r=ln(),s=Ze.identifierPrefix;if(He){var o=Hr,c=Fr;o=(c&~(1<<32-Kt(c)-1)).toString(32)+o,s=":"+s+"R"+o,o=Fu++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=rD++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return ln().memoizedState=lD.bind(null,De)}};zs.useMemoCache=Gh,zs.useHostTransitionStatus=tm,zs.useFormState=d0,zs.useActionState=d0,zs.useOptimistic=function(r){var s=ln();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=nm.bind(null,De,!0,o),o.dispatch=s,[r,s]};var Aa={readContext:$t,use:qu,useCallback:_0,useContext:$t,useEffect:Qh,useImperativeHandle:x0,useInsertionEffect:y0,useLayoutEffect:v0,useMemo:w0,useReducer:Vu,useRef:p0,useState:function(){return Vu(Vr)},useDebugValue:Zh,useDeferredValue:function(r,s){var o=vt();return E0(o,We.memoizedState,r,s)},useTransition:function(){var r=Vu(Vr)[0],s=vt().memoizedState;return[typeof r=="boolean"?r:Dl(r),s]},useSyncExternalStore:Jb,useId:T0};Aa.useCacheRefresh=R0,Aa.useMemoCache=Gh,Aa.useHostTransitionStatus=tm,Aa.useFormState=f0,Aa.useActionState=f0,Aa.useOptimistic=function(r,s){var o=vt();return s0(o,We,r,s)};var Fs={readContext:$t,use:qu,useCallback:_0,useContext:$t,useEffect:Qh,useImperativeHandle:x0,useInsertionEffect:y0,useLayoutEffect:v0,useMemo:w0,useReducer:Wh,useRef:p0,useState:function(){return Wh(Vr)},useDebugValue:Zh,useDeferredValue:function(r,s){var o=vt();return We===null?Jh(o,r,s):E0(o,We.memoizedState,r,s)},useTransition:function(){var r=Wh(Vr)[0],s=vt().memoizedState;return[typeof r=="boolean"?r:Dl(r),s]},useSyncExternalStore:Jb,useId:T0};Fs.useCacheRefresh=R0,Fs.useMemoCache=Gh,Fs.useHostTransitionStatus=tm,Fs.useFormState=m0,Fs.useActionState=m0,Fs.useOptimistic=function(r,s){var o=vt();return We!==null?s0(o,We,r,s):(o.baseState=r,[r,o.queue.dispatch])};function rm(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:V({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var am={isMounted:function(r){return(r=r._reactInternals)?J(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var c=_n(),h=ka(c);h.payload=s,o!=null&&(h.callback=o),s=ja(r,h,c),s!==null&&(Zt(s,r,c),kl(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=_n(),h=ka(c);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=ja(r,h,c),s!==null&&(Zt(s,r,c),kl(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=_n(),c=ka(o);c.tag=2,s!=null&&(c.callback=s),s=ja(r,c,o),s!==null&&(Zt(s,r,o),kl(s,r,o))}};function O0(r,s,o,c,h,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,E):s.prototype&&s.prototype.isPureReactComponent?!yl(o,c)||!yl(h,g):!0}function k0(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&am.enqueueReplaceState(s,s.state,null)}function Hs(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=V({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Wu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function j0(r){Wu(r)}function M0(r){console.error(r)}function P0(r){Wu(r)}function Ku(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function L0(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sm(r,s,o){return o=ka(o),o.tag=3,o.payload={element:null},o.callback=function(){Ku(r,s)},o}function U0(r){return r=ka(r),r.tag=3,r}function B0(r,s,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=c.value;r.payload=function(){return h(g)},r.callback=function(){L0(s,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){L0(s,o,c),typeof h!="function"&&(za===null?za=new Set([this]):za.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function uD(r,s,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Ol(s,o,h,!0),o=Bn.current,o!==null){switch(o.tag){case 13:return wr===null?zm():o.alternate===null&&ut===0&&(ut=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===Mh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Hm(r,c,h)),!1;case 22:return o.flags|=65536,c===Mh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Hm(r,c,h)),!1}throw Error(a(435,o.tag))}return Hm(r,c,h),zm(),!1}if(He)return s=Bn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,c!==jh&&(r=Error(a(422),{cause:c}),_l(Pn(r,o)))):(c!==jh&&(s=Error(a(423),{cause:c}),_l(Pn(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,c=Pn(c,o),h=sm(r.stateNode,c,h),xm(r,h),ut!==4&&(ut=2)),!1;var g=Error(a(520),{cause:c});if(g=Pn(g,o),Fl===null?Fl=[g]:Fl.push(g),ut!==4&&(ut=2),s===null)return!0;c=Pn(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=sm(o.stateNode,c,r),xm(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(za===null||!za.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=U0(h),B0(h,r,o,c),xm(o,h),!1}o=o.return}while(o!==null);return!1}var z0=Error(a(461)),Rt=!1;function Lt(r,s,o,c){s.child=r===null?$b(s,null,o,c):Ls(s,r.child,o,c)}function F0(r,s,o,c,h){o=o.render;var g=s.ref;if("ref"in c){var E={};for(var R in c)R!=="ref"&&(E[R]=c[R])}else E=c;return Vs(s),c=Hh(r,s,o,E,g,h),R=qh(),r!==null&&!Rt?(Vh(r,s,h),$r(r,s,h)):(He&&R&&Oh(s),s.flags|=1,Lt(r,s,c,h),s.child)}function H0(r,s,o,c,h){if(r===null){var g=o.type;return typeof g=="function"&&!Rm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,q0(r,s,g,c,h)):(r=ed(o.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!mm(r,h)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:yl,o(E,c)&&r.ref===s.ref)return $r(r,s,h)}return s.flags|=1,r=Ua(g,c),r.ref=s.ref,r.return=s,s.child=r}function q0(r,s,o,c,h){if(r!==null){var g=r.memoizedProps;if(yl(g,c)&&r.ref===s.ref)if(Rt=!1,s.pendingProps=c=g,mm(r,h))(r.flags&131072)!==0&&(Rt=!0);else return s.lanes=r.lanes,$r(r,s,h)}return im(r,s,o,c,h)}function V0(r,s,o){var c=s.pendingProps,h=c.children,g=(s.stateNode._pendingVisibility&2)!==0,E=r!==null?r.memoizedState:null;if(Il(r,s),c.mode==="hidden"||g){if((s.flags&128)!==0){if(c=E!==null?E.baseLanes|o:o,r!==null){for(h=s.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return $0(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Bu(s,E!==null?E.cachePool:null),E!==null?Gb(s,E):Ph(),Yb(s);else return s.lanes=s.childLanes=536870912,$0(r,s,E!==null?E.baseLanes|o:o,o)}else E!==null?(Bu(s,E.cachePool),Gb(s,E),Ra(),s.memoizedState=null):(r!==null&&Bu(s,null),Ph(),Ra());return Lt(r,s,h,o),s.child}function $0(r,s,o,c){var h=zh();return h=h===null?null:{parent:_t._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&Bu(s,null),Ph(),Yb(s),r!==null&&Ol(r,s,c,!0),null}function Il(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function im(r,s,o,c,h){return Vs(s),o=Hh(r,s,o,c,void 0,h),c=qh(),r!==null&&!Rt?(Vh(r,s,h),$r(r,s,h)):(He&&c&&Oh(s),s.flags|=1,Lt(r,s,o,h),s.child)}function G0(r,s,o,c,h,g){return Vs(s),s.updateQueue=null,o=Zb(s,c,o,h),Qb(r),c=qh(),r!==null&&!Rt?(Vh(r,s,g),$r(r,s,g)):(He&&c&&Oh(s),s.flags|=1,Lt(r,s,o,g),s.child)}function Y0(r,s,o,c,h){if(Vs(s),s.stateNode===null){var g=Li,E=o.contextType;typeof E=="object"&&E!==null&&(g=$t(E)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=am,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},vm(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?$t(E):Li,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(rm(s,o,E,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&am.enqueueReplaceState(g,g.state,null),Ml(s,c,g,h),jl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){g=s.stateNode;var R=s.memoizedProps,k=Hs(o,R);g.props=k;var U=g.context,Z=o.contextType;E=Li,typeof Z=="object"&&Z!==null&&(E=$t(Z));var ae=o.getDerivedStateFromProps;Z=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||U!==E)&&k0(s,g,c,E),Oa=!1;var Y=s.memoizedState;g.state=Y,Ml(s,c,g,h),jl(),U=s.memoizedState,R||Y!==U||Oa?(typeof ae=="function"&&(rm(s,o,ae,c),U=s.memoizedState),(k=Oa||O0(s,o,k,c,Y,U,E))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=U),g.props=c,g.state=U,g.context=E,c=k):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,bm(r,s),E=s.memoizedProps,Z=Hs(o,E),g.props=Z,ae=s.pendingProps,Y=g.context,U=o.contextType,k=Li,typeof U=="object"&&U!==null&&(k=$t(U)),R=o.getDerivedStateFromProps,(U=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ae||Y!==k)&&k0(s,g,c,k),Oa=!1,Y=s.memoizedState,g.state=Y,Ml(s,c,g,h),jl();var Q=s.memoizedState;E!==ae||Y!==Q||Oa||r!==null&&r.dependencies!==null&&Xu(r.dependencies)?(typeof R=="function"&&(rm(s,o,R,c),Q=s.memoizedState),(Z=Oa||O0(s,o,Z,c,Y,Q,k)||r!==null&&r.dependencies!==null&&Xu(r.dependencies))?(U||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Q,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Q,k)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Q),g.props=c,g.state=Q,g.context=k,c=Z):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),c=!1)}return g=c,Il(r,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&c?(s.child=Ls(s,r.child,null,h),s.child=Ls(s,null,o,h)):Lt(r,s,o,h),s.memoizedState=g.state,r=s.child):r=$r(r,s,h),r}function W0(r,s,o,c){return xl(),s.flags|=256,Lt(r,s,o,c),s.child}var om={dehydrated:null,treeContext:null,retryLane:0};function lm(r){return{baseLanes:r,cachePool:Xb()}}function cm(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=qn),r}function K0(r,s,o){var c=s.pendingProps,h=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=r!==null&&r.memoizedState===null?!1:(xt.current&2)!==0),E&&(h=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(He){if(h?Ta(s):Ra(),He){var R=Pt,k;if(k=R){e:{for(k=R,R=_r;k.nodeType!==8;){if(!R){R=null;break e}if(k=sr(k.nextSibling),k===null){R=null;break e}}R=k}R!==null?(s.memoizedState={dehydrated:R,treeContext:js!==null?{id:Fr,overflow:Hr}:null,retryLane:536870912},k=Hn(18,null,null,0),k.stateNode=R,k.return=s,s.child=k,Qt=s,Pt=null,k=!0):k=!1}k||Ps(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?s.lanes=16:s.lanes=536870912,null;qr(s)}return R=c.children,c=c.fallback,h?(Ra(),h=s.mode,R=dm({mode:"hidden",children:R},h),c=Gs(c,h,o,null),R.return=s,c.return=s,R.sibling=c,s.child=R,h=s.child,h.memoizedState=lm(o),h.childLanes=cm(r,E,o),s.memoizedState=om,c):(Ta(s),um(s,R))}if(k=r.memoizedState,k!==null&&(R=k.dehydrated,R!==null)){if(g)s.flags&256?(Ta(s),s.flags&=-257,s=fm(r,s,o)):s.memoizedState!==null?(Ra(),s.child=r.child,s.flags|=128,s=null):(Ra(),h=c.fallback,R=s.mode,c=dm({mode:"visible",children:c.children},R),h=Gs(h,R,o,null),h.flags|=2,c.return=s,h.return=s,c.sibling=h,s.child=c,Ls(s,r.child,null,o),c=s.child,c.memoizedState=lm(o),c.childLanes=cm(r,E,o),s.memoizedState=om,s=h);else if(Ta(s),R.data==="$!"){if(E=R.nextSibling&&R.nextSibling.dataset,E)var U=E.dgst;E=U,c=Error(a(419)),c.stack="",c.digest=E,_l({value:c,source:null,stack:null}),s=fm(r,s,o)}else if(Rt||Ol(r,s,o,!1),E=(o&r.childLanes)!==0,Rt||E){if(E=Ze,E!==null){if(c=o&-o,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(E.suspendedLanes|o))!==0?0:c,c!==0&&c!==k.retryLane)throw k.retryLane=c,Na(r,c),Zt(E,r,c),z0}R.data==="$?"||zm(),s=fm(r,s,o)}else R.data==="$?"?(s.flags|=128,s.child=r.child,s=CD.bind(null,r),R._reactRetry=s,s=null):(r=k.treeContext,Pt=sr(R.nextSibling),Qt=s,He=!0,rr=null,_r=!1,r!==null&&(Ln[Un++]=Fr,Ln[Un++]=Hr,Ln[Un++]=js,Fr=r.id,Hr=r.overflow,js=s),s=um(s,c.children),s.flags|=4096);return s}return h?(Ra(),h=c.fallback,R=s.mode,k=r.child,U=k.sibling,c=Ua(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&31457280,U!==null?h=Ua(U,h):(h=Gs(h,R,o,null),h.flags|=2),h.return=s,c.return=s,c.sibling=h,s.child=c,c=h,h=s.child,R=r.child.memoizedState,R===null?R=lm(o):(k=R.cachePool,k!==null?(U=_t._currentValue,k=k.parent!==U?{parent:U,pool:U}:k):k=Xb(),R={baseLanes:R.baseLanes|o,cachePool:k}),h.memoizedState=R,h.childLanes=cm(r,E,o),s.memoizedState=om,c):(Ta(s),o=r.child,r=o.sibling,o=Ua(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=o,s.memoizedState=null,o)}function um(r,s){return s=dm({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function dm(r,s){return _x(r,s,0,null)}function fm(r,s,o){return Ls(s,r.child,null,o),r=um(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function X0(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),gm(r.return,s,o)}function hm(r,s,o,c,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=h)}function Q0(r,s,o){var c=s.pendingProps,h=c.revealOrder,g=c.tail;if(Lt(r,s,c.children,o),c=xt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&X0(r,o,s);else if(r.tag===19)X0(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(Ne(xt,c),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&Uu(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),hm(s,!1,h,o,g);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Uu(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}hm(s,!0,o,null,g);break;case"together":hm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function $r(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Ba|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Ol(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,o=Ua(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ua(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function mm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Xu(r)))}function dD(r,s,o){switch(s.tag){case 3:_a(s,s.stateNode.containerInfo),Ia(s,_t,r.memoizedState.cache),xl();break;case 27:case 5:er(s);break;case 4:_a(s,s.stateNode.containerInfo);break;case 10:Ia(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ta(s),s.flags|=128,null):(o&s.child.childLanes)!==0?K0(r,s,o):(Ta(s),r=$r(r,s,o),r!==null?r.sibling:null);Ta(s);break;case 19:var h=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Ol(r,s,o,!1),c=(o&s.childLanes)!==0),h){if(c)return Q0(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ne(xt,xt.current),c)break;return null;case 22:case 23:return s.lanes=0,V0(r,s,o);case 24:Ia(s,_t,r.memoizedState.cache)}return $r(r,s,o)}function Z0(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Rt=!0;else{if(!mm(r,o)&&(s.flags&128)===0)return Rt=!1,dD(r,s,o);Rt=(r.flags&131072)!==0}else Rt=!1,He&&(s.flags&1048576)!==0&&Pb(s,ku,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,h=c._init;if(c=h(c._payload),s.type=c,typeof c=="function")Rm(c)?(r=Hs(c,r),s.tag=1,s=Y0(null,s,c,r,o)):(s.tag=0,s=im(null,s,c,r,o));else{if(c!=null){if(h=c.$$typeof,h===C){s.tag=11,s=F0(null,s,c,r,o);break e}else if(h===N){s.tag=14,s=H0(null,s,c,r,o);break e}}throw s=q(c)||c,Error(a(306,s,""))}}return s;case 0:return im(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,h=Hs(c,s.pendingProps),Y0(r,s,c,h,o);case 3:e:{if(_a(s,s.stateNode.containerInfo),r===null)throw Error(a(387));var g=s.pendingProps;h=s.memoizedState,c=h.element,bm(r,s),Ml(s,g,null,o);var E=s.memoizedState;if(g=E.cache,Ia(s,_t,g),g!==h.cache&&ym(s,[_t],o,!0),jl(),g=E.element,h.isDehydrated)if(h={element:g,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=W0(r,s,g,o);break e}else if(g!==c){c=Pn(Error(a(424)),s),_l(c),s=W0(r,s,g,o);break e}else for(Pt=sr(s.stateNode.containerInfo.firstChild),Qt=s,He=!0,rr=null,_r=!0,o=$b(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(xl(),g===c){s=$r(r,s,o);break e}Lt(r,s,g,o)}s=s.child}return s;case 26:return Il(r,s),r===null?(o=t_(s.type,null,s.pendingProps,null))?s.memoizedState=o:He||(o=s.type,r=s.pendingProps,c=fd(Ht.current).createElement(o),c[Vt]=s,c[sn]=r,Ut(c,o,r),Tt(c),s.stateNode=c):s.memoizedState=t_(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return er(s),r===null&&He&&(c=s.stateNode=Zx(s.type,s.pendingProps,Ht.current),Qt=s,_r=!0,Pt=sr(c.firstChild)),c=s.pendingProps.children,r!==null||He?Lt(r,s,c,o):s.child=Ls(s,null,c,o),Il(r,s),s.child;case 5:return r===null&&He&&((h=c=Pt)&&(c=FD(c,s.type,s.pendingProps,_r),c!==null?(s.stateNode=c,Qt=s,Pt=sr(c.firstChild),_r=!1,h=!0):h=!1),h||Ps(s)),er(s),h=s.type,g=s.pendingProps,E=r!==null?r.memoizedProps:null,c=g.children,ep(h,g)?c=null:E!==null&&ep(h,E)&&(s.flags|=32),s.memoizedState!==null&&(h=Hh(r,s,aD,null,null,o),Xl._currentValue=h),Il(r,s),Lt(r,s,c,o),s.child;case 6:return r===null&&He&&((r=o=Pt)&&(o=HD(o,s.pendingProps,_r),o!==null?(s.stateNode=o,Qt=s,Pt=null,r=!0):r=!1),r||Ps(s)),null;case 13:return K0(r,s,o);case 4:return _a(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Ls(s,null,c,o):Lt(r,s,c,o),s.child;case 11:return F0(r,s,s.type,s.pendingProps,o);case 7:return Lt(r,s,s.pendingProps,o),s.child;case 8:return Lt(r,s,s.pendingProps.children,o),s.child;case 12:return Lt(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Ia(s,s.type,c.value),Lt(r,s,c.children,o),s.child;case 9:return h=s.type._context,c=s.pendingProps.children,Vs(s),h=$t(h),c=c(h),s.flags|=1,Lt(r,s,c,o),s.child;case 14:return H0(r,s,s.type,s.pendingProps,o);case 15:return q0(r,s,s.type,s.pendingProps,o);case 19:return Q0(r,s,o);case 22:return V0(r,s,o);case 24:return Vs(s),c=$t(_t),r===null?(h=zh(),h===null&&(h=Ze,g=Uh(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),s.memoizedState={parent:c,cache:h},vm(s),Ia(s,_t,h)):((r.lanes&o)!==0&&(bm(r,s),Ml(s,null,null,o),jl()),h=r.memoizedState,g=s.memoizedState,h.parent!==c?(h={parent:c,cache:c},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Ia(s,_t,c)):(c=g.cache,Ia(s,_t,c),c!==h.cache&&ym(s,[_t],o,!0))),Lt(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}var pm=fe(null),qs=null,Gr=null;function Ia(r,s,o){Ne(pm,s._currentValue),s._currentValue=o}function Yr(r){r._currentValue=pm.current,Ce(pm)}function gm(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function ym(r,s,o,c){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var E=h.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=h;for(var k=0;k<s.length;k++)if(R.context===s[k]){g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),gm(g.return,o,r),c||(E=null);break e}g=R.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(a(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),gm(E,o,r),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===r){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Ol(r,s,o,c){r=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var R=h.type;yn(h.pendingProps.value,E.value)||(r!==null?r.push(R):r=[R])}}else if(h===Zn.current){if(E=h.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(Xl):r=[Xl])}h=h.return}r!==null&&ym(s,r,o,c),s.flags|=262144}function Xu(r){for(r=r.firstContext;r!==null;){if(!yn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Vs(r){qs=r,Gr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function $t(r){return J0(qs,r)}function Qu(r,s){return qs===null&&Vs(r),J0(r,s)}function J0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Gr===null){if(r===null)throw Error(a(308));Gr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Gr=Gr.next=s;return o}var Oa=!1;function vm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ka(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ja(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(it&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,s=Iu(r),jb(r,null,o),s}return Au(r,c,s,o),Iu(r)}function kl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,ol(r,o)}}function xm(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?h=g=s:g=g.next=s}else h=g=s;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var _m=!1;function jl(){if(_m){var r=qi;if(r!==null)throw r}}function Ml(r,s,o,c){_m=!1;var h=r.updateQueue;Oa=!1;var g=h.firstBaseUpdate,E=h.lastBaseUpdate,R=h.shared.pending;if(R!==null){h.shared.pending=null;var k=R,U=k.next;k.next=null,E===null?g=U:E.next=U,E=k;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,R=Z.lastBaseUpdate,R!==E&&(R===null?Z.firstBaseUpdate=U:R.next=U,Z.lastBaseUpdate=k))}if(g!==null){var ae=h.baseState;E=0,Z=U=k=null,R=g;do{var Y=R.lane&-536870913,Q=Y!==R.lane;if(Q?(Fe&Y)===Y:(c&Y)===Y){Y!==0&&Y===Hi&&(_m=!0),Z!==null&&(Z=Z.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var ve=r,Te=R;Y=s;var dt=o;switch(Te.tag){case 1:if(ve=Te.payload,typeof ve=="function"){ae=ve.call(dt,ae,Y);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Te.payload,Y=typeof ve=="function"?ve.call(dt,ae,Y):ve,Y==null)break e;ae=V({},ae,Y);break e;case 2:Oa=!0}}Y=R.callback,Y!==null&&(r.flags|=64,Q&&(r.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Z===null?(U=Z=Q,k=ae):Z=Z.next=Q,E|=Y;if(R=R.next,R===null){if(R=h.shared.pending,R===null)break;Q=R,R=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);Z===null&&(k=ae),h.baseState=k,h.firstBaseUpdate=U,h.lastBaseUpdate=Z,g===null&&(h.shared.lanes=0),Ba|=E,r.lanes=E,r.memoizedState=ae}}function ex(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function tx(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)ex(o[r],s)}function Pl(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&r)===r){c=void 0;var g=o.create,E=o.inst;c=g(),E.destroy=c}o=o.next}while(o!==h)}}catch(R){Qe(s,s.return,R)}}function Ma(r,s,o){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&r)===r){var E=c.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,h=s;var k=o;try{R()}catch(U){Qe(h,k,U)}}}c=c.next}while(c!==g)}}catch(U){Qe(s,s.return,U)}}function nx(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{tx(s,o)}catch(c){Qe(r,r.return,c)}}}function rx(r,s,o){o.props=Hs(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){Qe(r,s,c)}}function $s(r,s){try{var o=r.ref;if(o!==null){var c=r.stateNode;switch(r.tag){case 26:case 27:case 5:var h=c;break;default:h=c}typeof o=="function"?r.refCleanup=o(h):o.current=h}}catch(g){Qe(r,s,g)}}function vn(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){Qe(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){Qe(r,s,h)}else o.current=null}function ax(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){Qe(r,r.return,h)}}function sx(r,s,o){try{var c=r.stateNode;PD(c,r.type,o,s),c[sn]=s}catch(h){Qe(r,r.return,h)}}function ix(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function wm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ix(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Em(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=dd));else if(c!==4&&c!==27&&(r=r.child,r!==null))for(Em(r,s,o),r=r.sibling;r!==null;)Em(r,s,o),r=r.sibling}function Zu(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&c!==27&&(r=r.child,r!==null))for(Zu(r,s,o),r=r.sibling;r!==null;)Zu(r,s,o),r=r.sibling}var Wr=!1,ct=!1,Sm=!1,ox=typeof WeakSet=="function"?WeakSet:Set,Dt=null,lx=!1;function fD(r,s){if(r=r.containerInfo,Zm=vd,r=Cb(r),Nh(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,R=-1,k=-1,U=0,Z=0,ae=r,Y=null;t:for(;;){for(var Q;ae!==o||h!==0&&ae.nodeType!==3||(R=E+h),ae!==g||c!==0&&ae.nodeType!==3||(k=E+c),ae.nodeType===3&&(E+=ae.nodeValue.length),(Q=ae.firstChild)!==null;)Y=ae,ae=Q;for(;;){if(ae===r)break t;if(Y===o&&++U===h&&(R=E),Y===g&&++Z===c&&(k=E),(Q=ae.nextSibling)!==null)break;ae=Y,Y=ae.parentNode}ae=Q}o=R===-1||k===-1?null:{start:R,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Jm={focusedElem:r,selectionRange:o},vd=!1,Dt=s;Dt!==null;)if(s=Dt,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Dt=r;else for(;Dt!==null;){switch(s=Dt,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,h=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var ve=Hs(o.type,h,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(ve,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Te){Qe(o,o.return,Te)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)rp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":rp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,Dt=r;break}Dt=s.return}return ve=lx,lx=!1,ve}function cx(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Xr(r,o),c&4&&Pl(5,o);break;case 1:if(Xr(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(R){Qe(o,o.return,R)}else{var h=Hs(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(R){Qe(o,o.return,R)}}c&64&&nx(o),c&512&&$s(o,o.return);break;case 3:if(Xr(r,o),c&64&&(c=o.updateQueue,c!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{tx(c,r)}catch(R){Qe(o,o.return,R)}}break;case 26:Xr(r,o),c&512&&$s(o,o.return);break;case 27:case 5:Xr(r,o),s===null&&c&4&&ax(o),c&512&&$s(o,o.return);break;case 12:Xr(r,o);break;case 13:Xr(r,o),c&4&&fx(r,o);break;case 22:if(h=o.memoizedState!==null||Wr,!h){s=s!==null&&s.memoizedState!==null||ct;var g=Wr,E=ct;Wr=h,(ct=s)&&!E?Pa(r,o,(o.subtreeFlags&8772)!==0):Xr(r,o),Wr=g,ct=E}c&512&&(o.memoizedProps.mode==="manual"?$s(o,o.return):vn(o,o.return));break;default:Xr(r,o)}}function ux(r){var s=r.alternate;s!==null&&(r.alternate=null,ux(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&uh(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var bt=null,bn=!1;function Kr(r,s,o){for(o=o.child;o!==null;)dx(r,s,o),o=o.sibling}function dx(r,s,o){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Cs,o)}catch{}switch(o.tag){case 26:ct||vn(o,s),Kr(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ct||vn(o,s);var c=bt,h=bn;for(bt=o.stateNode,Kr(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);uh(o),bt=c,bn=h;break;case 5:ct||vn(o,s);case 6:h=bt;var g=bn;if(bt=null,Kr(r,s,o),bt=h,bn=g,bt!==null)if(bn)try{r=bt,c=o.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)}catch(E){Qe(o,s,E)}else try{bt.removeChild(o.stateNode)}catch(E){Qe(o,s,E)}break;case 18:bt!==null&&(bn?(s=bt,o=o.stateNode,s.nodeType===8?np(s.parentNode,o):s.nodeType===1&&np(s,o),ec(s)):np(bt,o.stateNode));break;case 4:c=bt,h=bn,bt=o.stateNode.containerInfo,bn=!0,Kr(r,s,o),bt=c,bn=h;break;case 0:case 11:case 14:case 15:ct||Ma(2,o,s),ct||Ma(4,o,s),Kr(r,s,o);break;case 1:ct||(vn(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&rx(o,s,c)),Kr(r,s,o);break;case 21:Kr(r,s,o);break;case 22:ct||vn(o,s),ct=(c=ct)||o.memoizedState!==null,Kr(r,s,o),ct=c;break;default:Kr(r,s,o)}}function fx(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ec(r)}catch(o){Qe(s,s.return,o)}}function hD(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new ox),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new ox),s;default:throw Error(a(435,r.tag))}}function Cm(r,s){var o=hD(r);s.forEach(function(c){var h=ND.bind(null,r,c);o.has(c)||(o.add(c),c.then(h,h))})}function zn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],g=r,E=s,R=E;e:for(;R!==null;){switch(R.tag){case 27:case 5:bt=R.stateNode,bn=!1;break e;case 3:bt=R.stateNode.containerInfo,bn=!0;break e;case 4:bt=R.stateNode.containerInfo,bn=!0;break e}R=R.return}if(bt===null)throw Error(a(160));dx(g,E,h),bt=null,bn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)hx(s,r),s=s.sibling}var ar=null;function hx(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:zn(s,r),Fn(r),c&4&&(Ma(3,r,r.return),Pl(3,r),Ma(5,r,r.return));break;case 1:zn(s,r),Fn(r),c&512&&(ct||o===null||vn(o,o.return)),c&64&&Wr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=ar;if(zn(s,r),Fn(r),c&512&&(ct||o===null||vn(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":g=h.getElementsByTagName("title")[0],(!g||g[ll]||g[Vt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(c),h.head.insertBefore(g,h.querySelector("head > title"))),Ut(g,c,o),g[Vt]=r,Tt(g),c=g;break e;case"link":var E=a_("link","href",h).get(c+(o.href||""));if(E){for(var R=0;R<E.length;R++)if(g=E[R],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(R,1);break t}}g=h.createElement(c),Ut(g,c,o),h.head.appendChild(g);break;case"meta":if(E=a_("meta","content",h).get(c+(o.content||""))){for(R=0;R<E.length;R++)if(g=E[R],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(R,1);break t}}g=h.createElement(c),Ut(g,c,o),h.head.appendChild(g);break;default:throw Error(a(468,c))}g[Vt]=r,Tt(g),c=g}r.stateNode=c}else s_(h,r.type,r.stateNode);else r.stateNode=r_(h,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?s_(h,r.type,r.stateNode):r_(h,c,r.memoizedProps)):c===null&&r.stateNode!==null&&sx(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&r.alternate===null){h=r.stateNode,g=r.memoizedProps;try{for(var k=h.firstChild;k;){var U=k.nextSibling,Z=k.nodeName;k[ll]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&k.rel.toLowerCase()==="stylesheet"||h.removeChild(k),k=U}for(var ae=r.type,Y=h.attributes;Y.length;)h.removeAttributeNode(Y[0]);Ut(h,ae,g),h[Vt]=r,h[sn]=g}catch(ve){Qe(r,r.return,ve)}}case 5:if(zn(s,r),Fn(r),c&512&&(ct||o===null||vn(o,o.return)),r.flags&32){h=r.stateNode;try{Ai(h,"")}catch(ve){Qe(r,r.return,ve)}}c&4&&r.stateNode!=null&&(h=r.memoizedProps,sx(r,h,o!==null?o.memoizedProps:h)),c&1024&&(Sm=!0);break;case 6:if(zn(s,r),Fn(r),c&4){if(r.stateNode===null)throw Error(a(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(ve){Qe(r,r.return,ve)}}break;case 3:if(pd=null,h=ar,ar=hd(s.containerInfo),zn(s,r),ar=h,Fn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ec(s.containerInfo)}catch(ve){Qe(r,r.return,ve)}Sm&&(Sm=!1,mx(r));break;case 4:c=ar,ar=hd(r.stateNode.containerInfo),zn(s,r),Fn(r),ar=c;break;case 12:zn(s,r),Fn(r);break;case 13:zn(s,r),Fn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(jm=On()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Cm(r,c)));break;case 22:if(c&512&&(ct||o===null||vn(o,o.return)),k=r.memoizedState!==null,U=o!==null&&o.memoizedState!==null,Z=Wr,ae=ct,Wr=Z||k,ct=ae||U,zn(s,r),ct=ae,Wr=Z,Fn(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,c&8192&&(s._visibility=k?s._visibility&-2:s._visibility|1,k&&(s=Wr||ct,o===null||U||s||Yi(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){U=o=s;try{if(h=U.stateNode,k)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=U.stateNode,R=U.memoizedProps.style;var Q=R!=null&&R.hasOwnProperty("display")?R.display:null;E.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ve){Qe(U,U.return,ve)}}}else if(s.tag===6){if(o===null){U=s;try{U.stateNode.nodeValue=k?"":U.memoizedProps}catch(ve){Qe(U,U.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Cm(r,o))));break;case 19:zn(s,r),Fn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Cm(r,c)));break;case 21:break;default:zn(s,r),Fn(r)}}function Fn(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(ix(o)){var c=o;break e}o=o.return}throw Error(a(160))}switch(c.tag){case 27:var h=c.stateNode,g=wm(r);Zu(r,g,h);break;case 5:var E=c.stateNode;c.flags&32&&(Ai(E,""),c.flags&=-33);var R=wm(r);Zu(r,R,E);break;case 3:case 4:var k=c.stateNode.containerInfo,U=wm(r);Em(r,U,k);break;default:throw Error(a(161))}}}catch(Z){Qe(r,r.return,Z)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function mx(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;mx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Xr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)cx(r,s.alternate,s),s=s.sibling}function Yi(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ma(4,s,s.return),Yi(s);break;case 1:vn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&rx(s,s.return,o),Yi(s);break;case 26:case 27:case 5:vn(s,s.return),Yi(s);break;case 22:vn(s,s.return),s.memoizedState===null&&Yi(s);break;default:Yi(s)}r=r.sibling}}function Pa(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,h=r,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:Pa(h,g,o),Pl(4,g);break;case 1:if(Pa(h,g,o),c=g,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Qe(c,c.return,U)}if(c=g,h=c.updateQueue,h!==null){var R=c.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)ex(k[h],R)}catch(U){Qe(c,c.return,U)}}o&&E&64&&nx(g),$s(g,g.return);break;case 26:case 27:case 5:Pa(h,g,o),o&&c===null&&E&4&&ax(g),$s(g,g.return);break;case 12:Pa(h,g,o);break;case 13:Pa(h,g,o),o&&E&4&&fx(h,g);break;case 22:g.memoizedState===null&&Pa(h,g,o),$s(g,g.return);break;default:Pa(h,g,o)}s=s.sibling}}function Nm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Nl(o))}function Tm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Nl(r))}function La(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)px(r,s,o,c),s=s.sibling}function px(r,s,o,c){var h=s.flags;switch(s.tag){case 0:case 11:case 15:La(r,s,o,c),h&2048&&Pl(9,s);break;case 3:La(r,s,o,c),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Nl(r)));break;case 12:if(h&2048){La(r,s,o,c),r=s.stateNode;try{var g=s.memoizedProps,E=g.id,R=g.onPostCommit;typeof R=="function"&&R(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(k){Qe(s,s.return,k)}}else La(r,s,o,c);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?La(r,s,o,c):Ll(r,s):g._visibility&4?La(r,s,o,c):(g._visibility|=4,Wi(r,s,o,c,(s.subtreeFlags&10256)!==0)),h&2048&&Nm(s.alternate,s);break;case 24:La(r,s,o,c),h&2048&&Tm(s.alternate,s);break;default:La(r,s,o,c)}}function Wi(r,s,o,c,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,E=s,R=o,k=c,U=E.flags;switch(E.tag){case 0:case 11:case 15:Wi(g,E,R,k,h),Pl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&4?Wi(g,E,R,k,h):Ll(g,E):(Z._visibility|=4,Wi(g,E,R,k,h)),h&&U&2048&&Nm(E.alternate,E);break;case 24:Wi(g,E,R,k,h),h&&U&2048&&Tm(E.alternate,E);break;default:Wi(g,E,R,k,h)}s=s.sibling}}function Ll(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,h=c.flags;switch(c.tag){case 22:Ll(o,c),h&2048&&Nm(c.alternate,c);break;case 24:Ll(o,c),h&2048&&Tm(c.alternate,c);break;default:Ll(o,c)}s=s.sibling}}var Ul=8192;function Ki(r){if(r.subtreeFlags&Ul)for(r=r.child;r!==null;)gx(r),r=r.sibling}function gx(r){switch(r.tag){case 26:Ki(r),r.flags&Ul&&r.memoizedState!==null&&tA(ar,r.memoizedState,r.memoizedProps);break;case 5:Ki(r);break;case 3:case 4:var s=ar;ar=hd(r.stateNode.containerInfo),Ki(r),ar=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Ul,Ul=16777216,Ki(r),Ul=s):Ki(r));break;default:Ki(r)}}function yx(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Bl(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Dt=c,bx(c,r)}yx(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)vx(r),r=r.sibling}function vx(r){switch(r.tag){case 0:case 11:case 15:Bl(r),r.flags&2048&&Ma(9,r,r.return);break;case 3:Bl(r);break;case 12:Bl(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Ju(r)):Bl(r);break;default:Bl(r)}}function Ju(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Dt=c,bx(c,r)}yx(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ma(8,s,s.return),Ju(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Ju(s));break;default:Ju(s)}r=r.sibling}}function bx(r,s){for(;Dt!==null;){var o=Dt;switch(o.tag){case 0:case 11:case 15:Ma(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Nl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Dt=c;else e:for(o=r;Dt!==null;){c=Dt;var h=c.sibling,g=c.return;if(ux(c),c===o){Dt=null;break e}if(h!==null){h.return=g,Dt=h;break e}Dt=g}}}function mD(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(r,s,o,c){return new mD(r,s,o,c)}function Rm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ua(r,s){var o=r.alternate;return o===null?(o=Hn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function xx(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function ed(r,s,o,c,h,g){var E=0;if(c=r,typeof r=="function")Rm(r)&&(E=1);else if(typeof r=="string")E=JD(r,o,Yt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case m:return Gs(o.children,h,g,s);case p:E=8,h|=24;break;case v:return r=Hn(12,o,s,h|2),r.elementType=v,r.lanes=g,r;case x:return r=Hn(13,o,s,h),r.elementType=x,r.lanes=g,r;case S:return r=Hn(19,o,s,h),r.elementType=S,r.lanes=g,r;case D:return _x(o,h,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case y:case _:E=10;break e;case b:E=9;break e;case C:E=11;break e;case N:E=14;break e;case T:E=16,c=null;break e}E=29,o=Error(a(130,r===null?"null":typeof r,"")),c=null}return s=Hn(E,o,s,h),s.elementType=r,s.type=c,s.lanes=g,s}function Gs(r,s,o,c){return r=Hn(7,r,c,s),r.lanes=o,r}function _x(r,s,o,c){r=Hn(22,r,c,s),r.elementType=D,r.lanes=o;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=h._current;if(g===null)throw Error(a(456));if((h._pendingVisibility&2)===0){var E=Na(g,2);E!==null&&(h._pendingVisibility|=2,Zt(E,g,2))}},attach:function(){var g=h._current;if(g===null)throw Error(a(456));if((h._pendingVisibility&2)!==0){var E=Na(g,2);E!==null&&(h._pendingVisibility&=-3,Zt(E,g,2))}}};return r.stateNode=h,r}function Dm(r,s,o){return r=Hn(6,r,null,s),r.lanes=o,r}function Am(r,s,o){return s=Hn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Qr(r){r.flags|=4}function wx(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!i_(s)){if(s=Bn.current,s!==null&&((Fe&4194176)===Fe?wr!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||s!==wr))throw El=Mh,Bb;r.flags|=8192}}function td(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?gt():536870912,r.lanes|=s,Qi|=s)}function zl(r,s){if(!He)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function st(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&31457280,c|=h.flags&31457280,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function pD(r,s,o){var c=s.pendingProps;switch(kh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(s),null;case 1:return st(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Yr(_t),Jn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(bl(s)?Qr(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,rr!==null&&(Um(rr),rr=null))),st(s),null;case 26:return o=s.memoizedState,r===null?(Qr(s),o!==null?(st(s),wx(s,o)):(st(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Qr(s),st(s),wx(s,o)):(st(s),s.flags&=-16777217):(r.memoizedProps!==c&&Qr(s),st(s),s.flags&=-16777217),null;case 27:Lr(s),o=Ht.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Qr(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return st(s),null}r=Yt.current,bl(s)?Lb(s):(r=Zx(h,c,o),s.stateNode=r,Qr(s))}return st(s),null;case 5:if(Lr(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Qr(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return st(s),null}if(r=Yt.current,bl(s))Lb(s);else{switch(h=fd(Ht.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?h.createElement(o,{is:c.is}):h.createElement(o)}}r[Vt]=s,r[sn]=c;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(Ut(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Qr(s)}}return st(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Qr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(a(166));if(r=Ht.current,bl(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,h=Qt,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}r[Vt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Gx(r.nodeValue,o)),r||Ps(s)}else r=fd(r).createTextNode(c),r[Vt]=s,s.stateNode=r}return st(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=bl(s),c!==null&&c.dehydrated!==null){if(r===null){if(!h)throw Error(a(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Vt]=s}else xl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;st(s),h=!1}else rr!==null&&(Um(rr),rr=null),h=!0;if(!h)return s.flags&256?(qr(s),s):(qr(s),null)}if(qr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),td(s,s.updateQueue),st(s),null;case 4:return Jn(),r===null&&Km(s.stateNode.containerInfo),st(s),null;case 10:return Yr(s.type),st(s),null;case 19:if(Ce(xt),h=s.memoizedState,h===null)return st(s),null;if(c=(s.flags&128)!==0,g=h.rendering,g===null)if(c)zl(h,!1);else{if(ut!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=Uu(r),g!==null){for(s.flags|=128,zl(h,!1),r=g.updateQueue,s.updateQueue=r,td(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)xx(o,r),o=o.sibling;return Ne(xt,xt.current&1|2),s.child}r=r.sibling}h.tail!==null&&On()>nd&&(s.flags|=128,c=!0,zl(h,!1),s.lanes=4194304)}else{if(!c)if(r=Uu(g),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,td(s,r),zl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!He)return st(s),null}else 2*On()-h.renderingStartTime>nd&&o!==536870912&&(s.flags|=128,c=!0,zl(h,!1),s.lanes=4194304);h.isBackwards?(g.sibling=s.child,s.child=g):(r=h.last,r!==null?r.sibling=g:s.child=g,h.last=g)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=On(),s.sibling=null,r=xt.current,Ne(xt,c?r&1|2:r&1),s):(st(s),null);case 22:case 23:return qr(s),Lh(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(st(s),s.subtreeFlags&6&&(s.flags|=8192)):st(s),o=s.updateQueue,o!==null&&td(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&Ce(Us),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Yr(_t),st(s),null;case 25:return null}throw Error(a(156,s.tag))}function gD(r,s){switch(kh(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Yr(_t),Jn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Lr(s),null;case 13:if(qr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));xl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ce(xt),null;case 4:return Jn(),null;case 10:return Yr(s.type),null;case 22:case 23:return qr(s),Lh(),r!==null&&Ce(Us),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Yr(_t),null;case 25:return null;default:return null}}function Ex(r,s){switch(kh(s),s.tag){case 3:Yr(_t),Jn();break;case 26:case 27:case 5:Lr(s);break;case 4:Jn();break;case 13:qr(s);break;case 19:Ce(xt);break;case 10:Yr(s.type);break;case 22:case 23:qr(s),Lh(),r!==null&&Ce(Us);break;case 24:Yr(_t)}}var yD={getCacheForType:function(r){var s=$t(_t),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},vD=typeof WeakMap=="function"?WeakMap:Map,it=0,Ze=null,Pe=null,Fe=0,Je=0,xn=null,Zr=!1,Xi=!1,Im=!1,Jr=0,ut=0,Ba=0,Ys=0,Om=0,qn=0,Qi=0,Fl=null,Sr=null,km=!1,jm=0,nd=1/0,rd=null,za=null,ad=!1,Ws=null,Hl=0,Mm=0,Pm=null,ql=0,Lm=null;function _n(){if((it&2)!==0&&Fe!==0)return Fe&-Fe;if(B.T!==null){var r=Hi;return r!==0?r:$m()}return lh()}function Sx(){qn===0&&(qn=(Fe&536870912)===0||He?Rs():536870912);var r=Bn.current;return r!==null&&(r.flags|=32),qn}function Zt(r,s,o){(r===Ze&&Je===2||r.cancelPendingCommit!==null)&&(Zi(r,0),ea(r,Fe,qn,!1)),br(r,o),((it&2)===0||r!==Ze)&&(r===Ze&&((it&2)===0&&(Ys|=o),ut===4&&ea(r,Fe,qn,!1)),Cr(r))}function Cx(r,s,o){if((it&6)!==0)throw Error(a(327));var c=!o&&(s&60)===0&&(s&r.expiredLanes)===0||lt(r,s),h=c?_D(r,s):Fm(r,s,!0),g=c;do{if(h===0){Xi&&!c&&ea(r,s,0,!1);break}else if(h===6)ea(r,s,0,!Zr);else{if(o=r.current.alternate,g&&!bD(o)){h=Fm(r,s,!1),g=!1;continue}if(h===2){if(g=s,r.errorRecoveryDisabledLanes&g)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var R=r;h=Fl;var k=R.current.memoizedState.isDehydrated;if(k&&(Zi(R,E).flags|=256),E=Fm(R,E,!1),E!==2){if(Im&&!k){R.errorRecoveryDisabledLanes|=g,Ys|=g,h=4;break e}g=Sr,Sr=h,g!==null&&Um(g)}h=E}if(g=!1,h!==2)continue}}if(h===1){Zi(r,0),ea(r,s,0,!0);break}e:{switch(c=r,h){case 0:case 1:throw Error(a(345));case 4:if((s&4194176)===s){ea(c,s,qn,!Zr);break e}break;case 2:Sr=null;break;case 3:case 5:break;default:throw Error(a(329))}if(c.finishedWork=o,c.finishedLanes=s,(s&62914560)===s&&(g=jm+300-On(),10<g)){if(ea(c,s,qn,!Zr),at(c,0)!==0)break e;c.timeoutHandle=Kx(Nx.bind(null,c,o,Sr,rd,km,s,qn,Ys,Qi,Zr,2,-0,0),g);break e}Nx(c,o,Sr,rd,km,s,qn,Ys,Qi,Zr,0,-0,0)}}break}while(!0);Cr(r)}function Um(r){Sr===null?Sr=r:Sr.push.apply(Sr,r)}function Nx(r,s,o,c,h,g,E,R,k,U,Z,ae,Y){var Q=s.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:eA},gx(s),s=nA(),s!==null)){r.cancelPendingCommit=s(kx.bind(null,r,o,c,h,E,R,k,1,ae,Y)),ea(r,g,E,!U);return}kx(r,o,c,h,E,R,k,Z,ae,Y)}function bD(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],g=h.getSnapshot;h=h.value;try{if(!yn(g(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ea(r,s,o,c){s&=~Om,s&=~Ys,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var h=s;0<h;){var g=31-Kt(h),E=1<<g;c[g]=-1,h&=~E}o!==0&&an(r,o,s)}function sd(){return(it&6)===0?(Vl(0),!1):!0}function Bm(){if(Pe!==null){if(Je===0)var r=Pe.return;else r=Pe,Gr=qs=null,$h(r),zi=null,Sl=0,r=Pe;for(;r!==null;)Ex(r.alternate,r),r=r.return;Pe=null}}function Zi(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,UD(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Bm(),Ze=r,Pe=o=Ua(r.current,null),Fe=s,Je=0,xn=null,Zr=!1,Xi=lt(r,s),Im=!1,Qi=qn=Om=Ys=Ba=ut=0,Sr=Fl=null,km=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var h=31-Kt(c),g=1<<h;s|=r[h],c&=~g}return Jr=s,Du(),o}function Tx(r,s){De=null,B.H=Er,s===wl?(s=Hb(),Je=3):s===Bb?(s=Hb(),Je=4):Je=s===z0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,xn=s,Pe===null&&(ut=1,Ku(r,Pn(s,r.current)))}function Rx(){var r=B.H;return B.H=Er,r===null?Er:r}function Dx(){var r=B.A;return B.A=yD,r}function zm(){ut=4,Zr||(Fe&4194176)!==Fe&&Bn.current!==null||(Xi=!0),(Ba&134217727)===0&&(Ys&134217727)===0||Ze===null||ea(Ze,Fe,qn,!1)}function Fm(r,s,o){var c=it;it|=2;var h=Rx(),g=Dx();(Ze!==r||Fe!==s)&&(rd=null,Zi(r,s)),s=!1;var E=ut;e:do try{if(Je!==0&&Pe!==null){var R=Pe,k=xn;switch(Je){case 8:Bm(),E=6;break e;case 3:case 2:case 6:Bn.current===null&&(s=!0);var U=Je;if(Je=0,xn=null,Ji(r,R,k,U),o&&Xi){E=0;break e}break;default:U=Je,Je=0,xn=null,Ji(r,R,k,U)}}xD(),E=ut;break}catch(Z){Tx(r,Z)}while(!0);return s&&r.shellSuspendCounter++,Gr=qs=null,it=c,B.H=h,B.A=g,Pe===null&&(Ze=null,Fe=0,Du()),E}function xD(){for(;Pe!==null;)Ax(Pe)}function _D(r,s){var o=it;it|=2;var c=Rx(),h=Dx();Ze!==r||Fe!==s?(rd=null,nd=On()+500,Zi(r,s)):Xi=lt(r,s);e:do try{if(Je!==0&&Pe!==null){s=Pe;var g=xn;t:switch(Je){case 1:Je=0,xn=null,Ji(r,s,g,1);break;case 2:if(zb(g)){Je=0,xn=null,Ix(s);break}s=function(){Je===2&&Ze===r&&(Je=7),Cr(r)},g.then(s,s);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:zb(g)?(Je=0,xn=null,Ix(s)):(Je=0,xn=null,Ji(r,s,g,7));break;case 5:var E=null;switch(Pe.tag){case 26:E=Pe.memoizedState;case 5:case 27:var R=Pe;if(!E||i_(E)){Je=0,xn=null;var k=R.sibling;if(k!==null)Pe=k;else{var U=R.return;U!==null?(Pe=U,id(U)):Pe=null}break t}}Je=0,xn=null,Ji(r,s,g,5);break;case 6:Je=0,xn=null,Ji(r,s,g,6);break;case 8:Bm(),ut=6;break e;default:throw Error(a(462))}}wD();break}catch(Z){Tx(r,Z)}while(!0);return Gr=qs=null,B.H=c,B.A=h,it=o,Pe!==null?0:(Ze=null,Fe=0,Du(),ut)}function wD(){for(;Pe!==null&&!rn();)Ax(Pe)}function Ax(r){var s=Z0(r.alternate,r,Jr);r.memoizedProps=r.pendingProps,s===null?id(r):Pe=s}function Ix(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=G0(o,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=G0(o,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:$h(s);default:Ex(o,s),s=Pe=xx(s,Jr),s=Z0(o,s,Jr)}r.memoizedProps=r.pendingProps,s===null?id(r):Pe=s}function Ji(r,s,o,c){Gr=qs=null,$h(s),zi=null,Sl=0;var h=s.return;try{if(uD(r,h,s,o,Fe)){ut=1,Ku(r,Pn(o,r.current)),Pe=null;return}}catch(g){if(h!==null)throw Pe=h,g;ut=1,Ku(r,Pn(o,r.current)),Pe=null;return}s.flags&32768?(He||c===1?r=!0:Xi||(Fe&536870912)!==0?r=!1:(Zr=r=!0,(c===2||c===3||c===6)&&(c=Bn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ox(s,r)):id(s)}function id(r){var s=r;do{if((s.flags&32768)!==0){Ox(s,Zr);return}r=s.return;var o=pD(s.alternate,s,Jr);if(o!==null){Pe=o;return}if(s=s.sibling,s!==null){Pe=s;return}Pe=s=r}while(s!==null);ut===0&&(ut=5)}function Ox(r,s){do{var o=gD(r.alternate,r);if(o!==null){o.flags&=32767,Pe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Pe=r;return}Pe=r=o}while(r!==null);ut=6,Pe=null}function kx(r,s,o,c,h,g,E,R,k,U){var Z=B.T,ae=K.p;try{K.p=2,B.T=null,ED(r,s,o,c,ae,h,g,E,R,k,U)}finally{B.T=Z,K.p=ae}}function ED(r,s,o,c,h,g,E,R){do eo();while(Ws!==null);if((it&6)!==0)throw Error(a(327));var k=r.finishedWork;if(c=r.finishedLanes,k===null)return null;if(r.finishedWork=null,r.finishedLanes=0,k===r.current)throw Error(a(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var U=k.lanes|k.childLanes;if(U|=Ah,gn(r,c,U,g,E,R),r===Ze&&(Pe=Ze=null,Fe=0),(k.subtreeFlags&10256)===0&&(k.flags&10256)===0||ad||(ad=!0,Mm=U,Pm=o,TD(Ss,function(){return eo(),null})),o=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||o?(o=B.T,B.T=null,g=K.p,K.p=2,E=it,it|=4,fD(r,k),hx(k,r),YR(Jm,r.containerInfo),vd=!!Zm,Jm=Zm=null,r.current=k,cx(r,k.alternate,k),wa(),it=E,K.p=g,B.T=o):r.current=k,ad?(ad=!1,Ws=r,Hl=c):jx(r,U),U=r.pendingLanes,U===0&&(za=null),yu(k.stateNode),Cr(r),s!==null)for(h=r.onRecoverableError,k=0;k<s.length;k++)U=s[k],h(U.value,{componentStack:U.stack});return(Hl&3)!==0&&eo(),U=r.pendingLanes,(c&4194218)!==0&&(U&42)!==0?r===Lm?ql++:(ql=0,Lm=r):ql=0,Vl(0),null}function jx(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Nl(s)))}function eo(){if(Ws!==null){var r=Ws,s=Mm;Mm=0;var o=xr(Hl),c=B.T,h=K.p;try{if(K.p=32>o?32:o,B.T=null,Ws===null)var g=!1;else{o=Pm,Pm=null;var E=Ws,R=Hl;if(Ws=null,Hl=0,(it&6)!==0)throw Error(a(331));var k=it;if(it|=4,vx(E.current),px(E,E.current,R,o),it=k,Vl(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Cs,E)}catch{}g=!0}return g}finally{K.p=h,B.T=c,jx(r,s)}}return!1}function Mx(r,s,o){s=Pn(o,s),s=sm(r.stateNode,s,2),r=ja(r,s,2),r!==null&&(br(r,2),Cr(r))}function Qe(r,s,o){if(r.tag===3)Mx(r,r,o);else for(;s!==null;){if(s.tag===3){Mx(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(za===null||!za.has(c))){r=Pn(o,r),o=U0(2),c=ja(s,o,2),c!==null&&(B0(o,c,s,r),br(c,2),Cr(c));break}}s=s.return}}function Hm(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new vD;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(o)||(Im=!0,h.add(o),r=SD.bind(null,r,s,o),s.then(r,r))}function SD(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Ze===r&&(Fe&o)===o&&(ut===4||ut===3&&(Fe&62914560)===Fe&&300>On()-jm?(it&2)===0&&Zi(r,0):Om|=o,Qi===Fe&&(Qi=0)),Cr(r)}function Px(r,s){s===0&&(s=gt()),r=Na(r,s),r!==null&&(br(r,s),Cr(r))}function CD(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Px(r,o)}function ND(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(s),Px(r,o)}function TD(r,s){return rl(r,s)}var od=null,to=null,qm=!1,ld=!1,Vm=!1,Ks=0;function Cr(r){r!==to&&r.next===null&&(to===null?od=to=r:to=to.next=r),ld=!0,qm||(qm=!0,DD(RD))}function Vl(r,s){if(!Vm&&ld){Vm=!0;do for(var o=!1,c=od;c!==null;){if(r!==0){var h=c.pendingLanes;if(h===0)var g=0;else{var E=c.suspendedLanes,R=c.pingedLanes;g=(1<<31-Kt(42|r)+1)-1,g&=h&~(E&~R),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,Bx(c,g))}else g=Fe,g=at(c,c===Ze?g:0),(g&3)===0||lt(c,g)||(o=!0,Bx(c,g));c=c.next}while(o);Vm=!1}}function RD(){ld=qm=!1;var r=0;Ks!==0&&(LD()&&(r=Ks),Ks=0);for(var s=On(),o=null,c=od;c!==null;){var h=c.next,g=Lx(c,s);g===0?(c.next=null,o===null?od=h:o.next=h,h===null&&(to=o)):(o=c,(r!==0||(g&3)!==0)&&(ld=!0)),c=h}Vl(r)}function Lx(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var E=31-Kt(g),R=1<<E,k=h[E];k===-1?((R&o)===0||(R&c)!==0)&&(h[E]=Xt(R,s)):k<=s&&(r.expiredLanes|=R),g&=~R}if(s=Ze,o=Fe,o=at(r,r===s?o:0),c=r.callbackNode,o===0||r===s&&Je===2||r.cancelPendingCommit!==null)return c!==null&&c!==null&&al(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||lt(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&al(c),xr(o)){case 2:case 8:o=pu;break;case 32:o=Ss;break;case 268435456:o=Ur;break;default:o=Ss}return c=Ux.bind(null,r),o=rl(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&al(c),r.callbackPriority=2,r.callbackNode=null,2}function Ux(r,s){var o=r.callbackNode;if(eo()&&r.callbackNode!==o)return null;var c=Fe;return c=at(r,r===Ze?c:0),c===0?null:(Cx(r,c,s),Lx(r,On()),r.callbackNode!=null&&r.callbackNode===o?Ux.bind(null,r):null)}function Bx(r,s){if(eo())return null;Cx(r,s,!0)}function DD(r){BD(function(){(it&6)!==0?rl(Es,r):r()})}function $m(){return Ks===0&&(Ks=Rs()),Ks}function zx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:wu(""+r)}function Fx(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function AD(r,s,o,c,h){if(s==="submit"&&o&&o.stateNode===h){var g=zx((h[sn]||null).action),E=c.submitter;E&&(s=(s=E[sn]||null)?zx(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var R=new Nu("action","action",null,c,h);r.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ks!==0){var k=E?Fx(h,E):new FormData(h);em(o,{pending:!0,data:k,method:h.method,action:g},null,k)}}else typeof g=="function"&&(R.preventDefault(),k=E?Fx(h,E):new FormData(h),em(o,{pending:!0,data:k,method:h.method,action:g},g,k))},currentTarget:h}]})}}for(var Gm=0;Gm<kb.length;Gm++){var Ym=kb[Gm],ID=Ym.toLowerCase(),OD=Ym[0].toUpperCase()+Ym.slice(1);nr(ID,"on"+OD)}nr(Rb,"onAnimationEnd"),nr(Db,"onAnimationIteration"),nr(Ab,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(KR,"onTransitionRun"),nr(XR,"onTransitionStart"),nr(QR,"onTransitionCancel"),nr(Ib,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),As("onBeforeInput",["compositionend","keypress","textInput","paste"]),As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function Hx(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],h=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var E=c.length-1;0<=E;E--){var R=c[E],k=R.instance,U=R.currentTarget;if(R=R.listener,k!==g&&h.isPropagationStopped())break e;g=R,h.currentTarget=U;try{g(h)}catch(Z){Wu(Z)}h.currentTarget=null,g=k}else for(E=0;E<c.length;E++){if(R=c[E],k=R.instance,U=R.currentTarget,R=R.listener,k!==g&&h.isPropagationStopped())break e;g=R,h.currentTarget=U;try{g(h)}catch(Z){Wu(Z)}h.currentTarget=null,g=k}}}}function Be(r,s){var o=s[ch];o===void 0&&(o=s[ch]=new Set);var c=r+"__bubble";o.has(c)||(qx(s,r,2,!1),o.add(c))}function Wm(r,s,o){var c=0;s&&(c|=4),qx(o,r,c,s)}var cd="_reactListening"+Math.random().toString(36).slice(2);function Km(r){if(!r[cd]){r[cd]=!0,Gv.forEach(function(o){o!=="selectionchange"&&(kD.has(o)||Wm(o,!1,r),Wm(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[cd]||(s[cd]=!0,Wm("selectionchange",!1,s))}}function qx(r,s,o,c){switch(f_(s)){case 2:var h=sA;break;case 8:h=iA;break;default:h=lp}o=h.bind(null,s,o,r),h=void 0,!yh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function Xm(r,s,o,c,h){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var R=c.stateNode.containerInfo;if(R===h||R.nodeType===8&&R.parentNode===h)break;if(E===4)for(E=c.return;E!==null;){var k=E.tag;if((k===3||k===4)&&(k=E.stateNode.containerInfo,k===h||k.nodeType===8&&k.parentNode===h))return;E=E.return}for(;R!==null;){if(E=Ds(R),E===null)return;if(k=E.tag,k===5||k===6||k===26||k===27){c=g=E;continue e}R=R.parentNode}}c=c.return}ab(function(){var U=g,Z=ph(o),ae=[];e:{var Y=Ob.get(r);if(Y!==void 0){var Q=Nu,ve=r;switch(r){case"keypress":if(Su(o)===0)break e;case"keydown":case"keyup":Q=NR;break;case"focusin":ve="focus",Q=_h;break;case"focusout":ve="blur",Q=_h;break;case"beforeblur":case"afterblur":Q=_h;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ob;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=mR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=DR;break;case Rb:case Db:case Ab:Q=yR;break;case Ib:Q=IR;break;case"scroll":case"scrollend":Q=fR;break;case"wheel":Q=kR;break;case"copy":case"cut":case"paste":Q=bR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=cb;break;case"toggle":case"beforetoggle":Q=MR}var Te=(s&4)!==0,dt=!Te&&(r==="scroll"||r==="scrollend"),F=Te?Y!==null?Y+"Capture":null:Y;Te=[];for(var P=U,G;P!==null;){var ee=P;if(G=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||G===null||F===null||(ee=ul(P,F),ee!=null&&Te.push(Gl(P,ee,G))),dt)break;P=P.return}0<Te.length&&(Y=new Q(Y,ve,null,o,Z),ae.push({event:Y,listeners:Te}))}}if((s&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",Q=r==="mouseout"||r==="pointerout",Y&&o!==mh&&(ve=o.relatedTarget||o.fromElement)&&(Ds(ve)||ve[Ci]))break e;if((Q||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(ve=o.relatedTarget||o.toElement,Q=U,ve=ve?Ds(ve):null,ve!==null&&(dt=J(ve),Te=ve.tag,ve!==dt||Te!==5&&Te!==27&&Te!==6)&&(ve=null)):(Q=null,ve=U),Q!==ve)){if(Te=ob,ee="onMouseLeave",F="onMouseEnter",P="mouse",(r==="pointerout"||r==="pointerover")&&(Te=cb,ee="onPointerLeave",F="onPointerEnter",P="pointer"),dt=Q==null?Y:cl(Q),G=ve==null?Y:cl(ve),Y=new Te(ee,P+"leave",Q,o,Z),Y.target=dt,Y.relatedTarget=G,ee=null,Ds(Z)===U&&(Te=new Te(F,P+"enter",ve,o,Z),Te.target=G,Te.relatedTarget=dt,ee=Te),dt=ee,Q&&ve)t:{for(Te=Q,F=ve,P=0,G=Te;G;G=no(G))P++;for(G=0,ee=F;ee;ee=no(ee))G++;for(;0<P-G;)Te=no(Te),P--;for(;0<G-P;)F=no(F),G--;for(;P--;){if(Te===F||F!==null&&Te===F.alternate)break t;Te=no(Te),F=no(F)}Te=null}else Te=null;Q!==null&&Vx(ae,Y,Q,Te,!1),ve!==null&&dt!==null&&Vx(ae,dt,ve,Te,!0)}}e:{if(Y=U?cl(U):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var he=yb;else if(pb(Y))if(vb)he=$R;else{he=qR;var ke=HR}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?U&&hh(U.elementType)&&(he=yb):he=VR;if(he&&(he=he(r,U))){gb(ae,he,o,Z);break e}ke&&ke(r,Y,U),r==="focusout"&&U&&Y.type==="number"&&U.memoizedProps.value!=null&&fh(Y,"number",Y.value)}switch(ke=U?cl(U):window,r){case"focusin":(pb(ke)||ke.contentEditable==="true")&&(ji=ke,Th=U,vl=null);break;case"focusout":vl=Th=ji=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,Nb(ae,o,Z);break;case"selectionchange":if(WR)break;case"keydown":case"keyup":Nb(ae,o,Z)}var xe;if(Eh)e:{switch(r){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ki?hb(r,o)&&(_e="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(ub&&o.locale!=="ko"&&(ki||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ki&&(xe=sb()):(Ca=Z,vh="value"in Ca?Ca.value:Ca.textContent,ki=!0)),ke=ud(U,_e),0<ke.length&&(_e=new lb(_e,r,null,o,Z),ae.push({event:_e,listeners:ke}),xe?_e.data=xe:(xe=mb(o),xe!==null&&(_e.data=xe)))),(xe=LR?UR(r,o):BR(r,o))&&(_e=ud(U,"onBeforeInput"),0<_e.length&&(ke=new lb("onBeforeInput","beforeinput",null,o,Z),ae.push({event:ke,listeners:_e}),ke.data=xe)),AD(ae,r,U,o,Z)}Hx(ae,s)})}function Gl(r,s,o){return{instance:r,listener:s,currentTarget:o}}function ud(r,s){for(var o=s+"Capture",c=[];r!==null;){var h=r,g=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=ul(r,o),h!=null&&c.unshift(Gl(r,h,g)),h=ul(r,s),h!=null&&c.push(Gl(r,h,g))),r=r.return}return c}function no(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Vx(r,s,o,c,h){for(var g=s._reactName,E=[];o!==null&&o!==c;){var R=o,k=R.alternate,U=R.stateNode;if(R=R.tag,k!==null&&k===c)break;R!==5&&R!==26&&R!==27||U===null||(k=U,h?(U=ul(o,g),U!=null&&E.unshift(Gl(o,U,k))):h||(U=ul(o,g),U!=null&&E.push(Gl(o,U,k)))),o=o.return}E.length!==0&&r.push({event:s,listeners:E})}var jD=/\r\n?/g,MD=/\u0000|\uFFFD/g;function $x(r){return(typeof r=="string"?r:""+r).replace(jD,`
`).replace(MD,"")}function Gx(r,s){return s=$x(s),$x(r)===s}function dd(){}function Ke(r,s,o,c,h,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Ai(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Ai(r,""+c);break;case"className":bu(r,"class",c);break;case"tabIndex":bu(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":bu(r,o,c);break;case"style":nb(r,c,g);break;case"data":if(s!=="object"){bu(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=wu(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Ke(r,s,"name",h.name,h,null),Ke(r,s,"formEncType",h.formEncType,h,null),Ke(r,s,"formMethod",h.formMethod,h,null),Ke(r,s,"formTarget",h.formTarget,h,null)):(Ke(r,s,"encType",h.encType,h,null),Ke(r,s,"method",h.method,h,null),Ke(r,s,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=wu(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=dd);break;case"onScroll":c!=null&&Be("scroll",r);break;case"onScrollEnd":c!=null&&Be("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=wu(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Be("beforetoggle",r),Be("toggle",r),vu(r,"popover",c);break;case"xlinkActuate":zr(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":zr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":zr(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":zr(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":zr(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":zr(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":zr(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":zr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":zr(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":vu(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=uR.get(o)||o,vu(r,o,c))}}function Qm(r,s,o,c,h,g){switch(o){case"style":nb(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Ai(r,c):(typeof c=="number"||typeof c=="bigint")&&Ai(r,""+c);break;case"onScroll":c!=null&&Be("scroll",r);break;case"onScrollEnd":c!=null&&Be("scrollend",r);break;case"onClick":c!=null&&(r.onclick=dd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yv.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),g=r[sn]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,h),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,h);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):vu(r,o,c)}}}function Ut(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",r),Be("load",r);var c=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Ke(r,s,g,E,o,null)}}h&&Ke(r,s,"srcSet",o.srcSet,o,null),c&&Ke(r,s,"src",o.src,o,null);return;case"input":Be("invalid",r);var R=g=E=h=null,k=null,U=null;for(c in o)if(o.hasOwnProperty(c)){var Z=o[c];if(Z!=null)switch(c){case"name":h=Z;break;case"type":E=Z;break;case"checked":k=Z;break;case"defaultChecked":U=Z;break;case"value":g=Z;break;case"defaultValue":R=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,s));break;default:Ke(r,s,c,Z,o,null)}}Zv(r,g,R,k,U,E,h,!1),xu(r);return;case"select":Be("invalid",r),c=E=g=null;for(h in o)if(o.hasOwnProperty(h)&&(R=o[h],R!=null))switch(h){case"value":g=R;break;case"defaultValue":E=R;break;case"multiple":c=R;default:Ke(r,s,h,R,o,null)}s=g,o=E,r.multiple=!!c,s!=null?Di(r,!!c,s,!1):o!=null&&Di(r,!!c,o,!0);return;case"textarea":Be("invalid",r),g=h=c=null;for(E in o)if(o.hasOwnProperty(E)&&(R=o[E],R!=null))switch(E){case"value":c=R;break;case"defaultValue":h=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(a(91));break;default:Ke(r,s,E,R,o,null)}eb(r,c,h,g),xu(r);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(c=o[k],c!=null))switch(k){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ke(r,s,k,c,o,null)}return;case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":Be("load",r);break;case"video":case"audio":for(c=0;c<$l.length;c++)Be($l[c],r);break;case"image":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"embed":case"source":case"link":Be("error",r),Be("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in o)if(o.hasOwnProperty(U)&&(c=o[U],c!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Ke(r,s,U,c,o,null)}return;default:if(hh(s)){for(Z in o)o.hasOwnProperty(Z)&&(c=o[Z],c!==void 0&&Qm(r,s,Z,c,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(c=o[R],c!=null&&Ke(r,s,R,c,o,null))}function PD(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,E=null,R=null,k=null,U=null,Z=null;for(Q in o){var ae=o[Q];if(o.hasOwnProperty(Q)&&ae!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":k=ae;default:c.hasOwnProperty(Q)||Ke(r,s,Q,null,c,ae)}}for(var Y in c){var Q=c[Y];if(ae=o[Y],c.hasOwnProperty(Y)&&(Q!=null||ae!=null))switch(Y){case"type":g=Q;break;case"name":h=Q;break;case"checked":U=Q;break;case"defaultChecked":Z=Q;break;case"value":E=Q;break;case"defaultValue":R=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,s));break;default:Q!==ae&&Ke(r,s,Y,Q,c,ae)}}dh(r,E,R,k,U,Z,g,h);return;case"select":Q=E=R=Y=null;for(g in o)if(k=o[g],o.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":Q=k;default:c.hasOwnProperty(g)||Ke(r,s,g,null,c,k)}for(h in c)if(g=c[h],k=o[h],c.hasOwnProperty(h)&&(g!=null||k!=null))switch(h){case"value":Y=g;break;case"defaultValue":R=g;break;case"multiple":E=g;default:g!==k&&Ke(r,s,h,g,c,k)}s=R,o=E,c=Q,Y!=null?Di(r,!!o,Y,!1):!!c!=!!o&&(s!=null?Di(r,!!o,s,!0):Di(r,!!o,o?[]:"",!1));return;case"textarea":Q=Y=null;for(R in o)if(h=o[R],o.hasOwnProperty(R)&&h!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Ke(r,s,R,null,c,h)}for(E in c)if(h=c[E],g=o[E],c.hasOwnProperty(E)&&(h!=null||g!=null))switch(E){case"value":Y=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==g&&Ke(r,s,E,h,c,g)}Jv(r,Y,Q);return;case"option":for(var ve in o)if(Y=o[ve],o.hasOwnProperty(ve)&&Y!=null&&!c.hasOwnProperty(ve))switch(ve){case"selected":r.selected=!1;break;default:Ke(r,s,ve,null,c,Y)}for(k in c)if(Y=c[k],Q=o[k],c.hasOwnProperty(k)&&Y!==Q&&(Y!=null||Q!=null))switch(k){case"selected":r.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ke(r,s,k,Y,c,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)Y=o[Te],o.hasOwnProperty(Te)&&Y!=null&&!c.hasOwnProperty(Te)&&Ke(r,s,Te,null,c,Y);for(U in c)if(Y=c[U],Q=o[U],c.hasOwnProperty(U)&&Y!==Q&&(Y!=null||Q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,s));break;default:Ke(r,s,U,Y,c,Q)}return;default:if(hh(s)){for(var dt in o)Y=o[dt],o.hasOwnProperty(dt)&&Y!==void 0&&!c.hasOwnProperty(dt)&&Qm(r,s,dt,void 0,c,Y);for(Z in c)Y=c[Z],Q=o[Z],!c.hasOwnProperty(Z)||Y===Q||Y===void 0&&Q===void 0||Qm(r,s,Z,Y,c,Q);return}}for(var F in o)Y=o[F],o.hasOwnProperty(F)&&Y!=null&&!c.hasOwnProperty(F)&&Ke(r,s,F,null,c,Y);for(ae in c)Y=c[ae],Q=o[ae],!c.hasOwnProperty(ae)||Y===Q||Y==null&&Q==null||Ke(r,s,ae,Y,c,Q)}var Zm=null,Jm=null;function fd(r){return r.nodeType===9?r:r.ownerDocument}function Yx(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wx(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function ep(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var tp=null;function LD(){var r=window.event;return r&&r.type==="popstate"?r===tp?!1:(tp=r,!0):(tp=null,!1)}var Kx=typeof setTimeout=="function"?setTimeout:void 0,UD=typeof clearTimeout=="function"?clearTimeout:void 0,Xx=typeof Promise=="function"?Promise:void 0,BD=typeof queueMicrotask=="function"?queueMicrotask:typeof Xx<"u"?function(r){return Xx.resolve(null).then(r).catch(zD)}:Kx;function zD(r){setTimeout(function(){throw r})}function np(r,s){var o=s,c=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(c===0){r.removeChild(h),ec(s);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=h}while(o);ec(s)}function rp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":rp(o),uh(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function FD(r,s,o,c){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[ll])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=sr(r.nextSibling),r===null)break}return null}function HD(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=sr(r.nextSibling),r===null))return null;return r}function sr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function Qx(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Zx(r,s,o){switch(s=fd(o),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}var Vn=new Map,Jx=new Set;function hd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var ta=K.d;K.d={f:qD,r:VD,D:$D,C:GD,L:YD,m:WD,X:XD,S:KD,M:QD};function qD(){var r=ta.f(),s=sd();return r||s}function VD(r){var s=Ni(r);s!==null&&s.tag===5&&s.type==="form"?N0(s):ta.r(r)}var ro=typeof document>"u"?null:document;function e_(r,s,o){var c=ro;if(c&&typeof s=="string"&&s){var h=jn(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),Jx.has(h)||(Jx.add(h),r={rel:r,crossOrigin:o,href:s},c.querySelector(h)===null&&(s=c.createElement("link"),Ut(s,"link",r),Tt(s),c.head.appendChild(s)))}}function $D(r){ta.D(r),e_("dns-prefetch",r,null)}function GD(r,s){ta.C(r,s),e_("preconnect",r,s)}function YD(r,s,o){ta.L(r,s,o);var c=ro;if(c&&r&&s){var h='link[rel="preload"][as="'+jn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+jn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+jn(o.imageSizes)+'"]')):h+='[href="'+jn(r)+'"]';var g=h;switch(s){case"style":g=ao(r);break;case"script":g=so(r)}Vn.has(g)||(r=V({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Vn.set(g,r),c.querySelector(h)!==null||s==="style"&&c.querySelector(Yl(g))||s==="script"&&c.querySelector(Wl(g))||(s=c.createElement("link"),Ut(s,"link",r),Tt(s),c.head.appendChild(s)))}}function WD(r,s){ta.m(r,s);var o=ro;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+jn(c)+'"][href="'+jn(r)+'"]',g=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=so(r)}if(!Vn.has(g)&&(r=V({rel:"modulepreload",href:r},s),Vn.set(g,r),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Wl(g)))return}c=o.createElement("link"),Ut(c,"link",r),Tt(c),o.head.appendChild(c)}}}function KD(r,s,o){ta.S(r,s,o);var c=ro;if(c&&r){var h=Ti(c).hoistableStyles,g=ao(r);s=s||"default";var E=h.get(g);if(!E){var R={loading:0,preload:null};if(E=c.querySelector(Yl(g)))R.loading=5;else{r=V({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Vn.get(g))&&ap(r,o);var k=E=c.createElement("link");Tt(k),Ut(k,"link",r),k._p=new Promise(function(U,Z){k.onload=U,k.onerror=Z}),k.addEventListener("load",function(){R.loading|=1}),k.addEventListener("error",function(){R.loading|=2}),R.loading|=4,md(E,s,c)}E={type:"stylesheet",instance:E,count:1,state:R},h.set(g,E)}}}function XD(r,s){ta.X(r,s);var o=ro;if(o&&r){var c=Ti(o).hoistableScripts,h=so(r),g=c.get(h);g||(g=o.querySelector(Wl(h)),g||(r=V({src:r,async:!0},s),(s=Vn.get(h))&&sp(r,s),g=o.createElement("script"),Tt(g),Ut(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function QD(r,s){ta.M(r,s);var o=ro;if(o&&r){var c=Ti(o).hoistableScripts,h=so(r),g=c.get(h);g||(g=o.querySelector(Wl(h)),g||(r=V({src:r,async:!0,type:"module"},s),(s=Vn.get(h))&&sp(r,s),g=o.createElement("script"),Tt(g),Ut(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function t_(r,s,o,c){var h=(h=Ht.current)?hd(h):null;if(!h)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=ao(o.href),o=Ti(h).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=ao(o.href);var g=Ti(h).hoistableStyles,E=g.get(r);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,E),(g=h.querySelector(Yl(r)))&&!g._p&&(E.instance=g,E.state.loading=5),Vn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Vn.set(r,o),g||ZD(h,r,o,E.state))),s&&c===null)throw Error(a(528,""));return E}if(s&&c!==null)throw Error(a(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=so(o),o=Ti(h).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function ao(r){return'href="'+jn(r)+'"'}function Yl(r){return'link[rel="stylesheet"]['+r+"]"}function n_(r){return V({},r,{"data-precedence":r.precedence,precedence:null})}function ZD(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Ut(s,"link",o),Tt(s),r.head.appendChild(s))}function so(r){return'[src="'+jn(r)+'"]'}function Wl(r){return"script[async]"+r}function r_(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+jn(o.href)+'"]');if(c)return s.instance=c,Tt(c),c;var h=V({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Tt(c),Ut(c,"style",h),md(c,o.precedence,r),s.instance=c;case"stylesheet":h=ao(o.href);var g=r.querySelector(Yl(h));if(g)return s.state.loading|=4,s.instance=g,Tt(g),g;c=n_(o),(h=Vn.get(h))&&ap(c,h),g=(r.ownerDocument||r).createElement("link"),Tt(g);var E=g;return E._p=new Promise(function(R,k){E.onload=R,E.onerror=k}),Ut(g,"link",c),s.state.loading|=4,md(g,o.precedence,r),s.instance=g;case"script":return g=so(o.src),(h=r.querySelector(Wl(g)))?(s.instance=h,Tt(h),h):(c=o,(h=Vn.get(g))&&(c=V({},o),sp(c,h)),r=r.ownerDocument||r,h=r.createElement("script"),Tt(h),Ut(h,"link",c),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,md(c,o.precedence,r));return s.instance}function md(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,g=h,E=0;E<c.length;E++){var R=c[E];if(R.dataset.precedence===s)g=R;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function ap(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function sp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var pd=null;function a_(r,s,o){if(pd===null){var c=new Map,h=pd=new Map;h.set(o,c)}else h=pd,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[ll]||g[Vt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=r+E;var R=c.get(E);R?R.push(g):c.set(E,[g])}}return c}function s_(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function JD(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function i_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Kl=null;function eA(){}function tA(r,s,o){if(Kl===null)throw Error(a(475));var c=Kl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ao(o.href),g=r.querySelector(Yl(h));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=gd.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=g,Tt(g);return}g=r.ownerDocument||r,o=n_(o),(h=Vn.get(h))&&ap(o,h),g=g.createElement("link"),Tt(g);var E=g;E._p=new Promise(function(R,k){E.onload=R,E.onerror=k}),Ut(g,"link",o),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=gd.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function nA(){if(Kl===null)throw Error(a(475));var r=Kl;return r.stylesheets&&r.count===0&&ip(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&ip(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function gd(){if(this.count--,this.count===0){if(this.stylesheets)ip(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var yd=null;function ip(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,yd=new Map,s.forEach(rA,r),yd=null,gd.call(r))}function rA(r,s){if(!(s.state.loading&4)){var o=yd.get(r);if(o)var c=o.get(null);else{o=new Map,yd.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var E=h[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}h=s.instance,E=h.getAttribute("data-precedence"),g=o.get(E)||c,g===c&&o.set(null,h),o.set(E,h),this.count++,c=gd.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var Xl={$$typeof:_,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function aA(r,s,o,c,h,g,E,R){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.hiddenUpdates=qt(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function o_(r,s,o,c,h,g,E,R,k,U,Z,ae){return r=new aA(r,s,o,E,R,k,U,ae),s=1,g===!0&&(s|=24),g=Hn(3,null,null,s),r.current=g,g.stateNode=r,s=Uh(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},vm(g),r}function l_(r){return r?(r=Li,r):Li}function c_(r,s,o,c,h,g){h=l_(h),c.context===null?c.context=h:c.pendingContext=h,c=ka(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ja(r,c,s),o!==null&&(Zt(o,r,s),kl(o,r,s))}function u_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function op(r,s){u_(r,s),(r=r.alternate)&&u_(r,s)}function d_(r){if(r.tag===13){var s=Na(r,67108864);s!==null&&Zt(s,r,67108864),op(r,67108864)}}var vd=!0;function sA(r,s,o,c){var h=B.T;B.T=null;var g=K.p;try{K.p=2,lp(r,s,o,c)}finally{K.p=g,B.T=h}}function iA(r,s,o,c){var h=B.T;B.T=null;var g=K.p;try{K.p=8,lp(r,s,o,c)}finally{K.p=g,B.T=h}}function lp(r,s,o,c){if(vd){var h=cp(c);if(h===null)Xm(r,s,c,bd,o),h_(r,c);else if(lA(h,r,s,o,c))c.stopPropagation();else if(h_(r,c),s&4&&-1<oA.indexOf(r)){for(;h!==null;){var g=Ni(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Se(g.pendingLanes);if(E!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var k=1<<31-Kt(E);R.entanglements[1]|=k,E&=~k}Cr(g),(it&6)===0&&(nd=On()+500,Vl(0))}}break;case 13:R=Na(g,2),R!==null&&Zt(R,g,2),sd(),op(g,2)}if(g=cp(c),g===null&&Xm(r,s,c,bd,o),g===h)break;h=g}h!==null&&c.stopPropagation()}else Xm(r,s,c,null,o)}}function cp(r){return r=ph(r),up(r)}var bd=null;function up(r){if(bd=null,r=Ds(r),r!==null){var s=J(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=X(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return bd=r,null}function f_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ih()){case Es:return 2;case pu:return 8;case Ss:case sl:return 32;case Ur:return 268435456;default:return 32}default:return 32}}var dp=!1,Fa=null,Ha=null,qa=null,Ql=new Map,Zl=new Map,Va=[],oA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(r,s){switch(r){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":Ql.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(s.pointerId)}}function Jl(r,s,o,c,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},s!==null&&(s=Ni(s),s!==null&&d_(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function lA(r,s,o,c,h){switch(s){case"focusin":return Fa=Jl(Fa,r,s,o,c,h),!0;case"dragenter":return Ha=Jl(Ha,r,s,o,c,h),!0;case"mouseover":return qa=Jl(qa,r,s,o,c,h),!0;case"pointerover":var g=h.pointerId;return Ql.set(g,Jl(Ql.get(g)||null,r,s,o,c,h)),!0;case"gotpointercapture":return g=h.pointerId,Zl.set(g,Jl(Zl.get(g)||null,r,s,o,c,h)),!0}return!1}function m_(r){var s=Ds(r.target);if(s!==null){var o=J(s);if(o!==null){if(s=o.tag,s===13){if(s=X(o),s!==null){r.blockedOn=s,nR(r.priority,function(){if(o.tag===13){var c=_n(),h=Na(o,c);h!==null&&Zt(h,o,c),op(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function xd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=cp(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);mh=c,o.target.dispatchEvent(c),mh=null}else return s=Ni(o),s!==null&&d_(s),r.blockedOn=o,!1;s.shift()}return!0}function p_(r,s,o){xd(r)&&o.delete(s)}function cA(){dp=!1,Fa!==null&&xd(Fa)&&(Fa=null),Ha!==null&&xd(Ha)&&(Ha=null),qa!==null&&xd(qa)&&(qa=null),Ql.forEach(p_),Zl.forEach(p_)}function _d(r,s){r.blockedOn===s&&(r.blockedOn=null,dp||(dp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cA)))}var wd=null;function g_(r){wd!==r&&(wd=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wd===r&&(wd=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],h=r[s+2];if(typeof c!="function"){if(up(c||o)===null)continue;break}var g=Ni(o);g!==null&&(r.splice(s,3),s-=3,em(g,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function ec(r){function s(k){return _d(k,r)}Fa!==null&&_d(Fa,r),Ha!==null&&_d(Ha,r),qa!==null&&_d(qa,r),Ql.forEach(s),Zl.forEach(s);for(var o=0;o<Va.length;o++){var c=Va[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Va.length&&(o=Va[0],o.blockedOn===null);)m_(o),o.blockedOn===null&&Va.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],E=h[sn]||null;if(typeof g=="function")E||g_(o);else if(E){var R=null;if(g&&g.hasAttribute("formAction")){if(h=g,E=g[sn]||null)R=E.formAction;else if(up(h)!==null)continue}else R=E.action;typeof R=="function"?o[c+1]=R:(o.splice(c,3),c-=3),g_(o)}}}function fp(r){this._internalRoot=r}Ed.prototype.render=fp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var o=s.current,c=_n();c_(o,c,r,s,null,null)},Ed.prototype.unmount=fp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&eo(),c_(r.current,2,null,r,null,null),sd(),s[Ci]=null}};function Ed(r){this._internalRoot=r}Ed.prototype.unstable_scheduleHydration=function(r){if(r){var s=lh();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Va.length&&s!==0&&s<Va[o].priority;o++);Va.splice(o,0,r),o===0&&m_(r)}};var y_=e.version;if(y_!=="19.0.0")throw Error(a(527,y_,"19.0.0"));K.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=$(s),r=r!==null?z(r):null,r=r===null?null:r.stateNode,r};var uA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:B,findFiberByHostInstance:Ds,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{Cs=Sd.inject(uA),Wt=Sd}catch{}}return nc.createRoot=function(r,s){if(!i(r))throw Error(a(299));var o=!1,c="",h=j0,g=M0,E=P0,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=o_(r,1,!1,null,null,o,c,h,g,E,R,null),r[Ci]=s.current,Km(r.nodeType===8?r.parentNode:r),new fp(s)},nc.hydrateRoot=function(r,s,o){if(!i(r))throw Error(a(299));var c=!1,h="",g=j0,E=M0,R=P0,k=null,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(U=o.formState)),s=o_(r,1,!0,s,o??null,c,h,g,E,R,k,U),s.context=l_(null),o=s.current,c=_n(),h=ka(c),h.callback=null,ja(o,h,c),s.current.lanes=c,br(s,c),Cr(s),r[Ci]=s.current,Km(r),new Ed(s)},nc.version="19.0.0",nc}var T_;function EA(){if(T_)return pp.exports;T_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pp.exports=wA(),pp.exports}var SA=EA();const CA=Yg(SA);var rc={},R_;function NA(){if(R_)return rc;R_=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.parse=u,rc.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,_){const C=new l,x=b.length;if(x<2)return C;const S=(_==null?void 0:_.decode)||v;let N=0;do{const T=b.indexOf("=",N);if(T===-1)break;const D=b.indexOf(";",N),M=D===-1?x:D;if(T>M){N=b.lastIndexOf(";",T-1)+1;continue}const j=f(b,N,T),L=m(b,T,j),O=b.slice(j,L);if(C[O]===void 0){let q=f(b,T+1,M),B=m(b,M,q);const V=S(b.slice(q,B));C[O]=V}N=M+1}while(N<x);return C}function f(b,_,C){do{const x=b.charCodeAt(_);if(x!==32&&x!==9)return _}while(++_<C);return C}function m(b,_,C){for(;_>C;){const x=b.charCodeAt(--_);if(x!==32&&x!==9)return _+1}return C}function p(b,_,C){const x=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const S=x(_);if(!e.test(S))throw new TypeError(`argument val is invalid: ${_}`);let N=b+"="+S;if(!C)return N;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);N+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);N+="; Domain="+C.domain}if(C.path){if(!a.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);N+="; Path="+C.path}if(C.expires){if(!y(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);N+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(N+="; HttpOnly"),C.secure&&(N+="; Secure"),C.partitioned&&(N+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return N}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return i.call(b)==="[object Date]"}return rc}NA();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var D_="popstate";function TA(t={}){function e(a,i){let{pathname:l,search:u,hash:f}=a.location;return Zp("",{pathname:l,search:u,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){return typeof i=="string"?i:Ec(i)}return DA(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ur(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RA(){return Math.random().toString(36).substring(2,10)}function A_(t,e){return{usr:t.state,key:t.key,idx:e}}function Zp(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Po(e):e,state:n,key:e&&e.key||a||RA()}}function Ec({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Po(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function DA(t,e,n,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,u=i.history,f="POP",m=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function y(){f="POP";let S=v(),N=S==null?null:S-p;p=S,m&&m({action:f,location:x.location,delta:N})}function b(S,N){f="PUSH";let T=Zp(x.location,S,N);p=v()+1;let D=A_(T,p),M=x.createHref(T);try{u.pushState(D,"",M)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(M)}l&&m&&m({action:f,location:x.location,delta:1})}function _(S,N){f="REPLACE";let T=Zp(x.location,S,N);p=v();let D=A_(T,p),M=x.createHref(T);u.replaceState(D,"",M),l&&m&&m({action:f,location:x.location,delta:0})}function C(S){let N=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof S=="string"?S:Ec(S);return T=T.replace(/ $/,"%20"),rt(N,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,N)}let x={get action(){return f},get location(){return t(i,u)},listen(S){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(D_,y),m=S,()=>{i.removeEventListener(D_,y),m=null}},createHref(S){return e(i,S)},createURL:C,encodeLocation(S){let N=C(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:_,go(S){return u.go(S)}};return x}function JE(t,e,n="/"){return AA(t,e,n,!1)}function AA(t,e,n,a){let i=typeof e=="string"?Po(e):e,l=cs(i.pathname||"/",n);if(l==null)return null;let u=eS(t);IA(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=HA(l);f=zA(u[m],p,a)}return f}function eS(t,e=[],n=[],a=""){let i=(l,u,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};m.relativePath.startsWith("/")&&(rt(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let p=ia([a,m.relativePath]),v=n.concat(m);l.children&&l.children.length>0&&(rt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),eS(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:UA(p,l.index),routesMeta:v})};return t.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))i(l,u);else for(let m of tS(l.path))i(l,u,m)}),e}function tS(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let u=tS(a.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),i&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function IA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BA(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var OA=/^:[\w-]+$/,kA=3,jA=2,MA=1,PA=10,LA=-2,I_=t=>t==="*";function UA(t,e){let n=t.split("/"),a=n.length;return n.some(I_)&&(a+=LA),e&&(a+=jA),n.filter(i=>!I_(i)).reduce((i,l)=>i+(OA.test(l)?kA:l===""?MA:PA),a)}function BA(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function zA(t,e,n=!1){let{routesMeta:a}=t,i={},l="/",u=[];for(let f=0;f<a.length;++f){let m=a[f],p=f===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",y=Wd({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),b=m.route;if(!y&&p&&n&&!a[a.length-1].route.index&&(y=Wd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!y)return null;Object.assign(i,y.params),u.push({params:i,pathname:ia([l,y.pathname]),pathnameBase:GA(ia([l,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(l=ia([l,y.pathnameBase]))}return u}function Wd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=FA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:a.reduce((p,{paramName:v,isOptional:y},b)=>{if(v==="*"){let C=f[b]||"";u=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const _=f[b];return y&&!_?p[v]=void 0:p[v]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function FA(t,e=!1,n=!0){ur(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(a.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function HA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ur(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function cs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function qA(t,e="/"){let{pathname:n,search:a="",hash:i=""}=typeof t=="string"?Po(t):t;return{pathname:n?n.startsWith("/")?n:VA(n,e):e,search:YA(a),hash:WA(i)}}function VA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bp(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $A(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wg(t){let e=$A(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Kg(t,e,n,a=!1){let i;typeof t=="string"?i=Po(t):(i={...t},rt(!i.pathname||!i.pathname.includes("?"),bp("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),bp("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),bp("#","search","hash",i)));let l=t===""||i.pathname==="",u=l?"/":i.pathname,f;if(u==null)f=n;else{let y=e.length-1;if(!a&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;i.pathname=b.join("/")}f=y>=0?e[y]:"/"}let m=qA(i,f),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var ia=t=>t.join("/").replace(/\/\/+/g,"/"),GA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var nS=["POST","PUT","PATCH","DELETE"];new Set(nS);var XA=["GET",...nS];new Set(XA);var Lo=w.createContext(null);Lo.displayName="DataRouter";var Tf=w.createContext(null);Tf.displayName="DataRouterState";var rS=w.createContext({isTransitioning:!1});rS.displayName="ViewTransition";var QA=w.createContext(new Map);QA.displayName="Fetchers";var ZA=w.createContext(null);ZA.displayName="Await";var mr=w.createContext(null);mr.displayName="Navigation";var $c=w.createContext(null);$c.displayName="Location";var Xn=w.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var Xg=w.createContext(null);Xg.displayName="RouteError";function JA(t,{relative:e}={}){rt(Uo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=w.useContext(mr),{hash:i,pathname:l,search:u}=Gc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:ia([n,l])),a.createHref({pathname:f,search:u,hash:i})}function Uo(){return w.useContext($c)!=null}function pr(){return rt(Uo(),"useLocation() may be used only in the context of a <Router> component."),w.useContext($c).location}var aS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sS(t){w.useContext(mr).static||w.useLayoutEffect(t)}function Ct(){let{isDataRoute:t}=w.useContext(Xn);return t?m2():e2()}function e2(){rt(Uo(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Lo),{basename:e,navigator:n}=w.useContext(mr),{matches:a}=w.useContext(Xn),{pathname:i}=pr(),l=JSON.stringify(Wg(a)),u=w.useRef(!1);return sS(()=>{u.current=!0}),w.useCallback((m,p={})=>{if(ur(u.current,aS),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=Kg(m,JSON.parse(l),i,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ia([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,i,t])}var t2=w.createContext(null);function n2(t){let e=w.useContext(Xn).outlet;return e&&w.createElement(t2.Provider,{value:t},e)}function ze(){let{matches:t}=w.useContext(Xn),e=t[t.length-1];return e?e.params:{}}function Gc(t,{relative:e}={}){let{matches:n}=w.useContext(Xn),{pathname:a}=pr(),i=JSON.stringify(Wg(n));return w.useMemo(()=>Kg(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function r2(t,e){return iS(t,e)}function iS(t,e,n,a){var T;rt(Uo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:l}=w.useContext(mr),{matches:u}=w.useContext(Xn),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",y=f&&f.route;{let D=y&&y.path||"";oS(p,!y||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let b=pr(),_;if(e){let D=typeof e=="string"?Po(e):e;rt(v==="/"||((T=D.pathname)==null?void 0:T.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${D.pathname}" was given in the \`location\` prop.`),_=D}else _=b;let C=_.pathname||"/",x=C;if(v!=="/"){let D=v.replace(/^\//,"").split("/");x="/"+C.replace(/^\//,"").split("/").slice(D.length).join("/")}let S=!l&&n&&n.matches&&n.matches.length>0?n.matches:JE(t,{pathname:x});ur(y||S!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ur(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=l2(S&&S.map(D=>Object.assign({},D,{params:Object.assign({},m,D.params),pathname:ia([v,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:ia([v,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),u,n,a);return e&&N?w.createElement($c.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},N):N}function a2(){let t=h2(),e=KA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,u)}var s2=w.createElement(a2,null),i2=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?w.createElement(Xn.Provider,{value:this.props.routeContext},w.createElement(Xg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function o2({routeContext:t,match:e,children:n}){let a=w.useContext(Lo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Xn.Provider,{value:t},n)}function l2(t,e=[],n=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,l=n==null?void 0:n.errors;if(l!=null){let m=i.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);rt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let u=!1,f=-1;if(n)for(let m=0;m<i.length;m++){let p=i[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:v,errors:y}=n,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){u=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((m,p,v)=>{let y,b=!1,_=null,C=null;n&&(y=l&&p.route.id?l[p.route.id]:void 0,_=p.route.errorElement||s2,u&&(f<0&&v===0?(oS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):f===v&&(b=!0,C=p.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,v+1)),S=()=>{let N;return y?N=_:b?N=C:p.route.Component?N=w.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=m,w.createElement(o2,{match:p,routeContext:{outlet:m,matches:x,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?w.createElement(i2,{location:n.location,revalidation:n.revalidation,component:_,error:y,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):S()},null)}function Qg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c2(t){let e=w.useContext(Lo);return rt(e,Qg(t)),e}function u2(t){let e=w.useContext(Tf);return rt(e,Qg(t)),e}function d2(t){let e=w.useContext(Xn);return rt(e,Qg(t)),e}function Zg(t){let e=d2(t),n=e.matches[e.matches.length-1];return rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function f2(){return Zg("useRouteId")}function h2(){var a;let t=w.useContext(Xg),e=u2("useRouteError"),n=Zg("useRouteError");return t!==void 0?t:(a=e.errors)==null?void 0:a[n]}function m2(){let{router:t}=c2("useNavigate"),e=Zg("useNavigate"),n=w.useRef(!1);return sS(()=>{n.current=!0}),w.useCallback(async(i,l={})=>{ur(n.current,aS),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var O_={};function oS(t,e,n){!e&&!O_[t]&&(O_[t]=!0,ur(!1,n))}w.memo(p2);function p2({routes:t,future:e,state:n}){return iS(t,void 0,n,e)}function Jg({to:t,replace:e,state:n,relative:a}){rt(Uo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(mr);ur(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(Xn),{pathname:u}=pr(),f=Ct(),m=Kg(t,Wg(l),u,a==="path"),p=JSON.stringify(m);return w.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:a})},[f,p,a,e,n]),null}function ey(t){return n2(t.context)}function ue(t){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function g2({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:i,static:l=!1}){rt(!Uo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=w.useMemo(()=>({basename:u,navigator:i,static:l,future:{}}),[u,i,l]);typeof n=="string"&&(n=Po(n));let{pathname:m="/",search:p="",hash:v="",state:y=null,key:b="default"}=n,_=w.useMemo(()=>{let C=cs(m,u);return C==null?null:{location:{pathname:C,search:p,hash:v,state:y,key:b},navigationType:a}},[u,m,p,v,y,b,a]);return ur(_!=null,`<Router basename="${u}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:w.createElement(mr.Provider,{value:f},w.createElement($c.Provider,{children:e,value:_}))}function lS({children:t,location:e}){return r2(Jp(t),e)}function Jp(t,e=[]){let n=[];return w.Children.forEach(t,(a,i)=>{if(!w.isValidElement(a))return;let l=[...e,i];if(a.type===w.Fragment){n.push.apply(n,Jp(a.props.children,l));return}rt(a.type===ue,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=Jp(a.props.children,l)),n.push(u)}),n}var Ud="get",Bd="application/x-www-form-urlencoded";function Rf(t){return t!=null&&typeof t.tagName=="string"}function y2(t){return Rf(t)&&t.tagName.toLowerCase()==="button"}function v2(t){return Rf(t)&&t.tagName.toLowerCase()==="form"}function b2(t){return Rf(t)&&t.tagName.toLowerCase()==="input"}function x2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _2(t,e){return t.button===0&&(!e||e==="_self")&&!x2(t)}var Cd=null;function w2(){if(Cd===null)try{new FormData(document.createElement("form"),0),Cd=!1}catch{Cd=!0}return Cd}var E2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xp(t){return t!=null&&!E2.has(t)?(ur(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bd}"`),null):t}function S2(t,e){let n,a,i,l,u;if(v2(t)){let f=t.getAttribute("action");a=f?cs(f,e):null,n=t.getAttribute("method")||Ud,i=xp(t.getAttribute("enctype"))||Bd,l=new FormData(t)}else if(y2(t)||b2(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(a=m?cs(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Ud,i=xp(t.getAttribute("formenctype"))||xp(f.getAttribute("enctype"))||Bd,l=new FormData(f,t),!w2()){let{name:p,type:v,value:y}=t;if(v==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,y)}}else{if(Rf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ud,a=null,i=Bd,u=t}return l&&i==="text/plain"&&(u=l,l=void 0),{action:a,method:n.toLowerCase(),encType:i,formData:l,body:u}}function ty(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function C2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function N2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function T2(t,e,n){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let u=await C2(l,n);return u.links?u.links():[]}return[]}));return I2(a.flat(1).filter(N2).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function k_(t,e,n,a,i,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var v;return n[p].pathname!==m.pathname||((v=n[p].route.path)==null?void 0:v.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>u(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{var y;let v=a.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function R2(t,e,{includeHydrateFallback:n}={}){return D2(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function D2(t){return[...new Set(t)]}function A2(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function I2(t,e){let n=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify(A2(i));return n.has(l)||(n.add(l),a.push({key:l,link:i})),a},[])}function O2(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function k2(){let t=w.useContext(Lo);return ty(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function j2(){let t=w.useContext(Tf);return ty(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ny=w.createContext(void 0);ny.displayName="FrameworkContext";function cS(){let t=w.useContext(ny);return ty(t,"You must render this element inside a <HydratedRouter> element"),t}function M2(t,e){let n=w.useContext(ny),[a,i]=w.useState(!1),[l,u]=w.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:y}=e,b=w.useRef(null);w.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let x=N=>{N.forEach(T=>{u(T.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[t]),w.useEffect(()=>{if(a){let x=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(x)}}},[a]);let _=()=>{i(!0)},C=()=>{i(!1),u(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:ac(f,_),onBlur:ac(m,C),onMouseEnter:ac(p,_),onMouseLeave:ac(v,C),onTouchStart:ac(y,_)}]:[!1,b,{}]}function ac(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function P2({page:t,...e}){let{router:n}=k2(),a=w.useMemo(()=>JE(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?w.createElement(U2,{page:t,matches:a,...e}):null}function L2(t){let{manifest:e,routeModules:n}=cS(),[a,i]=w.useState([]);return w.useEffect(()=>{let l=!1;return T2(t,e,n).then(u=>{l||i(u)}),()=>{l=!0}},[t,e,n]),a}function U2({page:t,matches:e,...n}){let a=pr(),{manifest:i,routeModules:l}=cS(),{loaderData:u,matches:f}=j2(),m=w.useMemo(()=>k_(t,e,f,i,a,"data"),[t,e,f,i,a]),p=w.useMemo(()=>k_(t,e,f,i,a,"assets"),[t,e,f,i,a]),v=w.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let _=new Set,C=!1;if(e.forEach(S=>{var T;let N=i.routes[S.route.id];!N||!N.hasLoader||(!m.some(D=>D.route.id===S.route.id)&&S.route.id in u&&((T=l[S.route.id])!=null&&T.shouldRevalidate)||N.hasClientLoader?C=!0:_.add(S.route.id))}),_.size===0)return[];let x=O2(t);return C&&_.size>0&&x.searchParams.set("_routes",e.filter(S=>_.has(S.route.id)).map(S=>S.route.id).join(",")),[x.pathname+x.search]},[u,a,i,m,e,t,l]),y=w.useMemo(()=>R2(p,i),[p,i]),b=L2(p);return w.createElement(w.Fragment,null,v.map(_=>w.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),y.map(_=>w.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),b.map(({key:_,link:C})=>w.createElement("link",{key:_,...C})))}function B2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uS&&(window.__reactRouterVersion="7.2.0")}catch{}function z2({basename:t,children:e,window:n}){let a=w.useRef();a.current==null&&(a.current=TA({window:n,v5Compat:!0}));let i=a.current,[l,u]=w.useState({action:i.action,location:i.location}),f=w.useCallback(m=>{w.startTransition(()=>u(m))},[u]);return w.useLayoutEffect(()=>i.listen(f),[i,f]),w.createElement(g2,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:i})}var dS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oa=w.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:i,reloadDocument:l,replace:u,state:f,target:m,to:p,preventScrollReset:v,viewTransition:y,...b},_){let{basename:C}=w.useContext(mr),x=typeof p=="string"&&dS.test(p),S,N=!1;if(typeof p=="string"&&x&&(S=p,uS))try{let B=new URL(window.location.href),V=p.startsWith("//")?new URL(B.protocol+p):new URL(p),te=cs(V.pathname,C);V.origin===B.origin&&te!=null?p=te+V.search+V.hash:N=!0}catch{ur(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=JA(p,{relative:i}),[D,M,j]=M2(a,b),L=V2(p,{replace:u,state:f,target:m,preventScrollReset:v,relative:i,viewTransition:y});function O(B){e&&e(B),B.defaultPrevented||L(B)}let q=w.createElement("a",{...b,...j,href:S||T,onClick:N||l?e:O,ref:B2(_,M),target:m,"data-discover":!x&&n==="render"?"true":void 0});return D&&!x?w.createElement(w.Fragment,null,q,w.createElement(P2,{page:T})):q});oa.displayName="Link";var F2=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:i=!1,style:l,to:u,viewTransition:f,children:m,...p},v){let y=Gc(u,{relative:p.relative}),b=pr(),_=w.useContext(Tf),{navigator:C,basename:x}=w.useContext(mr),S=_!=null&&K2(y)&&f===!0,N=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,T=b.pathname,D=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(T=T.toLowerCase(),D=D?D.toLowerCase():null,N=N.toLowerCase()),D&&x&&(D=cs(D,x)||D);const M=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let j=T===N||!i&&T.startsWith(N)&&T.charAt(M)==="/",L=D!=null&&(D===N||!i&&D.startsWith(N)&&D.charAt(N.length)==="/"),O={isActive:j,isPending:L,isTransitioning:S},q=j?e:void 0,B;typeof a=="function"?B=a(O):B=[a,j?"active":null,L?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(O):l;return w.createElement(oa,{...p,"aria-current":q,className:B,ref:v,style:V,to:u,viewTransition:f},typeof m=="function"?m(O):m)});F2.displayName="NavLink";var H2=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:i,state:l,method:u=Ud,action:f,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:y,...b},_)=>{let C=Y2(),x=W2(f,{relative:p}),S=u.toLowerCase()==="get"?"get":"post",N=typeof f=="string"&&dS.test(f),T=D=>{if(m&&m(D),D.defaultPrevented)return;D.preventDefault();let M=D.nativeEvent.submitter,j=(M==null?void 0:M.getAttribute("formmethod"))||u;C(M||D.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:i,state:l,relative:p,preventScrollReset:v,viewTransition:y})};return w.createElement("form",{ref:_,method:S,action:x,onSubmit:a?m:T,...b,"data-discover":!N&&t==="render"?"true":void 0})});H2.displayName="Form";function q2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fS(t){let e=w.useContext(Lo);return rt(e,q2(t)),e}function V2(t,{target:e,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:u}={}){let f=Ct(),m=pr(),p=Gc(t,{relative:l});return w.useCallback(v=>{if(_2(v,e)){v.preventDefault();let y=n!==void 0?n:Ec(m)===Ec(p);f(t,{replace:y,state:a,preventScrollReset:i,relative:l,viewTransition:u})}},[m,f,p,n,a,e,t,i,l,u])}var $2=0,G2=()=>`__${String(++$2)}__`;function Y2(){let{router:t}=fS("useSubmit"),{basename:e}=w.useContext(mr),n=f2();return w.useCallback(async(a,i={})=>{let{action:l,method:u,encType:f,formData:m,body:p}=S2(a,e);if(i.navigate===!1){let v=i.fetcherKey||G2();await t.fetch(v,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:m,body:p,formMethod:i.method||u,formEncType:i.encType||f,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:m,body:p,formMethod:i.method||u,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function W2(t,{relative:e}={}){let{basename:n}=w.useContext(mr),a=w.useContext(Xn);rt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...Gc(t||".",{relative:e})},u=pr();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(y=>y).forEach(y=>f.append("index",y));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ia([n,l.pathname])),Ec(l)}function K2(t,e={}){let n=w.useContext(rS);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=fS("useViewTransitionState"),i=Gc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=cs(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=cs(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Wd(i.pathname,u)!=null||Wd(i.pathname,l)!=null}new TextEncoder;var ry=ZE();const hS=Yg(ry);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mS=(...t)=>t.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:u,...f},m)=>w.createElement("svg",{ref:m,...Q2,width:e,height:e,stroke:t,strokeWidth:a?Number(n)*24/Number(e):n,className:mS("lucide",i),...f},[...u.map(([p,v])=>w.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(t,e)=>{const n=w.forwardRef(({className:a,...i},l)=>w.createElement(Z2,{ref:l,iconNode:e,className:mS(`lucide-${X2(t)}`,a),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],eI=Oe("Apple",J2);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pS=Oe("ArrowLeft",tI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],rI=Oe("Boxes",nI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],gS=Oe("Building2",aI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],yS=Oe("Calculator",sI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vS=Oe("Check",iI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],lI=Oe("ChefHat",oI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ay=Oe("ChevronDown",cI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],sy=Oe("ChevronUp",uI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],fI=Oe("ChevronsUpDown",dI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bS=Oe("CircleAlert",hI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],pI=Oe("CircleUser",mI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],wn=Oe("ClipboardList",gI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Df=Oe("Eye",yI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],xS=Oe("Factory",vI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xI=Oe("Lock",bI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],wI=Oe("LogIn",_I);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],j_=Oe("LogOut",EI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],CI=Oe("Menu",SI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],iy=Oe("MessageCircle",NI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],eg=Oe("Moon",TI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],_S=Oe("Package",RI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Bo=Oe("Pencil",DI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ts=Oe("Plus",AI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],OI=Oe("RefreshCcw",II);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],jI=Oe("Ruler",kI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],PI=Oe("Save",MI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],UI=Oe("ScrollText",LI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],wS=Oe("Search",BI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],M_=Oe("Settings",zI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],P_=Oe("ShoppingBag",FI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],tg=Oe("ShoppingCart",HI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],VI=Oe("Store",qI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ng=Oe("Sun",$I);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],zo=Oe("Trash2",GI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],WI=Oe("Truck",YI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],XI=Oe("User",KI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],ES=Oe("Users",QI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],SS=Oe("X",ZI);function CS(t){var e,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CS(t[e]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}function JI(){for(var t,e,n=0,a="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CS(t))&&(a&&(a+=" "),a+=e);return a}const oy="-",eO=t=>{const e=nO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:u=>{const f=u.split(oy);return f[0]===""&&f.length!==1&&f.shift(),NS(f,e)||tO(u)},getConflictingClassGroupIds:(u,f)=>{const m=n[u]||[];return f&&a[u]?[...m,...a[u]]:m}}},NS=(t,e)=>{var u;if(t.length===0)return e.classGroupId;const n=t[0],a=e.nextPart.get(n),i=a?NS(t.slice(1),a):void 0;if(i)return i;if(e.validators.length===0)return;const l=t.join(oy);return(u=e.validators.find(({validator:f})=>f(l)))==null?void 0:u.classGroupId},L_=/^\[(.+)\]$/,tO=t=>{if(L_.test(t)){const e=L_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},nO=t=>{const{theme:e,classGroups:n}=t,a={nextPart:new Map,validators:[]};for(const i in n)rg(n[i],a,i,e);return a},rg=(t,e,n,a)=>{t.forEach(i=>{if(typeof i=="string"){const l=i===""?e:U_(e,i);l.classGroupId=n;return}if(typeof i=="function"){if(rO(i)){rg(i(a),e,n,a);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([l,u])=>{rg(u,U_(e,l),n,a)})})},U_=(t,e)=>{let n=t;return e.split(oy).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},rO=t=>t.isThemeGetter,aO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,a=new Map;const i=(l,u)=>{n.set(l,u),e++,e>t&&(e=0,a=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=a.get(l))!==void 0)return i(l,u),u},set(l,u){n.has(l)?n.set(l,u):i(l,u)}}},ag="!",sg=":",sO=sg.length,iO=t=>{const{prefix:e,experimentalParseClassName:n}=t;let a=i=>{const l=[];let u=0,f=0,m=0,p;for(let C=0;C<i.length;C++){let x=i[C];if(u===0&&f===0){if(x===sg){l.push(i.slice(m,C)),m=C+sO;continue}if(x==="/"){p=C;continue}}x==="["?u++:x==="]"?u--:x==="("?f++:x===")"&&f--}const v=l.length===0?i:i.substring(m),y=oO(v),b=y!==v,_=p&&p>m?p-m:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:y,maybePostfixModifierPosition:_}};if(e){const i=e+sg,l=a;a=u=>u.startsWith(i)?l(u.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const i=a;a=l=>n({className:l,parseClassName:i})}return a},oO=t=>t.endsWith(ag)?t.substring(0,t.length-1):t.startsWith(ag)?t.substring(1):t,lO=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const i=[];let l=[];return a.forEach(u=>{u[0]==="["||e[u]?(i.push(...l.sort(),u),l=[]):l.push(u)}),i.push(...l.sort()),i}},cO=t=>({cache:aO(t.cacheSize),parseClassName:iO(t),sortModifiers:lO(t),...eO(t)}),uO=/\s+/,dO=(t,e)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:i,sortModifiers:l}=e,u=[],f=t.trim().split(uO);let m="";for(let p=f.length-1;p>=0;p-=1){const v=f[p],{isExternal:y,modifiers:b,hasImportantModifier:_,baseClassName:C,maybePostfixModifierPosition:x}=n(v);if(y){m=v+(m.length>0?" "+m:m);continue}let S=!!x,N=a(S?C.substring(0,x):C);if(!N){if(!S){m=v+(m.length>0?" "+m:m);continue}if(N=a(C),!N){m=v+(m.length>0?" "+m:m);continue}S=!1}const T=l(b).join(":"),D=_?T+ag:T,M=D+N;if(u.includes(M))continue;u.push(M);const j=i(N,S);for(let L=0;L<j.length;++L){const O=j[L];u.push(D+O)}m=v+(m.length>0?" "+m:m)}return m};function fO(){let t=0,e,n,a="";for(;t<arguments.length;)(e=arguments[t++])&&(n=TS(e))&&(a&&(a+=" "),a+=n);return a}const TS=t=>{if(typeof t=="string")return t;let e,n="";for(let a=0;a<t.length;a++)t[a]&&(e=TS(t[a]))&&(n&&(n+=" "),n+=e);return n};function hO(t,...e){let n,a,i,l=u;function u(m){const p=e.reduce((v,y)=>y(v),t());return n=cO(p),a=n.cache.get,i=n.cache.set,l=f,f(m)}function f(m){const p=a(m);if(p)return p;const v=dO(m,n);return i(m,v),v}return function(){return l(fO.apply(null,arguments))}}const It=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},RS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,DS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,mO=/^\d+\/\d+$/,pO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,io=t=>mO.test(t),Le=t=>!!t&&!Number.isNaN(Number(t)),Xs=t=>!!t&&Number.isInteger(Number(t)),B_=t=>t.endsWith("%")&&Le(t.slice(0,-1)),Ga=t=>pO.test(t),xO=()=>!0,_O=t=>gO.test(t)&&!yO.test(t),ly=()=>!1,wO=t=>vO.test(t),EO=t=>bO.test(t),SO=t=>!me(t)&&!pe(t),CO=t=>Fo(t,OS,ly),me=t=>RS.test(t),Qs=t=>Fo(t,kS,_O),_p=t=>Fo(t,PO,Le),NO=t=>Fo(t,AS,ly),TO=t=>Fo(t,IS,EO),RO=t=>Fo(t,ly,wO),pe=t=>DS.test(t),Nd=t=>Ho(t,kS),DO=t=>Ho(t,LO),AO=t=>Ho(t,AS),IO=t=>Ho(t,OS),OO=t=>Ho(t,IS),kO=t=>Ho(t,UO,!0),Fo=(t,e,n)=>{const a=RS.exec(t);return a?a[1]?e(a[1]):n(a[2]):!1},Ho=(t,e,n=!1)=>{const a=DS.exec(t);return a?a[1]?e(a[1]):n:!1},AS=t=>t==="position",jO=new Set(["image","url"]),IS=t=>jO.has(t),MO=new Set(["length","size","percentage"]),OS=t=>MO.has(t),kS=t=>t==="length",PO=t=>t==="number",LO=t=>t==="family-name",UO=t=>t==="shadow",BO=()=>{const t=It("color"),e=It("font"),n=It("text"),a=It("font-weight"),i=It("tracking"),l=It("leading"),u=It("breakpoint"),f=It("container"),m=It("spacing"),p=It("radius"),v=It("shadow"),y=It("inset-shadow"),b=It("drop-shadow"),_=It("blur"),C=It("perspective"),x=It("aspect"),S=It("ease"),N=It("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],L=()=>[pe,me,m],O=()=>[io,"full","auto",...L()],q=()=>[Xs,"none","subgrid",pe,me],B=()=>["auto",{span:["full",Xs,pe,me]},pe,me],V=()=>[Xs,"auto",pe,me],te=()=>["auto","min","max","fr",pe,me],re=()=>["start","end","center","between","around","evenly","stretch","baseline"],ce=()=>["start","end","center","stretch"],le=()=>["auto",...L()],de=()=>[io,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],H=()=>[t,pe,me],ie=()=>[B_,Qs],J=()=>["","none","full",p,pe,me],X=()=>["",Le,Nd,Qs],I=()=>["solid","dashed","dotted","double"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["","none",_,pe,me],W=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe,me],K=()=>["none",Le,pe,me],se=()=>["none",Le,pe,me],ne=()=>[Le,pe,me],ge=()=>[io,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ga],breakpoint:[Ga],color:[xO],container:[Ga],"drop-shadow":[Ga],ease:["in","out","in-out"],font:[SO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ga],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ga],shadow:[Ga],spacing:["px",Le],text:[Ga],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",io,me,pe,x]}],container:["container"],columns:[{columns:[Le,me,pe,f]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),me,pe]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[Xs,"auto",pe,me]}],basis:[{basis:[io,"full","auto",f,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Le,io,"auto","initial","none",me]}],grow:[{grow:["",Le,pe,me]}],shrink:[{shrink:["",Le,pe,me]}],order:[{order:[Xs,"first","last","none",pe,me]}],"grid-cols":[{"grid-cols":q()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":q()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":te()}],"auto-rows":[{"auto-rows":te()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...re(),"normal"]}],"justify-items":[{"justify-items":[...ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...ce()]}],"align-content":[{content:["normal",...re()]}],"align-items":[{items:[...ce(),"baseline"]}],"align-self":[{self:["auto",...ce(),"baseline"]}],"place-content":[{"place-content":re()}],"place-items":[{"place-items":[...ce(),"baseline"]}],"place-self":[{"place-self":["auto",...ce()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:le()}],mx:[{mx:le()}],my:[{my:le()}],ms:[{ms:le()}],me:[{me:le()}],mt:[{mt:le()}],mr:[{mr:le()}],mb:[{mb:le()}],ml:[{ml:le()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:de()}],w:[{w:[f,"screen",...de()]}],"min-w":[{"min-w":[f,"screen","none",...de()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...de()]}],h:[{h:["screen",...de()]}],"min-h":[{"min-h":["screen","none",...de()]}],"max-h":[{"max-h":["screen",...de()]}],"font-size":[{text:["base",n,Nd,Qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,pe,_p]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",B_,me]}],"font-family":[{font:[DO,me,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,pe,me]}],"line-clamp":[{"line-clamp":[Le,"none",pe,_p]}],leading:[{leading:[l,...L()]}],"list-image":[{"list-image":["none",pe,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pe,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:[Le,"from-font","auto",pe,Qs]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Le,"auto",pe,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),AO,NO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",IO,CO]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Xs,pe,me],radial:["",pe,me],conic:[Xs,pe,me]},OO,TO]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:ie()}],"gradient-via-pos":[{via:ie()}],"gradient-to-pos":[{to:ie()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...I(),"hidden","none"]}],"divide-style":[{divide:[...I(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...I(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Le,pe,me]}],"outline-w":[{outline:["",Le,Nd,Qs]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",v,kO,RO]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",pe,me,y]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Le,Qs]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":H()}],opacity:[{opacity:[Le,pe,me]}],"mix-blend":[{"mix-blend":[...$(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none",pe,me]}],blur:[{blur:z()}],brightness:[{brightness:[Le,pe,me]}],contrast:[{contrast:[Le,pe,me]}],"drop-shadow":[{"drop-shadow":["","none",b,pe,me]}],grayscale:[{grayscale:["",Le,pe,me]}],"hue-rotate":[{"hue-rotate":[Le,pe,me]}],invert:[{invert:["",Le,pe,me]}],saturate:[{saturate:[Le,pe,me]}],sepia:[{sepia:["",Le,pe,me]}],"backdrop-filter":[{"backdrop-filter":["","none",pe,me]}],"backdrop-blur":[{"backdrop-blur":z()}],"backdrop-brightness":[{"backdrop-brightness":[Le,pe,me]}],"backdrop-contrast":[{"backdrop-contrast":[Le,pe,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Le,pe,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Le,pe,me]}],"backdrop-invert":[{"backdrop-invert":["",Le,pe,me]}],"backdrop-opacity":[{"backdrop-opacity":[Le,pe,me]}],"backdrop-saturate":[{"backdrop-saturate":[Le,pe,me]}],"backdrop-sepia":[{"backdrop-sepia":["",Le,pe,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pe,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Le,"initial",pe,me]}],ease:[{ease:["linear","initial",S,pe,me]}],delay:[{delay:[Le,pe,me]}],animate:[{animate:["none",N,pe,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,pe,me]}],"perspective-origin":[{"perspective-origin":W()}],rotate:[{rotate:K()}],"rotate-x":[{"rotate-x":K()}],"rotate-y":[{"rotate-y":K()}],"rotate-z":[{"rotate-z":K()}],scale:[{scale:se()}],"scale-x":[{"scale-x":se()}],"scale-y":[{"scale-y":se()}],"scale-z":[{"scale-z":se()}],"scale-3d":["scale-3d"],skew:[{skew:ne()}],"skew-x":[{"skew-x":ne()}],"skew-y":[{"skew-y":ne()}],transform:[{transform:[pe,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:W()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ge()}],"translate-x":[{"translate-x":ge()}],"translate-y":[{"translate-y":ge()}],"translate-z":[{"translate-z":ge()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe,me]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Le,Nd,Qs,_p]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},zO=hO(BO);function Ie(...t){return zO(JI(t))}const ye=w.forwardRef(({className:t,variant:e="default",size:n="default",...a},i)=>{const l="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",u={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},f={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"};return d.jsx("button",{className:Ie(l,u[e],f[n],t),ref:i,...a})});ye.displayName="Button";const Wn=w.forwardRef(({className:t,type:e,...n},a)=>d.jsx("input",{type:e,className:Ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...n}));Wn.displayName="Input";const nt=w.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Ie("rounded-lg border border-border bg-card text-card-foreground shadow-sm",t),...e}));nt.displayName="Card";const fn=w.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Ie("flex flex-col space-y-1.5 p-6",t),...e}));fn.displayName="CardHeader";const hn=w.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:Ie("text-2xl font-semibold leading-none tracking-tight",t),...e}));hn.displayName="CardTitle";const jS=w.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:Ie("text-sm text-muted-foreground",t),...e}));jS.displayName="CardDescription";const pt=w.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Ie("p-6 pt-0",t),...e}));pt.displayName="CardContent";const MS=w.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Ie("flex items-center p-6 pt-0",t),...e}));MS.displayName="CardFooter";const FO=()=>{};var z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe=function(t,e){if(!t)throw qo(e)},qo=function(t){return new Error("Firebase Database ("+PS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=function(t){const e=[];let n=0;for(let a=0;a<t.length;a++){let i=t.charCodeAt(a);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&a+1<t.length&&(t.charCodeAt(a+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++a)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},HO=function(t){const e=[];let n=0,a=0;for(;n<t.length;){const i=t[n++];if(i<128)e[a++]=String.fromCharCode(i);else if(i>191&&i<224){const l=t[n++];e[a++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=t[n++],u=t[n++],f=t[n++],m=((i&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[a++]=String.fromCharCode((i&15)<<12|(l&63)<<6|u&63)}}return e.join("")},cy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let i=0;i<t.length;i+=3){const l=t[i],u=i+1<t.length,f=u?t[i+1]:0,m=i+2<t.length,p=m?t[i+2]:0,v=l>>2,y=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,_=p&63;m||(_=64,u||(b=64)),a.push(n[v],n[y],n[b],n[_])}return a.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let i=0;i<t.length;){const l=n[t.charAt(i++)],f=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,l==null||f==null||p==null||y==null)throw new qO;const b=l<<2|f>>4;if(a.push(b),p!==64){const _=f<<4&240|p>>2;if(a.push(_),y!==64){const C=p<<6&192|y;a.push(C)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const US=function(t){const e=LS(t);return cy.encodeByteArray(e,!0)},Kd=function(t){return US(t).replace(/\./g,"")},Xd=function(t){try{return cy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t){return BS(void 0,t)}function BS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!$O(n)||(t[n]=BS(t[n],e[n]));return t}function $O(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=()=>GO().__FIREBASE_DEFAULTS__,WO=()=>{if(typeof process>"u"||typeof z_>"u")return;const t=z_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xd(t[1]);return e&&JSON.parse(e)},uy=()=>{try{return FO()||YO()||WO()||KO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zS=t=>{var e,n;return(n=(e=uy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},XO=t=>{const e=zS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},FS=()=>{var t;return(t=uy())===null||t===void 0?void 0:t.config},HS=t=>{var e;return(e=uy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",i=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Kd(JSON.stringify(n)),Kd(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function ZO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ek(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tk(){return PS.NODE_ADMIN===!0}function nk(){try{return typeof indexedDB=="object"}catch{return!1}}function rk(){return new Promise((t,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(a);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(a),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var l;e(((l=i.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="FirebaseError";class bs extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=ak,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wc.prototype.create)}}class Wc{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},i=`${this.service}/${e}`,l=this.errors[e],u=l?sk(l,a):"Error",f=`${this.serviceName}: ${u} (${i}).`;return new bs(i,f,a)}}function sk(t,e){return t.replace(ik,(n,a)=>{const i=e[a];return i!=null?String(i):`<${a}?>`})}const ik=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){return JSON.parse(t)}function St(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=function(t){let e={},n={},a={},i="";try{const l=t.split(".");e=Sc(Xd(l[0])||""),n=Sc(Xd(l[1])||""),i=l[2],a=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:a,signature:i}},ok=function(t){const e=VS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},lk=function(t){const e=VS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Co(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ig(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qd(t,e,n){const a={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=e.call(n,t[i],i,t));return a}function ui(t,e){if(t===e)return!0;const n=Object.keys(t),a=Object.keys(e);for(const i of n){if(!a.includes(i))return!1;const l=t[i],u=e[i];if(F_(l)&&F_(u)){if(!ui(l,u))return!1}else if(l!==u)return!1}for(const i of a)if(!n.includes(i))return!1;return!0}function F_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t){const e=[];for(const[n,a]of Object.entries(t))Array.isArray(a)?a.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function dc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[i,l]=a.split("=");e[decodeURIComponent(i)]=decodeURIComponent(l)}}),e}function fc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const a=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)a[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)a[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const b=a[y-3]^a[y-8]^a[y-14]^a[y-16];a[y]=(b<<1|b>>>31)&4294967295}let i=this.chain_[0],l=this.chain_[1],u=this.chain_[2],f=this.chain_[3],m=this.chain_[4],p,v;for(let y=0;y<80;y++){y<40?y<20?(p=f^l&(u^f),v=1518500249):(p=l^u^f,v=1859775393):y<60?(p=l&u|f&(l|u),v=2400959708):(p=l^u^f,v=3395469782);const b=(i<<5|i>>>27)+p+m+v+a[y]&4294967295;m=f,f=u,u=(l<<30|l>>>2)&4294967295,l=i,i=b}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const a=n-this.blockSize;let i=0;const l=this.buf_;let u=this.inbuf_;for(;i<n;){if(u===0)for(;i<=a;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(l[u]=e.charCodeAt(i),++u,++i,u===this.blockSize){this.compress_(l),u=0;break}}else for(;i<n;)if(l[u]=e[i],++u,++i,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let a=0;for(let i=0;i<5;i++)for(let l=24;l>=0;l-=8)e[a]=this.chain_[i]>>l&255,++a;return e}}function uk(t,e){const n=new dk(t,e);return n.subscribe.bind(n)}class dk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let i;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");fk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:a},i.next===void 0&&(i.next=wp),i.error===void 0&&(i.error=wp),i.complete===void 0&&(i.complete=wp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wp(){}function Af(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=function(t){const e=[];let n=0;for(let a=0;a<t.length;a++){let i=t.charCodeAt(a);if(i>=55296&&i<=56319){const l=i-55296;a++,oe(a<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(a)-56320;i=65536+(l<<10)+u}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},If=function(t){let e=0;for(let n=0;n<t.length;n++){const a=t.charCodeAt(n);a<128?e++:a<2048?e+=2:a>=55296&&a<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class di{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mk=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new Yc;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&a.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gk(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:i});a.resolve(l)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);a===f&&u.resolve(i)}return i}onInit(e,n){var a;const i=this.normalizeInstanceIdentifier(n),l=(a=this.onInitCallbacks.get(i))!==null&&a!==void 0?a:new Set;l.add(e),this.onInitCallbacks.set(i,l);const u=this.instances.get(i);return u&&e(u,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const i of a)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:pk(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function pk(t){return t===Zs?void 0:t}function gk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const vk={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},bk=Xe.INFO,xk={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},_k=(t,e,...n)=>{if(e<t.logLevel)return;const a=new Date().toISOString(),i=xk[e];if(i)console[i](`[${a}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fy{constructor(e){this.name=e,this._logLevel=bk,this._logHandler=_k,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const wk=(t,e)=>e.some(n=>t instanceof n);let H_,q_;function Ek(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sk(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $S=new WeakMap,og=new WeakMap,GS=new WeakMap,Ep=new WeakMap,hy=new WeakMap;function Ck(t){const e=new Promise((n,a)=>{const i=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(ns(t.result)),i()},u=()=>{a(t.error),i()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&$S.set(n,t)}).catch(()=>{}),hy.set(e,t),e}function Nk(t){if(og.has(t))return;const e=new Promise((n,a)=>{const i=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),i()},u=()=>{a(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});og.set(t,e)}let lg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return og.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Tk(t){lg=t(lg)}function Rk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=t.call(Sp(this),e,...n);return GS.set(a,e.sort?e.sort():[e]),ns(a)}:Sk().includes(t)?function(...e){return t.apply(Sp(this),e),ns($S.get(this))}:function(...e){return ns(t.apply(Sp(this),e))}}function Dk(t){return typeof t=="function"?Rk(t):(t instanceof IDBTransaction&&Nk(t),wk(t,Ek())?new Proxy(t,lg):t)}function ns(t){if(t instanceof IDBRequest)return Ck(t);if(Ep.has(t))return Ep.get(t);const e=Dk(t);return e!==t&&(Ep.set(t,e),hy.set(e,t)),e}const Sp=t=>hy.get(t);function Ak(t,e,{blocked:n,upgrade:a,blocking:i,terminated:l}={}){const u=indexedDB.open(t,e),f=ns(u);return a&&u.addEventListener("upgradeneeded",m=>{a(ns(u.result),m.oldVersion,m.newVersion,ns(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),i&&m.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const Ik=["get","getKey","getAll","getAllKeys","count"],Ok=["put","add","delete","clear"],Cp=new Map;function V_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cp.get(e))return Cp.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,i=Ok.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(i||Ik.includes(n)))return;const l=async function(u,...f){const m=this.transaction(u,i?"readwrite":"readonly");let p=m.store;return a&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),i&&m.done]))[0]};return Cp.set(e,l),l}Tk(t=>({...t,get:(e,n,a)=>V_(e,n)||t.get(e,n,a),has:(e,n)=>!!V_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jk(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function jk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cg="@firebase/app",$_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new fy("@firebase/app"),Mk="@firebase/app-compat",Pk="@firebase/analytics-compat",Lk="@firebase/analytics",Uk="@firebase/app-check-compat",Bk="@firebase/app-check",zk="@firebase/auth",Fk="@firebase/auth-compat",Hk="@firebase/database",qk="@firebase/data-connect",Vk="@firebase/database-compat",$k="@firebase/functions",Gk="@firebase/functions-compat",Yk="@firebase/installations",Wk="@firebase/installations-compat",Kk="@firebase/messaging",Xk="@firebase/messaging-compat",Qk="@firebase/performance",Zk="@firebase/performance-compat",Jk="@firebase/remote-config",ej="@firebase/remote-config-compat",tj="@firebase/storage",nj="@firebase/storage-compat",rj="@firebase/firestore",aj="@firebase/vertexai",sj="@firebase/firestore-compat",ij="firebase",oj="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="[DEFAULT]",lj={[cg]:"fire-core",[Mk]:"fire-core-compat",[Lk]:"fire-analytics",[Pk]:"fire-analytics-compat",[Bk]:"fire-app-check",[Uk]:"fire-app-check-compat",[zk]:"fire-auth",[Fk]:"fire-auth-compat",[Hk]:"fire-rtdb",[qk]:"fire-data-connect",[Vk]:"fire-rtdb-compat",[$k]:"fire-fn",[Gk]:"fire-fn-compat",[Yk]:"fire-iid",[Wk]:"fire-iid-compat",[Kk]:"fire-fcm",[Xk]:"fire-fcm-compat",[Qk]:"fire-perf",[Zk]:"fire-perf-compat",[Jk]:"fire-rc",[ej]:"fire-rc-compat",[tj]:"fire-gcs",[nj]:"fire-gcs-compat",[rj]:"fire-fst",[sj]:"fire-fst-compat",[aj]:"fire-vertex","fire-js":"fire-js",[ij]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new Map,cj=new Map,dg=new Map;function G_(t,e){try{t.container.addComponent(e)}catch(n){ca.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function No(t){const e=t.name;if(dg.has(e))return ca.debug(`There were multiple attempts to register component ${e}.`),!1;dg.set(e,t);for(const n of Zd.values())G_(n,t);for(const n of cj.values())G_(n,t);return!0}function my(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ir(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new Wc("app","Firebase",uj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=oj;function YS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const a=Object.assign({name:ug,automaticDataCollectionEnabled:!1},e),i=a.name;if(typeof i!="string"||!i)throw rs.create("bad-app-name",{appName:String(i)});if(n||(n=FS()),!n)throw rs.create("no-options");const l=Zd.get(i);if(l){if(ui(n,l.options)&&ui(a,l.config))return l;throw rs.create("duplicate-app",{appName:i})}const u=new yk(i);for(const m of dg.values())u.addComponent(m);const f=new dj(n,a,u);return Zd.set(i,f),f}function WS(t=ug){const e=Zd.get(t);if(!e&&t===ug&&FS())return YS();if(!e)throw rs.create("no-app",{appName:t});return e}function as(t,e,n){var a;let i=(a=lj[t])!==null&&a!==void 0?a:t;n&&(i+=`-${n}`);const l=i.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${i}" with version "${e}":`];l&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ca.warn(f.join(" "));return}No(new di(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="firebase-heartbeat-database",hj=1,Cc="firebase-heartbeat-store";let Np=null;function KS(){return Np||(Np=Ak(fj,hj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cc)}catch(n){console.warn(n)}}}}).catch(t=>{throw rs.create("idb-open",{originalErrorMessage:t.message})})),Np}async function mj(t){try{const n=(await KS()).transaction(Cc),a=await n.objectStore(Cc).get(XS(t));return await n.done,a}catch(e){if(e instanceof bs)ca.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ca.warn(n.message)}}}async function Y_(t,e){try{const a=(await KS()).transaction(Cc,"readwrite");await a.objectStore(Cc).put(e,XS(t)),await a.done}catch(n){if(n instanceof bs)ca.warn(n.message);else{const a=rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ca.warn(a.message)}}}function XS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=1024,gj=30;class yj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bj(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=W_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>gj){const u=xj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ca.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=W_(),{heartbeatsToSend:a,unsentEntries:i}=vj(this._heartbeatsCache.heartbeats),l=Kd(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return ca.warn(n),""}}}function W_(){return new Date().toISOString().substring(0,10)}function vj(t,e=pj){const n=[];let a=t.slice();for(const i of t){const l=n.find(u=>u.agent===i.agent);if(l){if(l.dates.push(i.date),K_(n)>e){l.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),K_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class bj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nk()?rk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Y_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Y_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function K_(t){return Kd(JSON.stringify({version:2,heartbeats:t})).length}function xj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let a=1;a<t.length;a++)t[a].date<n&&(n=t[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t){No(new di("platform-logger",e=>new kk(e),"PRIVATE")),No(new di("heartbeat",e=>new yj(e),"PRIVATE")),as(cg,$_,t),as(cg,$_,"esm2017"),as("fire-js","")}_j("");var Rr=function(){return Rr=Object.assign||function(e){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Rr.apply(this,arguments)};function Kc(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n}function wj(t,e,n){if(n||arguments.length===2)for(var a=0,i=e.length,l;a<i;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return t.concat(l||Array.prototype.slice.call(e))}function QS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ej=QS,ZS=new Wc("auth","Firebase",QS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new fy("@firebase/auth");function Sj(t,...e){Jd.logLevel<=Xe.WARN&&Jd.warn(`Auth (${$o}): ${t}`,...e)}function zd(t,...e){Jd.logLevel<=Xe.ERROR&&Jd.error(`Auth (${$o}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,...e){throw py(t,...e)}function Ir(t,...e){return py(t,...e)}function JS(t,e,n){const a=Object.assign(Object.assign({},Ej()),{[e]:n});return new Wc("auth","Firebase",a).create(e,{appName:t.name})}function ss(t){return JS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function py(t,...e){if(typeof t!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=t.name),t._errorFactory.create(n,...a)}return ZS.create(t,...e)}function we(t,e,...n){if(!t)throw py(e,...n)}function na(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zd(e),new Error(e)}function ua(t,e){t||na(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Cj(){return X_()==="http:"||X_()==="https:"}function X_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Cj()||JO()||"connection"in navigator)?navigator.onLine:!0}function Tj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ua(n>e,"Short delay should be less than long delay!"),this.isMobile=dy()||qS()}get(){return Nj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t,e){ua(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=new Xc(3e4,6e4);function wi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xs(t,e,n,a,i={}){return t1(t,i,async()=>{let l={},u={};a&&(e==="GET"?u=a:l={body:JSON.stringify(a)});const f=Vo(Object.assign({key:t.config.apiKey},u)).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:m},l);return ZO()||(p.referrerPolicy="no-referrer"),e1.fetch()(n1(t,t.config.apiHost,n,f),p)})}async function t1(t,e,n){t._canInitEmulator=!1;const a=Object.assign(Object.assign({},Rj),e);try{const i=new Ij(t),l=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Td(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Td(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw Td(t,"user-disabled",u);const v=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw JS(t,v,p);dr(t,v)}}catch(i){if(i instanceof bs)throw i;dr(t,"network-request-failed",{message:String(i)})}}async function Of(t,e,n,a,i={}){const l=await xs(t,e,n,a,i);return"mfaPendingCredential"in l&&dr(t,"multi-factor-auth-required",{_serverResponse:l}),l}function n1(t,e,n,a){const i=`${e}${n}?${a}`;return t.config.emulator?gy(t.config,i):`${t.config.apiScheme}://${i}`}function Aj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ij{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Ir(this.auth,"network-request-failed")),Dj.get())})}}function Td(t,e,n){const a={appName:t.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const i=Ir(t,e,a);return i.customData._tokenResponse=n,i}function Q_(t){return t!==void 0&&t.enterprise!==void 0}class Oj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Aj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kj(t,e){return xs(t,"GET","/v2/recaptchaConfig",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(t,e){return xs(t,"POST","/v1/accounts:delete",e)}async function r1(t,e){return xs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Mj(t,e=!1){const n=Mt(t),a=await n.getIdToken(e),i=yy(a);we(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:i,token:a,authTime:yc(Tp(i.auth_time)),issuedAtTime:yc(Tp(i.iat)),expirationTime:yc(Tp(i.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Tp(t){return Number(t)*1e3}function yy(t){const[e,n,a]=t.split(".");if(e===void 0||n===void 0||a===void 0)return zd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Xd(n);return i?JSON.parse(i):(zd("Failed to decode base64 JWT payload"),null)}catch(i){return zd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Z_(t){const e=yy(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(t,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof bs&&Pj(a)&&t.auth.currentUser===t&&await t.auth.signOut(),a}}function Pj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yc(this.lastLoginAt),this.creationTime=yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ef(t){var e;const n=t.auth,a=await t.getIdToken(),i=await Nc(t,r1(n,{idToken:a}));we(i==null?void 0:i.users.length,n,"internal-error");const l=i.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?a1(l.providerUserInfo):[],f=Bj(t.providerData,u),m=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),v=m?p:!1,y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new hg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(t,y)}async function Uj(t){const e=Mt(t);await ef(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Bj(t,e){return[...t.filter(a=>!e.some(i=>i.providerId===a.providerId)),...e]}function a1(t){return t.map(e=>{var{providerId:n}=e,a=Kc(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(t,e){const n=await t1(t,{},async()=>{const a=Vo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=t.config,u=n1(t,i,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",e1.fetch()(u,{method:"POST",headers:f,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Fj(t,e){return xs(t,"POST","/v2/accounts:revokeToken",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=Z_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:i,expiresIn:l}=await zj(e,n);this.updateTokensAndExpiration(a,i,Number(l))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:i,expirationTime:l}=n,u=new vo;return a&&(we(typeof a=="string","internal-error",{appName:e}),u.refreshToken=a),i&&(we(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),l&&(we(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ra{constructor(e){var{uid:n,auth:a,stsTokenManager:i}=e,l=Kc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new hg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Nc(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Mj(this,e)}reload(){return Uj(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ra(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await ef(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await Nc(this,jj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,i,l,u,f,m,p,v;const y=(a=n.displayName)!==null&&a!==void 0?a:void 0,b=(i=n.email)!==null&&i!==void 0?i:void 0,_=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,C=(u=n.photoURL)!==null&&u!==void 0?u:void 0,x=(f=n.tenantId)!==null&&f!==void 0?f:void 0,S=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,N=(p=n.createdAt)!==null&&p!==void 0?p:void 0,T=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:D,emailVerified:M,isAnonymous:j,providerData:L,stsTokenManager:O}=n;we(D&&O,e,"internal-error");const q=vo.fromJSON(this.name,O);we(typeof D=="string",e,"internal-error"),Ya(y,e.name),Ya(b,e.name),we(typeof M=="boolean",e,"internal-error"),we(typeof j=="boolean",e,"internal-error"),Ya(_,e.name),Ya(C,e.name),Ya(x,e.name),Ya(S,e.name),Ya(N,e.name),Ya(T,e.name);const B=new ra({uid:D,auth:e,email:b,emailVerified:M,displayName:y,isAnonymous:j,photoURL:C,phoneNumber:_,tenantId:x,stsTokenManager:q,createdAt:N,lastLoginAt:T});return L&&Array.isArray(L)&&(B.providerData=L.map(V=>Object.assign({},V))),S&&(B._redirectEventId=S),B}static async _fromIdTokenResponse(e,n,a=!1){const i=new vo;i.updateFromServerResponse(n);const l=new ra({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:a});return await ef(l),l}static async _fromGetAccountInfoResponse(e,n,a){const i=n.users[0];we(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?a1(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(l!=null&&l.length),f=new vo;f.updateFromIdToken(a);const m=new ra({uid:i.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new hg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=new Map;function aa(t){ua(t instanceof Function,"Expected a class definition");let e=J_.get(t);return e?(ua(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,J_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}s1.type="NONE";const ew=s1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t,e,n){return`firebase:${t}:${e}:${n}`}class bo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:i,name:l}=this.auth;this.fullUserKey=Fd(this.userKey,i.apiKey,l),this.fullPersistenceKey=Fd("persistence",i.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ra._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new bo(aa(ew),e,a);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=i[0]||aa(ew);const u=Fd(a,e.config.apiKey,e.name);let f=null;for(const p of n)try{const v=await p._get(u);if(v){const y=ra._fromJSON(e,v);p!==l&&(f=y),l=p;break}}catch{}const m=i.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new bo(l,e,a):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new bo(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(c1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d1(e))return"Blackberry";if(f1(e))return"Webos";if(o1(e))return"Safari";if((e.includes("chrome/")||l1(e))&&!e.includes("edge/"))return"Chrome";if(u1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=t.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function i1(t=tn()){return/firefox\//i.test(t)}function o1(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l1(t=tn()){return/crios\//i.test(t)}function c1(t=tn()){return/iemobile/i.test(t)}function u1(t=tn()){return/android/i.test(t)}function d1(t=tn()){return/blackberry/i.test(t)}function f1(t=tn()){return/webos/i.test(t)}function vy(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Hj(t=tn()){var e;return vy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qj(){return ek()&&document.documentMode===10}function h1(t=tn()){return vy(t)||u1(t)||f1(t)||d1(t)||/windows phone/i.test(t)||c1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t,e=[]){let n;switch(t){case"Browser":n=tw(tn());break;case"Worker":n=`${tw(tn())}-${t}`;break;default:n=t}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$o}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});a.onAbort=n,this.queue.push(a);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(t,e={}){return xs(t,"GET","/v2/passwordPolicy",wi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=6;class Yj{constructor(e){var n,a,i,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:Gj,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,i,l,u,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(a=m.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(i=m.containsLowercaseLetter)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(u=m.containsNumericCharacter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let i=0;i<e.length;i++)a=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n,a,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nw(this),this.idTokenSubscription=new nw(this),this.beforeStateQueue=new Vj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=aa(n)),this._initializationPromise=this.queue(async()=>{var a,i;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await r1(this,{idToken:e}),a=await ra._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ir(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let i=a,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=i==null?void 0:i._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&(m!=null&&m.user)&&(i=m.user,l=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ef(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Tj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(ss(this));const n=e?Mt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(aa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $j(this),n=new Yj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wc("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await Fj(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&aa(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[aa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,i){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,a,i);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Sj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Go(t){return Mt(t)}class nw{constructor(e){this.auth=e,this.observer=null,this.addObserver=uk(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kj(t){kf=t}function p1(t){return kf.loadJS(t)}function Xj(){return kf.recaptchaEnterpriseScript}function Qj(){return kf.gapiScript}function Zj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Jj{constructor(){this.enterprise=new eM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tM="recaptcha-enterprise",g1="NO_RECAPTCHA";class nM{constructor(e){this.type=tM,this.auth=Go(e)}async verify(e="verify",n=!1){async function a(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{kj(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new Oj(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{f(m)})})}function i(l,u,f){const m=window.grecaptcha;Q_(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(g1)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jj().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{a(this.auth).then(f=>{if(!n&&Q_(window.grecaptcha))i(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=Xj();m.length!==0&&(m+=f),p1(m).then(()=>{i(f,l,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function rw(t,e,n,a=!1,i=!1){const l=new nM(t);let u;if(i)u=g1;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return a?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function aw(t,e,n,a,i){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await rw(t,e,n,n==="getOobCode");return a(t,u)}else return a(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await rw(t,e,n,n==="getOobCode");return a(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t,e){const n=my(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),l=n.getOptions();if(ui(l,e??{}))return i;dr(i,"already-initialized")}return n.initialize({options:e})}function aM(t,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(aa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function sM(t,e,n){const a=Go(t);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const i=!1,l=y1(e),{host:u,port:f}=iM(e),m=f===null?"":`:${f}`,p={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(ui(p,a.config.emulator)&&ui(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,oM()}function y1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iM(t){const e=y1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(a);if(i){const l=i[1];return{host:l,port:sw(a.substr(l.length+1))}}else{const[l,u]=a.split(":");return{host:l,port:sw(u)}}}function sw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return na("not implemented")}_getIdTokenResponse(e){return na("not implemented")}_linkToIdToken(e,n){return na("not implemented")}_getReauthenticationResolver(e){return na("not implemented")}}async function lM(t,e){return xs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(t,e){return Of(t,"POST","/v1/accounts:signInWithPassword",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(t,e){return Of(t,"POST","/v1/accounts:signInWithEmailLink",wi(t,e))}async function dM(t,e){return Of(t,"POST","/v1/accounts:signInWithEmailLink",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends by{constructor(e,n,a,i=null){super("password",a),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Tc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Tc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return aw(e,n,"signInWithPassword",cM);case"emailLink":return uM(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return aw(e,a,"signUpPassword",lM);case"emailLink":return dM(e,{idToken:n,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(t,e){return Of(t,"POST","/v1/accounts:signInWithIdp",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="http://localhost";class fi extends by{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:i}=n,l=Kc(n,["providerId","signInMethod"]);if(!a||!i)return null;const u=new fi(a,i);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return xo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,xo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xo(e,n)}buildRequest(){const e={requestUri:fM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mM(t){const e=dc(fc(t)).link,n=e?dc(fc(e)).deep_link_id:null,a=dc(fc(t)).deep_link_id;return(a?dc(fc(a)).link:null)||a||n||e||t}class xy{constructor(e){var n,a,i,l,u,f;const m=dc(fc(e)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,v=(a=m.oobCode)!==null&&a!==void 0?a:null,y=hM((i=m.mode)!==null&&i!==void 0?i:null);we(p&&v&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=m.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=mM(e);try{return new xy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,n){return Tc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=xy.parseLink(n);return we(a,"argument-error"),Tc._fromEmailAndCode(e,a.code,a.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends v1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Qc{constructor(){super("facebook.com")}static credential(e){return fi._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xa.credential(e.oauthAccessToken)}catch{return null}}}Xa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fi._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Qa.credential(n,a)}catch{return null}}}Qa.GOOGLE_SIGN_IN_METHOD="google.com";Qa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends Qc{constructor(){super("github.com")}static credential(e){return fi._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Za.credential(e.oauthAccessToken)}catch{return null}}}Za.GITHUB_SIGN_IN_METHOD="github.com";Za.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends Qc{constructor(){super("twitter.com")}static credential(e,n){return fi._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Ja.credential(n,a)}catch{return null}}}Ja.TWITTER_SIGN_IN_METHOD="twitter.com";Ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,i=!1){const l=await ra._fromIdTokenResponse(e,a,i),u=iw(a);return new To({user:l,providerId:u,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const i=iw(a);return new To({user:e,providerId:i,_tokenResponse:a,operationType:n})}}function iw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends bs{constructor(e,n,a,i){var l;super(n.code,n.message),this.operationType=a,this.user=i,Object.setPrototypeOf(this,tf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,i){return new tf(e,n,a,i)}}function b1(t,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?tf._fromErrorAndOperation(t,l,e,a):l})}async function pM(t,e,n=!1){const a=await Nc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return To._forOperation(t,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(t,e,n=!1){const{auth:a}=t;if(ir(a.app))return Promise.reject(ss(a));const i="reauthenticate";try{const l=await Nc(t,b1(a,i,e,t),n);we(l.idToken,a,"internal-error");const u=yy(l.idToken);we(u,a,"internal-error");const{sub:f}=u;return we(t.uid===f,a,"user-mismatch"),To._forOperation(t,i,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&dr(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(t,e,n=!1){if(ir(t.app))return Promise.reject(ss(t));const a="signIn",i=await b1(t,a,e),l=await To._fromIdTokenResponse(t,a,i);return n||await t._updateCurrentUser(l.user),l}async function yM(t,e){return x1(Go(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t){const e=Go(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function bM(t,e,n){return ir(t.app)?Promise.reject(ss(t)):yM(Mt(t),Yo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&vM(t),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t,e){return Mt(t).setPersistence(e)}function _M(t,e,n,a){return Mt(t).onIdTokenChanged(e,n,a)}function wM(t,e,n){return Mt(t).beforeAuthStateChanged(e,n)}function EM(t,e,n,a){return Mt(t).onAuthStateChanged(e,n,a)}function SM(t){return Mt(t).signOut()}const nf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nf,"1"),this.storage.removeItem(nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=1e3,NM=10;class w1 extends _1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),i=this.localCache[n];a!==i&&e(n,i,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const a=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(a);!n&&this.localCache[a]===u||this.notifyListeners(a,u)},l=this.storage.getItem(a);qj()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,NM):i()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const i of Array.from(a))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},CM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}w1.type="LOCAL";const E1=w1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends _1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}S1.type="SESSION";const _y=S1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const a=new jf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:i,data:l}=n.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:i});const f=Array.from(u).map(async p=>p(n.origin,l)),m=await TM(f);n.ports[0].postMessage({status:"done",eventId:a,eventType:i,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=wy("",20);i.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},a);u={messageChannel:i,onMessage(y){const b=y;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function DM(t){Or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function AM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function OM(){return C1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="firebaseLocalStorageDb",kM=1,rf="firebaseLocalStorage",T1="fbase_key";class Zc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mf(t,e){return t.transaction([rf],e?"readwrite":"readonly").objectStore(rf)}function jM(){const t=indexedDB.deleteDatabase(N1);return new Zc(t).toPromise()}function mg(){const t=indexedDB.open(N1,kM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const a=t.result;try{a.createObjectStore(rf,{keyPath:T1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const a=t.result;a.objectStoreNames.contains(rf)?e(a):(a.close(),await jM(),e(await mg()))})})}async function ow(t,e,n){const a=Mf(t,!0).put({[T1]:e,value:n});return new Zc(a).toPromise()}async function MM(t,e){const n=Mf(t,!1).get(e),a=await new Zc(n).toPromise();return a===void 0?null:a.value}function lw(t,e){const n=Mf(t,!0).delete(e);return new Zc(n).toPromise()}const PM=800,LM=3;class R1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>LM)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jf._getInstance(OM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await AM(),!this.activeServiceWorker)return;this.sender=new RM(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mg();return await ow(e,nf,"1"),await lw(e,nf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>ow(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>MM(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=Mf(i,!1).getAll();return new Zc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)a.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!a.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const i of Array.from(a))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}R1.type="LOCAL";const UM=R1;new Xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t,e){return e?aa(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey extends by{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zM(t){return x1(t.auth,new Ey(t),t.bypassAuthState)}function FM(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),gM(n,new Ey(t),t.bypassAuthState)}async function HM(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),pM(n,new Ey(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n,a,i,l=!1){this.auth=e,this.resolver=a,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:i,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:a,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zM;case"linkViaPopup":case"linkViaRedirect":return HM;case"reauthViaPopup":case"reauthViaRedirect":return FM;default:dr(this.auth,"internal-error")}}resolve(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=new Xc(2e3,1e4);class mo extends D1{constructor(e,n,a,i,l){super(e,n,i,l),this.provider=a,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){ua(this.filter.length===1,"Popup operations only handle one event");const e=wy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qM.get())};e()}}mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="pendingRedirect",Hd=new Map;class $M extends D1{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Hd.get(this.auth._key());if(!e){try{const a=await GM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Hd.set(this.auth._key(),e)}return this.bypassAuthState||Hd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GM(t,e){const n=KM(e),a=WM(t);if(!await a._isAvailable())return!1;const i=await a._get(n)==="true";return await a._remove(n),i}function YM(t,e){Hd.set(t._key(),e)}function WM(t){return aa(t._redirectPersistence)}function KM(t){return Fd(VM,t.config.apiKey,t.name)}async function XM(t,e,n=!1){if(ir(t.app))return Promise.reject(ss(t));const a=Go(t),i=BM(a,e),u=await new $M(a,i,n).execute();return u&&!n&&(delete u.user._redirectEventId,await a._persistUserIfCurrent(u.user),await a._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=10*60*1e3;class ZM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!A1(e)){const i=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Ir(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QM&&this.cachedEventUids.clear(),this.cachedEventUids.has(cw(e))}saveEventToCache(e){this.cachedEventUids.add(cw(e)),this.lastProcessedEventTime=Date.now()}}function cw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function A1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(t,e={}){return xs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nP=/^https?/;async function rP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eP(t);for(const n of e)try{if(aP(n))return}catch{}dr(t,"unauthorized-domain")}function aP(t){const e=fg(),{protocol:n,hostname:a}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&a===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===a}if(!nP.test(n))return!1;if(tP.test(t))return a===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=new Xc(3e4,6e4);function uw(){const t=Or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iP(t){return new Promise((e,n)=>{var a,i,l;function u(){uw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uw(),n(Ir(t,"network-request-failed"))},timeout:sP.get()})}if(!((i=(a=Or().gapi)===null||a===void 0?void 0:a.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((l=Or().gapi)===null||l===void 0)&&l.load)u();else{const f=Zj("iframefcb");return Or()[f]=()=>{gapi.load?u():n(Ir(t,"network-request-failed"))},p1(`${Qj()}?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw qd=null,e})}let qd=null;function oP(t){return qd=qd||iP(t),qd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=new Xc(5e3,15e3),cP="__/auth/iframe",uP="emulator/auth/iframe",dP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hP(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gy(e,uP):`https://${t.config.authDomain}/${cP}`,a={apiKey:e.apiKey,appName:t.name,v:$o},i=fP.get(t.config.apiHost);i&&(a.eid=i);const l=t._getFrameworks();return l.length&&(a.fw=l.join(",")),`${n}?${Vo(a).slice(1)}`}async function mP(t){const e=await oP(t),n=Or().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:hP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dP,dontclear:!0},a=>new Promise(async(i,l)=>{await a.restyle({setHideOnLeave:!1});const u=Ir(t,"network-request-failed"),f=Or().setTimeout(()=>{l(u)},lP.get());function m(){Or().clearTimeout(f),i(a)}a.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gP=500,yP=600,vP="_blank",bP="http://localhost";class dw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xP(t,e,n,a=gP,i=yP){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-a)/2,0).toString();let f="";const m=Object.assign(Object.assign({},pP),{width:a.toString(),height:i.toString(),top:l,left:u}),p=tn().toLowerCase();n&&(f=l1(p)?vP:n),i1(p)&&(e=e||bP,m.scrollbars="yes");const v=Object.entries(m).reduce((b,[_,C])=>`${b}${_}=${C},`,"");if(Hj(p)&&f!=="_self")return _P(e||"",f),new dw(null);const y=window.open(e||"",f,v);we(y,t,"popup-blocked");try{y.focus()}catch{}return new dw(y)}function _P(t,e){const n=document.createElement("a");n.href=t,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="__/auth/handler",EP="emulator/auth/handler",SP=encodeURIComponent("fac");async function fw(t,e,n,a,i,l){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:a,v:$o,eventId:i};if(e instanceof v1){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",ig(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,y]of Object.entries({}))u[v]=y}if(e instanceof Qc){const v=e.getScopes().filter(y=>y!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await t._getAppCheckToken(),p=m?`#${SP}=${encodeURIComponent(m)}`:"";return`${CP(t)}?${Vo(f).slice(1)}${p}`}function CP({config:t}){return t.emulator?gy(t,EP):`https://${t.authDomain}/${wP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="webStorageSupport";class NP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_y,this._completeRedirectFn=XM,this._overrideRedirectResult=YM}async _openPopup(e,n,a,i){var l;ua((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await fw(e,n,a,fg(),i);return xP(e,u,wy())}async _openRedirect(e,n,a,i){await this._originValidation(e);const l=await fw(e,n,a,fg(),i);return DM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:l}=this.eventManagers[n];return i?Promise.resolve(i):(ua(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await mP(e),a=new ZM(e);return n.register("authEvent",i=>(we(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:a.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rp,{type:Rp},i=>{var l;const u=(l=i==null?void 0:i[0])===null||l===void 0?void 0:l[Rp];u!==void 0&&n(!!u),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return h1()||o1()||vy()}}const TP=NP;var hw="@firebase/auth",mw="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AP(t){No(new di("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=a.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m1(t)},p=new Wj(a,i,l,m);return aM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),No(new di("auth-internal",e=>{const n=Go(e.getProvider("auth").getImmediate());return(a=>new RP(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(hw,mw,DP(t)),as(hw,mw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=5*60,OP=HS("authIdTokenMaxAge")||IP;let pw=null;const kP=t=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>OP)return;const i=n==null?void 0:n.token;pw!==i&&(pw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jP(t=WS()){const e=my(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rM(t,{popupRedirectResolver:TP,persistence:[UM,E1,_y]}),a=HS("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const u=kP(l.toString());wM(n,u,()=>u(n.currentUser)),_M(n,f=>u(f))}}const i=zS("auth");return i&&sM(n,`http://${i}`),n}function MP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Kj({loadJS(t){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",t),a.onload=e,a.onerror=i=>{const l=Ir("internal-error");l.customData=i,n(l)},a.type="text/javascript",a.charset="UTF-8",MP().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AP("Browser");var PP="firebase",LP="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(PP,LP,"app");var gw={};const yw="@firebase/database",vw="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I1="";function UP(t){I1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),St(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Sc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Mr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new BP(e)}}catch{}return new zP},ii=O1("localStorage"),FP=O1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new fy("@firebase/database"),HP=function(){let t=1;return function(){return t++}}(),k1=function(t){const e=hk(t),n=new ck;n.update(e);const a=n.digest();return cy.encodeByteArray(a)},Jc=function(...t){let e="";for(let n=0;n<t.length;n++){const a=t[n];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?e+=Jc.apply(null,a):typeof a=="object"?e+=St(a):e+=a,e+=" "}return e};let vc=null,bw=!0;const qP=function(t,e){oe(!0,"Can't turn on custom loggers persistently."),_o.logLevel=Xe.VERBOSE,vc=_o.log.bind(_o)},Bt=function(...t){if(bw===!0&&(bw=!1,vc===null&&FP.get("logging_enabled")===!0&&qP()),vc){const e=Jc.apply(null,t);vc(e)}},eu=function(t){return function(...e){Bt(t,...e)}},pg=function(...t){const e="FIREBASE INTERNAL ERROR: "+Jc(...t);_o.error(e)},da=function(...t){const e=`FIREBASE FATAL ERROR: ${Jc(...t)}`;throw _o.error(e),new Error(e)},en=function(...t){const e="FIREBASE WARNING: "+Jc(...t);_o.warn(e)},VP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&en("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Sy=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},$P=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},hi="[MIN_NAME]",us="[MAX_NAME]",Ei=function(t,e){if(t===e)return 0;if(t===hi||e===us)return-1;if(e===hi||t===us)return 1;{const n=xw(t),a=xw(e);return n!==null?a!==null?n-a===0?t.length-e.length:n-a:-1:a!==null?1:t<e?-1:1}},GP=function(t,e){return t===e?0:t<e?-1:1},sc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+St(e))},Cy=function(t){if(typeof t!="object"||t===null)return St(t);const e=[];for(const a in t)e.push(a);e.sort();let n="{";for(let a=0;a<e.length;a++)a!==0&&(n+=","),n+=St(e[a]),n+=":",n+=Cy(t[e[a]]);return n+="}",n},j1=function(t,e){const n=t.length;if(n<=e)return[t];const a=[];for(let i=0;i<n;i+=e)i+e>n?a.push(t.substring(i,n)):a.push(t.substring(i,i+e));return a};function zt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const M1=function(t){oe(!Sy(t),"Invalid JSON number");const e=11,n=52,a=(1<<e-1)-1;let i,l,u,f,m;t===0?(l=0,u=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-a)?(f=Math.min(Math.floor(Math.log(t)/Math.LN2),a),l=f+a,u=Math.round(t*Math.pow(2,n-f)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-a-n))));const p=[];for(m=n;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);for(m=e;m;m-=1)p.push(l%2?1:0),l=Math.floor(l/2);p.push(i?1:0),p.reverse();const v=p.join("");let y="";for(m=0;m<64;m+=8){let b=parseInt(v.substr(m,8),2).toString(16);b.length===1&&(b="0"+b),y=y+b}return y.toLowerCase()},YP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},WP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function KP(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const a=new Error(t+" at "+e._path.toString()+": "+n);return a.code=t.toUpperCase(),a}const XP=new RegExp("^-?(0*)\\d{1,10}$"),QP=-2147483648,ZP=2147483647,xw=function(t){if(XP.test(t)){const e=Number(t);if(e>=QP&&e<=ZP)return e}return null},Wo=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw en("Exception was thrown by user callback.",n),e},Math.floor(0))}},JP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},bc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,ir(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(a=>this.appCheck=a)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,a):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(a=>a.addTokenListener(e))}notifyForInvalidToken(){en(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n,a){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Bt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,a):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',en(e)}}class Vd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Vd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="5",P1="v",L1="s",U1="r",B1="f",z1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,F1="ls",H1="p",gg="ac",q1="websocket",V1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n,a,i,l=!1,u="",f=!1,m=!1,p=null){this.secure=n,this.namespace=a,this.webSocketOnly=i,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ii.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ii.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function n4(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function G1(t,e,n){oe(typeof e=="string","typeof type must == string"),oe(typeof n=="object","typeof params must == object");let a;if(e===q1)a=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===V1)a=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);n4(t)&&(n.ns=t.namespace);const i=[];return zt(n,(l,u)=>{i.push(l+"="+u)}),a+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.counters_={}}incrementCounter(e,n=1){Mr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return VO(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp={},Ap={};function Ty(t){const e=t.toString();return Dp[e]||(Dp[e]=new r4),Dp[e]}function a4(t,e){const n=t.toString();return Ap[n]||(Ap[n]=e()),Ap[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<a.length;++i)a[i]&&Wo(()=>{this.onMessage_(a[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="start",i4="close",o4="pLPCommand",l4="pRTLPCB",Y1="id",W1="pw",K1="ser",c4="cb",u4="seg",d4="ts",f4="d",h4="dframe",X1=1870,Q1=30,m4=X1-Q1,p4=25e3,g4=3e4;class po{constructor(e,n,a,i,l,u,f){this.connId=e,this.repoInfo=n,this.applicationId=a,this.appCheckToken=i,this.authToken=l,this.transportSessionId=u,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=eu(e),this.stats_=Ty(n),this.urlFn=m=>(this.appCheckToken&&(m[gg]=this.appCheckToken),G1(n,V1,m))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new s4(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(g4)),$P(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ry((...l)=>{const[u,f,m,p,v]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===_w)this.id=f,this.password=m;else if(u===i4)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,f]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,f)},()=>{this.onClosed_()},this.urlFn);const a={};a[_w]="t",a[K1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[c4]=this.scriptTagHolder.uniqueCallbackIdentifier),a[P1]=Ny,this.transportSessionId&&(a[L1]=this.transportSessionId),this.lastSessionId&&(a[F1]=this.lastSessionId),this.applicationId&&(a[H1]=this.applicationId),this.appCheckToken&&(a[gg]=this.appCheckToken),typeof location<"u"&&location.hostname&&z1.test(location.hostname)&&(a[U1]=B1);const i=this.urlFn(a);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){po.forceAllow_=!0}static forceDisallow(){po.forceDisallow_=!0}static isAvailable(){return po.forceAllow_?!0:!po.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!YP()&&!WP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=St(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const a=US(n),i=j1(a,m4);for(let l=0;l<i.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const a={};a[h4]="t",a[Y1]=e,a[W1]=n,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=St(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ry{constructor(e,n,a,i){this.onDisconnect=a,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=HP(),window[o4+this.uniqueCallbackIdentifier]=e,window[l4+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ry.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(f){Bt("frame writing exception"),f.stack&&Bt(f.stack),Bt(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Bt("No IE domain setting required")}catch{const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Y1]=this.myID,e[W1]=this.myPW,e[K1]=this.currentSerial;let n=this.urlFn(e),a="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Q1+a.length<=X1;){const u=this.pendingSegs.shift();a=a+"&"+u4+i+"="+u.seg+"&"+d4+i+"="+u.ts+"&"+f4+i+"="+u.d,i++}return n=n+a,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,a){this.pendingSegs.push({seg:e,ts:n,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const a=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(a,Math.floor(p4)),l=()=>{clearTimeout(i),a()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const i=a.readyState;(!i||i==="loaded"||i==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),n())},a.onerror=()=>{Bt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=16384,v4=45e3;let af=null;typeof MozWebSocket<"u"?af=MozWebSocket:typeof WebSocket<"u"&&(af=WebSocket);class or{constructor(e,n,a,i,l,u,f){this.connId=e,this.applicationId=a,this.appCheckToken=i,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=eu(this.connId),this.stats_=Ty(n),this.connURL=or.connectionURL_(n,u,f,i,a),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,a,i,l){const u={};return u[P1]=Ny,typeof location<"u"&&location.hostname&&z1.test(location.hostname)&&(u[U1]=B1),n&&(u[L1]=n),a&&(u[F1]=a),i&&(u[gg]=i),l&&(u[H1]=l),G1(e,q1,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ii.set("previous_websocket_failure",!0);try{let a;tk(),this.mySock=new af(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const i=a.message||a.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const i=a.message||a.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){or.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(n);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&af!==null&&!or.forceDisallow_}static previouslyFailed(){return ii.isInMemoryStorage||ii.get("previous_websocket_failure")===!0}markConnectionHealthy(){ii.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const a=Sc(n);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(oe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const a=this.extractFrameCount_(n);a!==null&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const n=St(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const a=j1(n,y4);a.length>1&&this.sendString_(String(a.length));for(let i=0;i<a.length;i++)this.sendString_(a[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(v4))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}or.responsesRequiredToBeHealthy=2;or.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{static get ALL_TRANSPORTS(){return[po,or]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=or&&or.isAvailable();let a=n&&!or.previouslyFailed();if(e.webSocketOnly&&(n||en("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[or];else{const i=this.transports_=[];for(const l of Rc.ALL_TRANSPORTS)l&&l.isAvailable()&&i.push(l);Rc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Rc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=6e4,x4=5e3,_4=10*1024,w4=100*1024,Ip="t",ww="d",E4="s",Ew="r",S4="e",Sw="o",Cw="a",Nw="n",Tw="p",C4="h";class N4{constructor(e,n,a,i,l,u,f,m,p,v){this.id=e,this.repoInfo_=n,this.applicationId_=a,this.appCheckToken_=i,this.authToken_=l,this.onMessage_=u,this.onReady_=f,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=eu("c:"+this.id+":"),this.transportManager_=new Rc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,a)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=bc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>w4?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>_4?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ip in e){const n=e[Ip];n===Cw?this.upgradeIfSecondaryHealthy_():n===Ew?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Sw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=sc("t",e),a=sc("d",e);if(n==="c")this.onSecondaryControl_(a);else if(n==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Tw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Cw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Nw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=sc("t",e),a=sc("d",e);n==="c"?this.onControl_(a):n==="d"&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=sc(Ip,e);if(ww in e){const a=e[ww];if(n===C4){const i=Object.assign({},a);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Nw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===E4?this.onConnectionShutdown_(a):n===Ew?this.onReset_(a):n===S4?pg("Server Error: "+a):n===Sw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pg("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,a=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ny!==a&&en("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,a),bc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(b4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(x4))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Tw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ii.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{put(e,n,a,i){}merge(e,n,a,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,a){}onDisconnectMerge(e,n,a){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.allowedEvents_=e,this.listeners_={},oe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let i=0;i<a.length;i++)a[i].callback.apply(a[i].context,n)}}on(e,n,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:a});const i=this.getInitialEvent(e);i&&n.apply(a,i)}off(e,n,a){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let l=0;l<i.length;l++)if(i[l].callback===n&&(!a||a===i[l].context)){i.splice(l,1);return}}validateEventType_(e){oe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends J1{static getInstance(){return new sf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!dy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return oe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=32,Dw=768;class Ye{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let a=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[a]=this.pieces_[i],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ve(){return new Ye("")}function Ue(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ds(t){return t.pieces_.length-t.pieceNum_}function tt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ye(t.pieces_,e)}function Dy(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function T4(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Dc(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function eC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ye(e,0)}function ht(t,e){const n=[];for(let a=t.pieceNum_;a<t.pieces_.length;a++)n.push(t.pieces_[a]);if(e instanceof Ye)for(let a=e.pieceNum_;a<e.pieces_.length;a++)n.push(e.pieces_[a]);else{const a=e.split("/");for(let i=0;i<a.length;i++)a[i].length>0&&n.push(a[i])}return new Ye(n,0)}function je(t){return t.pieceNum_>=t.pieces_.length}function Jt(t,e){const n=Ue(t),a=Ue(e);if(n===null)return e;if(n===a)return Jt(tt(t),tt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function R4(t,e){const n=Dc(t,0),a=Dc(e,0);for(let i=0;i<n.length&&i<a.length;i++){const l=Ei(n[i],a[i]);if(l!==0)return l}return n.length===a.length?0:n.length<a.length?-1:1}function tC(t,e){if(ds(t)!==ds(e))return!1;for(let n=t.pieceNum_,a=e.pieceNum_;n<=t.pieces_.length;n++,a++)if(t.pieces_[n]!==e.pieces_[a])return!1;return!0}function $n(t,e){let n=t.pieceNum_,a=e.pieceNum_;if(ds(t)>ds(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[a])return!1;++n,++a}return!0}class D4{constructor(e,n){this.errorPrefix_=n,this.parts_=Dc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=If(this.parts_[a]);nC(this)}}function A4(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=If(e),nC(t)}function I4(t){const e=t.parts_.pop();t.byteLength_-=If(e),t.parts_.length>0&&(t.byteLength_-=1)}function nC(t){if(t.byteLength_>Dw)throw new Error(t.errorPrefix_+"has a key path longer than "+Dw+" bytes ("+t.byteLength_+").");if(t.parts_.length>Rw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Rw+") or object contains a cycle "+Js(t))}function Js(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay extends J1{static getInstance(){return new Ay}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const a=!document[e];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(e){return oe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=1e3,O4=60*5*1e3,Aw=30*1e3,k4=1.3,j4=3e4,M4="server_kill",Iw=3;class la extends Z1{constructor(e,n,a,i,l,u,f,m){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=a,this.onConnectStatus_=i,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.authOverride_=m,this.id=la.nextPersistentConnectionId_++,this.log_=eu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ic,this.maxReconnectDelay_=O4,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ay.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&sf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,a){const i=++this.requestNumber_,l={r:i,a:e,b:n};this.log_(St(l)),oe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),a&&(this.requestCBHash_[i]=a)}get(e){this.initConnection_();const n=new Yc,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const f=u.d;u.s==="ok"?n.resolve(f):n.reject(f)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,a,i){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),oe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),oe(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const f={onComplete:i,hashFn:n,query:e,tag:a};this.listens.get(u).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(a)})}sendListen_(e){const n=e.query,a=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+a+" for "+i);const l={p:a},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,f=>{const m=f.d,p=f.s;la.warnOnListenWarnings_(m,n),(this.listens.get(a)&&this.listens.get(a).get(i))===e&&(this.log_("listen response",f),p!=="ok"&&this.removeListen_(a,i),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Mr(e,"w")){const a=Co(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();en(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||lk(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Aw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=ok(e)?"auth":"gauth",a={cred:e};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(n,a,i=>{const l=i.s,u=i.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,a=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,a)})}unlisten(e,n){const a=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+i),oe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,i)&&this.connected_&&this.sendUnlisten_(a,i,e._queryObject,n)}sendUnlisten_(e,n,a,i){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";i&&(l.q=a,l.t=i),this.sendRequest(u,l)}onDisconnectPut(e,n,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:a})}onDisconnectMerge(e,n,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:a})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,a,i){const l={p:n,d:a};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{i&&setTimeout(()=>{i(u.s,u.d)},Math.floor(0))})}put(e,n,a,i){this.putInternal("p",e,n,a,i)}merge(e,n,a,i){this.putInternal("m",e,n,a,i)}putInternal(e,n,a,i,l){this.initConnection_();const u={p:n,d:a};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:i}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,a,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,a=>{if(a.s!=="ok"){const l=a.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+St(e));const n=e.r,a=this.requestCBHash_[n];a&&(delete this.requestCBHash_[n],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):pg("Unrecognized action received from server: "+St(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){oe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ic,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ic,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>j4&&(this.reconnectDelay_=ic),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*k4)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+la.nextConnectionId_++,l=this.lastSessionId;let u=!1,f=null;const m=function(){f?f.close():(u=!0,a())},p=function(y){oe(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(y)};this.realtime_={close:m,sendRequest:p};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,b]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);u?Bt("getToken() completed but was canceled"):(Bt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=b&&b.token,f=new N4(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,a,_=>{en(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(M4)},l))}catch(y){this.log_("Failed to get token: "+y),u||(this.repoInfo_.nodeAdmin&&en(y),m())}}}interrupt(e){Bt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Bt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ig(this.interruptReasons_)&&(this.reconnectDelay_=ic,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let a;n?a=n.map(l=>Cy(l)).join("$"):a="default";const i=this.removeListen_(e,a);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const a=new Ye(e).toString();let i;if(this.listens.has(a)){const l=this.listens.get(a);i=l.get(n),l.delete(n),l.size===0&&this.listens.delete(a)}else i=void 0;return i}onAuthRevoked_(e,n){Bt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Iw&&(this.reconnectDelay_=Aw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Bt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Iw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+I1.replace(/\./g,"-")]=1,dy()?e["framework.cordova"]=1:qS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=sf.getInstance().currentlyOnline();return ig(this.interruptReasons_)&&e}}la.nextPersistentConnectionId_=0;la.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Me(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const a=new Me(hi,e),i=new Me(hi,n);return this.compare(a,i)!==0}minPost(){return Me.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd;class rC extends Pf{static get __EMPTY_NODE(){return Rd}static set __EMPTY_NODE(e){Rd=e}compare(e,n){return Ei(e.name,n.name)}isDefinedOn(e){throw qo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Me.MIN}maxPost(){return new Me(us,Rd)}makePost(e,n){return oe(typeof e=="string","KeyIndex indexValue must always be a string."),new Me(e,Rd)}toString(){return".key"}}const ci=new rC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n,a,i,l=null){this.isReverse_=i,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?a(e.key,n):1,i&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class kt{constructor(e,n,a,i,l){this.key=e,this.value=n,this.color=a??kt.RED,this.left=i??un.EMPTY_NODE,this.right=l??un.EMPTY_NODE}copy(e,n,a,i,l){return new kt(e??this.key,n??this.value,a??this.color,i??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let i=this;const l=a(e,i.key);return l<0?i=i.copy(null,null,null,i.left.insert(e,n,a),null):l===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,a)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return un.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let a,i;if(a=this,n(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),n(e,a.key)===0){if(a.right.isEmpty())return un.EMPTY_NODE;i=a.right.min_(),a=a.copy(i.key,i.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}kt.RED=!0;kt.BLACK=!1;class P4{copy(e,n,a,i,l){return this}insert(e,n,a){return new kt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class un{constructor(e,n=un.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new un(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,kt.BLACK,null,null))}remove(e){return new un(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,kt.BLACK,null,null))}get(e){let n,a=this.root_;for(;!a.isEmpty();){if(n=this.comparator_(e,a.key),n===0)return a.value;n<0?a=a.left:n>0&&(a=a.right)}return null}getPredecessorKey(e){let n,a=this.root_,i=null;for(;!a.isEmpty();)if(n=this.comparator_(e,a.key),n===0){if(a.left.isEmpty())return i?i.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else n<0?a=a.left:n>0&&(i=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Dd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Dd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Dd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Dd(this.root_,null,this.comparator_,!0,e)}}un.EMPTY_NODE=new P4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t,e){return Ei(t.name,e.name)}function Iy(t,e){return Ei(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yg;function U4(t){yg=t}const aC=function(t){return typeof t=="number"?"number:"+M1(t):"string:"+t},sC=function(t){if(t.isLeafNode()){const e=t.val();oe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Mr(e,".sv"),"Priority must be a string or number.")}else oe(t===yg||t.isEmpty(),"priority of unexpected type.");oe(t===yg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ow;class Ot{static set __childrenNodeConstructor(e){Ow=e}static get __childrenNodeConstructor(){return Ow}constructor(e,n=Ot.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,oe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),sC(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ot(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ot.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return je(e)?this:Ue(e)===".priority"?this.priorityNode_:Ot.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ot.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const a=Ue(e);return a===null?n:n.isEmpty()&&a!==".priority"?this:(oe(a!==".priority"||ds(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,Ot.__childrenNodeConstructor.EMPTY_NODE.updateChild(tt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+aC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=M1(this.value_):e+=this.value_,this.lazyHash_=k1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ot.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ot.__childrenNodeConstructor?-1:(oe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,a=typeof this.value_,i=Ot.VALUE_TYPE_ORDER.indexOf(n),l=Ot.VALUE_TYPE_ORDER.indexOf(a);return oe(i>=0,"Unknown leaf type: "+n),oe(l>=0,"Unknown leaf type: "+a),i===l?a==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ot.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iC,oC;function B4(t){iC=t}function z4(t){oC=t}class F4 extends Pf{compare(e,n){const a=e.node.getPriority(),i=n.node.getPriority(),l=a.compareTo(i);return l===0?Ei(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Me.MIN}maxPost(){return new Me(us,new Ot("[PRIORITY-POST]",oC))}makePost(e,n){const a=iC(e);return new Me(n,new Ot("[PRIORITY-POST]",a))}toString(){return".priority"}}const ot=new F4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=Math.log(2);class q4{constructor(e){const n=l=>parseInt(Math.log(l)/H4,10),a=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=a(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const of=function(t,e,n,a){t.sort(e);const i=function(m,p){const v=p-m;let y,b;if(v===0)return null;if(v===1)return y=t[m],b=n?n(y):y,new kt(b,y.node,kt.BLACK,null,null);{const _=parseInt(v/2,10)+m,C=i(m,_),x=i(_+1,p);return y=t[_],b=n?n(y):y,new kt(b,y.node,kt.BLACK,C,x)}},l=function(m){let p=null,v=null,y=t.length;const b=function(C,x){const S=y-C,N=y;y-=C;const T=i(S+1,N),D=t[S],M=n?n(D):D;_(new kt(M,D.node,x,null,T))},_=function(C){p?(p.left=C,p=C):(v=C,p=C)};for(let C=0;C<m.count;++C){const x=m.nextBitIsOne(),S=Math.pow(2,m.count-(C+1));x?b(S,kt.BLACK):(b(S,kt.BLACK),b(S,kt.RED))}return v},u=new q4(t.length),f=l(u);return new un(a||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op;const oo={};class sa{static get Default(){return oe(oo&&ot,"ChildrenNode.ts has not been loaded"),Op=Op||new sa({".priority":oo},{".priority":ot}),Op}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Co(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof un?n:null}hasIndex(e){return Mr(this.indexSet_,e.toString())}addIndex(e,n){oe(e!==ci,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let i=!1;const l=n.getIterator(Me.Wrap);let u=l.getNext();for(;u;)i=i||e.isDefinedOn(u.node),a.push(u),u=l.getNext();let f;i?f=of(a,e.getCompare()):f=oo;const m=e.toString(),p=Object.assign({},this.indexSet_);p[m]=e;const v=Object.assign({},this.indexes_);return v[m]=f,new sa(v,p)}addToIndexes(e,n){const a=Qd(this.indexes_,(i,l)=>{const u=Co(this.indexSet_,l);if(oe(u,"Missing index implementation for "+l),i===oo)if(u.isDefinedOn(e.node)){const f=[],m=n.getIterator(Me.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&f.push(p),p=m.getNext();return f.push(e),of(f,u.getCompare())}else return oo;else{const f=n.get(e.name);let m=i;return f&&(m=m.remove(new Me(e.name,f))),m.insert(e,e.node)}});return new sa(a,this.indexSet_)}removeFromIndexes(e,n){const a=Qd(this.indexes_,i=>{if(i===oo)return i;{const l=n.get(e.name);return l?i.remove(new Me(e.name,l)):i}});return new sa(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc;class Ee{static get EMPTY_NODE(){return oc||(oc=new Ee(new un(Iy),null,sa.Default))}constructor(e,n,a){this.children_=e,this.priorityNode_=n,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&sC(this.priorityNode_),this.children_.isEmpty()&&oe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||oc}updatePriority(e){return this.children_.isEmpty()?this:new Ee(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?oc:n}}getChild(e){const n=Ue(e);return n===null?this:this.getImmediateChild(n).getChild(tt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(oe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const a=new Me(e,n);let i,l;n.isEmpty()?(i=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(a,this.children_)):(i=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(a,this.children_));const u=i.isEmpty()?oc:this.priorityNode_;return new Ee(i,u,l)}}updateChild(e,n){const a=Ue(e);if(a===null)return n;{oe(Ue(e)!==".priority"||ds(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(a).updateChild(tt(e),n);return this.updateImmediateChild(a,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let a=0,i=0,l=!0;if(this.forEachChild(ot,(u,f)=>{n[u]=f.val(e),a++,l&&Ee.INTEGER_REGEXP_.test(u)?i=Math.max(i,Number(u)):l=!1}),!e&&l&&i<2*a){const u=[];for(const f in n)u[f]=n[f];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+aC(this.getPriority().val())+":"),this.forEachChild(ot,(n,a)=>{const i=a.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":k1(e)}return this.lazyHash_}getPredecessorChildName(e,n,a){const i=this.resolveIndex_(a);if(i){const l=i.getPredecessorKey(new Me(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const a=n.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Me(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const a=n.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Me(n,this.children_.get(n)):null}forEachChild(e,n){const a=this.resolveIndex_(e);return a?a.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const a=this.resolveIndex_(n);if(a)return a.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Me.Wrap);let l=i.peek();for(;l!=null&&n.compare(l,e)<0;)i.getNext(),l=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const a=this.resolveIndex_(n);if(a)return a.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Me.Wrap);let l=i.peek();for(;l!=null&&n.compare(l,e)>0;)i.getNext(),l=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===tu?-1:0}withIndex(e){if(e===ci||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ee(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ci||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const a=this.getIterator(ot),i=n.getIterator(ot);let l=a.getNext(),u=i.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=a.getNext(),u=i.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===ci?null:this.indexMap_.get(e.toString())}}Ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class V4 extends Ee{constructor(){super(new un(Iy),Ee.EMPTY_NODE,sa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ee.EMPTY_NODE}isEmpty(){return!1}}const tu=new V4;Object.defineProperties(Me,{MIN:{value:new Me(hi,Ee.EMPTY_NODE)},MAX:{value:new Me(us,tu)}});rC.__EMPTY_NODE=Ee.EMPTY_NODE;Ot.__childrenNodeConstructor=Ee;U4(tu);z4(tu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=!0;function Et(t,e=null){if(t===null)return Ee.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),oe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ot(n,Et(e))}if(!(t instanceof Array)&&$4){const n=[];let a=!1;if(zt(t,(u,f)=>{if(u.substring(0,1)!=="."){const m=Et(f);m.isEmpty()||(a=a||!m.getPriority().isEmpty(),n.push(new Me(u,m)))}}),n.length===0)return Ee.EMPTY_NODE;const l=of(n,L4,u=>u.name,Iy);if(a){const u=of(n,ot.getCompare());return new Ee(l,Et(e),new sa({".priority":u},{".priority":ot}))}else return new Ee(l,Et(e),sa.Default)}else{let n=Ee.EMPTY_NODE;return zt(t,(a,i)=>{if(Mr(t,a)&&a.substring(0,1)!=="."){const l=Et(i);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(a,l))}}),n.updatePriority(Et(e))}}B4(Et);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy extends Pf{constructor(e){super(),this.indexPath_=e,oe(!je(e)&&Ue(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const a=this.extractChild(e.node),i=this.extractChild(n.node),l=a.compareTo(i);return l===0?Ei(e.name,n.name):l}makePost(e,n){const a=Et(e),i=Ee.EMPTY_NODE.updateChild(this.indexPath_,a);return new Me(n,i)}maxPost(){const e=Ee.EMPTY_NODE.updateChild(this.indexPath_,tu);return new Me(us,e)}toString(){return Dc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4 extends Pf{compare(e,n){const a=e.node.compareTo(n.node);return a===0?Ei(e.name,n.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Me.MIN}maxPost(){return Me.MAX}makePost(e,n){const a=Et(e);return new Me(n,a)}toString(){return".value"}}const lC=new G4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){return{type:"value",snapshotNode:t}}function Ro(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ac(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ic(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Y4(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e){this.index_=e}updateChild(e,n,a,i,l,u){oe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(n);return f.getChild(i).equals(a.getChild(i))&&f.isEmpty()===a.isEmpty()||(u!=null&&(a.isEmpty()?e.hasChild(n)?u.trackChildChange(Ac(n,f)):oe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?u.trackChildChange(Ro(n,a)):u.trackChildChange(Ic(n,a,f))),e.isLeafNode()&&a.isEmpty())?e:e.updateImmediateChild(n,a).withIndex(this.index_)}updateFullNode(e,n,a){return a!=null&&(e.isLeafNode()||e.forEachChild(ot,(i,l)=>{n.hasChild(i)||a.trackChildChange(Ac(i,l))}),n.isLeafNode()||n.forEachChild(ot,(i,l)=>{if(e.hasChild(i)){const u=e.getImmediateChild(i);u.equals(l)||a.trackChildChange(Ic(i,l,u))}else a.trackChildChange(Ro(i,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ee.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this.indexedFilter_=new ky(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Oc.getStartPost_(e),this.endPost_=Oc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&a}updateChild(e,n,a,i,l,u){return this.matches(new Me(n,a))||(a=Ee.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,a,i,l,u)}updateFullNode(e,n,a){n.isLeafNode()&&(n=Ee.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ee.EMPTY_NODE);const l=this;return n.forEachChild(ot,(u,f)=>{l.matches(new Me(u,f))||(i=i.updateImmediateChild(u,Ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,a)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=n=>{const a=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new Oc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,a,i,l,u){return this.rangedFilter_.matches(new Me(n,a))||(a=Ee.EMPTY_NODE),e.getImmediateChild(n).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,a,i,l,u):this.fullLimitUpdateChild_(e,n,a,l,u)}updateFullNode(e,n,a){let i;if(n.isLeafNode()||n.isEmpty())i=Ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ee.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const f=l.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))i=i.updateImmediateChild(f.name,f.node),u++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ee.EMPTY_NODE);let l;this.reverse_?l=i.getReverseIterator(this.index_):l=i.getIterator(this.index_);let u=0;for(;l.hasNext();){const f=l.getNext();u<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?u++:i=i.updateImmediateChild(f.name,Ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,a)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,a,i,l){let u;if(this.reverse_){const y=this.index_.getCompare();u=(b,_)=>y(_,b)}else u=this.index_.getCompare();const f=e;oe(f.numChildren()===this.limit_,"");const m=new Me(n,a),p=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),v=this.rangedFilter_.matches(m);if(f.hasChild(n)){const y=f.getImmediateChild(n);let b=i.getChildAfterChild(this.index_,p,this.reverse_);for(;b!=null&&(b.name===n||f.hasChild(b.name));)b=i.getChildAfterChild(this.index_,b,this.reverse_);const _=b==null?1:u(b,m);if(v&&!a.isEmpty()&&_>=0)return l!=null&&l.trackChildChange(Ic(n,a,y)),f.updateImmediateChild(n,a);{l!=null&&l.trackChildChange(Ac(n,y));const x=f.updateImmediateChild(n,Ee.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(l!=null&&l.trackChildChange(Ro(b.name,b.node)),x.updateImmediateChild(b.name,b.node)):x}}else return a.isEmpty()?e:v&&u(p,m)>=0?(l!=null&&(l.trackChildChange(Ac(p.name,p.node)),l.trackChildChange(Ro(n,a))),f.updateImmediateChild(n,a).updateImmediateChild(p.name,Ee.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ot}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return oe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return oe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:hi}hasEnd(){return this.endSet_}getIndexEndValue(){return oe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return oe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:us}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return oe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ot}copy(){const e=new jy;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function K4(t){return t.loadsAllData()?new ky(t.getIndex()):t.hasLimit()?new W4(t):new Oc(t)}function X4(t,e,n){const a=t.copy();return a.startSet_=!0,e===void 0&&(e=null),a.indexStartValue_=e,n!=null?(a.startNameSet_=!0,a.indexStartName_=n):(a.startNameSet_=!1,a.indexStartName_=""),a}function Q4(t,e,n){const a=t.copy();return a.endSet_=!0,e===void 0&&(e=null),a.indexEndValue_=e,n!==void 0?(a.endNameSet_=!0,a.indexEndName_=n):(a.endNameSet_=!1,a.indexEndName_=""),a}function Z4(t,e){const n=t.copy();return n.index_=e,n}function kw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ot?n="$priority":t.index_===lC?n="$value":t.index_===ci?n="$key":(oe(t.index_ instanceof Oy,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=St(n),t.startSet_){const a=t.startAfterSet_?"startAfter":"startAt";e[a]=St(t.indexStartValue_),t.startNameSet_&&(e[a]+=","+St(t.indexStartName_))}if(t.endSet_){const a=t.endBeforeSet_?"endBefore":"endAt";e[a]=St(t.indexEndValue_),t.endNameSet_&&(e[a]+=","+St(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function jw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ot&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends Z1{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(oe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,a,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=a,this.appCheckTokenProvider_=i,this.log_=eu("p:rest:"),this.listens_={}}listen(e,n,a,i){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=lf.getListenId_(e,a),f={};this.listens_[u]=f;const m=kw(e._queryParams);this.restRequest_(l+".json",m,(p,v)=>{let y=v;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(l,y,!1,a),Co(this.listens_,u)===f){let b;p?p===401?b="permission_denied":b="rest_error:"+p:b="ok",i(b,null)}})}unlisten(e,n){const a=lf.getListenId_(e,n);delete this.listens_[a]}get(e){const n=kw(e._queryParams),a=e._path.toString(),i=new Yc;return this.restRequest_(a+".json",n,(l,u)=>{let f=u;l===404&&(f=null,l=null),l===null?(this.onDataUpdate_(a,f,!1,null),i.resolve(f)):i.reject(new Error(f))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},a){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,l])=>{i&&i.accessToken&&(n.auth=i.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Vo(n);this.log_("Sending REST request for "+u);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(a&&f.readyState===4){this.log_("REST Response for "+u+" received. status:",f.status,"response:",f.responseText);let m=null;if(f.status>=200&&f.status<300){try{m=Sc(f.responseText)}catch{en("Failed to parse JSON response for "+u+": "+f.responseText)}a(null,m)}else f.status!==401&&f.status!==404&&en("Got unsuccessful REST response for "+u+" Status: "+f.status),a(f.status);a=null}},f.open("GET",u,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.rootNode_=Ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(){return{value:null,children:new Map}}function uC(t,e,n){if(je(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const a=Ue(e);t.children.has(a)||t.children.set(a,cf());const i=t.children.get(a);e=tt(e),uC(i,e,n)}}function vg(t,e,n){t.value!==null?n(e,t.value):eL(t,(a,i)=>{const l=new Ye(e.toString()+"/"+a);vg(i,l,n)})}function eL(t,e){t.children.forEach((n,a)=>{e(a,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&zt(this.last_,(a,i)=>{n[a]=n[a]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=10*1e3,nL=30*1e3,rL=5*60*1e3;class aL{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new tL(e);const a=Mw+(nL-Mw)*Math.random();bc(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),n={};let a=!1;zt(e,(i,l)=>{l>0&&Mr(this.statsToReport_,i)&&(n[i]=l,a=!0)}),a&&this.server_.reportStats(n),bc(this.reportStats_.bind(this),Math.floor(Math.random()*2*rL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(lr||(lr={}));function My(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Py(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ly(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n,a){this.path=e,this.affectedTree=n,this.revert=a,this.type=lr.ACK_USER_WRITE,this.source=My()}operationForChild(e){if(je(this.path)){if(this.affectedTree.value!=null)return oe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ye(e));return new uf(Ve(),n,this.revert)}}else return oe(Ue(this.path)===e,"operationForChild called for unrelated child."),new uf(tt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){this.source=e,this.path=n,this.type=lr.LISTEN_COMPLETE}operationForChild(e){return je(this.path)?new kc(this.source,Ve()):new kc(this.source,tt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,a){this.source=e,this.path=n,this.snap=a,this.type=lr.OVERWRITE}operationForChild(e){return je(this.path)?new mi(this.source,Ve(),this.snap.getImmediateChild(e)):new mi(this.source,tt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n,a){this.source=e,this.path=n,this.children=a,this.type=lr.MERGE}operationForChild(e){if(je(this.path)){const n=this.children.subtree(new Ye(e));return n.isEmpty()?null:n.value?new mi(this.source,Ve(),n.value):new Do(this.source,Ve(),n)}else return oe(Ue(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Do(this.source,tt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,a){this.node_=e,this.fullyInitialized_=n,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(je(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ue(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function iL(t,e,n,a){const i=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(Y4(u.childName,u.snapshotNode))}),lc(t,i,"child_removed",e,a,n),lc(t,i,"child_added",e,a,n),lc(t,i,"child_moved",l,a,n),lc(t,i,"child_changed",e,a,n),lc(t,i,"value",e,a,n),i}function lc(t,e,n,a,i,l){const u=a.filter(f=>f.type===n);u.sort((f,m)=>lL(t,f,m)),u.forEach(f=>{const m=oL(t,f,l);i.forEach(p=>{p.respondsTo(f.type)&&e.push(p.createEvent(m,t.query_))})})}function oL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function lL(t,e,n){if(e.childName==null||n.childName==null)throw qo("Should only compare child_ events.");const a=new Me(e.childName,e.snapshotNode),i=new Me(n.childName,n.snapshotNode);return t.index_.compare(a,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t,e){return{eventCache:t,serverCache:e}}function xc(t,e,n,a){return Lf(new fs(e,n,a),t.serverCache)}function dC(t,e,n,a){return Lf(t.eventCache,new fs(e,n,a))}function df(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function pi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp;const cL=()=>(kp||(kp=new un(GP)),kp);class et{static fromObject(e){let n=new et(null);return zt(e,(a,i)=>{n=n.set(new Ye(a),i)}),n}constructor(e,n=cL()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ve(),value:this.value};if(je(e))return null;{const a=Ue(e),i=this.children.get(a);if(i!==null){const l=i.findRootMostMatchingPathAndValue(tt(e),n);return l!=null?{path:ht(new Ye(a),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(je(e))return this;{const n=Ue(e),a=this.children.get(n);return a!==null?a.subtree(tt(e)):new et(null)}}set(e,n){if(je(e))return new et(n,this.children);{const a=Ue(e),l=(this.children.get(a)||new et(null)).set(tt(e),n),u=this.children.insert(a,l);return new et(this.value,u)}}remove(e){if(je(e))return this.children.isEmpty()?new et(null):new et(null,this.children);{const n=Ue(e),a=this.children.get(n);if(a){const i=a.remove(tt(e));let l;return i.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,i),this.value===null&&l.isEmpty()?new et(null):new et(this.value,l)}else return this}}get(e){if(je(e))return this.value;{const n=Ue(e),a=this.children.get(n);return a?a.get(tt(e)):null}}setTree(e,n){if(je(e))return n;{const a=Ue(e),l=(this.children.get(a)||new et(null)).setTree(tt(e),n);let u;return l.isEmpty()?u=this.children.remove(a):u=this.children.insert(a,l),new et(this.value,u)}}fold(e){return this.fold_(Ve(),e)}fold_(e,n){const a={};return this.children.inorderTraversal((i,l)=>{a[i]=l.fold_(ht(e,i),n)}),n(e,this.value,a)}findOnPath(e,n){return this.findOnPath_(e,Ve(),n)}findOnPath_(e,n,a){const i=this.value?a(n,this.value):!1;if(i)return i;if(je(e))return null;{const l=Ue(e),u=this.children.get(l);return u?u.findOnPath_(tt(e),ht(n,l),a):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ve(),n)}foreachOnPath_(e,n,a){if(je(e))return this;{this.value&&a(n,this.value);const i=Ue(e),l=this.children.get(i);return l?l.foreachOnPath_(tt(e),ht(n,i),a):new et(null)}}foreach(e){this.foreach_(Ve(),e)}foreach_(e,n){this.children.inorderTraversal((a,i)=>{i.foreach_(ht(e,a),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,a)=>{a.value&&e(n,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.writeTree_=e}static empty(){return new cr(new et(null))}}function _c(t,e,n){if(je(e))return new cr(new et(n));{const a=t.writeTree_.findRootMostValueAndPath(e);if(a!=null){const i=a.path;let l=a.value;const u=Jt(i,e);return l=l.updateChild(u,n),new cr(t.writeTree_.set(i,l))}else{const i=new et(n),l=t.writeTree_.setTree(e,i);return new cr(l)}}}function bg(t,e,n){let a=t;return zt(n,(i,l)=>{a=_c(a,ht(e,i),l)}),a}function Pw(t,e){if(je(e))return cr.empty();{const n=t.writeTree_.setTree(e,new et(null));return new cr(n)}}function xg(t,e){return Si(t,e)!=null}function Si(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Jt(n.path,e)):null}function Lw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ot,(a,i)=>{e.push(new Me(a,i))}):t.writeTree_.children.inorderTraversal((a,i)=>{i.value!=null&&e.push(new Me(a,i.value))}),e}function is(t,e){if(je(e))return t;{const n=Si(t,e);return n!=null?new cr(new et(n)):new cr(t.writeTree_.subtree(e))}}function _g(t){return t.writeTree_.isEmpty()}function Ao(t,e){return fC(Ve(),t.writeTree_,e)}function fC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let a=null;return e.children.inorderTraversal((i,l)=>{i===".priority"?(oe(l.value!==null,"Priority writes must always be leaf nodes"),a=l.value):n=fC(ht(t,i),l,n)}),!n.getChild(t).isEmpty()&&a!==null&&(n=n.updateChild(ht(t,".priority"),a)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(t,e){return gC(e,t)}function uL(t,e,n,a,i){oe(a>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:a,visible:i}),i&&(t.visibleWrites=_c(t.visibleWrites,e,n)),t.lastWriteId=a}function dL(t,e,n,a){oe(a>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:a,visible:!0}),t.visibleWrites=bg(t.visibleWrites,e,n),t.lastWriteId=a}function fL(t,e){for(let n=0;n<t.allWrites.length;n++){const a=t.allWrites[n];if(a.writeId===e)return a}return null}function hL(t,e){const n=t.allWrites.findIndex(f=>f.writeId===e);oe(n>=0,"removeWrite called with nonexistent writeId.");const a=t.allWrites[n];t.allWrites.splice(n,1);let i=a.visible,l=!1,u=t.allWrites.length-1;for(;i&&u>=0;){const f=t.allWrites[u];f.visible&&(u>=n&&mL(f,a.path)?i=!1:$n(a.path,f.path)&&(l=!0)),u--}if(i){if(l)return pL(t),!0;if(a.snap)t.visibleWrites=Pw(t.visibleWrites,a.path);else{const f=a.children;zt(f,m=>{t.visibleWrites=Pw(t.visibleWrites,ht(a.path,m))})}return!0}else return!1}function mL(t,e){if(t.snap)return $n(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&$n(ht(t.path,n),e))return!0;return!1}function pL(t){t.visibleWrites=hC(t.allWrites,gL,Ve()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function gL(t){return t.visible}function hC(t,e,n){let a=cr.empty();for(let i=0;i<t.length;++i){const l=t[i];if(e(l)){const u=l.path;let f;if(l.snap)$n(n,u)?(f=Jt(n,u),a=_c(a,f,l.snap)):$n(u,n)&&(f=Jt(u,n),a=_c(a,Ve(),l.snap.getChild(f)));else if(l.children){if($n(n,u))f=Jt(n,u),a=bg(a,f,l.children);else if($n(u,n))if(f=Jt(u,n),je(f))a=bg(a,Ve(),l.children);else{const m=Co(l.children,Ue(f));if(m){const p=m.getChild(tt(f));a=_c(a,Ve(),p)}}}else throw qo("WriteRecord should have .snap or .children")}}return a}function mC(t,e,n,a,i){if(!a&&!i){const l=Si(t.visibleWrites,e);if(l!=null)return l;{const u=is(t.visibleWrites,e);if(_g(u))return n;if(n==null&&!xg(u,Ve()))return null;{const f=n||Ee.EMPTY_NODE;return Ao(u,f)}}}else{const l=is(t.visibleWrites,e);if(!i&&_g(l))return n;if(!i&&n==null&&!xg(l,Ve()))return null;{const u=function(p){return(p.visible||i)&&(!a||!~a.indexOf(p.writeId))&&($n(p.path,e)||$n(e,p.path))},f=hC(t.allWrites,u,e),m=n||Ee.EMPTY_NODE;return Ao(f,m)}}}function yL(t,e,n){let a=Ee.EMPTY_NODE;const i=Si(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ot,(l,u)=>{a=a.updateImmediateChild(l,u)}),a;if(n){const l=is(t.visibleWrites,e);return n.forEachChild(ot,(u,f)=>{const m=Ao(is(l,new Ye(u)),f);a=a.updateImmediateChild(u,m)}),Lw(l).forEach(u=>{a=a.updateImmediateChild(u.name,u.node)}),a}else{const l=is(t.visibleWrites,e);return Lw(l).forEach(u=>{a=a.updateImmediateChild(u.name,u.node)}),a}}function vL(t,e,n,a,i){oe(a||i,"Either existingEventSnap or existingServerSnap must exist");const l=ht(e,n);if(xg(t.visibleWrites,l))return null;{const u=is(t.visibleWrites,l);return _g(u)?i.getChild(n):Ao(u,i.getChild(n))}}function bL(t,e,n,a){const i=ht(e,n),l=Si(t.visibleWrites,i);if(l!=null)return l;if(a.isCompleteForChild(n)){const u=is(t.visibleWrites,i);return Ao(u,a.getNode().getImmediateChild(n))}else return null}function xL(t,e){return Si(t.visibleWrites,e)}function _L(t,e,n,a,i,l,u){let f;const m=is(t.visibleWrites,e),p=Si(m,Ve());if(p!=null)f=p;else if(n!=null)f=Ao(m,n);else return[];if(f=f.withIndex(u),!f.isEmpty()&&!f.isLeafNode()){const v=[],y=u.getCompare(),b=l?f.getReverseIteratorFrom(a,u):f.getIteratorFrom(a,u);let _=b.getNext();for(;_&&v.length<i;)y(_,a)!==0&&v.push(_),_=b.getNext();return v}else return[]}function wL(){return{visibleWrites:cr.empty(),allWrites:[],lastWriteId:-1}}function ff(t,e,n,a){return mC(t.writeTree,t.treePath,e,n,a)}function Uy(t,e){return yL(t.writeTree,t.treePath,e)}function Uw(t,e,n,a){return vL(t.writeTree,t.treePath,e,n,a)}function hf(t,e){return xL(t.writeTree,ht(t.treePath,e))}function EL(t,e,n,a,i,l){return _L(t.writeTree,t.treePath,e,n,a,i,l)}function By(t,e,n){return bL(t.writeTree,t.treePath,e,n)}function pC(t,e){return gC(ht(t.treePath,e),t.writeTree)}function gC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,a=e.childName;oe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),oe(a!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(a);if(i){const l=i.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(a,Ic(a,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(a);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(a,Ac(a,i.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(a,Ro(a,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(a,Ic(a,e.snapshotNode,i.oldSnap));else throw qo("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{getCompleteChild(e){return null}getChildAfterChild(e,n,a){return null}}const yC=new CL;class zy{constructor(e,n,a=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=a}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const a=this.optCompleteServerCache_!=null?new fs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return By(this.writes_,e,a)}}getChildAfterChild(e,n,a){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:pi(this.viewCache_),l=EL(this.writes_,i,n,1,a,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){return{filter:t}}function TL(t,e){oe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),oe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function RL(t,e,n,a,i){const l=new SL;let u,f;if(n.type===lr.OVERWRITE){const p=n;p.source.fromUser?u=wg(t,e,p.path,p.snap,a,i,l):(oe(p.source.fromServer,"Unknown source."),f=p.source.tagged||e.serverCache.isFiltered()&&!je(p.path),u=mf(t,e,p.path,p.snap,a,i,f,l))}else if(n.type===lr.MERGE){const p=n;p.source.fromUser?u=AL(t,e,p.path,p.children,a,i,l):(oe(p.source.fromServer,"Unknown source."),f=p.source.tagged||e.serverCache.isFiltered(),u=Eg(t,e,p.path,p.children,a,i,f,l))}else if(n.type===lr.ACK_USER_WRITE){const p=n;p.revert?u=kL(t,e,p.path,a,i,l):u=IL(t,e,p.path,p.affectedTree,a,i,l)}else if(n.type===lr.LISTEN_COMPLETE)u=OL(t,e,n.path,a,l);else throw qo("Unknown operation type: "+n.type);const m=l.getChanges();return DL(e,u,m),{viewCache:u,changes:m}}function DL(t,e,n){const a=e.eventCache;if(a.isFullyInitialized()){const i=a.getNode().isLeafNode()||a.getNode().isEmpty(),l=df(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!a.getNode().equals(l)||!a.getNode().getPriority().equals(l.getPriority()))&&n.push(cC(df(e)))}}function vC(t,e,n,a,i,l){const u=e.eventCache;if(hf(a,n)!=null)return e;{let f,m;if(je(n))if(oe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=pi(e),v=p instanceof Ee?p:Ee.EMPTY_NODE,y=Uy(a,v);f=t.filter.updateFullNode(e.eventCache.getNode(),y,l)}else{const p=ff(a,pi(e));f=t.filter.updateFullNode(e.eventCache.getNode(),p,l)}else{const p=Ue(n);if(p===".priority"){oe(ds(n)===1,"Can't have a priority with additional path components");const v=u.getNode();m=e.serverCache.getNode();const y=Uw(a,n,v,m);y!=null?f=t.filter.updatePriority(v,y):f=u.getNode()}else{const v=tt(n);let y;if(u.isCompleteForChild(p)){m=e.serverCache.getNode();const b=Uw(a,n,u.getNode(),m);b!=null?y=u.getNode().getImmediateChild(p).updateChild(v,b):y=u.getNode().getImmediateChild(p)}else y=By(a,p,e.serverCache);y!=null?f=t.filter.updateChild(u.getNode(),p,y,v,i,l):f=u.getNode()}}return xc(e,f,u.isFullyInitialized()||je(n),t.filter.filtersNodes())}}function mf(t,e,n,a,i,l,u,f){const m=e.serverCache;let p;const v=u?t.filter:t.filter.getIndexedFilter();if(je(n))p=v.updateFullNode(m.getNode(),a,null);else if(v.filtersNodes()&&!m.isFiltered()){const _=m.getNode().updateChild(n,a);p=v.updateFullNode(m.getNode(),_,null)}else{const _=Ue(n);if(!m.isCompleteForPath(n)&&ds(n)>1)return e;const C=tt(n),S=m.getNode().getImmediateChild(_).updateChild(C,a);_===".priority"?p=v.updatePriority(m.getNode(),S):p=v.updateChild(m.getNode(),_,S,C,yC,null)}const y=dC(e,p,m.isFullyInitialized()||je(n),v.filtersNodes()),b=new zy(i,y,l);return vC(t,y,n,i,b,f)}function wg(t,e,n,a,i,l,u){const f=e.eventCache;let m,p;const v=new zy(i,e,l);if(je(n))p=t.filter.updateFullNode(e.eventCache.getNode(),a,u),m=xc(e,p,!0,t.filter.filtersNodes());else{const y=Ue(n);if(y===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),a),m=xc(e,p,f.isFullyInitialized(),f.isFiltered());else{const b=tt(n),_=f.getNode().getImmediateChild(y);let C;if(je(b))C=a;else{const x=v.getCompleteChild(y);x!=null?Dy(b)===".priority"&&x.getChild(eC(b)).isEmpty()?C=x:C=x.updateChild(b,a):C=Ee.EMPTY_NODE}if(_.equals(C))m=e;else{const x=t.filter.updateChild(f.getNode(),y,C,b,v,u);m=xc(e,x,f.isFullyInitialized(),t.filter.filtersNodes())}}}return m}function Bw(t,e){return t.eventCache.isCompleteForChild(e)}function AL(t,e,n,a,i,l,u){let f=e;return a.foreach((m,p)=>{const v=ht(n,m);Bw(e,Ue(v))&&(f=wg(t,f,v,p,i,l,u))}),a.foreach((m,p)=>{const v=ht(n,m);Bw(e,Ue(v))||(f=wg(t,f,v,p,i,l,u))}),f}function zw(t,e,n){return n.foreach((a,i)=>{e=e.updateChild(a,i)}),e}function Eg(t,e,n,a,i,l,u,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;je(n)?p=a:p=new et(null).setTree(n,a);const v=e.serverCache.getNode();return p.children.inorderTraversal((y,b)=>{if(v.hasChild(y)){const _=e.serverCache.getNode().getImmediateChild(y),C=zw(t,_,b);m=mf(t,m,new Ye(y),C,i,l,u,f)}}),p.children.inorderTraversal((y,b)=>{const _=!e.serverCache.isCompleteForChild(y)&&b.value===null;if(!v.hasChild(y)&&!_){const C=e.serverCache.getNode().getImmediateChild(y),x=zw(t,C,b);m=mf(t,m,new Ye(y),x,i,l,u,f)}}),m}function IL(t,e,n,a,i,l,u){if(hf(i,n)!=null)return e;const f=e.serverCache.isFiltered(),m=e.serverCache;if(a.value!=null){if(je(n)&&m.isFullyInitialized()||m.isCompleteForPath(n))return mf(t,e,n,m.getNode().getChild(n),i,l,f,u);if(je(n)){let p=new et(null);return m.getNode().forEachChild(ci,(v,y)=>{p=p.set(new Ye(v),y)}),Eg(t,e,n,p,i,l,f,u)}else return e}else{let p=new et(null);return a.foreach((v,y)=>{const b=ht(n,v);m.isCompleteForPath(b)&&(p=p.set(v,m.getNode().getChild(b)))}),Eg(t,e,n,p,i,l,f,u)}}function OL(t,e,n,a,i){const l=e.serverCache,u=dC(e,l.getNode(),l.isFullyInitialized()||je(n),l.isFiltered());return vC(t,u,n,a,yC,i)}function kL(t,e,n,a,i,l){let u;if(hf(a,n)!=null)return e;{const f=new zy(a,e,i),m=e.eventCache.getNode();let p;if(je(n)||Ue(n)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=ff(a,pi(e));else{const y=e.serverCache.getNode();oe(y instanceof Ee,"serverChildren would be complete if leaf node"),v=Uy(a,y)}v=v,p=t.filter.updateFullNode(m,v,l)}else{const v=Ue(n);let y=By(a,v,e.serverCache);y==null&&e.serverCache.isCompleteForChild(v)&&(y=m.getImmediateChild(v)),y!=null?p=t.filter.updateChild(m,v,y,tt(n),f,l):e.eventCache.getNode().hasChild(v)?p=t.filter.updateChild(m,v,Ee.EMPTY_NODE,tt(n),f,l):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=ff(a,pi(e)),u.isLeafNode()&&(p=t.filter.updateFullNode(p,u,l)))}return u=e.serverCache.isFullyInitialized()||hf(a,Ve())!=null,xc(e,p,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,i=new ky(a.getIndex()),l=K4(a);this.processor_=NL(l);const u=n.serverCache,f=n.eventCache,m=i.updateFullNode(Ee.EMPTY_NODE,u.getNode(),null),p=l.updateFullNode(Ee.EMPTY_NODE,f.getNode(),null),v=new fs(m,u.isFullyInitialized(),i.filtersNodes()),y=new fs(p,f.isFullyInitialized(),l.filtersNodes());this.viewCache_=Lf(y,v),this.eventGenerator_=new sL(this.query_)}get query(){return this.query_}}function ML(t){return t.viewCache_.serverCache.getNode()}function PL(t){return df(t.viewCache_)}function LL(t,e){const n=pi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!je(e)&&!n.getImmediateChild(Ue(e)).isEmpty())?n.getChild(e):null}function Fw(t){return t.eventRegistrations_.length===0}function UL(t,e){t.eventRegistrations_.push(e)}function Hw(t,e,n){const a=[];if(n){oe(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,i);u&&a.push(u)})}if(e){let i=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))i.push(u);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return a}function qw(t,e,n,a){e.type===lr.MERGE&&e.source.queryId!==null&&(oe(pi(t.viewCache_),"We should always have a full cache before handling merges"),oe(df(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,l=RL(t.processor_,i,e,n,a);return TL(t.processor_,l.viewCache),oe(l.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,bC(t,l.changes,l.viewCache.eventCache.getNode(),null)}function BL(t,e){const n=t.viewCache_.eventCache,a=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ot,(l,u)=>{a.push(Ro(l,u))}),n.isFullyInitialized()&&a.push(cC(n.getNode())),bC(t,a,n.getNode(),e)}function bC(t,e,n,a){const i=a?[a]:t.eventRegistrations_;return iL(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf;class xC{constructor(){this.views=new Map}}function zL(t){oe(!pf,"__referenceConstructor has already been defined"),pf=t}function FL(){return oe(pf,"Reference.ts has not been loaded"),pf}function HL(t){return t.views.size===0}function Fy(t,e,n,a){const i=e.source.queryId;if(i!==null){const l=t.views.get(i);return oe(l!=null,"SyncTree gave us an op for an invalid query."),qw(l,e,n,a)}else{let l=[];for(const u of t.views.values())l=l.concat(qw(u,e,n,a));return l}}function _C(t,e,n,a,i){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let f=ff(n,i?a:null),m=!1;f?m=!0:a instanceof Ee?(f=Uy(n,a),m=!1):(f=Ee.EMPTY_NODE,m=!1);const p=Lf(new fs(f,m,!1),new fs(a,i,!1));return new jL(e,p)}return u}function qL(t,e,n,a,i,l){const u=_C(t,e,a,i,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),UL(u,n),BL(u,n)}function VL(t,e,n,a){const i=e._queryIdentifier,l=[];let u=[];const f=hs(t);if(i==="default")for(const[m,p]of t.views.entries())u=u.concat(Hw(p,n,a)),Fw(p)&&(t.views.delete(m),p.query._queryParams.loadsAllData()||l.push(p.query));else{const m=t.views.get(i);m&&(u=u.concat(Hw(m,n,a)),Fw(m)&&(t.views.delete(i),m.query._queryParams.loadsAllData()||l.push(m.query)))}return f&&!hs(t)&&l.push(new(FL())(e._repo,e._path)),{removed:l,events:u}}function wC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function os(t,e){let n=null;for(const a of t.views.values())n=n||LL(a,e);return n}function EC(t,e){if(e._queryParams.loadsAllData())return Bf(t);{const a=e._queryIdentifier;return t.views.get(a)}}function SC(t,e){return EC(t,e)!=null}function hs(t){return Bf(t)!=null}function Bf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf;function $L(t){oe(!gf,"__referenceConstructor has already been defined"),gf=t}function GL(){return oe(gf,"Reference.ts has not been loaded"),gf}let YL=1;class Vw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new et(null),this.pendingWriteTree_=wL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function CC(t,e,n,a,i){return uL(t.pendingWriteTree_,e,n,a,i),i?Ko(t,new mi(My(),e,n)):[]}function WL(t,e,n,a){dL(t.pendingWriteTree_,e,n,a);const i=et.fromObject(n);return Ko(t,new Do(My(),e,i))}function es(t,e,n=!1){const a=fL(t.pendingWriteTree_,e);if(hL(t.pendingWriteTree_,e)){let l=new et(null);return a.snap!=null?l=l.set(Ve(),!0):zt(a.children,u=>{l=l.set(new Ye(u),!0)}),Ko(t,new uf(a.path,l,n))}else return[]}function nu(t,e,n){return Ko(t,new mi(Py(),e,n))}function KL(t,e,n){const a=et.fromObject(n);return Ko(t,new Do(Py(),e,a))}function XL(t,e){return Ko(t,new kc(Py(),e))}function QL(t,e,n){const a=qy(t,n);if(a){const i=Vy(a),l=i.path,u=i.queryId,f=Jt(l,e),m=new kc(Ly(u),f);return $y(t,l,m)}else return[]}function NC(t,e,n,a,i=!1){const l=e._path,u=t.syncPointTree_.get(l);let f=[];if(u&&(e._queryIdentifier==="default"||SC(u,e))){const m=VL(u,e,n,a);HL(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const p=m.removed;if(f=m.events,!i){const v=p.findIndex(b=>b._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(l,(b,_)=>hs(_));if(v&&!y){const b=t.syncPointTree_.subtree(l);if(!b.isEmpty()){const _=t5(b);for(let C=0;C<_.length;++C){const x=_[C],S=x.query,N=AC(t,x);t.listenProvider_.startListening(wc(S),jc(t,S),N.hashFn,N.onComplete)}}}!y&&p.length>0&&!a&&(v?t.listenProvider_.stopListening(wc(e),null):p.forEach(b=>{const _=t.queryToTagMap.get(zf(b));t.listenProvider_.stopListening(wc(b),_)}))}n5(t,p)}return f}function TC(t,e,n,a){const i=qy(t,a);if(i!=null){const l=Vy(i),u=l.path,f=l.queryId,m=Jt(u,e),p=new mi(Ly(f),m,n);return $y(t,u,p)}else return[]}function ZL(t,e,n,a){const i=qy(t,a);if(i){const l=Vy(i),u=l.path,f=l.queryId,m=Jt(u,e),p=et.fromObject(n),v=new Do(Ly(f),m,p);return $y(t,u,v)}else return[]}function JL(t,e,n,a=!1){const i=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(i,(b,_)=>{const C=Jt(b,i);l=l||os(_,C),u=u||hs(_)});let f=t.syncPointTree_.get(i);f?(u=u||hs(f),l=l||os(f,Ve())):(f=new xC,t.syncPointTree_=t.syncPointTree_.set(i,f));let m;l!=null?m=!0:(m=!1,l=Ee.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((_,C)=>{const x=os(C,Ve());x&&(l=l.updateImmediateChild(_,x))}));const p=SC(f,e);if(!p&&!e._queryParams.loadsAllData()){const b=zf(e);oe(!t.queryToTagMap.has(b),"View does not exist, but we have a tag");const _=r5();t.queryToTagMap.set(b,_),t.tagToQueryMap.set(_,b)}const v=Uf(t.pendingWriteTree_,i);let y=qL(f,e,n,v,l,m);if(!p&&!u&&!a){const b=EC(f,e);y=y.concat(a5(t,e,b))}return y}function Hy(t,e,n){const i=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,f)=>{const m=Jt(u,e),p=os(f,m);if(p)return p});return mC(i,e,l,n,!0)}function e5(t,e){const n=e._path;let a=null;t.syncPointTree_.foreachOnPath(n,(p,v)=>{const y=Jt(p,n);a=a||os(v,y)});let i=t.syncPointTree_.get(n);i?a=a||os(i,Ve()):(i=new xC,t.syncPointTree_=t.syncPointTree_.set(n,i));const l=a!=null,u=l?new fs(a,!0,!1):null,f=Uf(t.pendingWriteTree_,e._path),m=_C(i,e,f,l?u.getNode():Ee.EMPTY_NODE,l);return PL(m)}function Ko(t,e){return RC(e,t.syncPointTree_,null,Uf(t.pendingWriteTree_,Ve()))}function RC(t,e,n,a){if(je(t.path))return DC(t,e,n,a);{const i=e.get(Ve());n==null&&i!=null&&(n=os(i,Ve()));let l=[];const u=Ue(t.path),f=t.operationForChild(u),m=e.children.get(u);if(m&&f){const p=n?n.getImmediateChild(u):null,v=pC(a,u);l=l.concat(RC(f,m,p,v))}return i&&(l=l.concat(Fy(i,t,a,n))),l}}function DC(t,e,n,a){const i=e.get(Ve());n==null&&i!=null&&(n=os(i,Ve()));let l=[];return e.children.inorderTraversal((u,f)=>{const m=n?n.getImmediateChild(u):null,p=pC(a,u),v=t.operationForChild(u);v&&(l=l.concat(DC(v,f,m,p)))}),i&&(l=l.concat(Fy(i,t,a,n))),l}function AC(t,e){const n=e.query,a=jc(t,n);return{hashFn:()=>(ML(e)||Ee.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return a?QL(t,n._path,a):XL(t,n._path);{const l=KP(i,n);return NC(t,n,null,l)}}}}function jc(t,e){const n=zf(e);return t.queryToTagMap.get(n)}function zf(t){return t._path.toString()+"$"+t._queryIdentifier}function qy(t,e){return t.tagToQueryMap.get(e)}function Vy(t){const e=t.indexOf("$");return oe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ye(t.substr(0,e))}}function $y(t,e,n){const a=t.syncPointTree_.get(e);oe(a,"Missing sync point for query tag that we're tracking");const i=Uf(t.pendingWriteTree_,e);return Fy(a,n,i,null)}function t5(t){return t.fold((e,n,a)=>{if(n&&hs(n))return[Bf(n)];{let i=[];return n&&(i=wC(n)),zt(a,(l,u)=>{i=i.concat(u)}),i}})}function wc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(GL())(t._repo,t._path):t}function n5(t,e){for(let n=0;n<e.length;++n){const a=e[n];if(!a._queryParams.loadsAllData()){const i=zf(a),l=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(l)}}}function r5(){return YL++}function a5(t,e,n){const a=e._path,i=jc(t,e),l=AC(t,n),u=t.listenProvider_.startListening(wc(e),i,l.hashFn,l.onComplete),f=t.syncPointTree_.subtree(a);if(i)oe(!hs(f.value),"If we're adding a query, it shouldn't be shadowed");else{const m=f.fold((p,v,y)=>{if(!je(p)&&v&&hs(v))return[Bf(v).query];{let b=[];return v&&(b=b.concat(wC(v).map(_=>_.query))),zt(y,(_,C)=>{b=b.concat(C)}),b}});for(let p=0;p<m.length;++p){const v=m[p];t.listenProvider_.stopListening(wc(v),jc(t,v))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Gy(n)}node(){return this.node_}}class Yy{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ht(this.path_,e);return new Yy(this.syncTree_,n)}node(){return Hy(this.syncTree_,this.path_)}}const s5=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},$w=function(t,e,n){if(!t||typeof t!="object")return t;if(oe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return i5(t[".sv"],e,n);if(typeof t[".sv"]=="object")return o5(t[".sv"],e);oe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},i5=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:oe(!1,"Unexpected server value: "+t)}},o5=function(t,e,n){t.hasOwnProperty("increment")||oe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const a=t.increment;typeof a!="number"&&oe(!1,"Unexpected increment value: "+a);const i=e.node();if(oe(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return a;const u=i.getValue();return typeof u!="number"?a:u+a},IC=function(t,e,n,a){return Wy(e,new Yy(n,t),a)},OC=function(t,e,n){return Wy(t,new Gy(e),n)};function Wy(t,e,n){const a=t.getPriority().val(),i=$w(a,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,f=$w(u.getValue(),e,n);return f!==u.getValue()||i!==u.getPriority().val()?new Ot(f,Et(i)):t}else{const u=t;return l=u,i!==u.getPriority().val()&&(l=l.updatePriority(new Ot(i))),u.forEachChild(ot,(f,m)=>{const p=Wy(m,e.getImmediateChild(f),n);p!==m&&(l=l.updateImmediateChild(f,p))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e="",n=null,a={children:{},childCount:0}){this.name=e,this.parent=n,this.node=a}}function Xy(t,e){let n=e instanceof Ye?e:new Ye(e),a=t,i=Ue(n);for(;i!==null;){const l=Co(a.node.children,i)||{children:{},childCount:0};a=new Ky(i,a,l),n=tt(n),i=Ue(n)}return a}function Xo(t){return t.node.value}function kC(t,e){t.node.value=e,Sg(t)}function jC(t){return t.node.childCount>0}function l5(t){return Xo(t)===void 0&&!jC(t)}function Ff(t,e){zt(t.node.children,(n,a)=>{e(new Ky(n,t,a))})}function MC(t,e,n,a){n&&e(t),Ff(t,i=>{MC(i,e,!0)})}function c5(t,e,n){let a=t.parent;for(;a!==null;){if(e(a))return!0;a=a.parent}return!1}function ru(t){return new Ye(t.parent===null?t.name:ru(t.parent)+"/"+t.name)}function Sg(t){t.parent!==null&&u5(t.parent,t.name,t)}function u5(t,e,n){const a=l5(n),i=Mr(t.node.children,e);a&&i?(delete t.node.children[e],t.node.childCount--,Sg(t)):!a&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Sg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=/[\[\].#$\/\u0000-\u001F\u007F]/,f5=/[\[\].#$\u0000-\u001F\u007F]/,jp=10*1024*1024,Qy=function(t){return typeof t=="string"&&t.length!==0&&!d5.test(t)},PC=function(t){return typeof t=="string"&&t.length!==0&&!f5.test(t)},h5=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),PC(t)},Cg=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Sy(t)||t&&typeof t=="object"&&Mr(t,".sv")},au=function(t,e,n,a){a&&e===void 0||Hf(Af(t,"value"),e,n)},Hf=function(t,e,n){const a=n instanceof Ye?new D4(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Js(a));if(typeof e=="function")throw new Error(t+"contains a function "+Js(a)+" with contents = "+e.toString());if(Sy(e))throw new Error(t+"contains "+e.toString()+" "+Js(a));if(typeof e=="string"&&e.length>jp/3&&If(e)>jp)throw new Error(t+"contains a string greater than "+jp+" utf8 bytes "+Js(a)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,l=!1;if(zt(e,(u,f)=>{if(u===".value")i=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!Qy(u)))throw new Error(t+" contains an invalid key ("+u+") "+Js(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);A4(a,u),Hf(t,f,a),I4(a)}),i&&l)throw new Error(t+' contains ".value" child '+Js(a)+" in addition to actual children.")}},m5=function(t,e){let n,a;for(n=0;n<e.length;n++){a=e[n];const l=Dc(a);for(let u=0;u<l.length;u++)if(!(l[u]===".priority"&&u===l.length-1)){if(!Qy(l[u]))throw new Error(t+"contains an invalid key ("+l[u]+") in path "+a.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(R4);let i=null;for(n=0;n<e.length;n++){if(a=e[n],i!==null&&$n(i,a))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+a.toString());i=a}},p5=function(t,e,n,a){const i=Af(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const l=[];zt(e,(u,f)=>{const m=new Ye(u);if(Hf(i,f,ht(n,m)),Dy(m)===".priority"&&!Cg(f))throw new Error(i+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(m)}),m5(i,l)},Zy=function(t,e,n,a){if(!PC(n))throw new Error(Af(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},g5=function(t,e,n,a){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Zy(t,e,n)},Jy=function(t,e){if(Ue(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},y5=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Qy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!h5(n))throw new Error(Af(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ev(t,e){let n=null;for(let a=0;a<e.length;a++){const i=e[a],l=i.getPath();n!==null&&!tC(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(i)}n&&t.eventLists_.push(n)}function Kn(t,e,n){ev(t,n),b5(t,a=>$n(a,e)||$n(e,a))}function b5(t,e){t.recursionDepth_++;let n=!0;for(let a=0;a<t.eventLists_.length;a++){const i=t.eventLists_[a];if(i){const l=i.path;e(l)?(x5(t.eventLists_[a]),t.eventLists_[a]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function x5(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const a=n.getEventRunner();vc&&Bt("event: "+n.toString()),Wo(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="repo_interrupt",w5=25;class E5{constructor(e,n,a,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=a,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new v5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cf(),this.transactionQueueTree_=new Ky,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function S5(t,e,n){if(t.stats_=Ty(t.repoInfo_),t.forceRestClient_||JP())t.server_=new lf(t.repoInfo_,(a,i,l,u)=>{Gw(t,a,i,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Yw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{St(n)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}t.persistentConnection_=new la(t.repoInfo_,e,(a,i,l,u)=>{Gw(t,a,i,l,u)},a=>{Yw(t,a)},a=>{C5(t,a)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(a=>{t.server_.refreshAuthToken(a)}),t.appCheckProvider_.addTokenChangeListener(a=>{t.server_.refreshAppCheckToken(a.token)}),t.statsReporter_=a4(t.repoInfo_,()=>new aL(t.stats_,t.server_)),t.infoData_=new J4,t.infoSyncTree_=new Vw({startListening:(a,i,l,u)=>{let f=[];const m=t.infoData_.getNode(a._path);return m.isEmpty()||(f=nu(t.infoSyncTree_,a._path,m),setTimeout(()=>{u("ok")},0)),f},stopListening:()=>{}}),tv(t,"connected",!1),t.serverSyncTree_=new Vw({startListening:(a,i,l,u)=>(t.server_.listen(a,l,i,(f,m)=>{const p=u(f,m);Kn(t.eventQueue_,a._path,p)}),[]),stopListening:(a,i)=>{t.server_.unlisten(a,i)}})}function LC(t){const n=t.infoData_.getNode(new Ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function qf(t){return s5({timestamp:LC(t)})}function Gw(t,e,n,a,i){t.dataUpdateCount++;const l=new Ye(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(i)if(a){const m=Qd(n,p=>Et(p));u=ZL(t.serverSyncTree_,l,m,i)}else{const m=Et(n);u=TC(t.serverSyncTree_,l,m,i)}else if(a){const m=Qd(n,p=>Et(p));u=KL(t.serverSyncTree_,l,m)}else{const m=Et(n);u=nu(t.serverSyncTree_,l,m)}let f=l;u.length>0&&(f=Io(t,l)),Kn(t.eventQueue_,f,u)}function Yw(t,e){tv(t,"connected",e),e===!1&&D5(t)}function C5(t,e){zt(e,(n,a)=>{tv(t,n,a)})}function tv(t,e,n){const a=new Ye("/.info/"+e),i=Et(n);t.infoData_.updateSnapshot(a,i);const l=nu(t.infoSyncTree_,a,i);Kn(t.eventQueue_,a,l)}function nv(t){return t.nextWriteId_++}function N5(t,e,n){const a=e5(t.serverSyncTree_,e);return a!=null?Promise.resolve(a):t.server_.get(e).then(i=>{const l=Et(i).withIndex(e._queryParams.getIndex());JL(t.serverSyncTree_,e,n,!0);let u;if(e._queryParams.loadsAllData())u=nu(t.serverSyncTree_,e._path,l);else{const f=jc(t.serverSyncTree_,e);u=TC(t.serverSyncTree_,e._path,l,f)}return Kn(t.eventQueue_,e._path,u),NC(t.serverSyncTree_,e,n,null,!0),l},i=>(su(t,"get for query "+St(e)+" failed: "+i),Promise.reject(new Error(i))))}function T5(t,e,n,a,i){su(t,"set",{path:e.toString(),value:n,priority:a});const l=qf(t),u=Et(n,a),f=Hy(t.serverSyncTree_,e),m=OC(u,f,l),p=nv(t),v=CC(t.serverSyncTree_,e,m,p,!0);ev(t.eventQueue_,v),t.server_.put(e.toString(),u.val(!0),(b,_)=>{const C=b==="ok";C||en("set at "+e+" failed: "+b);const x=es(t.serverSyncTree_,p,!C);Kn(t.eventQueue_,e,x),Ng(t,i,b,_)});const y=av(t,e);Io(t,y),Kn(t.eventQueue_,y,[])}function R5(t,e,n,a){su(t,"update",{path:e.toString(),value:n});let i=!0;const l=qf(t),u={};if(zt(n,(f,m)=>{i=!1,u[f]=IC(ht(e,f),Et(m),t.serverSyncTree_,l)}),i)Bt("update() called with empty data.  Don't do anything."),Ng(t,a,"ok",void 0);else{const f=nv(t),m=WL(t.serverSyncTree_,e,u,f);ev(t.eventQueue_,m),t.server_.merge(e.toString(),n,(p,v)=>{const y=p==="ok";y||en("update at "+e+" failed: "+p);const b=es(t.serverSyncTree_,f,!y),_=b.length>0?Io(t,e):e;Kn(t.eventQueue_,_,b),Ng(t,a,p,v)}),zt(n,p=>{const v=av(t,ht(e,p));Io(t,v)}),Kn(t.eventQueue_,e,[])}}function D5(t){su(t,"onDisconnectEvents");const e=qf(t),n=cf();vg(t.onDisconnect_,Ve(),(i,l)=>{const u=IC(i,l,t.serverSyncTree_,e);uC(n,i,u)});let a=[];vg(n,Ve(),(i,l)=>{a=a.concat(nu(t.serverSyncTree_,i,l));const u=av(t,i);Io(t,u)}),t.onDisconnect_=cf(),Kn(t.eventQueue_,Ve(),a)}function A5(t){t.persistentConnection_&&t.persistentConnection_.interrupt(_5)}function su(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Bt(n,...e)}function Ng(t,e,n,a){e&&Wo(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let l=i;a&&(l+=": "+a);const u=new Error(l);u.code=i,e(u)}})}function UC(t,e,n){return Hy(t.serverSyncTree_,e,n)||Ee.EMPTY_NODE}function rv(t,e=t.transactionQueueTree_){if(e||Vf(t,e),Xo(e)){const n=zC(t,e);oe(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&I5(t,ru(e),n)}else jC(e)&&Ff(e,n=>{rv(t,n)})}function I5(t,e,n){const a=n.map(p=>p.currentWriteId),i=UC(t,e,a);let l=i;const u=i.hash();for(let p=0;p<n.length;p++){const v=n[p];oe(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const y=Jt(e,v.path);l=l.updateChild(y,v.currentOutputSnapshotRaw)}const f=l.val(!0),m=e;t.server_.put(m.toString(),f,p=>{su(t,"transaction put response",{path:m.toString(),status:p});let v=[];if(p==="ok"){const y=[];for(let b=0;b<n.length;b++)n[b].status=2,v=v.concat(es(t.serverSyncTree_,n[b].currentWriteId)),n[b].onComplete&&y.push(()=>n[b].onComplete(null,!0,n[b].currentOutputSnapshotResolved)),n[b].unwatcher();Vf(t,Xy(t.transactionQueueTree_,e)),rv(t,t.transactionQueueTree_),Kn(t.eventQueue_,e,v);for(let b=0;b<y.length;b++)Wo(y[b])}else{if(p==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{en("transaction at "+m.toString()+" failed: "+p);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=p}Io(t,e)}},u)}function Io(t,e){const n=BC(t,e),a=ru(n),i=zC(t,n);return O5(t,i,a),a}function O5(t,e,n){if(e.length===0)return;const a=[];let i=[];const u=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const m=e[f],p=Jt(n,m.path);let v=!1,y;if(oe(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)v=!0,y=m.abortReason,i=i.concat(es(t.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=w5)v=!0,y="maxretry",i=i.concat(es(t.serverSyncTree_,m.currentWriteId,!0));else{const b=UC(t,m.path,u);m.currentInputSnapshot=b;const _=e[f].update(b.val());if(_!==void 0){Hf("transaction failed: Data returned ",_,m.path);let C=Et(_);typeof _=="object"&&_!=null&&Mr(_,".priority")||(C=C.updatePriority(b.getPriority()));const S=m.currentWriteId,N=qf(t),T=OC(C,b,N);m.currentOutputSnapshotRaw=C,m.currentOutputSnapshotResolved=T,m.currentWriteId=nv(t),u.splice(u.indexOf(S),1),i=i.concat(CC(t.serverSyncTree_,m.path,T,m.currentWriteId,m.applyLocally)),i=i.concat(es(t.serverSyncTree_,S,!0))}else v=!0,y="nodata",i=i.concat(es(t.serverSyncTree_,m.currentWriteId,!0))}Kn(t.eventQueue_,n,i),i=[],v&&(e[f].status=2,function(b){setTimeout(b,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(y==="nodata"?a.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):a.push(()=>e[f].onComplete(new Error(y),!1,null))))}Vf(t,t.transactionQueueTree_);for(let f=0;f<a.length;f++)Wo(a[f]);rv(t,t.transactionQueueTree_)}function BC(t,e){let n,a=t.transactionQueueTree_;for(n=Ue(e);n!==null&&Xo(a)===void 0;)a=Xy(a,n),e=tt(e),n=Ue(e);return a}function zC(t,e){const n=[];return FC(t,e,n),n.sort((a,i)=>a.order-i.order),n}function FC(t,e,n){const a=Xo(e);if(a)for(let i=0;i<a.length;i++)n.push(a[i]);Ff(e,i=>{FC(t,i,n)})}function Vf(t,e){const n=Xo(e);if(n){let a=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[a]=n[i],a++);n.length=a,kC(e,n.length>0?n:void 0)}Ff(e,a=>{Vf(t,a)})}function av(t,e){const n=ru(BC(t,e)),a=Xy(t.transactionQueueTree_,e);return c5(a,i=>{Mp(t,i)}),Mp(t,a),MC(a,i=>{Mp(t,i)}),n}function Mp(t,e){const n=Xo(e);if(n){const a=[];let i=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(oe(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(oe(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),i=i.concat(es(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&a.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?kC(e,void 0):n.length=l+1,Kn(t.eventQueue_,ru(e),i);for(let u=0;u<a.length;u++)Wo(a[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){let e="";const n=t.split("/");for(let a=0;a<n.length;a++)if(n[a].length>0){let i=n[a];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function j5(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const a=n.split("=");a.length===2?e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):en(`Invalid query segment '${n}' in query '${t}'`)}return e}const Ww=function(t,e){const n=M5(t),a=n.namespace;n.domain==="firebase.com"&&da(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&n.domain!=="localhost"&&da("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||VP();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $1(n.host,n.secure,a,i,e,"",a!==n.subdomain),path:new Ye(n.pathString)}},M5=function(t){let e="",n="",a="",i="",l="",u=!0,f="https",m=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(f=t.substring(0,p-1),t=t.substring(p+2));let v=t.indexOf("/");v===-1&&(v=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(v,y)),v<y&&(i=k5(t.substring(v,y)));const b=j5(t.substring(Math.min(t.length,y)));p=e.indexOf(":"),p>=0?(u=f==="https"||f==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const _=e.slice(0,p);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const C=e.indexOf(".");a=e.substring(0,C).toLowerCase(),n=e.substring(C+1),l=a}"ns"in b&&(l=b.ns)}return{host:e,port:m,domain:n,subdomain:a,secure:u,scheme:f,pathString:i,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",P5=function(){let t=0;const e=[];return function(n){const a=n===t;t=n;let i;const l=new Array(8);for(i=7;i>=0;i--)l[i]=Kw.charAt(n%64),n=Math.floor(n/64);oe(n===0,"Cannot push at time == 0");let u=l.join("");if(a){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)u+=Kw.charAt(e[i]);return oe(u.length===20,"nextPushId: Length should be 20."),u}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n,a,i){this.eventType=e,this.eventRegistration=n,this.snapshot=a,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+St(this.snapshot.exportVal())}}class U5{constructor(e,n,a){this.eventRegistration=e,this.error=n,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return oe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n,a,i){this._repo=e,this._path=n,this._queryParams=a,this._orderByCalled=i}get key(){return je(this._path)?null:Dy(this._path)}get ref(){return new va(this._repo,this._path)}get _queryIdentifier(){const e=jw(this._queryParams),n=Cy(e);return n==="{}"?"default":n}get _queryObject(){return jw(this._queryParams)}isEqual(e){if(e=Mt(e),!(e instanceof Qo))return!1;const n=this._repo===e._repo,a=tC(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&a&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+T4(this._path)}}function z5(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function sv(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===ci){const a="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==hi)throw new Error(a);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==us)throw new Error(a);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===ot){if(e!=null&&!Cg(e)||n!=null&&!Cg(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(oe(t.getIndex()instanceof Oy||t.getIndex()===lC,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function HC(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class va extends Qo{constructor(e,n){super(e,n,new jy,!1)}get parent(){const e=eC(this._path);return e===null?null:new va(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Mc{constructor(e,n,a){this._node=e,this.ref=n,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ye(e),a=Pc(this.ref,e);return new Mc(this._node.getChild(n),a,ot)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,i)=>e(new Mc(i,Pc(this.ref,a),ot)))}hasChild(e){const n=new Ye(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function hc(t,e){return t=Mt(t),t._checkNotDeleted("ref"),e!==void 0?Pc(t._root,e):t._root}function Pc(t,e){return t=Mt(t),Ue(t._path)===null?g5("child","path",e):Zy("child","path",e),new va(t._repo,ht(t._path,e))}function F5(t,e){t=Mt(t),Jy("push",t._path),au("push",e,t._path,!0);const n=LC(t._repo),a=P5(n),i=Pc(t,a),l=Pc(t,a);let u;return u=Promise.resolve(l),i.then=u.then.bind(u),i.catch=u.then.bind(u,void 0),i}function H5(t){return Jy("remove",t._path),Tg(t,null)}function Tg(t,e){t=Mt(t),Jy("set",t._path),au("set",e,t._path,!1);const n=new Yc;return T5(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function q5(t,e){p5("update",e,t._path);const n=new Yc;return R5(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function go(t){t=Mt(t);const e=new B5(()=>{}),n=new iv(e);return N5(t._repo,t,n).then(a=>new Mc(a,new va(t._repo,t._path),t._queryParams.getIndex()))}class iv{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const a=n._queryParams.getIndex();return new L5("value",this,new Mc(e.snapshotNode,new va(n._repo,n._path),a))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new U5(this,e,n):null}matches(e){return e instanceof iv?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class $f{}class V5 extends $f{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){au("endAt",this._value,e._path,!0);const n=Q4(e._queryParams,this._value,this._key);if(HC(n),sv(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qo(e._repo,e._path,n,e._orderByCalled)}}class $5 extends $f{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){au("startAt",this._value,e._path,!0);const n=X4(e._queryParams,this._value,this._key);if(HC(n),sv(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qo(e._repo,e._path,n,e._orderByCalled)}}class G5 extends $f{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){z5(e,"orderByChild");const n=new Ye(this._path);if(je(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const a=new Oy(n),i=Z4(e._queryParams,a);return sv(i),new Qo(e._repo,e._path,i,!0)}}function mc(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Zy("orderByChild","path",t),new G5(t)}class Y5 extends $f{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(au("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new V5(this._value,this._key)._apply(new $5(this._value,this._key)._apply(e))}}function qC(t,e){return new Y5(t,e)}function pc(t,...e){let n=Mt(t);for(const a of e)n=a._apply(n);return n}zL(va);$L(va);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5="FIREBASE_DATABASE_EMULATOR_HOST",Rg={};let K5=!1;function X5(t,e,n,a){t.repoInfo_=new $1(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),a&&(t.authTokenProvider_=a)}function Q5(t,e,n,a,i){let l=a||t.options.databaseURL;l===void 0&&(t.options.projectId||da("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Bt("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=Ww(l,i),f=u.repoInfo,m;typeof process<"u"&&gw&&(m=gw[W5]),m?(l=`http://${m}?ns=${f.namespace}`,u=Ww(l,i),f=u.repoInfo):u.repoInfo.secure;const p=new t4(t.name,t.options,e);y5("Invalid Firebase Database URL",u),je(u.path)||da("Database URL must point to the root of a Firebase Database (not including a child path).");const v=J5(f,t,p,new e4(t,n));return new e3(v,t)}function Z5(t,e){const n=Rg[e];(!n||n[t.key]!==t)&&da(`Database ${e}(${t.repoInfo_}) has already been deleted.`),A5(t),delete n[t.key]}function J5(t,e,n,a){let i=Rg[e.name];i||(i={},Rg[e.name]=i);let l=i[t.toURLString()];return l&&da("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new E5(t,K5,n,a),i[t.toURLString()]=l,l}class e3{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(S5(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new va(this._repo,Ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Z5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&da("Cannot call "+e+" on a deleted database.")}}function t3(t=WS(),e){const n=my(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const a=XO("database");a&&n3(n,...a)}return n}function n3(t,e,n,a={}){t=Mt(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,l=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&ui(a,l.repoInfo_.emulatorOptions))return;da("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(l.repoInfo_.nodeAdmin)a.mockUserToken&&da('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Vd(Vd.OWNER);else if(a.mockUserToken){const f=typeof a.mockUserToken=="string"?a.mockUserToken:QO(a.mockUserToken,t.app.options.projectId);u=new Vd(f)}X5(l,i,a,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){UP($o),No(new di("database",(e,{instanceIdentifier:n})=>{const a=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return Q5(a,i,l,n)},"PUBLIC").setMultipleInstances(!0)),as(yw,vw,t),as(yw,vw,"esm2017")}la.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};la.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};r3();const a3={apiKey:"AIzaSyCrq7Am9kiE3levq6hOGBuh_wb3lGxfdT0",authDomain:"nrd-sgo.firebaseapp.com",databaseURL:"https://nrd-sgo-default-rtdb.firebaseio.com",projectId:"nrd-sgo",storageBucket:"nrd-sgo.appspot.com",messagingSenderId:"386786255981",appId:"1:386786255981:web:95cabd428cf0ca17c58b64"},VC=YS(a3),s3=t3(VC),gc=jP(VC),yo=class yo{constructor(){Nr(this,"currentUser",null);Nr(this,"authStateReady");Nr(this,"authStateResolver");if(yo.instance)return yo.instance;this.authStateReady=new Promise(e=>{this.authStateResolver=e}),EM(gc,e=>{this.currentUser=e,console.log("Auth state initialized:",{user:e==null?void 0:e.email,isAuthenticated:!!e}),this.authStateResolver()}),yo.instance=this}async login(e,n,a=!1){try{await xM(gc,a?E1:_y),await bM(gc,e,n),a?localStorage.setItem("rememberMe","true"):localStorage.removeItem("rememberMe")}catch(i){throw console.error("Login error:",i),i}}async logout(){try{await SM(gc),localStorage.removeItem("rememberMe")}catch(e){throw console.error("Logout error:",e),e}}getCurrentUser(){return this.currentUser}async isAuthenticated(){return await this.authStateReady,!!this.currentUser}async waitForAuthReady(){return this.authStateReady}wasRemembered(){return localStorage.getItem("rememberMe")==="true"}};Nr(yo,"instance");let yf=yo;function i3(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const o3=t=>{switch(t){case"success":return u3;case"info":return f3;case"warning":return d3;case"error":return h3;default:return null}},l3=Array(12).fill(0),c3=({visible:t,className:e})=>A.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},A.createElement("div",{className:"sonner-spinner"},l3.map((n,a)=>A.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),u3=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),d3=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),f3=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),h3=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),m3=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},A.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),A.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),p3=()=>{const[t,e]=A.useState(document.hidden);return A.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Dg=1;class g3{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:a,...i}=e,l=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Dg++,u=this.toasts.find(m=>m.id===l),f=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(m=>m.id===l?(this.publish({...m,...e,id:l,title:a}),{...m,...e,id:l,dismissible:f,title:a}):m):this.addToast({title:a,...i,dismissible:f,id:l}),l},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(a=>a({id:n.id,dismiss:!0}))}),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0}))),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let a;n.loading!==void 0&&(a=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let l=a!==void 0,u;const f=i.then(async p=>{if(u=["resolve",p],A.isValidElement(p))l=!1,this.create({id:a,type:"default",message:p});else if(v3(p)&&!p.ok){l=!1;const y=typeof n.error=="function"?await n.error(`HTTP error! status: ${p.status}`):n.error,b=typeof n.description=="function"?await n.description(`HTTP error! status: ${p.status}`):n.description,_=typeof y=="object"?y:{message:y};this.create({id:a,type:"error",description:b,..._})}else if(p instanceof Error){l=!1;const y=typeof n.error=="function"?await n.error(p):n.error,b=typeof n.description=="function"?await n.description(p):n.description,_=typeof y=="object"?y:{message:y};this.create({id:a,type:"error",description:b,..._})}else if(n.success!==void 0){l=!1;const y=typeof n.success=="function"?await n.success(p):n.success,b=typeof n.description=="function"?await n.description(p):n.description,_=typeof y=="object"?y:{message:y};this.create({id:a,type:"success",description:b,..._})}}).catch(async p=>{if(u=["reject",p],n.error!==void 0){l=!1;const v=typeof n.error=="function"?await n.error(p):n.error,y=typeof n.description=="function"?await n.description(p):n.description,b=typeof v=="object"?v:{message:v};this.create({id:a,type:"error",description:y,...b})}}).finally(()=>{l&&(this.dismiss(a),a=void 0),n.finally==null||n.finally.call(n)}),m=()=>new Promise((p,v)=>f.then(()=>u[0]==="reject"?v(u[1]):p(u[1])).catch(v));return typeof a!="string"&&typeof a!="number"?{unwrap:m}:Object.assign(a,{unwrap:m})},this.custom=(e,n)=>{const a=(n==null?void 0:n.id)||Dg++;return this.create({jsx:e(a),id:a,...n}),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const cn=new g3,y3=(t,e)=>{const n=(e==null?void 0:e.id)||Dg++;return cn.addToast({title:t,...e,id:n}),n},v3=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",b3=y3,x3=()=>cn.toasts,_3=()=>cn.getActiveToasts(),Ae=Object.assign(b3,{success:cn.success,info:cn.info,warning:cn.warning,error:cn.error,custom:cn.custom,message:cn.message,promise:cn.promise,dismiss:cn.dismiss,loading:cn.loading},{getHistory:x3,getToasts:_3});i3("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ad(t){return t.label!==void 0}const w3=3,E3="24px",S3="16px",Xw=4e3,C3=356,N3=14,T3=45,R3=200;function Tr(...t){return t.filter(Boolean).join(" ")}function D3(t){const[e,n]=t.split("-"),a=[];return e&&a.push(e),n&&a.push(n),a}const A3=t=>{var e,n,a,i,l,u,f,m,p;const{invert:v,toast:y,unstyled:b,interacting:_,setHeights:C,visibleToasts:x,heights:S,index:N,toasts:T,expanded:D,removeToast:M,defaultRichColors:j,closeButton:L,style:O,cancelButtonStyle:q,actionButtonStyle:B,className:V="",descriptionClassName:te="",duration:re,position:ce,gap:le,expandByDefault:de,classNames:H,icons:ie,closeButtonAriaLabel:J="Close toast"}=t,[X,I]=A.useState(null),[$,z]=A.useState(null),[W,K]=A.useState(!1),[se,ne]=A.useState(!1),[ge,fe]=A.useState(!1),[Ce,Ne]=A.useState(!1),[Yt,Qn]=A.useState(!1),[Ht,Zn]=A.useState(0),[_a,Jn]=A.useState(0),er=A.useRef(y.duration||re||Xw),Lr=A.useRef(null),Nt=A.useRef(null),rl=N===0,al=N+1<=x,rn=y.type,wa=y.dismissible!==!1,On=y.className||"",ih=y.descriptionClassName||"",Es=A.useMemo(()=>S.findIndex(Se=>Se.toastId===y.id)||0,[S,y.id]),pu=A.useMemo(()=>{var Se;return(Se=y.closeButton)!=null?Se:L},[y.closeButton,L]),Ss=A.useMemo(()=>y.duration||re||Xw,[y.duration,re]),sl=A.useRef(0),Ur=A.useRef(0),gu=A.useRef(0),Ea=A.useRef(null),[Cs,Wt]=ce.split("-"),yu=A.useMemo(()=>S.reduce((Se,at,lt)=>lt>=Es?Se:Se+at.height,0),[S,Es]),tr=p3(),Kt=y.invert||v,il=rn==="loading";Ur.current=A.useMemo(()=>Es*le+yu,[Es,yu]),A.useEffect(()=>{er.current=Ss},[Ss]),A.useEffect(()=>{K(!0)},[]),A.useEffect(()=>{const Se=Nt.current;if(Se){const at=Se.getBoundingClientRect().height;return Jn(at),C(lt=>[{toastId:y.id,height:at,position:y.position},...lt]),()=>C(lt=>lt.filter(Xt=>Xt.toastId!==y.id))}},[C,y.id]),A.useLayoutEffect(()=>{if(!W)return;const Se=Nt.current,at=Se.style.height;Se.style.height="auto";const lt=Se.getBoundingClientRect().height;Se.style.height=at,Jn(lt),C(Xt=>Xt.find(gt=>gt.toastId===y.id)?Xt.map(gt=>gt.toastId===y.id?{...gt,height:lt}:gt):[{toastId:y.id,height:lt,position:y.position},...Xt])},[W,y.title,y.description,C,y.id]);const vr=A.useCallback(()=>{ne(!0),Zn(Ur.current),C(Se=>Se.filter(at=>at.toastId!==y.id)),setTimeout(()=>{M(y)},R3)},[y,M,C,Ur]);A.useEffect(()=>{if(y.promise&&rn==="loading"||y.duration===1/0||y.type==="loading")return;let Se;return D||_||tr?(()=>{if(gu.current<sl.current){const Xt=new Date().getTime()-sl.current;er.current=er.current-Xt}gu.current=new Date().getTime()})():(()=>{er.current!==1/0&&(sl.current=new Date().getTime(),Se=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),vr()},er.current))})(),()=>clearTimeout(Se)},[D,_,y,rn,tr,vr]),A.useEffect(()=>{y.delete&&vr()},[vr,y.delete]);function oh(){var Se;if(ie!=null&&ie.loading){var at;return A.createElement("div",{className:Tr(H==null?void 0:H.loader,y==null||(at=y.classNames)==null?void 0:at.loader,"sonner-loader"),"data-visible":rn==="loading"},ie.loading)}return A.createElement(c3,{className:Tr(H==null?void 0:H.loader,y==null||(Se=y.classNames)==null?void 0:Se.loader),visible:rn==="loading"})}var Ns,Ts;return A.createElement("li",{tabIndex:0,ref:Nt,className:Tr(V,On,H==null?void 0:H.toast,y==null||(e=y.classNames)==null?void 0:e.toast,H==null?void 0:H.default,H==null?void 0:H[rn],y==null||(n=y.classNames)==null?void 0:n[rn]),"data-sonner-toast":"","data-rich-colors":(Ns=y.richColors)!=null?Ns:j,"data-styled":!(y.jsx||y.unstyled||b),"data-mounted":W,"data-promise":!!y.promise,"data-swiped":Yt,"data-removed":se,"data-visible":al,"data-y-position":Cs,"data-x-position":Wt,"data-index":N,"data-front":rl,"data-swiping":ge,"data-dismissible":wa,"data-type":rn,"data-invert":Kt,"data-swipe-out":Ce,"data-swipe-direction":$,"data-expanded":!!(D||de&&W),style:{"--index":N,"--toasts-before":N,"--z-index":T.length-N,"--offset":`${se?Ht:Ur.current}px`,"--initial-height":de?"auto":`${_a}px`,...O,...y.style},onDragEnd:()=>{fe(!1),I(null),Ea.current=null},onPointerDown:Se=>{il||!wa||(Lr.current=new Date,Zn(Ur.current),Se.target.setPointerCapture(Se.pointerId),Se.target.tagName!=="BUTTON"&&(fe(!0),Ea.current={x:Se.clientX,y:Se.clientY}))},onPointerUp:()=>{var Se,at,lt;if(Ce||!wa)return;Ea.current=null;const Xt=Number(((Se=Nt.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Rs=Number(((at=Nt.current)==null?void 0:at.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gt=new Date().getTime()-((lt=Lr.current)==null?void 0:lt.getTime()),qt=X==="x"?Xt:Rs,br=Math.abs(qt)/gt;if(Math.abs(qt)>=T3||br>.11){Zn(Ur.current),y.onDismiss==null||y.onDismiss.call(y,y),z(X==="x"?Xt>0?"right":"left":Rs>0?"down":"up"),vr(),Ne(!0);return}else{var gn,an;(gn=Nt.current)==null||gn.style.setProperty("--swipe-amount-x","0px"),(an=Nt.current)==null||an.style.setProperty("--swipe-amount-y","0px")}Qn(!1),fe(!1),I(null)},onPointerMove:Se=>{var at,lt,Xt;if(!Ea.current||!wa||((at=window.getSelection())==null?void 0:at.toString().length)>0)return;const gt=Se.clientY-Ea.current.y,qt=Se.clientX-Ea.current.x;var br;const gn=(br=t.swipeDirections)!=null?br:D3(ce);!X&&(Math.abs(qt)>1||Math.abs(gt)>1)&&I(Math.abs(qt)>Math.abs(gt)?"x":"y");let an={x:0,y:0};const ol=xr=>1/(1.5+Math.abs(xr)/20);if(X==="y"){if(gn.includes("top")||gn.includes("bottom"))if(gn.includes("top")&&gt<0||gn.includes("bottom")&&gt>0)an.y=gt;else{const xr=gt*ol(gt);an.y=Math.abs(xr)<Math.abs(gt)?xr:gt}}else if(X==="x"&&(gn.includes("left")||gn.includes("right")))if(gn.includes("left")&&qt<0||gn.includes("right")&&qt>0)an.x=qt;else{const xr=qt*ol(qt);an.x=Math.abs(xr)<Math.abs(qt)?xr:qt}(Math.abs(an.x)>0||Math.abs(an.y)>0)&&Qn(!0),(lt=Nt.current)==null||lt.style.setProperty("--swipe-amount-x",`${an.x}px`),(Xt=Nt.current)==null||Xt.style.setProperty("--swipe-amount-y",`${an.y}px`)}},pu&&!y.jsx&&rn!=="loading"?A.createElement("button",{"aria-label":J,"data-disabled":il,"data-close-button":!0,onClick:il||!wa?()=>{}:()=>{vr(),y.onDismiss==null||y.onDismiss.call(y,y)},className:Tr(H==null?void 0:H.closeButton,y==null||(a=y.classNames)==null?void 0:a.closeButton)},(Ts=ie==null?void 0:ie.close)!=null?Ts:m3):null,rn||y.icon||y.promise?A.createElement("div",{"data-icon":"",className:Tr(H==null?void 0:H.icon,y==null||(i=y.classNames)==null?void 0:i.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||oh():null,y.type!=="loading"?y.icon||(ie==null?void 0:ie[rn])||o3(rn):null):null,A.createElement("div",{"data-content":"",className:Tr(H==null?void 0:H.content,y==null||(l=y.classNames)==null?void 0:l.content)},A.createElement("div",{"data-title":"",className:Tr(H==null?void 0:H.title,y==null||(u=y.classNames)==null?void 0:u.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?A.createElement("div",{"data-description":"",className:Tr(te,ih,H==null?void 0:H.description,y==null||(f=y.classNames)==null?void 0:f.description)},typeof y.description=="function"?y.description():y.description):null),A.isValidElement(y.cancel)?y.cancel:y.cancel&&Ad(y.cancel)?A.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||q,onClick:Se=>{Ad(y.cancel)&&wa&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,Se),vr())},className:Tr(H==null?void 0:H.cancelButton,y==null||(m=y.classNames)==null?void 0:m.cancelButton)},y.cancel.label):null,A.isValidElement(y.action)?y.action:y.action&&Ad(y.action)?A.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||B,onClick:Se=>{Ad(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,Se),!Se.defaultPrevented&&vr())},className:Tr(H==null?void 0:H.actionButton,y==null||(p=y.classNames)==null?void 0:p.actionButton)},y.action.label):null)};function Qw(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function I3(t,e){const n={};return[t,e].forEach((a,i)=>{const l=i===1,u=l?"--mobile-offset":"--offset",f=l?S3:E3;function m(p){["top","right","bottom","left"].forEach(v=>{n[`${u}-${v}`]=typeof p=="number"?`${p}px`:p})}typeof a=="number"||typeof a=="string"?m(a):typeof a=="object"?["top","right","bottom","left"].forEach(p=>{a[p]===void 0?n[`${u}-${p}`]=f:n[`${u}-${p}`]=typeof a[p]=="number"?`${a[p]}px`:a[p]}):m(f)}),n}const O3=A.forwardRef(function(e,n){const{invert:a,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:f,className:m,offset:p,mobileOffset:v,theme:y="light",richColors:b,duration:_,style:C,visibleToasts:x=w3,toastOptions:S,dir:N=Qw(),gap:T=N3,icons:D,containerAriaLabel:M="Notifications"}=e,[j,L]=A.useState([]),O=A.useMemo(()=>Array.from(new Set([i].concat(j.filter($=>$.position).map($=>$.position)))),[j,i]),[q,B]=A.useState([]),[V,te]=A.useState(!1),[re,ce]=A.useState(!1),[le,de]=A.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=A.useRef(null),ie=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),J=A.useRef(null),X=A.useRef(!1),I=A.useCallback($=>{L(z=>{var W;return(W=z.find(K=>K.id===$.id))!=null&&W.delete||cn.dismiss($.id),z.filter(({id:K})=>K!==$.id)})},[]);return A.useEffect(()=>cn.subscribe($=>{if($.dismiss){const z=j.map(W=>W.id===$.id?{...W,delete:!0}:W);requestAnimationFrame(()=>{L(z)});return}setTimeout(()=>{hS.flushSync(()=>{L(z=>{const W=z.findIndex(K=>K.id===$.id);return W!==-1?[...z.slice(0,W),{...z[W],...$},...z.slice(W+1)]:[$,...z]})})})}),[j]),A.useEffect(()=>{if(y!=="system"){de(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?de("dark"):de("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:z})=>{de(z?"dark":"light")})}catch{$.addListener(({matches:W})=>{try{de(W?"dark":"light")}catch(K){console.error(K)}})}},[y]),A.useEffect(()=>{j.length<=1&&te(!1)},[j]),A.useEffect(()=>{const $=z=>{var W;if(l.every(ne=>z[ne]||z.code===ne)){var se;te(!0),(se=H.current)==null||se.focus()}z.code==="Escape"&&(document.activeElement===H.current||(W=H.current)!=null&&W.contains(document.activeElement))&&te(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[l]),A.useEffect(()=>{if(H.current)return()=>{J.current&&(J.current.focus({preventScroll:!0}),J.current=null,X.current=!1)}},[H.current]),A.createElement("section",{ref:n,"aria-label":`${M} ${ie}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map(($,z)=>{var W;const[K,se]=$.split("-");return j.length?A.createElement("ol",{key:$,dir:N==="auto"?Qw():N,tabIndex:-1,ref:H,className:m,"data-sonner-toaster":!0,"data-sonner-theme":le,"data-y-position":K,"data-lifted":V&&j.length>1&&!u,"data-x-position":se,style:{"--front-toast-height":`${((W=q[0])==null?void 0:W.height)||0}px`,"--width":`${C3}px`,"--gap":`${T}px`,...C,...I3(p,v)},onBlur:ne=>{X.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(X.current=!1,J.current&&(J.current.focus({preventScroll:!0}),J.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||X.current||(X.current=!0,J.current=ne.relatedTarget)},onMouseEnter:()=>te(!0),onMouseMove:()=>te(!0),onMouseLeave:()=>{re||te(!1)},onDragEnd:()=>te(!1),onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||ce(!0)},onPointerUp:()=>ce(!1)},j.filter(ne=>!ne.position&&z===0||ne.position===$).map((ne,ge)=>{var fe,Ce;return A.createElement(A3,{key:ne.id,icons:D,index:ge,toast:ne,defaultRichColors:b,duration:(fe=S==null?void 0:S.duration)!=null?fe:_,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:a,visibleToasts:x,closeButton:(Ce=S==null?void 0:S.closeButton)!=null?Ce:f,interacting:re,position:$,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:I,toasts:j.filter(Ne=>Ne.position==ne.position),heights:q.filter(Ne=>Ne.position==ne.position),setHeights:B,expandByDefault:u,gap:T,expanded:V,swipeDirections:e.swipeDirections})})):null}))}),$C="/nrd-sgo/assets/logo-Dugcj0T7.jpg",k3=()=>{const t=Ct(),e=pr(),[n,a]=w.useState(!1),[i,l]=w.useState({email:"",password:""}),[u,f]=w.useState(document.documentElement.classList.contains("dark")),m=()=>{const y=!u;f(y),y?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")},p=async y=>{var b;y.preventDefault(),a(!0);try{await new yf().login(i.email,i.password),console.log("Login successful");const C=((b=e.state)==null?void 0:b.from)||"/dashboard";t(C,{replace:!0})}catch(_){console.error("Login error:",_),Ae.error("Error al iniciar sesin. Por favor, verifique sus credenciales.")}finally{a(!1)}},v=y=>{const{name:b,value:_}=y.target;l({...i,[b]:_})};return d.jsxs("div",{className:"min-h-screen flex flex-col bg-background relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:d.jsx("div",{className:"absolute -top-[40rem] left-1/2 -z-10 transform -translate-x-1/2",children:d.jsx("div",{className:"aspect-[1200/800] w-[80rem] bg-gradient-to-tr from-primary/20 to-primary-foreground/20 opacity-30 blur-3xl"})})}),d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx(ye,{variant:"ghost",size:"icon",onClick:m,className:"rounded-full",children:u?d.jsx(ng,{className:"h-5 w-5"}):d.jsx(eg,{className:"h-5 w-5"})})}),d.jsx("div",{className:"flex-1 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:d.jsxs(nt,{className:"w-full max-w-[90%] sm:max-w-md backdrop-blur-sm bg-card/80 shadow-xl",children:[d.jsxs(fn,{className:"space-y-4 text-center pb-6",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx("img",{src:$C,alt:"Logo",className:"h-16 w-16 sm:h-20 sm:w-20 rounded-lg shadow-lg object-cover"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(hn,{className:"text-xl sm:text-2xl font-bold tracking-tight",children:"Sistema de Gestin Operativa"}),d.jsx(jS,{className:"text-sm sm:text-base",children:"Inicie sesin para continuar"})]})]}),d.jsx(pt,{children:d.jsxs("form",{onSubmit:p,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:d.jsx(XI,{className:"h-4 w-4 text-muted-foreground"})}),d.jsx(Wn,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"pl-10 h-11",placeholder:"usuario@ejemplo.com",value:i.email,onChange:v,disabled:n})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:d.jsx(xI,{className:"h-4 w-4 text-muted-foreground"})}),d.jsx(Wn,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"pl-10 h-11",placeholder:"",value:i.password,onChange:v,disabled:n})]})]}),d.jsx(ye,{type:"submit",className:"w-full h-11 text-base",disabled:n,children:n?d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Iniciando sesin..."]}):d.jsxs(d.Fragment,{children:[d.jsx(wI,{className:"h-5 w-5 mr-2"}),"Iniciar sesin"]})})]})})]})}),d.jsx("div",{className:"py-4 text-center",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Sistema de Gestin Operativa. Todos los derechos reservados."]})})]})};function Tn({columns:t,title:e,addPath:n,backPath:a,service:i}){const[l,u]=A.useState([]),[f,m]=A.useState([]),[p,v]=A.useState(!0),[y,b]=A.useState(""),_=A.useCallback(async()=>{try{const x=await i.findAll();u(x),m(x)}catch(x){console.error("Error al cargar los datos:",x),Ae.error("Error al cargar los datos")}finally{v(!1)}},[i]);A.useEffect(()=>{_()},[_]),A.useEffect(()=>{if(y.trim()===""){m(l);return}const x=t.filter(N=>N.searchable!==!1),S=l.filter(N=>x.some(T=>{var M;const D=T.render?(M=T.render(N))==null?void 0:M.toString():String(N[T.accessor]??"");return D==null?void 0:D.toLowerCase().includes(y.toLowerCase())}));m(S)},[y,l,t]);const C=async x=>{if(window.confirm("Est seguro de que desea eliminar este registro?"))try{await i.delete(x),Ae.success("Registro eliminado exitosamente"),_()}catch(S){console.error("Error al eliminar el registro:",S),Ae.error("Error al eliminar el registro")}};return p?d.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsxs("div",{className:"min-h-[80vh] flex flex-col gap-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:e}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Lista de ",e.toLowerCase()]})]}),d.jsx(oa,{to:n,children:d.jsxs(ye,{className:"flex items-center gap-2",children:[d.jsx(ts,{className:"h-4 w-4"}),"Nuevo"]})})]}),d.jsxs(nt,{children:[d.jsx("div",{className:"p-4",children:d.jsx("div",{className:"max-w-sm",children:d.jsxs("div",{className:"relative",children:[d.jsx(Wn,{type:"text",placeholder:"Buscar...",value:y,onChange:x=>b(x.target.value),className:"w-full pl-9"}),d.jsx(wS,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"})]})})}),d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsxs("table",{className:"w-full caption-bottom text-sm",children:[d.jsx("thead",{className:"[&_tr]:border-b",children:d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[t.map((x,S)=>d.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:x.header},S)),d.jsx("th",{className:"h-12 px-4 text-right align-middle font-medium text-muted-foreground",children:"Acciones"})]})}),d.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:f.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:t.length+1,className:"p-4 text-center text-muted-foreground",children:y.trim()!==""?`No se encontraron ${e.toLowerCase()} que coincidan con la bsqueda`:`No hay ${e.toLowerCase()} registrados`})}):f.map(x=>d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[t.map((S,N)=>d.jsx("td",{className:"p-4 align-middle",children:S.render?S.render(x):String(x[S.accessor]??"")},N)),d.jsx("td",{className:"p-4 align-middle text-right",children:d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(oa,{to:`${a||""}/${x.id}`,children:d.jsx(ye,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Ver detalles",children:d.jsx(Df,{className:"h-4 w-4"})})}),d.jsx(oa,{to:`${a||""}/${x.id}/edit`,children:d.jsx(ye,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Editar",children:d.jsx(Bo,{className:"h-4 w-4"})})}),d.jsx(ye,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:text-destructive",onClick:()=>C(x.id.toString()),title:"Eliminar",children:d.jsx(zo,{className:"h-4 w-4"})})]})})]},x.id))})]})})]})]})}var Lc=(t=>(t.ACTIVE="active",t.INACTIVE="inactive",t))(Lc||{});class Rn{constructor(e,n){Nr(this,"dbRef");this.db=e,this.dbRef=n}mapDocumentToEntity(e,n){const a={...e};return a.createdAt&&(a.createdAt=new Date(a.createdAt)),a.updatedAt&&(a.updatedAt=new Date(a.updatedAt)),{id:n,...a}}getRef(e){return hc(this.db,e?`${this.dbRef}/${e}`:this.dbRef)}async getSnapshot(e){return await go(this.getRef(e))}async setData(e,n){await Tg(this.getRef(e),n)}async updateData(e,n){await q5(this.getRef(e),n)}async removeData(e){await H5(this.getRef(e))}async pushData(e){const n=F5(this.getRef());return await Tg(n,e),n}async queryData(e,n){const a=pc(this.getRef(),mc(e),qC(n));return await go(a)}async findAll(){const e=await this.getSnapshot();if(!e.exists())return[];const n=e.val();return Object.entries(n).map(([a,i])=>this.mapDocumentToEntity(i,a))}async findById(e){const n=await this.getSnapshot(e);return n.exists()?this.mapDocumentToEntity(n.val(),e):null}async create(e){const n=await this.pushData(e),a={...e};return this.mapDocumentToEntity(a,n.key)}async update(e,n){await this.updateData(e,n)}async delete(e){await this.removeData(e)}async findByField(e,n){const a=await this.queryData(e,n);if(!a.exists())return[];const i=a.val();return Object.entries(i).map(([l,u])=>this.mapDocumentToEntity(u,l))}}class j3 extends Rn{constructor(e){super(e,"customers")}async findByName(e){return this.findByField("name",e)}async findByEmail(e){return this.findByField("email",e)}async findByPhone(e){return this.findByField("phone",e)}async findByStatus(e){return this.findByField("status",e)}}class Dn{constructor(e){Nr(this,"repository");this.repository=new e(s3)}async findAll(){return this.repository.findAll()}async findById(e){return this.repository.findById(e)}async create(e){return this.repository.create(e)}async update(e,n){await this.repository.update(e,n);const a=await this.findById(e);if(!a)throw new Error("Entity not found after update");return a}async delete(e){await this.repository.delete(e)}}class ba extends Dn{constructor(){super(j3)}async findByName(e){return this.repository.findByName(e)}async findByEmail(e){return this.repository.findByEmail(e)}async findByPhone(e){return this.repository.findByPhone(e)}async findByStatus(e){return(await this.repository.findAll()).filter(a=>a.status===e)}}function M3(){const t=new ba,e=[{header:"Nombre",accessor:"name"},{header:"Telfono",accessor:"phone",render:n=>n.phone||"-"},{header:"Estado",accessor:"status",render:n=>n.status===Lc.ACTIVE?"Activo":"Inactivo"}];return d.jsx(Tn,{columns:e,title:"Clientes",addPath:"/customers/new",backPath:"/customers",service:t})}const Gn=w.forwardRef(({className:t,...e},n)=>d.jsx("label",{ref:n,className:Ie("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));Gn.displayName="Label";var Zw=1,P3=.9,L3=.8,U3=.17,Pp=.1,Lp=.999,B3=.9999,z3=.99,F3=/[\\\/_+.#"@\[\(\{&]/,H3=/[\\\/_+.#"@\[\(\{&]/g,q3=/[\s-]/,GC=/[\s-]/g;function Ag(t,e,n,a,i,l,u){if(l===e.length)return i===t.length?Zw:z3;var f=`${i},${l}`;if(u[f]!==void 0)return u[f];for(var m=a.charAt(l),p=n.indexOf(m,i),v=0,y,b,_,C;p>=0;)y=Ag(t,e,n,a,p+1,l+1,u),y>v&&(p===i?y*=Zw:F3.test(t.charAt(p-1))?(y*=L3,_=t.slice(i,p-1).match(H3),_&&i>0&&(y*=Math.pow(Lp,_.length))):q3.test(t.charAt(p-1))?(y*=P3,C=t.slice(i,p-1).match(GC),C&&i>0&&(y*=Math.pow(Lp,C.length))):(y*=U3,i>0&&(y*=Math.pow(Lp,p-i))),t.charAt(p)!==e.charAt(l)&&(y*=B3)),(y<Pp&&n.charAt(p-1)===a.charAt(l+1)||a.charAt(l+1)===a.charAt(l)&&n.charAt(p-1)!==a.charAt(l))&&(b=Ag(t,e,n,a,p+1,l+2,u),b*Pp>y&&(y=b*Pp)),y>v&&(v=y),p=n.indexOf(m,p+1);return u[f]=v,v}function Jw(t){return t.toLowerCase().replace(GC," ")}function V3(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,Ag(t,e,Jw(t),Jw(e),0,0,{})}function ft(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function eE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function YC(...t){return e=>{let n=!1;const a=t.map(i=>{const l=eE(i,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<a.length;i++){const l=a[i];typeof l=="function"?l():eE(t[i],null)}}}}function nn(...t){return w.useCallback(YC(...t),t)}function $3(t,e){const n=w.createContext(e),a=l=>{const{children:u,...f}=l,m=w.useMemo(()=>f,Object.values(f));return d.jsx(n.Provider,{value:m,children:u})};a.displayName=t+"Provider";function i(l){const u=w.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[a,i]}function Zo(t,e=[]){let n=[];function a(l,u){const f=w.createContext(u),m=n.length;n=[...n,u];const p=y=>{var N;const{scope:b,children:_,...C}=y,x=((N=b==null?void 0:b[t])==null?void 0:N[m])||f,S=w.useMemo(()=>C,Object.values(C));return d.jsx(x.Provider,{value:S,children:_})};p.displayName=l+"Provider";function v(y,b){var x;const _=((x=b==null?void 0:b[t])==null?void 0:x[m])||f,C=w.useContext(_);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${l}\``)}return[p,v]}const i=()=>{const l=n.map(u=>w.createContext(u));return function(f){const m=(f==null?void 0:f[t])||l;return w.useMemo(()=>({[`__scope${t}`]:{...f,[t]:m}}),[f,m])}};return i.scopeName=t,[a,G3(i,...e)]}function G3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const a=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=a.reduce((f,{useScope:m,scopeName:p})=>{const y=m(l)[`__scope${p}`];return{...f,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}var ms=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},Y3=vA.useId||(()=>{}),W3=0;function Yn(t){const[e,n]=w.useState(Y3());return ms(()=>{n(a=>a??String(W3++))},[t]),e?`radix-${e}`:""}function ps(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var a;return(a=e.current)==null?void 0:a.call(e,...n)},[])}function iu({prop:t,defaultProp:e,onChange:n=()=>{}}){const[a,i]=K3({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:a,f=ps(n),m=w.useCallback(p=>{if(l){const y=typeof p=="function"?p(t):p;y!==t&&f(y)}else i(p)},[l,t,i,f]);return[u,m]}function K3({defaultProp:t,onChange:e}){const n=w.useState(t),[a]=n,i=w.useRef(a),l=ps(e);return w.useEffect(()=>{i.current!==a&&(l(a),i.current=a)},[a,i,l]),n}var Gf=w.forwardRef((t,e)=>{const{children:n,...a}=t,i=w.Children.toArray(n),l=i.find(X3);if(l){const u=l.props.children,f=i.map(m=>m===l?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:m);return d.jsx(Ig,{...a,ref:e,children:w.isValidElement(u)?w.cloneElement(u,void 0,f):null})}return d.jsx(Ig,{...a,ref:e,children:n})});Gf.displayName="Slot";var Ig=w.forwardRef((t,e)=>{const{children:n,...a}=t;if(w.isValidElement(n)){const i=Z3(n),l=Q3(a,n.props);return n.type!==w.Fragment&&(l.ref=e?YC(e,i):i),w.cloneElement(n,l)}return w.Children.count(n)>1?w.Children.only(null):null});Ig.displayName="SlotClone";var WC=({children:t})=>d.jsx(d.Fragment,{children:t});function X3(t){return w.isValidElement(t)&&t.type===WC}function Q3(t,e){const n={...e};for(const a in e){const i=t[a],l=e[a];/^on[A-Z]/.test(a)?i&&l?n[a]=(...f)=>{l(...f),i(...f)}:i&&(n[a]=i):a==="style"?n[a]={...i,...l}:a==="className"&&(n[a]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function Z3(t){var a,i;let e=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var J3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$e=J3.reduce((t,e)=>{const n=w.forwardRef((a,i)=>{const{asChild:l,...u}=a,f=l?Gf:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(f,{...u,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function eU(t,e){t&&ry.flushSync(()=>t.dispatchEvent(e))}function tU(t,e=globalThis==null?void 0:globalThis.document){const n=ps(t);w.useEffect(()=>{const a=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",a,{capture:!0}),()=>e.removeEventListener("keydown",a,{capture:!0})},[n,e])}var nU="DismissableLayer",Og="dismissableLayer.update",rU="dismissableLayer.pointerDownOutside",aU="dismissableLayer.focusOutside",tE,KC=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yf=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...m}=t,p=w.useContext(KC),[v,y]=w.useState(null),b=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=w.useState({}),C=nn(e,O=>y(O)),x=Array.from(p.layers),[S]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),N=x.indexOf(S),T=v?x.indexOf(v):-1,D=p.layersWithOutsidePointerEventsDisabled.size>0,M=T>=N,j=oU(O=>{const q=O.target,B=[...p.branches].some(V=>V.contains(q));!M||B||(i==null||i(O),u==null||u(O),O.defaultPrevented||f==null||f())},b),L=lU(O=>{const q=O.target;[...p.branches].some(V=>V.contains(q))||(l==null||l(O),u==null||u(O),O.defaultPrevented||f==null||f())},b);return tU(O=>{T===p.layers.size-1&&(a==null||a(O),!O.defaultPrevented&&f&&(O.preventDefault(),f()))},b),w.useEffect(()=>{if(v)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(tE=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),nE(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=tE)}},[v,b,n,p]),w.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),nE())},[v,p]),w.useEffect(()=>{const O=()=>_({});return document.addEventListener(Og,O),()=>document.removeEventListener(Og,O)},[]),d.jsx($e.div,{...m,ref:C,style:{pointerEvents:D?M?"auto":"none":void 0,...t.style},onFocusCapture:ft(t.onFocusCapture,L.onFocusCapture),onBlurCapture:ft(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:ft(t.onPointerDownCapture,j.onPointerDownCapture)})});Yf.displayName=nU;var sU="DismissableLayerBranch",iU=w.forwardRef((t,e)=>{const n=w.useContext(KC),a=w.useRef(null),i=nn(e,a);return w.useEffect(()=>{const l=a.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),d.jsx($e.div,{...t,ref:i})});iU.displayName=sU;function oU(t,e=globalThis==null?void 0:globalThis.document){const n=ps(t),a=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const l=f=>{if(f.target&&!a.current){let m=function(){XC(rU,n,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=m,e.addEventListener("click",i.current,{once:!0})):m()}else e.removeEventListener("click",i.current);a.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>a.current=!0}}function lU(t,e=globalThis==null?void 0:globalThis.document){const n=ps(t),a=w.useRef(!1);return w.useEffect(()=>{const i=l=>{l.target&&!a.current&&XC(aU,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function nE(){const t=new CustomEvent(Og);document.dispatchEvent(t)}function XC(t,e,n,{discrete:a}){const i=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),a?eU(i,l):i.dispatchEvent(l)}var Up="focusScope.autoFocusOnMount",Bp="focusScope.autoFocusOnUnmount",rE={bubbles:!1,cancelable:!0},cU="FocusScope",ov=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=t,[f,m]=w.useState(null),p=ps(i),v=ps(l),y=w.useRef(null),b=nn(e,x=>m(x)),_=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(a){let x=function(D){if(_.paused||!f)return;const M=D.target;f.contains(M)?y.current=M:Ka(y.current,{select:!0})},S=function(D){if(_.paused||!f)return;const M=D.relatedTarget;M!==null&&(f.contains(M)||Ka(y.current,{select:!0}))},N=function(D){if(document.activeElement===document.body)for(const j of D)j.removedNodes.length>0&&Ka(f)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const T=new MutationObserver(N);return f&&T.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),T.disconnect()}}},[a,f,_.paused]),w.useEffect(()=>{if(f){sE.add(_);const x=document.activeElement;if(!f.contains(x)){const N=new CustomEvent(Up,rE);f.addEventListener(Up,p),f.dispatchEvent(N),N.defaultPrevented||(uU(pU(QC(f)),{select:!0}),document.activeElement===x&&Ka(f))}return()=>{f.removeEventListener(Up,p),setTimeout(()=>{const N=new CustomEvent(Bp,rE);f.addEventListener(Bp,v),f.dispatchEvent(N),N.defaultPrevented||Ka(x??document.body,{select:!0}),f.removeEventListener(Bp,v),sE.remove(_)},0)}}},[f,p,v,_]);const C=w.useCallback(x=>{if(!n&&!a||_.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,N=document.activeElement;if(S&&N){const T=x.currentTarget,[D,M]=dU(T);D&&M?!x.shiftKey&&N===M?(x.preventDefault(),n&&Ka(D,{select:!0})):x.shiftKey&&N===D&&(x.preventDefault(),n&&Ka(M,{select:!0})):N===T&&x.preventDefault()}},[n,a,_.paused]);return d.jsx($e.div,{tabIndex:-1,...u,ref:b,onKeyDown:C})});ov.displayName=cU;function uU(t,{select:e=!1}={}){const n=document.activeElement;for(const a of t)if(Ka(a,{select:e}),document.activeElement!==n)return}function dU(t){const e=QC(t),n=aE(e,t),a=aE(e.reverse(),t);return[n,a]}function QC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function aE(t,e){for(const n of t)if(!fU(n,{upTo:e}))return n}function fU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function hU(t){return t instanceof HTMLInputElement&&"select"in t}function Ka(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&hU(t)&&e&&t.select()}}var sE=mU();function mU(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=iE(t,e),t.unshift(e)},remove(e){var n;t=iE(t,e),(n=t[0])==null||n.resume()}}}function iE(t,e){const n=[...t],a=n.indexOf(e);return a!==-1&&n.splice(a,1),n}function pU(t){return t.filter(e=>e.tagName!=="A")}var gU="Portal",lv=w.forwardRef((t,e)=>{var f;const{container:n,...a}=t,[i,l]=w.useState(!1);ms(()=>l(!0),[]);const u=n||i&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return u?hS.createPortal(d.jsx($e.div,{...a,ref:e}),u):null});lv.displayName=gU;function yU(t,e){return w.useReducer((n,a)=>e[n][a]??n,t)}var xa=t=>{const{present:e,children:n}=t,a=vU(e),i=typeof n=="function"?n({present:a.isPresent}):w.Children.only(n),l=nn(a.ref,bU(i));return typeof n=="function"||a.isPresent?w.cloneElement(i,{ref:l}):null};xa.displayName="Presence";function vU(t){const[e,n]=w.useState(),a=w.useRef({}),i=w.useRef(t),l=w.useRef("none"),u=t?"mounted":"unmounted",[f,m]=yU(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const p=Id(a.current);l.current=f==="mounted"?p:"none"},[f]),ms(()=>{const p=a.current,v=i.current;if(v!==t){const b=l.current,_=Id(p);t?m("MOUNT"):_==="none"||(p==null?void 0:p.display)==="none"?m("UNMOUNT"):m(v&&b!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,m]),ms(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,y=_=>{const x=Id(a.current).includes(_.animationName);if(_.target===e&&x&&(m("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},b=_=>{_.target===e&&(l.current=Id(a.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:w.useCallback(p=>{p&&(a.current=getComputedStyle(p)),n(p)},[])}}function Id(t){return(t==null?void 0:t.animationName)||"none"}function bU(t){var a,i;let e=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var zp=0;function ZC(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??oE()),document.body.insertAdjacentElement("beforeend",t[1]??oE()),zp++,()=>{zp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),zp--}},[])}function oE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var $d="right-scroll-bar-position",Gd="width-before-scroll-bar",xU="with-scroll-bars-hidden",_U="--removed-body-scroll-bar-size";function Fp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function wU(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(a){var i=n.value;i!==a&&(n.value=a,n.callback(a,i))}}}})[0];return n.callback=e,n.facade}var EU=typeof window<"u"?w.useLayoutEffect:w.useEffect,lE=new WeakMap;function SU(t,e){var n=wU(null,function(a){return t.forEach(function(i){return Fp(i,a)})});return EU(function(){var a=lE.get(n);if(a){var i=new Set(a),l=new Set(t),u=n.current;i.forEach(function(f){l.has(f)||Fp(f,null)}),l.forEach(function(f){i.has(f)||Fp(f,u)})}lE.set(n,t)},[t]),n}function CU(t){return t}function NU(t,e){e===void 0&&(e=CU);var n=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var u=e(l,a);return n.push(u),function(){n=n.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(a=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){a=!0;var u=[];if(n.length){var f=n;n=[],f.forEach(l),u=n}var m=function(){var v=u;u=[],v.forEach(l)},p=function(){return Promise.resolve().then(m)};p(),n={push:function(v){u.push(v),p()},filter:function(v){return u=u.filter(v),n}}}};return i}function TU(t){t===void 0&&(t={});var e=NU(null);return e.options=Rr({async:!0,ssr:!1},t),e}var JC=function(t){var e=t.sideCar,n=Kc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=e.read();if(!a)throw new Error("Sidecar medium not found");return w.createElement(a,Rr({},n))};JC.isSideCarExport=!0;function RU(t,e){return t.useMedium(e),JC}var eN=TU(),Hp=function(){},Wf=w.forwardRef(function(t,e){var n=w.useRef(null),a=w.useState({onScrollCapture:Hp,onWheelCapture:Hp,onTouchMoveCapture:Hp}),i=a[0],l=a[1],u=t.forwardProps,f=t.children,m=t.className,p=t.removeScrollBar,v=t.enabled,y=t.shards,b=t.sideCar,_=t.noIsolation,C=t.inert,x=t.allowPinchZoom,S=t.as,N=S===void 0?"div":S,T=t.gapMode,D=Kc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=b,j=SU([n,e]),L=Rr(Rr({},D),i);return w.createElement(w.Fragment,null,v&&w.createElement(M,{sideCar:eN,removeScrollBar:p,shards:y,noIsolation:_,inert:C,setCallbacks:l,allowPinchZoom:!!x,lockRef:n,gapMode:T}),u?w.cloneElement(w.Children.only(f),Rr(Rr({},L),{ref:j})):w.createElement(N,Rr({},L,{className:m,ref:j}),f))});Wf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wf.classNames={fullWidth:Gd,zeroRight:$d};var DU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function AU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=DU();return e&&t.setAttribute("nonce",e),t}function IU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function OU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var kU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=AU())&&(IU(e,n),OU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},jU=function(){var t=kU();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},tN=function(){var t=jU(),e=function(n){var a=n.styles,i=n.dynamic;return t(a,i),null};return e},MU={left:0,top:0,right:0,gap:0},qp=function(t){return parseInt(t||"",10)||0},PU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],a=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[qp(n),qp(a),qp(i)]},LU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return MU;var e=PU(t),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,a-n+e[2]-e[0])}},UU=tN(),wo="data-scroll-locked",BU=function(t,e,n,a){var i=t.left,l=t.top,u=t.right,f=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(xU,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(wo,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($d,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Gd,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat($d," .").concat($d,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Gd," .").concat(Gd,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(wo,`] {
    `).concat(_U,": ").concat(f,`px;
  }
`)},cE=function(){var t=parseInt(document.body.getAttribute(wo)||"0",10);return isFinite(t)?t:0},zU=function(){w.useEffect(function(){return document.body.setAttribute(wo,(cE()+1).toString()),function(){var t=cE()-1;t<=0?document.body.removeAttribute(wo):document.body.setAttribute(wo,t.toString())}},[])},FU=function(t){var e=t.noRelative,n=t.noImportant,a=t.gapMode,i=a===void 0?"margin":a;zU();var l=w.useMemo(function(){return LU(i)},[i]);return w.createElement(UU,{styles:BU(l,!e,i,n?"":"!important")})},kg=!1;if(typeof window<"u")try{var Od=Object.defineProperty({},"passive",{get:function(){return kg=!0,!0}});window.addEventListener("test",Od,Od),window.removeEventListener("test",Od,Od)}catch{kg=!1}var lo=kg?{passive:!1}:!1,HU=function(t){return t.tagName==="TEXTAREA"},nN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!HU(t)&&n[e]==="visible")},qU=function(t){return nN(t,"overflowY")},VU=function(t){return nN(t,"overflowX")},uE=function(t,e){var n=e.ownerDocument,a=e;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=rN(t,a);if(i){var l=aN(t,a),u=l[1],f=l[2];if(u>f)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},$U=function(t){var e=t.scrollTop,n=t.scrollHeight,a=t.clientHeight;return[e,n,a]},GU=function(t){var e=t.scrollLeft,n=t.scrollWidth,a=t.clientWidth;return[e,n,a]},rN=function(t,e){return t==="v"?qU(e):VU(e)},aN=function(t,e){return t==="v"?$U(e):GU(e)},YU=function(t,e){return t==="h"&&e==="rtl"?-1:1},WU=function(t,e,n,a,i){var l=YU(t,window.getComputedStyle(e).direction),u=l*a,f=n.target,m=e.contains(f),p=!1,v=u>0,y=0,b=0;do{var _=aN(t,f),C=_[0],x=_[1],S=_[2],N=x-S-l*C;(C||N)&&rN(t,f)&&(y+=N,b+=C),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!m&&f!==document.body||m&&(e.contains(f)||e===f));return(v&&Math.abs(y)<1||!v&&Math.abs(b)<1)&&(p=!0),p},kd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},dE=function(t){return[t.deltaX,t.deltaY]},fE=function(t){return t&&"current"in t?t.current:t},KU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},XU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},QU=0,co=[];function ZU(t){var e=w.useRef([]),n=w.useRef([0,0]),a=w.useRef(),i=w.useState(QU++)[0],l=w.useState(tN)[0],u=w.useRef(t);w.useEffect(function(){u.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=wj([t.lockRef.current],(t.shards||[]).map(fE),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var f=w.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!u.current.allowPinchZoom;var N=kd(x),T=n.current,D="deltaX"in x?x.deltaX:T[0]-N[0],M="deltaY"in x?x.deltaY:T[1]-N[1],j,L=x.target,O=Math.abs(D)>Math.abs(M)?"h":"v";if("touches"in x&&O==="h"&&L.type==="range")return!1;var q=uE(O,L);if(!q)return!0;if(q?j=O:(j=O==="v"?"h":"v",q=uE(O,L)),!q)return!1;if(!a.current&&"changedTouches"in x&&(D||M)&&(a.current=j),!j)return!0;var B=a.current||j;return WU(B,S,x,B==="h"?D:M)},[]),m=w.useCallback(function(x){var S=x;if(!(!co.length||co[co.length-1]!==l)){var N="deltaY"in S?dE(S):kd(S),T=e.current.filter(function(j){return j.name===S.type&&(j.target===S.target||S.target===j.shadowParent)&&KU(j.delta,N)})[0];if(T&&T.should){S.cancelable&&S.preventDefault();return}if(!T){var D=(u.current.shards||[]).map(fE).filter(Boolean).filter(function(j){return j.contains(S.target)}),M=D.length>0?f(S,D[0]):!u.current.noIsolation;M&&S.cancelable&&S.preventDefault()}}},[]),p=w.useCallback(function(x,S,N,T){var D={name:x,delta:S,target:N,should:T,shadowParent:JU(N)};e.current.push(D),setTimeout(function(){e.current=e.current.filter(function(M){return M!==D})},1)},[]),v=w.useCallback(function(x){n.current=kd(x),a.current=void 0},[]),y=w.useCallback(function(x){p(x.type,dE(x),x.target,f(x,t.lockRef.current))},[]),b=w.useCallback(function(x){p(x.type,kd(x),x.target,f(x,t.lockRef.current))},[]);w.useEffect(function(){return co.push(l),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:b}),document.addEventListener("wheel",m,lo),document.addEventListener("touchmove",m,lo),document.addEventListener("touchstart",v,lo),function(){co=co.filter(function(x){return x!==l}),document.removeEventListener("wheel",m,lo),document.removeEventListener("touchmove",m,lo),document.removeEventListener("touchstart",v,lo)}},[]);var _=t.removeScrollBar,C=t.inert;return w.createElement(w.Fragment,null,C?w.createElement(l,{styles:XU(i)}):null,_?w.createElement(FU,{gapMode:t.gapMode}):null)}function JU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const eB=RU(eN,ZU);var cv=w.forwardRef(function(t,e){return w.createElement(Wf,Rr({},t,{ref:e,sideCar:eB}))});cv.classNames=Wf.classNames;var tB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},uo=new WeakMap,jd=new WeakMap,Md={},Vp=0,sN=function(t){return t&&(t.host||sN(t.parentNode))},nB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var a=sN(n);return a&&t.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},rB=function(t,e,n,a){var i=nB(e,Array.isArray(t)?t:[t]);Md[n]||(Md[n]=new WeakMap);var l=Md[n],u=[],f=new Set,m=new Set(i),p=function(y){!y||f.has(y)||(f.add(y),p(y.parentNode))};i.forEach(p);var v=function(y){!y||m.has(y)||Array.prototype.forEach.call(y.children,function(b){if(f.has(b))v(b);else try{var _=b.getAttribute(a),C=_!==null&&_!=="false",x=(uo.get(b)||0)+1,S=(l.get(b)||0)+1;uo.set(b,x),l.set(b,S),u.push(b),x===1&&C&&jd.set(b,!0),S===1&&b.setAttribute(n,"true"),C||b.setAttribute(a,"true")}catch(N){console.error("aria-hidden: cannot operate on ",b,N)}})};return v(e),f.clear(),Vp++,function(){u.forEach(function(y){var b=uo.get(y)-1,_=l.get(y)-1;uo.set(y,b),l.set(y,_),b||(jd.has(y)||y.removeAttribute(a),jd.delete(y)),_||y.removeAttribute(n)}),Vp--,Vp||(uo=new WeakMap,uo=new WeakMap,jd=new WeakMap,Md={})}},iN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),i=tB(t);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live]"))),rB(a,i,n,"aria-hidden")):function(){return null}},uv="Dialog",[oN,YH]=Zo(uv),[aB,gr]=oN(uv),lN=t=>{const{__scopeDialog:e,children:n,open:a,defaultOpen:i,onOpenChange:l,modal:u=!0}=t,f=w.useRef(null),m=w.useRef(null),[p=!1,v]=iu({prop:a,defaultProp:i,onChange:l});return d.jsx(aB,{scope:e,triggerRef:f,contentRef:m,contentId:Yn(),titleId:Yn(),descriptionId:Yn(),open:p,onOpenChange:v,onOpenToggle:w.useCallback(()=>v(y=>!y),[v]),modal:u,children:n})};lN.displayName=uv;var cN="DialogTrigger",uN=w.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=gr(cN,n),l=nn(e,i.triggerRef);return d.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":hv(i.open),...a,ref:l,onClick:ft(t.onClick,i.onOpenToggle)})});uN.displayName=cN;var dv="DialogPortal",[sB,dN]=oN(dv,{forceMount:void 0}),fN=t=>{const{__scopeDialog:e,forceMount:n,children:a,container:i}=t,l=gr(dv,e);return d.jsx(sB,{scope:e,forceMount:n,children:w.Children.map(a,u=>d.jsx(xa,{present:n||l.open,children:d.jsx(lv,{asChild:!0,container:i,children:u})}))})};fN.displayName=dv;var vf="DialogOverlay",hN=w.forwardRef((t,e)=>{const n=dN(vf,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,l=gr(vf,t.__scopeDialog);return l.modal?d.jsx(xa,{present:a||l.open,children:d.jsx(iB,{...i,ref:e})}):null});hN.displayName=vf;var iB=w.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=gr(vf,n);return d.jsx(cv,{as:Gf,allowPinchZoom:!0,shards:[i.contentRef],children:d.jsx($e.div,{"data-state":hv(i.open),...a,ref:e,style:{pointerEvents:"auto",...a.style}})})}),gi="DialogContent",mN=w.forwardRef((t,e)=>{const n=dN(gi,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,l=gr(gi,t.__scopeDialog);return d.jsx(xa,{present:a||l.open,children:l.modal?d.jsx(oB,{...i,ref:e}):d.jsx(lB,{...i,ref:e})})});mN.displayName=gi;var oB=w.forwardRef((t,e)=>{const n=gr(gi,t.__scopeDialog),a=w.useRef(null),i=nn(e,n.contentRef,a);return w.useEffect(()=>{const l=a.current;if(l)return iN(l)},[]),d.jsx(pN,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(t.onCloseAutoFocus,l=>{var u;l.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:ft(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&l.preventDefault()}),onFocusOutside:ft(t.onFocusOutside,l=>l.preventDefault())})}),lB=w.forwardRef((t,e)=>{const n=gr(gi,t.__scopeDialog),a=w.useRef(!1),i=w.useRef(!1);return d.jsx(pN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,f;(u=t.onCloseAutoFocus)==null||u.call(t,l),l.defaultPrevented||(a.current||(f=n.triggerRef.current)==null||f.focus(),l.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:l=>{var m,p;(m=t.onInteractOutside)==null||m.call(t,l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;((p=n.triggerRef.current)==null?void 0:p.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),pN=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=t,f=gr(gi,n),m=w.useRef(null),p=nn(e,m);return ZC(),d.jsxs(d.Fragment,{children:[d.jsx(ov,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:l,children:d.jsx(Yf,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":hv(f.open),...u,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(cB,{titleId:f.titleId}),d.jsx(dB,{contentRef:m,descriptionId:f.descriptionId})]})]})}),fv="DialogTitle",gN=w.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=gr(fv,n);return d.jsx($e.h2,{id:i.titleId,...a,ref:e})});gN.displayName=fv;var yN="DialogDescription",vN=w.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=gr(yN,n);return d.jsx($e.p,{id:i.descriptionId,...a,ref:e})});vN.displayName=yN;var bN="DialogClose",xN=w.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=gr(bN,n);return d.jsx($e.button,{type:"button",...a,ref:e,onClick:ft(t.onClick,()=>i.onOpenChange(!1))})});xN.displayName=bN;function hv(t){return t?"open":"closed"}var _N="DialogTitleWarning",[WH,wN]=$3(_N,{contentName:gi,titleName:fv,docsSlug:"dialog"}),cB=({titleId:t})=>{const e=wN(_N),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},uB="DialogDescriptionWarning",dB=({contentRef:t,descriptionId:e})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wN(uB).contentName}}.`;return w.useEffect(()=>{var l;const i=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(a))},[a,t,e]),null},EN=lN,fB=uN,SN=fN,mv=hN,pv=mN,CN=gN,NN=vN,hB=xN,$p={exports:{}},Gp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function mB(){if(hE)return Gp;hE=1;var t=Nf();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var n=typeof Object.is=="function"?Object.is:e,a=t.useState,i=t.useEffect,l=t.useLayoutEffect,u=t.useDebugValue;function f(y,b){var _=b(),C=a({inst:{value:_,getSnapshot:b}}),x=C[0].inst,S=C[1];return l(function(){x.value=_,x.getSnapshot=b,m(x)&&S({inst:x})},[y,_,b]),i(function(){return m(x)&&S({inst:x}),y(function(){m(x)&&S({inst:x})})},[y]),u(_),_}function m(y){var b=y.getSnapshot;y=y.value;try{var _=b();return!n(y,_)}catch{return!0}}function p(y,b){return b()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return Gp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:v,Gp}var mE;function pB(){return mE||(mE=1,$p.exports=mB()),$p.exports}var gB=pB(),cc='[cmdk-group=""]',Yp='[cmdk-group-items=""]',yB='[cmdk-group-heading=""]',gv='[cmdk-item=""]',pE=`${gv}:not([aria-disabled="true"])`,jg="cmdk-item-select",si="data-value",vB=(t,e,n)=>V3(t,e,n),TN=w.createContext(void 0),ou=()=>w.useContext(TN),RN=w.createContext(void 0),yv=()=>w.useContext(RN),DN=w.createContext(void 0),AN=w.forwardRef((t,e)=>{let n=ho(()=>{var z,W;return{search:"",value:(W=(z=t.value)!=null?z:t.defaultValue)!=null?W:"",filtered:{count:0,items:new Map,groups:new Set}}}),a=ho(()=>new Set),i=ho(()=>new Map),l=ho(()=>new Map),u=ho(()=>new Set),f=IN(t),{label:m,children:p,value:v,onValueChange:y,filter:b,shouldFilter:_,loop:C,disablePointerSelection:x=!1,vimBindings:S=!0,...N}=t,T=Yn(),D=Yn(),M=Yn(),j=w.useRef(null),L=DB();yi(()=>{if(v!==void 0){let z=v.trim();n.current.value=z,O.emit()}},[v]),yi(()=>{L(6,ce)},[]);let O=w.useMemo(()=>({subscribe:z=>(u.current.add(z),()=>u.current.delete(z)),snapshot:()=>n.current,setState:(z,W,K)=>{var se,ne,ge;if(!Object.is(n.current[z],W)){if(n.current[z]=W,z==="search")re(),V(),L(1,te);else if(z==="value"&&(K||L(5,ce),((se=f.current)==null?void 0:se.value)!==void 0)){let fe=W??"";(ge=(ne=f.current).onValueChange)==null||ge.call(ne,fe);return}O.emit()}},emit:()=>{u.current.forEach(z=>z())}}),[]),q=w.useMemo(()=>({value:(z,W,K)=>{var se;W!==((se=l.current.get(z))==null?void 0:se.value)&&(l.current.set(z,{value:W,keywords:K}),n.current.filtered.items.set(z,B(W,K)),L(2,()=>{V(),O.emit()}))},item:(z,W)=>(a.current.add(z),W&&(i.current.has(W)?i.current.get(W).add(z):i.current.set(W,new Set([z]))),L(3,()=>{re(),V(),n.current.value||te(),O.emit()}),()=>{l.current.delete(z),a.current.delete(z),n.current.filtered.items.delete(z);let K=le();L(4,()=>{re(),(K==null?void 0:K.getAttribute("id"))===z&&te(),O.emit()})}),group:z=>(i.current.has(z)||i.current.set(z,new Set),()=>{l.current.delete(z),i.current.delete(z)}),filter:()=>f.current.shouldFilter,label:m||t["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:T,inputId:M,labelId:D,listInnerRef:j}),[]);function B(z,W){var K,se;let ne=(se=(K=f.current)==null?void 0:K.filter)!=null?se:vB;return z?ne(z,n.current.search,W):0}function V(){if(!n.current.search||f.current.shouldFilter===!1)return;let z=n.current.filtered.items,W=[];n.current.filtered.groups.forEach(se=>{let ne=i.current.get(se),ge=0;ne.forEach(fe=>{let Ce=z.get(fe);ge=Math.max(Ce,ge)}),W.push([se,ge])});let K=j.current;de().sort((se,ne)=>{var ge,fe;let Ce=se.getAttribute("id"),Ne=ne.getAttribute("id");return((ge=z.get(Ne))!=null?ge:0)-((fe=z.get(Ce))!=null?fe:0)}).forEach(se=>{let ne=se.closest(Yp);ne?ne.appendChild(se.parentElement===ne?se:se.closest(`${Yp} > *`)):K.appendChild(se.parentElement===K?se:se.closest(`${Yp} > *`))}),W.sort((se,ne)=>ne[1]-se[1]).forEach(se=>{var ne;let ge=(ne=j.current)==null?void 0:ne.querySelector(`${cc}[${si}="${encodeURIComponent(se[0])}"]`);ge==null||ge.parentElement.appendChild(ge)})}function te(){let z=de().find(K=>K.getAttribute("aria-disabled")!=="true"),W=z==null?void 0:z.getAttribute(si);O.setState("value",W||void 0)}function re(){var z,W,K,se;if(!n.current.search||f.current.shouldFilter===!1){n.current.filtered.count=a.current.size;return}n.current.filtered.groups=new Set;let ne=0;for(let ge of a.current){let fe=(W=(z=l.current.get(ge))==null?void 0:z.value)!=null?W:"",Ce=(se=(K=l.current.get(ge))==null?void 0:K.keywords)!=null?se:[],Ne=B(fe,Ce);n.current.filtered.items.set(ge,Ne),Ne>0&&ne++}for(let[ge,fe]of i.current)for(let Ce of fe)if(n.current.filtered.items.get(Ce)>0){n.current.filtered.groups.add(ge);break}n.current.filtered.count=ne}function ce(){var z,W,K;let se=le();se&&(((z=se.parentElement)==null?void 0:z.firstChild)===se&&((K=(W=se.closest(cc))==null?void 0:W.querySelector(yB))==null||K.scrollIntoView({block:"nearest"})),se.scrollIntoView({block:"nearest"}))}function le(){var z;return(z=j.current)==null?void 0:z.querySelector(`${gv}[aria-selected="true"]`)}function de(){var z;return Array.from(((z=j.current)==null?void 0:z.querySelectorAll(pE))||[])}function H(z){let W=de()[z];W&&O.setState("value",W.getAttribute(si))}function ie(z){var W;let K=le(),se=de(),ne=se.findIndex(fe=>fe===K),ge=se[ne+z];(W=f.current)!=null&&W.loop&&(ge=ne+z<0?se[se.length-1]:ne+z===se.length?se[0]:se[ne+z]),ge&&O.setState("value",ge.getAttribute(si))}function J(z){let W=le(),K=W==null?void 0:W.closest(cc),se;for(;K&&!se;)K=z>0?TB(K,cc):RB(K,cc),se=K==null?void 0:K.querySelector(pE);se?O.setState("value",se.getAttribute(si)):ie(z)}let X=()=>H(de().length-1),I=z=>{z.preventDefault(),z.metaKey?X():z.altKey?J(1):ie(1)},$=z=>{z.preventDefault(),z.metaKey?H(0):z.altKey?J(-1):ie(-1)};return w.createElement($e.div,{ref:e,tabIndex:-1,...N,"cmdk-root":"",onKeyDown:z=>{var W;if((W=N.onKeyDown)==null||W.call(N,z),!z.defaultPrevented)switch(z.key){case"n":case"j":{S&&z.ctrlKey&&I(z);break}case"ArrowDown":{I(z);break}case"p":case"k":{S&&z.ctrlKey&&$(z);break}case"ArrowUp":{$(z);break}case"Home":{z.preventDefault(),H(0);break}case"End":{z.preventDefault(),X();break}case"Enter":if(!z.nativeEvent.isComposing&&z.keyCode!==229){z.preventDefault();let K=le();if(K){let se=new Event(jg);K.dispatchEvent(se)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:q.inputId,id:q.labelId,style:IB},m),Kf(t,z=>w.createElement(RN.Provider,{value:O},w.createElement(TN.Provider,{value:q},z))))}),bB=w.forwardRef((t,e)=>{var n,a;let i=Yn(),l=w.useRef(null),u=w.useContext(DN),f=ou(),m=IN(t),p=(a=(n=m.current)==null?void 0:n.forceMount)!=null?a:u==null?void 0:u.forceMount;yi(()=>{if(!p)return f.item(i,u==null?void 0:u.id)},[p]);let v=ON(i,l,[t.value,t.children,l],t.keywords),y=yv(),b=vi(L=>L.value&&L.value===v.current),_=vi(L=>p||f.filter()===!1?!0:L.search?L.filtered.items.get(i)>0:!0);w.useEffect(()=>{let L=l.current;if(!(!L||t.disabled))return L.addEventListener(jg,C),()=>L.removeEventListener(jg,C)},[_,t.onSelect,t.disabled]);function C(){var L,O;x(),(O=(L=m.current).onSelect)==null||O.call(L,v.current)}function x(){y.setState("value",v.current,!0)}if(!_)return null;let{disabled:S,value:N,onSelect:T,forceMount:D,keywords:M,...j}=t;return w.createElement($e.div,{ref:Uc([l,e]),...j,id:i,"cmdk-item":"",role:"option","aria-disabled":!!S,"aria-selected":!!b,"data-disabled":!!S,"data-selected":!!b,onPointerMove:S||f.getDisablePointerSelection()?void 0:x,onClick:S?void 0:C},t.children)}),xB=w.forwardRef((t,e)=>{let{heading:n,children:a,forceMount:i,...l}=t,u=Yn(),f=w.useRef(null),m=w.useRef(null),p=Yn(),v=ou(),y=vi(_=>i||v.filter()===!1?!0:_.search?_.filtered.groups.has(u):!0);yi(()=>v.group(u),[]),ON(u,f,[t.value,t.heading,m]);let b=w.useMemo(()=>({id:u,forceMount:i}),[i]);return w.createElement($e.div,{ref:Uc([f,e]),...l,"cmdk-group":"",role:"presentation",hidden:y?void 0:!0},n&&w.createElement("div",{ref:m,"cmdk-group-heading":"","aria-hidden":!0,id:p},n),Kf(t,_=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?p:void 0},w.createElement(DN.Provider,{value:b},_))))}),_B=w.forwardRef((t,e)=>{let{alwaysRender:n,...a}=t,i=w.useRef(null),l=vi(u=>!u.search);return!n&&!l?null:w.createElement($e.div,{ref:Uc([i,e]),...a,"cmdk-separator":"",role:"separator"})}),wB=w.forwardRef((t,e)=>{let{onValueChange:n,...a}=t,i=t.value!=null,l=yv(),u=vi(v=>v.search),f=vi(v=>v.value),m=ou(),p=w.useMemo(()=>{var v;let y=(v=m.listInnerRef.current)==null?void 0:v.querySelector(`${gv}[${si}="${encodeURIComponent(f)}"]`);return y==null?void 0:y.getAttribute("id")},[]);return w.useEffect(()=>{t.value!=null&&l.setState("search",t.value)},[t.value]),w.createElement($e.input,{ref:e,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":m.listId,"aria-labelledby":m.labelId,"aria-activedescendant":p,id:m.inputId,type:"text",value:i?t.value:u,onChange:v=>{i||l.setState("search",v.target.value),n==null||n(v.target.value)}})}),EB=w.forwardRef((t,e)=>{let{children:n,label:a="Suggestions",...i}=t,l=w.useRef(null),u=w.useRef(null),f=ou();return w.useEffect(()=>{if(u.current&&l.current){let m=u.current,p=l.current,v,y=new ResizeObserver(()=>{v=requestAnimationFrame(()=>{let b=m.offsetHeight;p.style.setProperty("--cmdk-list-height",b.toFixed(1)+"px")})});return y.observe(m),()=>{cancelAnimationFrame(v),y.unobserve(m)}}},[]),w.createElement($e.div,{ref:Uc([l,e]),...i,"cmdk-list":"",role:"listbox","aria-label":a,id:f.listId},Kf(t,m=>w.createElement("div",{ref:Uc([u,f.listInnerRef]),"cmdk-list-sizer":""},m)))}),SB=w.forwardRef((t,e)=>{let{open:n,onOpenChange:a,overlayClassName:i,contentClassName:l,container:u,...f}=t;return w.createElement(EN,{open:n,onOpenChange:a},w.createElement(SN,{container:u},w.createElement(mv,{"cmdk-overlay":"",className:i}),w.createElement(pv,{"aria-label":t.label,"cmdk-dialog":"",className:l},w.createElement(AN,{ref:e,...f}))))}),CB=w.forwardRef((t,e)=>vi(n=>n.filtered.count===0)?w.createElement($e.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),NB=w.forwardRef((t,e)=>{let{progress:n,children:a,label:i="Loading...",...l}=t;return w.createElement($e.div,{ref:e,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Kf(t,u=>w.createElement("div",{"aria-hidden":!0},u)))}),mn=Object.assign(AN,{List:EB,Item:bB,Input:wB,Group:xB,Separator:_B,Dialog:SB,Empty:CB,Loading:NB});function TB(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function RB(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function IN(t){let e=w.useRef(t);return yi(()=>{e.current=t}),e}var yi=typeof window>"u"?w.useEffect:w.useLayoutEffect;function ho(t){let e=w.useRef();return e.current===void 0&&(e.current=t()),e}function Uc(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function vi(t){let e=yv(),n=()=>t(e.snapshot());return gB.useSyncExternalStore(e.subscribe,n,n)}function ON(t,e,n,a=[]){let i=w.useRef(),l=ou();return yi(()=>{var u;let f=(()=>{var p;for(let v of n){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(p=v.current.textContent)==null?void 0:p.trim():i.current}})(),m=a.map(p=>p.trim());l.value(t,f,m),(u=e.current)==null||u.setAttribute(si,f),i.current=f}),i}var DB=()=>{let[t,e]=w.useState(),n=ho(()=>new Map);return yi(()=>{n.current.forEach(a=>a()),n.current=new Map},[t]),(a,i)=>{n.current.set(a,i),e({})}};function AB(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function Kf({asChild:t,children:e},n){return t&&w.isValidElement(e)?w.cloneElement(AB(e),{ref:e.ref},n(e.props.children)):n(e)}var IB={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Xf=EN,vv=fB,OB=SN,kN=w.forwardRef(({className:t,...e},n)=>d.jsx(mv,{ref:n,className:Ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));kN.displayName=mv.displayName;const lu=w.forwardRef(({className:t,children:e,...n},a)=>d.jsxs(OB,{children:[d.jsx(kN,{}),d.jsxs(pv,{ref:a,className:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(hB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(SS,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));lu.displayName=pv.displayName;const cu=({className:t,...e})=>d.jsx("div",{className:Ie("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});cu.displayName="DialogHeader";const uu=w.forwardRef(({className:t,...e},n)=>d.jsx(CN,{ref:n,className:Ie("text-lg font-semibold leading-none tracking-tight",t),...e}));uu.displayName=CN.displayName;const kB=w.forwardRef(({className:t,...e},n)=>d.jsx(NN,{ref:n,className:Ie("text-sm text-muted-foreground",t),...e}));kB.displayName=NN.displayName;const jN=w.forwardRef(({className:t,...e},n)=>d.jsx(mn,{ref:n,className:Ie("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));jN.displayName=mn.displayName;const MN=w.forwardRef(({className:t,...e},n)=>d.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[d.jsx(wS,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),d.jsx(mn.Input,{ref:n,className:Ie("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));MN.displayName=mn.Input.displayName;const PN=w.forwardRef(({className:t,...e},n)=>d.jsx(mn.List,{ref:n,className:Ie("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));PN.displayName=mn.List.displayName;const LN=w.forwardRef((t,e)=>d.jsx(mn.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));LN.displayName=mn.Empty.displayName;const UN=w.forwardRef(({className:t,...e},n)=>d.jsx(mn.Group,{ref:n,className:Ie("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));UN.displayName=mn.Group.displayName;const jB=w.forwardRef(({className:t,...e},n)=>d.jsx(mn.Separator,{ref:n,className:Ie("-mx-1 h-px bg-border",t),...e}));jB.displayName=mn.Separator.displayName;const BN=w.forwardRef(({className:t,...e},n)=>d.jsx(mn.Item,{ref:n,className:Ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...e}));BN.displayName=mn.Item.displayName;const MB=["top","right","bottom","left"],gs=Math.min,En=Math.max,bf=Math.round,Pd=Math.floor,kr=t=>({x:t,y:t}),PB={left:"right",right:"left",bottom:"top",top:"bottom"},LB={start:"end",end:"start"};function Mg(t,e,n){return En(t,gs(e,n))}function fa(t,e){return typeof t=="function"?t(e):t}function ha(t){return t.split("-")[0]}function Jo(t){return t.split("-")[1]}function bv(t){return t==="x"?"y":"x"}function xv(t){return t==="y"?"height":"width"}function ys(t){return["top","bottom"].includes(ha(t))?"y":"x"}function _v(t){return bv(ys(t))}function UB(t,e,n){n===void 0&&(n=!1);const a=Jo(t),i=_v(t),l=xv(i);let u=i==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=xf(u)),[u,xf(u)]}function BB(t){const e=xf(t);return[Pg(t),e,Pg(e)]}function Pg(t){return t.replace(/start|end/g,e=>LB[e])}function zB(t,e,n){const a=["left","right"],i=["right","left"],l=["top","bottom"],u=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:a:e?a:i;case"left":case"right":return e?l:u;default:return[]}}function FB(t,e,n,a){const i=Jo(t);let l=zB(ha(t),n==="start",a);return i&&(l=l.map(u=>u+"-"+i),e&&(l=l.concat(l.map(Pg)))),l}function xf(t){return t.replace(/left|right|bottom|top/g,e=>PB[e])}function HB(t){return{top:0,right:0,bottom:0,left:0,...t}}function zN(t){return typeof t!="number"?HB(t):{top:t,right:t,bottom:t,left:t}}function _f(t){const{x:e,y:n,width:a,height:i}=t;return{width:a,height:i,top:n,left:e,right:e+a,bottom:n+i,x:e,y:n}}function gE(t,e,n){let{reference:a,floating:i}=t;const l=ys(e),u=_v(e),f=xv(u),m=ha(e),p=l==="y",v=a.x+a.width/2-i.width/2,y=a.y+a.height/2-i.height/2,b=a[f]/2-i[f]/2;let _;switch(m){case"top":_={x:v,y:a.y-i.height};break;case"bottom":_={x:v,y:a.y+a.height};break;case"right":_={x:a.x+a.width,y};break;case"left":_={x:a.x-i.width,y};break;default:_={x:a.x,y:a.y}}switch(Jo(e)){case"start":_[u]-=b*(n&&p?-1:1);break;case"end":_[u]+=b*(n&&p?-1:1);break}return _}const qB=async(t,e,n)=>{const{placement:a="bottom",strategy:i="absolute",middleware:l=[],platform:u}=n,f=l.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:t,floating:e,strategy:i}),{x:v,y}=gE(p,a,m),b=a,_={},C=0;for(let x=0;x<f.length;x++){const{name:S,fn:N}=f[x],{x:T,y:D,data:M,reset:j}=await N({x:v,y,initialPlacement:a,placement:b,strategy:i,middlewareData:_,rects:p,platform:u,elements:{reference:t,floating:e}});v=T??v,y=D??y,_={..._,[S]:{..._[S],...M}},j&&C<=50&&(C++,typeof j=="object"&&(j.placement&&(b=j.placement),j.rects&&(p=j.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:i}):j.rects),{x:v,y}=gE(p,b,m)),x=-1)}return{x:v,y,placement:b,strategy:i,middlewareData:_}};async function Bc(t,e){var n;e===void 0&&(e={});const{x:a,y:i,platform:l,rects:u,elements:f,strategy:m}=t,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:y="floating",altBoundary:b=!1,padding:_=0}=fa(e,t),C=zN(_),S=f[b?y==="floating"?"reference":"floating":y],N=_f(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(S)))==null||n?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:p,rootBoundary:v,strategy:m})),T=y==="floating"?{x:a,y:i,width:u.floating.width,height:u.floating.height}:u.reference,D=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),M=await(l.isElement==null?void 0:l.isElement(D))?await(l.getScale==null?void 0:l.getScale(D))||{x:1,y:1}:{x:1,y:1},j=_f(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:T,offsetParent:D,strategy:m}):T);return{top:(N.top-j.top+C.top)/M.y,bottom:(j.bottom-N.bottom+C.bottom)/M.y,left:(N.left-j.left+C.left)/M.x,right:(j.right-N.right+C.right)/M.x}}const VB=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:a,placement:i,rects:l,platform:u,elements:f,middlewareData:m}=e,{element:p,padding:v=0}=fa(t,e)||{};if(p==null)return{};const y=zN(v),b={x:n,y:a},_=_v(i),C=xv(_),x=await u.getDimensions(p),S=_==="y",N=S?"top":"left",T=S?"bottom":"right",D=S?"clientHeight":"clientWidth",M=l.reference[C]+l.reference[_]-b[_]-l.floating[C],j=b[_]-l.reference[_],L=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let O=L?L[D]:0;(!O||!await(u.isElement==null?void 0:u.isElement(L)))&&(O=f.floating[D]||l.floating[C]);const q=M/2-j/2,B=O/2-x[C]/2-1,V=gs(y[N],B),te=gs(y[T],B),re=V,ce=O-x[C]-te,le=O/2-x[C]/2+q,de=Mg(re,le,ce),H=!m.arrow&&Jo(i)!=null&&le!==de&&l.reference[C]/2-(le<re?V:te)-x[C]/2<0,ie=H?le<re?le-re:le-ce:0;return{[_]:b[_]+ie,data:{[_]:de,centerOffset:le-de-ie,...H&&{alignmentOffset:ie}},reset:H}}}),$B=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,a;const{placement:i,middlewareData:l,rects:u,initialPlacement:f,platform:m,elements:p}=e,{mainAxis:v=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:x=!0,...S}=fa(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const N=ha(i),T=ys(f),D=ha(f)===f,M=await(m.isRTL==null?void 0:m.isRTL(p.floating)),j=b||(D||!x?[xf(f)]:BB(f)),L=C!=="none";!b&&L&&j.push(...FB(f,x,C,M));const O=[f,...j],q=await Bc(e,S),B=[];let V=((a=l.flip)==null?void 0:a.overflows)||[];if(v&&B.push(q[N]),y){const le=UB(i,u,M);B.push(q[le[0]],q[le[1]])}if(V=[...V,{placement:i,overflows:B}],!B.every(le=>le<=0)){var te,re;const le=(((te=l.flip)==null?void 0:te.index)||0)+1,de=O[le];if(de)return{data:{index:le,overflows:V},reset:{placement:de}};let H=(re=V.filter(ie=>ie.overflows[0]<=0).sort((ie,J)=>ie.overflows[1]-J.overflows[1])[0])==null?void 0:re.placement;if(!H)switch(_){case"bestFit":{var ce;const ie=(ce=V.filter(J=>{if(L){const X=ys(J.placement);return X===T||X==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(X=>X>0).reduce((X,I)=>X+I,0)]).sort((J,X)=>J[1]-X[1])[0])==null?void 0:ce[0];ie&&(H=ie);break}case"initialPlacement":H=f;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function yE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function vE(t){return MB.some(e=>t[e]>=0)}const GB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:a="referenceHidden",...i}=fa(t,e);switch(a){case"referenceHidden":{const l=await Bc(e,{...i,elementContext:"reference"}),u=yE(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:vE(u)}}}case"escaped":{const l=await Bc(e,{...i,altBoundary:!0}),u=yE(l,n.floating);return{data:{escapedOffsets:u,escaped:vE(u)}}}default:return{}}}}};async function YB(t,e){const{placement:n,platform:a,elements:i}=t,l=await(a.isRTL==null?void 0:a.isRTL(i.floating)),u=ha(n),f=Jo(n),m=ys(n)==="y",p=["left","top"].includes(u)?-1:1,v=l&&m?-1:1,y=fa(e,t);let{mainAxis:b,crossAxis:_,alignmentAxis:C}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return f&&typeof C=="number"&&(_=f==="end"?C*-1:C),m?{x:_*v,y:b*p}:{x:b*p,y:_*v}}const WB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,a;const{x:i,y:l,placement:u,middlewareData:f}=e,m=await YB(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:i+m.x,y:l+m.y,data:{...m,placement:u}}}}},KB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:a,placement:i}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:S=>{let{x:N,y:T}=S;return{x:N,y:T}}},...m}=fa(t,e),p={x:n,y:a},v=await Bc(e,m),y=ys(ha(i)),b=bv(y);let _=p[b],C=p[y];if(l){const S=b==="y"?"top":"left",N=b==="y"?"bottom":"right",T=_+v[S],D=_-v[N];_=Mg(T,_,D)}if(u){const S=y==="y"?"top":"left",N=y==="y"?"bottom":"right",T=C+v[S],D=C-v[N];C=Mg(T,C,D)}const x=f.fn({...e,[b]:_,[y]:C});return{...x,data:{x:x.x-n,y:x.y-a,enabled:{[b]:l,[y]:u}}}}}},XB=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:a,placement:i,rects:l,middlewareData:u}=e,{offset:f=0,mainAxis:m=!0,crossAxis:p=!0}=fa(t,e),v={x:n,y:a},y=ys(i),b=bv(y);let _=v[b],C=v[y];const x=fa(f,e),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(m){const D=b==="y"?"height":"width",M=l.reference[b]-l.floating[D]+S.mainAxis,j=l.reference[b]+l.reference[D]-S.mainAxis;_<M?_=M:_>j&&(_=j)}if(p){var N,T;const D=b==="y"?"width":"height",M=["top","left"].includes(ha(i)),j=l.reference[y]-l.floating[D]+(M&&((N=u.offset)==null?void 0:N[y])||0)+(M?0:S.crossAxis),L=l.reference[y]+l.reference[D]+(M?0:((T=u.offset)==null?void 0:T[y])||0)-(M?S.crossAxis:0);C<j?C=j:C>L&&(C=L)}return{[b]:_,[y]:C}}}},QB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,a;const{placement:i,rects:l,platform:u,elements:f}=e,{apply:m=()=>{},...p}=fa(t,e),v=await Bc(e,p),y=ha(i),b=Jo(i),_=ys(i)==="y",{width:C,height:x}=l.floating;let S,N;y==="top"||y==="bottom"?(S=y,N=b===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(N=y,S=b==="end"?"top":"bottom");const T=x-v.top-v.bottom,D=C-v.left-v.right,M=gs(x-v[S],T),j=gs(C-v[N],D),L=!e.middlewareData.shift;let O=M,q=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(q=D),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(O=T),L&&!b){const V=En(v.left,0),te=En(v.right,0),re=En(v.top,0),ce=En(v.bottom,0);_?q=C-2*(V!==0||te!==0?V+te:En(v.left,v.right)):O=x-2*(re!==0||ce!==0?re+ce:En(v.top,v.bottom))}await m({...e,availableWidth:q,availableHeight:O});const B=await u.getDimensions(f.floating);return C!==B.width||x!==B.height?{reset:{rects:!0}}:{}}}};function Qf(){return typeof window<"u"}function el(t){return FN(t)?(t.nodeName||"").toLowerCase():"#document"}function Sn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Pr(t){var e;return(e=(FN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function FN(t){return Qf()?t instanceof Node||t instanceof Sn(t).Node:!1}function fr(t){return Qf()?t instanceof Element||t instanceof Sn(t).Element:!1}function jr(t){return Qf()?t instanceof HTMLElement||t instanceof Sn(t).HTMLElement:!1}function bE(t){return!Qf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Sn(t).ShadowRoot}function du(t){const{overflow:e,overflowX:n,overflowY:a,display:i}=hr(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+n)&&!["inline","contents"].includes(i)}function ZB(t){return["table","td","th"].includes(el(t))}function Zf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function wv(t){const e=Ev(),n=fr(t)?hr(t):t;return["transform","translate","scale","rotate","perspective"].some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(n.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(n.contain||"").includes(a))}function JB(t){let e=vs(t);for(;jr(e)&&!Oo(e);){if(wv(e))return e;if(Zf(e))return null;e=vs(e)}return null}function Ev(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Oo(t){return["html","body","#document"].includes(el(t))}function hr(t){return Sn(t).getComputedStyle(t)}function Jf(t){return fr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function vs(t){if(el(t)==="html")return t;const e=t.assignedSlot||t.parentNode||bE(t)&&t.host||Pr(t);return bE(e)?e.host:e}function HN(t){const e=vs(t);return Oo(e)?t.ownerDocument?t.ownerDocument.body:t.body:jr(e)&&du(e)?e:HN(e)}function zc(t,e,n){var a;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=HN(t),l=i===((a=t.ownerDocument)==null?void 0:a.body),u=Sn(i);if(l){const f=Lg(u);return e.concat(u,u.visualViewport||[],du(i)?i:[],f&&n?zc(f):[])}return e.concat(i,zc(i,[],n))}function Lg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function qN(t){const e=hr(t);let n=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const i=jr(t),l=i?t.offsetWidth:n,u=i?t.offsetHeight:a,f=bf(n)!==l||bf(a)!==u;return f&&(n=l,a=u),{width:n,height:a,$:f}}function Sv(t){return fr(t)?t:t.contextElement}function Eo(t){const e=Sv(t);if(!jr(e))return kr(1);const n=e.getBoundingClientRect(),{width:a,height:i,$:l}=qN(e);let u=(l?bf(n.width):n.width)/a,f=(l?bf(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const e6=kr(0);function VN(t){const e=Sn(t);return!Ev()||!e.visualViewport?e6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function t6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Sn(t)?!1:e}function bi(t,e,n,a){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=Sv(t);let u=kr(1);e&&(a?fr(a)&&(u=Eo(a)):u=Eo(t));const f=t6(l,n,a)?VN(l):kr(0);let m=(i.left+f.x)/u.x,p=(i.top+f.y)/u.y,v=i.width/u.x,y=i.height/u.y;if(l){const b=Sn(l),_=a&&fr(a)?Sn(a):a;let C=b,x=Lg(C);for(;x&&a&&_!==C;){const S=Eo(x),N=x.getBoundingClientRect(),T=hr(x),D=N.left+(x.clientLeft+parseFloat(T.paddingLeft))*S.x,M=N.top+(x.clientTop+parseFloat(T.paddingTop))*S.y;m*=S.x,p*=S.y,v*=S.x,y*=S.y,m+=D,p+=M,C=Sn(x),x=Lg(C)}}return _f({width:v,height:y,x:m,y:p})}function Cv(t,e){const n=Jf(t).scrollLeft;return e?e.left+n:bi(Pr(t)).left+n}function $N(t,e,n){n===void 0&&(n=!1);const a=t.getBoundingClientRect(),i=a.left+e.scrollLeft-(n?0:Cv(t,a)),l=a.top+e.scrollTop;return{x:i,y:l}}function n6(t){let{elements:e,rect:n,offsetParent:a,strategy:i}=t;const l=i==="fixed",u=Pr(a),f=e?Zf(e.floating):!1;if(a===u||f&&l)return n;let m={scrollLeft:0,scrollTop:0},p=kr(1);const v=kr(0),y=jr(a);if((y||!y&&!l)&&((el(a)!=="body"||du(u))&&(m=Jf(a)),jr(a))){const _=bi(a);p=Eo(a),v.x=_.x+a.clientLeft,v.y=_.y+a.clientTop}const b=u&&!y&&!l?$N(u,m,!0):kr(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-m.scrollLeft*p.x+v.x+b.x,y:n.y*p.y-m.scrollTop*p.y+v.y+b.y}}function r6(t){return Array.from(t.getClientRects())}function a6(t){const e=Pr(t),n=Jf(t),a=t.ownerDocument.body,i=En(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),l=En(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let u=-n.scrollLeft+Cv(t);const f=-n.scrollTop;return hr(a).direction==="rtl"&&(u+=En(e.clientWidth,a.clientWidth)-i),{width:i,height:l,x:u,y:f}}function s6(t,e){const n=Sn(t),a=Pr(t),i=n.visualViewport;let l=a.clientWidth,u=a.clientHeight,f=0,m=0;if(i){l=i.width,u=i.height;const p=Ev();(!p||p&&e==="fixed")&&(f=i.offsetLeft,m=i.offsetTop)}return{width:l,height:u,x:f,y:m}}function i6(t,e){const n=bi(t,!0,e==="fixed"),a=n.top+t.clientTop,i=n.left+t.clientLeft,l=jr(t)?Eo(t):kr(1),u=t.clientWidth*l.x,f=t.clientHeight*l.y,m=i*l.x,p=a*l.y;return{width:u,height:f,x:m,y:p}}function xE(t,e,n){let a;if(e==="viewport")a=s6(t,n);else if(e==="document")a=a6(Pr(t));else if(fr(e))a=i6(e,n);else{const i=VN(t);a={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return _f(a)}function GN(t,e){const n=vs(t);return n===e||!fr(n)||Oo(n)?!1:hr(n).position==="fixed"||GN(n,e)}function o6(t,e){const n=e.get(t);if(n)return n;let a=zc(t,[],!1).filter(f=>fr(f)&&el(f)!=="body"),i=null;const l=hr(t).position==="fixed";let u=l?vs(t):t;for(;fr(u)&&!Oo(u);){const f=hr(u),m=wv(u);!m&&f.position==="fixed"&&(i=null),(l?!m&&!i:!m&&f.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||du(u)&&!m&&GN(t,u))?a=a.filter(v=>v!==u):i=f,u=vs(u)}return e.set(t,a),a}function l6(t){let{element:e,boundary:n,rootBoundary:a,strategy:i}=t;const u=[...n==="clippingAncestors"?Zf(e)?[]:o6(e,this._c):[].concat(n),a],f=u[0],m=u.reduce((p,v)=>{const y=xE(e,v,i);return p.top=En(y.top,p.top),p.right=gs(y.right,p.right),p.bottom=gs(y.bottom,p.bottom),p.left=En(y.left,p.left),p},xE(e,f,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function c6(t){const{width:e,height:n}=qN(t);return{width:e,height:n}}function u6(t,e,n){const a=jr(e),i=Pr(e),l=n==="fixed",u=bi(t,!0,l,e);let f={scrollLeft:0,scrollTop:0};const m=kr(0);if(a||!a&&!l)if((el(e)!=="body"||du(i))&&(f=Jf(e)),a){const b=bi(e,!0,l,e);m.x=b.x+e.clientLeft,m.y=b.y+e.clientTop}else i&&(m.x=Cv(i));const p=i&&!a&&!l?$N(i,f):kr(0),v=u.left+f.scrollLeft-m.x-p.x,y=u.top+f.scrollTop-m.y-p.y;return{x:v,y,width:u.width,height:u.height}}function Wp(t){return hr(t).position==="static"}function _E(t,e){if(!jr(t)||hr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Pr(t)===n&&(n=n.ownerDocument.body),n}function YN(t,e){const n=Sn(t);if(Zf(t))return n;if(!jr(t)){let i=vs(t);for(;i&&!Oo(i);){if(fr(i)&&!Wp(i))return i;i=vs(i)}return n}let a=_E(t,e);for(;a&&ZB(a)&&Wp(a);)a=_E(a,e);return a&&Oo(a)&&Wp(a)&&!wv(a)?n:a||JB(t)||n}const d6=async function(t){const e=this.getOffsetParent||YN,n=this.getDimensions,a=await n(t.floating);return{reference:u6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function f6(t){return hr(t).direction==="rtl"}const h6={convertOffsetParentRelativeRectToViewportRelativeRect:n6,getDocumentElement:Pr,getClippingRect:l6,getOffsetParent:YN,getElementRects:d6,getClientRects:r6,getDimensions:c6,getScale:Eo,isElement:fr,isRTL:f6};function WN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function m6(t,e){let n=null,a;const i=Pr(t);function l(){var f;clearTimeout(a),(f=n)==null||f.disconnect(),n=null}function u(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),l();const p=t.getBoundingClientRect(),{left:v,top:y,width:b,height:_}=p;if(f||e(),!b||!_)return;const C=Pd(y),x=Pd(i.clientWidth-(v+b)),S=Pd(i.clientHeight-(y+_)),N=Pd(v),D={rootMargin:-C+"px "+-x+"px "+-S+"px "+-N+"px",threshold:En(0,gs(1,m))||1};let M=!0;function j(L){const O=L[0].intersectionRatio;if(O!==m){if(!M)return u();O?u(!1,O):a=setTimeout(()=>{u(!1,1e-7)},1e3)}O===1&&!WN(p,t.getBoundingClientRect())&&u(),M=!1}try{n=new IntersectionObserver(j,{...D,root:i.ownerDocument})}catch{n=new IntersectionObserver(j,D)}n.observe(t)}return u(!0),l}function p6(t,e,n,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=a,p=Sv(t),v=i||l?[...p?zc(p):[],...zc(e)]:[];v.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),l&&N.addEventListener("resize",n)});const y=p&&f?m6(p,n):null;let b=-1,_=null;u&&(_=new ResizeObserver(N=>{let[T]=N;T&&T.target===p&&_&&(_.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var D;(D=_)==null||D.observe(e)})),n()}),p&&!m&&_.observe(p),_.observe(e));let C,x=m?bi(t):null;m&&S();function S(){const N=bi(t);x&&!WN(x,N)&&n(),x=N,C=requestAnimationFrame(S)}return n(),()=>{var N;v.forEach(T=>{i&&T.removeEventListener("scroll",n),l&&T.removeEventListener("resize",n)}),y==null||y(),(N=_)==null||N.disconnect(),_=null,m&&cancelAnimationFrame(C)}}const g6=WB,y6=KB,v6=$B,b6=QB,x6=GB,wE=VB,_6=XB,w6=(t,e,n)=>{const a=new Map,i={platform:h6,...n},l={...i.platform,_c:a};return qB(t,e,{...i,platform:l})};var Yd=typeof document<"u"?w.useLayoutEffect:w.useEffect;function wf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,a,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(a=n;a--!==0;)if(!wf(t[a],e[a]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(e,i[a]))return!1;for(a=n;a--!==0;){const l=i[a];if(!(l==="_owner"&&t.$$typeof)&&!wf(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function KN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function EE(t,e){const n=KN(t);return Math.round(e*n)/n}function Kp(t){const e=w.useRef(t);return Yd(()=>{e.current=t}),e}function E6(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:a=[],platform:i,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:m,open:p}=t,[v,y]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,_]=w.useState(a);wf(b,a)||_(a);const[C,x]=w.useState(null),[S,N]=w.useState(null),T=w.useCallback(J=>{J!==L.current&&(L.current=J,x(J))},[]),D=w.useCallback(J=>{J!==O.current&&(O.current=J,N(J))},[]),M=l||C,j=u||S,L=w.useRef(null),O=w.useRef(null),q=w.useRef(v),B=m!=null,V=Kp(m),te=Kp(i),re=Kp(p),ce=w.useCallback(()=>{if(!L.current||!O.current)return;const J={placement:e,strategy:n,middleware:b};te.current&&(J.platform=te.current),w6(L.current,O.current,J).then(X=>{const I={...X,isPositioned:re.current!==!1};le.current&&!wf(q.current,I)&&(q.current=I,ry.flushSync(()=>{y(I)}))})},[b,e,n,te,re]);Yd(()=>{p===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,y(J=>({...J,isPositioned:!1})))},[p]);const le=w.useRef(!1);Yd(()=>(le.current=!0,()=>{le.current=!1}),[]),Yd(()=>{if(M&&(L.current=M),j&&(O.current=j),M&&j){if(V.current)return V.current(M,j,ce);ce()}},[M,j,ce,V,B]);const de=w.useMemo(()=>({reference:L,floating:O,setReference:T,setFloating:D}),[T,D]),H=w.useMemo(()=>({reference:M,floating:j}),[M,j]),ie=w.useMemo(()=>{const J={position:n,left:0,top:0};if(!H.floating)return J;const X=EE(H.floating,v.x),I=EE(H.floating,v.y);return f?{...J,transform:"translate("+X+"px, "+I+"px)",...KN(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:I}},[n,f,H.floating,v.x,v.y]);return w.useMemo(()=>({...v,update:ce,refs:de,elements:H,floatingStyles:ie}),[v,ce,de,H,ie])}const S6=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:a,padding:i}=typeof t=="function"?t(n):t;return a&&e(a)?a.current!=null?wE({element:a.current,padding:i}).fn(n):{}:a?wE({element:a,padding:i}).fn(n):{}}}},C6=(t,e)=>({...g6(t),options:[t,e]}),N6=(t,e)=>({...y6(t),options:[t,e]}),T6=(t,e)=>({..._6(t),options:[t,e]}),R6=(t,e)=>({...v6(t),options:[t,e]}),D6=(t,e)=>({...b6(t),options:[t,e]}),A6=(t,e)=>({...x6(t),options:[t,e]}),I6=(t,e)=>({...S6(t),options:[t,e]});var O6="Arrow",XN=w.forwardRef((t,e)=>{const{children:n,width:a=10,height:i=5,...l}=t;return d.jsx($e.svg,{...l,ref:e,width:a,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});XN.displayName=O6;var k6=XN;function QN(t){const[e,n]=w.useState(void 0);return ms(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,f;if("borderBoxSize"in l){const m=l.borderBoxSize,p=Array.isArray(m)?m[0]:m;u=p.inlineSize,f=p.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else n(void 0)},[t]),e}var Nv="Popper",[ZN,eh]=Zo(Nv),[j6,JN]=ZN(Nv),eT=t=>{const{__scopePopper:e,children:n}=t,[a,i]=w.useState(null);return d.jsx(j6,{scope:e,anchor:a,onAnchorChange:i,children:n})};eT.displayName=Nv;var tT="PopperAnchor",nT=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:a,...i}=t,l=JN(tT,n),u=w.useRef(null),f=nn(e,u);return w.useEffect(()=>{l.onAnchorChange((a==null?void 0:a.current)||u.current)}),a?null:d.jsx($e.div,{...i,ref:f})});nT.displayName=tT;var Tv="PopperContent",[M6,P6]=ZN(Tv),rT=w.forwardRef((t,e)=>{var ge,fe,Ce,Ne,Yt,Qn;const{__scopePopper:n,side:a="bottom",sideOffset:i=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:y="partial",hideWhenDetached:b=!1,updatePositionStrategy:_="optimized",onPlaced:C,...x}=t,S=JN(Tv,n),[N,T]=w.useState(null),D=nn(e,Ht=>T(Ht)),[M,j]=w.useState(null),L=QN(M),O=(L==null?void 0:L.width)??0,q=(L==null?void 0:L.height)??0,B=a+(l!=="center"?"-"+l:""),V=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},te=Array.isArray(p)?p:[p],re=te.length>0,ce={padding:V,boundary:te.filter(U6),altBoundary:re},{refs:le,floatingStyles:de,placement:H,isPositioned:ie,middlewareData:J}=E6({strategy:"fixed",placement:B,whileElementsMounted:(...Ht)=>p6(...Ht,{animationFrame:_==="always"}),elements:{reference:S.anchor},middleware:[C6({mainAxis:i+q,alignmentAxis:u}),m&&N6({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?T6():void 0,...ce}),m&&R6({...ce}),D6({...ce,apply:({elements:Ht,rects:Zn,availableWidth:_a,availableHeight:Jn})=>{const{width:er,height:Lr}=Zn.reference,Nt=Ht.floating.style;Nt.setProperty("--radix-popper-available-width",`${_a}px`),Nt.setProperty("--radix-popper-available-height",`${Jn}px`),Nt.setProperty("--radix-popper-anchor-width",`${er}px`),Nt.setProperty("--radix-popper-anchor-height",`${Lr}px`)}}),M&&I6({element:M,padding:f}),B6({arrowWidth:O,arrowHeight:q}),b&&A6({strategy:"referenceHidden",...ce})]}),[X,I]=iT(H),$=ps(C);ms(()=>{ie&&($==null||$())},[ie,$]);const z=(ge=J.arrow)==null?void 0:ge.x,W=(fe=J.arrow)==null?void 0:fe.y,K=((Ce=J.arrow)==null?void 0:Ce.centerOffset)!==0,[se,ne]=w.useState();return ms(()=>{N&&ne(window.getComputedStyle(N).zIndex)},[N]),d.jsx("div",{ref:le.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:ie?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(Ne=J.transformOrigin)==null?void 0:Ne.x,(Yt=J.transformOrigin)==null?void 0:Yt.y].join(" "),...((Qn=J.hide)==null?void 0:Qn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(M6,{scope:n,placedSide:X,onArrowChange:j,arrowX:z,arrowY:W,shouldHideArrow:K,children:d.jsx($e.div,{"data-side":X,"data-align":I,...x,ref:D,style:{...x.style,animation:ie?void 0:"none"}})})})});rT.displayName=Tv;var aT="PopperArrow",L6={top:"bottom",right:"left",bottom:"top",left:"right"},sT=w.forwardRef(function(e,n){const{__scopePopper:a,...i}=e,l=P6(aT,a),u=L6[l.placedSide];return d.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:d.jsx(k6,{...i,ref:n,style:{...i.style,display:"block"}})})});sT.displayName=aT;function U6(t){return t!==null}var B6=t=>({name:"transformOrigin",options:t,fn(e){var S,N,T;const{placement:n,rects:a,middlewareData:i}=e,u=((S=i.arrow)==null?void 0:S.centerOffset)!==0,f=u?0:t.arrowWidth,m=u?0:t.arrowHeight,[p,v]=iT(n),y={start:"0%",center:"50%",end:"100%"}[v],b=(((N=i.arrow)==null?void 0:N.x)??0)+f/2,_=(((T=i.arrow)==null?void 0:T.y)??0)+m/2;let C="",x="";return p==="bottom"?(C=u?y:`${b}px`,x=`${-m}px`):p==="top"?(C=u?y:`${b}px`,x=`${a.floating.height+m}px`):p==="right"?(C=`${-m}px`,x=u?y:`${_}px`):p==="left"&&(C=`${a.floating.width+m}px`,x=u?y:`${_}px`),{data:{x:C,y:x}}}});function iT(t){const[e,n="center"]=t.split("-");return[e,n]}var oT=eT,Rv=nT,lT=rT,cT=sT,Dv="Popover",[uT,KH]=Zo(Dv,[eh]),fu=eh(),[z6,_s]=uT(Dv),dT=t=>{const{__scopePopover:e,children:n,open:a,defaultOpen:i,onOpenChange:l,modal:u=!1}=t,f=fu(e),m=w.useRef(null),[p,v]=w.useState(!1),[y=!1,b]=iu({prop:a,defaultProp:i,onChange:l});return d.jsx(oT,{...f,children:d.jsx(z6,{scope:e,contentId:Yn(),triggerRef:m,open:y,onOpenChange:b,onOpenToggle:w.useCallback(()=>b(_=>!_),[b]),hasCustomAnchor:p,onCustomAnchorAdd:w.useCallback(()=>v(!0),[]),onCustomAnchorRemove:w.useCallback(()=>v(!1),[]),modal:u,children:n})})};dT.displayName=Dv;var fT="PopoverAnchor",F6=w.forwardRef((t,e)=>{const{__scopePopover:n,...a}=t,i=_s(fT,n),l=fu(n),{onCustomAnchorAdd:u,onCustomAnchorRemove:f}=i;return w.useEffect(()=>(u(),()=>f()),[u,f]),d.jsx(Rv,{...l,...a,ref:e})});F6.displayName=fT;var hT="PopoverTrigger",mT=w.forwardRef((t,e)=>{const{__scopePopover:n,...a}=t,i=_s(hT,n),l=fu(n),u=nn(e,i.triggerRef),f=d.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":bT(i.open),...a,ref:u,onClick:ft(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?f:d.jsx(Rv,{asChild:!0,...l,children:f})});mT.displayName=hT;var Av="PopoverPortal",[H6,q6]=uT(Av,{forceMount:void 0}),pT=t=>{const{__scopePopover:e,forceMount:n,children:a,container:i}=t,l=_s(Av,e);return d.jsx(H6,{scope:e,forceMount:n,children:d.jsx(xa,{present:n||l.open,children:d.jsx(lv,{asChild:!0,container:i,children:a})})})};pT.displayName=Av;var ko="PopoverContent",gT=w.forwardRef((t,e)=>{const n=q6(ko,t.__scopePopover),{forceMount:a=n.forceMount,...i}=t,l=_s(ko,t.__scopePopover);return d.jsx(xa,{present:a||l.open,children:l.modal?d.jsx(V6,{...i,ref:e}):d.jsx($6,{...i,ref:e})})});gT.displayName=ko;var V6=w.forwardRef((t,e)=>{const n=_s(ko,t.__scopePopover),a=w.useRef(null),i=nn(e,a),l=w.useRef(!1);return w.useEffect(()=>{const u=a.current;if(u)return iN(u)},[]),d.jsx(cv,{as:Gf,allowPinchZoom:!0,children:d.jsx(yT,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(t.onCloseAutoFocus,u=>{var f;u.preventDefault(),l.current||(f=n.triggerRef.current)==null||f.focus()}),onPointerDownOutside:ft(t.onPointerDownOutside,u=>{const f=u.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,p=f.button===2||m;l.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:ft(t.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),$6=w.forwardRef((t,e)=>{const n=_s(ko,t.__scopePopover),a=w.useRef(!1),i=w.useRef(!1);return d.jsx(yT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,f;(u=t.onCloseAutoFocus)==null||u.call(t,l),l.defaultPrevented||(a.current||(f=n.triggerRef.current)==null||f.focus(),l.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:l=>{var m,p;(m=t.onInteractOutside)==null||m.call(t,l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;((p=n.triggerRef.current)==null?void 0:p.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),yT=w.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:v,...y}=t,b=_s(ko,n),_=fu(n);return ZC(),d.jsx(ov,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:l,children:d.jsx(Yf,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:v,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onDismiss:()=>b.onOpenChange(!1),children:d.jsx(lT,{"data-state":bT(b.open),role:"dialog",id:b.contentId,..._,...y,ref:e,style:{...y.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),vT="PopoverClose",G6=w.forwardRef((t,e)=>{const{__scopePopover:n,...a}=t,i=_s(vT,n);return d.jsx($e.button,{type:"button",...a,ref:e,onClick:ft(t.onClick,()=>i.onOpenChange(!1))})});G6.displayName=vT;var Y6="PopoverArrow",W6=w.forwardRef((t,e)=>{const{__scopePopover:n,...a}=t,i=fu(n);return d.jsx(cT,{...i,...a,ref:e})});W6.displayName=Y6;function bT(t){return t?"open":"closed"}var K6=dT,X6=mT,Q6=pT,xT=gT;const Z6=K6,J6=X6,_T=w.forwardRef(({className:t,align:e="center",sideOffset:n=4,...a},i)=>d.jsx(Q6,{children:d.jsx(xT,{ref:i,align:e,sideOffset:n,className:Ie("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})}));_T.displayName=xT.displayName;const Iv=w.forwardRef(({className:t,options:e=[],onChange:n,value:a,placeholder:i="Seleccione una opcin...",searchPlaceholder:l="Buscar...",notFoundText:u="No se encontraron resultados.",disabled:f,...m},p)=>{const[v,y]=w.useState(!1),[b,_]=w.useState(""),C=w.useMemo(()=>{const S={};return e.forEach(N=>{const T=N.group||"default";S[T]||(S[T]=[]),S[T].push(N)}),S},[e]),x=e.find(S=>String(S.value)===String(a));return w.useCallback(S=>{n==null||n(S),y(!1),_("")},[n]),d.jsxs(Z6,{open:v,onOpenChange:y,children:[d.jsx(J6,{asChild:!0,children:d.jsxs(ye,{...m,type:"button",variant:"outline",role:"combobox","aria-expanded":v,className:Ie("w-full justify-between font-normal",!a&&"text-muted-foreground",t),disabled:f,children:[x?x.label:i,d.jsx(fI,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),d.jsx(_T,{align:"start",className:"w-full p-0",children:d.jsxs(jN,{shouldFilter:!1,className:"w-full",children:[d.jsx(MN,{placeholder:l,value:b,onValueChange:_,className:"border-none focus:ring-0"}),d.jsxs(PN,{className:"max-h-[200px] overflow-y-auto",children:[d.jsx(LN,{children:u}),Object.entries(C).map(([S,N])=>d.jsx(UN,{heading:S==="default"?void 0:S,children:N.filter(T=>T.label.toLowerCase().includes(b.toLowerCase())).map(T=>d.jsxs(BN,{value:String(T.value),onSelect:()=>{n==null||n(String(T.value)),y(!1),_("")},className:"flex items-center gap-2 cursor-pointer",children:[d.jsx(vS,{className:Ie("h-4 w-4 shrink-0",String(a)===String(T.value)?"opacity-100":"opacity-0")}),d.jsx("span",{className:"flex-1",children:T.label})]},T.value))},S))]})]})})]})});Iv.displayName="Select";const Ov=w.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{ref:n,className:Ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e}));Ov.displayName="Textarea";const wT=w.forwardRef(({className:t,...e},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:Ie("w-full caption-bottom text-sm",t),...e})}));wT.displayName="Table";const ET=w.forwardRef(({className:t,...e},n)=>d.jsx("thead",{ref:n,className:Ie("[&_tr]:border-b",t),...e}));ET.displayName="TableHeader";const ST=w.forwardRef(({className:t,...e},n)=>d.jsx("tbody",{ref:n,className:Ie("[&_tr:last-child]:border-0",t),...e}));ST.displayName="TableBody";const ez=w.forwardRef(({className:t,...e},n)=>d.jsx("tfoot",{ref:n,className:Ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));ez.displayName="TableFooter";const Ug=w.forwardRef(({className:t,...e},n)=>d.jsx("tr",{ref:n,className:Ie("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ug.displayName="TableRow";const Bg=w.forwardRef(({className:t,...e},n)=>d.jsx("th",{ref:n,className:Ie("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Bg.displayName="TableHead";const zg=w.forwardRef(({className:t,...e},n)=>d.jsx("td",{ref:n,className:Ie("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));zg.displayName="TableCell";const tz=w.forwardRef(({className:t,...e},n)=>d.jsx("caption",{ref:n,className:Ie("mt-4 text-sm text-muted-foreground",t),...e}));tz.displayName="TableCaption";var nz="VisuallyHidden",CT=w.forwardRef((t,e)=>d.jsx($e.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));CT.displayName=nz;var rz=CT,[th,XH]=Zo("Tooltip",[eh]),nh=eh(),NT="TooltipProvider",az=700,Fg="tooltip.open",[sz,kv]=th(NT),TT=t=>{const{__scopeTooltip:e,delayDuration:n=az,skipDelayDuration:a=300,disableHoverableContent:i=!1,children:l}=t,[u,f]=w.useState(!0),m=w.useRef(!1),p=w.useRef(0);return w.useEffect(()=>{const v=p.current;return()=>window.clearTimeout(v)},[]),d.jsx(sz,{scope:e,isOpenDelayed:u,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(p.current),f(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>f(!0),a)},[a]),isPointerInTransitRef:m,onPointerInTransitChange:w.useCallback(v=>{m.current=v},[]),disableHoverableContent:i,children:l})};TT.displayName=NT;var rh="Tooltip",[iz,ah]=th(rh),RT=t=>{const{__scopeTooltip:e,children:n,open:a,defaultOpen:i=!1,onOpenChange:l,disableHoverableContent:u,delayDuration:f}=t,m=kv(rh,t.__scopeTooltip),p=nh(e),[v,y]=w.useState(null),b=Yn(),_=w.useRef(0),C=u??m.disableHoverableContent,x=f??m.delayDuration,S=w.useRef(!1),[N=!1,T]=iu({prop:a,defaultProp:i,onChange:O=>{O?(m.onOpen(),document.dispatchEvent(new CustomEvent(Fg))):m.onClose(),l==null||l(O)}}),D=w.useMemo(()=>N?S.current?"delayed-open":"instant-open":"closed",[N]),M=w.useCallback(()=>{window.clearTimeout(_.current),_.current=0,S.current=!1,T(!0)},[T]),j=w.useCallback(()=>{window.clearTimeout(_.current),_.current=0,T(!1)},[T]),L=w.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{S.current=!0,T(!0),_.current=0},x)},[x,T]);return w.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),d.jsx(oT,{...p,children:d.jsx(iz,{scope:e,contentId:b,open:N,stateAttribute:D,trigger:v,onTriggerChange:y,onTriggerEnter:w.useCallback(()=>{m.isOpenDelayed?L():M()},[m.isOpenDelayed,L,M]),onTriggerLeave:w.useCallback(()=>{C?j():(window.clearTimeout(_.current),_.current=0)},[j,C]),onOpen:M,onClose:j,disableHoverableContent:C,children:n})})};RT.displayName=rh;var Hg="TooltipTrigger",DT=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...a}=t,i=ah(Hg,n),l=kv(Hg,n),u=nh(n),f=w.useRef(null),m=nn(e,f,i.onTriggerChange),p=w.useRef(!1),v=w.useRef(!1),y=w.useCallback(()=>p.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),d.jsx(Rv,{asChild:!0,...u,children:d.jsx($e.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...a,ref:m,onPointerMove:ft(t.onPointerMove,b=>{b.pointerType!=="touch"&&!v.current&&!l.isPointerInTransitRef.current&&(i.onTriggerEnter(),v.current=!0)}),onPointerLeave:ft(t.onPointerLeave,()=>{i.onTriggerLeave(),v.current=!1}),onPointerDown:ft(t.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:ft(t.onFocus,()=>{p.current||i.onOpen()}),onBlur:ft(t.onBlur,i.onClose),onClick:ft(t.onClick,i.onClose)})})});DT.displayName=Hg;var oz="TooltipPortal",[QH,lz]=th(oz,{forceMount:void 0}),jo="TooltipContent",AT=w.forwardRef((t,e)=>{const n=lz(jo,t.__scopeTooltip),{forceMount:a=n.forceMount,side:i="top",...l}=t,u=ah(jo,t.__scopeTooltip);return d.jsx(xa,{present:a||u.open,children:u.disableHoverableContent?d.jsx(IT,{side:i,...l,ref:e}):d.jsx(cz,{side:i,...l,ref:e})})}),cz=w.forwardRef((t,e)=>{const n=ah(jo,t.__scopeTooltip),a=kv(jo,t.__scopeTooltip),i=w.useRef(null),l=nn(e,i),[u,f]=w.useState(null),{trigger:m,onClose:p}=n,v=i.current,{onPointerInTransitChange:y}=a,b=w.useCallback(()=>{f(null),y(!1)},[y]),_=w.useCallback((C,x)=>{const S=C.currentTarget,N={x:C.clientX,y:C.clientY},T=hz(N,S.getBoundingClientRect()),D=mz(N,T),M=pz(x.getBoundingClientRect()),j=yz([...D,...M]);f(j),y(!0)},[y]);return w.useEffect(()=>()=>b(),[b]),w.useEffect(()=>{if(m&&v){const C=S=>_(S,v),x=S=>_(S,m);return m.addEventListener("pointerleave",C),v.addEventListener("pointerleave",x),()=>{m.removeEventListener("pointerleave",C),v.removeEventListener("pointerleave",x)}}},[m,v,_,b]),w.useEffect(()=>{if(u){const C=x=>{const S=x.target,N={x:x.clientX,y:x.clientY},T=(m==null?void 0:m.contains(S))||(v==null?void 0:v.contains(S)),D=!gz(N,u);T?b():D&&(b(),p())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[m,v,u,p,b]),d.jsx(IT,{...t,ref:l})}),[uz,dz]=th(rh,{isInside:!1}),IT=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:a,"aria-label":i,onEscapeKeyDown:l,onPointerDownOutside:u,...f}=t,m=ah(jo,n),p=nh(n),{onClose:v}=m;return w.useEffect(()=>(document.addEventListener(Fg,v),()=>document.removeEventListener(Fg,v)),[v]),w.useEffect(()=>{if(m.trigger){const y=b=>{const _=b.target;_!=null&&_.contains(m.trigger)&&v()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[m.trigger,v]),d.jsx(Yf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:y=>y.preventDefault(),onDismiss:v,children:d.jsxs(lT,{"data-state":m.stateAttribute,...p,...f,ref:e,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(WC,{children:a}),d.jsx(uz,{scope:n,isInside:!0,children:d.jsx(rz,{id:m.contentId,role:"tooltip",children:i||a})})]})})});AT.displayName=jo;var OT="TooltipArrow",fz=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...a}=t,i=nh(n);return dz(OT,n).isInside?null:d.jsx(cT,{...i,...a,ref:e})});fz.displayName=OT;function hz(t,e){const n=Math.abs(e.top-t.y),a=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),l=Math.abs(e.left-t.x);switch(Math.min(n,a,i,l)){case l:return"left";case i:return"right";case n:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function mz(t,e,n=5){const a=[];switch(e){case"top":a.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":a.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":a.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":a.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return a}function pz(t){const{top:e,right:n,bottom:a,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:a},{x:i,y:a}]}function gz(t,e){const{x:n,y:a}=t;let i=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const f=e[l].x,m=e[l].y,p=e[u].x,v=e[u].y;m>a!=v>a&&n<(p-f)*(a-m)/(v-m)+f&&(i=!i)}return i}function yz(t){const e=t.slice();return e.sort((n,a)=>n.x<a.x?-1:n.x>a.x?1:n.y<a.y?-1:n.y>a.y?1:0),vz(e)}function vz(t){if(t.length<=1)return t.slice();const e=[];for(let a=0;a<t.length;a++){const i=t[a];for(;e.length>=2;){const l=e[e.length-1],u=e[e.length-2];if((l.x-u.x)*(i.y-u.y)>=(l.y-u.y)*(i.x-u.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let a=t.length-1;a>=0;a--){const i=t[a];for(;n.length>=2;){const l=n[n.length-1],u=n[n.length-2];if((l.x-u.x)*(i.y-u.y)>=(l.y-u.y)*(i.x-u.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var bz=TT,xz=RT,kT=DT,jT=AT;const _z=bz,SE=xz,qg=w.forwardRef(({className:t,...e},n)=>d.jsx(kT,{ref:n,className:Ie("",t),...e}));qg.displayName=kT.displayName;const Vg=w.forwardRef(({className:t,sideOffset:e=4,...n},a)=>d.jsx(jT,{ref:a,sideOffset:e,className:Ie("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Vg.displayName=jT.displayName;function wz({value:t=[],onChange:e,config:n,FormContent:a}){const[i,l]=w.useState(!1),[u,f]=w.useState(null),[m,p]=w.useState(null),[v,y]=w.useState({}),{columns:b,form:{emptyState:_={title:"No hay elementos",description:'Haga clic en el botn "Agregar" para comenzar.'},modalTitles:C={add:"Agregar elemento",edit:"Editar elemento"},addButtonText:x="Agregar",editButtonTooltip:S="Editar",deleteButtonTooltip:N="Eliminar",disableEditIf:T,disableDeleteIf:D}}=n;w.useEffect(()=>{(async()=>{const te=b.filter(le=>{var de;return(de=le.reference)==null?void 0:de.field.relatedService}).map(async le=>{try{const H=await le.reference.field.relatedService.service.findAll();return{field:le.accessor,data:H}}catch(de){return console.error(`Error loading referenced data for ${le.accessor}:`,de),{field:le.accessor,data:[]}}}),re=await Promise.all(te),ce={};re.forEach(({field:le,data:de})=>{const H={};de.forEach(ie=>{H[ie.id]=ie}),ce[le.replace("Id","")]=H}),y(ce)})()},[b]);const M=B=>{B.preventDefault(),B.stopPropagation(),f(null),p(null),l(!0)},j=(B,V)=>{f(B),p(V),l(!0)},L=B=>{const V=[...t];V.splice(B,1),e(V)},O=B=>{const V=[...t];m!==null?V[m]=B:V.push(B),l(!1),e(V)},q=(B,V)=>{var te;if(V.render)return V.render(B[V.accessor],B);if(V.reference){const re=B[V.accessor],ce=V.accessor.replace("Id",""),le=(te=v[ce])==null?void 0:te[re];return le?le[V.reference.displayField]:"N/A"}return B[V.accessor]};return d.jsx(_z,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ye,{onClick:M,size:"sm",variant:"outline",className:"h-8",type:"button",children:[d.jsx(ts,{className:"h-4 w-4 mr-1"}),x]})}),t.length===0?d.jsxs("div",{className:"text-center py-6 rounded-lg bg-muted/5 border border-dashed",children:[d.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:_.title}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:_.description})]}):d.jsx("div",{className:"rounded-lg border border-border/50 overflow-hidden",children:d.jsxs(wT,{children:[d.jsx(ET,{children:d.jsxs(Ug,{className:"hover:bg-transparent",children:[b.map((B,V)=>d.jsx(Bg,{className:"h-9 text-xs",children:B.header},V)),d.jsx(Bg,{className:"h-9 w-[80px] text-xs",children:"Acciones"})]})}),d.jsx(ST,{children:t.map((B,V)=>d.jsxs(Ug,{className:"hover:bg-muted/5",children:[b.map((te,re)=>d.jsx(zg,{className:"py-2 text-sm",children:q(B,te)},re)),d.jsx(zg,{className:"py-2",children:d.jsxs("div",{className:"flex items-center gap-0.5",children:[(!T||!T(B))&&d.jsxs(SE,{children:[d.jsx(qg,{asChild:!0,children:d.jsx(ye,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground",onClick:te=>{te.preventDefault(),te.stopPropagation(),j(B,V)},children:d.jsx(Bo,{className:"h-3.5 w-3.5"})})}),d.jsx(Vg,{children:d.jsx("p",{children:S})})]}),(!D||!D(B))&&d.jsxs(SE,{children:[d.jsx(qg,{asChild:!0,children:d.jsx(ye,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:te=>{te.preventDefault(),te.stopPropagation(),L(V)},children:d.jsx(zo,{className:"h-3.5 w-3.5"})})}),d.jsx(Vg,{children:d.jsx("p",{children:N})})]})]})})]},V))})]})}),d.jsx(Xf,{open:i,onOpenChange:l,children:d.jsxs(lu,{className:"sm:max-w-md",children:[d.jsx(cu,{children:d.jsx(uu,{className:"text-lg",children:u?C.edit:C.add})}),d.jsx(a,{arrayForm:n.form,initialData:u||{},onSubmit:O,onCancel:()=>l(!1)})]})})]})})}function Ez(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var jv="Checkbox",[Sz,ZH]=Zo(jv),[Cz,Nz]=Sz(jv),MT=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:a,checked:i,defaultChecked:l,required:u,disabled:f,value:m="on",onCheckedChange:p,form:v,...y}=t,[b,_]=w.useState(null),C=nn(e,M=>_(M)),x=w.useRef(!1),S=b?v||!!b.closest("form"):!0,[N=!1,T]=iu({prop:i,defaultProp:l,onChange:p}),D=w.useRef(N);return w.useEffect(()=>{const M=b==null?void 0:b.form;if(M){const j=()=>T(D.current);return M.addEventListener("reset",j),()=>M.removeEventListener("reset",j)}},[b,T]),d.jsxs(Cz,{scope:n,state:N,disabled:f,children:[d.jsx($e.button,{type:"button",role:"checkbox","aria-checked":ls(N)?"mixed":N,"aria-required":u,"data-state":UT(N),"data-disabled":f?"":void 0,disabled:f,value:m,...y,ref:C,onKeyDown:ft(t.onKeyDown,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:ft(t.onClick,M=>{T(j=>ls(j)?!0:!j),S&&(x.current=M.isPropagationStopped(),x.current||M.stopPropagation())})}),S&&d.jsx(Tz,{control:b,bubbles:!x.current,name:a,value:m,checked:N,required:u,disabled:f,form:v,style:{transform:"translateX(-100%)"},defaultChecked:ls(l)?!1:l})]})});MT.displayName=jv;var PT="CheckboxIndicator",LT=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:a,...i}=t,l=Nz(PT,n);return d.jsx(xa,{present:a||ls(l.state)||l.state===!0,children:d.jsx($e.span,{"data-state":UT(l.state),"data-disabled":l.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});LT.displayName=PT;var Tz=t=>{const{control:e,checked:n,bubbles:a=!0,defaultChecked:i,...l}=t,u=w.useRef(null),f=Ez(n),m=QN(e);w.useEffect(()=>{const v=u.current,y=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(y,"checked").set;if(f!==n&&_){const C=new Event("click",{bubbles:a});v.indeterminate=ls(n),_.call(v,ls(n)?!1:n),v.dispatchEvent(C)}},[f,n,a]);const p=w.useRef(ls(n)?!1:n);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??p.current,...l,tabIndex:-1,ref:u,style:{...t.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ls(t){return t==="indeterminate"}function UT(t){return ls(t)?"indeterminate":t?"checked":"unchecked"}var BT=MT,Rz=LT;const hu=w.forwardRef(({className:t,...e},n)=>d.jsx(BT,{ref:n,className:Ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:d.jsx(Rz,{className:Ie("flex items-center justify-center text-current"),children:d.jsx(vS,{className:"h-4 w-4"})})}));hu.displayName=BT.displayName;var Dz="Separator",CE="horizontal",Az=["horizontal","vertical"],zT=w.forwardRef((t,e)=>{const{decorative:n,orientation:a=CE,...i}=t,l=Iz(a)?a:CE,f=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return d.jsx($e.div,{"data-orientation":l,...f,...i,ref:e})});zT.displayName=Dz;function Iz(t){return Az.includes(t)}var FT=zT;const $g=w.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...a},i)=>d.jsx(FT,{ref:i,decorative:n,orientation:e,className:Ie("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...a}));$g.displayName=FT.displayName;function Oz({arrayForm:t,initialData:e,onSubmit:n,onCancel:a}){const[i,l]=A.useState(e),[u,f]=A.useState({});A.useEffect(()=>{(async()=>{const y=t.fields.filter(C=>C.relatedService).map(async C=>{try{const x=await C.relatedService.service.findAll();return{field:C.name,data:x}}catch(x){return console.error(`Error loading data for ${C.name}:`,x),Ae.error(`Error al cargar datos relacionados para ${C.label}`),{field:C.name,data:[]}}}),b=await Promise.all(y),_={};b.forEach(({field:C,data:x})=>{_[C]=x}),f(_)})()},[t.fields]);const m=(v,y)=>{l(b=>({...b,[y.name]:v}))},p=v=>{if(v.relatedService&&u[v.name]){const{labelField:y,valueField:b}=v.relatedService;return u[v.name].map(_=>({value:_[b||"id"],label:_[y]}))}return v.options||[]};return d.jsxs("div",{className:"space-y-6 py-4",children:[d.jsx("div",{className:"grid gap-6",children:t.fields.map(v=>d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Gn,{htmlFor:v.name,children:[v.label,v.required&&d.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),v.type==="select"?d.jsx(Iv,{id:v.name,name:v.name,value:i[v.name]||"",onChange:y=>m(y,v),required:v.required,className:"w-full",options:p(v),placeholder:v.placeholder||"Seleccione una opcin",searchPlaceholder:"Buscar...",notFoundText:"No se encontraron resultados"}):v.type==="textarea"?d.jsx(Ov,{id:v.name,name:v.name,value:i[v.name]||"",onChange:y=>m(y.target.value,v),required:v.required,placeholder:v.placeholder,className:"min-h-[100px]"}):d.jsx(Wn,{id:v.name,type:v.type,name:v.name,value:i[v.name]||"",onChange:y=>m(y.target.value,v),required:v.required,placeholder:v.placeholder,className:"w-full"})]},v.name))}),d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx(ye,{type:"button",variant:"outline",onClick:a,children:"Cancelar"}),d.jsx(ye,{type:"button",onClick:()=>n(i),children:"Guardar"})]})]})}function An({title:t,fields:e,sections:n,initialValues:a={},backPath:i,service:l,onSuccess:u,onFieldChange:f,children:m}){const p=Ct(),[v,y]=A.useState(a),[b,_]=A.useState(!1),[C,x]=A.useState({});A.useEffect(()=>{y(a)},[a]),A.useEffect(()=>{(async()=>{const B=(n?n.flatMap(re=>re.fields):e||[]).filter(re=>re.relatedService).map(async re=>{try{const ce=await re.relatedService.service.findAll();return{field:re.name,data:ce}}catch(ce){return console.error(`Error loading data for ${re.name}:`,ce),Ae.error(`Error al cargar datos relacionados para ${re.label}`),{field:re.name,data:[]}}}),V=await Promise.all(B),te={};V.forEach(({field:re,data:ce})=>{te[re]=ce}),x(te)})()},[e,n]);const S=O=>{const q=v[O.name];return O.type==="date"&&q?q instanceof Date?q.toISOString().split("T")[0]:typeof q=="string"?new Date(q).toISOString().split("T")[0]:"":O.type==="boolean"?!!q:q==null?"":String(q)},N=O=>{if(O.type==="boolean")return"";if(O.type==="number"){const q=v[O.name];return q==null||q===""?"":String(q)}return S(O).toString()},T=(O,q)=>{var V;let B=O;if(q.type==="number")if(O===""||O===null||O===void 0)B="";else{const te=((V=O==null?void 0:O.target)==null?void 0:V.value)??O;B=te===""?"":Number(te),isNaN(B)&&(B="")}else q.type==="date"&&O?B=new Date(O):q.type==="boolean"?B=!!O:q.type==="select"?B=O:O!=null&&O.target&&(B=O.target.value);if(y(te=>({...te,[q.name]:B})),q.onChange){const te=q.onChange(B);te!==void 0&&(B=te,y(re=>({...re,[q.name]:te})))}f==null||f(q.name,B)},D=async O=>{O.preventDefault(),_(!0);try{a.id?(await l.update(a.id,v),Ae.success("Registro actualizado exitosamente")):(await l.create(v),Ae.success("Registro creado exitosamente")),u==null||u(),p(i)}catch(q){console.error("Error al guardar el registro:",q),Ae.error("Error al guardar el registro")}finally{_(!1)}},M=O=>{if(O.relatedService&&C[O.name]){const{labelField:q,valueField:B}=O.relatedService;return C[O.name].map(V=>({value:V[B||"id"],label:V[q]}))}return O.options||[]},j=O=>d.jsxs("div",{className:`space-y-2 ${O.type==="array"?"col-span-2":""}`,children:[d.jsxs(Gn,{htmlFor:O.name,children:[O.label,O.required&&d.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),O.type==="array"?d.jsx(wz,{value:v[O.name]||[],onChange:q=>y(B=>({...B,[O.name]:q})),config:O.arrayConfig,FormContent:Oz}):O.type==="select"?d.jsx(Iv,{id:O.name,name:O.name,value:N(O),onChange:q=>T(q,O),required:O.required,className:"w-full",options:M(O),placeholder:O.placeholder||"Seleccione una opcin",searchPlaceholder:"Buscar...",notFoundText:"No se encontraron resultados"}):O.type==="textarea"?d.jsx(Ov,{id:O.name,name:O.name,value:N(O),onChange:q=>T(q.target.value,O),required:O.required,placeholder:O.placeholder,className:"min-h-[100px]"}):O.type==="boolean"?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(hu,{id:O.name,checked:S(O),onCheckedChange:q=>T(!!q,O)}),d.jsx("label",{htmlFor:O.name,className:"text-sm text-muted-foreground cursor-pointer",children:O.placeholder||O.label})]}):d.jsx(Wn,{id:O.name,type:O.type,name:O.name,value:N(O),onChange:q=>T(q.target.value,O),required:O.required,placeholder:O.placeholder,className:"w-full"})]},O.name),L=O=>d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:O.map(j)});return d.jsx(nt,{className:"max-w-4xl mx-auto p-6",children:d.jsxs("form",{onSubmit:D,className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(ye,{type:"button",variant:"ghost",size:"icon",onClick:()=>p(i),children:d.jsx(pS,{className:"h-5 w-5"})}),d.jsx("h2",{className:"text-2xl font-bold",children:t})]}),n?d.jsx("div",{className:"space-y-8",children:n.map((O,q)=>O.visible?O.visible(v)&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-lg font-semibold",children:O.title}),d.jsx($g,{})]}),L(O.fields)]},O.title):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-lg font-semibold",children:O.title}),d.jsx($g,{})]}),L(O.fields)]},O.title))}):L(e||[]),m,d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx(ye,{type:"button",variant:"outline",onClick:()=>p(i),children:"Cancelar"}),d.jsxs(ye,{type:"submit",disabled:b,children:[d.jsx(PI,{className:"h-4 w-4 mr-2"}),a.id?"Actualizar":"Guardar"]})]})]})})}function NE(){const{id:t}=ze(),[e,n]=A.useState({}),a=new ba;A.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"phone",label:"Telfono",type:"text"},{name:"email",label:"Email",type:"email"},{name:"address",label:"Direccin",type:"textarea"},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:Lc.ACTIVE,label:"Activo"},{value:Lc.INACTIVE,label:"Inactivo"}]}];return d.jsx(An,{title:t?"Editar Cliente":"Nuevo Cliente",fields:i,initialValues:e,service:a,backPath:"/customers"})}function In({title:t,fields:e,editPath:n,backPath:a,service:i,id:l}){const u=Ct(),[f,m]=A.useState(null),[p,v]=A.useState(!0);A.useEffect(()=>{(async()=>{try{const C=await i.findById(l);C?m(C):(Ae.error("Registro no encontrado"),u(a))}catch(C){console.error("Error al cargar el registro:",C),Ae.error("Error al cargar el registro"),u(a)}finally{v(!1)}})()},[l,i,a,u]);const y=async()=>{if(window.confirm("Est seguro de que desea eliminar este registro?"))try{await i.delete(l),Ae.success("Registro eliminado exitosamente"),u(a)}catch(_){console.error("Error al eliminar el registro:",_),Ae.error("Error al eliminar el registro")}};if(p||!f)return d.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})});const b=e(f);return d.jsxs("div",{className:"min-h-[80vh] flex flex-col gap-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:t}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Detalles del registro"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(ye,{variant:"ghost",onClick:()=>u(a),className:"flex items-center gap-2",children:[d.jsx(pS,{className:"h-4 w-4"}),"Volver"]}),d.jsx(oa,{to:n,children:d.jsxs(ye,{variant:"outline",className:"flex items-center gap-2",children:[d.jsx(Bo,{className:"h-4 w-4"}),"Editar"]})}),d.jsxs(ye,{variant:"destructive",onClick:y,className:"flex items-center gap-2",children:[d.jsx(zo,{className:"h-4 w-4"}),"Eliminar"]})]})]}),d.jsx(nt,{className:"p-6",children:d.jsx("dl",{className:"grid gap-6 md:grid-cols-2",children:b.map((_,C)=>d.jsxs("div",{className:`space-y-2 ${A.isValidElement(_.value)?"col-span-2":""}`,children:[d.jsx("dt",{className:"text-sm font-semibold tracking-tight text-foreground/90",children:_.label}),d.jsx("dd",{className:"text-sm",children:A.isValidElement(_.value)?d.jsx("div",{className:"rounded-md border",children:d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{className:"w-full caption-bottom text-sm",children:d.jsx("tbody",{children:_.value})})})}):_.value||d.jsx("span",{className:"text-muted-foreground",children:"-"})})]},C))})})]})}function kz(){const{id:t}=ze(),e=new ba,n=a=>[{label:"Nombre",value:a.name},{label:"Telfono",value:a.phone||"-"},{label:"Email",value:a.email||"-"},{label:"Direccin",value:a.address||"-"},{label:"Estado",value:a.status===Lc.ACTIVE?"Activo":"Inactivo"}];return t?d.jsx(In,{title:"Cliente",fields:n,editPath:`/customers/${t}/edit`,backPath:"/customers",service:e,id:t}):null}var Fc=(t=>(t.ACTIVE="active",t.INACTIVE="inactive",t))(Fc||{});class jz extends Rn{constructor(e){super(e,"suppliers")}async findByCommercialName(e){return this.findByField("commercialName",e)}async findByEmail(e){return this.findByField("email",e)}async findByPhone(e){return this.findByField("phone",e)}}class yr extends Dn{constructor(){super(jz)}async findByName(e){return this.repository.findByCommercialName(e)}async findByEmail(e){return this.repository.findByEmail(e)}async findByPhone(e){return this.repository.findByPhone(e)}async findByStatus(e){return(await this.repository.findAll()).filter(a=>a.status===e)}}function Mz(){const t=new yr,e=[{header:"Nombre Comercial",accessor:"commercialName"},{header:"Telfono",accessor:"phone",render:n=>n.phone||"-"},{header:"Estado",accessor:"status",render:n=>n.status===Fc.ACTIVE?"Activo":"Inactivo"}];return d.jsx(Tn,{columns:e,title:"Proveedores",addPath:"/suppliers/new",backPath:"/suppliers",service:t})}function TE(){const{id:t}=ze(),[e,n]=A.useState({}),a=new yr;A.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"commercialName",label:"Nombre Comercial",type:"text",required:!0},{name:"legalName",label:"Razn Social",type:"text"},{name:"phone",label:"Telfono",type:"text"},{name:"email",label:"Email",type:"email"},{name:"address",label:"Direccin",type:"textarea"},{name:"rut",label:"RUT",type:"text"},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:Fc.ACTIVE,label:"Activo"},{value:Fc.INACTIVE,label:"Inactivo"}]}];return d.jsx(An,{title:t?"Editar Proveedor":"Nuevo Proveedor",fields:i,initialValues:e,service:a,backPath:"/suppliers"})}function Pz(){const{id:t}=ze(),e=new yr,n=a=>[{label:"Nombre Comercial",value:a.commercialName},{label:"Razn Social",value:a.legalName||"-"},{label:"Telfono",value:a.phone||"-"},{label:"Email",value:a.email||"-"},{label:"Direccin",value:a.address||"-"},{label:"RUT",value:a.rut||"-"},{label:"Estado",value:a.status===Fc.ACTIVE?"Activo":"Inactivo"}];return t?d.jsx(In,{title:"Proveedor",fields:n,editPath:`/suppliers/${t}/edit`,backPath:"/suppliers",service:e,id:t}):null}class Lz extends Rn{constructor(e){super(e,"workers")}async findByPrimaryRole(e){return this.findByField("primaryRoleId",e)}async findByName(e){return this.findByField("name",e)}}class pn extends Dn{constructor(){super(Lz)}async findByName(e){return this.repository.findByName(e)}async findByPrimaryRoleId(e){return this.repository.findByPrimaryRole(e)}async findByHireDateRange(e,n){return(await this.repository.findAll()).filter(i=>{const l=new Date(i.hireDate);return l>=e&&l<=n})}async findBySalaryRange(e,n){return(await this.repository.findAll()).filter(i=>i.monthlySalary>=e&&i.monthlySalary<=n)}}class Uz extends Rn{constructor(e){super(e,"roles")}async findByName(e){return this.findByField("name",e)}}class ws extends Dn{constructor(){super(Uz)}async findByName(e){return this.repository.findByName(e)}async findByIsProduction(e){return(await this.repository.findAll()).filter(a=>a.isProduction===e)}async findByTaskName(e){return(await this.repository.findAll()).filter(a=>{var i;return(i=a.tasks)==null?void 0:i.some(l=>l.taskName===e)})}}function Bz(){const t=new pn,e=new ws,[n,a]=A.useState({});A.useEffect(()=>{(async()=>{const m=(await e.findAll()).reduce((p,v)=>({...p,[v.id]:v.name}),{});a(m)})()},[]);const i=u=>{const f=new Date,m=new Date(u);let p=f.getFullYear()-m.getFullYear();const v=f.getMonth()-m.getMonth();return(v<0||v===0&&f.getDate()<m.getDate())&&p--,p},l=[{header:"Nombre",accessor:"name"},{header:"Fecha de Contratacin",accessor:"hireDate",render:u=>{const f=new Date(u.hireDate),m=i(f);return`${f.toLocaleDateString()} (${m} ${m===1?"ao":"aos"})`}},{header:"Rol Principal",accessor:"primaryRoleId",render:u=>n[u.primaryRoleId]||"Rol no encontrado"}];return d.jsx(Tn,{columns:l,title:"Colaboradores",addPath:"/workers/new",backPath:"/workers",service:t})}var oi=(t=>(t.PAID="paid",t.PENDING="pending",t))(oi||{}),li=(t=>(t.SALARY="salary",t.LEAVE="leave",t))(li||{});function RE(){const{id:t}=ze(),[e,n]=A.useState({}),a=new pn;A.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"primaryRoleId",label:"Rol Principal",type:"select",required:!0,relatedService:{service:new ws,labelField:"name"}},{name:"hireDate",label:"Fecha de Contratacin",type:"date",required:!0},{name:"monthlySalary",label:"Salario Mensual",type:"number",required:!0},{name:"leaveBalance",label:"Saldo de Licencias",type:"number",required:!0},{name:"leaveSalaryBalance",label:"Saldo de Salario por Licencias",type:"number",required:!0},{name:"vacationSalaryBalance",label:"Saldo de Salario por Vacaciones",type:"number",required:!0},{name:"bonusSalaryBalance",label:"Saldo de Aguinaldos",type:"number",required:!0},{name:"leaveHistory",label:"Historial de Licencias Tomadas",type:"array",arrayConfig:{columns:[{header:"Fecha de Inicio",accessor:"startDate",render:l=>new Date(l).toLocaleDateString("es-UY")},{header:"Fecha de Fin",accessor:"endDate",render:l=>new Date(l).toLocaleDateString("es-UY")},{header:"Das",accessor:"day"}],form:{fields:[{name:"startDate",label:"Fecha de Inicio",type:"date",required:!0},{name:"endDate",label:"Fecha de Fin",type:"date",required:!0},{name:"day",label:"Das",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay licencias registrados",description:'Haga clic en el botn "Agregar" para comenzar a registrar las licencias tomadas del trabajador.'},modalTitles:{add:"Agregar Licencias Tomadas",edit:"Modificar Licencias Tomada"},addButtonText:"Agregar Licencias Tomada",editButtonTooltip:"Modificar este Licencias Tomada",deleteButtonTooltip:"Eliminar este Licencias Tomada"}}},{name:"payments",label:"Pagos",type:"array",arrayConfig:{columns:[{header:"Monto",accessor:"amount",render:l=>(l==null?void 0:l.toLocaleString("es-UY",{style:"currency",currency:"UYU",currencyDisplay:"symbol",minimumFractionDigits:0,maximumFractionDigits:0}))||"N/A"},{header:"Estado",accessor:"status",render:l=>{switch(l){case oi.PENDING:return"Pendiente";case oi.PAID:return"Pagado";default:return"N/A"}}},{header:"Concepto",accessor:"concept",render:l=>{switch(l){case li.SALARY:return"Salario";case li.LEAVE:return"Permiso";default:return"N/A"}}},{header:"Fecha de Pago",accessor:"paymentDate",render:l=>new Date(l).toLocaleDateString("es-UY")}],form:{fields:[{name:"amount",label:"Monto",type:"number",required:!0,placeholder:"Ej: 500000"},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:oi.PENDING,label:"Pendiente"},{value:oi.PAID,label:"Pagado"}]},{name:"concept",label:"Concepto",type:"select",required:!0,options:[{value:li.SALARY,label:"Salario"},{value:li.LEAVE,label:"Permiso"}]},{name:"paymentDate",label:"Fecha de Pago",type:"date",required:!0}],emptyState:{title:"No hay pagos registrados",description:'Haga clic en el botn "Agregar" para comenzar a registrar los pagos del trabajador.'},modalTitles:{add:"Agregar Pago",edit:"Modificar Pago"},addButtonText:"Agregar Pago",editButtonTooltip:"Modificar este pago",deleteButtonTooltip:"Eliminar este pago"}}}];return d.jsx(An,{title:t?"Editar Trabajador":"Nuevo Trabajador",fields:i,initialValues:e,service:a,backPath:"/workers"})}function xi({data:t,columns:e,emptyMessage:n="No hay datos"}){return t!=null&&t.length?d.jsx("div",{className:"rounded-md border",children:d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsxs("table",{className:"w-full caption-bottom text-sm",children:[d.jsx("thead",{children:d.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:e.map((a,i)=>d.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:a.header},i))})}),d.jsx("tbody",{children:t.map((a,i)=>d.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:e.map((l,u)=>d.jsx("td",{className:"p-4 align-middle",children:typeof l.accessor=="function"?l.accessor(a):d.jsx("div",{className:"font-medium",children:String(a[l.accessor])})},u))},i))})]})})}):d.jsx("div",{className:"text-muted-foreground",children:n})}function zz(){const{id:t}=ze(),e=new pn,n=new ws,[a,i]=A.useState({});A.useEffect(()=>{(async()=>{const b=(await n.findAll()).reduce((_,C)=>({..._,[C.id]:C.name}),{});i(b)})()},[]);const l=v=>v.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0,maximumFractionDigits:0}),u=v=>new Date(v).toLocaleDateString("es-UY",{year:"numeric",month:"long",day:"numeric"}),f=v=>{const y=[{header:"Fecha Inicio",accessor:b=>u(b.startDate)},{header:"Fecha Fin",accessor:b=>u(b.endDate)},{header:"Das",accessor:b=>b.day}];return d.jsx(xi,{data:v,columns:y,emptyMessage:"No hay historial de licencias tomadas"})},m=v=>{const y=[{header:"Fecha",accessor:b=>u(b.paymentDate)},{header:"Concepto",accessor:b=>{switch(b.concept){case li.SALARY:return"Salario";case li.LEAVE:return"Permiso";default:return b.concept}}},{header:"Estado",accessor:b=>{switch(b.status){case oi.PAID:return"Pagado";case oi.PENDING:return"Pendiente";default:return b.status}}},{header:"Monto",accessor:b=>l(b.amount)}];return d.jsx(xi,{data:v,columns:y,emptyMessage:"No hay pagos"})},p=v=>[{label:"Nombre",value:v.name},{label:"Rol Principal",value:a[v.primaryRoleId]||"Rol no encontrado"},{label:"Fecha de Contratacin",value:u(v.hireDate)},{label:"Salario Mensual",value:l(v.monthlySalary)},{label:"Balance de Licencias",value:v.leaveBalance},{label:"Balance de Salario por Licencias",value:l(v.leaveSalaryBalance)},{label:"Balance de Salario por Vacaciones",value:l(v.vacationSalaryBalance)},{label:"Balance de Aguinaldo",value:l(v.bonusSalaryBalance)},{label:"Historial de Licencias Tomadas",value:f(v.leaveHistory||[])},{label:"Historial de Pagos",value:m(v.payments||[])}];return t?d.jsx(In,{title:"Trabajador",fields:p,editPath:`/workers/${t}/edit`,backPath:"/workers",service:e,id:t}):null}function Fz(){const t=new ws,e=[{header:"Nombre",accessor:"name"},{header:"Tipo",accessor:"isProduction",render:n=>n.isProduction?"Produccin":"Administrativo"},{header:"Tareas",accessor:"tasks",render:n=>{var a;return((a=n.tasks)==null?void 0:a.length)||0}}];return d.jsx(Tn,{columns:e,title:"Roles",addPath:"/roles/new",backPath:"/roles",service:t})}var ei=(t=>(t.DAILY="daily",t.HOURLY="hourly",t.END_OF_SHIFT="end_of_shift",t))(ei||{});function DE(){const{id:t}=ze(),[e,n]=A.useState({}),a=new ws;A.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"isProduction",label:"Es de Produccin?",type:"boolean",required:!0,placeholder:"Marque si el rol es de produccin"},{name:"tasks",label:"Tareas",type:"array",arrayConfig:{columns:[{header:"Tarea",accessor:"taskName"},{header:"Frecuencia",accessor:"frequency",render:l=>{switch(l){case ei.DAILY:return"Diaria";case ei.HOURLY:return"Por Hora";case ei.END_OF_SHIFT:return"Fin de Turno";default:return"N/A"}}}],form:{fields:[{name:"taskName",label:"Nombre de la Tarea",type:"text",required:!0,placeholder:"Ej: Limpiar rea de trabajo"},{name:"frequency",label:"Frecuencia",type:"select",required:!0,options:[{value:ei.DAILY,label:"Diaria"},{value:ei.HOURLY,label:"Por Hora"},{value:ei.END_OF_SHIFT,label:"Fin de Turno"}]}],emptyState:{title:"No hay tareas definidas",description:'Haga clic en el botn "Agregar" para comenzar a definir las tareas de este rol.'},modalTitles:{add:"Agregar Tarea",edit:"Modificar Tarea"},addButtonText:"Agregar Tarea",editButtonTooltip:"Modificar esta tarea",deleteButtonTooltip:"Eliminar esta tarea"}}}];return d.jsx(An,{title:t?"Editar Rol":"Nuevo Rol",fields:i,initialValues:e,service:a,backPath:"/roles"})}function Hz(){const{id:t}=ze(),e=new ws,n=i=>i!=null&&i.length?d.jsx(d.Fragment,{children:i.map((l,u)=>d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[d.jsx("td",{className:"p-4 align-middle",children:d.jsx("div",{className:"font-medium",children:l.taskName})}),d.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:l.frequency})]},u))}):"No hay tareas",a=i=>{var l;return[{label:"Nombre",value:i.name},{label:"Tipo",value:i.isProduction?"Produccin":"Administrativo"},{label:"Tareas",value:(l=i.tasks)!=null&&l.length?n(i.tasks):"No hay tareas"}]};return t?d.jsx(In,{title:"Rol",fields:a,editPath:`/roles/${t}/edit`,backPath:"/roles",service:e,id:t}):null}class qz extends Rn{constructor(e){super(e,"units")}async findByName(e){return this.findByField("name",e)}async findBySymbol(e){return this.findByField("symbol",e)}}class jt extends Dn{constructor(){super(qz)}async findByName(e){return this.repository.findByName(e)}async findBySymbol(e){return this.repository.findBySymbol(e)}async create(e){const n=await super.create(e),a={toUnitId:n.id,factor:1,operation:"multiply",isDefault:!0},i=e.conversions||[],l=[a,...i];return await this.update(n.id,{...n,conversions:l}),this.findById(n.id)}}function Vz(){const t=new jt,e=[{header:"Nombre",accessor:"name"},{header:"Smbolo",accessor:"symbol"},{header:"Conversiones",accessor:"conversions",render:n=>{var a;return((a=n.conversions)==null?void 0:a.length)||0}}];return d.jsx(Tn,{columns:e,title:"Unidades",addPath:"/units/new",backPath:"/units",service:t})}function AE(){const{id:t}=ze(),[e,n]=A.useState({}),a=new jt;A.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"symbol",label:"Smbolo",type:"text",required:!0},{name:"conversions",label:"Conversiones",type:"array",arrayConfig:{columns:[{header:"Unidad Destino",accessor:"toUnitId",reference:{field:{name:"toUnitId",label:"Unidad Destino",type:"select",relatedService:{service:new jt,labelField:"name"}},displayField:"name"}},{header:"Factor",accessor:"factor"},{header:"Operacin",accessor:"operation",render:l=>l==="multiply"?"Multiplicar":"Dividir"}],form:{fields:[{name:"toUnitId",label:"Unidad Destino",type:"select",required:!0,relatedService:{service:new jt,labelField:"name"}},{name:"factor",label:"Factor",type:"number",required:!0,placeholder:"Ej: 1000"},{name:"operation",label:"Operacin",type:"select",required:!0,options:[{value:"multiply",label:"Multiplicar"},{value:"divide",label:"Dividir"}]}],emptyState:{title:"No hay conversiones definidas",description:'Haga clic en el botn "Agregar" para comenzar a definir las conversiones de esta unidad.'},modalTitles:{add:"Agregar Conversin",edit:"Modificar Conversin"},addButtonText:"Agregar Conversin",editButtonTooltip:"Modificar esta conversin",deleteButtonTooltip:"Eliminar esta conversin",disableEditIf:l=>l.isDefault===!0,disableDeleteIf:l=>l.isDefault===!0}}}];return d.jsx(An,{title:t?"Editar Unidad":"Nueva Unidad",fields:i,initialValues:e,service:a,backPath:"/units"})}function $z(){const{id:t}=ze(),e=new jt,[n,a]=A.useState({});A.useEffect(()=>{(async()=>{const p=(await e.findAll()).reduce((v,y)=>({...v,[y.id]:y.name}),{});a(p)})()},[]);const i=f=>{switch(f){case"multiply":return"Multiplicar";case"divide":return"Dividir";default:return f}},l=f=>f!=null&&f.length?d.jsx(d.Fragment,{children:f.map((m,p)=>d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[d.jsx("td",{className:"p-4 align-middle",children:d.jsx("div",{className:"font-medium",children:n[m.toUnitId]||"Unidad no encontrada"})}),d.jsxs("td",{className:"p-4 align-middle text-muted-foreground",children:[m.factor," (",i(m.operation),")"]})]},p))}):"No hay conversiones",u=f=>{var m;return[{label:"Nombre",value:f.name},{label:"Smbolo",value:f.symbol},{label:"Conversiones",value:(m=f.conversions)!=null&&m.length?l(f.conversions):"No hay conversiones"}]};return t?d.jsx(In,{title:"Unidad",fields:u,editPath:`/units/${t}/edit`,backPath:"/units",service:e,id:t}):null}class Gz extends Rn{constructor(e){super(e,"parameters")}async findByName(e){return this.findByField("name",e)}}class Mv extends Dn{constructor(){super(Gz)}async findByName(e){return this.repository.findByName(e)}}function Yz(){const t=new Mv,e=[{header:"Nombre",accessor:"name"},{header:"Valor",accessor:"value"},{header:"Descripcin",accessor:"description",render:n=>n.description||"-"}];return d.jsx(Tn,{columns:e,title:"Parmetros",addPath:"/parameters/new",backPath:"/parameters",service:t})}function IE(){const{id:t}=ze(),[e,n]=A.useState({}),a=new Mv;A.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"value",label:"Valor",type:"text",required:!0},{name:"description",label:"Descripcin",type:"textarea"}];return d.jsx(An,{title:t?"Editar Parmetro":"Nuevo Parmetro",fields:i,initialValues:e,service:a,backPath:"/parameters"})}function Wz(){const{id:t}=ze(),e=new Mv,n=a=>[{label:"Nombre",value:a.name},{label:"Valor",value:a.value},{label:"Descripcin",value:a.description||"-"}];return t?d.jsx(In,{title:"Parmetro",fields:n,editPath:`/parameters/${t}/edit`,backPath:"/parameters",service:e,id:t}):null}class Kz extends Rn{constructor(e){super(e,"purchase-orders")}async findBySupplierId(e){return this.findByField("supplierId",e)}async findByStatus(e){return this.findByField("status",e.toString())}async findByDateRange(e,n){return(await this.findAll()).filter(i=>i.orderDate>=e&&i.orderDate<=n)}}var be=(t=>(t.PENDING="PENDING",t.COMPLETED="COMPLETED",t))(be||{});class ma extends Dn{constructor(){super(Kz)}calculateTotals(e){if(!e.products){e.products=[],e.totalItems=0,e.totalProducts=0;return}e.totalItems=e.products.length,e.totalProducts=e.products.reduce((n,a)=>n+(a.quantity||0),0)}async create(e){return e.status=e.status||be.PENDING,this.calculateTotals(e),super.create(e)}async update(e,n){return this.calculateTotals(n),super.update(e,n)}async findBySupplierId(e){return this.repository.findBySupplierId(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByDateRange(e,n){return this.repository.findByDateRange(e,n)}}function Xz(){const t=new ma,e=new yr,[n,a]=A.useState({});A.useEffect(()=>{(async()=>{const p=(await e.findAll()).reduce((v,y)=>(v[y.id]=y.commercialName,v),{});a(p)})()},[]);const i=f=>{switch(f){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completada";default:return f}},l=f=>{if(!f)return"";try{const m=new Date(f),p=m.getDate().toString().padStart(2,"0"),v=(m.getMonth()+1).toString().padStart(2,"0"),y=m.getFullYear();return`${p}/${v}/${y}`}catch(m){return console.error("Error formatting date:",m),""}},u=[{header:"Proveedor",accessor:"supplierId",render:f=>n[f.supplierId]||"Proveedor no encontrado"},{header:"Fecha",accessor:"orderDate",render:f=>l(f.orderDate)},{header:"Estado",accessor:"status",render:f=>i(f.status)},{header:"Total Productos",accessor:"totalProducts"},{header:"Total Items",accessor:"totalItems"}];return d.jsx(Tn,{columns:u,title:"rdenes de Compra",addPath:"/purchase-orders/new",backPath:"/purchase-orders",service:t})}class Qz extends Rn{constructor(e){super(e,"products")}async findByName(e){return this.findByField("name",e)}async findBySku(e){return this.findByField("sku",e)}async findByState(e){return this.findByField("state",e)}async findBySector(e){return this.findByField("sector",e)}async findByPrimarySupplierId(e){return this.findByField("primarySupplierId",e)}async findByMaterialUnit(e){return this.findByField("materialUnit",e)}async findBySalesUnit(e){return this.findByField("salesUnit",e)}async findByIsForSale(e){return this.findByField("isForSale",e)}async findByIsMaterial(e){return this.findByField("isMaterial",e)}async findByStatus(e){return this.findByField("state",e)}async findBySaleStatus(e){return this.findByField("isForSale",e)}async findByMaterialStatus(e){return this.findByField("isMaterial",e)}async findByDesiredStockBelow(e){const n=pc(hc(this.db,this.dbRef),mc("desiredStock")),a=await go(n);if(!a.exists())return[];const i=a.val();return Object.entries(i).filter(([,l])=>l.desiredStock&&l.desiredStock<e).map(([l,u])=>this.mapDocumentToEntity(u,l))}async findBySalesChannel(e){const n=pc(hc(this.db,this.dbRef),mc("salesChannels"),qC(e)),a=await go(n);if(!a.exists())return[];const i=a.val();return Object.entries(i).filter(([,l])=>{var u;return(u=l.salesChannels)==null?void 0:u.some(f=>f.code===e)}).map(([l,u])=>this.mapDocumentToEntity(u,l))}async findByPriceRange(e,n){const a=pc(hc(this.db,this.dbRef),mc("salePrice")),i=await go(a);if(!i.exists())return[];const l=i.val();return Object.entries(l).filter(([,u])=>u.salePrice>=e&&u.salePrice<=n).map(([u,f])=>this.mapDocumentToEntity(f,u))}async findByStockRange(e,n){const a=pc(hc(this.db,this.dbRef),mc("desiredStock")),i=await go(a);if(!i.exists())return[];const l=i.val();return Object.entries(l).filter(([,u])=>u.desiredStock&&u.desiredStock>=e&&u.desiredStock<=n).map(([u,f])=>this.mapDocumentToEntity(f,u))}}class Ft extends Dn{constructor(){super(Qz)}async findByName(e){return this.repository.findByName(e)}async findBySku(e){return this.repository.findBySku(e)}async findByState(e){return this.repository.findByState(e)}async findBySector(e){return this.repository.findBySector(e)}async findByPrimarySupplierId(e){return this.repository.findByPrimarySupplierId(e)}async findByMaterialUnit(e){return this.repository.findByMaterialUnit(e)}async findBySalesUnit(e){return this.repository.findBySalesUnit(e)}async findByIsForSale(e){return this.repository.findByIsForSale(e)}async findByIsMaterial(e){return this.repository.findByIsMaterial(e)}async findByPriceRange(e,n){return this.repository.findByPriceRange(e,n)}async findByDesiredStockBelow(e){return this.repository.findByDesiredStockBelow(e)}}function OE(){const{id:t}=ze(),[e,n]=A.useState({}),a=new ma;A.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"supplierId",label:"Proveedor",type:"select",required:!0,relatedService:{service:new yr,labelField:"commercialName"}},{name:"orderDate",label:"Fecha",type:"date",required:!0},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:be.PENDING,label:"Pendiente"},{value:be.COMPLETED,label:"Completada"}]},{name:"items",label:"Productos",type:"array",arrayConfig:{columns:[{header:"Producto",accessor:"productId",reference:{field:{name:"productId",label:"Producto",type:"select",relatedService:{service:new Ft,labelField:"name"}},displayField:"name"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"productId",label:"Producto",type:"select",required:!0,relatedService:{service:new Ft,labelField:"name"}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay productos agregados",description:'Haga clic en el botn "Agregar" para comenzar a agregar productos a la orden de compra.'},modalTitles:{add:"Agregar Producto",edit:"Modificar Producto"},addButtonText:"Agregar Producto",editButtonTooltip:"Modificar este producto",deleteButtonTooltip:"Eliminar este producto"}}}];return d.jsx(An,{title:t?"Editar Orden de Compra":"Nueva Orden de Compra",fields:i,initialValues:e,service:a,backPath:"/purchase-orders"})}function Zz(){const{id:t}=ze(),e=new ma,n=new yr,a=new Ft,i=new jt,[l,u]=A.useState({}),[f,m]=A.useState({}),[p,v]=A.useState({});A.useEffect(()=>{(async()=>{const[x,S,N]=await Promise.all([n.findAll(),a.findAll(),i.findAll()]),T=x.reduce((j,L)=>({...j,[L.id]:L.commercialName}),{}),D=S.reduce((j,L)=>({...j,[L.id]:L}),{}),M=N.reduce((j,L)=>({...j,[L.id]:L.name}),{});u(T),m(D),v(M)})()},[]);const y=C=>{switch(C){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completado";default:return C}},b=C=>{const x=[{header:"Producto",accessor:S=>{if(S.productId){const N=f[S.productId];return d.jsx("div",{className:"font-medium",children:(N==null?void 0:N.name)||"Producto no encontrado"})}return"Producto no especificado"}},{header:"Cantidad",accessor:S=>{if(S.productId){const N=f[S.productId],T=N!=null&&N.purchaseUnitId?p[N.purchaseUnitId]:"Unidad no encontrada";return`${S.quantity} ${T}`}return S.quantity}}];return d.jsx(xi,{data:C,columns:x,emptyMessage:"No hay productos"})},_=C=>[{label:"Proveedor",value:l[C.supplierId]||"Proveedor no encontrado"},{label:"Estado",value:y(C.status)},{label:"Fecha",value:new Date(C.orderDate).toLocaleDateString()},{label:"Productos",value:b(C.products)},{label:"Total de Items",value:C.totalItems},{label:"Total de Productos",value:C.totalProducts}];return t?d.jsx(In,{title:"Pedido de Compra",fields:_,editPath:`/purchase-orders/${t}/edit`,backPath:"/purchase-orders",service:e,id:t}):null}class Jz extends Rn{constructor(e){super(e,"customer-orders")}async findByCustomerId(e){return this.findByField("customerId",e)}async findByStatus(e){return this.findByField("status",e.toString())}async findByDateRange(e,n){return(await this.findAll()).filter(i=>i.orderDate>=e&&i.orderDate<=n)}}class pa extends Dn{constructor(){super(Jz)}calculateTotals(e){e.products||(e.products=[]),e.recipes||(e.recipes=[]),e.totalProducts=e.products.length+e.recipes.length,e.totalItems=e.products.reduce((n,a)=>n+(a.quantity||0),0)+e.recipes.reduce((n,a)=>n+(a.quantity||0),0)}async create(e){return e.status=e.status||be.PENDING,this.calculateTotals(e),super.create(e)}async update(e,n){return this.calculateTotals(n),super.update(e,n)}async findByCustomerId(e){return this.repository.findByCustomerId(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByDateRange(e,n){return this.repository.findByDateRange(e,n)}}function e8(){const t=new pa,e=new ba,[n,a]=A.useState({});A.useEffect(()=>{(async()=>{const m=(await e.findAll()).reduce((p,v)=>(p[v.id]=v.name,p),{});a(m)})()},[]);const i=u=>{switch(u){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completada";default:return u}},l=[{header:"Cliente",accessor:"customerId",render:u=>n[u.customerId]||"Cliente no encontrado"},{header:"Fecha",accessor:"orderDate",render:u=>new Date(u.orderDate).toLocaleDateString()},{header:"Estado",accessor:"status",render:u=>i(u.status)},{header:"Total Productos",accessor:"totalProducts"},{header:"Total Items",accessor:"totalItems"}];return d.jsx(Tn,{columns:l,title:"Pedidos de Clientes",addPath:"/customer-orders/new",backPath:"/customer-orders",service:t})}function kE(){const{id:t}=ze(),[e,n]=A.useState({}),a=new pa;A.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"customerId",label:"Cliente",type:"select",required:!0,relatedService:{service:new ba,labelField:"name"}},{name:"orderDate",label:"Fecha",type:"date",required:!0},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:be.PENDING,label:"Pendiente"},{value:be.COMPLETED,label:"Completada"}]},{name:"items",label:"Productos",type:"array",arrayConfig:{columns:[{header:"Producto",accessor:"productId",reference:{field:{name:"productId",label:"Producto",type:"select",relatedService:{service:new Ft,labelField:"name"}},displayField:"name"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"productId",label:"Producto",type:"select",required:!0,relatedService:{service:new Ft,labelField:"name"}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay productos agregados",description:'Haga clic en el botn "Agregar" para comenzar a agregar productos al pedido.'},modalTitles:{add:"Agregar Producto",edit:"Modificar Producto"},addButtonText:"Agregar Producto",editButtonTooltip:"Modificar este producto",deleteButtonTooltip:"Eliminar este producto"}}}];return d.jsx(An,{title:t?"Editar Pedido de Cliente":"Nuevo Pedido de Cliente",fields:i,initialValues:e,service:a,backPath:"/customer-orders"})}class t8 extends Rn{constructor(e){super(e,"recipes")}async findByName(e){return this.findByField("name",e)}}class Cn extends Dn{constructor(){super(t8)}async findByName(e){return this.repository.findByName(e)}async findByType(e){return(await this.repository.findAll()).filter(a=>a.recipeType===e)}async findByPrimaryWorkerId(e){return(await this.repository.findAll()).filter(a=>a.primaryWorkerId===e)}}function n8(){const{id:t}=ze(),e=new pa,n=new ba,a=new Ft,i=new Cn,l=new jt,[u,f]=A.useState({}),[m,p]=A.useState({}),[v,y]=A.useState({}),[b,_]=A.useState({});A.useEffect(()=>{(async()=>{const[D,M,j,L]=await Promise.all([n.findAll(),a.findAll(),i.findAll(),l.findAll()]),O=D.reduce((te,re)=>({...te,[re.id]:re.name}),{}),q=M.reduce((te,re)=>({...te,[re.id]:re}),{}),B=j.reduce((te,re)=>({...te,[re.id]:re}),{}),V=L.reduce((te,re)=>({...te,[re.id]:re.name}),{});f(O),p(q),y(B),_(V)})()},[]);const C=T=>{switch(T){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completado";default:return T}},x=T=>{const D=[{header:"Producto",accessor:M=>{if(M.productId){const j=m[M.productId];return d.jsx("div",{className:"font-medium",children:(j==null?void 0:j.name)||"Producto no encontrado"})}return"Producto no especificado"}},{header:"Cantidad",accessor:M=>{if(M.productId){const j=m[M.productId],L=j!=null&&j.salesUnitId?b[j.salesUnitId]:"Unidad no encontrada";return`${M.quantity} ${L}`}return M.quantity}}];return d.jsx(xi,{data:T,columns:D,emptyMessage:"No hay productos"})},S=T=>{const D=[{header:"Receta",accessor:M=>{const j=v[M.recipeId];return d.jsx("div",{className:"font-medium",children:(j==null?void 0:j.name)||"Receta no encontrada"})}},{header:"Cantidad",accessor:M=>{const j=v[M.recipeId],L=j!=null&&j.yieldUnitId?b[j.yieldUnitId]:"Unidad no encontrada";return`${M.quantity} ${L}`}}];return d.jsx(xi,{data:T,columns:D,emptyMessage:"No hay recetas"})},N=T=>[{label:"Cliente",value:u[T.customerId]||"Cliente no encontrado"},{label:"Estado",value:C(T.status)},{label:"Fecha",value:new Date(T.orderDate).toLocaleDateString()},{label:"Productos",value:x(T.products)},{label:"Recetas",value:S(T.recipes)},{label:"Total de Items",value:T.totalItems},{label:"Total de Productos",value:T.totalProducts}];return t?d.jsx(In,{title:"Pedido de Cliente",fields:N,editPath:`/customer-orders/${t}/edit`,backPath:"/customer-orders",service:e,id:t}):null}class r8 extends Rn{constructor(e){super(e,"production-orders")}async findByResponsibleWorkerId(e){return this.findByField("responsibleWorkerId",e)}async findByStatus(e){return this.findByField("status",e.toString())}async findByRecipeId(e){return(await this.findAll()).filter(a=>a.recipes.some(i=>i.recipeId===e))}async findByDateRange(e,n){return(await this.findAll()).filter(i=>i.orderDate>=e&&i.orderDate<=n)}}class ga extends Dn{constructor(){super(r8)}async create(e){return e.status=e.status||be.PENDING,super.create(e)}async update(e,n){return super.update(e,n)}async findByResponsibleWorkerId(e){return this.repository.findByResponsibleWorkerId(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByDateRange(e,n){return this.repository.findByDateRange(e,n)}}function a8(){const t=new ga,e=new pn,[n,a]=A.useState({});A.useEffect(()=>{(async()=>{const m=(await e.findAll()).reduce((p,v)=>(p[v.id]=v.name,p),{});a(m)})()},[]);const i=u=>{switch(u){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completada";default:return u}},l=[{header:"Trabajador Responsable",accessor:"responsibleWorkerId",render:u=>n[u.responsibleWorkerId]||"Trabajador no encontrado"},{header:"Fecha de Produccin",accessor:"productionDate",render:u=>new Date(u.orderDate).toLocaleDateString()},{header:"Estado",accessor:"status",render:u=>i(u.status)},{header:"Recetas",accessor:"recipes",render:u=>u.recipes.length}];return d.jsx(Tn,{columns:l,title:"rdenes de Produccin",addPath:"/production-orders/new",backPath:"/production-orders",service:t})}function jE(){const{id:t}=ze(),[e,n]=A.useState({}),a=new ga;A.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"responsibleWorkerId",label:"Trabajador Responsable",type:"select",required:!0,relatedService:{service:new pn,labelField:"name"}},{name:"productionDate",label:"Fecha de Produccin",type:"date",required:!0},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:be.PENDING,label:"Pendiente"},{value:be.COMPLETED,label:"Completada"}]},{name:"recipes",label:"Recetas",type:"array",arrayConfig:{columns:[{header:"Receta",accessor:"recipeId",reference:{field:{name:"recipeId",label:"Receta",type:"select",relatedService:{service:new Cn,labelField:"name"}},displayField:"name"}},{header:"Cantidad",accessor:"quantity"},{header:"Ratio",accessor:"ratio"}],form:{fields:[{name:"recipeId",label:"Receta",type:"select",required:!0,relatedService:{service:new Cn,labelField:"name"}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 10"},{name:"ratio",label:"Ratio",type:"number",required:!0,placeholder:"Ej: 1.5"}],emptyState:{title:"No hay recetas agregadas",description:'Haga clic en el botn "Agregar" para comenzar a agregar recetas a la orden de produccin.'},modalTitles:{add:"Agregar Receta",edit:"Modificar Receta"},addButtonText:"Agregar Receta",editButtonTooltip:"Modificar esta receta",deleteButtonTooltip:"Eliminar esta receta"}}}];return d.jsx(An,{title:t?"Editar Orden de Produccin":"Nueva Orden de Produccin",fields:i,initialValues:e,service:a,backPath:"/production-orders"})}function s8(){const{id:t}=ze(),e=new ga,n=new pn,a=new Cn,[i,l]=A.useState({}),[u,f]=A.useState({});A.useEffect(()=>{(async()=>{const[C,x]=await Promise.all([n.findAll(),a.findAll()]),S=C.reduce((T,D)=>(T[D.id]=D.name,T),{}),N=x.reduce((T,D)=>(T[D.id]=D.name,T),{});l(S),f(N)})()},[]);const m=_=>{switch(_){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completada";default:return _}},p=_=>new Date(_).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),v=_=>_!=null&&_.length?d.jsx(d.Fragment,{children:_.map((C,x)=>d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[d.jsx("td",{className:"p-4 align-middle",children:d.jsx("div",{className:"font-medium",children:u[C.recipeId]||"Receta no encontrada"})}),d.jsxs("td",{className:"p-4 align-middle text-muted-foreground",children:["Cantidad: ",C.quantity]})]},x))}):"No hay recetas",y=_=>_!=null&&_.length?d.jsx(d.Fragment,{children:_.map((C,x)=>d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[d.jsx("td",{className:"p-4 align-middle",children:d.jsx("div",{className:"font-medium",children:C.name})}),d.jsxs("td",{className:"p-4 align-middle text-muted-foreground",children:["Valor: ",C.value||"No especificado"]})]},x))}):"No hay ratios definidos",b=_=>{var C,x;return[{label:"Trabajador Responsable",value:i[_.responsibleWorkerId]||"Trabajador no encontrado"},{label:"Fecha de Produccin",value:p(_.orderDate)},{label:"Estado",value:m(_.status)},{label:"Recetas",value:(C=_.recipes)!=null&&C.length?v(_.recipes):"No hay recetas"},{label:"Ratios de Produccin",value:(x=_.ratios)!=null&&x.length?y(_.ratios):"No hay ratios definidos"}]};return t?d.jsx(In,{title:"Orden de Produccin",fields:b,editPath:`/production-orders/${t}/edit`,backPath:"/production-orders",service:e,id:t}):null}var _i=(t=>(t.SALE_RECIPE="sale_recipe",t.INTERNAL_USE="internal_use",t))(_i||{});function i8(){const t=new Cn,e=new jt,[n,a]=A.useState({});A.useEffect(()=>{(async()=>{try{const m=(await e.findAll()).reduce((p,v)=>({...p,[v.id]:v.symbol}),{});a(m)}catch(f){console.error("Error loading units:",f)}})()},[]);const i=u=>{switch(u){case _i.SALE_RECIPE:return"Receta de Venta";case _i.INTERNAL_USE:return"Uso Interno";default:return u}},l=[{header:"Nombre",accessor:"name"},{header:"Tipo",accessor:"recipeType",render:u=>i(u.recipeType)},{header:"Rendimiento",accessor:"yield",render:u=>`${u.yield} ${n[u.yieldUnitId]||""}`},{header:"Materiales",accessor:"materials",render:u=>{var f;return((f=u.materials)==null?void 0:f.length)||0}}];return d.jsx(Tn,{columns:l,title:"Recetas",addPath:"/recipes/new",backPath:"/recipes",service:t})}function ME(){const{id:t}=ze(),[e,n]=A.useState({}),[a,i]=A.useState([]),[l,u]=A.useState({}),[f,m]=A.useState(0),p=new Cn,v=new Ft,y=new jt,b=x=>{if(console.log("====== INICIO CLCULO DE COSTO TOTAL ======"),console.log("Materiales recibidos:",x),!x||x.length===0)return console.log("No hay materiales para calcular"),m(0),n(L=>({...L,cost:0})),0;let S=0;for(const L of x){if(console.log(`
Procesando material:`,L),!L.materialId){console.log(" Material sin ID");continue}const O=_(L.materialId);if(console.log("Info del material encontrada:",O),!O){console.log(" No se encontr info del material");continue}if(!L.quantity){console.log(" Material sin cantidad");continue}const q=O.cost*L.quantity;console.log("Clculo:",`${O.cost}  ${L.quantity} = ${q}`),S+=q}console.log(`
Resumen de costos:`),console.log("Costo total de materiales:",S);const N=S*.05;console.log("Costo por merma (5%):",N);const T=S*.1;console.log("Gastos fijos (10%):",T);const D=S+N+T;console.log("COSTO TOTAL FINAL:",D);const M=e.yield||1,j=D/M;return console.log("Rendimiento:",M),console.log("COSTO UNITARIO:",j),console.log(`====== FIN CLCULO DE COSTO TOTAL ======
`),m(D),n(L=>({...L,cost:j,materials:x})),D};A.useEffect(()=>{y.findAll().then(x=>{const S=x.reduce((N,T)=>(N[T.id]=T.name,N),{});u(S)})},[]),A.useEffect(()=>{t&&p.findById(t).then(x=>{x&&(n(x),b(x.materials||[]))})},[t]),A.useEffect(()=>{Promise.all([v.findAll(),p.findAll()]).then(([x,S])=>{const N=x.filter(D=>D.isMaterial).map(D=>{const M=D.materialUnitId&&l[D.materialUnitId]?l[D.materialUnitId]:"";return{id:D.id,name:D.name,materialType:"Producto",displayName:`P - ${D.name}`,unitName:M,cost:D.materialUnitCost||0,originalData:D}}),T=S.filter(D=>D.id!==t).map(D=>{const M=D.yieldUnitId&&l[D.yieldUnitId]?l[D.yieldUnitId]:"";return{id:D.id,name:D.name,materialType:"Receta",displayName:`R - ${D.name}`,unitName:M,cost:D.cost||0,originalData:D}});i([...N,...T]),e.materials&&b(e.materials)})},[t,l]),A.useEffect(()=>{e.materials&&a.length>0&&b(e.materials)},[a,e.materials]);const _=x=>a.find(S=>S.id===x),C=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"recipeType",label:"Tipo",type:"select",required:!0,options:[{value:_i.SALE_RECIPE,label:"Receta de Venta"},{value:_i.INTERNAL_USE,label:"Uso Interno"}]},{name:"yieldUnitId",label:"Unidad de Rendimiento",type:"select",required:!0,relatedService:{service:new jt,labelField:"name"}},{name:"yield",label:"Rendimiento",type:"number",required:!0,placeholder:"Ej: 1.5",onChange:x=>{if(x===""||x===null||x===void 0)return"";const S=parseFloat(x);return!isNaN(S)&&S>=0?S:""}},{name:"primaryWorkerId",label:"Trabajador Principal",type:"select",required:!0,relatedService:{service:new pn,labelField:"name"}},{name:"notes",label:"Notas",type:"textarea"},{name:"materials",label:"Materiales",type:"array",arrayConfig:{columns:[{header:"Material",accessor:"materialId",render:(x,S)=>{const N=_(x);return N?N.displayName:"N/A"}},{header:"Cantidad",accessor:"quantity",render:(x,S)=>{const N=_(S.materialId);return N&&x?`${x} ${N.unitName}`:x||""}},{header:"Sub Total",accessor:"quantity",render:(x,S)=>{const N=_(S.materialId);return!N||!S.quantity?"":(N.cost*x).toLocaleString("es-UY",{style:"currency",currency:"UYU",currencyDisplay:"symbol",minimumFractionDigits:0,maximumFractionDigits:0})}}],form:{fields:[{name:"materialId",label:"Material",type:"select",required:!0,searchable:!0,options:a.map(x=>({value:x.id,label:`${x.displayName} (${x.cost.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})} por ${x.unitName})`,group:x.materialType==="Producto"?"Productos":"Recetas"})),placeholder:"Buscar material...",isSearchable:!0,isClearable:!0},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 1.5",onChange:x=>{if(x===""||x===null||x===void 0)return"";const S=parseFloat(x);return isNaN(S)||S<0?"":S}}],emptyState:{title:"No hay materiales agregados",description:'Haga clic en el botn "Agregar" para comenzar a agregar materiales a la receta.'},modalTitles:{add:"Agregar Material",edit:"Modificar Material"},addButtonText:"Agregar Material",editButtonTooltip:"Modificar este material",deleteButtonTooltip:"Eliminar este material"}}}];return d.jsx("div",{className:"space-y-4",children:d.jsx(An,{title:t?"Editar Receta":"Nueva Receta",fields:C,initialValues:{...e,materials:e.materials||[]},service:p,backPath:"/recipes",onFieldChange:(x,S)=>{x==="materials"?b(S||[]):x==="yield"&&b(e.materials||[]),n(N=>({...N,[x]:S}))},children:d.jsxs("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Desglose de Costos"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Costo de Materiales:"}),d.jsx("span",{children:(f*.87).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Costo por Merma (5%):"}),d.jsx("span",{children:(f*.05).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Gastos Fijos (10%):"}),d.jsx("span",{children:(f*.1).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Costo Total:"}),d.jsx("span",{children:f.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),d.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[d.jsx("span",{children:"Costo Unitario:"}),d.jsxs("span",{children:[(f/(e.yield||1)).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0}),e.yieldUnitId&&l[e.yieldUnitId]?` / ${l[e.yieldUnitId]}`:""]})]})]})]})})})}function o8(){const{id:t}=ze(),e=new Cn,n=new pn,a=new jt,i=new Ft,[l,u]=A.useState({}),[f,m]=A.useState({}),[p,v]=A.useState({}),[y,b]=A.useState({});A.useEffect(()=>{(async()=>{const[N,T,D,M]=await Promise.all([n.findAll(),a.findAll(),i.findAll(),e.findAll()]),j=N.reduce((B,V)=>({...B,[V.id]:V.name}),{}),L=T.reduce((B,V)=>({...B,[V.id]:V.name}),{}),O=D.reduce((B,V)=>({...B,[V.id]:V}),{}),q=M.reduce((B,V)=>({...B,[V.id]:V}),{});u(j),m(L),v(O),b(q)})()},[]);const _=S=>{switch(S){case _i.SALE_RECIPE:return"Receta de Venta";case _i.INTERNAL_USE:return"Uso Interno";default:return S}},C=S=>{const N=[{header:"Material",accessor:T=>{let D="Material no encontrado";if(T.materialId){const M=p[T.materialId],j=y[T.materialId];M?D=M.name:j&&(D=`R - ${j.name}`)}return d.jsx("div",{className:"font-medium",children:D})}},{header:"Cantidad",accessor:T=>{let D="Unidad no encontrada";if(T.materialId){const M=p[T.materialId],j=y[T.materialId];M?D=M.materialUnitId?f[M.materialUnitId]:"Unidad no encontrada":j&&(D=f[j.yieldUnitId]||"Unidad no encontrada")}return`${T.quantity} ${D}`}}];return d.jsx(xi,{data:S||[],columns:N,emptyMessage:"No hay materiales"})},x=S=>[{label:"Nombre",value:S.name},{label:"Tipo",value:_(S.recipeType)},{label:"Unidad de Rendimiento",value:f[S.yieldUnitId]||"Unidad no encontrada"},{label:"Rendimiento",value:S.yield},{label:"Trabajador Principal",value:l[S.primaryWorkerId]||"Trabajador no encontrado"},{label:"Notas",value:S.notes||"-"},{label:"Materiales",value:C(S.materials)}];return t?d.jsx(In,{title:"Receta",fields:x,editPath:`/recipes/${t}/edit`,backPath:"/recipes",service:e,id:t}):null}var Mo=(t=>(t.ACTIVE="active",t.INACTIVE="inactive",t))(Mo||{}),Hc=(t=>(t.GENERAL="general",t.OTHER="other",t))(Hc||{});function l8(){const t=new Ft,e=[{header:"SKU",accessor:"sku"},{header:"Nombre",accessor:"name"},{header:"Precio de Venta",accessor:"salePrice",render:n=>`$${n.salePrice.toFixed(2)}`},{header:"Estado",accessor:"state",render:n=>n.state===Mo.ACTIVE?"Activo":"Inactivo"},{header:"Tipo",accessor:"isMaterial",render:n=>n.isMaterial&&n.isForSale?"Material y Venta":n.isMaterial?"Material":n.isForSale?"Venta":"N/A"}];return d.jsx(Tn,{columns:e,title:"Productos",addPath:"/products/new",backPath:"/products",service:t})}function PE(){const{id:t}=ze(),[e,n]=A.useState({}),a=new Ft;A.useEffect(()=>{t&&a.findById(t).then(v=>{v&&n(v)})},[t]);const i=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"sku",label:"SKU",type:"text",required:!0},{name:"imageUrl",label:"URL de Imagen",type:"text"},{name:"state",label:"Estado",type:"select",required:!0,options:[{value:Mo.ACTIVE,label:"Activo"},{value:Mo.INACTIVE,label:"Inactivo"}]},{name:"isForSale",label:"Es para Venta?",type:"boolean",required:!0,placeholder:"Marque si el producto es para venta"},{name:"isMaterial",label:"Es Material?",type:"boolean",required:!0,placeholder:"Marque si el producto es un material"}],l=[{name:"purchasePrice",label:"Precio de Compra",type:"number"},{name:"purchaseUnitId",label:"Unidad de Compra",type:"select",relatedService:{service:new jt,labelField:"name"}},{name:"primarySupplierId",label:"Proveedor Principal",type:"select",relatedService:{service:new yr,labelField:"commercialName"}}],u=[{name:"salePrice",label:"Precio de Venta",type:"number",required:!0},{name:"salesUnitId",label:"Unidad de Venta",type:"select",relatedService:{service:new jt,labelField:"name"}},{name:"salesUnitCost",label:"Costo Unitario de Venta",type:"number"},{name:"salesChannels",label:"Canales de Venta",type:"array",arrayConfig:{columns:[{header:"Cdigo",accessor:"code"},{header:"Nombre",accessor:"name"},{header:"Precio de Venta",accessor:"salePrice",render:v=>(v==null?void 0:v.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||""}],form:{fields:[{name:"code",label:"Cdigo",type:"text",required:!0,placeholder:"Ej: TIENDA_1"},{name:"name",label:"Nombre",type:"text",required:!0,placeholder:"Ej: Tienda Principal"},{name:"salePrice",label:"Precio de Venta",type:"number",required:!0,placeholder:"Ej: 1000"}],emptyState:{title:"No hay canales de venta definidos",description:'Haga clic en el botn "Agregar" para comenzar a definir los canales de venta de este producto.'},modalTitles:{add:"Agregar Canal de Venta",edit:"Modificar Canal de Venta"},addButtonText:"Agregar Canal",editButtonTooltip:"Modificar este canal",deleteButtonTooltip:"Eliminar este canal"}}}],f=[{name:"materialName",label:"Nombre del Material",type:"text"},{name:"materialCode",label:"Cdigo del Material",type:"text"},{name:"materialUnitId",label:"Unidad de Material",type:"select",relatedService:{service:new jt,labelField:"name"}},{name:"materialUnitCost",label:"Costo Unitario de Material",type:"number"}],m=[{name:"sector",label:"Sector",type:"select",options:[{value:Hc.GENERAL,label:"General"},{value:Hc.OTHER,label:"Otro"}]},{name:"sectorOrder",label:"Orden en el Sector",type:"number"},{name:"desiredStock",label:"Stock Deseado",type:"number"}],p=[{title:"Informacin General",fields:i},{title:"Informacin de Compra",fields:l},{title:"Informacin de Venta",fields:u,visible:v=>v.isForSale===!0},{title:"Informacin de Material",fields:f,visible:v=>v.isMaterial===!0},{title:"Informacin de Inventario",fields:m}];return d.jsx(An,{title:t?"Editar Producto":"Nuevo Producto",sections:p,initialValues:e,service:a,backPath:"/products"})}function c8(){const{id:t}=ze(),e=new Ft,n=new jt,a=new yr,[i,l]=A.useState({}),[u,f]=A.useState({});A.useEffect(()=>{(async()=>{const[_,C]=await Promise.all([n.findAll(),a.findAll()]),x=_.reduce((N,T)=>({...N,[T.id]:T.name}),{}),S=C.reduce((N,T)=>({...N,[T.id]:T.commercialName}),{});l(x),f(S)})()},[]);const m=b=>{switch(b){case Mo.ACTIVE:return"Activo";case Mo.INACTIVE:return"Inactivo";default:return b}},p=b=>{switch(b){case Hc.GENERAL:return"General";case Hc.OTHER:return"Otro";default:return b}},v=b=>{const _=[{header:"Cdigo",accessor:C=>C.code},{header:"Nombre",accessor:C=>C.name},{header:"Precio de Venta",accessor:C=>C.salePrice.toLocaleString("es-UY",{style:"currency",currency:"UYU"})}];return d.jsx(xi,{data:b,columns:_,emptyMessage:"No hay canales de venta"})},y=b=>{var _,C,x;return[{label:"Nombre",value:b.name},{label:"SKU",value:b.sku},{label:"Estado",value:m(b.state)},{label:"Sector",value:b.sector?p(b.sector):"-"},{label:"Orden en Sector",value:b.sectorOrder||"-"},{label:"Stock Deseado",value:b.desiredStock||"-"},{label:"Precio de Venta",value:b.salePrice.toLocaleString("es-UY",{style:"currency",currency:"UYU"})},{label:"Costo Unitario de Venta",value:((_=b.salesUnitCost)==null?void 0:_.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||"-"},{label:"Costo Unitario de Material",value:((C=b.materialUnitCost)==null?void 0:C.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||"-"},{label:"Precio de Compra",value:((x=b.purchasePrice)==null?void 0:x.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||"-"},{label:"Unidad de Venta",value:b.salesUnitId?i[b.salesUnitId]:"-"},{label:"Unidad de Material",value:b.materialUnitId?i[b.materialUnitId]:"-"},{label:"Unidad de Compra",value:b.purchaseUnitId?i[b.purchaseUnitId]:"-"},{label:"Proveedor Principal",value:b.primarySupplierId?u[b.primarySupplierId]:"-"},{label:"Canales de Venta",value:v(b.salesChannels||[])}]};return t?d.jsx(In,{title:"Producto",fields:y,editPath:`/products/${t}/edit`,backPath:"/products",service:e,id:t}):null}var qc=(t=>(t.PENDING="pending",t.RESOLVED="resolved",t))(qc||{}),wt=(t=>(t.PRODUCTION="production",t.TASK="task",t.INVENTORY="inventory",t))(wt||{});class u8 extends Rn{constructor(e){super(e,"incidents")}async findByType(e){return this.findByField("type",e)}async findByStatus(e){return this.findByField("status",e)}async findByReportedBy(e){return this.findByField("reportedByWorkerId",e)}}class Pv extends Dn{constructor(){super(u8)}async findByType(e){return this.repository.findByType(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByReportedBy(e){return(await this.repository.findAll()).filter(a=>a.reportedByWorkerId===e)}async findByDateRange(e,n){return(await this.repository.findAll()).filter(i=>{const l=new Date(i.createdAt);return l>=e&&l<=n})}async findByTaskId(e){return(await this.repository.findAll()).filter(a=>a.taskId===e)}async findByProductId(e){return(await this.repository.findAll()).filter(a=>a.productId===e)}async findByRecipeId(e){return(await this.repository.findAll()).filter(a=>a.recipeId===e)}}function d8(){const t=new Pv,e=new pn,[n,a]=A.useState({});A.useEffect(()=>{(async()=>{try{const f=await e.findAll(),m={};f.forEach(p=>{m[p.id]=p.name}),a(m)}catch(f){console.error("Error loading worker names:",f)}})()},[]);const i=u=>{switch(u){case wt.PRODUCTION:return"Produccin";case wt.TASK:return"Tarea";case wt.INVENTORY:return"Inventario";default:return u}},l=[{header:"Tipo",accessor:"type",render:u=>i(u.type)},{header:"Descripcin",accessor:"description"},{header:"Reportado Por",accessor:"reportedByWorkerId",render:u=>n[u.reportedByWorkerId]||"Cargando..."},{header:"Estado",accessor:"status",render:u=>u.status===qc.PENDING?"Pendiente":"Resuelto"}];return d.jsx(Tn,{columns:l,title:"Incidentes",addPath:"/incidents/new",backPath:"/incidents",service:t})}function LE(){const{id:t}=ze(),[e,n]=A.useState({}),[a,i]=A.useState(""),l=new Pv;A.useEffect(()=>{t&&l.findById(t).then(y=>{y&&(n(y),i(y.type))})},[t]);const u=y=>{const b=y.target.value;i(b)},f=[{name:"type",label:"Tipo",type:"select",required:!0,options:[{value:wt.PRODUCTION,label:"Produccin"},{value:wt.TASK,label:"Tarea"},{value:wt.INVENTORY,label:"Inventario"}],onChange:u},{name:"reportedByWorkerId",label:"Reportado Por",type:"select",required:!0,relatedService:{service:new pn,labelField:"name"}},{name:"description",label:"Descripcin",type:"textarea",required:!0},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:qc.PENDING,label:"Pendiente"},{value:qc.RESOLVED,label:"Resuelto"}]}],p=(()=>{switch(a){case wt.PRODUCTION:return{name:"recipeId",label:"Receta",type:"select",required:!0,relatedService:{service:new Cn,labelField:"name"}};case wt.TASK:return{name:"taskId",label:"Tarea",type:"select",required:!0,relatedService:{service:new ws,labelField:"name"}};case wt.INVENTORY:return{name:"productId",label:"Producto",type:"select",required:!0,relatedService:{service:new Ft,labelField:"name"}};default:return null}})(),v=p?[...f,p]:f;return d.jsx(An,{title:t?"Editar Incidente":"Nuevo Incidente",fields:v,initialValues:e,service:l,backPath:"/incidents"})}function f8(){const{id:t}=ze(),e=new Pv,n=new pn,a=new ws,i=new Ft,l=new Cn,[u,f]=A.useState(""),[m,p]=A.useState(""),[v,y]=A.useState(""),[b,_]=A.useState("");A.useEffect(()=>{if(!t)return;(async()=>{const T=await e.findById(t);if(T){if(T.reportedByWorkerId){const D=await n.findById(T.reportedByWorkerId);D&&f(D.name)}switch(T.type){case wt.TASK:if(T.taskId){const D=await a.findById(T.taskId);D&&p(D.name)}break;case wt.INVENTORY:if(T.productId){const D=await i.findById(T.productId);D&&y(D.name)}break;case wt.PRODUCTION:if(T.recipeId){const D=await l.findById(T.recipeId);D&&_(D.name)}break}}})()},[t]);const C=N=>{switch(N){case wt.PRODUCTION:return"Produccin";case wt.TASK:return"Tarea";case wt.INVENTORY:return"Inventario";default:return N}},x=N=>{switch(N.type){case wt.TASK:return{label:"Tarea",value:m||"Cargando..."};case wt.INVENTORY:return{label:"Producto",value:v||"Cargando..."};case wt.PRODUCTION:return{label:"Receta",value:b||"Cargando..."};default:return null}},S=N=>{const T=[{label:"Tipo",value:C(N.type)},{label:"Descripcin",value:N.description},{label:"Reportado Por",value:u||"Cargando..."},{label:"Estado",value:N.status===qc.PENDING?"Pendiente":"Resuelto"}],D=x(N);return D&&T.push(D),T};return t?d.jsx(In,{title:"Incidente",fields:S,editPath:`/incidents/${t}/edit`,backPath:"/incidents",service:e,id:t}):null}class h8 extends Rn{constructor(e){super(e,"daily-closures")}async findByDate(e){return this.findByField("date",e.toISOString())}}class Lv extends Dn{constructor(){super(h8)}async findByDate(e){return this.repository.findByDate(e)}async findByDateRange(e,n){return(await this.repository.findAll()).filter(i=>{const l=new Date(i.date);return l>=e&&l<=n})}async findByAccountCode(e){return(await this.repository.findAll()).filter(a=>a.accounts.some(i=>i.accountCode===e))}async findByTransactionCode(e){return(await this.repository.findAll()).filter(a=>{var i;return(i=a.transactions)==null?void 0:i.some(l=>l.transactionCode===e)})}async getTotalsByDate(e){const n=await this.findByDate(e),a={};return n.forEach(i=>{var l;(l=i.transactions)==null||l.forEach(u=>{const f=u.concept;a[f]||(a[f]=0),a[f]+=u.amount})}),a}async getBalanceByDate(e){return(await this.findByDate(e)).reduce((a,i)=>{var l;return a+(((l=i.transactions)==null?void 0:l.reduce((u,f)=>u+f.amount,0))||0)},0)}}function m8(){const t=new Lv,e=[{header:"Fecha",accessor:"date",render:n=>new Date(n.date).toLocaleDateString()},{header:"Total Ingresos",accessor:"totalIncome",render:n=>`$${n.totalIncome.toFixed(2)}`},{header:"Total Gastos",accessor:"totalExpenses",render:n=>`$${n.totalExpenses.toFixed(2)}`},{header:"Diferencia Total",accessor:"totalDifference",render:n=>`$${n.totalDifference.toFixed(2)}`},{header:"Cuentas",accessor:"accounts",render:n=>n.accounts.length},{header:"Transacciones",accessor:"transactions",render:n=>{var a;return((a=n.transactions)==null?void 0:a.length)||0}}];return d.jsx(Tn,{columns:e,title:"Cierres Diarios",addPath:"/daily-closures/new",backPath:"/daily-closures",service:t})}function UE(){const{id:t}=ze(),[e,n]=A.useState({}),a=new Lv;A.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"date",label:"Fecha",type:"date",required:!0},{name:"totalExpenses",label:"Total de Gastos",type:"number",required:!0},{name:"totalIncome",label:"Total de Ingresos",type:"number",required:!0},{name:"totalDifference",label:"Diferencia Total",type:"number",required:!0},{name:"observations",label:"Observaciones",type:"textarea"},{name:"accounts",label:"Cuentas",type:"array",arrayConfig:{columns:[{header:"Nombre",accessor:"name"},{header:"Saldo",accessor:"balance",render:l=>(l==null?void 0:l.toLocaleString("es-CL",{style:"currency",currency:"CLP"}))||"N/A"}],form:{fields:[{name:"name",label:"Nombre",type:"text",required:!0,placeholder:"Ej: Caja Principal"},{name:"balance",label:"Saldo",type:"number",required:!0,placeholder:"Ej: 100000"}],emptyState:{title:"No hay cuentas registradas",description:'Haga clic en el botn "Agregar" para comenzar a registrar las cuentas del cierre diario.'},modalTitles:{add:"Agregar Cuenta",edit:"Modificar Cuenta"},addButtonText:"Agregar Cuenta",editButtonTooltip:"Modificar esta cuenta",deleteButtonTooltip:"Eliminar esta cuenta"}}},{name:"transactions",label:"Transacciones",type:"array",arrayConfig:{columns:[{header:"Descripcin",accessor:"description"},{header:"Monto",accessor:"amount",render:l=>(l==null?void 0:l.toLocaleString("es-CL",{style:"currency",currency:"CLP"}))||"N/A"},{header:"Tipo",accessor:"type"}],form:{fields:[{name:"description",label:"Descripcin",type:"text",required:!0,placeholder:"Ej: Venta de pan"},{name:"amount",label:"Monto",type:"number",required:!0,placeholder:"Ej: 5000"},{name:"type",label:"Tipo",type:"select",required:!0,options:[{value:"income",label:"Ingreso"},{value:"expense",label:"Gasto"}]}],emptyState:{title:"No hay transacciones registradas",description:'Haga clic en el botn "Agregar" para comenzar a registrar las transacciones del cierre diario.'},modalTitles:{add:"Agregar Transaccin",edit:"Modificar Transaccin"},addButtonText:"Agregar Transaccin",editButtonTooltip:"Modificar esta transaccin",deleteButtonTooltip:"Eliminar esta transaccin"}}}];return d.jsx(An,{title:t?"Editar Cierre Diario":"Nuevo Cierre Diario",fields:i,initialValues:e,service:a,backPath:"/daily-closures"})}function p8(){const{id:t}=ze(),e=new Lv,n=l=>new Date(l).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),a=l=>l.toLocaleString("es-CL",{style:"currency",currency:"CLP"}),i=l=>{var u,f;return[{label:"Fecha",value:n(l.date)},{label:"Total Ingresos",value:a(l.totalIncome)},{label:"Total Gastos",value:a(l.totalExpenses)},{label:"Diferencia Total",value:a(l.totalDifference)},{label:"Observaciones",value:l.observations||"-"},{label:"Cantidad de Cuentas",value:((u=l.accounts)==null?void 0:u.length)||0},{label:"Cantidad de Transacciones",value:((f=l.transactions)==null?void 0:f.length)||0}]};return t?d.jsx(In,{title:"Cierre Diario",fields:i,editPath:`/daily-closures/${t}/edit`,backPath:"/daily-closures",service:e,id:t}):null}const g8=()=>{const t=[{name:"Calculadora de Precios",icon:yS,color:"bg-blue-500/10 text-blue-500"},{name:"Frutas y Verduras",icon:eI,color:"bg-green-500/10 text-green-500"},{name:"Actualizacin de Precios",icon:OI,color:"bg-purple-500/10 text-purple-500"}],e=[{name:"Total Productos",value:"1,234",icon:_S,color:"bg-blue-500/10 text-blue-500",description:"Productos registrados"},{name:"Total Pedidos",value:"456",icon:P_,color:"bg-green-500/10 text-green-500",description:"Pedidos procesados"},{name:"Total Compras",value:"789",icon:tg,color:"bg-purple-500/10 text-purple-500",description:"Compras realizadas"},{name:"Total Proveedores",value:"45",icon:WI,color:"bg-orange-500/10 text-orange-500",description:"Proveedores activos"},{name:"Total Clientes",value:"328",icon:ES,color:"bg-pink-500/10 text-pink-500",description:"Clientes registrados"},{name:"Total Empresas",value:"67",icon:gS,color:"bg-indigo-500/10 text-indigo-500",description:"Empresas asociadas"}],n={purchased:[{name:"Tomate",quantity:"500 kg",amount:"$15,000",trend:"+12%"},{name:"Cebolla",quantity:"300 kg",amount:"$9,000",trend:"+8%"},{name:"Papa",quantity:"800 kg",amount:"$12,000",trend:"+15%"}],produced:[{name:"Ensalada Mixta",quantity:"200 u",amount:"$20,000",trend:"+25%"},{name:"Sopa de Verduras",quantity:"150 u",amount:"$18,000",trend:"+10%"},{name:"Pur de Papa",quantity:"180 u",amount:"$15,000",trend:"+18%"}],ordered:[{name:"Ensalada Csar",quantity:"180 u",amount:"$21,600",trend:"+30%"},{name:"Vegetales Mixtos",quantity:"150 u",amount:"$13,500",trend:"+20%"},{name:"Papas Fritas",quantity:"250 u",amount:"$17,500",trend:"+22%"}]};return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:t.map(a=>d.jsx(nt,{className:"backdrop-blur-sm bg-card/80 hover:bg-card/90 transition-colors cursor-pointer",children:d.jsx(pt,{className:"p-6",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:`p-3 rounded-lg ${a.color}`,children:d.jsx(a.icon,{className:"h-6 w-6"})}),d.jsx("h3",{className:"text-lg font-semibold",children:a.name})]})})},a.name))}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:e.map(a=>d.jsx(nt,{className:"backdrop-blur-sm bg-card/80",children:d.jsx(pt,{className:"p-4",children:d.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[d.jsx("div",{className:`p-2 rounded-lg ${a.color} mb-1`,children:d.jsx(a.icon,{className:"h-5 w-5"})}),d.jsx("p",{className:"text-2xl font-bold",children:a.value}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium leading-none",children:a.name}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1 leading-none",children:a.description})]})]})})},a.name))}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs(nt,{className:"backdrop-blur-sm bg-card/80",children:[d.jsx(fn,{children:d.jsx(hn,{className:"text-xl font-semibold",children:"Productos ms Comprados"})}),d.jsx(pt,{className:"space-y-4",children:n.purchased.map((a,i)=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:d.jsx(tg,{className:"h-5 w-5 text-blue-500"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:a.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:a.quantity})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium",children:a.amount}),d.jsx("p",{className:"text-xs text-green-500",children:a.trend})]})]},i))})]}),d.jsxs(nt,{className:"backdrop-blur-sm bg-card/80",children:[d.jsx(fn,{children:d.jsx(hn,{className:"text-xl font-semibold",children:"Productos ms Producidos"})}),d.jsx(pt,{className:"space-y-4",children:n.produced.map((a,i)=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:d.jsx(xS,{className:"h-5 w-5 text-green-500"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:a.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:a.quantity})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium",children:a.amount}),d.jsx("p",{className:"text-xs text-green-500",children:a.trend})]})]},i))})]}),d.jsxs(nt,{className:"backdrop-blur-sm bg-card/80",children:[d.jsx(fn,{children:d.jsx(hn,{className:"text-xl font-semibold",children:"Productos ms Pedidos"})}),d.jsx(pt,{className:"space-y-4",children:n.ordered.map((a,i)=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:d.jsx(P_,{className:"h-5 w-5 text-purple-500"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:a.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:a.quantity})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium",children:a.amount}),d.jsx("p",{className:"text-xs text-green-500",children:a.trend})]})]},i))})]})]})]})},y8=d.jsxs(d.Fragment,{children:[d.jsx(ue,{path:"dashboard",element:d.jsx(g8,{})}),d.jsx(ue,{path:"customers",element:d.jsx(M3,{})}),d.jsx(ue,{path:"customers/new",element:d.jsx(NE,{})}),d.jsx(ue,{path:"customers/:id",element:d.jsx(kz,{})}),d.jsx(ue,{path:"customers/:id/edit",element:d.jsx(NE,{})}),d.jsx(ue,{path:"suppliers",element:d.jsx(Mz,{})}),d.jsx(ue,{path:"suppliers/new",element:d.jsx(TE,{})}),d.jsx(ue,{path:"suppliers/:id",element:d.jsx(Pz,{})}),d.jsx(ue,{path:"suppliers/:id/edit",element:d.jsx(TE,{})}),d.jsx(ue,{path:"workers",element:d.jsx(Bz,{})}),d.jsx(ue,{path:"workers/new",element:d.jsx(RE,{})}),d.jsx(ue,{path:"workers/:id",element:d.jsx(zz,{})}),d.jsx(ue,{path:"workers/:id/edit",element:d.jsx(RE,{})}),d.jsx(ue,{path:"roles",element:d.jsx(Fz,{})}),d.jsx(ue,{path:"roles/new",element:d.jsx(DE,{})}),d.jsx(ue,{path:"roles/:id",element:d.jsx(Hz,{})}),d.jsx(ue,{path:"roles/:id/edit",element:d.jsx(DE,{})}),d.jsx(ue,{path:"units",element:d.jsx(Vz,{})}),d.jsx(ue,{path:"units/new",element:d.jsx(AE,{})}),d.jsx(ue,{path:"units/:id",element:d.jsx($z,{})}),d.jsx(ue,{path:"units/:id/edit",element:d.jsx(AE,{})}),d.jsx(ue,{path:"parameters",element:d.jsx(Yz,{})}),d.jsx(ue,{path:"parameters/new",element:d.jsx(IE,{})}),d.jsx(ue,{path:"parameters/:id",element:d.jsx(Wz,{})}),d.jsx(ue,{path:"parameters/:id/edit",element:d.jsx(IE,{})}),d.jsx(ue,{path:"purchase-orders",element:d.jsx(Xz,{})}),d.jsx(ue,{path:"purchase-orders/new",element:d.jsx(OE,{})}),d.jsx(ue,{path:"purchase-orders/:id",element:d.jsx(Zz,{})}),d.jsx(ue,{path:"purchase-orders/:id/edit",element:d.jsx(OE,{})}),d.jsx(ue,{path:"customer-orders",element:d.jsx(e8,{})}),d.jsx(ue,{path:"customer-orders/new",element:d.jsx(kE,{})}),d.jsx(ue,{path:"customer-orders/:id",element:d.jsx(n8,{})}),d.jsx(ue,{path:"customer-orders/:id/edit",element:d.jsx(kE,{})}),d.jsx(ue,{path:"production-orders",element:d.jsx(a8,{})}),d.jsx(ue,{path:"production-orders/new",element:d.jsx(jE,{})}),d.jsx(ue,{path:"production-orders/:id",element:d.jsx(s8,{})}),d.jsx(ue,{path:"production-orders/:id/edit",element:d.jsx(jE,{})}),d.jsx(ue,{path:"recipes",element:d.jsx(i8,{})}),d.jsx(ue,{path:"recipes/new",element:d.jsx(ME,{})}),d.jsx(ue,{path:"recipes/:id",element:d.jsx(o8,{})}),d.jsx(ue,{path:"recipes/:id/edit",element:d.jsx(ME,{})}),d.jsx(ue,{path:"products",element:d.jsx(l8,{})}),d.jsx(ue,{path:"products/new",element:d.jsx(PE,{})}),d.jsx(ue,{path:"products/:id",element:d.jsx(c8,{})}),d.jsx(ue,{path:"products/:id/edit",element:d.jsx(PE,{})}),d.jsx(ue,{path:"incidents",element:d.jsx(d8,{})}),d.jsx(ue,{path:"incidents/new",element:d.jsx(LE,{})}),d.jsx(ue,{path:"incidents/:id",element:d.jsx(f8,{})}),d.jsx(ue,{path:"incidents/:id/edit",element:d.jsx(LE,{})}),d.jsx(ue,{path:"daily-closures",element:d.jsx(m8,{})}),d.jsx(ue,{path:"daily-closures/new",element:d.jsx(UE,{})}),d.jsx(ue,{path:"daily-closures/:id",element:d.jsx(p8,{})}),d.jsx(ue,{path:"daily-closures/:id/edit",element:d.jsx(UE,{})})]});var HT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},BE=A.createContext&&A.createContext(HT),v8=["attr","size","title"];function b8(t,e){if(t==null)return{};var n=x8(t,e),a,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)a=l[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function x8(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ef.apply(this,arguments)}function zE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Sf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(n),!0).forEach(function(a){_8(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function _8(t,e,n){return e=w8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w8(t){var e=E8(t,"string");return typeof e=="symbol"?e:e+""}function E8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qT(t){return t&&t.map((e,n)=>A.createElement(e.tag,Sf({key:n},e.attr),qT(e.child)))}function mu(t){return e=>A.createElement(S8,Ef({attr:Sf({},t.attr)},e),qT(t.child))}function S8(t){var e=n=>{var{attr:a,size:i,title:l}=t,u=b8(t,v8),f=i||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),A.createElement("svg",Ef({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,u,{className:m,style:Sf(Sf({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&A.createElement("title",null,l),t.children)};return BE!==void 0?A.createElement(BE.Consumer,null,n=>e(n)):e(HT)}function C8(t){return mu({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function ti(t){return mu({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function Xp(t){return mu({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function ni(t){return mu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M475.115 163.781L336 252.309v-68.28c0-18.916-20.931-30.399-36.885-20.248L160 252.309V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h464c13.255 0 24-10.745 24-24V184.029c0-18.917-20.931-30.399-36.885-20.248z"},child:[]}]})(t)}function ri(t){return mu({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}const Gg=()=>{const t=Ct(),[e,n]=A.useState({purchases:0,customerOrders:0,production:0}),[a,i]=A.useState(!0);A.useEffect(()=>{l()},[]);const l=async()=>{try{const f=new pa,m=new ga,p=new ma,[v,y,b]=await Promise.all([f.findByStatus(be.PENDING),m.findByStatus(be.PENDING),p.findByStatus(be.PENDING)]);n({purchases:b.length,customerOrders:v.length,production:y.length})}catch(f){console.error("Error loading order counts:",f)}finally{i(!1)}},u=[{title:"Compras",icon:ri,path:"/mobile/purchases",description:"Gestin de rdenes de compra",count:e.purchases,status:"Pendientes"},{title:"Pedidos",icon:ti,path:"/mobile/orders",description:"Gestin de pedidos de clientes",count:e.customerOrders,status:"Pendientes"},{title:"Produccin",icon:ni,path:"/mobile/production",description:"Control de rdenes de produccin",count:e.production,status:"En Progreso"}];return a?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"p-4 space-y-4",children:d.jsx("div",{className:"grid grid-cols-1 gap-4",children:u.map((f,m)=>d.jsxs(nt,{className:"hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>t(f.path),children:[d.jsxs(fn,{className:"flex flex-row items-center space-y-0 pb-2",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[d.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary/10",children:A.createElement(f.icon,{className:"w-5 h-5 text-primary"})}),d.jsx(hn,{className:"text-xl",children:f.title})]}),f.count>0&&d.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10",children:d.jsx("span",{className:"text-sm font-medium text-primary",children:f.count})})]}),d.jsx(pt,{children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:f.description}),f.count>0&&d.jsxs("p",{className:"text-sm font-medium text-primary",children:[f.count," ",f.status]})]})})]},m))})})},VT=6048e5,N8=864e5,$T=6e4,GT=36e5,FE=Symbol.for("constructDateFrom");function ya(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&FE in t?t[FE](e):t instanceof Date?new t.constructor(e):new Date(e)}function Nn(t,e){return ya(e||t,t)}let T8={};function sh(){return T8}function Vc(t,e){var f,m,p,v;const n=sh(),a=(e==null?void 0:e.weekStartsOn)??((m=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((v=(p=n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,i=Nn(t,e==null?void 0:e.in),l=i.getDay(),u=(l<a?7:0)+l-a;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function Cf(t,e){return Vc(t,{...e,weekStartsOn:1})}function YT(t,e){const n=Nn(t,e==null?void 0:e.in),a=n.getFullYear(),i=ya(n,0);i.setFullYear(a+1,0,4),i.setHours(0,0,0,0);const l=Cf(i),u=ya(n,0);u.setFullYear(a,0,4),u.setHours(0,0,0,0);const f=Cf(u);return n.getTime()>=l.getTime()?a+1:n.getTime()>=f.getTime()?a:a-1}function HE(t){const e=Nn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function R8(t,...e){const n=ya.bind(null,e.find(a=>typeof a=="object"));return e.map(n)}function qE(t,e){const n=Nn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function D8(t,e,n){const[a,i]=R8(n==null?void 0:n.in,t,e),l=qE(a),u=qE(i),f=+l-HE(l),m=+u-HE(u);return Math.round((f-m)/N8)}function A8(t,e){const n=YT(t,e),a=ya(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Cf(a)}function I8(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function O8(t){return!(!I8(t)&&typeof t!="number"||isNaN(+Nn(t)))}function k8(t,e){const n=Nn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const j8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},M8=(t,e,n)=>{let a;const i=j8[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function So(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const P8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},L8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},U8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},B8={date:So({formats:P8,defaultWidth:"full"}),time:So({formats:L8,defaultWidth:"full"}),dateTime:So({formats:U8,defaultWidth:"full"})},z8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},F8=(t,e,n,a)=>z8[t];function Dr(t){return(e,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let i;if(a==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,f=n!=null&&n.width?String(n.width):u;i=t.formattingValues[f]||t.formattingValues[u]}else{const u=t.defaultWidth,f=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[f]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return i[l]}}const H8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},q8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},V8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},G8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Y8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},W8=(t,e)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},K8={ordinalNumber:W8,era:Dr({values:H8,defaultWidth:"wide"}),quarter:Dr({values:q8,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Dr({values:V8,defaultWidth:"wide"}),day:Dr({values:$8,defaultWidth:"wide"}),dayPeriod:Dr({values:G8,defaultWidth:"wide",formattingValues:Y8,defaultFormattingWidth:"wide"})};function Ar(t){return(e,n={})=>{const a=n.width,i=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],l=e.match(i);if(!l)return null;const u=l[0],f=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(f)?Q8(f,y=>y.test(u)):X8(f,y=>y.test(u));let p;p=t.valueCallback?t.valueCallback(m):m,p=n.valueCallback?n.valueCallback(p):p;const v=e.slice(u.length);return{value:p,rest:v}}}function X8(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Q8(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function WT(t){return(e,n={})=>{const a=e.match(t.matchPattern);if(!a)return null;const i=a[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const f=e.slice(i.length);return{value:u,rest:f}}}const Z8=/^(\d+)(th|st|nd|rd)?/i,J8=/\d+/i,eF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tF={any:[/^b/i,/^(a|c)/i]},nF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rF={any:[/1/i,/2/i,/3/i,/4/i]},aF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},iF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uF={ordinalNumber:WT({matchPattern:Z8,parsePattern:J8,valueCallback:t=>parseInt(t,10)}),era:Ar({matchPatterns:eF,defaultMatchWidth:"wide",parsePatterns:tF,defaultParseWidth:"any"}),quarter:Ar({matchPatterns:nF,defaultMatchWidth:"wide",parsePatterns:rF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ar({matchPatterns:aF,defaultMatchWidth:"wide",parsePatterns:sF,defaultParseWidth:"any"}),day:Ar({matchPatterns:iF,defaultMatchWidth:"wide",parsePatterns:oF,defaultParseWidth:"any"}),dayPeriod:Ar({matchPatterns:lF,defaultMatchWidth:"any",parsePatterns:cF,defaultParseWidth:"any"})},dF={code:"en-US",formatDistance:M8,formatLong:B8,formatRelative:F8,localize:K8,match:uF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fF(t,e){const n=Nn(t,e==null?void 0:e.in);return D8(n,k8(n))+1}function hF(t,e){const n=Nn(t,e==null?void 0:e.in),a=+Cf(n)-+A8(n);return Math.round(a/VT)+1}function KT(t,e){var v,y,b,_;const n=Nn(t,e==null?void 0:e.in),a=n.getFullYear(),i=sh(),l=(e==null?void 0:e.firstWeekContainsDate)??((y=(v=e==null?void 0:e.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(b=i.locale)==null?void 0:b.options)==null?void 0:_.firstWeekContainsDate)??1,u=ya((e==null?void 0:e.in)||t,0);u.setFullYear(a+1,0,l),u.setHours(0,0,0,0);const f=Vc(u,e),m=ya((e==null?void 0:e.in)||t,0);m.setFullYear(a,0,l),m.setHours(0,0,0,0);const p=Vc(m,e);return+n>=+f?a+1:+n>=+p?a:a-1}function mF(t,e){var f,m,p,v;const n=sh(),a=(e==null?void 0:e.firstWeekContainsDate)??((m=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(p=n.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,i=KT(t,e),l=ya((e==null?void 0:e.in)||t,0);return l.setFullYear(i,0,a),l.setHours(0,0,0,0),Vc(l,e)}function pF(t,e){const n=Nn(t,e==null?void 0:e.in),a=+Vc(n,e)-+mF(n,e);return Math.round(a/VT)+1}function Ge(t,e){const n=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return n+a}const Wa={y(t,e){const n=t.getFullYear(),a=n>0?n:1-n;return Ge(e==="yy"?a%100:a,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ge(n+1,2)},d(t,e){return Ge(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ge(t.getHours()%12||12,e.length)},H(t,e){return Ge(t.getHours(),e.length)},m(t,e){return Ge(t.getMinutes(),e.length)},s(t,e){return Ge(t.getSeconds(),e.length)},S(t,e){const n=e.length,a=t.getMilliseconds(),i=Math.trunc(a*Math.pow(10,n-3));return Ge(i,e.length)}},fo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},VE={G:function(t,e,n){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const a=t.getFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Wa.y(t,e)},Y:function(t,e,n,a){const i=KT(t,a),l=i>0?i:1-i;if(e==="YY"){const u=l%100;return Ge(u,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):Ge(l,e.length)},R:function(t,e){const n=YT(t);return Ge(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ge(n,e.length)},Q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Ge(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Ge(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,n){const a=t.getMonth();switch(e){case"M":case"MM":return Wa.M(t,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,n){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return Ge(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,n,a){const i=pF(t,a);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ge(i,e.length)},I:function(t,e,n){const a=hF(t);return e==="Io"?n.ordinalNumber(a,{unit:"week"}):Ge(a,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Wa.d(t,e)},D:function(t,e,n){const a=fF(t);return e==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Ge(a,e.length)},E:function(t,e,n){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,n,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Ge(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Ge(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const a=t.getDay(),i=a===0?7:a;switch(e){case"i":return String(i);case"ii":return Ge(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const a=t.getHours();let i;switch(a===12?i=fo.noon:a===0?i=fo.midnight:i=a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const a=t.getHours();let i;switch(a>=17?i=fo.evening:a>=12?i=fo.afternoon:a>=4?i=fo.morning:i=fo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let a=t.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Wa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Wa.H(t,e)},K:function(t,e,n){const a=t.getHours()%12;return e==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Ge(a,e.length)},k:function(t,e,n){let a=t.getHours();return a===0&&(a=24),e==="ko"?n.ordinalNumber(a,{unit:"hour"}):Ge(a,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Wa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Wa.s(t,e)},S:function(t,e){return Wa.S(t,e)},X:function(t,e,n){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return GE(a);case"XXXX":case"XX":return ai(a);case"XXXXX":case"XXX":default:return ai(a,":")}},x:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"x":return GE(a);case"xxxx":case"xx":return ai(a);case"xxxxx":case"xxx":default:return ai(a,":")}},O:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+$E(a,":");case"OOOO":default:return"GMT"+ai(a,":")}},z:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+$E(a,":");case"zzzz":default:return"GMT"+ai(a,":")}},t:function(t,e,n){const a=Math.trunc(+t/1e3);return Ge(a,e.length)},T:function(t,e,n){return Ge(+t,e.length)}};function $E(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),i=Math.trunc(a/60),l=a%60;return l===0?n+String(i):n+String(i)+e+Ge(l,2)}function GE(t,e){return t%60===0?(t>0?"-":"+")+Ge(Math.abs(t)/60,2):ai(t,e)}function ai(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),i=Ge(Math.trunc(a/60),2),l=Ge(a%60,2);return n+i+e+l}const YE=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},XT=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},gF=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return YE(t,e);let l;switch(a){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",YE(a,e)).replace("{{time}}",XT(i,e))},yF={p:XT,P:gF},vF=/^D+$/,bF=/^Y+$/,xF=["D","DD","YY","YYYY"];function _F(t){return vF.test(t)}function wF(t){return bF.test(t)}function EF(t,e,n){const a=SF(t,e,n);if(console.warn(a),xF.includes(t))throw new RangeError(a)}function SF(t,e,n){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const CF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TF=/^'([^]*?)'?$/,RF=/''/g,DF=/[a-zA-Z]/;function dn(t,e,n){var v,y,b,_,C,x,S,N;const a=sh(),i=(n==null?void 0:n.locale)??a.locale??dF,l=(n==null?void 0:n.firstWeekContainsDate)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??a.firstWeekContainsDate??((_=(b=a.locale)==null?void 0:b.options)==null?void 0:_.firstWeekContainsDate)??1,u=(n==null?void 0:n.weekStartsOn)??((x=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:x.weekStartsOn)??a.weekStartsOn??((N=(S=a.locale)==null?void 0:S.options)==null?void 0:N.weekStartsOn)??0,f=Nn(t,n==null?void 0:n.in);if(!O8(f))throw new RangeError("Invalid time value");let m=e.match(NF).map(T=>{const D=T[0];if(D==="p"||D==="P"){const M=yF[D];return M(T,i.formatLong)}return T}).join("").match(CF).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const D=T[0];if(D==="'")return{isToken:!1,value:AF(T)};if(VE[D])return{isToken:!0,value:T};if(D.match(DF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return{isToken:!1,value:T}});i.localize.preprocessor&&(m=i.localize.preprocessor(f,m));const p={firstWeekContainsDate:l,weekStartsOn:u,locale:i};return m.map(T=>{if(!T.isToken)return T.value;const D=T.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&wF(D)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&_F(D))&&EF(D,e,String(t));const M=VE[D[0]];return M(f,D,i.localize,p)}).join("")}function AF(t){const e=t.match(TF);return e?e[1].replace(RF,"'"):t}function tl(t,e){const n=()=>ya(e==null?void 0:e.in,NaN),i=jF(t);let l;if(i.date){const p=MF(i.date,2);l=PF(p.restDateString,p.year)}if(!l||isNaN(+l))return n();const u=+l;let f=0,m;if(i.time&&(f=LF(i.time),isNaN(f)))return n();if(i.timezone){if(m=UF(i.timezone),isNaN(m))return n()}else{const p=new Date(u+f),v=Nn(0,e==null?void 0:e.in);return v.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),v.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),v}return Nn(u+f+m,e==null?void 0:e.in)}const Ld={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},IF=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,OF=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,kF=/^([+-])(\d{2})(?::?(\d{2}))?$/;function jF(t){const e={},n=t.split(Ld.dateTimeDelimiter);let a;if(n.length>2)return e;if(/:/.test(n[0])?a=n[0]:(e.date=n[0],a=n[1],Ld.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Ld.timeZoneDelimiter)[0],a=t.substr(e.date.length,t.length))),a){const i=Ld.timezone.exec(a);i?(e.time=a.replace(i[1],""),e.timezone=i[1]):e.time=a}return e}function MF(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=t.match(n);if(!a)return{year:NaN,restDateString:""};const i=a[1]?parseInt(a[1]):null,l=a[2]?parseInt(a[2]):null;return{year:l===null?i:l*100,restDateString:t.slice((a[1]||a[2]).length)}}function PF(t,e){if(e===null)return new Date(NaN);const n=t.match(IF);if(!n)return new Date(NaN);const a=!!n[4],i=uc(n[1]),l=uc(n[2])-1,u=uc(n[3]),f=uc(n[4]),m=uc(n[5])-1;if(a)return qF(e,f,m)?BF(e,f,m):new Date(NaN);{const p=new Date(0);return!FF(e,l,u)||!HF(e,i)?new Date(NaN):(p.setUTCFullYear(e,l,Math.max(i,u)),p)}}function uc(t){return t?parseInt(t):1}function LF(t){const e=t.match(OF);if(!e)return NaN;const n=Qp(e[1]),a=Qp(e[2]),i=Qp(e[3]);return VF(n,a,i)?n*GT+a*$T+i*1e3:NaN}function Qp(t){return t&&parseFloat(t.replace(",","."))||0}function UF(t){if(t==="Z")return 0;const e=t.match(kF);if(!e)return 0;const n=e[1]==="+"?-1:1,a=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return $F(a,i)?n*(a*GT+i*$T):NaN}function BF(t,e,n){const a=new Date(0);a.setUTCFullYear(t,0,4);const i=a.getUTCDay()||7,l=(e-1)*7+n+1-i;return a.setUTCDate(a.getUTCDate()+l),a}const zF=[31,null,31,30,31,30,31,31,30,31,30,31];function QT(t){return t%400===0||t%4===0&&t%100!==0}function FF(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(zF[e]||(QT(t)?29:28))}function HF(t,e){return e>=1&&e<=(QT(t)?366:365)}function qF(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function VF(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function $F(t,e){return e>=0&&e<=59}const GF={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},YF=(t,e,n)=>{let a;const i=GF[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+a:"hace "+a:a},WF={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},KF={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},XF={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QF={date:So({formats:WF,defaultWidth:"full"}),time:So({formats:KF,defaultWidth:"full"}),dateTime:So({formats:XF,defaultWidth:"full"})},ZF={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},JF={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},eH=(t,e,n,a)=>e.getHours()!==1?JF[t]:ZF[t],tH={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},nH={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},rH={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},aH={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},sH={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},iH={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},oH=(t,e)=>Number(t)+"",lH={ordinalNumber:oH,era:Dr({values:tH,defaultWidth:"wide"}),quarter:Dr({values:nH,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Dr({values:rH,defaultWidth:"wide"}),day:Dr({values:aH,defaultWidth:"wide"}),dayPeriod:Dr({values:sH,defaultWidth:"wide",formattingValues:iH,defaultFormattingWidth:"wide"})},cH=/^(\d+)()?/i,uH=/\d+/i,dH={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},fH={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},hH={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},mH={any:[/1/i,/2/i,/3/i,/4/i]},pH={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},gH={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},yH={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},vH={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},bH={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},xH={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},_H={ordinalNumber:WT({matchPattern:cH,parsePattern:uH,valueCallback:function(t){return parseInt(t,10)}}),era:Ar({matchPatterns:dH,defaultMatchWidth:"wide",parsePatterns:fH,defaultParseWidth:"any"}),quarter:Ar({matchPatterns:hH,defaultMatchWidth:"wide",parsePatterns:mH,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ar({matchPatterns:pH,defaultMatchWidth:"wide",parsePatterns:gH,defaultParseWidth:"any"}),day:Ar({matchPatterns:yH,defaultMatchWidth:"wide",parsePatterns:vH,defaultParseWidth:"any"}),dayPeriod:Ar({matchPatterns:bH,defaultMatchWidth:"any",parsePatterns:xH,defaultParseWidth:"any"})},nl={code:"es",formatDistance:YF,formatLong:QF,formatRelative:eH,localize:lH,match:_H,options:{weekStartsOn:1,firstWeekContainsDate:1}},wH=()=>{const[t,e]=A.useState([]),[n,a]=A.useState([]),[i,l]=A.useState(!0),u=Ct(),f=new ma;A.useEffect(()=>{m()},[]);const m=async()=>{try{const[x,S]=await Promise.all([f.findAll(),new yr().findAll()]),N=x.sort((T,D)=>new Date(D.orderDate).getTime()-new Date(T.orderDate).getTime());e(N),a(S)}catch(x){console.error("Error loading orders:",x)}finally{l(!1)}},p=x=>{try{const S=typeof x=="string"?tl(x):x;return dn(S,"PPP",{locale:nl})}catch(S){return console.error("Error formatting date:",S),"Fecha no disponible"}},v=x=>{switch(x){case be.PENDING:return"text-yellow-500 bg-yellow-500/10";case be.COMPLETED:return"text-green-500 bg-green-500/10";default:return"text-gray-500 bg-gray-500/10"}},y=x=>{switch(x){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completado";default:return x}},b=x=>{if(!x)return"";const S=x.slice(0,3),N=x.slice(-2);return`${S}${N}`.toUpperCase()},_=x=>{const S=n.find(N=>N.id===x);return(S==null?void 0:S.commercialName)||"No asignado"},C=(x,S)=>{const N=document.querySelector('[role="dialog"]');if(N){const T=N.querySelector('button[data-state="open"]');T&&T instanceof HTMLButtonElement&&T.click()}switch(x){case"view":u(`/mobile/purchases/${S.id}/view`);break;case"edit":u(`/mobile/purchases/${S.id}/edit`);break;case"delete":u(`/mobile/purchases/${S.id}/delete`);break}};return i?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(ye,{className:"w-full flex items-center gap-2",onClick:()=>u("/mobile/purchases/new"),children:[d.jsx(ts,{className:"h-4 w-4"}),"Nueva Orden de Compra"]}),d.jsxs("div",{className:"space-y-4",children:[t.map(x=>{var S;return d.jsxs(Xf,{children:[d.jsx(vv,{asChild:!0,children:d.jsx(nt,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:d.jsx(pt,{className:"p-4",children:d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"font-medium",children:["Orden #",b(x.id)]}),d.jsx("span",{className:"text-sm text-muted-foreground",children:p(x.orderDate)})]}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(x.status)}`,children:y(x.status)})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Proveedor:"}),d.jsx("span",{className:"font-medium",children:_(x.supplierId)})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Productos:"}),d.jsx("span",{className:"font-medium",children:((S=x.products)==null?void 0:S.length)||0})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Total:"}),d.jsx("span",{className:"font-medium",children:x.totalItems||0})]})]})]})})})}),d.jsxs(lu,{className:"sm:max-w-[425px]",children:[d.jsx(cu,{children:d.jsxs(uu,{children:["Orden #",b(x.id)]})}),d.jsxs("div",{className:"grid gap-4 py-4",children:[d.jsxs(ye,{variant:"outline",className:"w-full flex items-center gap-2",onClick:()=>C("view",x),children:[d.jsx(Df,{className:"h-4 w-4"}),"Ver Detalles"]}),d.jsxs(ye,{variant:"outline",className:"w-full flex items-center gap-2",onClick:()=>C("edit",x),children:[d.jsx(Bo,{className:"h-4 w-4"}),"Editar"]}),d.jsxs(ye,{variant:"outline",className:"w-full flex items-center gap-2",onClick:()=>{var T;const N=`*Orden de Compra #${b(x.id)}*
Fecha: ${p(x.orderDate)}
Estado: ${y(x.status)}
Proveedor: ${_(x.supplierId)}
Productos: ${((T=x.products)==null?void 0:T.length)||0}
Total: ${x.totalItems||0}`;window.open(`https://wa.me/?text=${encodeURIComponent(N)}`,"_blank")},children:[d.jsx(iy,{className:"h-4 w-4"}),"Enviar por WhatsApp"]}),d.jsxs(ye,{variant:"destructive",className:"w-full flex items-center gap-2",onClick:()=>C("delete",x),children:[d.jsx(zo,{className:"h-4 w-4"}),"Eliminar"]})]})]})]},x.id)}),t.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay rdenes de compra"})})]})]})})},EH=()=>{const{id:t}=ze(),[e,n]=A.useState(null),[a,i]=A.useState([]),[l,u]=A.useState([]),[f,m]=A.useState(!0);A.useEffect(()=>{(async()=>{if(t)try{const[x,S,N]=await Promise.all([new ma().findById(t),new yr().findAll(),new Ft().findAll()]);n(x),i(S),u(N)}catch(x){console.error("Error loading data:",x)}finally{m(!1)}})()},[t]);const p=C=>{try{if(!C)return"Fecha no disponible";let x;if(C instanceof Date)x=C;else if(typeof C=="string")x=tl(C);else if(typeof C=="object"&&"seconds"in C)x=new Date(C.seconds*1e3);else throw new Error("Invalid date format");return isNaN(x.getTime())?"Fecha invlida":dn(x,"PPP",{locale:nl})}catch(x){return console.error("Error formatting date:",x),"Fecha no disponible"}},v=C=>{switch(C){case be.PENDING:return"text-yellow-500 bg-yellow-500/10";case be.COMPLETED:return"text-green-500 bg-green-500/10";default:return"text-gray-500 bg-gray-500/10"}},y=C=>{switch(C){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completado";default:return C}},b=C=>{const x=a.find(S=>S.id===C);return(x==null?void 0:x.commercialName)||"No asignado"},_=C=>{const x=l.find(S=>S.id===C);return(x==null?void 0:x.name)||"Producto no encontrado"};return f?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):e?d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(nt,{children:[d.jsx(fn,{children:d.jsx(hn,{children:"Informacin General"})}),d.jsxs(pt,{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-muted-foreground",children:"Estado"}),d.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${v(e.status)}`,children:y(e.status)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Fecha de Compra"}),d.jsx("span",{children:p(e.orderDate)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Proveedor"}),d.jsx("span",{children:b(e.supplierId)})]})]})]}),e.products&&e.products.length>0&&d.jsxs(nt,{children:[d.jsx(fn,{children:d.jsx(hn,{children:"Productos"})}),d.jsx(pt,{children:d.jsx("div",{className:"space-y-4",children:e.products.map((C,x)=>d.jsx("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"font-medium",children:_(C.productId)}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Cantidad: ",C.quantity]})]})},x))})})]})]}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Orden no encontrada"})})};var Uv="Collapsible",[SH,JH]=Zo(Uv),[CH,Bv]=SH(Uv),ZT=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:a,defaultOpen:i,disabled:l,onOpenChange:u,...f}=t,[m=!1,p]=iu({prop:a,defaultProp:i,onChange:u});return d.jsx(CH,{scope:n,disabled:l,contentId:Yn(),open:m,onOpenToggle:w.useCallback(()=>p(v=>!v),[p]),children:d.jsx($e.div,{"data-state":Fv(m),"data-disabled":l?"":void 0,...f,ref:e})})});ZT.displayName=Uv;var JT="CollapsibleTrigger",eR=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,...a}=t,i=Bv(JT,n);return d.jsx($e.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Fv(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...a,ref:e,onClick:ft(t.onClick,i.onOpenToggle)})});eR.displayName=JT;var zv="CollapsibleContent",tR=w.forwardRef((t,e)=>{const{forceMount:n,...a}=t,i=Bv(zv,t.__scopeCollapsible);return d.jsx(xa,{present:n||i.open,children:({present:l})=>d.jsx(NH,{...a,ref:e,present:l})})});tR.displayName=zv;var NH=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:a,children:i,...l}=t,u=Bv(zv,n),[f,m]=w.useState(a),p=w.useRef(null),v=nn(e,p),y=w.useRef(0),b=y.current,_=w.useRef(0),C=_.current,x=u.open||f,S=w.useRef(x),N=w.useRef(void 0);return w.useEffect(()=>{const T=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(T)},[]),ms(()=>{const T=p.current;if(T){N.current=N.current||{transitionDuration:T.style.transitionDuration,animationName:T.style.animationName},T.style.transitionDuration="0s",T.style.animationName="none";const D=T.getBoundingClientRect();y.current=D.height,_.current=D.width,S.current||(T.style.transitionDuration=N.current.transitionDuration,T.style.animationName=N.current.animationName),m(a)}},[u.open,a]),d.jsx($e.div,{"data-state":Fv(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!x,...l,ref:v,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...t.style},children:x&&i})});function Fv(t){return t?"open":"closed"}var TH=ZT;const Hv=TH,qv=eR,Vv=tR,WE=()=>{var q,B;const{id:t}=ze(),e=Ct(),[n,a]=A.useState(!0),[i,l]=A.useState(!1),[u,f]=A.useState(!1),[m,p]=A.useState([]),[v,y]=A.useState([]),[b,_]=A.useState([]),[C,x]=A.useState(""),[S,N]=A.useState(1),[T,D]=A.useState({orderDate:new Date,status:be.PENDING,supplierId:"",products:[]});A.useEffect(()=>{M()},[t]);const M=async()=>{try{const[V,te,re]=await Promise.all([new yr().findAll(),new Ft().findAll(),new jt().findAll()]);if(p(V),y(te),_(re),t){const le=await new ma().findById(t);le&&D({...le,orderDate:le.orderDate instanceof Date?le.orderDate:new Date(le.orderDate)})}}catch(V){console.error("Error loading data:",V),Ae.error("Error al cargar los datos")}finally{a(!1)}},j=()=>{var te;if(!C){Ae.error("Debe seleccionar un producto");return}if(S<=0){Ae.error("La cantidad debe ser mayor a 0");return}const V=(te=T.products)==null?void 0:te.findIndex(re=>re.productId===C);if(V!==void 0&&V>=0){const re=[...T.products||[]];re[V].quantity+=S,D(ce=>({...ce,products:re}))}else D(re=>({...re,products:[...re.products||[],{productId:C,quantity:S}]}));x(""),N(1)},L=V=>{D(te=>{var re;return{...te,products:(re=te.products)==null?void 0:re.filter((ce,le)=>le!==V)}})},O=async V=>{var te;if(V.preventDefault(),!T.supplierId){Ae.error("Debe seleccionar un proveedor");return}if(!((te=T.products)!=null&&te.length)){Ae.error("Debe agregar al menos un producto");return}l(!0);try{const re=new ma,ce={...T,orderDate:T.orderDate instanceof Date?T.orderDate:new Date(T.orderDate||new Date)};t?(await re.update(t,ce),Ae.success("Orden actualizada correctamente")):(await re.create(ce),Ae.success("Orden creada correctamente")),e("/mobile/purchases")}catch(re){console.error("Error saving order:",re),Ae.error("Error al guardar la orden")}finally{l(!1)}};return n?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("form",{onSubmit:O,className:"p-4 space-y-6 max-w-lg mx-auto",children:[d.jsx(Hv,{open:u,onOpenChange:f,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>f(!u),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-sm font-medium",children:"Informacin General"}),!u&&d.jsx("span",{className:"text-xs text-gray-500",children:T.supplierId?(q=m.find(V=>V.id===T.supplierId))==null?void 0:q.commercialName:"Sin asignar"})]}),d.jsx(qv,{asChild:!0,children:d.jsx(ye,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:u?d.jsx(sy,{className:"h-4 w-4"}):d.jsx(ay,{className:"h-4 w-4"})})})]}),d.jsx(Vv,{children:d.jsxs("div",{className:"p-4 space-y-4 border-t",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Gn,{htmlFor:"orderDate",className:"text-sm text-gray-600",children:"Fecha de Orden"}),d.jsx(Wn,{id:"orderDate",type:"date",className:"h-10",value:T.orderDate instanceof Date?dn(T.orderDate,"yyyy-MM-dd"):dn(new Date(T.orderDate||new Date),"yyyy-MM-dd"),onChange:V=>D(te=>({...te,orderDate:new Date(V.target.value)}))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Gn,{htmlFor:"supplierId",className:"text-sm text-gray-600",children:"Proveedor"}),d.jsxs("select",{id:"supplierId",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:T.supplierId,onChange:V=>D(te=>({...te,supplierId:V.target.value})),children:[d.jsx("option",{value:"",children:"Seleccionar proveedor"}),m.map(V=>d.jsx("option",{value:V.id,children:V.commercialName},V.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Gn,{htmlFor:"status",className:"text-sm text-gray-600",children:"Estado"}),d.jsxs("select",{id:"status",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:T.status,onChange:V=>D(te=>({...te,status:V.target.value})),children:[d.jsx("option",{value:be.PENDING,children:"Pendiente"}),d.jsx("option",{value:be.COMPLETED,children:"Completado"})]})]})]})})]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-lg font-medium",children:"Productos"}),d.jsxs("span",{className:"text-sm text-gray-500",children:[((B=T.products)==null?void 0:B.length)||0," productos"]})]}),d.jsx("div",{className:"grid grid-cols-1 gap-2",children:v.map(V=>{var re,ce;const te=(re=T.products)==null?void 0:re.find(le=>le.productId===V.id);return d.jsx("div",{className:`flex items-center gap-3 p-3 bg-white rounded-lg border ${te?"border-primary ring-1 ring-primary":""}`,children:d.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[d.jsx(hu,{checked:te!==void 0,onCheckedChange:le=>{var de;le?(x(V.id),N(1),j()):L(((de=T.products)==null?void 0:de.findIndex(H=>H.productId===V.id))||0)}}),d.jsx("div",{className:"flex-1",children:d.jsx("div",{className:"font-medium text-sm",children:V.name})}),te&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Wn,{type:"number",min:"1",className:"h-8 w-20 text-center",value:te.quantity,onChange:le=>{const de=Number(le.target.value);if(de>0){const H=[...T.products||[]],ie=H.findIndex(J=>J.productId===V.id);ie>=0&&(H[ie].quantity=de,D(J=>({...J,products:H})))}}}),d.jsx("span",{className:"text-sm text-gray-500",children:(ce=b.find(le=>le.id===V.purchaseUnitId))==null?void 0:ce.symbol})]})]})},V.id)})}),v.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay productos disponibles"})})]}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:d.jsxs("div",{className:"flex flex-col gap-2 max-w-lg mx-auto",children:[d.jsx(ye,{type:"submit",disabled:i,className:"h-11",children:i?"Guardando...":t?"Guardar Cambios":"Crear Orden"}),d.jsx(ye,{type:"button",variant:"outline",onClick:()=>e(-1),disabled:i,className:"h-11",children:"Cancelar"})]})})]})})},RH=()=>{const{id:t}=ze(),e=Ct(),n=async()=>{if(t)try{await new ma().delete(t),e("/mobile/purchases")}catch(i){console.error("Error deleting order:",i)}},a=()=>{e(-1)};return d.jsx("div",{className:"p-4",children:d.jsx(nt,{children:d.jsx(pt,{className:"pt-6",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-center",children:"Est seguro que desea eliminar esta orden de compra?"}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx(ye,{variant:"destructive",onClick:n,className:"w-full",children:"Eliminar"}),d.jsx(ye,{variant:"outline",onClick:a,className:"w-full",children:"Cancelar"})]})]})})})})},DH=()=>{const[t,e]=A.useState([]),[n,a]=A.useState([]),[i,l]=A.useState(!0),u=Ct(),f=new pa;A.useEffect(()=>{m()},[]);const m=async()=>{try{const[x,S]=await Promise.all([f.findAll(),new ba().findAll()]),N=x.sort((T,D)=>{const M=new Date(T.orderDate).getTime();return new Date(D.orderDate).getTime()-M});e(N),a(S)}catch(x){console.error("Error loading orders:",x)}finally{l(!1)}},p=x=>{try{if(!x)return"Fecha no disponible";let S;if(x instanceof Date)S=x;else if(typeof x=="string")S=tl(x);else if(typeof x=="object"&&"seconds"in x)S=new Date(x.seconds*1e3);else throw new Error("Invalid date format");return isNaN(S.getTime())?"Fecha invlida":dn(S,"PPP",{locale:nl})}catch(S){return console.error("Error formatting date:",S),"Fecha no disponible"}},v=x=>{switch(x){case be.PENDING:return"text-yellow-500 bg-yellow-500/10";case be.COMPLETED:return"text-green-500 bg-green-500/10";default:return"text-gray-500 bg-gray-500/10"}},y=x=>{switch(x){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completado";default:return x}},b=x=>{if(!x)return"";const S=x.slice(0,3),N=x.slice(-2);return`${S}${N}`.toUpperCase()},_=x=>{const S=n.find(N=>N.id===x);return(S==null?void 0:S.name)||"No asignado"},C=(x,S)=>{const N=document.querySelector('[role="dialog"]');if(N){const T=N.querySelector('button[data-state="open"]');T&&T instanceof HTMLButtonElement&&T.click()}switch(x){case"view":u(`/mobile/orders/${S.id}/view`);break;case"edit":u(`/mobile/orders/${S.id}/edit`);break;case"delete":u(`/mobile/orders/${S.id}/delete`);break}};return i?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(ye,{className:"w-full flex items-center gap-2",onClick:()=>u("/mobile/orders/new"),children:[d.jsx(ts,{className:"h-4 w-4"}),"Nuevo Pedido"]}),d.jsxs("div",{className:"space-y-4",children:[t.map(x=>{var S,N;return d.jsxs(Xf,{children:[d.jsx(vv,{asChild:!0,children:d.jsx(nt,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:d.jsx(pt,{className:"p-4",children:d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"font-medium",children:["Orden #",b(x.id)]}),d.jsx("span",{className:"text-sm text-muted-foreground",children:p(x.orderDate)})]}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(x.status)}`,children:y(x.status)})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Cliente:"}),d.jsx("span",{className:"font-medium",children:_(x.customerId)})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Productos:"}),d.jsx("span",{className:"font-medium",children:((S=x.products)==null?void 0:S.length)||0})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Recetas:"}),d.jsx("span",{className:"font-medium",children:((N=x.recipes)==null?void 0:N.length)||0})]})]})]})})})}),d.jsxs(lu,{className:"sm:max-w-[425px]",children:[d.jsx(cu,{children:d.jsxs(uu,{children:["Pedido #",b(x.id)]})}),d.jsxs("div",{className:"grid gap-4 py-4",children:[d.jsxs(ye,{variant:"outline",className:"w-full flex items-center gap-2",onClick:()=>C("view",x),children:[d.jsx(Df,{className:"h-4 w-4"}),"Ver Detalles"]}),d.jsxs(ye,{variant:"outline",className:"w-full flex items-center gap-2",onClick:()=>C("edit",x),children:[d.jsx(Bo,{className:"h-4 w-4"}),"Editar"]}),d.jsxs(ye,{variant:"outline",className:"w-full flex items-center gap-2",onClick:()=>{var D,M;const T=`*Pedido #${b(x.id)}*
Fecha: ${p(x.orderDate)}
Estado: ${y(x.status)}
Cliente: ${_(x.customerId)}
Productos: ${((D=x.products)==null?void 0:D.length)||0}
Recetas: ${((M=x.recipes)==null?void 0:M.length)||0}`;window.open(`https://wa.me/?text=${encodeURIComponent(T)}`,"_blank")},children:[d.jsx(iy,{className:"h-4 w-4"}),"Enviar por WhatsApp"]}),d.jsxs(ye,{variant:"destructive",className:"w-full flex items-center gap-2",onClick:()=>C("delete",x),children:[d.jsx(zo,{className:"h-4 w-4"}),"Eliminar"]})]})]})]},x.id)}),t.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay pedidos"})})]})]})})},AH=()=>{const{id:t}=ze(),[e,n]=A.useState(null),[a,i]=A.useState([]),[l,u]=A.useState([]),[f,m]=A.useState([]),[p,v]=A.useState(!0);A.useEffect(()=>{(async()=>{if(t)try{const[T,D,M,j]=await Promise.all([new pa().findById(t),new ba().findAll(),new Ft().findAll(),new Cn().findAll()]);n(T),i(D),u(M),m(j)}catch(T){console.error("Error loading data:",T)}finally{v(!1)}})()},[t]);const y=N=>{try{if(!N)return"Fecha no disponible";let T;if(N instanceof Date)T=N;else if(typeof N=="string")T=tl(N);else if(typeof N=="object"&&"seconds"in N)T=new Date(N.seconds*1e3);else throw new Error("Invalid date format");return isNaN(T.getTime())?"Fecha invlida":dn(T,"PPP",{locale:nl})}catch(T){return console.error("Error formatting date:",T),"Fecha no disponible"}},b=N=>{switch(N){case be.PENDING:return"text-yellow-500 bg-yellow-500/10";case be.COMPLETED:return"text-green-500 bg-green-500/10";default:return"text-gray-500 bg-gray-500/10"}},_=N=>{switch(N){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completado";default:return N}},C=N=>{const T=a.find(D=>D.id===N);return(T==null?void 0:T.name)||"No asignado"},x=N=>{const T=l.find(D=>D.id===N);return(T==null?void 0:T.name)||"Producto no encontrado"},S=N=>{const T=f.find(D=>D.id===N);return(T==null?void 0:T.name)||"Receta no encontrada"};return p?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):e?d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(nt,{children:[d.jsx(fn,{children:d.jsx(hn,{children:"Informacin General"})}),d.jsxs(pt,{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-muted-foreground",children:"Estado"}),d.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${b(e.status)}`,children:_(e.status)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Fecha del Pedido"}),d.jsx("span",{children:y(e.orderDate)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Cliente"}),d.jsx("span",{children:C(e.customerId)})]})]})]}),e.products&&e.products.length>0&&d.jsxs(nt,{children:[d.jsx(fn,{children:d.jsx(hn,{children:"Productos"})}),d.jsx(pt,{children:d.jsx("div",{className:"space-y-4",children:e.products.map((N,T)=>d.jsx("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"font-medium",children:x(N.productId)}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Cantidad: ",N.quantity]})]})},T))})})]}),e.recipes&&e.recipes.length>0&&d.jsxs(nt,{children:[d.jsx(fn,{children:d.jsx(hn,{children:"Recetas"})}),d.jsx(pt,{children:d.jsx("div",{className:"space-y-4",children:e.recipes.map((N,T)=>d.jsx("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"font-medium",children:S(N.recipeId)}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Cantidad: ",N.quantity]})]})},T))})})]})]}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Pedido no encontrado"})})},KE=()=>{var H,ie,J;const{id:t}=ze(),e=Ct(),[n,a]=A.useState(!0),[i,l]=A.useState(!1),[u,f]=A.useState(!1),[m,p]=A.useState([]),[v,y]=A.useState([]),[b,_]=A.useState([]),[C,x]=A.useState([]),[S,N]=A.useState(""),[T,D]=A.useState(""),[M,j]=A.useState(1),[L,O]=A.useState(1),[q,B]=A.useState({orderDate:new Date,status:be.PENDING,customerId:"",products:[],recipes:[]});A.useEffect(()=>{V()},[t]);const V=async()=>{try{const[X,I,$,z]=await Promise.all([new ba().findAll(),new Ft().findAll(),new Cn().findAll(),new jt().findAll()]);if(p(X),y(I),_($),x(z),t){const K=await new pa().findById(t);K&&B({...K,orderDate:K.orderDate instanceof Date?K.orderDate:new Date(K.orderDate)})}}catch(X){console.error("Error loading data:",X),Ae.error("Error al cargar los datos")}finally{a(!1)}},te=()=>{var I;if(!S){Ae.error("Debe seleccionar un producto");return}if(M<=0){Ae.error("La cantidad debe ser mayor a 0");return}const X=(I=q.products)==null?void 0:I.findIndex($=>$.productId===S);if(X!==void 0&&X>=0){const $=[...q.products||[]];$[X].quantity+=M,B(z=>({...z,products:$}))}else B($=>({...$,products:[...$.products||[],{productId:S,quantity:M}]}));N(""),j(1)},re=()=>{var I;if(!T){Ae.error("Debe seleccionar una receta");return}if(L<=0){Ae.error("La cantidad debe ser mayor a 0");return}const X=(I=q.recipes)==null?void 0:I.findIndex($=>$.recipeId===T);if(X!==void 0&&X>=0){const $=[...q.recipes||[]];$[X].quantity+=L,B(z=>({...z,recipes:$}))}else B($=>({...$,recipes:[...$.recipes||[],{recipeId:T,quantity:L}]}));D(""),O(1)},ce=X=>{B(I=>{var $;return{...I,products:($=I.products)==null?void 0:$.filter((z,W)=>W!==X)}})},le=X=>{B(I=>{var $;return{...I,recipes:($=I.recipes)==null?void 0:$.filter((z,W)=>W!==X)}})},de=async X=>{var I,$;if(X.preventDefault(),!q.customerId){Ae.error("Debe seleccionar un cliente");return}if(!((I=q.products)!=null&&I.length)&&!(($=q.recipes)!=null&&$.length)){Ae.error("Debe agregar al menos un producto o receta");return}l(!0);try{const z=new pa,W={...q,orderDate:q.orderDate instanceof Date?q.orderDate:new Date(q.orderDate||new Date)};t?(await z.update(t,W),Ae.success("Pedido actualizado correctamente")):(await z.create(W),Ae.success("Pedido creado correctamente")),e("/mobile/orders")}catch(z){console.error("Error saving order:",z),Ae.error("Error al guardar el pedido")}finally{l(!1)}};return n?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("form",{onSubmit:de,className:"p-4 space-y-6 max-w-lg mx-auto",children:[d.jsx(Hv,{open:u,onOpenChange:f,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>f(!u),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-sm font-medium",children:"Informacin General"}),!u&&d.jsx("span",{className:"text-xs text-gray-500",children:q.customerId?(H=m.find(X=>X.id===q.customerId))==null?void 0:H.name:"Sin asignar"})]}),d.jsx(qv,{asChild:!0,children:d.jsx(ye,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:u?d.jsx(sy,{className:"h-4 w-4"}):d.jsx(ay,{className:"h-4 w-4"})})})]}),d.jsx(Vv,{children:d.jsxs("div",{className:"p-4 space-y-4 border-t",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Gn,{htmlFor:"orderDate",className:"text-sm text-gray-600",children:"Fecha del Pedido"}),d.jsx(Wn,{id:"orderDate",type:"date",className:"h-10",value:(()=>{try{if(q.orderDate instanceof Date)return dn(q.orderDate,"yyyy-MM-dd");const X=q.orderDate?new Date(q.orderDate):new Date;return isNaN(X.getTime())?dn(new Date,"yyyy-MM-dd"):dn(X,"yyyy-MM-dd")}catch(X){return console.error("Error formatting date:",X),dn(new Date,"yyyy-MM-dd")}})(),onChange:X=>B(I=>({...I,orderDate:new Date(X.target.value)}))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Gn,{htmlFor:"customerId",className:"text-sm text-gray-600",children:"Cliente"}),d.jsxs("select",{id:"customerId",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:q.customerId,onChange:X=>B(I=>({...I,customerId:X.target.value})),children:[d.jsx("option",{value:"",children:"Seleccionar cliente"}),m.map(X=>d.jsx("option",{value:X.id,children:X.name},X.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Gn,{htmlFor:"status",className:"text-sm text-gray-600",children:"Estado"}),d.jsxs("select",{id:"status",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:q.status,onChange:X=>B(I=>({...I,status:X.target.value})),children:[d.jsx("option",{value:be.PENDING,children:"Pendiente"}),d.jsx("option",{value:be.COMPLETED,children:"Completado"})]})]})]})})]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-lg font-medium",children:"Productos y Recetas"}),d.jsxs("span",{className:"text-sm text-gray-500",children:[(((ie=q.products)==null?void 0:ie.length)||0)+(((J=q.recipes)==null?void 0:J.length)||0)," items"]})]}),d.jsx("div",{className:"grid grid-cols-1 gap-2",children:[...b.map(X=>({...X,type:"recipe"})),...v.map(X=>({...X,type:"product"}))].map(X=>{var z,W,K,se;const I=X.type==="recipe",$=I?(z=q.recipes)==null?void 0:z.find(ne=>ne.recipeId===X.id):(W=q.products)==null?void 0:W.find(ne=>ne.productId===X.id);return d.jsx("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border",children:d.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[d.jsx(hu,{checked:$!==void 0,onCheckedChange:ne=>{var ge,fe;ne?I?(D(X.id),re()):(N(X.id),te()):I?le(((ge=q.recipes)==null?void 0:ge.findIndex(Ce=>Ce.recipeId===X.id))||0):ce(((fe=q.products)==null?void 0:fe.findIndex(Ce=>Ce.productId===X.id))||0)}}),d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-medium text-sm",children:X.name}),d.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${I?"bg-blue-500/10 text-blue-500":"bg-purple-500/10 text-purple-500"}`,children:I?"Receta":"Producto"})]})}),$&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Wn,{type:"number",min:"1",className:"h-8 w-20 text-center",value:$.quantity,onChange:ne=>{const ge=Number(ne.target.value);if(ge>0)if(I){const fe=[...q.recipes||[]],Ce=fe.findIndex(Ne=>Ne.recipeId===X.id);Ce>=0&&(fe[Ce].quantity=ge,B(Ne=>({...Ne,recipes:fe})))}else{const fe=[...q.products||[]],Ce=fe.findIndex(Ne=>Ne.productId===X.id);Ce>=0&&(fe[Ce].quantity=ge,B(Ne=>({...Ne,products:fe})))}}}),d.jsx("span",{className:"text-sm text-gray-500",children:I?(K=C.find(ne=>ne.id===X.yieldUnitId))==null?void 0:K.symbol:(se=C.find(ne=>ne.id===X.salesUnitId))==null?void 0:se.symbol})]})]})},`${X.type}-${X.id}`)})}),b.length===0&&v.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay items disponibles"})})]}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:d.jsxs("div",{className:"flex flex-col gap-2 max-w-lg mx-auto",children:[d.jsx(ye,{type:"submit",disabled:i,className:"h-11",children:i?"Guardando...":t?"Guardar Cambios":"Crear Pedido"}),d.jsx(ye,{type:"button",variant:"outline",onClick:()=>e(-1),disabled:i,className:"h-11",children:"Cancelar"})]})})]})})},IH=()=>{const{id:t}=ze(),e=Ct(),n=async()=>{if(t)try{await new pa().delete(t),e("/mobile/orders")}catch(i){console.error("Error deleting order:",i)}},a=()=>{e(-1)};return d.jsx("div",{className:"p-4",children:d.jsx(nt,{children:d.jsx(pt,{className:"pt-6",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-center",children:"Est seguro que desea eliminar este pedido?"}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx(ye,{variant:"destructive",onClick:n,className:"w-full",children:"Eliminar"}),d.jsx(ye,{variant:"outline",onClick:a,className:"w-full",children:"Cancelar"})]})]})})})})},OH=()=>{const[t,e]=A.useState([]),[n,a]=A.useState(!0),[i,l]=A.useState([]),u=Ct(),f=new ga,m=new pn;A.useEffect(()=>{p(),v()},[]);const p=async()=>{try{const N=(await f.findAll()).sort((T,D)=>{const M=T.orderDate instanceof Date?T.orderDate:new Date(T.orderDate);return(D.orderDate instanceof Date?D.orderDate:new Date(D.orderDate)).getTime()-M.getTime()});e(N)}catch(S){console.error("Error loading orders:",S)}finally{a(!1)}},v=async()=>{try{const S=await m.findAll();l(S)}catch(S){console.error("Error loading workers:",S)}},y=S=>{try{if(!S)return"Fecha no disponible";let N;if(S instanceof Date)N=S;else if(typeof S=="string")N=tl(S);else if(typeof S=="object"&&"seconds"in S)N=new Date(S.seconds*1e3);else throw new Error("Invalid date format");return isNaN(N.getTime())?"Fecha invlida":dn(N,"PPP",{locale:nl})}catch(N){return console.error("Error formatting date:",N),"Fecha no disponible"}},b=S=>{switch(S){case be.PENDING:return"text-yellow-500 bg-yellow-500/10";case be.COMPLETED:return"text-green-500 bg-green-500/10";default:return"text-gray-500 bg-gray-500/10"}},_=S=>{switch(S){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completado";default:return S}},C=S=>{if(!S)return"";const N=S.slice(0,3),T=S.slice(-2);return`${N}${T}`.toUpperCase()},x=(S,N)=>{const T=document.querySelector('[role="dialog"]');if(T){const D=T.querySelector('button[data-state="open"]');D&&D instanceof HTMLButtonElement&&D.click()}switch(S){case"view":u(`/mobile/production/${N.id}/view`);break;case"edit":u(`/mobile/production/${N.id}/edit`);break;case"delete":u(`/mobile/production/${N.id}/delete`);break}};return n?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(ye,{className:"w-full flex items-center gap-2",onClick:()=>u("/mobile/production/new"),children:[d.jsx(ts,{className:"h-4 w-4"}),"Nueva Orden de Produccin"]}),d.jsxs("div",{className:"space-y-4",children:[t.map(S=>{var N,T,D;return d.jsxs(Xf,{children:[d.jsx(vv,{asChild:!0,children:d.jsx(nt,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:d.jsx(pt,{className:"p-4",children:d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"font-medium",children:["Orden #",S.consecutive||C(S.id)]}),d.jsx("span",{className:"text-sm text-muted-foreground",children:y(S.orderDate)})]}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(S.status)}`,children:_(S.status)})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Responsable:"}),d.jsx("span",{className:"font-medium",children:((N=i.find(M=>M.id===S.responsibleWorkerId))==null?void 0:N.name)||"No asignado"})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Recetas:"}),d.jsx("span",{className:"font-medium",children:((T=S.recipes)==null?void 0:T.length)||0})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Total:"}),d.jsx("span",{className:"font-medium",children:((D=S.recipes)==null?void 0:D.reduce((M,j)=>M+(j.quantity||0),0))||0})]})]})]})})})}),d.jsxs(lu,{className:"sm:max-w-[425px]",children:[d.jsx(cu,{children:d.jsxs(uu,{children:["Orden #",C(S.id)]})}),d.jsxs("div",{className:"grid gap-4 py-4",children:[d.jsxs(ye,{variant:"outline",className:"w-full flex items-center gap-2",onClick:()=>x("view",S),children:[d.jsx(Df,{className:"h-4 w-4"}),"Ver Detalles"]}),d.jsxs(ye,{variant:"outline",className:"w-full flex items-center gap-2",onClick:()=>x("edit",S),children:[d.jsx(Bo,{className:"h-4 w-4"}),"Editar"]}),d.jsxs(ye,{variant:"outline",className:"w-full flex items-center gap-2",onClick:()=>{var j,L,O;const M=`*Orden de Produccin #${S.consecutive||C(S.id)}*
Fecha: ${y(S.orderDate)}
Estado: ${_(S.status)}
Responsable: ${((j=i.find(q=>q.id===S.responsibleWorkerId))==null?void 0:j.name)||"No asignado"}
Recetas: ${((L=S.recipes)==null?void 0:L.length)||0}
Total: ${((O=S.recipes)==null?void 0:O.reduce((q,B)=>q+(B.quantity||0),0))||0}`;window.open(`https://wa.me/?text=${encodeURIComponent(M)}`,"_blank")},children:[d.jsx(iy,{className:"h-4 w-4"}),"Enviar por WhatsApp"]}),d.jsxs(ye,{variant:"destructive",className:"w-full flex items-center gap-2",onClick:()=>x("delete",S),children:[d.jsx(zo,{className:"h-4 w-4"}),"Eliminar"]})]})]})]},S.id)}),t.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay rdenes de produccin"})})]})]})})},kH=()=>{var b;const{id:t}=ze();Ct();const[e,n]=A.useState(null),[a,i]=A.useState({}),[l,u]=A.useState({}),[f,m]=A.useState(!0);A.useEffect(()=>{(async()=>{if(t)try{const C=new ga,x=new pn,S=new Cn,[N,T,D]=await Promise.all([C.findById(t),x.findAll(),S.findAll()]);n(N),i(T.reduce((M,j)=>({...M,[j.id]:j.name}),{})),u(D.reduce((M,j)=>({...M,[j.id]:j.name}),{}))}catch(C){console.error("Error loading data:",C)}finally{m(!1)}})()},[t]);const p=_=>{try{if(!_)return"Fecha no disponible";let C;if(_ instanceof Date)C=_;else if(typeof _=="string")C=tl(_);else if(typeof _=="object"&&"seconds"in _)C=new Date(_.seconds*1e3);else throw new Error("Invalid date format");return isNaN(C.getTime())?"Fecha invlida":dn(C,"PPP",{locale:nl})}catch(C){return console.error("Error formatting date:",C),"Fecha no disponible"}},v=_=>{switch(_){case be.PENDING:return"text-yellow-500 bg-yellow-500/10";case be.COMPLETED:return"text-green-500 bg-green-500/10";default:return"text-gray-500 bg-gray-500/10"}},y=_=>{switch(_){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completado";default:return _}};return f?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):e?d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(nt,{children:[d.jsx(fn,{children:d.jsx(hn,{children:"Informacin General"})}),d.jsxs(pt,{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-muted-foreground",children:"Estado"}),d.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${v(e.status)}`,children:y(e.status)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Fecha de Produccin"}),d.jsx("span",{children:p(e.orderDate)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Responsable"}),d.jsx("span",{children:a[e.responsibleWorkerId]||"No asignado"})]})]})]}),d.jsxs(nt,{children:[d.jsx(fn,{children:d.jsx(hn,{children:"Recetas"})}),d.jsx(pt,{children:d.jsxs("div",{className:"space-y-4",children:[(b=e.recipes)==null?void 0:b.map((_,C)=>d.jsx("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"font-medium",children:l[_.recipeId]||"Receta no encontrada"}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Cantidad: ",_.quantity]})]})},C)),(!e.recipes||e.recipes.length===0)&&d.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No hay recetas asignadas"})]})})]})]}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Orden no encontrada"})})},jH=()=>{const{id:t}=ze(),e=Ct(),[n,a]=A.useState(null),[i,l]=A.useState(!0),[u,f]=A.useState(!1),m=new ga;A.useEffect(()=>{(async()=>{if(t)try{const b=await m.findById(t);a(b)}catch(b){console.error("Error loading order:",b),Ae.error("Error al cargar la orden")}finally{l(!1)}})()},[t]);const p=async()=>{if(t)try{f(!0),await m.delete(t),Ae.success("Orden eliminada correctamente"),e("/mobile/production")}catch(y){console.error("Error deleting order:",y),Ae.error("Error al eliminar la orden")}finally{f(!1)}},v=y=>{if(!y)return"";const b=y.slice(0,3),_=y.slice(-2);return`${b}${_}`.toUpperCase()};return i?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):n?d.jsx("div",{className:"p-4",children:d.jsxs(nt,{children:[d.jsx(fn,{children:d.jsx(hn,{className:"text-center text-red-500",children:"Ests seguro de eliminar esta orden?"})}),d.jsx(pt,{className:"space-y-4",children:d.jsxs("p",{className:"text-center text-muted-foreground",children:["Esta accin no se puede deshacer. Se eliminar la Orden #",n.consecutive||v(n.id)," y todos sus datos asociados."]})}),d.jsxs(MS,{className:"flex flex-col gap-2",children:[d.jsx(ye,{variant:"destructive",className:"w-full",onClick:p,disabled:u,children:u?"Eliminando...":"S, eliminar"}),d.jsx(ye,{variant:"outline",className:"w-full",onClick:()=>e(-1),disabled:u,children:"Cancelar"})]})]})}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Orden no encontrada"})})},XE=()=>{var L;const{id:t}=ze(),e=Ct(),[n,a]=A.useState(!0),[i,l]=A.useState(!1),[u,f]=A.useState(!1),[m,p]=A.useState([]),[v,y]=A.useState([]),[b,_]=A.useState([]),[C,x]=A.useState(new Set),[S,N]=A.useState({orderDate:(()=>{const O=new Date;return O.setDate(O.getDate()+1),O})(),status:be.PENDING,responsibleWorkerId:"",recipes:[]});A.useEffect(()=>{T()},[t]);const T=async()=>{var O;try{const[q,B,V]=await Promise.all([new pn().findAll(),new Cn().findAll(),new jt().findAll()]);if(p(q),y(B),_(V),t){const re=await new ga().findById(t);if(re){N({...re,orderDate:re.orderDate instanceof Date?re.orderDate:new Date(re.orderDate)});const ce=new Set((O=re.recipes)==null?void 0:O.map(le=>le.recipeId));x(ce)}}}catch(q){console.error("Error loading data:",q),Ae.error("Error al cargar los datos")}finally{a(!1)}},D=async O=>{if(O.preventDefault(),C.size===0){Ae.error("Debe seleccionar al menos una receta");return}l(!0);try{const q=new ga,B={...S,orderDate:S.orderDate instanceof Date?S.orderDate:new Date(S.orderDate||new Date)};t?(await q.update(t,B),Ae.success("Orden actualizada correctamente")):(await q.create(B),Ae.success("Orden creada correctamente")),e("/mobile/production")}catch(q){console.error("Error saving order:",q),Ae.error("Error al guardar la orden")}finally{l(!1)}},M=(O,q)=>{N(B=>({...B,recipes:[...(B.recipes||[]).filter(V=>V.recipeId!==O),...q>0?[{recipeId:O,quantity:q}]:[]]}))},j=O=>{x(q=>{const B=new Set(q);return B.has(O)?(B.delete(O),M(O,0)):B.add(O),B})};return n?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("form",{onSubmit:D,className:"p-4 space-y-6 max-w-lg mx-auto",children:[d.jsx(Hv,{open:u,onOpenChange:f,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>f(!u),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-sm font-medium",children:"Informacin General"}),!u&&d.jsx("span",{className:"text-xs text-gray-500",children:S.responsibleWorkerId?(L=m.find(O=>O.id===S.responsibleWorkerId))==null?void 0:L.name:"Sin asignar"})]}),d.jsx(qv,{asChild:!0,children:d.jsx(ye,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:u?d.jsx(sy,{className:"h-4 w-4"}):d.jsx(ay,{className:"h-4 w-4"})})})]}),d.jsx(Vv,{children:d.jsxs("div",{className:"p-4 space-y-4 border-t",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Gn,{htmlFor:"orderDate",className:"text-sm text-gray-600",children:"Fecha de Orden"}),d.jsx(Wn,{id:"orderDate",type:"date",className:"h-10",value:S.orderDate instanceof Date?dn(S.orderDate,"yyyy-MM-dd"):dn(new Date(S.orderDate||new Date),"yyyy-MM-dd"),onChange:O=>N(q=>({...q,orderDate:new Date(O.target.value)}))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Gn,{htmlFor:"responsibleWorkerId",className:"text-sm text-gray-600",children:"Responsable"}),d.jsxs("select",{id:"responsibleWorkerId",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:S.responsibleWorkerId,onChange:O=>N(q=>({...q,responsibleWorkerId:O.target.value})),children:[d.jsx("option",{value:"",children:"Seleccionar responsable"}),m.map(O=>d.jsx("option",{value:O.id,children:O.name},O.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Gn,{htmlFor:"status",className:"text-sm text-gray-600",children:"Estado"}),d.jsxs("select",{id:"status",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:S.status,onChange:O=>N(q=>({...q,status:O.target.value})),children:[d.jsx("option",{value:"",children:"Seleccionar estado"}),Object.values(be).map(O=>d.jsx("option",{value:O,children:O},O))]})]})]})})]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-lg font-medium",children:"Recetas"}),d.jsxs("span",{className:"text-sm text-gray-500",children:[C.size," seleccionadas"]})]}),d.jsx("div",{className:"grid grid-cols-1 gap-3",children:v.map(O=>{var V,te,re;const q=C.has(O.id),B=((te=(V=S.recipes)==null?void 0:V.find(ce=>ce.recipeId===O.id))==null?void 0:te.quantity)||"";return d.jsx("div",{className:`flex items-center gap-3 p-3 bg-white rounded-lg border ${q?"border-primary":"border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[d.jsx(hu,{checked:q,onCheckedChange:()=>j(O.id)}),d.jsx("div",{className:"flex-1 font-medium text-sm cursor-pointer",onClick:()=>j(O.id),children:O.name}),q&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Wn,{type:"number",min:"1",className:"w-20 h-9 text-sm text-center",placeholder:"Cant.",value:B,onChange:ce=>M(O.id,parseInt(ce.target.value)||0)}),d.jsx("span",{className:"text-sm text-gray-500",children:(re=b.find(ce=>ce.id===O.yieldUnitId))==null?void 0:re.symbol})]})]})},O.id)})})]}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:d.jsxs("div",{className:"flex flex-col gap-2 max-w-lg mx-auto",children:[d.jsx(ye,{type:"submit",disabled:i||C.size===0,className:"h-11",children:i?"Guardando...":t?"Guardar Cambios":"Crear Orden"}),d.jsx(ye,{type:"button",variant:"outline",onClick:()=>e(-1),disabled:i,className:"h-11",children:"Cancelar"})]})})]})})},MH=d.jsxs(d.Fragment,{children:[d.jsx(ue,{path:"/mobile",element:d.jsx(Gg,{})}),d.jsx(ue,{path:"/mobile/dashboard",element:d.jsx(Gg,{})}),d.jsx(ue,{path:"/mobile/purchases",element:d.jsx(wH,{})}),d.jsx(ue,{path:"/mobile/purchases/new",element:d.jsx(WE,{})}),d.jsx(ue,{path:"/mobile/purchases/:id/view",element:d.jsx(EH,{})}),d.jsx(ue,{path:"/mobile/purchases/:id/edit",element:d.jsx(WE,{})}),d.jsx(ue,{path:"/mobile/purchases/:id/delete",element:d.jsx(RH,{})}),d.jsx(ue,{path:"/mobile/orders",element:d.jsx(DH,{})}),d.jsx(ue,{path:"/mobile/orders/new",element:d.jsx(KE,{})}),d.jsx(ue,{path:"/mobile/orders/:id/view",element:d.jsx(AH,{})}),d.jsx(ue,{path:"/mobile/orders/:id/edit",element:d.jsx(KE,{})}),d.jsx(ue,{path:"/mobile/orders/:id/delete",element:d.jsx(IH,{})}),d.jsx(ue,{path:"/mobile/production",element:d.jsx(OH,{})}),d.jsx(ue,{path:"/mobile/production/new",element:d.jsx(XE,{})}),d.jsx(ue,{path:"/mobile/production/:id/view",element:d.jsx(kH,{})}),d.jsx(ue,{path:"/mobile/production/:id/edit",element:d.jsx(XE,{})}),d.jsx(ue,{path:"/mobile/production/:id/delete",element:d.jsx(jH,{})})]}),QE=[{label:"Administracin",icon:M_,submenu:[{label:"Clientes",path:"/customers",icon:ES},{label:"Proveedores",path:"/suppliers",icon:gS},{label:"Colaboradores",path:"/workers",icon:pI},{label:"Roles",path:"/roles",icon:UI},{label:"Unidades",path:"/units",icon:jI},{label:"Parmetros",path:"/parameters",icon:M_},{label:"Incidentes",path:"/incidents",icon:bS}]},{label:"Operacin",icon:VI,submenu:[{label:"Compras",path:"/purchase-orders",icon:tg},{label:"Pedidos",path:"/customer-orders",icon:wn},{label:"Produccin",path:"/production-orders",icon:xS},{label:"Cierres Diarios",path:"/daily-closures",icon:yS}]},{label:"Inventario",icon:_S,submenu:[{label:"Productos",path:"/products",icon:rI},{label:"Recetas",path:"/recipes",icon:lI}]}],PH=({children:t})=>{const e=Ct(),[n,a]=w.useState(!1),[i,l]=w.useState(null),[u,f]=w.useState(document.documentElement.classList.contains("dark")),m=()=>{const b=!u;f(b),b?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")},p=()=>{localStorage.removeItem("token"),e("/login",{replace:!0})},v=b=>{l(i===b?null:b)},y=()=>{a(!1),l(null)};return d.jsxs("div",{className:"min-h-screen bg-background",onClick:()=>l(null),children:[d.jsx("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:d.jsx("div",{className:"absolute -top-[40rem] left-1/2 -z-10 transform -translate-x-1/2",children:d.jsx("div",{className:"aspect-[1200/800] w-[80rem] bg-gradient-to-tr from-primary/20 to-primary-foreground/20 opacity-30 blur-3xl"})})}),d.jsxs("nav",{className:"sticky top-0 z-40 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex h-16 items-center justify-between",children:[d.jsxs(oa,{to:"/dashboard",className:"flex items-center space-x-3 cursor-pointer",onClick:y,children:[d.jsx("img",{src:$C,alt:"Logo",className:"h-8 w-8 rounded-lg object-cover"}),d.jsx("span",{className:"text-xl font-bold",children:"Sistema de Gestin Operativa"})]}),d.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[d.jsx("div",{className:"flex items-center gap-1",children:QE.map((b,_)=>d.jsxs("div",{className:"relative group px-3",children:[d.jsxs("button",{onClick:C=>{C.stopPropagation(),v(_)},className:"flex items-center space-x-2 text-sm font-medium transition-colors hover:text-primary py-2",children:[b.icon&&d.jsx(b.icon,{className:"h-4 w-4"}),d.jsx("span",{children:b.label})]}),b.submenu&&i===_&&d.jsx("div",{className:"absolute right-0 top-full w-56 pt-2 z-50",onClick:C=>C.stopPropagation(),children:d.jsx(nt,{className:"p-2 shadow-lg",children:d.jsx("nav",{className:"grid gap-1",children:b.submenu.map((C,x)=>d.jsxs(oa,{to:C.path||"#",onClick:y,className:"flex w-full items-center space-x-2 rounded-md p-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground cursor-pointer",children:[C.icon&&d.jsx(C.icon,{className:"h-4 w-4"}),d.jsx("span",{children:C.label})]},x))})})})]},_))}),d.jsxs("div",{className:"flex items-center space-x-2 border-l border-border/40 pl-4 ml-2",children:[d.jsx(ye,{variant:"ghost",size:"icon",onClick:m,className:"rounded-full",children:u?d.jsx(ng,{className:"h-5 w-5"}):d.jsx(eg,{className:"h-5 w-5"})}),d.jsx(ye,{variant:"ghost",size:"icon",onClick:p,className:"rounded-full",children:d.jsx(j_,{className:"h-5 w-5"})})]})]}),d.jsxs("div",{className:"flex md:hidden items-center space-x-2",children:[d.jsx(ye,{variant:"ghost",size:"icon",onClick:m,className:"rounded-full",children:u?d.jsx(ng,{className:"h-5 w-5"}):d.jsx(eg,{className:"h-5 w-5"})}),d.jsx(ye,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>a(!n),children:n?d.jsx(SS,{className:"h-6 w-6"}):d.jsx(CI,{className:"h-6 w-6"})})]})]})}),n&&d.jsx("div",{className:"md:hidden border-t border-border/40",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[QE.map((b,_)=>d.jsxs("div",{className:"py-2",children:[d.jsxs("button",{onClick:C=>{C.stopPropagation(),v(_)},className:"flex items-center space-x-2 font-medium mb-1 w-full text-left",children:[b.icon&&d.jsx(b.icon,{className:"h-4 w-4"}),d.jsx("span",{children:b.label})]}),b.submenu&&i===_&&d.jsx("div",{className:"pl-4 space-y-1",children:b.submenu.map((C,x)=>d.jsxs(oa,{to:C.path||"#",onClick:y,className:"flex items-center space-x-2 py-2 text-sm text-muted-foreground hover:text-primary cursor-pointer",children:[C.icon&&d.jsx(C.icon,{className:"h-4 w-4"}),d.jsx("span",{children:C.label})]},x))})]},_)),d.jsx("div",{className:"pt-4 border-t border-border/40",children:d.jsxs(ye,{variant:"ghost",className:"w-full justify-start text-sm text-muted-foreground hover:text-primary",onClick:p,children:[d.jsx(j_,{className:"h-4 w-4 mr-2"}),"Cerrar sesin"]})})]})})]}),d.jsx("main",{className:"py-6",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsx("div",{className:"fade-in",children:t})})})]})},LH=({children:t})=>{const e=pr(),n=Ct(),a=e.pathname==="/mobile"||e.pathname==="/mobile/dashboard",l=(()=>{const u=e.pathname;return a?{title:"Inicio",icon:Xp,showBack:!1,action:null}:u.includes("/mobile/production")?u.includes("/new")?{title:"Nueva Produccin",icon:ni,showBack:!0,action:()=>null,actionIcon:wn}:u.includes("/edit")?{title:"Editar Produccin",icon:ni,showBack:!0,action:()=>null,actionIcon:wn}:u.includes("/view")?{title:"Ver Produccin",icon:ni,showBack:!0,action:()=>null,actionIcon:wn}:u.includes("/delete")?{title:"Eliminar Produccin",icon:ni,showBack:!0,action:()=>null,actionIcon:wn}:{title:"Producciones",icon:ni,showBack:!1,action:()=>n("/mobile/production/new"),actionIcon:ts}:u.includes("/mobile/purchases")?u.includes("/new")?{title:"Nueva Compra",icon:ri,showBack:!0,action:()=>null,actionIcon:wn}:u.includes("/edit")?{title:"Editar Compra",icon:ri,showBack:!0,action:()=>null,actionIcon:wn}:u.includes("/view")?{title:"Ver Compra",icon:ri,showBack:!0,action:()=>null,actionIcon:wn}:u.includes("/delete")?{title:"Eliminar Compra",icon:ri,showBack:!0,action:()=>null,actionIcon:wn}:{title:"Compras",icon:ri,showBack:!1,action:()=>n("/mobile/purchases/new"),actionIcon:ts}:u.includes("/mobile/orders")?u.includes("/new")?{title:"Nuevo Pedido",icon:ti,showBack:!0,action:()=>null,actionIcon:wn}:u.includes("/edit")?{title:"Editar Pedido",icon:ti,showBack:!0,action:()=>null,actionIcon:wn}:u.includes("/view")?{title:"Ver Pedido",icon:ti,showBack:!0,action:()=>null,actionIcon:wn}:u.includes("/delete")?{title:"Eliminar Pedido",icon:ti,showBack:!0,action:()=>null,actionIcon:wn}:{title:"Pedidos",icon:ti,showBack:!1,action:()=>n("/mobile/orders/new"),actionIcon:ts}:{title:"SGO",icon:Xp,showBack:!1,action:null}})();return d.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[d.jsx("div",{className:"h-[env(safe-area-inset-top)] bg-background"}),d.jsx("header",{className:Ie("sticky top-0 z-40 w-full bg-background/80 backdrop-blur-xl","transition-all duration-200 ease-in-out","border-b border-border/40"),children:d.jsxs("div",{className:"flex items-center justify-between px-4 h-14",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[l.showBack&&d.jsx(ye,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>n(-1),children:d.jsx(C8,{className:"h-4 w-4"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[A.createElement(l.icon,{className:Ie("h-5 w-5",e.pathname.includes("/mobile/production")?"text-primary":"",e.pathname.includes("/mobile/purchases")?"text-primary":"",e.pathname.includes("/mobile/orders")?"text-primary":"",a?"text-primary":"")}),d.jsx("h1",{className:"text-lg font-medium",children:l.title})]})]}),l.action&&l.actionIcon&&d.jsx(ye,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:l.action,children:A.createElement(l.actionIcon,{className:"h-5 w-5"})})]})}),d.jsx("main",{className:"flex-1 overflow-y-auto",children:a?d.jsx(Gg,{}):d.jsx(ey,{})}),d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-t border-border/40",children:d.jsxs("div",{className:"flex justify-around items-center h-14",children:[d.jsxs(ye,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${a?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile"),children:[d.jsx(Xp,{className:"h-5 w-5"}),d.jsx("span",{className:"text-[10px] font-medium",children:"Inicio"}),a&&d.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]}),d.jsxs(ye,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${e.pathname.includes("/mobile/purchases")?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile/purchases"),children:[d.jsx(ri,{className:"h-5 w-5"}),d.jsx("span",{className:"text-[10px] font-medium",children:"Compras"}),e.pathname.includes("/mobile/purchases")&&d.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]}),d.jsxs(ye,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${e.pathname.includes("/mobile/orders")?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile/orders"),children:[d.jsx(ti,{className:"h-5 w-5"}),d.jsx("span",{className:"text-[10px] font-medium",children:"Pedidos"}),e.pathname.includes("/mobile/orders")&&d.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]}),d.jsxs(ye,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${e.pathname.includes("/mobile/production")?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile/production"),children:[d.jsx(ni,{className:"h-5 w-5"}),d.jsx("span",{className:"text-[10px] font-medium",children:"Produccin"}),e.pathname.includes("/mobile/production")&&d.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]})]})}),d.jsx("div",{className:"h-[calc(env(safe-area-inset-bottom)+3.5rem)]"})]})};class UH extends A.Component{constructor(){super(...arguments);Nr(this,"resizeObserver",null);Nr(this,"state",{isMobile:window.innerWidth<=768})}componentDidMount(){this.resizeObserver=new ResizeObserver(n=>{for(const a of n){const l=a.contentRect.width<=768;this.state.isMobile!==l&&this.setState({isMobile:l},()=>{const u=l?"/mobile":"/dashboard";this.props.navigate(u)})}}),this.resizeObserver.observe(document.body)}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}render(){const{isMobile:n}=this.state,a=n?LH:PH;return d.jsx(lS,{children:d.jsxs(ue,{element:d.jsx(a,{children:d.jsx(ey,{})}),children:[n&&MH,!n&&y8,d.jsx(ue,{path:"*",element:d.jsx(Jg,{to:n?"/mobile":"/dashboard",replace:!0})})]})})}}const BH=()=>{const t=Ct();return d.jsx(UH,{navigate:t})},zH=()=>d.jsx("div",{className:"fixed inset-0 bg-gray-50 dark:bg-gray-900 z-50 flex items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Cargando..."})]})}),FH=({children:t})=>{const e=pr(),[n,a]=A.useState(!0),[i,l]=A.useState(null);return A.useEffect(()=>{let u=!0;console.log("RequireAuth - Setting up auth listener");const f=gc.onAuthStateChanged(m=>{console.log("RequireAuth - Auth state changed:",{email:m==null?void 0:m.email,uid:m==null?void 0:m.uid,isAuthenticated:!!m}),u&&(l(m),a(!1))});return()=>{u=!1,f()}},[]),n?(console.log("RequireAuth - Loading..."),d.jsx(zH,{})):i?(console.log("RequireAuth - User authenticated, rendering content"),t||d.jsx(ey,{})):(console.log("RequireAuth - No user, redirecting to login"),d.jsx(Jg,{to:"/login",state:{from:e.pathname},replace:!0}))},HH=()=>{A.useEffect(()=>{new yf},[]);const t=window.innerWidth<=768;return d.jsx(z2,{basename:"/nrd-sgo",children:d.jsxs(lS,{children:[d.jsx(ue,{path:"login",element:d.jsx(k3,{})}),d.jsx(ue,{element:d.jsx(FH,{}),children:d.jsx(ue,{path:"/*",element:d.jsx(BH,{})})}),d.jsx(ue,{path:"",element:d.jsx(Jg,{to:"/dashboard",replace:!0})})]})})};function qH(){return d.jsxs(d.Fragment,{children:[d.jsx(HH,{}),d.jsx(O3,{richColors:!0,position:"top-right",closeButton:!0,duration:4e3})]})}class VH extends w.Component{constructor(){super(...arguments);Nr(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,a){console.error("Error caught by error boundary:",n,a)}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:d.jsx("div",{className:"max-w-md w-full space-y-8",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(bS,{className:"h-12 w-12 text-red-500 mb-4"}),d.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Algo sali mal"}),d.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Ha ocurrido un error inesperado. Por favor, intente recargar la pgina."}),d.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Recargar pgina"}),!1]})})}):this.props.children}}CA.createRoot(document.getElementById("root")).render(d.jsx(A.StrictMode,{children:d.jsx(VH,{children:d.jsx(qH,{})})}));
//# sourceMappingURL=index-D8J1o25Q.js.map
