var hA=Object.defineProperty;var mA=(t,e,n)=>e in t?hA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var zt=(t,e,n)=>mA(t,typeof e!="symbol"?e+"":e,n);function pA(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(s,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function Gg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fp={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function gA(){if(y_)return Jl;y_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var f in i)f!=="key"&&(l[f]=i[f])}else l=i;return i=l.ref,{$$typeof:t,type:s,key:u,ref:i!==void 0?i:null,props:l}}return Jl.Fragment=e,Jl.jsx=n,Jl.jsxs=n,Jl}var v_;function yA(){return v_||(v_=1,fp.exports=gA()),fp.exports}var d=yA(),hp={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function vA(){if(b_)return Te;b_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function C(M,U,L){this.props=M,this.context=U,this.refs=S,this.updater=L||x}C.prototype.isReactComponent={},C.prototype.setState=function(M,U){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,U,"setState")},C.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function N(){}N.prototype=C.prototype;function T(M,U,L){this.props=M,this.context=U,this.refs=S,this.updater=L||x}var R=T.prototype=new N;R.constructor=T,E(R,C.prototype),R.isPureReactComponent=!0;var I=Array.isArray,O={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function k(M,U,L,V,K,Z){return L=Z.ref,{$$typeof:t,type:M,key:U,ref:L!==void 0?L:null,props:Z}}function Y(M,U){return k(M.type,U,void 0,void 0,void 0,M.props)}function P(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function $(M){var U={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(L){return U[L]})}var se=/\/+/g;function Q(M,U){return typeof M=="object"&&M!==null&&M.key!=null?$(""+M.key):U.toString(36)}function ae(){}function re(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ae,ae):(M.status="pending",M.then(function(U){M.status==="pending"&&(M.status="fulfilled",M.value=U)},function(U){M.status==="pending"&&(M.status="rejected",M.reason=U)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function oe(M,U,L,V,K){var Z=typeof M;(Z==="undefined"||Z==="boolean")&&(M=null);var ee=!1;if(M===null)ee=!0;else switch(Z){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(M.$$typeof){case t:case e:ee=!0;break;case v:return ee=M._init,oe(ee(M._payload),U,L,V,K)}}if(ee)return K=K(M),ee=V===""?"."+Q(M,0):V,I(K)?(L="",ee!=null&&(L=ee.replace(se,"$&/")+"/"),oe(K,U,L,"",function(xe){return xe})):K!=null&&(P(K)&&(K=Y(K,L+(K.key==null||M&&M.key===K.key?"":(""+K.key).replace(se,"$&/")+"/")+ee)),U.push(K)),1;ee=0;var fe=V===""?".":V+":";if(I(M))for(var he=0;he<M.length;he++)V=M[he],Z=fe+Q(V,he),ee+=oe(V,U,L,Z,K);else if(he=b(M),typeof he=="function")for(M=he.call(M),he=0;!(V=M.next()).done;)V=V.value,Z=fe+Q(V,he++),ee+=oe(V,U,L,Z,K);else if(Z==="object"){if(typeof M.then=="function")return oe(re(M),U,L,V,K);throw U=String(M),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ee}function F(M,U,L){if(M==null)return M;var V=[],K=0;return oe(M,V,"","",function(Z){return U.call(L,Z,K++)}),V}function le(M){if(M._status===-1){var U=M._result;U=U(),U.then(function(L){(M._status===0||M._status===-1)&&(M._status=1,M._result=L)},function(L){(M._status===0||M._status===-1)&&(M._status=2,M._result=L)}),M._status===-1&&(M._status=0,M._result=U)}if(M._status===1)return M._result.default;throw M._result}var te=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function de(){}return Te.Children={map:F,forEach:function(M,U,L){F(M,function(){U.apply(this,arguments)},L)},count:function(M){var U=0;return F(M,function(){U++}),U},toArray:function(M){return F(M,function(U){return U})||[]},only:function(M){if(!P(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Te.Component=C,Te.Fragment=n,Te.Profiler=i,Te.PureComponent=T,Te.StrictMode=s,Te.Suspense=m,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Te.act=function(){throw Error("act(...) is not supported in production builds of React.")},Te.cache=function(M){return function(){return M.apply(null,arguments)}},Te.cloneElement=function(M,U,L){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var V=E({},M.props),K=M.key,Z=void 0;if(U!=null)for(ee in U.ref!==void 0&&(Z=void 0),U.key!==void 0&&(K=""+U.key),U)!B.call(U,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&U.ref===void 0||(V[ee]=U[ee]);var ee=arguments.length-2;if(ee===1)V.children=L;else if(1<ee){for(var fe=Array(ee),he=0;he<ee;he++)fe[he]=arguments[he+2];V.children=fe}return k(M.type,K,void 0,void 0,Z,V)},Te.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Te.createElement=function(M,U,L){var V,K={},Z=null;if(U!=null)for(V in U.key!==void 0&&(Z=""+U.key),U)B.call(U,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(K[V]=U[V]);var ee=arguments.length-2;if(ee===1)K.children=L;else if(1<ee){for(var fe=Array(ee),he=0;he<ee;he++)fe[he]=arguments[he+2];K.children=fe}if(M&&M.defaultProps)for(V in ee=M.defaultProps,ee)K[V]===void 0&&(K[V]=ee[V]);return k(M,Z,void 0,void 0,null,K)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(M){return{$$typeof:f,render:M}},Te.isValidElement=P,Te.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:le}},Te.memo=function(M,U){return{$$typeof:p,type:M,compare:U===void 0?null:U}},Te.startTransition=function(M){var U=O.T,L={};O.T=L;try{var V=M(),K=O.S;K!==null&&K(L,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(de,te)}catch(Z){te(Z)}finally{O.T=U}},Te.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Te.use=function(M){return O.H.use(M)},Te.useActionState=function(M,U,L){return O.H.useActionState(M,U,L)},Te.useCallback=function(M,U){return O.H.useCallback(M,U)},Te.useContext=function(M){return O.H.useContext(M)},Te.useDebugValue=function(){},Te.useDeferredValue=function(M,U){return O.H.useDeferredValue(M,U)},Te.useEffect=function(M,U){return O.H.useEffect(M,U)},Te.useId=function(){return O.H.useId()},Te.useImperativeHandle=function(M,U,L){return O.H.useImperativeHandle(M,U,L)},Te.useInsertionEffect=function(M,U){return O.H.useInsertionEffect(M,U)},Te.useLayoutEffect=function(M,U){return O.H.useLayoutEffect(M,U)},Te.useMemo=function(M,U){return O.H.useMemo(M,U)},Te.useOptimistic=function(M,U){return O.H.useOptimistic(M,U)},Te.useReducer=function(M,U,L){return O.H.useReducer(M,U,L)},Te.useRef=function(M){return O.H.useRef(M)},Te.useState=function(M){return O.H.useState(M)},Te.useSyncExternalStore=function(M,U,L){return O.H.useSyncExternalStore(M,U,L)},Te.useTransition=function(){return O.H.useTransition()},Te.version="19.0.0",Te}var x_;function Sf(){return x_||(x_=1,hp.exports=vA()),hp.exports}var _=Sf();const A=Gg(_),bA=pA({__proto__:null,default:A},[_]);var mp={exports:{}},ec={},pp={exports:{}},gp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function xA(){return __||(__=1,function(t){function e(F,le){var te=F.length;F.push(le);e:for(;0<te;){var de=te-1>>>1,M=F[de];if(0<i(M,le))F[de]=le,F[te]=M,te=de;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var le=F[0],te=F.pop();if(te!==le){F[0]=te;e:for(var de=0,M=F.length,U=M>>>1;de<U;){var L=2*(de+1)-1,V=F[L],K=L+1,Z=F[K];if(0>i(V,te))K<M&&0>i(Z,V)?(F[de]=Z,F[K]=te,de=K):(F[de]=V,F[L]=te,de=L);else if(K<M&&0>i(Z,te))F[de]=Z,F[K]=te,de=K;else break e}}return le}function i(F,le){var te=F.sortIndex-le.sortIndex;return te!==0?te:F.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],p=[],v=1,y=null,b=3,x=!1,E=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(F){for(var le=n(p);le!==null;){if(le.callback===null)s(p);else if(le.startTime<=F)s(p),le.sortIndex=le.expirationTime,e(m,le);else break;le=n(p)}}function I(F){if(S=!1,R(F),!E)if(n(m)!==null)E=!0,re();else{var le=n(p);le!==null&&oe(I,le.startTime-F)}}var O=!1,B=-1,k=5,Y=-1;function P(){return!(t.unstable_now()-Y<k)}function $(){if(O){var F=t.unstable_now();Y=F;var le=!0;try{e:{E=!1,S&&(S=!1,N(B),B=-1),x=!0;var te=b;try{t:{for(R(F),y=n(m);y!==null&&!(y.expirationTime>F&&P());){var de=y.callback;if(typeof de=="function"){y.callback=null,b=y.priorityLevel;var M=de(y.expirationTime<=F);if(F=t.unstable_now(),typeof M=="function"){y.callback=M,R(F),le=!0;break t}y===n(m)&&s(m),R(F)}else s(m);y=n(m)}if(y!==null)le=!0;else{var U=n(p);U!==null&&oe(I,U.startTime-F),le=!1}}break e}finally{y=null,b=te,x=!1}le=void 0}}finally{le?se():O=!1}}}var se;if(typeof T=="function")se=function(){T($)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ae=Q.port2;Q.port1.onmessage=$,se=function(){ae.postMessage(null)}}else se=function(){C($,0)};function re(){O||(O=!0,se())}function oe(F,le){B=C(function(){F(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){E||x||(E=!0,re())},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(m)},t.unstable_next=function(F){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var te=b;b=le;try{return F()}finally{b=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,le){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var te=b;b=F;try{return le()}finally{b=te}},t.unstable_scheduleCallback=function(F,le,te){var de=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?de+te:de):te=de,F){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=te+M,F={id:v++,callback:le,priorityLevel:F,startTime:te,expirationTime:M,sortIndex:-1},te>de?(F.sortIndex=te,e(p,F),n(m)===null&&F===n(p)&&(S?(N(B),B=-1):S=!0,oe(I,te-de))):(F.sortIndex=M,e(m,F),E||x||(E=!0,re())),F},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(F){var le=b;return function(){var te=b;b=le;try{return F.apply(this,arguments)}finally{b=te}}}}(gp)),gp}var w_;function _A(){return w_||(w_=1,pp.exports=xA()),pp.exports}var yp={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function wA(){if(E_)return Yt;E_=1;var t=Sf();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(m,p,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:m,containerInfo:p,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},Yt.flushSync=function(m){var p=u.T,v=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=p,s.p=v,s.d.f()}},Yt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Yt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Yt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,y=f(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:x}):v==="script"&&s.d.X(m,{crossOrigin:y,integrity:b,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Yt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Yt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,y=f(v,p.crossOrigin);s.d.L(m,v,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Yt.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Yt.requestFormReset=function(m){s.d.r(m)},Yt.unstable_batchedUpdates=function(m,p){return m(p)},Yt.useFormState=function(m,p,v){return u.H.useFormState(m,p,v)},Yt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Yt.version="19.0.0",Yt}var S_;function XE(){if(S_)return yp.exports;S_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yp.exports=wA(),yp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function EA(){if(N_)return ec;N_=1;var t=_A(),e=Sf(),n=XE();function s(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),x=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),I=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var k=Symbol.for("react.client.reference");function Y(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===k?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case m:return"Fragment";case f:return"Portal";case v:return"Profiler";case p:return"StrictMode";case S:return"Suspense";case C:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case x:return(r.displayName||"Context")+".Provider";case b:return(r._context.displayName||"Context")+".Consumer";case E:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return a=r.displayName||null,a!==null?a:Y(r.type)||"Memo";case T:a=r._payload,r=r._init;try{return Y(r(a))}catch{}}return null}var P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=Object.assign,se,Q;function ae(r){if(se===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);se=a&&a[1]||"",Q=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+r+Q}var re=!1;function oe(r,a){if(!r||re)return"";re=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var W=X}Reflect.construct(r,[],ie)}else{try{ie.call()}catch(X){W=X}r.call(ie.prototype)}}else{try{throw Error()}catch(X){W=X}(ie=r())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&W&&typeof X.stack=="string")return[X.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],D=g[1];if(w&&D){var j=w.split(`
`),H=D.split(`
`);for(h=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(c===j.length||h===H.length)for(c=j.length-1,h=H.length-1;1<=c&&0<=h&&j[c]!==H[h];)h--;for(;1<=c&&0<=h;c--,h--)if(j[c]!==H[h]){if(c!==1||h!==1)do if(c--,h--,0>h||j[c]!==H[h]){var J=`
`+j[c].replace(" at new "," at ");return r.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",r.displayName)),J}while(1<=c&&0<=h);break}}}finally{re=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ae(o):""}function F(r){switch(r.tag){case 26:case 27:case 5:return ae(r.type);case 16:return ae("Lazy");case 13:return ae("Suspense");case 19:return ae("SuspenseList");case 0:case 15:return r=oe(r.type,!1),r;case 11:return r=oe(r.type.render,!1),r;case 1:return r=oe(r.type,!0),r;default:return""}}function le(r){try{var a="";do a+=F(r),r=r.return;while(r);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function te(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function de(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function M(r){if(te(r)!==r)throw Error(s(188))}function U(r){var a=r.alternate;if(!a){if(a=te(r),a===null)throw Error(s(188));return a!==r?null:r}for(var o=r,c=a;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return M(h),r;if(g===c)return M(h),a;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=h,c=g;else{for(var w=!1,D=h.child;D;){if(D===o){w=!0,o=h,c=g;break}if(D===c){w=!0,c=h,o=g;break}D=D.sibling}if(!w){for(D=g.child;D;){if(D===o){w=!0,o=g,c=h;break}if(D===c){w=!0,c=g,o=h;break}D=D.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:a}function L(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=L(r),a!==null)return a;r=r.sibling}return null}var V=Array.isArray,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ee=[],fe=-1;function he(r){return{current:r}}function xe(r){0>fe||(r.current=ee[fe],ee[fe]=null,fe--)}function Ie(r,a){fe++,ee[fe]=r.current,r.current=a}var Kt=he(null),Zn=he(null),qt=he(null),Jn=he(null);function _s(r,a){switch(Ie(qt,a),Ie(Zn,r),Ie(Kt,null),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?Gx(a):0;break;default:if(r=r===8?a.parentNode:a,a=r.tagName,r=r.namespaceURI)r=Gx(r),a=Yx(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}xe(Kt),Ie(Kt,a)}function er(){xe(Kt),xe(Zn),xe(qt)}function tr(r){r.memoizedState!==null&&Ie(Jn,r);var a=Kt.current,o=Yx(a,r.type);a!==o&&(Ie(Zn,r),Ie(Kt,o))}function Lr(r){Zn.current===r&&(xe(Kt),xe(Zn)),Jn.current===r&&(xe(Jn),Wl._currentValue=Z)}var Tt=Object.prototype.hasOwnProperty,tl=t.unstable_scheduleCallback,nl=t.unstable_cancelCallback,on=t.unstable_shouldYield,ws=t.unstable_requestPaint,kn=t.unstable_now,ah=t.unstable_getCurrentPriorityLevel,Ea=t.unstable_ImmediatePriority,hu=t.unstable_UserBlockingPriority,Sa=t.unstable_NormalPriority,rl=t.unstable_LowPriority,Ur=t.unstable_IdlePriority,mu=t.log,Es=t.unstable_setDisableYieldValue,Na=null,Qt=null;function pu(r){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Na,r,void 0,(r.current.flags&128)===128)}catch{}}function nr(r){if(typeof mu=="function"&&Es(r),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Na,r)}catch{}}var Xt=Math.clz32?Math.clz32:ih,sl=Math.log,br=Math.LN2;function ih(r){return r>>>=0,r===0?32:31-(sl(r)/br|0)|0}var Ca=128,Ta=4194304;function Ne(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function st(r,a){var o=r.pendingLanes;if(o===0)return 0;var c=0,h=r.suspendedLanes,g=r.pingedLanes,w=r.warmLanes;r=r.finishedLanes!==0;var D=o&134217727;return D!==0?(o=D&~h,o!==0?c=Ne(o):(g&=D,g!==0?c=Ne(g):r||(w=D&~w,w!==0&&(c=Ne(w))))):(D=o&~h,D!==0?c=Ne(D):g!==0?c=Ne(g):r||(w=o&~w,w!==0&&(c=Ne(w)))),c===0?0:a!==0&&a!==c&&(a&h)===0&&(h=c&-c,w=a&-a,h>=w||h===32&&(w&4194176)!==0)?a:c}function lt(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Zt(r,a){switch(r){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ra(){var r=Ca;return Ca<<=1,(Ca&4194176)===0&&(Ca=128),r}function gt(){var r=Ta;return Ta<<=1,(Ta&62914560)===0&&(Ta=4194304),r}function Vt(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function xr(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function bn(r,a,o,c,h,g){var w=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var D=r.entanglements,j=r.expirationTimes,H=r.hiddenUpdates;for(o=w&~o;0<o;){var J=31-Xt(o),ie=1<<J;D[J]=0,j[J]=-1;var W=H[J];if(W!==null)for(H[J]=null,J=0;J<W.length;J++){var X=W[J];X!==null&&(X.lane&=-536870913)}o&=~ie}c!==0&&ln(r,c,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(w&~a))}function ln(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var c=31-Xt(a);r.entangledLanes|=a,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194218}function al(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var c=31-Xt(o),h=1<<c;h&a|r[c]&a&&(r[c]|=a),o&=~h}}function _r(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function oh(){var r=K.p;return r!==0?r:(r=window.event,r===void 0?32:d_(r.type))}function rR(r,a){var o=K.p;try{return K.p=r,a()}finally{K.p=o}}var Ss=Math.random().toString(36).slice(2),$t="__reactFiber$"+Ss,cn="__reactProps$"+Ss,Ci="__reactContainer$"+Ss,lh="__reactEvents$"+Ss,sR="__reactListeners$"+Ss,aR="__reactHandles$"+Ss,Vv="__reactResources$"+Ss,il="__reactMarker$"+Ss;function ch(r){delete r[$t],delete r[cn],delete r[lh],delete r[sR],delete r[aR]}function Da(r){var a=r[$t];if(a)return a;for(var o=r.parentNode;o;){if(a=o[Ci]||o[$t]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=Qx(r);r!==null;){if(o=r[$t])return o;r=Qx(r)}return a}r=o,o=r.parentNode}return null}function Ti(r){if(r=r[$t]||r[Ci]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function ol(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(s(33))}function Ri(r){var a=r[Vv];return a||(a=r[Vv]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Rt(r){r[il]=!0}var $v=new Set,Gv={};function Aa(r,a){Di(r,a),Di(r+"Capture",a)}function Di(r,a){for(Gv[r]=a,r=0;r<a.length;r++)$v.add(a[r])}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yv={},Wv={};function oR(r){return Tt.call(Wv,r)?!0:Tt.call(Yv,r)?!1:iR.test(r)?Wv[r]=!0:(Yv[r]=!0,!1)}function gu(r,a,o){if(oR(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function yu(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function zr(r,a,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+c)}}function Mn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Kv(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function lR(r){var a=Kv(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),c=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return h.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function vu(r){r._valueTracker||(r._valueTracker=lR(r))}function Qv(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),c="";return r&&(c=Kv(r)?r.checked?"true":"false":r.value),r=c,r!==o?(a.setValue(r),!0):!1}function bu(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var cR=/[\n"\\]/g;function Pn(r){return r.replace(cR,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function uh(r,a,o,c,h,g,w,D){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),a!=null?w==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Mn(a)):r.value!==""+Mn(a)&&(r.value=""+Mn(a)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),a!=null?dh(r,w,Mn(a)):o!=null?dh(r,w,Mn(o)):c!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+Mn(D):r.removeAttribute("name")}function Xv(r,a,o,c,h,g,w,D){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),a!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;o=o!=null?""+Mn(o):"",a=a!=null?""+Mn(a):o,D||a===r.value||(r.value=a),r.defaultValue=a}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=D?r.checked:!!c,r.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function dh(r,a,o){a==="number"&&bu(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Ai(r,a,o,c){if(r=r.options,a){a={};for(var h=0;h<o.length;h++)a["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=a.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Mn(o),a=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}a!==null||r[h].disabled||(a=r[h])}a!==null&&(a.selected=!0)}}function Zv(r,a,o){if(a!=null&&(a=""+Mn(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+Mn(o):""}function Jv(r,a,o,c){if(a==null){if(c!=null){if(o!=null)throw Error(s(92));if(V(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),a=o}o=Mn(a),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function Ii(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var uR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eb(r,a,o){var c=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":c?r.setProperty(a,o):typeof o!="number"||o===0||uR.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function tb(r,a,o){if(a!=null&&typeof a!="object")throw Error(s(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var h in a)c=a[h],a.hasOwnProperty(h)&&o[h]!==c&&eb(r,h,c)}else for(var g in a)a.hasOwnProperty(g)&&eb(r,g,a[g])}function fh(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xu(r){return fR.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var hh=null;function mh(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ji=null,Oi=null;function nb(r){var a=Ti(r);if(a&&(r=a.stateNode)){var o=r[cn]||null;e:switch(r=a.stateNode,a.type){case"input":if(uh(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Pn(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var c=o[a];if(c!==r&&c.form===r.form){var h=c[cn]||null;if(!h)throw Error(s(90));uh(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<o.length;a++)c=o[a],c.form===r.form&&Qv(c)}break e;case"textarea":Zv(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Ai(r,!!o.multiple,a,!1)}}}var ph=!1;function rb(r,a,o){if(ph)return r(a,o);ph=!0;try{var c=r(a);return c}finally{if(ph=!1,(ji!==null||Oi!==null)&&(rd(),ji&&(a=ji,r=Oi,Oi=ji=null,nb(a),r)))for(a=0;a<r.length;a++)nb(r[a])}}function ll(r,a){var o=r.stateNode;if(o===null)return null;var c=o[cn]||null;if(c===null)return null;o=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,a,typeof o));return o}var gh=!1;if(Br)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){gh=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{gh=!1}var Ns=null,yh=null,_u=null;function sb(){if(_u)return _u;var r,a=yh,o=a.length,c,h="value"in Ns?Ns.value:Ns.textContent,g=h.length;for(r=0;r<o&&a[r]===h[r];r++);var w=o-r;for(c=1;c<=w&&a[o-c]===h[g-c];c++);return _u=h.slice(r,1<c?1-c:void 0)}function wu(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Eu(){return!0}function ab(){return!1}function un(r){function a(o,c,h,g,w){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(o=r[D],this[D]=o?o(g):g[D]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Eu:ab,this.isPropagationStopped=ab,this}return $(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Eu)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Eu)},persist:function(){},isPersistent:Eu}),a}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Su=un(Ia),ul=$({},Ia,{view:0,detail:0}),hR=un(ul),vh,bh,dl,Nu=$({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_h,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==dl&&(dl&&r.type==="mousemove"?(vh=r.screenX-dl.screenX,bh=r.screenY-dl.screenY):bh=vh=0,dl=r),vh)},movementY:function(r){return"movementY"in r?r.movementY:bh}}),ib=un(Nu),mR=$({},Nu,{dataTransfer:0}),pR=un(mR),gR=$({},ul,{relatedTarget:0}),xh=un(gR),yR=$({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),vR=un(yR),bR=$({},Ia,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),xR=un(bR),_R=$({},Ia,{data:0}),ob=un(_R),wR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ER={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NR(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=SR[r])?!!a[r]:!1}function _h(){return NR}var CR=$({},ul,{key:function(r){if(r.key){var a=wR[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=wu(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ER[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_h,charCode:function(r){return r.type==="keypress"?wu(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?wu(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),TR=un(CR),RR=$({},Nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lb=un(RR),DR=$({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_h}),AR=un(DR),IR=$({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),jR=un(IR),OR=$({},Nu,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),kR=un(OR),MR=$({},Ia,{newState:0,oldState:0}),PR=un(MR),LR=[9,13,27,32],wh=Br&&"CompositionEvent"in window,fl=null;Br&&"documentMode"in document&&(fl=document.documentMode);var UR=Br&&"TextEvent"in window&&!fl,cb=Br&&(!wh||fl&&8<fl&&11>=fl),ub=" ",db=!1;function fb(r,a){switch(r){case"keyup":return LR.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hb(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ki=!1;function BR(r,a){switch(r){case"compositionend":return hb(a);case"keypress":return a.which!==32?null:(db=!0,ub);case"textInput":return r=a.data,r===ub&&db?null:r;default:return null}}function zR(r,a){if(ki)return r==="compositionend"||!wh&&fb(r,a)?(r=sb(),_u=yh=Ns=null,ki=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return cb&&a.locale!=="ko"?null:a.data;default:return null}}var FR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mb(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!FR[r.type]:a==="textarea"}function pb(r,a,o,c){ji?Oi?Oi.push(c):Oi=[c]:ji=c,a=ld(a,"onChange"),0<a.length&&(o=new Su("onChange","change",null,o,c),r.push({event:o,listeners:a}))}var hl=null,ml=null;function HR(r){Fx(r,0)}function Cu(r){var a=ol(r);if(Qv(a))return r}function gb(r,a){if(r==="change")return a}var yb=!1;if(Br){var Eh;if(Br){var Sh="oninput"in document;if(!Sh){var vb=document.createElement("div");vb.setAttribute("oninput","return;"),Sh=typeof vb.oninput=="function"}Eh=Sh}else Eh=!1;yb=Eh&&(!document.documentMode||9<document.documentMode)}function bb(){hl&&(hl.detachEvent("onpropertychange",xb),ml=hl=null)}function xb(r){if(r.propertyName==="value"&&Cu(ml)){var a=[];pb(a,ml,r,mh(r)),rb(HR,a)}}function qR(r,a,o){r==="focusin"?(bb(),hl=a,ml=o,hl.attachEvent("onpropertychange",xb)):r==="focusout"&&bb()}function VR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Cu(ml)}function $R(r,a){if(r==="click")return Cu(a)}function GR(r,a){if(r==="input"||r==="change")return Cu(a)}function YR(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var xn=typeof Object.is=="function"?Object.is:YR;function pl(r,a){if(xn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),c=Object.keys(a);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!Tt.call(a,h)||!xn(r[h],a[h]))return!1}return!0}function _b(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function wb(r,a){var o=_b(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=a&&c>=a)return{node:o,offset:a-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=_b(o)}}function Eb(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Eb(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Sb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=bu(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=bu(r.document)}return a}function Nh(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function WR(r,a){var o=Sb(a);a=r.focusedElem;var c=r.selectionRange;if(o!==a&&a&&a.ownerDocument&&Eb(a.ownerDocument.documentElement,a)){if(c!==null&&Nh(a)){if(r=c.start,o=c.end,o===void 0&&(o=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(o,a.value.length);else if(o=(r=a.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var h=a.textContent.length,g=Math.min(c.start,h);c=c.end===void 0?g:Math.min(c.end,h),!o.extend&&g>c&&(h=c,c=g,g=h),h=wb(a,g);var w=wb(a,c);h&&w&&(o.rangeCount!==1||o.anchorNode!==h.node||o.anchorOffset!==h.offset||o.focusNode!==w.node||o.focusOffset!==w.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),o.removeAllRanges(),g>c?(o.addRange(r),o.extend(w.node,w.offset)):(r.setEnd(w.node,w.offset),o.addRange(r)))}}for(r=[],o=a;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)o=r[a],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var KR=Br&&"documentMode"in document&&11>=document.documentMode,Mi=null,Ch=null,gl=null,Th=!1;function Nb(r,a,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Th||Mi==null||Mi!==bu(c)||(c=Mi,"selectionStart"in c&&Nh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),gl&&pl(gl,c)||(gl=c,c=ld(Ch,"onSelect"),0<c.length&&(a=new Su("onSelect","select",null,a,o),r.push({event:a,listeners:c}),a.target=Mi)))}function ja(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var Pi={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},Rh={},Cb={};Br&&(Cb=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function Oa(r){if(Rh[r])return Rh[r];if(!Pi[r])return r;var a=Pi[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in Cb)return Rh[r]=a[o];return r}var Tb=Oa("animationend"),Rb=Oa("animationiteration"),Db=Oa("animationstart"),QR=Oa("transitionrun"),XR=Oa("transitionstart"),ZR=Oa("transitioncancel"),Ab=Oa("transitionend"),Ib=new Map,jb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function rr(r,a){Ib.set(r,a),Aa(a,[r])}var Ln=[],Li=0,Dh=0;function Tu(){for(var r=Li,a=Dh=Li=0;a<r;){var o=Ln[a];Ln[a++]=null;var c=Ln[a];Ln[a++]=null;var h=Ln[a];Ln[a++]=null;var g=Ln[a];if(Ln[a++]=null,c!==null&&h!==null){var w=c.pending;w===null?h.next=h:(h.next=w.next,w.next=h),c.pending=h}g!==0&&Ob(o,h,g)}}function Ru(r,a,o,c){Ln[Li++]=r,Ln[Li++]=a,Ln[Li++]=o,Ln[Li++]=c,Dh|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Ah(r,a,o,c){return Ru(r,a,o,c),Du(r)}function Cs(r,a){return Ru(r,null,null,a),Du(r)}function Ob(r,a,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;h&&a!==null&&r.tag===3&&(g=r.stateNode,h=31-Xt(o),g=g.hiddenUpdates,r=g[h],r===null?g[h]=[a]:r.push(a),a.lane=o|536870912)}function Du(r){if(50<Fl)throw Fl=0,Pm=null,Error(s(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Ui={},kb=new WeakMap;function Un(r,a){if(typeof r=="object"&&r!==null){var o=kb.get(r);return o!==void 0?o:(a={value:r,source:a,stack:le(a)},kb.set(r,a),a)}return{value:r,source:a,stack:le(a)}}var Bi=[],zi=0,Au=null,Iu=0,Bn=[],zn=0,ka=null,Fr=1,Hr="";function Ma(r,a){Bi[zi++]=Iu,Bi[zi++]=Au,Au=r,Iu=a}function Mb(r,a,o){Bn[zn++]=Fr,Bn[zn++]=Hr,Bn[zn++]=ka,ka=r;var c=Fr;r=Hr;var h=32-Xt(c)-1;c&=~(1<<h),o+=1;var g=32-Xt(a)+h;if(30<g){var w=h-h%5;g=(c&(1<<w)-1).toString(32),c>>=w,h-=w,Fr=1<<32-Xt(a)+h|o<<h|c,Hr=g+r}else Fr=1<<g|o<<h|c,Hr=r}function Ih(r){r.return!==null&&(Ma(r,1),Mb(r,1,0))}function jh(r){for(;r===Au;)Au=Bi[--zi],Bi[zi]=null,Iu=Bi[--zi],Bi[zi]=null;for(;r===ka;)ka=Bn[--zn],Bn[zn]=null,Hr=Bn[--zn],Bn[zn]=null,Fr=Bn[--zn],Bn[zn]=null}var Jt=null,Lt=null,He=!1,sr=null,wr=!1,Oh=Error(s(519));function Pa(r){var a=Error(s(418,""));throw bl(Un(a,r)),Oh}function Pb(r){var a=r.stateNode,o=r.type,c=r.memoizedProps;switch(a[$t]=r,a[cn]=c,o){case"dialog":Be("cancel",a),Be("close",a);break;case"iframe":case"object":case"embed":Be("load",a);break;case"video":case"audio":for(o=0;o<ql.length;o++)Be(ql[o],a);break;case"source":Be("error",a);break;case"img":case"image":case"link":Be("error",a),Be("load",a);break;case"details":Be("toggle",a);break;case"input":Be("invalid",a),Xv(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),vu(a);break;case"select":Be("invalid",a);break;case"textarea":Be("invalid",a),Jv(a,c.value,c.defaultValue,c.children),vu(a)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||c.suppressHydrationWarning===!0||$x(a.textContent,o)?(c.popover!=null&&(Be("beforetoggle",a),Be("toggle",a)),c.onScroll!=null&&Be("scroll",a),c.onScrollEnd!=null&&Be("scrollend",a),c.onClick!=null&&(a.onclick=cd),a=!0):a=!1,a||Pa(r)}function Lb(r){for(Jt=r.return;Jt;)switch(Jt.tag){case 3:case 27:wr=!0;return;case 5:case 13:wr=!1;return;default:Jt=Jt.return}}function yl(r){if(r!==Jt)return!1;if(!He)return Lb(r),He=!0,!1;var a=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Jm(r.type,r.memoizedProps)),o=!o),o&&(a=!0),a&&Lt&&Pa(r),Lb(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(a===0){Lt=ir(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;r=r.nextSibling}Lt=null}}else Lt=Jt?ir(r.stateNode.nextSibling):null;return!0}function vl(){Lt=Jt=null,He=!1}function bl(r){sr===null?sr=[r]:sr.push(r)}var xl=Error(s(460)),Ub=Error(s(474)),kh={then:function(){}};function Bb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ju(){}function zb(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(ju,ju),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r===xl?Error(s(483)):r;default:if(typeof a.status=="string")a.then(ju,ju);else{if(r=Ze,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=a,r.status="pending",r.then(function(c){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=c}},function(c){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r===xl?Error(s(483)):r}throw _l=a,xl}}var _l=null;function Fb(){if(_l===null)throw Error(s(459));var r=_l;return _l=null,r}var Fi=null,wl=0;function Ou(r){var a=wl;return wl+=1,Fi===null&&(Fi=[]),zb(Fi,r,a)}function El(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function ku(r,a){throw a.$$typeof===l?Error(s(525)):(r=Object.prototype.toString.call(a),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Hb(r){var a=r._init;return a(r._payload)}function qb(r){function a(q,z){if(r){var G=q.deletions;G===null?(q.deletions=[z],q.flags|=16):G.push(z)}}function o(q,z){if(!r)return null;for(;z!==null;)a(q,z),z=z.sibling;return null}function c(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function h(q,z){return q=Us(q,z),q.index=0,q.sibling=null,q}function g(q,z,G){return q.index=G,r?(G=q.alternate,G!==null?(G=G.index,G<z?(q.flags|=33554434,z):G):(q.flags|=33554434,z)):(q.flags|=1048576,z)}function w(q){return r&&q.alternate===null&&(q.flags|=33554434),q}function D(q,z,G,ne){return z===null||z.tag!==6?(z=Rm(G,q.mode,ne),z.return=q,z):(z=h(z,G),z.return=q,z)}function j(q,z,G,ne){var me=G.type;return me===m?J(q,z,G.props.children,ne,G.key):z!==null&&(z.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===T&&Hb(me)===z.type)?(z=h(z,G.props),El(z,G),z.return=q,z):(z=Zu(G.type,G.key,G.props,null,q.mode,ne),El(z,G),z.return=q,z)}function H(q,z,G,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=Dm(G,q.mode,ne),z.return=q,z):(z=h(z,G.children||[]),z.return=q,z)}function J(q,z,G,ne,me){return z===null||z.tag!==7?(z=Ga(G,q.mode,ne,me),z.return=q,z):(z=h(z,G),z.return=q,z)}function ie(q,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Rm(""+z,q.mode,G),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case u:return G=Zu(z.type,z.key,z.props,null,q.mode,G),El(G,z),G.return=q,G;case f:return z=Dm(z,q.mode,G),z.return=q,z;case T:var ne=z._init;return z=ne(z._payload),ie(q,z,G)}if(V(z)||B(z))return z=Ga(z,q.mode,G,null),z.return=q,z;if(typeof z.then=="function")return ie(q,Ou(z),G);if(z.$$typeof===x)return ie(q,Ku(q,z),G);ku(q,z)}return null}function W(q,z,G,ne){var me=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return me!==null?null:D(q,z,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case u:return G.key===me?j(q,z,G,ne):null;case f:return G.key===me?H(q,z,G,ne):null;case T:return me=G._init,G=me(G._payload),W(q,z,G,ne)}if(V(G)||B(G))return me!==null?null:J(q,z,G,ne,null);if(typeof G.then=="function")return W(q,z,Ou(G),ne);if(G.$$typeof===x)return W(q,z,Ku(q,G),ne);ku(q,G)}return null}function X(q,z,G,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get(G)||null,D(z,q,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case u:return q=q.get(ne.key===null?G:ne.key)||null,j(z,q,ne,me);case f:return q=q.get(ne.key===null?G:ne.key)||null,H(z,q,ne,me);case T:var je=ne._init;return ne=je(ne._payload),X(q,z,G,ne,me)}if(V(ne)||B(ne))return q=q.get(G)||null,J(z,q,ne,me,null);if(typeof ne.then=="function")return X(q,z,G,Ou(ne),me);if(ne.$$typeof===x)return X(q,z,G,Ku(z,ne),me);ku(z,ne)}return null}function ye(q,z,G,ne){for(var me=null,je=null,be=z,we=z=0,It=null;be!==null&&we<G.length;we++){be.index>we?(It=be,be=null):It=be.sibling;var qe=W(q,be,G[we],ne);if(qe===null){be===null&&(be=It);break}r&&be&&qe.alternate===null&&a(q,be),z=g(qe,z,we),je===null?me=qe:je.sibling=qe,je=qe,be=It}if(we===G.length)return o(q,be),He&&Ma(q,we),me;if(be===null){for(;we<G.length;we++)be=ie(q,G[we],ne),be!==null&&(z=g(be,z,we),je===null?me=be:je.sibling=be,je=be);return He&&Ma(q,we),me}for(be=c(be);we<G.length;we++)It=X(be,q,we,G[we],ne),It!==null&&(r&&It.alternate!==null&&be.delete(It.key===null?we:It.key),z=g(It,z,we),je===null?me=It:je.sibling=It,je=It);return r&&be.forEach(function($s){return a(q,$s)}),He&&Ma(q,we),me}function Ce(q,z,G,ne){if(G==null)throw Error(s(151));for(var me=null,je=null,be=z,we=z=0,It=null,qe=G.next();be!==null&&!qe.done;we++,qe=G.next()){be.index>we?(It=be,be=null):It=be.sibling;var $s=W(q,be,qe.value,ne);if($s===null){be===null&&(be=It);break}r&&be&&$s.alternate===null&&a(q,be),z=g($s,z,we),je===null?me=$s:je.sibling=$s,je=$s,be=It}if(qe.done)return o(q,be),He&&Ma(q,we),me;if(be===null){for(;!qe.done;we++,qe=G.next())qe=ie(q,qe.value,ne),qe!==null&&(z=g(qe,z,we),je===null?me=qe:je.sibling=qe,je=qe);return He&&Ma(q,we),me}for(be=c(be);!qe.done;we++,qe=G.next())qe=X(be,q,we,qe.value,ne),qe!==null&&(r&&qe.alternate!==null&&be.delete(qe.key===null?we:qe.key),z=g(qe,z,we),je===null?me=qe:je.sibling=qe,je=qe);return r&&be.forEach(function(fA){return a(q,fA)}),He&&Ma(q,we),me}function dt(q,z,G,ne){if(typeof G=="object"&&G!==null&&G.type===m&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case u:e:{for(var me=G.key;z!==null;){if(z.key===me){if(me=G.type,me===m){if(z.tag===7){o(q,z.sibling),ne=h(z,G.props.children),ne.return=q,q=ne;break e}}else if(z.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===T&&Hb(me)===z.type){o(q,z.sibling),ne=h(z,G.props),El(ne,G),ne.return=q,q=ne;break e}o(q,z);break}else a(q,z);z=z.sibling}G.type===m?(ne=Ga(G.props.children,q.mode,ne,G.key),ne.return=q,q=ne):(ne=Zu(G.type,G.key,G.props,null,q.mode,ne),El(ne,G),ne.return=q,q=ne)}return w(q);case f:e:{for(me=G.key;z!==null;){if(z.key===me)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){o(q,z.sibling),ne=h(z,G.children||[]),ne.return=q,q=ne;break e}else{o(q,z);break}else a(q,z);z=z.sibling}ne=Dm(G,q.mode,ne),ne.return=q,q=ne}return w(q);case T:return me=G._init,G=me(G._payload),dt(q,z,G,ne)}if(V(G))return ye(q,z,G,ne);if(B(G)){if(me=B(G),typeof me!="function")throw Error(s(150));return G=me.call(G),Ce(q,z,G,ne)}if(typeof G.then=="function")return dt(q,z,Ou(G),ne);if(G.$$typeof===x)return dt(q,z,Ku(q,G),ne);ku(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(o(q,z.sibling),ne=h(z,G),ne.return=q,q=ne):(o(q,z),ne=Rm(G,q.mode,ne),ne.return=q,q=ne),w(q)):o(q,z)}return function(q,z,G,ne){try{wl=0;var me=dt(q,z,G,ne);return Fi=null,me}catch(be){if(be===xl)throw be;var je=Vn(29,be,null,q.mode);return je.lanes=ne,je.return=q,je}finally{}}}var La=qb(!0),Vb=qb(!1),Hi=he(null),Mu=he(0);function $b(r,a){r=Jr,Ie(Mu,r),Ie(Hi,a),Jr=r|a.baseLanes}function Mh(){Ie(Mu,Jr),Ie(Hi,Hi.current)}function Ph(){Jr=Mu.current,xe(Hi),xe(Mu)}var Fn=he(null),Er=null;function Ts(r){var a=r.alternate;Ie(xt,xt.current&1),Ie(Fn,r),Er===null&&(a===null||Hi.current!==null||a.memoizedState!==null)&&(Er=r)}function Gb(r){if(r.tag===22){if(Ie(xt,xt.current),Ie(Fn,r),Er===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Er=r)}}else Rs()}function Rs(){Ie(xt,xt.current),Ie(Fn,Fn.current)}function qr(r){xe(Fn),Er===r&&(Er=null),xe(xt)}var xt=he(0);function Pu(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var JR=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},eD=t.unstable_scheduleCallback,tD=t.unstable_NormalPriority,_t={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lh(){return{controller:new JR,data:new Map,refCount:0}}function Sl(r){r.refCount--,r.refCount===0&&eD(tD,function(){r.controller.abort()})}var Nl=null,Uh=0,qi=0,Vi=null;function nD(r,a){if(Nl===null){var o=Nl=[];Uh=0,qi=Vm(),Vi={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Uh++,a.then(Yb,Yb),a}function Yb(){if(--Uh===0&&Nl!==null){Vi!==null&&(Vi.status="fulfilled");var r=Nl;Nl=null,qi=0,Vi=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function rD(r,a){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){c.status="fulfilled",c.value=a;for(var h=0;h<o.length;h++)(0,o[h])(a)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var Wb=P.S;P.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&nD(r,a),Wb!==null&&Wb(r,a)};var Ua=he(null);function Bh(){var r=Ua.current;return r!==null?r:Ze.pooledCache}function Lu(r,a){a===null?Ie(Ua,Ua.current):Ie(Ua,a.pool)}function Kb(){var r=Bh();return r===null?null:{parent:_t._currentValue,pool:r}}var Ds=0,Re=null,We=null,yt=null,Uu=!1,$i=!1,Ba=!1,Bu=0,Cl=0,Gi=null,sD=0;function mt(){throw Error(s(321))}function zh(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!xn(r[o],a[o]))return!1;return!0}function Fh(r,a,o,c,h,g){return Ds=g,Re=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,P.H=r===null||r.memoizedState===null?za:As,Ba=!1,g=o(c,h),Ba=!1,$i&&(g=Xb(a,o,c,h)),Qb(r),g}function Qb(r){P.H=Sr;var a=We!==null&&We.next!==null;if(Ds=0,yt=We=Re=null,Uu=!1,Cl=0,Gi=null,a)throw Error(s(300));r===null||Dt||(r=r.dependencies,r!==null&&Wu(r)&&(Dt=!0))}function Xb(r,a,o,c){Re=r;var h=0;do{if($i&&(Gi=null),Cl=0,$i=!1,25<=h)throw Error(s(301));if(h+=1,yt=We=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}P.H=Fa,g=a(o,c)}while($i);return g}function aD(){var r=P.H,a=r.useState()[0];return a=typeof a.then=="function"?Tl(a):a,r=r.useState()[0],(We!==null?We.memoizedState:null)!==r&&(Re.flags|=1024),a}function Hh(){var r=Bu!==0;return Bu=0,r}function qh(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function Vh(r){if(Uu){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Uu=!1}Ds=0,yt=We=Re=null,$i=!1,Cl=Bu=0,Gi=null}function dn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Re.memoizedState=yt=r:yt=yt.next=r,yt}function vt(){if(We===null){var r=Re.alternate;r=r!==null?r.memoizedState:null}else r=We.next;var a=yt===null?Re.memoizedState:yt.next;if(a!==null)yt=a,We=r;else{if(r===null)throw Re.alternate===null?Error(s(467)):Error(s(310));We=r,r={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},yt===null?Re.memoizedState=yt=r:yt=yt.next=r}return yt}var zu;zu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Tl(r){var a=Cl;return Cl+=1,Gi===null&&(Gi=[]),r=zb(Gi,r,a),a=Re,(yt===null?a.memoizedState:yt.next)===null&&(a=a.alternate,P.H=a===null||a.memoizedState===null?za:As),r}function Fu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Tl(r);if(r.$$typeof===x)return Gt(r)}throw Error(s(438,String(r)))}function $h(r){var a=null,o=Re.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var c=Re.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=zu(),Re.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),c=0;c<r;c++)o[c]=I;return a.index++,o}function Vr(r,a){return typeof a=="function"?a(r):a}function Hu(r){var a=vt();return Gh(a,We,r)}function Gh(r,a,o){var c=r.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var h=r.baseQueue,g=c.pending;if(g!==null){if(h!==null){var w=h.next;h.next=g.next,g.next=w}a.baseQueue=h=g,c.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{a=h.next;var D=w=null,j=null,H=a,J=!1;do{var ie=H.lane&-536870913;if(ie!==H.lane?(Fe&ie)===ie:(Ds&ie)===ie){var W=H.revertLane;if(W===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ie===qi&&(J=!0);else if((Ds&W)===W){H=H.next,W===qi&&(J=!0);continue}else ie={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},j===null?(D=j=ie,w=g):j=j.next=ie,Re.lanes|=W,Bs|=W;ie=H.action,Ba&&o(g,ie),g=H.hasEagerState?H.eagerState:o(g,ie)}else W={lane:ie,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},j===null?(D=j=W,w=g):j=j.next=W,Re.lanes|=ie,Bs|=ie;H=H.next}while(H!==null&&H!==a);if(j===null?w=g:j.next=D,!xn(g,r.memoizedState)&&(Dt=!0,J&&(o=Vi,o!==null)))throw o;r.memoizedState=g,r.baseState=w,r.baseQueue=j,c.lastRenderedState=g}return h===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Yh(r){var a=vt(),o=a.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var c=o.dispatch,h=o.pending,g=a.memoizedState;if(h!==null){o.pending=null;var w=h=h.next;do g=r(g,w.action),w=w.next;while(w!==h);xn(g,a.memoizedState)||(Dt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),o.lastRenderedState=g}return[g,c]}function Zb(r,a,o){var c=Re,h=vt(),g=He;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=a();var w=!xn((We||h).memoizedState,o);if(w&&(h.memoizedState=o,Dt=!0),h=h.queue,Qh(t0.bind(null,c,h,r),[r]),h.getSnapshot!==a||w||yt!==null&&yt.memoizedState.tag&1){if(c.flags|=2048,Yi(9,e0.bind(null,c,h,o,a),{destroy:void 0},null),Ze===null)throw Error(s(349));g||(Ds&60)!==0||Jb(c,a,o)}return o}function Jb(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=Re.updateQueue,a===null?(a=zu(),Re.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function e0(r,a,o,c){a.value=o,a.getSnapshot=c,n0(a)&&r0(r)}function t0(r,a,o){return o(function(){n0(a)&&r0(r)})}function n0(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!xn(r,o)}catch{return!0}}function r0(r){var a=Cs(r,2);a!==null&&en(a,r,2)}function Wh(r){var a=dn();if(typeof r=="function"){var o=r;if(r=o(),Ba){nr(!0);try{o()}finally{nr(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:r},a}function s0(r,a,o,c){return r.baseState=o,Gh(r,We,typeof c=="function"?c:Vr)}function iD(r,a,o,c,h){if($u(r))throw Error(s(485));if(r=a.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};P.T!==null?o(!0):g.isTransition=!1,c(g),o=a.pending,o===null?(g.next=a.pending=g,a0(a,g)):(g.next=o.next,a.pending=o.next=g)}}function a0(r,a){var o=a.action,c=a.payload,h=r.state;if(a.isTransition){var g=P.T,w={};P.T=w;try{var D=o(h,c),j=P.S;j!==null&&j(w,D),i0(r,a,D)}catch(H){Kh(r,a,H)}finally{P.T=g}}else try{g=o(h,c),i0(r,a,g)}catch(H){Kh(r,a,H)}}function i0(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){o0(r,a,c)},function(c){return Kh(r,a,c)}):o0(r,a,o)}function o0(r,a,o){a.status="fulfilled",a.value=o,l0(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,a0(r,o)))}function Kh(r,a,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=o,l0(a),a=a.next;while(a!==c)}r.action=null}function l0(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function c0(r,a){return a}function u0(r,a){if(He){var o=Ze.formState;if(o!==null){e:{var c=Re;if(He){if(Lt){t:{for(var h=Lt,g=wr;h.nodeType!==8;){if(!g){h=null;break t}if(h=ir(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Lt=ir(h.nextSibling),c=h.data==="F!";break e}}Pa(c)}c=!1}c&&(a=o[0])}}return o=dn(),o.memoizedState=o.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c0,lastRenderedState:a},o.queue=c,o=R0.bind(null,Re,c),c.dispatch=o,c=Wh(!1),g=tm.bind(null,Re,!1,c.queue),c=dn(),h={state:a,dispatch:null,action:r,pending:null},c.queue=h,o=iD.bind(null,Re,h,g,o),h.dispatch=o,c.memoizedState=r,[a,o,!1]}function d0(r){var a=vt();return f0(a,We,r)}function f0(r,a,o){a=Gh(r,a,c0)[0],r=Hu(Vr)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Tl(a):a;var c=vt(),h=c.queue,g=h.dispatch;return o!==c.memoizedState&&(Re.flags|=2048,Yi(9,oD.bind(null,h,o),{destroy:void 0},null)),[a,g,r]}function oD(r,a){r.action=a}function h0(r){var a=vt(),o=We;if(o!==null)return f0(a,o,r);vt(),a=a.memoizedState,o=vt();var c=o.queue.dispatch;return o.memoizedState=r,[a,c,!1]}function Yi(r,a,o,c){return r={tag:r,create:a,inst:o,deps:c,next:null},a=Re.updateQueue,a===null&&(a=zu(),Re.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,a.lastEffect=r),r}function m0(){return vt().memoizedState}function qu(r,a,o,c){var h=dn();Re.flags|=r,h.memoizedState=Yi(1|a,o,{destroy:void 0},c===void 0?null:c)}function Vu(r,a,o,c){var h=vt();c=c===void 0?null:c;var g=h.memoizedState.inst;We!==null&&c!==null&&zh(c,We.memoizedState.deps)?h.memoizedState=Yi(a,o,g,c):(Re.flags|=r,h.memoizedState=Yi(1|a,o,g,c))}function p0(r,a){qu(8390656,8,r,a)}function Qh(r,a){Vu(2048,8,r,a)}function g0(r,a){return Vu(4,2,r,a)}function y0(r,a){return Vu(4,4,r,a)}function v0(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function b0(r,a,o){o=o!=null?o.concat([r]):null,Vu(4,4,v0.bind(null,a,r),o)}function Xh(){}function x0(r,a){var o=vt();a=a===void 0?null:a;var c=o.memoizedState;return a!==null&&zh(a,c[1])?c[0]:(o.memoizedState=[r,a],r)}function _0(r,a){var o=vt();a=a===void 0?null:a;var c=o.memoizedState;if(a!==null&&zh(a,c[1]))return c[0];if(c=r(),Ba){nr(!0);try{r()}finally{nr(!1)}}return o.memoizedState=[c,a],c}function Zh(r,a,o){return o===void 0||(Ds&1073741824)!==0?r.memoizedState=a:(r.memoizedState=o,r=Ex(),Re.lanes|=r,Bs|=r,o)}function w0(r,a,o,c){return xn(o,a)?o:Hi.current!==null?(r=Zh(r,o,c),xn(r,a)||(Dt=!0),r):(Ds&42)===0?(Dt=!0,r.memoizedState=o):(r=Ex(),Re.lanes|=r,Bs|=r,a)}function E0(r,a,o,c,h){var g=K.p;K.p=g!==0&&8>g?g:8;var w=P.T,D={};P.T=D,tm(r,!1,a,o);try{var j=h(),H=P.S;if(H!==null&&H(D,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var J=rD(j,c);Rl(r,a,J,Sn(r))}else Rl(r,a,c,Sn(r))}catch(ie){Rl(r,a,{then:function(){},status:"rejected",reason:ie},Sn())}finally{K.p=g,P.T=w}}function lD(){}function Jh(r,a,o,c){if(r.tag!==5)throw Error(s(476));var h=S0(r).queue;E0(r,h,a,Z,o===null?lD:function(){return N0(r),o(c)})}function S0(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:Z},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function N0(r){var a=S0(r).next.queue;Rl(r,a,{},Sn())}function em(){return Gt(Wl)}function C0(){return vt().memoizedState}function T0(){return vt().memoizedState}function cD(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=Sn();r=Os(o);var c=ks(a,r,o);c!==null&&(en(c,a,o),Il(c,a,o)),a={cache:Lh()},r.payload=a;return}a=a.return}}function uD(r,a,o){var c=Sn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},$u(r)?D0(a,o):(o=Ah(r,a,o,c),o!==null&&(en(o,r,c),A0(o,a,c)))}function R0(r,a,o){var c=Sn();Rl(r,a,o,c)}function Rl(r,a,o,c){var h={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if($u(r))D0(a,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var w=a.lastRenderedState,D=g(w,o);if(h.hasEagerState=!0,h.eagerState=D,xn(D,w))return Ru(r,a,h,0),Ze===null&&Tu(),!1}catch{}finally{}if(o=Ah(r,a,h,c),o!==null)return en(o,r,c),A0(o,a,c),!0}return!1}function tm(r,a,o,c){if(c={lane:2,revertLane:Vm(),action:c,hasEagerState:!1,eagerState:null,next:null},$u(r)){if(a)throw Error(s(479))}else a=Ah(r,o,c,2),a!==null&&en(a,r,2)}function $u(r){var a=r.alternate;return r===Re||a!==null&&a===Re}function D0(r,a){$i=Uu=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function A0(r,a,o){if((o&4194176)!==0){var c=a.lanes;c&=r.pendingLanes,o|=c,a.lanes=o,al(r,o)}}var Sr={readContext:Gt,use:Fu,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt};Sr.useCacheRefresh=mt,Sr.useMemoCache=mt,Sr.useHostTransitionStatus=mt,Sr.useFormState=mt,Sr.useActionState=mt,Sr.useOptimistic=mt;var za={readContext:Gt,use:Fu,useCallback:function(r,a){return dn().memoizedState=[r,a===void 0?null:a],r},useContext:Gt,useEffect:p0,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,qu(4194308,4,v0.bind(null,a,r),o)},useLayoutEffect:function(r,a){return qu(4194308,4,r,a)},useInsertionEffect:function(r,a){qu(4,2,r,a)},useMemo:function(r,a){var o=dn();a=a===void 0?null:a;var c=r();if(Ba){nr(!0);try{r()}finally{nr(!1)}}return o.memoizedState=[c,a],c},useReducer:function(r,a,o){var c=dn();if(o!==void 0){var h=o(a);if(Ba){nr(!0);try{o(a)}finally{nr(!1)}}}else h=a;return c.memoizedState=c.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},c.queue=r,r=r.dispatch=uD.bind(null,Re,r),[c.memoizedState,r]},useRef:function(r){var a=dn();return r={current:r},a.memoizedState=r},useState:function(r){r=Wh(r);var a=r.queue,o=R0.bind(null,Re,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:Xh,useDeferredValue:function(r,a){var o=dn();return Zh(o,r,a)},useTransition:function(){var r=Wh(!1);return r=E0.bind(null,Re,r.queue,!0,!1),dn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var c=Re,h=dn();if(He){if(o===void 0)throw Error(s(407));o=o()}else{if(o=a(),Ze===null)throw Error(s(349));(Fe&60)!==0||Jb(c,a,o)}h.memoizedState=o;var g={value:o,getSnapshot:a};return h.queue=g,p0(t0.bind(null,c,g,r),[r]),c.flags|=2048,Yi(9,e0.bind(null,c,g,o,a),{destroy:void 0},null),o},useId:function(){var r=dn(),a=Ze.identifierPrefix;if(He){var o=Hr,c=Fr;o=(c&~(1<<32-Xt(c)-1)).toString(32)+o,a=":"+a+"R"+o,o=Bu++,0<o&&(a+="H"+o.toString(32)),a+=":"}else o=sD++,a=":"+a+"r"+o.toString(32)+":";return r.memoizedState=a},useCacheRefresh:function(){return dn().memoizedState=cD.bind(null,Re)}};za.useMemoCache=$h,za.useHostTransitionStatus=em,za.useFormState=u0,za.useActionState=u0,za.useOptimistic=function(r){var a=dn();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=tm.bind(null,Re,!0,o),o.dispatch=a,[r,a]};var As={readContext:Gt,use:Fu,useCallback:x0,useContext:Gt,useEffect:Qh,useImperativeHandle:b0,useInsertionEffect:g0,useLayoutEffect:y0,useMemo:_0,useReducer:Hu,useRef:m0,useState:function(){return Hu(Vr)},useDebugValue:Xh,useDeferredValue:function(r,a){var o=vt();return w0(o,We.memoizedState,r,a)},useTransition:function(){var r=Hu(Vr)[0],a=vt().memoizedState;return[typeof r=="boolean"?r:Tl(r),a]},useSyncExternalStore:Zb,useId:C0};As.useCacheRefresh=T0,As.useMemoCache=$h,As.useHostTransitionStatus=em,As.useFormState=d0,As.useActionState=d0,As.useOptimistic=function(r,a){var o=vt();return s0(o,We,r,a)};var Fa={readContext:Gt,use:Fu,useCallback:x0,useContext:Gt,useEffect:Qh,useImperativeHandle:b0,useInsertionEffect:g0,useLayoutEffect:y0,useMemo:_0,useReducer:Yh,useRef:m0,useState:function(){return Yh(Vr)},useDebugValue:Xh,useDeferredValue:function(r,a){var o=vt();return We===null?Zh(o,r,a):w0(o,We.memoizedState,r,a)},useTransition:function(){var r=Yh(Vr)[0],a=vt().memoizedState;return[typeof r=="boolean"?r:Tl(r),a]},useSyncExternalStore:Zb,useId:C0};Fa.useCacheRefresh=T0,Fa.useMemoCache=$h,Fa.useHostTransitionStatus=em,Fa.useFormState=h0,Fa.useActionState=h0,Fa.useOptimistic=function(r,a){var o=vt();return We!==null?s0(o,We,r,a):(o.baseState=r,[r,o.queue.dispatch])};function nm(r,a,o,c){a=r.memoizedState,o=o(c,a),o=o==null?a:$({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var rm={isMounted:function(r){return(r=r._reactInternals)?te(r)===r:!1},enqueueSetState:function(r,a,o){r=r._reactInternals;var c=Sn(),h=Os(c);h.payload=a,o!=null&&(h.callback=o),a=ks(r,h,c),a!==null&&(en(a,r,c),Il(a,r,c))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var c=Sn(),h=Os(c);h.tag=1,h.payload=a,o!=null&&(h.callback=o),a=ks(r,h,c),a!==null&&(en(a,r,c),Il(a,r,c))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=Sn(),c=Os(o);c.tag=2,a!=null&&(c.callback=a),a=ks(r,c,o),a!==null&&(en(a,r,o),Il(a,r,o))}};function I0(r,a,o,c,h,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,w):a.prototype&&a.prototype.isPureReactComponent?!pl(o,c)||!pl(h,g):!0}function j0(r,a,o,c){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,c),a.state!==r&&rm.enqueueReplaceState(a,a.state,null)}function Ha(r,a){var o=a;if("ref"in a){o={};for(var c in a)c!=="ref"&&(o[c]=a[c])}if(r=r.defaultProps){o===a&&(o=$({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Gu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function O0(r){Gu(r)}function k0(r){console.error(r)}function M0(r){Gu(r)}function Yu(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function P0(r,a,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sm(r,a,o){return o=Os(o),o.tag=3,o.payload={element:null},o.callback=function(){Yu(r,a)},o}function L0(r){return r=Os(r),r.tag=3,r}function U0(r,a,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=c.value;r.payload=function(){return h(g)},r.callback=function(){P0(a,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){P0(a,o,c),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function dD(r,a,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=o.alternate,a!==null&&Al(a,o,h,!0),o=Fn.current,o!==null){switch(o.tag){case 13:return Er===null?Bm():o.alternate===null&&ut===0&&(ut=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===kh?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([c]):a.add(c),Fm(r,c,h)),!1;case 22:return o.flags|=65536,c===kh?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([c]):o.add(c)),Fm(r,c,h)),!1}throw Error(s(435,o.tag))}return Fm(r,c,h),Bm(),!1}if(He)return a=Fn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,c!==Oh&&(r=Error(s(422),{cause:c}),bl(Un(r,o)))):(c!==Oh&&(a=Error(s(423),{cause:c}),bl(Un(a,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,c=Un(c,o),h=sm(r.stateNode,c,h),bm(r,h),ut!==4&&(ut=2)),!1;var g=Error(s(520),{cause:c});if(g=Un(g,o),Bl===null?Bl=[g]:Bl.push(g),ut!==4&&(ut=2),a===null)return!0;c=Un(c,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=sm(o.stateNode,c,r),bm(o,r),!1;case 1:if(a=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(zs===null||!zs.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=L0(h),U0(h,r,o,c),bm(o,h),!1}o=o.return}while(o!==null);return!1}var B0=Error(s(461)),Dt=!1;function Ut(r,a,o,c){a.child=r===null?Vb(a,null,o,c):La(a,r.child,o,c)}function z0(r,a,o,c,h){o=o.render;var g=a.ref;if("ref"in c){var w={};for(var D in c)D!=="ref"&&(w[D]=c[D])}else w=c;return Va(a),c=Fh(r,a,o,w,g,h),D=Hh(),r!==null&&!Dt?(qh(r,a,h),$r(r,a,h)):(He&&D&&Ih(a),a.flags|=1,Ut(r,a,c,h),a.child)}function F0(r,a,o,c,h){if(r===null){var g=o.type;return typeof g=="function"&&!Tm(g)&&g.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=g,H0(r,a,g,c,h)):(r=Zu(o.type,null,c,a,a.mode,h),r.ref=a.ref,r.return=a,a.child=r)}if(g=r.child,!hm(r,h)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:pl,o(w,c)&&r.ref===a.ref)return $r(r,a,h)}return a.flags|=1,r=Us(g,c),r.ref=a.ref,r.return=a,a.child=r}function H0(r,a,o,c,h){if(r!==null){var g=r.memoizedProps;if(pl(g,c)&&r.ref===a.ref)if(Dt=!1,a.pendingProps=c=g,hm(r,h))(r.flags&131072)!==0&&(Dt=!0);else return a.lanes=r.lanes,$r(r,a,h)}return am(r,a,o,c,h)}function q0(r,a,o){var c=a.pendingProps,h=c.children,g=(a.stateNode._pendingVisibility&2)!==0,w=r!==null?r.memoizedState:null;if(Dl(r,a),c.mode==="hidden"||g){if((a.flags&128)!==0){if(c=w!==null?w.baseLanes|o:o,r!==null){for(h=a.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;a.childLanes=g&~c}else a.childLanes=0,a.child=null;return V0(r,a,c,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Lu(a,w!==null?w.cachePool:null),w!==null?$b(a,w):Mh(),Gb(a);else return a.lanes=a.childLanes=536870912,V0(r,a,w!==null?w.baseLanes|o:o,o)}else w!==null?(Lu(a,w.cachePool),$b(a,w),Rs(),a.memoizedState=null):(r!==null&&Lu(a,null),Mh(),Rs());return Ut(r,a,h,o),a.child}function V0(r,a,o,c){var h=Bh();return h=h===null?null:{parent:_t._currentValue,pool:h},a.memoizedState={baseLanes:o,cachePool:h},r!==null&&Lu(a,null),Mh(),Gb(a),r!==null&&Al(r,a,c,!0),null}function Dl(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(a.flags|=2097664)}}function am(r,a,o,c,h){return Va(a),o=Fh(r,a,o,c,void 0,h),c=Hh(),r!==null&&!Dt?(qh(r,a,h),$r(r,a,h)):(He&&c&&Ih(a),a.flags|=1,Ut(r,a,o,h),a.child)}function $0(r,a,o,c,h,g){return Va(a),a.updateQueue=null,o=Xb(a,c,o,h),Qb(r),c=Hh(),r!==null&&!Dt?(qh(r,a,g),$r(r,a,g)):(He&&c&&Ih(a),a.flags|=1,Ut(r,a,o,g),a.child)}function G0(r,a,o,c,h){if(Va(a),a.stateNode===null){var g=Ui,w=o.contextType;typeof w=="object"&&w!==null&&(g=Gt(w)),g=new o(c,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=rm,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=c,g.state=a.memoizedState,g.refs={},ym(a),w=o.contextType,g.context=typeof w=="object"&&w!==null?Gt(w):Ui,g.state=a.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(nm(a,o,w,c),g.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&rm.enqueueReplaceState(g,g.state,null),Ol(a,c,g,h),jl(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(r===null){g=a.stateNode;var D=a.memoizedProps,j=Ha(o,D);g.props=j;var H=g.context,J=o.contextType;w=Ui,typeof J=="object"&&J!==null&&(w=Gt(J));var ie=o.getDerivedStateFromProps;J=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",D=a.pendingProps!==D,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(D||H!==w)&&j0(a,g,c,w),js=!1;var W=a.memoizedState;g.state=W,Ol(a,c,g,h),jl(),H=a.memoizedState,D||W!==H||js?(typeof ie=="function"&&(nm(a,o,ie,c),H=a.memoizedState),(j=js||I0(a,o,j,c,W,H,w))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=H),g.props=c,g.state=H,g.context=w,c=j):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{g=a.stateNode,vm(r,a),w=a.memoizedProps,J=Ha(o,w),g.props=J,ie=a.pendingProps,W=g.context,H=o.contextType,j=Ui,typeof H=="object"&&H!==null&&(j=Gt(H)),D=o.getDerivedStateFromProps,(H=typeof D=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ie||W!==j)&&j0(a,g,c,j),js=!1,W=a.memoizedState,g.state=W,Ol(a,c,g,h),jl();var X=a.memoizedState;w!==ie||W!==X||js||r!==null&&r.dependencies!==null&&Wu(r.dependencies)?(typeof D=="function"&&(nm(a,o,D,c),X=a.memoizedState),(J=js||I0(a,o,J,c,W,X,j)||r!==null&&r.dependencies!==null&&Wu(r.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,X,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,X,j)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=X),g.props=c,g.state=X,g.context=j,c=J):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(a.flags|=1024),c=!1)}return g=c,Dl(r,a),c=(a.flags&128)!==0,g||c?(g=a.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,r!==null&&c?(a.child=La(a,r.child,null,h),a.child=La(a,null,o,h)):Ut(r,a,o,h),a.memoizedState=g.state,r=a.child):r=$r(r,a,h),r}function Y0(r,a,o,c){return vl(),a.flags|=256,Ut(r,a,o,c),a.child}var im={dehydrated:null,treeContext:null,retryLane:0};function om(r){return{baseLanes:r,cachePool:Kb()}}function lm(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=$n),r}function W0(r,a,o){var c=a.pendingProps,h=!1,g=(a.flags&128)!==0,w;if((w=g)||(w=r!==null&&r.memoizedState===null?!1:(xt.current&2)!==0),w&&(h=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,r===null){if(He){if(h?Ts(a):Rs(),He){var D=Lt,j;if(j=D){e:{for(j=D,D=wr;j.nodeType!==8;){if(!D){D=null;break e}if(j=ir(j.nextSibling),j===null){D=null;break e}}D=j}D!==null?(a.memoizedState={dehydrated:D,treeContext:ka!==null?{id:Fr,overflow:Hr}:null,retryLane:536870912},j=Vn(18,null,null,0),j.stateNode=D,j.return=a,a.child=j,Jt=a,Lt=null,j=!0):j=!1}j||Pa(a)}if(D=a.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return D.data==="$!"?a.lanes=16:a.lanes=536870912,null;qr(a)}return D=c.children,c=c.fallback,h?(Rs(),h=a.mode,D=um({mode:"hidden",children:D},h),c=Ga(c,h,o,null),D.return=a,c.return=a,D.sibling=c,a.child=D,h=a.child,h.memoizedState=om(o),h.childLanes=lm(r,w,o),a.memoizedState=im,c):(Ts(a),cm(a,D))}if(j=r.memoizedState,j!==null&&(D=j.dehydrated,D!==null)){if(g)a.flags&256?(Ts(a),a.flags&=-257,a=dm(r,a,o)):a.memoizedState!==null?(Rs(),a.child=r.child,a.flags|=128,a=null):(Rs(),h=c.fallback,D=a.mode,c=um({mode:"visible",children:c.children},D),h=Ga(h,D,o,null),h.flags|=2,c.return=a,h.return=a,c.sibling=h,a.child=c,La(a,r.child,null,o),c=a.child,c.memoizedState=om(o),c.childLanes=lm(r,w,o),a.memoizedState=im,a=h);else if(Ts(a),D.data==="$!"){if(w=D.nextSibling&&D.nextSibling.dataset,w)var H=w.dgst;w=H,c=Error(s(419)),c.stack="",c.digest=w,bl({value:c,source:null,stack:null}),a=dm(r,a,o)}else if(Dt||Al(r,a,o,!1),w=(o&r.childLanes)!==0,Dt||w){if(w=Ze,w!==null){if(c=o&-o,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(w.suspendedLanes|o))!==0?0:c,c!==0&&c!==j.retryLane)throw j.retryLane=c,Cs(r,c),en(w,r,c),B0}D.data==="$?"||Bm(),a=dm(r,a,o)}else D.data==="$?"?(a.flags|=128,a.child=r.child,a=CD.bind(null,r),D._reactRetry=a,a=null):(r=j.treeContext,Lt=ir(D.nextSibling),Jt=a,He=!0,sr=null,wr=!1,r!==null&&(Bn[zn++]=Fr,Bn[zn++]=Hr,Bn[zn++]=ka,Fr=r.id,Hr=r.overflow,ka=a),a=cm(a,c.children),a.flags|=4096);return a}return h?(Rs(),h=c.fallback,D=a.mode,j=r.child,H=j.sibling,c=Us(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&31457280,H!==null?h=Us(H,h):(h=Ga(h,D,o,null),h.flags|=2),h.return=a,c.return=a,c.sibling=h,a.child=c,c=h,h=a.child,D=r.child.memoizedState,D===null?D=om(o):(j=D.cachePool,j!==null?(H=_t._currentValue,j=j.parent!==H?{parent:H,pool:H}:j):j=Kb(),D={baseLanes:D.baseLanes|o,cachePool:j}),h.memoizedState=D,h.childLanes=lm(r,w,o),a.memoizedState=im,c):(Ts(a),o=r.child,r=o.sibling,o=Us(o,{mode:"visible",children:c.children}),o.return=a,o.sibling=null,r!==null&&(w=a.deletions,w===null?(a.deletions=[r],a.flags|=16):w.push(r)),a.child=o,a.memoizedState=null,o)}function cm(r,a){return a=um({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function um(r,a){return xx(r,a,0,null)}function dm(r,a,o){return La(a,r.child,null,o),r=cm(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function K0(r,a,o){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a),pm(r.return,a,o)}function fm(r,a,o,c,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=h)}function Q0(r,a,o){var c=a.pendingProps,h=c.revealOrder,g=c.tail;if(Ut(r,a,c.children,o),c=xt.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&K0(r,o,a);else if(r.tag===19)K0(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(Ie(xt,c),h){case"forwards":for(o=a.child,h=null;o!==null;)r=o.alternate,r!==null&&Pu(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=a.child,a.child=null):(h=o.sibling,o.sibling=null),fm(a,!1,h,o,g);break;case"backwards":for(o=null,h=a.child,a.child=null;h!==null;){if(r=h.alternate,r!==null&&Pu(r)===null){a.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}fm(a,!0,o,null,g);break;case"together":fm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function $r(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),Bs|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(Al(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(s(153));if(a.child!==null){for(r=a.child,o=Us(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=Us(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function hm(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Wu(r)))}function fD(r,a,o){switch(a.tag){case 3:_s(a,a.stateNode.containerInfo),Is(a,_t,r.memoizedState.cache),vl();break;case 27:case 5:tr(a);break;case 4:_s(a,a.stateNode.containerInfo);break;case 10:Is(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Ts(a),a.flags|=128,null):(o&a.child.childLanes)!==0?W0(r,a,o):(Ts(a),r=$r(r,a,o),r!==null?r.sibling:null);Ts(a);break;case 19:var h=(r.flags&128)!==0;if(c=(o&a.childLanes)!==0,c||(Al(r,a,o,!1),c=(o&a.childLanes)!==0),h){if(c)return Q0(r,a,o);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ie(xt,xt.current),c)break;return null;case 22:case 23:return a.lanes=0,q0(r,a,o);case 24:Is(a,_t,r.memoizedState.cache)}return $r(r,a,o)}function X0(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)Dt=!0;else{if(!hm(r,o)&&(a.flags&128)===0)return Dt=!1,fD(r,a,o);Dt=(r.flags&131072)!==0}else Dt=!1,He&&(a.flags&1048576)!==0&&Mb(a,Iu,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var c=a.elementType,h=c._init;if(c=h(c._payload),a.type=c,typeof c=="function")Tm(c)?(r=Ha(c,r),a.tag=1,a=G0(null,a,c,r,o)):(a.tag=0,a=am(null,a,c,r,o));else{if(c!=null){if(h=c.$$typeof,h===E){a.tag=11,a=z0(null,a,c,r,o);break e}else if(h===N){a.tag=14,a=F0(null,a,c,r,o);break e}}throw a=Y(c)||c,Error(s(306,a,""))}}return a;case 0:return am(r,a,a.type,a.pendingProps,o);case 1:return c=a.type,h=Ha(c,a.pendingProps),G0(r,a,c,h,o);case 3:e:{if(_s(a,a.stateNode.containerInfo),r===null)throw Error(s(387));var g=a.pendingProps;h=a.memoizedState,c=h.element,vm(r,a),Ol(a,g,null,o);var w=a.memoizedState;if(g=w.cache,Is(a,_t,g),g!==h.cache&&gm(a,[_t],o,!0),jl(),g=w.element,h.isDehydrated)if(h={element:g,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=h,a.memoizedState=h,a.flags&256){a=Y0(r,a,g,o);break e}else if(g!==c){c=Un(Error(s(424)),a),bl(c),a=Y0(r,a,g,o);break e}else for(Lt=ir(a.stateNode.containerInfo.firstChild),Jt=a,He=!0,sr=null,wr=!0,o=Vb(a,null,g,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(vl(),g===c){a=$r(r,a,o);break e}Ut(r,a,g,o)}a=a.child}return a;case 26:return Dl(r,a),r===null?(o=e_(a.type,null,a.pendingProps,null))?a.memoizedState=o:He||(o=a.type,r=a.pendingProps,c=ud(qt.current).createElement(o),c[$t]=a,c[cn]=r,Bt(c,o,r),Rt(c),a.stateNode=c):a.memoizedState=e_(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return tr(a),r===null&&He&&(c=a.stateNode=Xx(a.type,a.pendingProps,qt.current),Jt=a,wr=!0,Lt=ir(c.firstChild)),c=a.pendingProps.children,r!==null||He?Ut(r,a,c,o):a.child=La(a,null,c,o),Dl(r,a),a.child;case 5:return r===null&&He&&((h=c=Lt)&&(c=HD(c,a.type,a.pendingProps,wr),c!==null?(a.stateNode=c,Jt=a,Lt=ir(c.firstChild),wr=!1,h=!0):h=!1),h||Pa(a)),tr(a),h=a.type,g=a.pendingProps,w=r!==null?r.memoizedProps:null,c=g.children,Jm(h,g)?c=null:w!==null&&Jm(h,w)&&(a.flags|=32),a.memoizedState!==null&&(h=Fh(r,a,aD,null,null,o),Wl._currentValue=h),Dl(r,a),Ut(r,a,c,o),a.child;case 6:return r===null&&He&&((r=o=Lt)&&(o=qD(o,a.pendingProps,wr),o!==null?(a.stateNode=o,Jt=a,Lt=null,r=!0):r=!1),r||Pa(a)),null;case 13:return W0(r,a,o);case 4:return _s(a,a.stateNode.containerInfo),c=a.pendingProps,r===null?a.child=La(a,null,c,o):Ut(r,a,c,o),a.child;case 11:return z0(r,a,a.type,a.pendingProps,o);case 7:return Ut(r,a,a.pendingProps,o),a.child;case 8:return Ut(r,a,a.pendingProps.children,o),a.child;case 12:return Ut(r,a,a.pendingProps.children,o),a.child;case 10:return c=a.pendingProps,Is(a,a.type,c.value),Ut(r,a,c.children,o),a.child;case 9:return h=a.type._context,c=a.pendingProps.children,Va(a),h=Gt(h),c=c(h),a.flags|=1,Ut(r,a,c,o),a.child;case 14:return F0(r,a,a.type,a.pendingProps,o);case 15:return H0(r,a,a.type,a.pendingProps,o);case 19:return Q0(r,a,o);case 22:return q0(r,a,o);case 24:return Va(a),c=Gt(_t),r===null?(h=Bh(),h===null&&(h=Ze,g=Lh(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),a.memoizedState={parent:c,cache:h},ym(a),Is(a,_t,h)):((r.lanes&o)!==0&&(vm(r,a),Ol(a,null,null,o),jl()),h=r.memoizedState,g=a.memoizedState,h.parent!==c?(h={parent:c,cache:c},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),Is(a,_t,c)):(c=g.cache,Is(a,_t,c),c!==h.cache&&gm(a,[_t],o,!0))),Ut(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}var mm=he(null),qa=null,Gr=null;function Is(r,a,o){Ie(mm,a._currentValue),a._currentValue=o}function Yr(r){r._currentValue=mm.current,xe(mm)}function pm(r,a,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),r===o)break;r=r.return}}function gm(r,a,o,c){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var w=h.child;g=g.firstContext;e:for(;g!==null;){var D=g;g=h;for(var j=0;j<a.length;j++)if(D.context===a[j]){g.lanes|=o,D=g.alternate,D!==null&&(D.lanes|=o),pm(g.return,o,r),c||(w=null);break e}g=D.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(s(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),pm(w,o,r),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===r){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Al(r,a,o,c){r=null;for(var h=a,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var D=h.type;xn(h.pendingProps.value,w.value)||(r!==null?r.push(D):r=[D])}}else if(h===Jn.current){if(w=h.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(Wl):r=[Wl])}h=h.return}r!==null&&gm(a,r,o,c),a.flags|=262144}function Wu(r){for(r=r.firstContext;r!==null;){if(!xn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Va(r){qa=r,Gr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Gt(r){return Z0(qa,r)}function Ku(r,a){return qa===null&&Va(r),Z0(r,a)}function Z0(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Gr===null){if(r===null)throw Error(s(308));Gr=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Gr=Gr.next=a;return o}var js=!1;function ym(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vm(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Os(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ks(r,a,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(it&2)!==0){var h=c.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),c.pending=a,a=Du(r),Ob(r,null,o),a}return Ru(r,c,a,o),Du(r)}function Il(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194176)!==0)){var c=a.lanes;c&=r.pendingLanes,o|=c,a.lanes=o,al(r,o)}}function bm(r,a){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?h=g=a:g=g.next=a}else h=g=a;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var xm=!1;function jl(){if(xm){var r=Vi;if(r!==null)throw r}}function Ol(r,a,o,c){xm=!1;var h=r.updateQueue;js=!1;var g=h.firstBaseUpdate,w=h.lastBaseUpdate,D=h.shared.pending;if(D!==null){h.shared.pending=null;var j=D,H=j.next;j.next=null,w===null?g=H:w.next=H,w=j;var J=r.alternate;J!==null&&(J=J.updateQueue,D=J.lastBaseUpdate,D!==w&&(D===null?J.firstBaseUpdate=H:D.next=H,J.lastBaseUpdate=j))}if(g!==null){var ie=h.baseState;w=0,J=H=j=null,D=g;do{var W=D.lane&-536870913,X=W!==D.lane;if(X?(Fe&W)===W:(c&W)===W){W!==0&&W===qi&&(xm=!0),J!==null&&(J=J.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var ye=r,Ce=D;W=a;var dt=o;switch(Ce.tag){case 1:if(ye=Ce.payload,typeof ye=="function"){ie=ye.call(dt,ie,W);break e}ie=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ce.payload,W=typeof ye=="function"?ye.call(dt,ie,W):ye,W==null)break e;ie=$({},ie,W);break e;case 2:js=!0}}W=D.callback,W!==null&&(r.flags|=64,X&&(r.flags|=8192),X=h.callbacks,X===null?h.callbacks=[W]:X.push(W))}else X={lane:W,tag:D.tag,payload:D.payload,callback:D.callback,next:null},J===null?(H=J=X,j=ie):J=J.next=X,w|=W;if(D=D.next,D===null){if(D=h.shared.pending,D===null)break;X=D,D=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);J===null&&(j=ie),h.baseState=j,h.firstBaseUpdate=H,h.lastBaseUpdate=J,g===null&&(h.shared.lanes=0),Bs|=w,r.lanes=w,r.memoizedState=ie}}function J0(r,a){if(typeof r!="function")throw Error(s(191,r));r.call(a)}function ex(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)J0(o[r],a)}function kl(r,a){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&r)===r){c=void 0;var g=o.create,w=o.inst;c=g(),w.destroy=c}o=o.next}while(o!==h)}}catch(D){Xe(a,a.return,D)}}function Ms(r,a,o){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&r)===r){var w=c.inst,D=w.destroy;if(D!==void 0){w.destroy=void 0,h=a;var j=o;try{D()}catch(H){Xe(h,j,H)}}}c=c.next}while(c!==g)}}catch(H){Xe(a,a.return,H)}}function tx(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{ex(a,o)}catch(c){Xe(r,r.return,c)}}}function nx(r,a,o){o.props=Ha(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){Xe(r,a,c)}}function $a(r,a){try{var o=r.ref;if(o!==null){var c=r.stateNode;switch(r.tag){case 26:case 27:case 5:var h=c;break;default:h=c}typeof o=="function"?r.refCleanup=o(h):o.current=h}}catch(g){Xe(r,a,g)}}function _n(r,a){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){Xe(r,a,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){Xe(r,a,h)}else o.current=null}function rx(r){var a=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){Xe(r,r.return,h)}}function sx(r,a,o){try{var c=r.stateNode;LD(c,r.type,o,a),c[cn]=a}catch(h){Xe(r,r.return,h)}}function ax(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function _m(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ax(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function wm(r,a,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?o.nodeType===8?o.parentNode.insertBefore(r,a):o.insertBefore(r,a):(o.nodeType===8?(a=o.parentNode,a.insertBefore(r,o)):(a=o,a.appendChild(r)),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=cd));else if(c!==4&&c!==27&&(r=r.child,r!==null))for(wm(r,a,o),r=r.sibling;r!==null;)wm(r,a,o),r=r.sibling}function Qu(r,a,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(c!==4&&c!==27&&(r=r.child,r!==null))for(Qu(r,a,o),r=r.sibling;r!==null;)Qu(r,a,o),r=r.sibling}var Wr=!1,ct=!1,Em=!1,ix=typeof WeakSet=="function"?WeakSet:Set,At=null,ox=!1;function hD(r,a){if(r=r.containerInfo,Xm=gd,r=Sb(r),Nh(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,D=-1,j=-1,H=0,J=0,ie=r,W=null;t:for(;;){for(var X;ie!==o||h!==0&&ie.nodeType!==3||(D=w+h),ie!==g||c!==0&&ie.nodeType!==3||(j=w+c),ie.nodeType===3&&(w+=ie.nodeValue.length),(X=ie.firstChild)!==null;)W=ie,ie=X;for(;;){if(ie===r)break t;if(W===o&&++H===h&&(D=w),W===g&&++J===c&&(j=w),(X=ie.nextSibling)!==null)break;ie=W,W=ie.parentNode}ie=X}o=D===-1||j===-1?null:{start:D,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Zm={focusedElem:r,selectionRange:o},gd=!1,At=a;At!==null;)if(a=At,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,At=r;else for(;At!==null;){switch(a=At,g=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=a,h=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var ye=Ha(o.type,h,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(ye,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Ce){Xe(o,o.return,Ce)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)np(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":np(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=a.sibling,r!==null){r.return=a.return,At=r;break}At=a.return}return ye=ox,ox=!1,ye}function lx(r,a,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Qr(r,o),c&4&&kl(5,o);break;case 1:if(Qr(r,o),c&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(D){Xe(o,o.return,D)}else{var h=Ha(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(h,a,r.__reactInternalSnapshotBeforeUpdate)}catch(D){Xe(o,o.return,D)}}c&64&&tx(o),c&512&&$a(o,o.return);break;case 3:if(Qr(r,o),c&64&&(c=o.updateQueue,c!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{ex(c,r)}catch(D){Xe(o,o.return,D)}}break;case 26:Qr(r,o),c&512&&$a(o,o.return);break;case 27:case 5:Qr(r,o),a===null&&c&4&&rx(o),c&512&&$a(o,o.return);break;case 12:Qr(r,o);break;case 13:Qr(r,o),c&4&&dx(r,o);break;case 22:if(h=o.memoizedState!==null||Wr,!h){a=a!==null&&a.memoizedState!==null||ct;var g=Wr,w=ct;Wr=h,(ct=a)&&!w?Ps(r,o,(o.subtreeFlags&8772)!==0):Qr(r,o),Wr=g,ct=w}c&512&&(o.memoizedProps.mode==="manual"?$a(o,o.return):_n(o,o.return));break;default:Qr(r,o)}}function cx(r){var a=r.alternate;a!==null&&(r.alternate=null,cx(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&ch(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var bt=null,wn=!1;function Kr(r,a,o){for(o=o.child;o!==null;)ux(r,a,o),o=o.sibling}function ux(r,a,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Na,o)}catch{}switch(o.tag){case 26:ct||_n(o,a),Kr(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ct||_n(o,a);var c=bt,h=wn;for(bt=o.stateNode,Kr(r,a,o),o=o.stateNode,a=o.attributes;a.length;)o.removeAttributeNode(a[0]);ch(o),bt=c,wn=h;break;case 5:ct||_n(o,a);case 6:h=bt;var g=wn;if(bt=null,Kr(r,a,o),bt=h,wn=g,bt!==null)if(wn)try{r=bt,c=o.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)}catch(w){Xe(o,a,w)}else try{bt.removeChild(o.stateNode)}catch(w){Xe(o,a,w)}break;case 18:bt!==null&&(wn?(a=bt,o=o.stateNode,a.nodeType===8?tp(a.parentNode,o):a.nodeType===1&&tp(a,o),Zl(a)):tp(bt,o.stateNode));break;case 4:c=bt,h=wn,bt=o.stateNode.containerInfo,wn=!0,Kr(r,a,o),bt=c,wn=h;break;case 0:case 11:case 14:case 15:ct||Ms(2,o,a),ct||Ms(4,o,a),Kr(r,a,o);break;case 1:ct||(_n(o,a),c=o.stateNode,typeof c.componentWillUnmount=="function"&&nx(o,a,c)),Kr(r,a,o);break;case 21:Kr(r,a,o);break;case 22:ct||_n(o,a),ct=(c=ct)||o.memoizedState!==null,Kr(r,a,o),ct=c;break;default:Kr(r,a,o)}}function dx(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Zl(r)}catch(o){Xe(a,a.return,o)}}function mD(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new ix),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new ix),a;default:throw Error(s(435,r.tag))}}function Sm(r,a){var o=mD(r);a.forEach(function(c){var h=TD.bind(null,r,c);o.has(c)||(o.add(c),c.then(h,h))})}function Hn(r,a){var o=a.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],g=r,w=a,D=w;e:for(;D!==null;){switch(D.tag){case 27:case 5:bt=D.stateNode,wn=!1;break e;case 3:bt=D.stateNode.containerInfo,wn=!0;break e;case 4:bt=D.stateNode.containerInfo,wn=!0;break e}D=D.return}if(bt===null)throw Error(s(160));ux(g,w,h),bt=null,wn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)fx(a,r),a=a.sibling}var ar=null;function fx(r,a){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Hn(a,r),qn(r),c&4&&(Ms(3,r,r.return),kl(3,r),Ms(5,r,r.return));break;case 1:Hn(a,r),qn(r),c&512&&(ct||o===null||_n(o,o.return)),c&64&&Wr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=ar;if(Hn(a,r),qn(r),c&512&&(ct||o===null||_n(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":g=h.getElementsByTagName("title")[0],(!g||g[il]||g[$t]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(c),h.head.insertBefore(g,h.querySelector("head > title"))),Bt(g,c,o),g[$t]=r,Rt(g),c=g;break e;case"link":var w=r_("link","href",h).get(c+(o.href||""));if(w){for(var D=0;D<w.length;D++)if(g=w[D],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(D,1);break t}}g=h.createElement(c),Bt(g,c,o),h.head.appendChild(g);break;case"meta":if(w=r_("meta","content",h).get(c+(o.content||""))){for(D=0;D<w.length;D++)if(g=w[D],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(D,1);break t}}g=h.createElement(c),Bt(g,c,o),h.head.appendChild(g);break;default:throw Error(s(468,c))}g[$t]=r,Rt(g),c=g}r.stateNode=c}else s_(h,r.type,r.stateNode);else r.stateNode=n_(h,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?s_(h,r.type,r.stateNode):n_(h,c,r.memoizedProps)):c===null&&r.stateNode!==null&&sx(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&r.alternate===null){h=r.stateNode,g=r.memoizedProps;try{for(var j=h.firstChild;j;){var H=j.nextSibling,J=j.nodeName;j[il]||J==="HEAD"||J==="BODY"||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&j.rel.toLowerCase()==="stylesheet"||h.removeChild(j),j=H}for(var ie=r.type,W=h.attributes;W.length;)h.removeAttributeNode(W[0]);Bt(h,ie,g),h[$t]=r,h[cn]=g}catch(ye){Xe(r,r.return,ye)}}case 5:if(Hn(a,r),qn(r),c&512&&(ct||o===null||_n(o,o.return)),r.flags&32){h=r.stateNode;try{Ii(h,"")}catch(ye){Xe(r,r.return,ye)}}c&4&&r.stateNode!=null&&(h=r.memoizedProps,sx(r,h,o!==null?o.memoizedProps:h)),c&1024&&(Em=!0);break;case 6:if(Hn(a,r),qn(r),c&4){if(r.stateNode===null)throw Error(s(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(ye){Xe(r,r.return,ye)}}break;case 3:if(hd=null,h=ar,ar=dd(a.containerInfo),Hn(a,r),ar=h,qn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Zl(a.containerInfo)}catch(ye){Xe(r,r.return,ye)}Em&&(Em=!1,hx(r));break;case 4:c=ar,ar=dd(r.stateNode.containerInfo),Hn(a,r),qn(r),ar=c;break;case 12:Hn(a,r),qn(r);break;case 13:Hn(a,r),qn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Om=kn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Sm(r,c)));break;case 22:if(c&512&&(ct||o===null||_n(o,o.return)),j=r.memoizedState!==null,H=o!==null&&o.memoizedState!==null,J=Wr,ie=ct,Wr=J||j,ct=ie||H,Hn(a,r),ct=ie,Wr=J,qn(r),a=r.stateNode,a._current=r,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,c&8192&&(a._visibility=j?a._visibility&-2:a._visibility|1,j&&(a=Wr||ct,o===null||H||a||Wi(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,a=r;;){if(a.tag===5||a.tag===26||a.tag===27){if(o===null){H=o=a;try{if(h=H.stateNode,j)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{w=H.stateNode,D=H.memoizedProps.style;var X=D!=null&&D.hasOwnProperty("display")?D.display:null;w.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ye){Xe(H,H.return,ye)}}}else if(a.tag===6){if(o===null){H=a;try{H.stateNode.nodeValue=j?"":H.memoizedProps}catch(ye){Xe(H,H.return,ye)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Sm(r,o))));break;case 19:Hn(a,r),qn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Sm(r,c)));break;case 21:break;default:Hn(a,r),qn(r)}}function qn(r){var a=r.flags;if(a&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(ax(o)){var c=o;break e}o=o.return}throw Error(s(160))}switch(c.tag){case 27:var h=c.stateNode,g=_m(r);Qu(r,g,h);break;case 5:var w=c.stateNode;c.flags&32&&(Ii(w,""),c.flags&=-33);var D=_m(r);Qu(r,D,w);break;case 3:case 4:var j=c.stateNode.containerInfo,H=_m(r);wm(r,H,j);break;default:throw Error(s(161))}}}catch(J){Xe(r,r.return,J)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function hx(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;hx(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Qr(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)lx(r,a.alternate,a),a=a.sibling}function Wi(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Ms(4,a,a.return),Wi(a);break;case 1:_n(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&nx(a,a.return,o),Wi(a);break;case 26:case 27:case 5:_n(a,a.return),Wi(a);break;case 22:_n(a,a.return),a.memoizedState===null&&Wi(a);break;default:Wi(a)}r=r.sibling}}function Ps(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,h=r,g=a,w=g.flags;switch(g.tag){case 0:case 11:case 15:Ps(h,g,o),kl(4,g);break;case 1:if(Ps(h,g,o),c=g,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Xe(c,c.return,H)}if(c=g,h=c.updateQueue,h!==null){var D=c.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)J0(j[h],D)}catch(H){Xe(c,c.return,H)}}o&&w&64&&tx(g),$a(g,g.return);break;case 26:case 27:case 5:Ps(h,g,o),o&&c===null&&w&4&&rx(g),$a(g,g.return);break;case 12:Ps(h,g,o);break;case 13:Ps(h,g,o),o&&w&4&&dx(h,g);break;case 22:g.memoizedState===null&&Ps(h,g,o),$a(g,g.return);break;default:Ps(h,g,o)}a=a.sibling}}function Nm(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Sl(o))}function Cm(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Sl(r))}function Ls(r,a,o,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)mx(r,a,o,c),a=a.sibling}function mx(r,a,o,c){var h=a.flags;switch(a.tag){case 0:case 11:case 15:Ls(r,a,o,c),h&2048&&kl(9,a);break;case 3:Ls(r,a,o,c),h&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Sl(r)));break;case 12:if(h&2048){Ls(r,a,o,c),r=a.stateNode;try{var g=a.memoizedProps,w=g.id,D=g.onPostCommit;typeof D=="function"&&D(w,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){Xe(a,a.return,j)}}else Ls(r,a,o,c);break;case 23:break;case 22:g=a.stateNode,a.memoizedState!==null?g._visibility&4?Ls(r,a,o,c):Ml(r,a):g._visibility&4?Ls(r,a,o,c):(g._visibility|=4,Ki(r,a,o,c,(a.subtreeFlags&10256)!==0)),h&2048&&Nm(a.alternate,a);break;case 24:Ls(r,a,o,c),h&2048&&Cm(a.alternate,a);break;default:Ls(r,a,o,c)}}function Ki(r,a,o,c,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=r,w=a,D=o,j=c,H=w.flags;switch(w.tag){case 0:case 11:case 15:Ki(g,w,D,j,h),kl(8,w);break;case 23:break;case 22:var J=w.stateNode;w.memoizedState!==null?J._visibility&4?Ki(g,w,D,j,h):Ml(g,w):(J._visibility|=4,Ki(g,w,D,j,h)),h&&H&2048&&Nm(w.alternate,w);break;case 24:Ki(g,w,D,j,h),h&&H&2048&&Cm(w.alternate,w);break;default:Ki(g,w,D,j,h)}a=a.sibling}}function Ml(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,c=a,h=c.flags;switch(c.tag){case 22:Ml(o,c),h&2048&&Nm(c.alternate,c);break;case 24:Ml(o,c),h&2048&&Cm(c.alternate,c);break;default:Ml(o,c)}a=a.sibling}}var Pl=8192;function Qi(r){if(r.subtreeFlags&Pl)for(r=r.child;r!==null;)px(r),r=r.sibling}function px(r){switch(r.tag){case 26:Qi(r),r.flags&Pl&&r.memoizedState!==null&&nA(ar,r.memoizedState,r.memoizedProps);break;case 5:Qi(r);break;case 3:case 4:var a=ar;ar=dd(r.stateNode.containerInfo),Qi(r),ar=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Pl,Pl=16777216,Qi(r),Pl=a):Qi(r));break;default:Qi(r)}}function gx(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Ll(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];At=c,vx(c,r)}gx(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)yx(r),r=r.sibling}function yx(r){switch(r.tag){case 0:case 11:case 15:Ll(r),r.flags&2048&&Ms(9,r,r.return);break;case 3:Ll(r);break;case 12:Ll(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&4&&(r.return===null||r.return.tag!==13)?(a._visibility&=-5,Xu(r)):Ll(r);break;default:Ll(r)}}function Xu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];At=c,vx(c,r)}gx(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Ms(8,a,a.return),Xu(a);break;case 22:o=a.stateNode,o._visibility&4&&(o._visibility&=-5,Xu(a));break;default:Xu(a)}r=r.sibling}}function vx(r,a){for(;At!==null;){var o=At;switch(o.tag){case 0:case 11:case 15:Ms(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Sl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,At=c;else e:for(o=r;At!==null;){c=At;var h=c.sibling,g=c.return;if(cx(c),c===o){At=null;break e}if(h!==null){h.return=g,At=h;break e}At=g}}}function pD(r,a,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(r,a,o,c){return new pD(r,a,o,c)}function Tm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Us(r,a){var o=r.alternate;return o===null?(o=Vn(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function bx(r,a){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Zu(r,a,o,c,h,g){var w=0;if(c=r,typeof r=="function")Tm(r)&&(w=1);else if(typeof r=="string")w=eA(r,o,Kt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case m:return Ga(o.children,h,g,a);case p:w=8,h|=24;break;case v:return r=Vn(12,o,a,h|2),r.elementType=v,r.lanes=g,r;case S:return r=Vn(13,o,a,h),r.elementType=S,r.lanes=g,r;case C:return r=Vn(19,o,a,h),r.elementType=C,r.lanes=g,r;case R:return xx(o,h,g,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case y:case x:w=10;break e;case b:w=9;break e;case E:w=11;break e;case N:w=14;break e;case T:w=16,c=null;break e}w=29,o=Error(s(130,r===null?"null":typeof r,"")),c=null}return a=Vn(w,o,a,h),a.elementType=r,a.type=c,a.lanes=g,a}function Ga(r,a,o,c){return r=Vn(7,r,c,a),r.lanes=o,r}function xx(r,a,o,c){r=Vn(22,r,c,a),r.elementType=R,r.lanes=o;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=h._current;if(g===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var w=Cs(g,2);w!==null&&(h._pendingVisibility|=2,en(w,g,2))}},attach:function(){var g=h._current;if(g===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var w=Cs(g,2);w!==null&&(h._pendingVisibility&=-3,en(w,g,2))}}};return r.stateNode=h,r}function Rm(r,a,o){return r=Vn(6,r,null,a),r.lanes=o,r}function Dm(r,a,o){return a=Vn(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function Xr(r){r.flags|=4}function _x(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!a_(a)){if(a=Fn.current,a!==null&&((Fe&4194176)===Fe?Er!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||a!==Er))throw _l=kh,Ub;r.flags|=8192}}function Ju(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?gt():536870912,r.lanes|=a,Zi|=a)}function Ul(r,a){if(!He)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function at(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(a)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&31457280,c|=h.flags&31457280,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=o,a}function gD(r,a,o){var c=a.pendingProps;switch(jh(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(a),null;case 1:return at(a),null;case 3:return o=a.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Yr(_t),er(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(yl(a)?Xr(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,sr!==null&&(Lm(sr),sr=null))),at(a),null;case 26:return o=a.memoizedState,r===null?(Xr(a),o!==null?(at(a),_x(a,o)):(at(a),a.flags&=-16777217)):o?o!==r.memoizedState?(Xr(a),at(a),_x(a,o)):(at(a),a.flags&=-16777217):(r.memoizedProps!==c&&Xr(a),at(a),a.flags&=-16777217),null;case 27:Lr(a),o=qt.current;var h=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Xr(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return at(a),null}r=Kt.current,yl(a)?Pb(a):(r=Xx(h,c,o),a.stateNode=r,Xr(a))}return at(a),null;case 5:if(Lr(a),o=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Xr(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return at(a),null}if(r=Kt.current,yl(a))Pb(a);else{switch(h=ud(qt.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?h.createElement(o,{is:c.is}):h.createElement(o)}}r[$t]=a,r[cn]=c;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=r;e:switch(Bt(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Xr(a)}}return at(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==c&&Xr(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(s(166));if(r=qt.current,yl(a)){if(r=a.stateNode,o=a.memoizedProps,c=null,h=Jt,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}r[$t]=a,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||$x(r.nodeValue,o)),r||Pa(a)}else r=ud(r).createTextNode(c),r[$t]=a,a.stateNode=r}return at(a),null;case 13:if(c=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=yl(a),c!==null&&c.dehydrated!==null){if(r===null){if(!h)throw Error(s(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[$t]=a}else vl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;at(a),h=!1}else sr!==null&&(Lm(sr),sr=null),h=!0;if(!h)return a.flags&256?(qr(a),a):(qr(a),null)}if(qr(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=a.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048)}return o!==r&&o&&(a.child.flags|=8192),Ju(a,a.updateQueue),at(a),null;case 4:return er(),r===null&&Wm(a.stateNode.containerInfo),at(a),null;case 10:return Yr(a.type),at(a),null;case 19:if(xe(xt),h=a.memoizedState,h===null)return at(a),null;if(c=(a.flags&128)!==0,g=h.rendering,g===null)if(c)Ul(h,!1);else{if(ut!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(g=Pu(r),g!==null){for(a.flags|=128,Ul(h,!1),r=g.updateQueue,a.updateQueue=r,Ju(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)bx(o,r),o=o.sibling;return Ie(xt,xt.current&1|2),a.child}r=r.sibling}h.tail!==null&&kn()>ed&&(a.flags|=128,c=!0,Ul(h,!1),a.lanes=4194304)}else{if(!c)if(r=Pu(g),r!==null){if(a.flags|=128,c=!0,r=r.updateQueue,a.updateQueue=r,Ju(a,r),Ul(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!He)return at(a),null}else 2*kn()-h.renderingStartTime>ed&&o!==536870912&&(a.flags|=128,c=!0,Ul(h,!1),a.lanes=4194304);h.isBackwards?(g.sibling=a.child,a.child=g):(r=h.last,r!==null?r.sibling=g:a.child=g,h.last=g)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=kn(),a.sibling=null,r=xt.current,Ie(xt,c?r&1|2:r&1),a):(at(a),null);case 22:case 23:return qr(a),Ph(),c=a.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(o&536870912)!==0&&(a.flags&128)===0&&(at(a),a.subtreeFlags&6&&(a.flags|=8192)):at(a),o=a.updateQueue,o!==null&&Ju(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048),r!==null&&xe(Ua),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Yr(_t),at(a),null;case 25:return null}throw Error(s(156,a.tag))}function yD(r,a){switch(jh(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Yr(_t),er(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Lr(a),null;case 13:if(qr(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(s(340));vl()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return xe(xt),null;case 4:return er(),null;case 10:return Yr(a.type),null;case 22:case 23:return qr(a),Ph(),r!==null&&xe(Ua),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Yr(_t),null;case 25:return null;default:return null}}function wx(r,a){switch(jh(a),a.tag){case 3:Yr(_t),er();break;case 26:case 27:case 5:Lr(a);break;case 4:er();break;case 13:qr(a);break;case 19:xe(xt);break;case 10:Yr(a.type);break;case 22:case 23:qr(a),Ph(),r!==null&&xe(Ua);break;case 24:Yr(_t)}}var vD={getCacheForType:function(r){var a=Gt(_t),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o}},bD=typeof WeakMap=="function"?WeakMap:Map,it=0,Ze=null,Me=null,Fe=0,Je=0,En=null,Zr=!1,Xi=!1,Am=!1,Jr=0,ut=0,Bs=0,Ya=0,Im=0,$n=0,Zi=0,Bl=null,Nr=null,jm=!1,Om=0,ed=1/0,td=null,zs=null,nd=!1,Wa=null,zl=0,km=0,Mm=null,Fl=0,Pm=null;function Sn(){if((it&2)!==0&&Fe!==0)return Fe&-Fe;if(P.T!==null){var r=qi;return r!==0?r:Vm()}return oh()}function Ex(){$n===0&&($n=(Fe&536870912)===0||He?Ra():536870912);var r=Fn.current;return r!==null&&(r.flags|=32),$n}function en(r,a,o){(r===Ze&&Je===2||r.cancelPendingCommit!==null)&&(Ji(r,0),es(r,Fe,$n,!1)),xr(r,o),((it&2)===0||r!==Ze)&&(r===Ze&&((it&2)===0&&(Ya|=o),ut===4&&es(r,Fe,$n,!1)),Cr(r))}function Sx(r,a,o){if((it&6)!==0)throw Error(s(327));var c=!o&&(a&60)===0&&(a&r.expiredLanes)===0||lt(r,a),h=c?wD(r,a):zm(r,a,!0),g=c;do{if(h===0){Xi&&!c&&es(r,a,0,!1);break}else if(h===6)es(r,a,0,!Zr);else{if(o=r.current.alternate,g&&!xD(o)){h=zm(r,a,!1),g=!1;continue}if(h===2){if(g=a,r.errorRecoveryDisabledLanes&g)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var D=r;h=Bl;var j=D.current.memoizedState.isDehydrated;if(j&&(Ji(D,w).flags|=256),w=zm(D,w,!1),w!==2){if(Am&&!j){D.errorRecoveryDisabledLanes|=g,Ya|=g,h=4;break e}g=Nr,Nr=h,g!==null&&Lm(g)}h=w}if(g=!1,h!==2)continue}}if(h===1){Ji(r,0),es(r,a,0,!0);break}e:{switch(c=r,h){case 0:case 1:throw Error(s(345));case 4:if((a&4194176)===a){es(c,a,$n,!Zr);break e}break;case 2:Nr=null;break;case 3:case 5:break;default:throw Error(s(329))}if(c.finishedWork=o,c.finishedLanes=a,(a&62914560)===a&&(g=Om+300-kn(),10<g)){if(es(c,a,$n,!Zr),st(c,0)!==0)break e;c.timeoutHandle=Wx(Nx.bind(null,c,o,Nr,td,jm,a,$n,Ya,Zi,Zr,2,-0,0),g);break e}Nx(c,o,Nr,td,jm,a,$n,Ya,Zi,Zr,0,-0,0)}}break}while(!0);Cr(r)}function Lm(r){Nr===null?Nr=r:Nr.push.apply(Nr,r)}function Nx(r,a,o,c,h,g,w,D,j,H,J,ie,W){var X=a.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(Yl={stylesheets:null,count:0,unsuspend:tA},px(a),a=rA(),a!==null)){r.cancelPendingCommit=a(jx.bind(null,r,o,c,h,w,D,j,1,ie,W)),es(r,g,w,!H);return}jx(r,o,c,h,w,D,j,J,ie,W)}function xD(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],g=h.getSnapshot;h=h.value;try{if(!xn(g(),h))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function es(r,a,o,c){a&=~Im,a&=~Ya,r.suspendedLanes|=a,r.pingedLanes&=~a,c&&(r.warmLanes|=a),c=r.expirationTimes;for(var h=a;0<h;){var g=31-Xt(h),w=1<<g;c[g]=-1,h&=~w}o!==0&&ln(r,o,a)}function rd(){return(it&6)===0?(Hl(0),!1):!0}function Um(){if(Me!==null){if(Je===0)var r=Me.return;else r=Me,Gr=qa=null,Vh(r),Fi=null,wl=0,r=Me;for(;r!==null;)wx(r.alternate,r),r=r.return;Me=null}}function Ji(r,a){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,BD(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Um(),Ze=r,Me=o=Us(r.current,null),Fe=a,Je=0,En=null,Zr=!1,Xi=lt(r,a),Am=!1,Zi=$n=Im=Ya=Bs=ut=0,Nr=Bl=null,jm=!1,(a&8)!==0&&(a|=a&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=a;0<c;){var h=31-Xt(c),g=1<<h;a|=r[h],c&=~g}return Jr=a,Tu(),o}function Cx(r,a){Re=null,P.H=Sr,a===xl?(a=Fb(),Je=3):a===Ub?(a=Fb(),Je=4):Je=a===B0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,En=a,Me===null&&(ut=1,Yu(r,Un(a,r.current)))}function Tx(){var r=P.H;return P.H=Sr,r===null?Sr:r}function Rx(){var r=P.A;return P.A=vD,r}function Bm(){ut=4,Zr||(Fe&4194176)!==Fe&&Fn.current!==null||(Xi=!0),(Bs&134217727)===0&&(Ya&134217727)===0||Ze===null||es(Ze,Fe,$n,!1)}function zm(r,a,o){var c=it;it|=2;var h=Tx(),g=Rx();(Ze!==r||Fe!==a)&&(td=null,Ji(r,a)),a=!1;var w=ut;e:do try{if(Je!==0&&Me!==null){var D=Me,j=En;switch(Je){case 8:Um(),w=6;break e;case 3:case 2:case 6:Fn.current===null&&(a=!0);var H=Je;if(Je=0,En=null,eo(r,D,j,H),o&&Xi){w=0;break e}break;default:H=Je,Je=0,En=null,eo(r,D,j,H)}}_D(),w=ut;break}catch(J){Cx(r,J)}while(!0);return a&&r.shellSuspendCounter++,Gr=qa=null,it=c,P.H=h,P.A=g,Me===null&&(Ze=null,Fe=0,Tu()),w}function _D(){for(;Me!==null;)Dx(Me)}function wD(r,a){var o=it;it|=2;var c=Tx(),h=Rx();Ze!==r||Fe!==a?(td=null,ed=kn()+500,Ji(r,a)):Xi=lt(r,a);e:do try{if(Je!==0&&Me!==null){a=Me;var g=En;t:switch(Je){case 1:Je=0,En=null,eo(r,a,g,1);break;case 2:if(Bb(g)){Je=0,En=null,Ax(a);break}a=function(){Je===2&&Ze===r&&(Je=7),Cr(r)},g.then(a,a);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Bb(g)?(Je=0,En=null,Ax(a)):(Je=0,En=null,eo(r,a,g,7));break;case 5:var w=null;switch(Me.tag){case 26:w=Me.memoizedState;case 5:case 27:var D=Me;if(!w||a_(w)){Je=0,En=null;var j=D.sibling;if(j!==null)Me=j;else{var H=D.return;H!==null?(Me=H,sd(H)):Me=null}break t}}Je=0,En=null,eo(r,a,g,5);break;case 6:Je=0,En=null,eo(r,a,g,6);break;case 8:Um(),ut=6;break e;default:throw Error(s(462))}}ED();break}catch(J){Cx(r,J)}while(!0);return Gr=qa=null,P.H=c,P.A=h,it=o,Me!==null?0:(Ze=null,Fe=0,Tu(),ut)}function ED(){for(;Me!==null&&!on();)Dx(Me)}function Dx(r){var a=X0(r.alternate,r,Jr);r.memoizedProps=r.pendingProps,a===null?sd(r):Me=a}function Ax(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=$0(o,a,a.pendingProps,a.type,void 0,Fe);break;case 11:a=$0(o,a,a.pendingProps,a.type.render,a.ref,Fe);break;case 5:Vh(a);default:wx(o,a),a=Me=bx(a,Jr),a=X0(o,a,Jr)}r.memoizedProps=r.pendingProps,a===null?sd(r):Me=a}function eo(r,a,o,c){Gr=qa=null,Vh(a),Fi=null,wl=0;var h=a.return;try{if(dD(r,h,a,o,Fe)){ut=1,Yu(r,Un(o,r.current)),Me=null;return}}catch(g){if(h!==null)throw Me=h,g;ut=1,Yu(r,Un(o,r.current)),Me=null;return}a.flags&32768?(He||c===1?r=!0:Xi||(Fe&536870912)!==0?r=!1:(Zr=r=!0,(c===2||c===3||c===6)&&(c=Fn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ix(a,r)):sd(a)}function sd(r){var a=r;do{if((a.flags&32768)!==0){Ix(a,Zr);return}r=a.return;var o=gD(a.alternate,a,Jr);if(o!==null){Me=o;return}if(a=a.sibling,a!==null){Me=a;return}Me=a=r}while(a!==null);ut===0&&(ut=5)}function Ix(r,a){do{var o=yD(r.alternate,r);if(o!==null){o.flags&=32767,Me=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){Me=r;return}Me=r=o}while(r!==null);ut=6,Me=null}function jx(r,a,o,c,h,g,w,D,j,H){var J=P.T,ie=K.p;try{K.p=2,P.T=null,SD(r,a,o,c,ie,h,g,w,D,j,H)}finally{P.T=J,K.p=ie}}function SD(r,a,o,c,h,g,w,D){do to();while(Wa!==null);if((it&6)!==0)throw Error(s(327));var j=r.finishedWork;if(c=r.finishedLanes,j===null)return null;if(r.finishedWork=null,r.finishedLanes=0,j===r.current)throw Error(s(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var H=j.lanes|j.childLanes;if(H|=Dh,bn(r,c,H,g,w,D),r===Ze&&(Me=Ze=null,Fe=0),(j.subtreeFlags&10256)===0&&(j.flags&10256)===0||nd||(nd=!0,km=H,Mm=o,RD(Sa,function(){return to(),null})),o=(j.flags&15990)!==0,(j.subtreeFlags&15990)!==0||o?(o=P.T,P.T=null,g=K.p,K.p=2,w=it,it|=4,hD(r,j),fx(j,r),WR(Zm,r.containerInfo),gd=!!Xm,Zm=Xm=null,r.current=j,lx(r,j.alternate,j),ws(),it=w,K.p=g,P.T=o):r.current=j,nd?(nd=!1,Wa=r,zl=c):Ox(r,H),H=r.pendingLanes,H===0&&(zs=null),pu(j.stateNode),Cr(r),a!==null)for(h=r.onRecoverableError,j=0;j<a.length;j++)H=a[j],h(H.value,{componentStack:H.stack});return(zl&3)!==0&&to(),H=r.pendingLanes,(c&4194218)!==0&&(H&42)!==0?r===Pm?Fl++:(Fl=0,Pm=r):Fl=0,Hl(0),null}function Ox(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Sl(a)))}function to(){if(Wa!==null){var r=Wa,a=km;km=0;var o=_r(zl),c=P.T,h=K.p;try{if(K.p=32>o?32:o,P.T=null,Wa===null)var g=!1;else{o=Mm,Mm=null;var w=Wa,D=zl;if(Wa=null,zl=0,(it&6)!==0)throw Error(s(331));var j=it;if(it|=4,yx(w.current),mx(w,w.current,D,o),it=j,Hl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Na,w)}catch{}g=!0}return g}finally{K.p=h,P.T=c,Ox(r,a)}}return!1}function kx(r,a,o){a=Un(o,a),a=sm(r.stateNode,a,2),r=ks(r,a,2),r!==null&&(xr(r,2),Cr(r))}function Xe(r,a,o){if(r.tag===3)kx(r,r,o);else for(;a!==null;){if(a.tag===3){kx(a,r,o);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(zs===null||!zs.has(c))){r=Un(o,r),o=L0(2),c=ks(a,o,2),c!==null&&(U0(o,c,a,r),xr(c,2),Cr(c));break}}a=a.return}}function Fm(r,a,o){var c=r.pingCache;if(c===null){c=r.pingCache=new bD;var h=new Set;c.set(a,h)}else h=c.get(a),h===void 0&&(h=new Set,c.set(a,h));h.has(o)||(Am=!0,h.add(o),r=ND.bind(null,r,a,o),a.then(r,r))}function ND(r,a,o){var c=r.pingCache;c!==null&&c.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Ze===r&&(Fe&o)===o&&(ut===4||ut===3&&(Fe&62914560)===Fe&&300>kn()-Om?(it&2)===0&&Ji(r,0):Im|=o,Zi===Fe&&(Zi=0)),Cr(r)}function Mx(r,a){a===0&&(a=gt()),r=Cs(r,a),r!==null&&(xr(r,a),Cr(r))}function CD(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),Mx(r,o)}function TD(r,a){var o=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(a),Mx(r,o)}function RD(r,a){return tl(r,a)}var ad=null,no=null,Hm=!1,id=!1,qm=!1,Ka=0;function Cr(r){r!==no&&r.next===null&&(no===null?ad=no=r:no=no.next=r),id=!0,Hm||(Hm=!0,AD(DD))}function Hl(r,a){if(!qm&&id){qm=!0;do for(var o=!1,c=ad;c!==null;){if(r!==0){var h=c.pendingLanes;if(h===0)var g=0;else{var w=c.suspendedLanes,D=c.pingedLanes;g=(1<<31-Xt(42|r)+1)-1,g&=h&~(w&~D),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,Ux(c,g))}else g=Fe,g=st(c,c===Ze?g:0),(g&3)===0||lt(c,g)||(o=!0,Ux(c,g));c=c.next}while(o);qm=!1}}function DD(){id=Hm=!1;var r=0;Ka!==0&&(UD()&&(r=Ka),Ka=0);for(var a=kn(),o=null,c=ad;c!==null;){var h=c.next,g=Px(c,a);g===0?(c.next=null,o===null?ad=h:o.next=h,h===null&&(no=o)):(o=c,(r!==0||(g&3)!==0)&&(id=!0)),c=h}Hl(r)}function Px(r,a){for(var o=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var w=31-Xt(g),D=1<<w,j=h[w];j===-1?((D&o)===0||(D&c)!==0)&&(h[w]=Zt(D,a)):j<=a&&(r.expiredLanes|=D),g&=~D}if(a=Ze,o=Fe,o=st(r,r===a?o:0),c=r.callbackNode,o===0||r===a&&Je===2||r.cancelPendingCommit!==null)return c!==null&&c!==null&&nl(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||lt(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(c!==null&&nl(c),_r(o)){case 2:case 8:o=hu;break;case 32:o=Sa;break;case 268435456:o=Ur;break;default:o=Sa}return c=Lx.bind(null,r),o=tl(o,c),r.callbackPriority=a,r.callbackNode=o,a}return c!==null&&c!==null&&nl(c),r.callbackPriority=2,r.callbackNode=null,2}function Lx(r,a){var o=r.callbackNode;if(to()&&r.callbackNode!==o)return null;var c=Fe;return c=st(r,r===Ze?c:0),c===0?null:(Sx(r,c,a),Px(r,kn()),r.callbackNode!=null&&r.callbackNode===o?Lx.bind(null,r):null)}function Ux(r,a){if(to())return null;Sx(r,a,!0)}function AD(r){zD(function(){(it&6)!==0?tl(Ea,r):r()})}function Vm(){return Ka===0&&(Ka=Ra()),Ka}function Bx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:xu(""+r)}function zx(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function ID(r,a,o,c,h){if(a==="submit"&&o&&o.stateNode===h){var g=Bx((h[cn]||null).action),w=c.submitter;w&&(a=(a=w[cn]||null)?Bx(a.formAction):w.getAttribute("formAction"),a!==null&&(g=a,w=null));var D=new Su("action","action",null,c,h);r.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ka!==0){var j=w?zx(h,w):new FormData(h);Jh(o,{pending:!0,data:j,method:h.method,action:g},null,j)}}else typeof g=="function"&&(D.preventDefault(),j=w?zx(h,w):new FormData(h),Jh(o,{pending:!0,data:j,method:h.method,action:g},g,j))},currentTarget:h}]})}}for(var $m=0;$m<jb.length;$m++){var Gm=jb[$m],jD=Gm.toLowerCase(),OD=Gm[0].toUpperCase()+Gm.slice(1);rr(jD,"on"+OD)}rr(Tb,"onAnimationEnd"),rr(Rb,"onAnimationIteration"),rr(Db,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(QR,"onTransitionRun"),rr(XR,"onTransitionStart"),rr(ZR,"onTransitionCancel"),rr(Ab,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function Fx(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],h=c.event;c=c.listeners;e:{var g=void 0;if(a)for(var w=c.length-1;0<=w;w--){var D=c[w],j=D.instance,H=D.currentTarget;if(D=D.listener,j!==g&&h.isPropagationStopped())break e;g=D,h.currentTarget=H;try{g(h)}catch(J){Gu(J)}h.currentTarget=null,g=j}else for(w=0;w<c.length;w++){if(D=c[w],j=D.instance,H=D.currentTarget,D=D.listener,j!==g&&h.isPropagationStopped())break e;g=D,h.currentTarget=H;try{g(h)}catch(J){Gu(J)}h.currentTarget=null,g=j}}}}function Be(r,a){var o=a[lh];o===void 0&&(o=a[lh]=new Set);var c=r+"__bubble";o.has(c)||(Hx(a,r,2,!1),o.add(c))}function Ym(r,a,o){var c=0;a&&(c|=4),Hx(o,r,c,a)}var od="_reactListening"+Math.random().toString(36).slice(2);function Wm(r){if(!r[od]){r[od]=!0,$v.forEach(function(o){o!=="selectionchange"&&(kD.has(o)||Ym(o,!1,r),Ym(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[od]||(a[od]=!0,Ym("selectionchange",!1,a))}}function Hx(r,a,o,c){switch(d_(a)){case 2:var h=iA;break;case 8:h=oA;break;default:h=op}o=h.bind(null,a,o,r),h=void 0,!gh||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(a,o,{capture:!0,passive:h}):r.addEventListener(a,o,!0):h!==void 0?r.addEventListener(a,o,{passive:h}):r.addEventListener(a,o,!1)}function Km(r,a,o,c,h){var g=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var D=c.stateNode.containerInfo;if(D===h||D.nodeType===8&&D.parentNode===h)break;if(w===4)for(w=c.return;w!==null;){var j=w.tag;if((j===3||j===4)&&(j=w.stateNode.containerInfo,j===h||j.nodeType===8&&j.parentNode===h))return;w=w.return}for(;D!==null;){if(w=Da(D),w===null)return;if(j=w.tag,j===5||j===6||j===26||j===27){c=g=w;continue e}D=D.parentNode}}c=c.return}rb(function(){var H=g,J=mh(o),ie=[];e:{var W=Ib.get(r);if(W!==void 0){var X=Su,ye=r;switch(r){case"keypress":if(wu(o)===0)break e;case"keydown":case"keyup":X=TR;break;case"focusin":ye="focus",X=xh;break;case"focusout":ye="blur",X=xh;break;case"beforeblur":case"afterblur":X=xh;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ib;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=pR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=AR;break;case Tb:case Rb:case Db:X=vR;break;case Ab:X=jR;break;case"scroll":case"scrollend":X=hR;break;case"wheel":X=kR;break;case"copy":case"cut":case"paste":X=xR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=lb;break;case"toggle":case"beforetoggle":X=PR}var Ce=(a&4)!==0,dt=!Ce&&(r==="scroll"||r==="scrollend"),q=Ce?W!==null?W+"Capture":null:W;Ce=[];for(var z=H,G;z!==null;){var ne=z;if(G=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||G===null||q===null||(ne=ll(z,q),ne!=null&&Ce.push(Vl(z,ne,G))),dt)break;z=z.return}0<Ce.length&&(W=new X(W,ye,null,o,J),ie.push({event:W,listeners:Ce}))}}if((a&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",W&&o!==hh&&(ye=o.relatedTarget||o.fromElement)&&(Da(ye)||ye[Ci]))break e;if((X||W)&&(W=J.window===J?J:(W=J.ownerDocument)?W.defaultView||W.parentWindow:window,X?(ye=o.relatedTarget||o.toElement,X=H,ye=ye?Da(ye):null,ye!==null&&(dt=te(ye),Ce=ye.tag,ye!==dt||Ce!==5&&Ce!==27&&Ce!==6)&&(ye=null)):(X=null,ye=H),X!==ye)){if(Ce=ib,ne="onMouseLeave",q="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(Ce=lb,ne="onPointerLeave",q="onPointerEnter",z="pointer"),dt=X==null?W:ol(X),G=ye==null?W:ol(ye),W=new Ce(ne,z+"leave",X,o,J),W.target=dt,W.relatedTarget=G,ne=null,Da(J)===H&&(Ce=new Ce(q,z+"enter",ye,o,J),Ce.target=G,Ce.relatedTarget=dt,ne=Ce),dt=ne,X&&ye)t:{for(Ce=X,q=ye,z=0,G=Ce;G;G=ro(G))z++;for(G=0,ne=q;ne;ne=ro(ne))G++;for(;0<z-G;)Ce=ro(Ce),z--;for(;0<G-z;)q=ro(q),G--;for(;z--;){if(Ce===q||q!==null&&Ce===q.alternate)break t;Ce=ro(Ce),q=ro(q)}Ce=null}else Ce=null;X!==null&&qx(ie,W,X,Ce,!1),ye!==null&&dt!==null&&qx(ie,dt,ye,Ce,!0)}}e:{if(W=H?ol(H):window,X=W.nodeName&&W.nodeName.toLowerCase(),X==="select"||X==="input"&&W.type==="file")var me=gb;else if(mb(W))if(yb)me=GR;else{me=VR;var je=qR}else X=W.nodeName,!X||X.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?H&&fh(H.elementType)&&(me=gb):me=$R;if(me&&(me=me(r,H))){pb(ie,me,o,J);break e}je&&je(r,W,H),r==="focusout"&&H&&W.type==="number"&&H.memoizedProps.value!=null&&dh(W,"number",W.value)}switch(je=H?ol(H):window,r){case"focusin":(mb(je)||je.contentEditable==="true")&&(Mi=je,Ch=H,gl=null);break;case"focusout":gl=Ch=Mi=null;break;case"mousedown":Th=!0;break;case"contextmenu":case"mouseup":case"dragend":Th=!1,Nb(ie,o,J);break;case"selectionchange":if(KR)break;case"keydown":case"keyup":Nb(ie,o,J)}var be;if(wh)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ki?fb(r,o)&&(we="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(cb&&o.locale!=="ko"&&(ki||we!=="onCompositionStart"?we==="onCompositionEnd"&&ki&&(be=sb()):(Ns=J,yh="value"in Ns?Ns.value:Ns.textContent,ki=!0)),je=ld(H,we),0<je.length&&(we=new ob(we,r,null,o,J),ie.push({event:we,listeners:je}),be?we.data=be:(be=hb(o),be!==null&&(we.data=be)))),(be=UR?BR(r,o):zR(r,o))&&(we=ld(H,"onBeforeInput"),0<we.length&&(je=new ob("onBeforeInput","beforeinput",null,o,J),ie.push({event:je,listeners:we}),je.data=be)),ID(ie,r,H,o,J)}Fx(ie,a)})}function Vl(r,a,o){return{instance:r,listener:a,currentTarget:o}}function ld(r,a){for(var o=a+"Capture",c=[];r!==null;){var h=r,g=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=ll(r,o),h!=null&&c.unshift(Vl(r,h,g)),h=ll(r,a),h!=null&&c.push(Vl(r,h,g))),r=r.return}return c}function ro(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function qx(r,a,o,c,h){for(var g=a._reactName,w=[];o!==null&&o!==c;){var D=o,j=D.alternate,H=D.stateNode;if(D=D.tag,j!==null&&j===c)break;D!==5&&D!==26&&D!==27||H===null||(j=H,h?(H=ll(o,g),H!=null&&w.unshift(Vl(o,H,j))):h||(H=ll(o,g),H!=null&&w.push(Vl(o,H,j)))),o=o.return}w.length!==0&&r.push({event:a,listeners:w})}var MD=/\r\n?/g,PD=/\u0000|\uFFFD/g;function Vx(r){return(typeof r=="string"?r:""+r).replace(MD,`
`).replace(PD,"")}function $x(r,a){return a=Vx(a),Vx(r)===a}function cd(){}function Ke(r,a,o,c,h,g){switch(o){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Ii(r,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Ii(r,""+c);break;case"className":yu(r,"class",c);break;case"tabIndex":yu(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":yu(r,o,c);break;case"style":tb(r,c,g);break;case"data":if(a!=="object"){yu(r,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=xu(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(a!=="input"&&Ke(r,a,"name",h.name,h,null),Ke(r,a,"formEncType",h.formEncType,h,null),Ke(r,a,"formMethod",h.formMethod,h,null),Ke(r,a,"formTarget",h.formTarget,h,null)):(Ke(r,a,"encType",h.encType,h,null),Ke(r,a,"method",h.method,h,null),Ke(r,a,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=xu(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=cd);break;case"onScroll":c!=null&&Be("scroll",r);break;case"onScrollEnd":c!=null&&Be("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=xu(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Be("beforetoggle",r),Be("toggle",r),gu(r,"popover",c);break;case"xlinkActuate":zr(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":zr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":zr(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":zr(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":zr(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":zr(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":zr(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":zr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":zr(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":gu(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=dR.get(o)||o,gu(r,o,c))}}function Qm(r,a,o,c,h,g){switch(o){case"style":tb(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Ii(r,c):(typeof c=="number"||typeof c=="bigint")&&Ii(r,""+c);break;case"onScroll":c!=null&&Be("scroll",r);break;case"onScrollEnd":c!=null&&Be("scrollend",r);break;case"onClick":c!=null&&(r.onclick=cd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gv.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),a=o.slice(2,h?o.length-7:void 0),g=r[cn]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(a,g,h),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,c,h);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):gu(r,o,c)}}}function Bt(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",r),Be("load",r);var c=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Ke(r,a,g,w,o,null)}}h&&Ke(r,a,"srcSet",o.srcSet,o,null),c&&Ke(r,a,"src",o.src,o,null);return;case"input":Be("invalid",r);var D=g=w=h=null,j=null,H=null;for(c in o)if(o.hasOwnProperty(c)){var J=o[c];if(J!=null)switch(c){case"name":h=J;break;case"type":w=J;break;case"checked":j=J;break;case"defaultChecked":H=J;break;case"value":g=J;break;case"defaultValue":D=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,a));break;default:Ke(r,a,c,J,o,null)}}Xv(r,g,D,j,H,w,h,!1),vu(r);return;case"select":Be("invalid",r),c=w=g=null;for(h in o)if(o.hasOwnProperty(h)&&(D=o[h],D!=null))switch(h){case"value":g=D;break;case"defaultValue":w=D;break;case"multiple":c=D;default:Ke(r,a,h,D,o,null)}a=g,o=w,r.multiple=!!c,a!=null?Ai(r,!!c,a,!1):o!=null&&Ai(r,!!c,o,!0);return;case"textarea":Be("invalid",r),g=h=c=null;for(w in o)if(o.hasOwnProperty(w)&&(D=o[w],D!=null))switch(w){case"value":c=D;break;case"defaultValue":h=D;break;case"children":g=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(91));break;default:Ke(r,a,w,D,o,null)}Jv(r,c,h,g),vu(r);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(c=o[j],c!=null))switch(j){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ke(r,a,j,c,o,null)}return;case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":Be("load",r);break;case"video":case"audio":for(c=0;c<ql.length;c++)Be(ql[c],r);break;case"image":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"embed":case"source":case"link":Be("error",r),Be("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(c=o[H],c!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Ke(r,a,H,c,o,null)}return;default:if(fh(a)){for(J in o)o.hasOwnProperty(J)&&(c=o[J],c!==void 0&&Qm(r,a,J,c,o,void 0));return}}for(D in o)o.hasOwnProperty(D)&&(c=o[D],c!=null&&Ke(r,a,D,c,o,null))}function LD(r,a,o,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,w=null,D=null,j=null,H=null,J=null;for(X in o){var ie=o[X];if(o.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":j=ie;default:c.hasOwnProperty(X)||Ke(r,a,X,null,c,ie)}}for(var W in c){var X=c[W];if(ie=o[W],c.hasOwnProperty(W)&&(X!=null||ie!=null))switch(W){case"type":g=X;break;case"name":h=X;break;case"checked":H=X;break;case"defaultChecked":J=X;break;case"value":w=X;break;case"defaultValue":D=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,a));break;default:X!==ie&&Ke(r,a,W,X,c,ie)}}uh(r,w,D,j,H,J,g,h);return;case"select":X=w=D=W=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":X=j;default:c.hasOwnProperty(g)||Ke(r,a,g,null,c,j)}for(h in c)if(g=c[h],j=o[h],c.hasOwnProperty(h)&&(g!=null||j!=null))switch(h){case"value":W=g;break;case"defaultValue":D=g;break;case"multiple":w=g;default:g!==j&&Ke(r,a,h,g,c,j)}a=D,o=w,c=X,W!=null?Ai(r,!!o,W,!1):!!c!=!!o&&(a!=null?Ai(r,!!o,a,!0):Ai(r,!!o,o?[]:"",!1));return;case"textarea":X=W=null;for(D in o)if(h=o[D],o.hasOwnProperty(D)&&h!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Ke(r,a,D,null,c,h)}for(w in c)if(h=c[w],g=o[w],c.hasOwnProperty(w)&&(h!=null||g!=null))switch(w){case"value":W=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==g&&Ke(r,a,w,h,c,g)}Zv(r,W,X);return;case"option":for(var ye in o)if(W=o[ye],o.hasOwnProperty(ye)&&W!=null&&!c.hasOwnProperty(ye))switch(ye){case"selected":r.selected=!1;break;default:Ke(r,a,ye,null,c,W)}for(j in c)if(W=c[j],X=o[j],c.hasOwnProperty(j)&&W!==X&&(W!=null||X!=null))switch(j){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Ke(r,a,j,W,c,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in o)W=o[Ce],o.hasOwnProperty(Ce)&&W!=null&&!c.hasOwnProperty(Ce)&&Ke(r,a,Ce,null,c,W);for(H in c)if(W=c[H],X=o[H],c.hasOwnProperty(H)&&W!==X&&(W!=null||X!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,a));break;default:Ke(r,a,H,W,c,X)}return;default:if(fh(a)){for(var dt in o)W=o[dt],o.hasOwnProperty(dt)&&W!==void 0&&!c.hasOwnProperty(dt)&&Qm(r,a,dt,void 0,c,W);for(J in c)W=c[J],X=o[J],!c.hasOwnProperty(J)||W===X||W===void 0&&X===void 0||Qm(r,a,J,W,c,X);return}}for(var q in o)W=o[q],o.hasOwnProperty(q)&&W!=null&&!c.hasOwnProperty(q)&&Ke(r,a,q,null,c,W);for(ie in c)W=c[ie],X=o[ie],!c.hasOwnProperty(ie)||W===X||W==null&&X==null||Ke(r,a,ie,W,c,X)}var Xm=null,Zm=null;function ud(r){return r.nodeType===9?r:r.ownerDocument}function Gx(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yx(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Jm(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ep=null;function UD(){var r=window.event;return r&&r.type==="popstate"?r===ep?!1:(ep=r,!0):(ep=null,!1)}var Wx=typeof setTimeout=="function"?setTimeout:void 0,BD=typeof clearTimeout=="function"?clearTimeout:void 0,Kx=typeof Promise=="function"?Promise:void 0,zD=typeof queueMicrotask=="function"?queueMicrotask:typeof Kx<"u"?function(r){return Kx.resolve(null).then(r).catch(FD)}:Wx;function FD(r){setTimeout(function(){throw r})}function tp(r,a){var o=a,c=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(c===0){r.removeChild(h),Zl(a);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=h}while(o);Zl(a)}function np(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":np(o),ch(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function HD(r,a,o,c){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[il])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=ir(r.nextSibling),r===null)break}return null}function qD(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ir(r.nextSibling),r===null))return null;return r}function ir(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}function Qx(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}function Xx(r,a,o){switch(a=ud(o),r){case"html":if(r=a.documentElement,!r)throw Error(s(452));return r;case"head":if(r=a.head,!r)throw Error(s(453));return r;case"body":if(r=a.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}var Gn=new Map,Zx=new Set;function dd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var ts=K.d;K.d={f:VD,r:$D,D:GD,C:YD,L:WD,m:KD,X:XD,S:QD,M:ZD};function VD(){var r=ts.f(),a=rd();return r||a}function $D(r){var a=Ti(r);a!==null&&a.tag===5&&a.type==="form"?N0(a):ts.r(r)}var so=typeof document>"u"?null:document;function Jx(r,a,o){var c=so;if(c&&typeof a=="string"&&a){var h=Pn(a);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),Zx.has(h)||(Zx.add(h),r={rel:r,crossOrigin:o,href:a},c.querySelector(h)===null&&(a=c.createElement("link"),Bt(a,"link",r),Rt(a),c.head.appendChild(a)))}}function GD(r){ts.D(r),Jx("dns-prefetch",r,null)}function YD(r,a){ts.C(r,a),Jx("preconnect",r,a)}function WD(r,a,o){ts.L(r,a,o);var c=so;if(c&&r&&a){var h='link[rel="preload"][as="'+Pn(a)+'"]';a==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Pn(o.imageSizes)+'"]')):h+='[href="'+Pn(r)+'"]';var g=h;switch(a){case"style":g=ao(r);break;case"script":g=io(r)}Gn.has(g)||(r=$({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),Gn.set(g,r),c.querySelector(h)!==null||a==="style"&&c.querySelector($l(g))||a==="script"&&c.querySelector(Gl(g))||(a=c.createElement("link"),Bt(a,"link",r),Rt(a),c.head.appendChild(a)))}}function KD(r,a){ts.m(r,a);var o=so;if(o&&r){var c=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+Pn(c)+'"][href="'+Pn(r)+'"]',g=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=io(r)}if(!Gn.has(g)&&(r=$({rel:"modulepreload",href:r},a),Gn.set(g,r),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Gl(g)))return}c=o.createElement("link"),Bt(c,"link",r),Rt(c),o.head.appendChild(c)}}}function QD(r,a,o){ts.S(r,a,o);var c=so;if(c&&r){var h=Ri(c).hoistableStyles,g=ao(r);a=a||"default";var w=h.get(g);if(!w){var D={loading:0,preload:null};if(w=c.querySelector($l(g)))D.loading=5;else{r=$({rel:"stylesheet",href:r,"data-precedence":a},o),(o=Gn.get(g))&&rp(r,o);var j=w=c.createElement("link");Rt(j),Bt(j,"link",r),j._p=new Promise(function(H,J){j.onload=H,j.onerror=J}),j.addEventListener("load",function(){D.loading|=1}),j.addEventListener("error",function(){D.loading|=2}),D.loading|=4,fd(w,a,c)}w={type:"stylesheet",instance:w,count:1,state:D},h.set(g,w)}}}function XD(r,a){ts.X(r,a);var o=so;if(o&&r){var c=Ri(o).hoistableScripts,h=io(r),g=c.get(h);g||(g=o.querySelector(Gl(h)),g||(r=$({src:r,async:!0},a),(a=Gn.get(h))&&sp(r,a),g=o.createElement("script"),Rt(g),Bt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function ZD(r,a){ts.M(r,a);var o=so;if(o&&r){var c=Ri(o).hoistableScripts,h=io(r),g=c.get(h);g||(g=o.querySelector(Gl(h)),g||(r=$({src:r,async:!0,type:"module"},a),(a=Gn.get(h))&&sp(r,a),g=o.createElement("script"),Rt(g),Bt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function e_(r,a,o,c){var h=(h=qt.current)?dd(h):null;if(!h)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=ao(o.href),o=Ri(h).hoistableStyles,c=o.get(a),c||(c={type:"style",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=ao(o.href);var g=Ri(h).hoistableStyles,w=g.get(r);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,w),(g=h.querySelector($l(r)))&&!g._p&&(w.instance=g,w.state.loading=5),Gn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Gn.set(r,o),g||JD(h,r,o,w.state))),a&&c===null)throw Error(s(528,""));return w}if(a&&c!==null)throw Error(s(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=io(o),o=Ri(h).hoistableScripts,c=o.get(a),c||(c={type:"script",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function ao(r){return'href="'+Pn(r)+'"'}function $l(r){return'link[rel="stylesheet"]['+r+"]"}function t_(r){return $({},r,{"data-precedence":r.precedence,precedence:null})}function JD(r,a,o,c){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=r.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Bt(a,"link",o),Rt(a),r.head.appendChild(a))}function io(r){return'[src="'+Pn(r)+'"]'}function Gl(r){return"script[async]"+r}function n_(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var c=r.querySelector('style[data-href~="'+Pn(o.href)+'"]');if(c)return a.instance=c,Rt(c),c;var h=$({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Rt(c),Bt(c,"style",h),fd(c,o.precedence,r),a.instance=c;case"stylesheet":h=ao(o.href);var g=r.querySelector($l(h));if(g)return a.state.loading|=4,a.instance=g,Rt(g),g;c=t_(o),(h=Gn.get(h))&&rp(c,h),g=(r.ownerDocument||r).createElement("link"),Rt(g);var w=g;return w._p=new Promise(function(D,j){w.onload=D,w.onerror=j}),Bt(g,"link",c),a.state.loading|=4,fd(g,o.precedence,r),a.instance=g;case"script":return g=io(o.src),(h=r.querySelector(Gl(g)))?(a.instance=h,Rt(h),h):(c=o,(h=Gn.get(g))&&(c=$({},o),sp(c,h)),r=r.ownerDocument||r,h=r.createElement("script"),Rt(h),Bt(h,"link",c),r.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,fd(c,o.precedence,r));return a.instance}function fd(r,a,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,g=h,w=0;w<c.length;w++){var D=c[w];if(D.dataset.precedence===a)g=D;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function rp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function sp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var hd=null;function r_(r,a,o){if(hd===null){var c=new Map,h=hd=new Map;h.set(o,c)}else h=hd,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[il]||g[$t]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(a)||"";w=r+w;var D=c.get(w);D?D.push(g):c.set(w,[g])}}return c}function s_(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function eA(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function a_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Yl=null;function tA(){}function nA(r,a,o){if(Yl===null)throw Error(s(475));var c=Yl;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ao(o.href),g=r.querySelector($l(h));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=md.bind(c),r.then(c,c)),a.state.loading|=4,a.instance=g,Rt(g);return}g=r.ownerDocument||r,o=t_(o),(h=Gn.get(h))&&rp(o,h),g=g.createElement("link"),Rt(g);var w=g;w._p=new Promise(function(D,j){w.onload=D,w.onerror=j}),Bt(g,"link",o),a.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=md.bind(c),r.addEventListener("load",a),r.addEventListener("error",a))}}function rA(){if(Yl===null)throw Error(s(475));var r=Yl;return r.stylesheets&&r.count===0&&ap(r,r.stylesheets),0<r.count?function(a){var o=setTimeout(function(){if(r.stylesheets&&ap(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(o)}}:null}function md(){if(this.count--,this.count===0){if(this.stylesheets)ap(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var pd=null;function ap(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,pd=new Map,a.forEach(sA,r),pd=null,md.call(r))}function sA(r,a){if(!(a.state.loading&4)){var o=pd.get(r);if(o)var c=o.get(null);else{o=new Map,pd.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var w=h[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}h=a.instance,w=h.getAttribute("data-precedence"),g=o.get(w)||c,g===c&&o.set(null,h),o.set(w,h),this.count++,c=md.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),a.state.loading|=4}}var Wl={$$typeof:x,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function aA(r,a,o,c,h,g,w,D){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.hiddenUpdates=Vt(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function i_(r,a,o,c,h,g,w,D,j,H,J,ie){return r=new aA(r,a,o,w,D,j,H,ie),a=1,g===!0&&(a|=24),g=Vn(3,null,null,a),r.current=g,g.stateNode=r,a=Lh(),a.refCount++,r.pooledCache=a,a.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:a},ym(g),r}function o_(r){return r?(r=Ui,r):Ui}function l_(r,a,o,c,h,g){h=o_(h),c.context===null?c.context=h:c.pendingContext=h,c=Os(a),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ks(r,c,a),o!==null&&(en(o,r,a),Il(o,r,a))}function c_(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function ip(r,a){c_(r,a),(r=r.alternate)&&c_(r,a)}function u_(r){if(r.tag===13){var a=Cs(r,67108864);a!==null&&en(a,r,67108864),ip(r,67108864)}}var gd=!0;function iA(r,a,o,c){var h=P.T;P.T=null;var g=K.p;try{K.p=2,op(r,a,o,c)}finally{K.p=g,P.T=h}}function oA(r,a,o,c){var h=P.T;P.T=null;var g=K.p;try{K.p=8,op(r,a,o,c)}finally{K.p=g,P.T=h}}function op(r,a,o,c){if(gd){var h=lp(c);if(h===null)Km(r,a,c,yd,o),f_(r,c);else if(cA(h,r,a,o,c))c.stopPropagation();else if(f_(r,c),a&4&&-1<lA.indexOf(r)){for(;h!==null;){var g=Ti(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Ne(g.pendingLanes);if(w!==0){var D=g;for(D.pendingLanes|=2,D.entangledLanes|=2;w;){var j=1<<31-Xt(w);D.entanglements[1]|=j,w&=~j}Cr(g),(it&6)===0&&(ed=kn()+500,Hl(0))}}break;case 13:D=Cs(g,2),D!==null&&en(D,g,2),rd(),ip(g,2)}if(g=lp(c),g===null&&Km(r,a,c,yd,o),g===h)break;h=g}h!==null&&c.stopPropagation()}else Km(r,a,c,null,o)}}function lp(r){return r=mh(r),cp(r)}var yd=null;function cp(r){if(yd=null,r=Da(r),r!==null){var a=te(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=de(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return yd=r,null}function d_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ah()){case Ea:return 2;case hu:return 8;case Sa:case rl:return 32;case Ur:return 268435456;default:return 32}default:return 32}}var up=!1,Fs=null,Hs=null,qs=null,Kl=new Map,Ql=new Map,Vs=[],lA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f_(r,a){switch(r){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":Kl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(a.pointerId)}}function Xl(r,a,o,c,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:a,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},a!==null&&(a=Ti(a),a!==null&&u_(a)),r):(r.eventSystemFlags|=c,a=r.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),r)}function cA(r,a,o,c,h){switch(a){case"focusin":return Fs=Xl(Fs,r,a,o,c,h),!0;case"dragenter":return Hs=Xl(Hs,r,a,o,c,h),!0;case"mouseover":return qs=Xl(qs,r,a,o,c,h),!0;case"pointerover":var g=h.pointerId;return Kl.set(g,Xl(Kl.get(g)||null,r,a,o,c,h)),!0;case"gotpointercapture":return g=h.pointerId,Ql.set(g,Xl(Ql.get(g)||null,r,a,o,c,h)),!0}return!1}function h_(r){var a=Da(r.target);if(a!==null){var o=te(a);if(o!==null){if(a=o.tag,a===13){if(a=de(o),a!==null){r.blockedOn=a,rR(r.priority,function(){if(o.tag===13){var c=Sn(),h=Cs(o,c);h!==null&&en(h,o,c),ip(o,c)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function vd(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=lp(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);hh=c,o.target.dispatchEvent(c),hh=null}else return a=Ti(o),a!==null&&u_(a),r.blockedOn=o,!1;a.shift()}return!0}function m_(r,a,o){vd(r)&&o.delete(a)}function uA(){up=!1,Fs!==null&&vd(Fs)&&(Fs=null),Hs!==null&&vd(Hs)&&(Hs=null),qs!==null&&vd(qs)&&(qs=null),Kl.forEach(m_),Ql.forEach(m_)}function bd(r,a){r.blockedOn===a&&(r.blockedOn=null,up||(up=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,uA)))}var xd=null;function p_(r){xd!==r&&(xd=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){xd===r&&(xd=null);for(var a=0;a<r.length;a+=3){var o=r[a],c=r[a+1],h=r[a+2];if(typeof c!="function"){if(cp(c||o)===null)continue;break}var g=Ti(o);g!==null&&(r.splice(a,3),a-=3,Jh(g,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function Zl(r){function a(j){return bd(j,r)}Fs!==null&&bd(Fs,r),Hs!==null&&bd(Hs,r),qs!==null&&bd(qs,r),Kl.forEach(a),Ql.forEach(a);for(var o=0;o<Vs.length;o++){var c=Vs[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Vs.length&&(o=Vs[0],o.blockedOn===null);)h_(o),o.blockedOn===null&&Vs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],w=h[cn]||null;if(typeof g=="function")w||p_(o);else if(w){var D=null;if(g&&g.hasAttribute("formAction")){if(h=g,w=g[cn]||null)D=w.formAction;else if(cp(h)!==null)continue}else D=w.action;typeof D=="function"?o[c+1]=D:(o.splice(c,3),c-=3),p_(o)}}}function dp(r){this._internalRoot=r}_d.prototype.render=dp.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(s(409));var o=a.current,c=Sn();l_(o,c,r,a,null,null)},_d.prototype.unmount=dp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;r.tag===0&&to(),l_(r.current,2,null,r,null,null),rd(),a[Ci]=null}};function _d(r){this._internalRoot=r}_d.prototype.unstable_scheduleHydration=function(r){if(r){var a=oh();r={blockedOn:null,target:r,priority:a};for(var o=0;o<Vs.length&&a!==0&&a<Vs[o].priority;o++);Vs.splice(o,0,r),o===0&&h_(r)}};var g_=e.version;if(g_!=="19.0.0")throw Error(s(527,g_,"19.0.0"));K.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=U(a),r=r!==null?L(r):null,r=r===null?null:r.stateNode,r};var dA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:P,findFiberByHostInstance:Da,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{Na=wd.inject(dA),Qt=wd}catch{}}return ec.createRoot=function(r,a){if(!i(r))throw Error(s(299));var o=!1,c="",h=O0,g=k0,w=M0,D=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks)),a=i_(r,1,!1,null,null,o,c,h,g,w,D,null),r[Ci]=a.current,Wm(r.nodeType===8?r.parentNode:r),new dp(a)},ec.hydrateRoot=function(r,a,o){if(!i(r))throw Error(s(299));var c=!1,h="",g=O0,w=k0,D=M0,j=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),a=i_(r,1,!0,a,o??null,c,h,g,w,D,j,H),a.context=o_(null),o=a.current,c=Sn(),h=Os(c),h.callback=null,ks(o,h,c),a.current.lanes=c,xr(a,c),Cr(a),r[Ci]=a.current,Wm(r),new _d(a)},ec.version="19.0.0",ec}var C_;function SA(){if(C_)return mp.exports;C_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mp.exports=EA(),mp.exports}var NA=SA();const CA=Gg(NA);var tc={},T_;function TA(){if(T_)return tc;T_=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.parse=u,tc.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,x){const E=new l,S=b.length;if(S<2)return E;const C=(x==null?void 0:x.decode)||v;let N=0;do{const T=b.indexOf("=",N);if(T===-1)break;const R=b.indexOf(";",N),I=R===-1?S:R;if(T>I){N=b.lastIndexOf(";",T-1)+1;continue}const O=f(b,N,T),B=m(b,T,O),k=b.slice(O,B);if(E[k]===void 0){let Y=f(b,T+1,I),P=m(b,I,Y);const $=C(b.slice(Y,P));E[k]=$}N=I+1}while(N<S);return E}function f(b,x,E){do{const S=b.charCodeAt(x);if(S!==32&&S!==9)return x}while(++x<E);return E}function m(b,x,E){for(;x>E;){const S=b.charCodeAt(--x);if(S!==32&&S!==9)return x+1}return E}function p(b,x,E){const S=(E==null?void 0:E.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const C=S(x);if(!e.test(C))throw new TypeError(`argument val is invalid: ${x}`);let N=b+"="+C;if(!E)return N;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);N+="; Max-Age="+E.maxAge}if(E.domain){if(!n.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);N+="; Domain="+E.domain}if(E.path){if(!s.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);N+="; Path="+E.path}if(E.expires){if(!y(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);N+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(N+="; HttpOnly"),E.secure&&(N+="; Secure"),E.partitioned&&(N+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return N}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return i.call(b)==="[object Date]"}return tc}TA();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var R_="popstate";function RA(t={}){function e(s,i){let{pathname:l,search:u,hash:f}=s.location;return Xp("",{pathname:l,search:u,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:_c(i)}return AA(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DA(){return Math.random().toString(36).substring(2,10)}function D_(t,e){return{usr:t.state,key:t.key,idx:e}}function Xp(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Lo(e):e,state:n,key:e&&e.key||s||DA()}}function _c({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function AA(t,e,n,s={}){let{window:i=document.defaultView,v5Compat:l=!1}=s,u=i.history,f="POP",m=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function y(){f="POP";let C=v(),N=C==null?null:C-p;p=C,m&&m({action:f,location:S.location,delta:N})}function b(C,N){f="PUSH";let T=Xp(S.location,C,N);p=v()+1;let R=D_(T,p),I=S.createHref(T);try{u.pushState(R,"",I)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(I)}l&&m&&m({action:f,location:S.location,delta:1})}function x(C,N){f="REPLACE";let T=Xp(S.location,C,N);p=v();let R=D_(T,p),I=S.createHref(T);u.replaceState(R,"",I),l&&m&&m({action:f,location:S.location,delta:0})}function E(C){let N=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof C=="string"?C:_c(C);return T=T.replace(/ $/,"%20"),rt(N,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,N)}let S={get action(){return f},get location(){return t(i,u)},listen(C){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(R_,y),m=C,()=>{i.removeEventListener(R_,y),m=null}},createHref(C){return e(i,C)},createURL:E,encodeLocation(C){let N=E(C);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:x,go(C){return u.go(C)}};return S}function ZE(t,e,n="/"){return IA(t,e,n,!1)}function IA(t,e,n,s){let i=typeof e=="string"?Lo(e):e,l=ca(i.pathname||"/",n);if(l==null)return null;let u=JE(t);jA(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=qA(l);f=FA(u[m],p,s)}return f}function JE(t,e=[],n=[],s=""){let i=(l,u,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};m.relativePath.startsWith("/")&&(rt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=is([s,m.relativePath]),v=n.concat(m);l.children&&l.children.length>0&&(rt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),JE(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:BA(p,l.index),routesMeta:v})};return t.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))i(l,u);else for(let m of eS(l.path))i(l,u,m)}),e}function eS(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return i?[l,""]:[l];let u=eS(s.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),i&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function jA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var OA=/^:[\w-]+$/,kA=3,MA=2,PA=1,LA=10,UA=-2,A_=t=>t==="*";function BA(t,e){let n=t.split("/"),s=n.length;return n.some(A_)&&(s+=UA),e&&(s+=MA),n.filter(i=>!A_(i)).reduce((i,l)=>i+(OA.test(l)?kA:l===""?PA:LA),s)}function zA(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function FA(t,e,n=!1){let{routesMeta:s}=t,i={},l="/",u=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",y=Gd({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),b=m.route;if(!y&&p&&n&&!s[s.length-1].route.index&&(y=Gd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!y)return null;Object.assign(i,y.params),u.push({params:i,pathname:is([l,y.pathname]),pathnameBase:YA(is([l,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(l=is([l,y.pathnameBase]))}return u}function Gd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=HA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:y},b)=>{if(v==="*"){let E=f[b]||"";u=l.slice(0,l.length-E.length).replace(/(.)\/+$/,"$1")}const x=f[b];return y&&!x?p[v]=void 0:p[v]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function HA(t,e=!1,n=!0){dr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function qA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ca(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function VA(t,e="/"){let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?Lo(t):t;return{pathname:n?n.startsWith("/")?n:$A(n,e):e,search:WA(s),hash:KA(i)}}function $A(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Yg(t){let e=GA(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Wg(t,e,n,s=!1){let i;typeof t=="string"?i=Lo(t):(i={...t},rt(!i.pathname||!i.pathname.includes("?"),vp("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),vp("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),vp("#","search","hash",i)));let l=t===""||i.pathname==="",u=l?"/":i.pathname,f;if(u==null)f=n;else{let y=e.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;i.pathname=b.join("/")}f=y>=0?e[y]:"/"}let m=VA(i,f),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var is=t=>t.join("/").replace(/\/\/+/g,"/"),YA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function QA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var tS=["POST","PUT","PATCH","DELETE"];new Set(tS);var XA=["GET",...tS];new Set(XA);var Uo=_.createContext(null);Uo.displayName="DataRouter";var Nf=_.createContext(null);Nf.displayName="DataRouterState";var nS=_.createContext({isTransitioning:!1});nS.displayName="ViewTransition";var ZA=_.createContext(new Map);ZA.displayName="Fetchers";var JA=_.createContext(null);JA.displayName="Await";var pr=_.createContext(null);pr.displayName="Navigation";var qc=_.createContext(null);qc.displayName="Location";var Xn=_.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var Kg=_.createContext(null);Kg.displayName="RouteError";function e2(t,{relative:e}={}){rt(Bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=_.useContext(pr),{hash:i,pathname:l,search:u}=Vc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:is([n,l])),s.createHref({pathname:f,search:u,hash:i})}function Bo(){return _.useContext(qc)!=null}function gr(){return rt(Bo(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(qc).location}var rS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sS(t){_.useContext(pr).static||_.useLayoutEffect(t)}function Ct(){let{isDataRoute:t}=_.useContext(Xn);return t?p2():t2()}function t2(){rt(Bo(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(Uo),{basename:e,navigator:n}=_.useContext(pr),{matches:s}=_.useContext(Xn),{pathname:i}=gr(),l=JSON.stringify(Yg(s)),u=_.useRef(!1);return sS(()=>{u.current=!0}),_.useCallback((m,p={})=>{if(dr(u.current,rS),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=Wg(m,JSON.parse(l),i,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:is([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,i,t])}var n2=_.createContext(null);function r2(t){let e=_.useContext(Xn).outlet;return e&&_.createElement(n2.Provider,{value:t},e)}function ze(){let{matches:t}=_.useContext(Xn),e=t[t.length-1];return e?e.params:{}}function Vc(t,{relative:e}={}){let{matches:n}=_.useContext(Xn),{pathname:s}=gr(),i=JSON.stringify(Yg(n));return _.useMemo(()=>Wg(t,JSON.parse(i),s,e==="path"),[t,i,s,e])}function s2(t,e){return aS(t,e)}function aS(t,e,n,s){var T;rt(Bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:l}=_.useContext(pr),{matches:u}=_.useContext(Xn),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",y=f&&f.route;{let R=y&&y.path||"";iS(p,!y||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let b=gr(),x;if(e){let R=typeof e=="string"?Lo(e):e;rt(v==="/"||((T=R.pathname)==null?void 0:T.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${R.pathname}" was given in the \`location\` prop.`),x=R}else x=b;let E=x.pathname||"/",S=E;if(v!=="/"){let R=v.replace(/^\//,"").split("/");S="/"+E.replace(/^\//,"").split("/").slice(R.length).join("/")}let C=!l&&n&&n.matches&&n.matches.length>0?n.matches:ZE(t,{pathname:S});dr(y||C!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),dr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=c2(C&&C.map(R=>Object.assign({},R,{params:Object.assign({},m,R.params),pathname:is([v,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?v:is([v,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),u,n,s);return e&&N?_.createElement(qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},N):N}function a2(){let t=m2(),e=QA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:l},"ErrorBoundary")," or"," ",_.createElement("code",{style:l},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,u)}var i2=_.createElement(a2,null),o2=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?_.createElement(Xn.Provider,{value:this.props.routeContext},_.createElement(Kg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function l2({routeContext:t,match:e,children:n}){let s=_.useContext(Uo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(Xn.Provider,{value:t},n)}function c2(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,l=n==null?void 0:n.errors;if(l!=null){let m=i.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);rt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let u=!1,f=-1;if(n)for(let m=0;m<i.length;m++){let p=i[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:v,errors:y}=n,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){u=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((m,p,v)=>{let y,b=!1,x=null,E=null;n&&(y=l&&p.route.id?l[p.route.id]:void 0,x=p.route.errorElement||i2,u&&(f<0&&v===0?(iS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):f===v&&(b=!0,E=p.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,v+1)),C=()=>{let N;return y?N=x:b?N=E:p.route.Component?N=_.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=m,_.createElement(l2,{match:p,routeContext:{outlet:m,matches:S,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?_.createElement(o2,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}function Qg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u2(t){let e=_.useContext(Uo);return rt(e,Qg(t)),e}function d2(t){let e=_.useContext(Nf);return rt(e,Qg(t)),e}function f2(t){let e=_.useContext(Xn);return rt(e,Qg(t)),e}function Xg(t){let e=f2(t),n=e.matches[e.matches.length-1];return rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function h2(){return Xg("useRouteId")}function m2(){var s;let t=_.useContext(Kg),e=d2("useRouteError"),n=Xg("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function p2(){let{router:t}=u2("useNavigate"),e=Xg("useNavigate"),n=_.useRef(!1);return sS(()=>{n.current=!0}),_.useCallback(async(i,l={})=>{dr(n.current,rS),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var I_={};function iS(t,e,n){!e&&!I_[t]&&(I_[t]=!0,dr(!1,n))}_.memo(g2);function g2({routes:t,future:e,state:n}){return aS(t,void 0,n,e)}function Zg({to:t,replace:e,state:n,relative:s}){rt(Bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(pr);dr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=_.useContext(Xn),{pathname:u}=gr(),f=Ct(),m=Wg(t,Yg(l),u,s==="path"),p=JSON.stringify(m);return _.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function Jg(t){return r2(t.context)}function ue(t){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function y2({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:i,static:l=!1}){rt(!Bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=_.useMemo(()=>({basename:u,navigator:i,static:l,future:{}}),[u,i,l]);typeof n=="string"&&(n=Lo(n));let{pathname:m="/",search:p="",hash:v="",state:y=null,key:b="default"}=n,x=_.useMemo(()=>{let E=ca(m,u);return E==null?null:{location:{pathname:E,search:p,hash:v,state:y,key:b},navigationType:s}},[u,m,p,v,y,b,s]);return dr(x!=null,`<Router basename="${u}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:_.createElement(pr.Provider,{value:f},_.createElement(qc.Provider,{children:e,value:x}))}function oS({children:t,location:e}){return s2(Zp(t),e)}function Zp(t,e=[]){let n=[];return _.Children.forEach(t,(s,i)=>{if(!_.isValidElement(s))return;let l=[...e,i];if(s.type===_.Fragment){n.push.apply(n,Zp(s.props.children,l));return}rt(s.type===ue,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Zp(s.props.children,l)),n.push(u)}),n}var Pd="get",Ld="application/x-www-form-urlencoded";function Cf(t){return t!=null&&typeof t.tagName=="string"}function v2(t){return Cf(t)&&t.tagName.toLowerCase()==="button"}function b2(t){return Cf(t)&&t.tagName.toLowerCase()==="form"}function x2(t){return Cf(t)&&t.tagName.toLowerCase()==="input"}function _2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function w2(t,e){return t.button===0&&(!e||e==="_self")&&!_2(t)}var Ed=null;function E2(){if(Ed===null)try{new FormData(document.createElement("form"),0),Ed=!1}catch{Ed=!0}return Ed}var S2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bp(t){return t!=null&&!S2.has(t)?(dr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ld}"`),null):t}function N2(t,e){let n,s,i,l,u;if(b2(t)){let f=t.getAttribute("action");s=f?ca(f,e):null,n=t.getAttribute("method")||Pd,i=bp(t.getAttribute("enctype"))||Ld,l=new FormData(t)}else if(v2(t)||x2(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?ca(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Pd,i=bp(t.getAttribute("formenctype"))||bp(f.getAttribute("enctype"))||Ld,l=new FormData(f,t),!E2()){let{name:p,type:v,value:y}=t;if(v==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,y)}}else{if(Cf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pd,s=null,i=Ld,u=t}return l&&i==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:i,formData:l,body:u}}function ey(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function C2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function T2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function R2(t,e,n){let s=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let u=await C2(l,n);return u.links?u.links():[]}return[]}));return j2(s.flat(1).filter(T2).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function j_(t,e,n,s,i,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var v;return n[p].pathname!==m.pathname||((v=n[p].route.path)==null?void 0:v.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>u(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{var y;let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function D2(t,e,{includeHydrateFallback:n}={}){return A2(t.map(s=>{let i=e.routes[s.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function A2(t){return[...new Set(t)]}function I2(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function j2(t,e){let n=new Set;return new Set(e),t.reduce((s,i)=>{let l=JSON.stringify(I2(i));return n.has(l)||(n.add(l),s.push({key:l,link:i})),s},[])}function O2(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function k2(){let t=_.useContext(Uo);return ey(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function M2(){let t=_.useContext(Nf);return ey(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ty=_.createContext(void 0);ty.displayName="FrameworkContext";function lS(){let t=_.useContext(ty);return ey(t,"You must render this element inside a <HydratedRouter> element"),t}function P2(t,e){let n=_.useContext(ty),[s,i]=_.useState(!1),[l,u]=_.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:y}=e,b=_.useRef(null);_.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let S=N=>{N.forEach(T=>{u(T.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[t]),_.useEffect(()=>{if(s){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[s]);let x=()=>{i(!0)},E=()=>{i(!1),u(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:nc(f,x),onBlur:nc(m,E),onMouseEnter:nc(p,x),onMouseLeave:nc(v,E),onTouchStart:nc(y,x)}]:[!1,b,{}]}function nc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function L2({page:t,...e}){let{router:n}=k2(),s=_.useMemo(()=>ZE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?_.createElement(B2,{page:t,matches:s,...e}):null}function U2(t){let{manifest:e,routeModules:n}=lS(),[s,i]=_.useState([]);return _.useEffect(()=>{let l=!1;return R2(t,e,n).then(u=>{l||i(u)}),()=>{l=!0}},[t,e,n]),s}function B2({page:t,matches:e,...n}){let s=gr(),{manifest:i,routeModules:l}=lS(),{loaderData:u,matches:f}=M2(),m=_.useMemo(()=>j_(t,e,f,i,s,"data"),[t,e,f,i,s]),p=_.useMemo(()=>j_(t,e,f,i,s,"assets"),[t,e,f,i,s]),v=_.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let x=new Set,E=!1;if(e.forEach(C=>{var T;let N=i.routes[C.route.id];!N||!N.hasLoader||(!m.some(R=>R.route.id===C.route.id)&&C.route.id in u&&((T=l[C.route.id])!=null&&T.shouldRevalidate)||N.hasClientLoader?E=!0:x.add(C.route.id))}),x.size===0)return[];let S=O2(t);return E&&x.size>0&&S.searchParams.set("_routes",e.filter(C=>x.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[u,s,i,m,e,t,l]),y=_.useMemo(()=>D2(p,i),[p,i]),b=U2(p);return _.createElement(_.Fragment,null,v.map(x=>_.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),y.map(x=>_.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),b.map(({key:x,link:E})=>_.createElement("link",{key:x,...E})))}function z2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var cS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cS&&(window.__reactRouterVersion="7.2.0")}catch{}function F2({basename:t,children:e,window:n}){let s=_.useRef();s.current==null&&(s.current=RA({window:n,v5Compat:!0}));let i=s.current,[l,u]=_.useState({action:i.action,location:i.location}),f=_.useCallback(m=>{_.startTransition(()=>u(m))},[u]);return _.useLayoutEffect(()=>i.listen(f),[i,f]),_.createElement(y2,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:i})}var uS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,os=_.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:i,reloadDocument:l,replace:u,state:f,target:m,to:p,preventScrollReset:v,viewTransition:y,...b},x){let{basename:E}=_.useContext(pr),S=typeof p=="string"&&uS.test(p),C,N=!1;if(typeof p=="string"&&S&&(C=p,cS))try{let P=new URL(window.location.href),$=p.startsWith("//")?new URL(P.protocol+p):new URL(p),se=ca($.pathname,E);$.origin===P.origin&&se!=null?p=se+$.search+$.hash:N=!0}catch{dr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=e2(p,{relative:i}),[R,I,O]=P2(s,b),B=$2(p,{replace:u,state:f,target:m,preventScrollReset:v,relative:i,viewTransition:y});function k(P){e&&e(P),P.defaultPrevented||B(P)}let Y=_.createElement("a",{...b,...O,href:C||T,onClick:N||l?e:k,ref:z2(x,I),target:m,"data-discover":!S&&n==="render"?"true":void 0});return R&&!S?_.createElement(_.Fragment,null,Y,_.createElement(L2,{page:T})):Y});os.displayName="Link";var H2=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:i=!1,style:l,to:u,viewTransition:f,children:m,...p},v){let y=Vc(u,{relative:p.relative}),b=gr(),x=_.useContext(Nf),{navigator:E,basename:S}=_.useContext(pr),C=x!=null&&Q2(y)&&f===!0,N=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,T=b.pathname,R=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(T=T.toLowerCase(),R=R?R.toLowerCase():null,N=N.toLowerCase()),R&&S&&(R=ca(R,S)||R);const I=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let O=T===N||!i&&T.startsWith(N)&&T.charAt(I)==="/",B=R!=null&&(R===N||!i&&R.startsWith(N)&&R.charAt(N.length)==="/"),k={isActive:O,isPending:B,isTransitioning:C},Y=O?e:void 0,P;typeof s=="function"?P=s(k):P=[s,O?"active":null,B?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let $=typeof l=="function"?l(k):l;return _.createElement(os,{...p,"aria-current":Y,className:P,ref:v,style:$,to:u,viewTransition:f},typeof m=="function"?m(k):m)});H2.displayName="NavLink";var q2=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:i,state:l,method:u=Pd,action:f,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:y,...b},x)=>{let E=W2(),S=K2(f,{relative:p}),C=u.toLowerCase()==="get"?"get":"post",N=typeof f=="string"&&uS.test(f),T=R=>{if(m&&m(R),R.defaultPrevented)return;R.preventDefault();let I=R.nativeEvent.submitter,O=(I==null?void 0:I.getAttribute("formmethod"))||u;E(I||R.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:l,relative:p,preventScrollReset:v,viewTransition:y})};return _.createElement("form",{ref:x,method:C,action:S,onSubmit:s?m:T,...b,"data-discover":!N&&t==="render"?"true":void 0})});q2.displayName="Form";function V2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dS(t){let e=_.useContext(Uo);return rt(e,V2(t)),e}function $2(t,{target:e,replace:n,state:s,preventScrollReset:i,relative:l,viewTransition:u}={}){let f=Ct(),m=gr(),p=Vc(t,{relative:l});return _.useCallback(v=>{if(w2(v,e)){v.preventDefault();let y=n!==void 0?n:_c(m)===_c(p);f(t,{replace:y,state:s,preventScrollReset:i,relative:l,viewTransition:u})}},[m,f,p,n,s,e,t,i,l,u])}var G2=0,Y2=()=>`__${String(++G2)}__`;function W2(){let{router:t}=dS("useSubmit"),{basename:e}=_.useContext(pr),n=h2();return _.useCallback(async(s,i={})=>{let{action:l,method:u,encType:f,formData:m,body:p}=N2(s,e);if(i.navigate===!1){let v=i.fetcherKey||Y2();await t.fetch(v,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:m,body:p,formMethod:i.method||u,formEncType:i.encType||f,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:m,body:p,formMethod:i.method||u,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function K2(t,{relative:e}={}){let{basename:n}=_.useContext(pr),s=_.useContext(Xn);rt(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),l={...Vc(t||".",{relative:e})},u=gr();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(y=>y).forEach(y=>f.append("index",y));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:is([n,l.pathname])),_c(l)}function Q2(t,e={}){let n=_.useContext(nS);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=dS("useViewTransitionState"),i=Vc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=ca(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=ca(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Gd(i.pathname,u)!=null||Gd(i.pathname,l)!=null}new TextEncoder;var ny=XE();const fS=Gg(ny);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hS=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:l,iconNode:u,...f},m)=>_.createElement("svg",{ref:m,...Z2,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:hS("lucide",i),...f},[...u.map(([p,v])=>_.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(t,e)=>{const n=_.forwardRef(({className:s,...i},l)=>_.createElement(J2,{ref:l,iconNode:e,className:hS(`lucide-${X2(t)}`,s),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],tI=Ae("Apple",eI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mS=Ae("ArrowLeft",nI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],sI=Ae("Boxes",rI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],pS=Ae("Building2",aI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],gS=Ae("Calculator",iI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yS=Ae("Check",oI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],cI=Ae("ChefHat",lI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ry=Ae("ChevronDown",uI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],sy=Ae("ChevronUp",dI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],hI=Ae("ChevronsUpDown",fI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vS=Ae("CircleAlert",mI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],gI=Ae("CircleUser",pI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Nn=Ae("ClipboardList",yI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bS=Ae("Eye",vI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],xS=Ae("Factory",bI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_I=Ae("Lock",xI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],EI=Ae("LogIn",wI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],O_=Ae("LogOut",SI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],CI=Ae("Menu",NI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],RI=Ae("MessageCircle",TI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Jp=Ae("Moon",DI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],_S=Ae("Package",AI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Tf=Ae("Pencil",II);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ta=Ae("Plus",jI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],kI=Ae("RefreshCcw",OI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],PI=Ae("Ruler",MI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],UI=Ae("Save",LI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],zI=Ae("ScrollText",BI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],wS=Ae("Search",FI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],k_=Ae("Settings",HI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],M_=Ae("ShoppingBag",qI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],eg=Ae("ShoppingCart",VI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],GI=Ae("Store",$I);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],tg=Ae("Sun",YI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Rf=Ae("Trash2",WI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],QI=Ae("Truck",KI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ZI=Ae("User",XI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],ES=Ae("Users",JI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],SS=Ae("X",ej);function NS(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=NS(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function tj(){for(var t,e,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=NS(t))&&(s&&(s+=" "),s+=e);return s}const ay="-",nj=t=>{const e=sj(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{const f=u.split(ay);return f[0]===""&&f.length!==1&&f.shift(),CS(f,e)||rj(u)},getConflictingClassGroupIds:(u,f)=>{const m=n[u]||[];return f&&s[u]?[...m,...s[u]]:m}}},CS=(t,e)=>{var u;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),i=s?CS(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const l=t.join(ay);return(u=e.validators.find(({validator:f})=>f(l)))==null?void 0:u.classGroupId},P_=/^\[(.+)\]$/,rj=t=>{if(P_.test(t)){const e=P_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},sj=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const i in n)ng(n[i],s,i,e);return s},ng=(t,e,n,s)=>{t.forEach(i=>{if(typeof i=="string"){const l=i===""?e:L_(e,i);l.classGroupId=n;return}if(typeof i=="function"){if(aj(i)){ng(i(s),e,n,s);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([l,u])=>{ng(u,L_(e,l),n,s)})})},L_=(t,e)=>{let n=t;return e.split(ay).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},aj=t=>t.isThemeGetter,ij=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const i=(l,u)=>{n.set(l,u),e++,e>t&&(e=0,s=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=s.get(l))!==void 0)return i(l,u),u},set(l,u){n.has(l)?n.set(l,u):i(l,u)}}},rg="!",sg=":",oj=sg.length,lj=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=i=>{const l=[];let u=0,f=0,m=0,p;for(let E=0;E<i.length;E++){let S=i[E];if(u===0&&f===0){if(S===sg){l.push(i.slice(m,E)),m=E+oj;continue}if(S==="/"){p=E;continue}}S==="["?u++:S==="]"?u--:S==="("?f++:S===")"&&f--}const v=l.length===0?i:i.substring(m),y=cj(v),b=y!==v,x=p&&p>m?p-m:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:y,maybePostfixModifierPosition:x}};if(e){const i=e+sg,l=s;s=u=>u.startsWith(i)?l(u.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const i=s;s=l=>n({className:l,parseClassName:i})}return s},cj=t=>t.endsWith(rg)?t.substring(0,t.length-1):t.startsWith(rg)?t.substring(1):t,uj=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const i=[];let l=[];return s.forEach(u=>{u[0]==="["||e[u]?(i.push(...l.sort(),u),l=[]):l.push(u)}),i.push(...l.sort()),i}},dj=t=>({cache:ij(t.cacheSize),parseClassName:lj(t),sortModifiers:uj(t),...nj(t)}),fj=/\s+/,hj=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:l}=e,u=[],f=t.trim().split(fj);let m="";for(let p=f.length-1;p>=0;p-=1){const v=f[p],{isExternal:y,modifiers:b,hasImportantModifier:x,baseClassName:E,maybePostfixModifierPosition:S}=n(v);if(y){m=v+(m.length>0?" "+m:m);continue}let C=!!S,N=s(C?E.substring(0,S):E);if(!N){if(!C){m=v+(m.length>0?" "+m:m);continue}if(N=s(E),!N){m=v+(m.length>0?" "+m:m);continue}C=!1}const T=l(b).join(":"),R=x?T+rg:T,I=R+N;if(u.includes(I))continue;u.push(I);const O=i(N,C);for(let B=0;B<O.length;++B){const k=O[B];u.push(R+k)}m=v+(m.length>0?" "+m:m)}return m};function mj(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=TS(e))&&(s&&(s+=" "),s+=n);return s}const TS=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=TS(t[s]))&&(n&&(n+=" "),n+=e);return n};function pj(t,...e){let n,s,i,l=u;function u(m){const p=e.reduce((v,y)=>y(v),t());return n=dj(p),s=n.cache.get,i=n.cache.set,l=f,f(m)}function f(m){const p=s(m);if(p)return p;const v=hj(m,n);return i(m,v),v}return function(){return l(mj.apply(null,arguments))}}const jt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},RS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,DS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,gj=/^\d+\/\d+$/,yj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_j=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oo=t=>gj.test(t),Pe=t=>!!t&&!Number.isNaN(Number(t)),Qa=t=>!!t&&Number.isInteger(Number(t)),U_=t=>t.endsWith("%")&&Pe(t.slice(0,-1)),Gs=t=>yj.test(t),wj=()=>!0,Ej=t=>vj.test(t)&&!bj.test(t),iy=()=>!1,Sj=t=>xj.test(t),Nj=t=>_j.test(t),Cj=t=>!pe(t)&&!ge(t),Tj=t=>zo(t,jS,iy),pe=t=>RS.test(t),Xa=t=>zo(t,OS,Ej),xp=t=>zo(t,Uj,Pe),Rj=t=>zo(t,AS,iy),Dj=t=>zo(t,IS,Nj),Aj=t=>zo(t,iy,Sj),ge=t=>DS.test(t),Sd=t=>Fo(t,OS),Ij=t=>Fo(t,Bj),jj=t=>Fo(t,AS),Oj=t=>Fo(t,jS),kj=t=>Fo(t,IS),Mj=t=>Fo(t,zj,!0),zo=(t,e,n)=>{const s=RS.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Fo=(t,e,n=!1)=>{const s=DS.exec(t);return s?s[1]?e(s[1]):n:!1},AS=t=>t==="position",Pj=new Set(["image","url"]),IS=t=>Pj.has(t),Lj=new Set(["length","size","percentage"]),jS=t=>Lj.has(t),OS=t=>t==="length",Uj=t=>t==="number",Bj=t=>t==="family-name",zj=t=>t==="shadow",Fj=()=>{const t=jt("color"),e=jt("font"),n=jt("text"),s=jt("font-weight"),i=jt("tracking"),l=jt("leading"),u=jt("breakpoint"),f=jt("container"),m=jt("spacing"),p=jt("radius"),v=jt("shadow"),y=jt("inset-shadow"),b=jt("drop-shadow"),x=jt("blur"),E=jt("perspective"),S=jt("aspect"),C=jt("ease"),N=jt("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],B=()=>[ge,pe,m],k=()=>[oo,"full","auto",...B()],Y=()=>[Qa,"none","subgrid",ge,pe],P=()=>["auto",{span:["full",Qa,ge,pe]},ge,pe],$=()=>[Qa,"auto",ge,pe],se=()=>["auto","min","max","fr",ge,pe],Q=()=>["start","end","center","between","around","evenly","stretch","baseline"],ae=()=>["start","end","center","stretch"],re=()=>["auto",...B()],oe=()=>[oo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],F=()=>[t,ge,pe],le=()=>[U_,Xa],te=()=>["","none","full",p,ge,pe],de=()=>["",Pe,Sd,Xa],M=()=>["solid","dashed","dotted","double"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["","none",x,ge,pe],V=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge,pe],K=()=>["none",Pe,ge,pe],Z=()=>["none",Pe,ge,pe],ee=()=>[Pe,ge,pe],fe=()=>[oo,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Gs],breakpoint:[Gs],color:[wj],container:[Gs],"drop-shadow":[Gs],ease:["in","out","in-out"],font:[Cj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Gs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Gs],shadow:[Gs],spacing:["px",Pe],text:[Gs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",oo,pe,ge,S]}],container:["container"],columns:[{columns:[Pe,pe,ge,f]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),pe,ge]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Qa,"auto",ge,pe]}],basis:[{basis:[oo,"full","auto",f,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pe,oo,"auto","initial","none",pe]}],grow:[{grow:["",Pe,ge,pe]}],shrink:[{shrink:["",Pe,ge,pe]}],order:[{order:[Qa,"first","last","none",ge,pe]}],"grid-cols":[{"grid-cols":Y()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":Y()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...ae(),"baseline"]}],"align-self":[{self:["auto",...ae(),"baseline"]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:re()}],mx:[{mx:re()}],my:[{my:re()}],ms:[{ms:re()}],me:[{me:re()}],mt:[{mt:re()}],mr:[{mr:re()}],mb:[{mb:re()}],ml:[{ml:re()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:oe()}],w:[{w:[f,"screen",...oe()]}],"min-w":[{"min-w":[f,"screen","none",...oe()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...oe()]}],h:[{h:["screen",...oe()]}],"min-h":[{"min-h":["screen","none",...oe()]}],"max-h":[{"max-h":["screen",...oe()]}],"font-size":[{text:["base",n,Sd,Xa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ge,xp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",U_,pe]}],"font-family":[{font:[Ij,pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ge,pe]}],"line-clamp":[{"line-clamp":[Pe,"none",ge,xp]}],leading:[{leading:[l,...B()]}],"list-image":[{"list-image":["none",ge,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pe,"from-font","auto",ge,Xa]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Pe,"auto",ge,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),jj,Rj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",Oj,Tj]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Qa,ge,pe],radial:["",ge,pe],conic:[Qa,ge,pe]},kj,Dj]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:le()}],"gradient-via-pos":[{via:le()}],"gradient-to-pos":[{to:le()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...M(),"hidden","none"]}],"divide-style":[{divide:[...M(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...M(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pe,ge,pe]}],"outline-w":[{outline:["",Pe,Sd,Xa]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",v,Mj,Aj]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",ge,pe,y]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Pe,Xa]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":F()}],opacity:[{opacity:[Pe,ge,pe]}],"mix-blend":[{"mix-blend":[...U(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none",ge,pe]}],blur:[{blur:L()}],brightness:[{brightness:[Pe,ge,pe]}],contrast:[{contrast:[Pe,ge,pe]}],"drop-shadow":[{"drop-shadow":["","none",b,ge,pe]}],grayscale:[{grayscale:["",Pe,ge,pe]}],"hue-rotate":[{"hue-rotate":[Pe,ge,pe]}],invert:[{invert:["",Pe,ge,pe]}],saturate:[{saturate:[Pe,ge,pe]}],sepia:[{sepia:["",Pe,ge,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,pe]}],"backdrop-blur":[{"backdrop-blur":L()}],"backdrop-brightness":[{"backdrop-brightness":[Pe,ge,pe]}],"backdrop-contrast":[{"backdrop-contrast":[Pe,ge,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pe,ge,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pe,ge,pe]}],"backdrop-invert":[{"backdrop-invert":["",Pe,ge,pe]}],"backdrop-opacity":[{"backdrop-opacity":[Pe,ge,pe]}],"backdrop-saturate":[{"backdrop-saturate":[Pe,ge,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Pe,ge,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pe,"initial",ge,pe]}],ease:[{ease:["linear","initial",C,ge,pe]}],delay:[{delay:[Pe,ge,pe]}],animate:[{animate:["none",N,ge,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,ge,pe]}],"perspective-origin":[{"perspective-origin":V()}],rotate:[{rotate:K()}],"rotate-x":[{"rotate-x":K()}],"rotate-y":[{"rotate-y":K()}],"rotate-z":[{"rotate-z":K()}],scale:[{scale:Z()}],"scale-x":[{"scale-x":Z()}],"scale-y":[{"scale-y":Z()}],"scale-z":[{"scale-z":Z()}],"scale-3d":["scale-3d"],skew:[{skew:ee()}],"skew-x":[{"skew-x":ee()}],"skew-y":[{"skew-y":ee()}],transform:[{transform:[ge,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:V()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:fe()}],"translate-x":[{"translate-x":fe()}],"translate-y":[{"translate-y":fe()}],"translate-z":[{"translate-z":fe()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,pe]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Pe,Sd,Xa,xp]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},Hj=pj(Fj);function De(...t){return Hj(tj(t))}const _e=_.forwardRef(({className:t,variant:e="default",size:n="default",...s},i)=>{const l="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",u={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},f={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"};return d.jsx("button",{className:De(l,u[e],f[n],t),ref:i,...s})});_e.displayName="Button";const gn=_.forwardRef(({className:t,type:e,...n},s)=>d.jsx("input",{type:e,className:De("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n}));gn.displayName="Input";const nt=_.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:De("rounded-lg border border-border bg-card text-card-foreground shadow-sm",t),...e}));nt.displayName="Card";const mn=_.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:De("flex flex-col space-y-1.5 p-6",t),...e}));mn.displayName="CardHeader";const pn=_.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:De("text-2xl font-semibold leading-none tracking-tight",t),...e}));pn.displayName="CardTitle";const kS=_.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:De("text-sm text-muted-foreground",t),...e}));kS.displayName="CardDescription";const pt=_.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:De("p-6 pt-0",t),...e}));pt.displayName="CardContent";const MS=_.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:De("flex items-center p-6 pt-0",t),...e}));MS.displayName="CardFooter";const qj=()=>{};var B_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce=function(t,e){if(!t)throw Ho(e)},Ho=function(t){return new Error("Firebase Database ("+PS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Vj=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const l=t[n++];e[s++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=t[n++],u=t[n++],f=t[n++],m=((i&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(l&63)<<6|u&63)}}return e.join("")},oy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const l=t[i],u=i+1<t.length,f=u?t[i+1]:0,m=i+2<t.length,p=m?t[i+2]:0,v=l>>2,y=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,x=p&63;m||(x=64,u||(b=64)),s.push(n[v],n[y],n[b],n[x])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Vj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const l=n[t.charAt(i++)],f=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,l==null||f==null||p==null||y==null)throw new $j;const b=l<<2|f>>4;if(s.push(b),p!==64){const x=f<<4&240|p>>2;if(s.push(x),y!==64){const E=p<<6&192|y;s.push(E)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $j extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const US=function(t){const e=LS(t);return oy.encodeByteArray(e,!0)},Yd=function(t){return US(t).replace(/\./g,"")},Wd=function(t){try{return oy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){return BS(void 0,t)}function BS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Yj(n)||(t[n]=BS(t[n],e[n]));return t}function Yj(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=()=>Wj().__FIREBASE_DEFAULTS__,Qj=()=>{if(typeof process>"u"||typeof B_>"u")return;const t=B_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Xj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Wd(t[1]);return e&&JSON.parse(e)},ly=()=>{try{return qj()||Kj()||Qj()||Xj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zS=t=>{var e,n;return(n=(e=ly())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Zj=t=>{const e=zS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},FS=()=>{var t;return(t=ly())===null||t===void 0?void 0:t.config},HS=t=>{var e;return(e=ly())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yd(JSON.stringify(n)),Yd(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function eO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nO(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rO(){return PS.NODE_ADMIN===!0}function sO(){try{return typeof indexedDB=="object"}catch{return!1}}function aO(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var l;e(((l=i.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="FirebaseError";class ba extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=iO,Object.setPrototypeOf(this,ba.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gc.prototype.create)}}class Gc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,l=this.errors[e],u=l?oO(l,s):"Error",f=`${this.serviceName}: ${u} (${i}).`;return new ba(i,f,s)}}function oO(t,e){return t.replace(lO,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const lO=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){return JSON.parse(t)}function St(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=function(t){let e={},n={},s={},i="";try{const l=t.split(".");e=wc(Wd(l[0])||""),n=wc(Wd(l[1])||""),i=l[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},cO=function(t){const e=VS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},uO=function(t){const e=VS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Co(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ag(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kd(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function ui(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const l=t[i],u=e[i];if(z_(l)&&z_(u)){if(!ui(l,u))return!1}else if(l!==u)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function z_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function cc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,l]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(l)}}),e}function uc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)s[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)s[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const b=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=(b<<1|b>>>31)&4294967295}let i=this.chain_[0],l=this.chain_[1],u=this.chain_[2],f=this.chain_[3],m=this.chain_[4],p,v;for(let y=0;y<80;y++){y<40?y<20?(p=f^l&(u^f),v=1518500249):(p=l^u^f,v=1859775393):y<60?(p=l&u|f&(l|u),v=2400959708):(p=l^u^f,v=3395469782);const b=(i<<5|i>>>27)+p+m+v+s[y]&4294967295;m=f,f=u,u=(l<<30|l>>>2)&4294967295,l=i,i=b}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const l=this.buf_;let u=this.inbuf_;for(;i<n;){if(u===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(l[u]=e.charCodeAt(i),++u,++i,u===this.blockSize){this.compress_(l),u=0;break}}else for(;i<n;)if(l[u]=e[i],++u,++i,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let l=24;l>=0;l-=8)e[s]=this.chain_[i]>>l&255,++s;return e}}function fO(t,e){const n=new hO(t,e);return n.subscribe.bind(n)}class hO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");mO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=_p),i.error===void 0&&(i.error=_p),i.complete===void 0&&(i.complete=_p);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _p(){}function Df(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const l=i-55296;s++,ce(s<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(s)-56320;i=65536+(l<<10)+u}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Af=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class di{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gO=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new $c;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vO(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:i});s.resolve(l)}catch{}}}}clearInstance(e=Za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Za){return this.instances.has(e)}getOptions(e=Za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(i,l);const u=this.instances.get(i);return u&&e(u,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yO(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Za){return this.component?this.component.multipleInstances?e:Za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function yO(t){return t===Za?void 0:t}function vO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const xO={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},_O=Qe.INFO,wO={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},EO=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=wO[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uy{constructor(e){this.name=e,this._logLevel=_O,this._logHandler=EO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const SO=(t,e)=>e.some(n=>t instanceof n);let F_,H_;function NO(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CO(){return H_||(H_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $S=new WeakMap,ig=new WeakMap,GS=new WeakMap,wp=new WeakMap,dy=new WeakMap;function TO(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(na(t.result)),i()},u=()=>{s(t.error),i()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&$S.set(n,t)}).catch(()=>{}),dy.set(e,t),e}function RO(t){if(ig.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),i()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});ig.set(t,e)}let og={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ig.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return na(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DO(t){og=t(og)}function AO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ep(this),e,...n);return GS.set(s,e.sort?e.sort():[e]),na(s)}:CO().includes(t)?function(...e){return t.apply(Ep(this),e),na($S.get(this))}:function(...e){return na(t.apply(Ep(this),e))}}function IO(t){return typeof t=="function"?AO(t):(t instanceof IDBTransaction&&RO(t),SO(t,NO())?new Proxy(t,og):t)}function na(t){if(t instanceof IDBRequest)return TO(t);if(wp.has(t))return wp.get(t);const e=IO(t);return e!==t&&(wp.set(t,e),dy.set(e,t)),e}const Ep=t=>dy.get(t);function jO(t,e,{blocked:n,upgrade:s,blocking:i,terminated:l}={}){const u=indexedDB.open(t,e),f=na(u);return s&&u.addEventListener("upgradeneeded",m=>{s(na(u.result),m.oldVersion,m.newVersion,na(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),i&&m.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const OO=["get","getKey","getAll","getAllKeys","count"],kO=["put","add","delete","clear"],Sp=new Map;function q_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sp.get(e))return Sp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=kO.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||OO.includes(n)))return;const l=async function(u,...f){const m=this.transaction(u,i?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),i&&m.done]))[0]};return Sp.set(e,l),l}DO(t=>({...t,get:(e,n,s)=>q_(e,n)||t.get(e,n,s),has:(e,n)=>!!q_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PO(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function PO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lg="@firebase/app",V_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new uy("@firebase/app"),LO="@firebase/app-compat",UO="@firebase/analytics-compat",BO="@firebase/analytics",zO="@firebase/app-check-compat",FO="@firebase/app-check",HO="@firebase/auth",qO="@firebase/auth-compat",VO="@firebase/database",$O="@firebase/data-connect",GO="@firebase/database-compat",YO="@firebase/functions",WO="@firebase/functions-compat",KO="@firebase/installations",QO="@firebase/installations-compat",XO="@firebase/messaging",ZO="@firebase/messaging-compat",JO="@firebase/performance",ek="@firebase/performance-compat",tk="@firebase/remote-config",nk="@firebase/remote-config-compat",rk="@firebase/storage",sk="@firebase/storage-compat",ak="@firebase/firestore",ik="@firebase/vertexai",ok="@firebase/firestore-compat",lk="firebase",ck="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="[DEFAULT]",uk={[lg]:"fire-core",[LO]:"fire-core-compat",[BO]:"fire-analytics",[UO]:"fire-analytics-compat",[FO]:"fire-app-check",[zO]:"fire-app-check-compat",[HO]:"fire-auth",[qO]:"fire-auth-compat",[VO]:"fire-rtdb",[$O]:"fire-data-connect",[GO]:"fire-rtdb-compat",[YO]:"fire-fn",[WO]:"fire-fn-compat",[KO]:"fire-iid",[QO]:"fire-iid-compat",[XO]:"fire-fcm",[ZO]:"fire-fcm-compat",[JO]:"fire-perf",[ek]:"fire-perf-compat",[tk]:"fire-rc",[nk]:"fire-rc-compat",[rk]:"fire-gcs",[sk]:"fire-gcs-compat",[ak]:"fire-fst",[ok]:"fire-fst-compat",[ik]:"fire-vertex","fire-js":"fire-js",[lk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new Map,dk=new Map,ug=new Map;function $_(t,e){try{t.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function To(t){const e=t.name;if(ug.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;ug.set(e,t);for(const n of Qd.values())$_(n,t);for(const n of dk.values())$_(n,t);return!0}function fy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function or(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ra=new Gc("app","Firebase",fk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=ck;function YS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:cg,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw ra.create("bad-app-name",{appName:String(i)});if(n||(n=FS()),!n)throw ra.create("no-options");const l=Qd.get(i);if(l){if(ui(n,l.options)&&ui(s,l.config))return l;throw ra.create("duplicate-app",{appName:i})}const u=new bO(i);for(const m of ug.values())u.addComponent(m);const f=new hk(n,s,u);return Qd.set(i,f),f}function WS(t=cg){const e=Qd.get(t);if(!e&&t===cg&&FS())return YS();if(!e)throw ra.create("no-app",{appName:t});return e}function sa(t,e,n){var s;let i=(s=uk[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const l=i.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${i}" with version "${e}":`];l&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(f.join(" "));return}To(new di(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="firebase-heartbeat-database",pk=1,Ec="firebase-heartbeat-store";let Np=null;function KS(){return Np||(Np=jO(mk,pk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ec)}catch(n){console.warn(n)}}}}).catch(t=>{throw ra.create("idb-open",{originalErrorMessage:t.message})})),Np}async function gk(t){try{const n=(await KS()).transaction(Ec),s=await n.objectStore(Ec).get(QS(t));return await n.done,s}catch(e){if(e instanceof ba)cs.warn(e.message);else{const n=ra.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cs.warn(n.message)}}}async function G_(t,e){try{const s=(await KS()).transaction(Ec,"readwrite");await s.objectStore(Ec).put(e,QS(t)),await s.done}catch(n){if(n instanceof ba)cs.warn(n.message);else{const s=ra.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cs.warn(s.message)}}}function QS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=1024,vk=30;class bk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _k(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Y_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>vk){const u=wk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){cs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Y_(),{heartbeatsToSend:s,unsentEntries:i}=xk(this._heartbeatsCache.heartbeats),l=Yd(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return cs.warn(n),""}}}function Y_(){return new Date().toISOString().substring(0,10)}function xk(t,e=yk){const n=[];let s=t.slice();for(const i of t){const l=n.find(u=>u.agent===i.agent);if(l){if(l.dates.push(i.date),W_(n)>e){l.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),W_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _k{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sO()?aO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return G_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return G_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function W_(t){return Yd(JSON.stringify({version:2,heartbeats:t})).length}function wk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t){To(new di("platform-logger",e=>new MO(e),"PRIVATE")),To(new di("heartbeat",e=>new bk(e),"PRIVATE")),sa(lg,V_,t),sa(lg,V_,"esm2017"),sa("fire-js","")}Ek("");var Rr=function(){return Rr=Object.assign||function(e){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Rr.apply(this,arguments)};function Yc(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function Sk(t,e,n){if(n||arguments.length===2)for(var s=0,i=e.length,l;s<i;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return t.concat(l||Array.prototype.slice.call(e))}function XS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nk=XS,ZS=new Gc("auth","Firebase",XS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new uy("@firebase/auth");function Ck(t,...e){Xd.logLevel<=Qe.WARN&&Xd.warn(`Auth (${Vo}): ${t}`,...e)}function Ud(t,...e){Xd.logLevel<=Qe.ERROR&&Xd.error(`Auth (${Vo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t,...e){throw hy(t,...e)}function Ir(t,...e){return hy(t,...e)}function JS(t,e,n){const s=Object.assign(Object.assign({},Nk()),{[e]:n});return new Gc("auth","Firebase",s).create(e,{appName:t.name})}function aa(t){return JS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return ZS.create(t,...e)}function Ee(t,e,...n){if(!t)throw hy(e,...n)}function ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ud(e),new Error(e)}function us(t,e){t||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Tk(){return K_()==="http:"||K_()==="https:"}function K_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tk()||tO()||"connection"in navigator)?navigator.onLine:!0}function Dk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,us(n>e,"Short delay should be less than long delay!"),this.isMobile=cy()||qS()}get(){return Rk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t,e){us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=new Wc(3e4,6e4);function wi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xa(t,e,n,s,i={}){return t1(t,i,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=qo(Object.assign({key:t.config.apiKey},u)).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:m},l);return eO()||(p.referrerPolicy="no-referrer"),e1.fetch()(n1(t,t.config.apiHost,n,f),p)})}async function t1(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},Ak),e);try{const i=new Ok(t),l=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Nd(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nd(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Nd(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw Nd(t,"user-disabled",u);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw JS(t,v,p);fr(t,v)}}catch(i){if(i instanceof ba)throw i;fr(t,"network-request-failed",{message:String(i)})}}async function If(t,e,n,s,i={}){const l=await xa(t,e,n,s,i);return"mfaPendingCredential"in l&&fr(t,"multi-factor-auth-required",{_serverResponse:l}),l}function n1(t,e,n,s){const i=`${e}${n}?${s}`;return t.config.emulator?my(t.config,i):`${t.config.apiScheme}://${i}`}function jk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ok{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ir(this.auth,"network-request-failed")),Ik.get())})}}function Nd(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=Ir(t,e,s);return i.customData._tokenResponse=n,i}function Q_(t){return t!==void 0&&t.enterprise!==void 0}class kk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Mk(t,e){return xa(t,"GET","/v2/recaptchaConfig",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(t,e){return xa(t,"POST","/v1/accounts:delete",e)}async function r1(t,e){return xa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lk(t,e=!1){const n=Pt(t),s=await n.getIdToken(e),i=py(s);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:i,token:s,authTime:pc(Cp(i.auth_time)),issuedAtTime:pc(Cp(i.iat)),expirationTime:pc(Cp(i.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Cp(t){return Number(t)*1e3}function py(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Ud("JWT malformed, contained fewer than 3 sections"),null;try{const i=Wd(n);return i?JSON.parse(i):(Ud("Failed to decode base64 JWT payload"),null)}catch(i){return Ud("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function X_(t){const e=py(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ba&&Uk(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Uk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pc(this.lastLoginAt),this.creationTime=pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(t){var e;const n=t.auth,s=await t.getIdToken(),i=await Sc(t,r1(n,{idToken:s}));Ee(i==null?void 0:i.users.length,n,"internal-error");const l=i.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?s1(l.providerUserInfo):[],f=Fk(t.providerData,u),m=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),v=m?p:!1,y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new fg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(t,y)}async function zk(t){const e=Pt(t);await Zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fk(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function s1(t){return t.map(e=>{var{providerId:n}=e,s=Yc(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(t,e){const n=await t1(t,{},async()=>{const s=qo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=t.config,u=n1(t,i,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",e1.fetch()(u,{method:"POST",headers:f,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qk(t,e){return xa(t,"POST","/v2/accounts:revokeToken",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=X_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:l}=await Hk(e,n);this.updateTokensAndExpiration(s,i,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:l}=n,u=new bo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),i&&(Ee(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),l&&(Ee(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rs{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,l=Yc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Sc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lk(this,e)}reload(){return zk(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Zd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(aa(this.auth));const e=await this.getIdToken();return await Sc(this,Pk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,l,u,f,m,p,v;const y=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(i=n.email)!==null&&i!==void 0?i:void 0,x=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,E=(u=n.photoURL)!==null&&u!==void 0?u:void 0,S=(f=n.tenantId)!==null&&f!==void 0?f:void 0,C=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,N=(p=n.createdAt)!==null&&p!==void 0?p:void 0,T=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:R,emailVerified:I,isAnonymous:O,providerData:B,stsTokenManager:k}=n;Ee(R&&k,e,"internal-error");const Y=bo.fromJSON(this.name,k);Ee(typeof R=="string",e,"internal-error"),Ys(y,e.name),Ys(b,e.name),Ee(typeof I=="boolean",e,"internal-error"),Ee(typeof O=="boolean",e,"internal-error"),Ys(x,e.name),Ys(E,e.name),Ys(S,e.name),Ys(C,e.name),Ys(N,e.name),Ys(T,e.name);const P=new rs({uid:R,auth:e,email:b,emailVerified:I,displayName:y,isAnonymous:O,photoURL:E,phoneNumber:x,tenantId:S,stsTokenManager:Y,createdAt:N,lastLoginAt:T});return B&&Array.isArray(B)&&(P.providerData=B.map($=>Object.assign({},$))),C&&(P._redirectEventId=C),P}static async _fromIdTokenResponse(e,n,s=!1){const i=new bo;i.updateFromServerResponse(n);const l=new rs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Zd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];Ee(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?s1(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(l!=null&&l.length),f=new bo;f.updateFromIdToken(s);const m=new rs({uid:i.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new fg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;function ss(t){us(t instanceof Function,"Expected a class definition");let e=Z_.get(t);return e?(us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Z_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}a1.type="NONE";const J_=a1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t,e,n){return`firebase:${t}:${e}:${n}`}class xo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:l}=this.auth;this.fullUserKey=Bd(this.userKey,i.apiKey,l),this.fullPersistenceKey=Bd("persistence",i.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?rs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new xo(ss(J_),e,s);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=i[0]||ss(J_);const u=Bd(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const v=await p._get(u);if(v){const y=rs._fromJSON(e,v);p!==l&&(f=y),l=p;break}}catch{}const m=i.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new xo(l,e,s):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new xo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(c1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d1(e))return"Blackberry";if(f1(e))return"Webos";if(o1(e))return"Safari";if((e.includes("chrome/")||l1(e))&&!e.includes("edge/"))return"Chrome";if(u1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function i1(t=rn()){return/firefox\//i.test(t)}function o1(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l1(t=rn()){return/crios\//i.test(t)}function c1(t=rn()){return/iemobile/i.test(t)}function u1(t=rn()){return/android/i.test(t)}function d1(t=rn()){return/blackberry/i.test(t)}function f1(t=rn()){return/webos/i.test(t)}function gy(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Vk(t=rn()){var e;return gy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $k(){return nO()&&document.documentMode===10}function h1(t=rn()){return gy(t)||u1(t)||f1(t)||d1(t)||/windows phone/i.test(t)||c1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t,e=[]){let n;switch(t){case"Browser":n=ew(rn());break;case"Worker":n=`${ew(rn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(t,e={}){return xa(t,"GET","/v2/passwordPolicy",wi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=6;class Kk{constructor(e){var n,s,i,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:Wk,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,l,u,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(i=m.containsLowercaseLetter)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(u=m.containsNumericCharacter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tw(this),this.idTokenSubscription=new tw(this),this.beforeStateQueue=new Gk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ss(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await r1(this,{idToken:e}),s=await rs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(or(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=i==null?void 0:i._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&(m!=null&&m.user)&&(i=m.user,l=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Dk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(aa(this));const n=e?Pt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Yk(this),n=new Kk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await qk(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ss(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,i);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Ck(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $o(t){return Pt(t)}class tw{constructor(e){this.auth=e,this.observer=null,this.addObserver=fO(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xk(t){jf=t}function p1(t){return jf.loadJS(t)}function Zk(){return jf.recaptchaEnterpriseScript}function Jk(){return jf.gapiScript}function eM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class tM{constructor(){this.enterprise=new nM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const rM="recaptcha-enterprise",g1="NO_RECAPTCHA";class sM{constructor(e){this.type=rM,this.auth=$o(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{Mk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new kk(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{f(m)})})}function i(l,u,f){const m=window.grecaptcha;Q_(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(g1)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tM().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(f=>{if(!n&&Q_(window.grecaptcha))i(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=Zk();m.length!==0&&(m+=f),p1(m).then(()=>{i(f,l,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function nw(t,e,n,s=!1,i=!1){const l=new sM(t);let u;if(i)u=g1;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function rw(t,e,n,s,i){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await nw(t,e,n,n==="getOobCode");return s(t,u)}else return s(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await nw(t,e,n,n==="getOobCode");return s(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t,e){const n=fy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),l=n.getOptions();if(ui(l,e??{}))return i;fr(i,"already-initialized")}return n.initialize({options:e})}function iM(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ss);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function oM(t,e,n){const s=$o(t);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,l=y1(e),{host:u,port:f}=lM(e),m=f===null?"":`:${f}`,p={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ui(p,s.config.emulator)&&ui(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,cM()}function y1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lM(t){const e=y1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const l=i[1];return{host:l,port:sw(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:sw(u)}}}function sw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,n){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function uM(t,e){return xa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(t,e){return If(t,"POST","/v1/accounts:signInWithPassword",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(t,e){return If(t,"POST","/v1/accounts:signInWithEmailLink",wi(t,e))}async function hM(t,e){return If(t,"POST","/v1/accounts:signInWithEmailLink",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends yy{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Nc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Nc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rw(e,n,"signInWithPassword",dM);case"emailLink":return fM(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rw(e,s,"signUpPassword",uM);case"emailLink":return hM(e,{idToken:n,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(t,e){return If(t,"POST","/v1/accounts:signInWithIdp",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="http://localhost";class fi extends yy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,l=Yc(n,["providerId","signInMethod"]);if(!s||!i)return null;const u=new fi(s,i);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_o(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:mM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gM(t){const e=cc(uc(t)).link,n=e?cc(uc(e)).deep_link_id:null,s=cc(uc(t)).deep_link_id;return(s?cc(uc(s)).link:null)||s||n||e||t}class vy{constructor(e){var n,s,i,l,u,f;const m=cc(uc(e)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,v=(s=m.oobCode)!==null&&s!==void 0?s:null,y=pM((i=m.mode)!==null&&i!==void 0?i:null);Ee(p&&v&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=m.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=gM(e);try{return new vy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(e,n){return Nc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=vy.parseLink(n);return Ee(s,"argument-error"),Nc._fromEmailAndCode(e,s.code,s.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends v1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Kc{constructor(){super("facebook.com")}static credential(e){return fi._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fi._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Xs.credential(n,s)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Kc{constructor(){super("github.com")}static credential(e){return fi._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Kc{constructor(){super("twitter.com")}static credential(e,n){return fi._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Js.credential(n,s)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const l=await rs._fromIdTokenResponse(e,s,i),u=aw(s);return new Ro({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=aw(s);return new Ro({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function aw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends ba{constructor(e,n,s,i){var l;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Jd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new Jd(e,n,s,i)}}function b1(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Jd._fromErrorAndOperation(t,l,e,s):l})}async function yM(t,e,n=!1){const s=await Sc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ro._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e,n=!1){const{auth:s}=t;if(or(s.app))return Promise.reject(aa(s));const i="reauthenticate";try{const l=await Sc(t,b1(s,i,e,t),n);Ee(l.idToken,s,"internal-error");const u=py(l.idToken);Ee(u,s,"internal-error");const{sub:f}=u;return Ee(t.uid===f,s,"user-mismatch"),Ro._forOperation(t,i,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&fr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(t,e,n=!1){if(or(t.app))return Promise.reject(aa(t));const s="signIn",i=await b1(t,s,e),l=await Ro._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(l.user),l}async function bM(t,e){return x1($o(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t){const e=$o(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function _M(t,e,n){return or(t.app)?Promise.reject(aa(t)):bM(Pt(t),Go.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&xM(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t,e){return Pt(t).setPersistence(e)}function EM(t,e,n,s){return Pt(t).onIdTokenChanged(e,n,s)}function SM(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function NM(t,e,n,s){return Pt(t).onAuthStateChanged(e,n,s)}function CM(t){return Pt(t).signOut()}const ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=1e3,RM=10;class w1 extends _1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);$k()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,RM):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},TM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}w1.type="LOCAL";const E1=w1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends _1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}S1.type="SESSION";const by=S1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Of(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:l}=n.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const f=Array.from(u).map(async p=>p(n.origin,l)),m=await DM(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Of.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=xy("",20);i.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:i,onMessage(y){const b=y;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return window}function IM(t){jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function jM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kM(){return N1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="firebaseLocalStorageDb",MM=1,tf="firebaseLocalStorage",T1="fbase_key";class Qc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kf(t,e){return t.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function PM(){const t=indexedDB.deleteDatabase(C1);return new Qc(t).toPromise()}function hg(){const t=indexedDB.open(C1,MM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(tf,{keyPath:T1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(tf)?e(s):(s.close(),await PM(),e(await hg()))})})}async function iw(t,e,n){const s=kf(t,!0).put({[T1]:e,value:n});return new Qc(s).toPromise()}async function LM(t,e){const n=kf(t,!1).get(e),s=await new Qc(n).toPromise();return s===void 0?null:s.value}function ow(t,e){const n=kf(t,!0).delete(e);return new Qc(n).toPromise()}const UM=800,BM=3;class R1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>BM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Of._getInstance(kM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jM(),!this.activeServiceWorker)return;this.sender=new AM(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hg();return await iw(e,ef,"1"),await ow(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>iw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>LM(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ow(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=kf(i,!1).getAll();return new Qc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}R1.type="LOCAL";const zM=R1;new Wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t,e){return e?ss(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends yy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HM(t){return x1(t.auth,new _y(t),t.bypassAuthState)}function qM(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),vM(n,new _y(t),t.bypassAuthState)}async function VM(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),yM(n,new _y(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n,s,i,l=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HM;case"linkViaPopup":case"linkViaRedirect":return VM;case"reauthViaPopup":case"reauthViaRedirect":return qM;default:fr(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new Wc(2e3,1e4);class po extends D1{constructor(e,n,s,i,l){super(e,n,i,l),this.provider=s,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const e=xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$M.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="pendingRedirect",zd=new Map;class YM extends D1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=zd.get(this.auth._key());if(!e){try{const s=await WM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}zd.set(this.auth._key(),e)}return this.bypassAuthState||zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WM(t,e){const n=XM(e),s=QM(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function KM(t,e){zd.set(t._key(),e)}function QM(t){return ss(t._redirectPersistence)}function XM(t){return Bd(GM,t.config.apiKey,t.name)}async function ZM(t,e,n=!1){if(or(t.app))return Promise.reject(aa(t));const s=$o(t),i=FM(s,e),u=await new YM(s,i,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=10*60*1e3;class eP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!A1(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ir(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JM&&this.cachedEventUids.clear(),this.cachedEventUids.has(lw(e))}saveEventToCache(e){this.cachedEventUids.add(lw(e)),this.lastProcessedEventTime=Date.now()}}function lw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function A1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(t,e={}){return xa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sP=/^https?/;async function aP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nP(t);for(const n of e)try{if(iP(n))return}catch{}fr(t,"unauthorized-domain")}function iP(t){const e=dg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!sP.test(n))return!1;if(rP.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=new Wc(3e4,6e4);function cw(){const t=jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lP(t){return new Promise((e,n)=>{var s,i,l;function u(){cw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cw(),n(Ir(t,"network-request-failed"))},timeout:oP.get()})}if(!((i=(s=jr().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((l=jr().gapi)===null||l===void 0)&&l.load)u();else{const f=eM("iframefcb");return jr()[f]=()=>{gapi.load?u():n(Ir(t,"network-request-failed"))},p1(`${Jk()}?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw Fd=null,e})}let Fd=null;function cP(t){return Fd=Fd||lP(t),Fd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=new Wc(5e3,15e3),dP="__/auth/iframe",fP="emulator/auth/iframe",hP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pP(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?my(e,fP):`https://${t.config.authDomain}/${dP}`,s={apiKey:e.apiKey,appName:t.name,v:Vo},i=mP.get(t.config.apiHost);i&&(s.eid=i);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${qo(s).slice(1)}`}async function gP(t){const e=await cP(t),n=jr().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:pP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hP,dontclear:!0},s=>new Promise(async(i,l)=>{await s.restyle({setHideOnLeave:!1});const u=Ir(t,"network-request-failed"),f=jr().setTimeout(()=>{l(u)},uP.get());function m(){jr().clearTimeout(f),i(s)}s.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vP=500,bP=600,xP="_blank",_P="http://localhost";class uw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wP(t,e,n,s=vP,i=bP){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m=Object.assign(Object.assign({},yP),{width:s.toString(),height:i.toString(),top:l,left:u}),p=rn().toLowerCase();n&&(f=l1(p)?xP:n),i1(p)&&(e=e||_P,m.scrollbars="yes");const v=Object.entries(m).reduce((b,[x,E])=>`${b}${x}=${E},`,"");if(Vk(p)&&f!=="_self")return EP(e||"",f),new uw(null);const y=window.open(e||"",f,v);Ee(y,t,"popup-blocked");try{y.focus()}catch{}return new uw(y)}function EP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="__/auth/handler",NP="emulator/auth/handler",CP=encodeURIComponent("fac");async function dw(t,e,n,s,i,l){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Vo,eventId:i};if(e instanceof v1){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",ag(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,y]of Object.entries({}))u[v]=y}if(e instanceof Kc){const v=e.getScopes().filter(y=>y!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await t._getAppCheckToken(),p=m?`#${CP}=${encodeURIComponent(m)}`:"";return`${TP(t)}?${qo(f).slice(1)}${p}`}function TP({config:t}){return t.emulator?my(t,NP):`https://${t.authDomain}/${SP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="webStorageSupport";class RP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=by,this._completeRedirectFn=ZM,this._overrideRedirectResult=KM}async _openPopup(e,n,s,i){var l;us((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await dw(e,n,s,dg(),i);return wP(e,u,xy())}async _openRedirect(e,n,s,i){await this._originValidation(e);const l=await dw(e,n,s,dg(),i);return IM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:l}=this.eventManagers[n];return i?Promise.resolve(i):(us(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await gP(e),s=new eP(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tp,{type:Tp},i=>{var l;const u=(l=i==null?void 0:i[0])===null||l===void 0?void 0:l[Tp];u!==void 0&&n(!!u),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return h1()||o1()||gy()}}const DP=RP;var fw="@firebase/auth",hw="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jP(t){To(new di("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m1(t)},p=new Qk(s,i,l,m);return iM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),To(new di("auth-internal",e=>{const n=$o(e.getProvider("auth").getImmediate());return(s=>new AP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sa(fw,hw,IP(t)),sa(fw,hw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=5*60,kP=HS("authIdTokenMaxAge")||OP;let mw=null;const MP=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>kP)return;const i=n==null?void 0:n.token;mw!==i&&(mw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function PP(t=WS()){const e=fy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aM(t,{popupRedirectResolver:DP,persistence:[zM,E1,by]}),s=HS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=MP(l.toString());SM(n,u,()=>u(n.currentUser)),EM(n,f=>u(f))}}const i=zS("auth");return i&&oM(n,`http://${i}`),n}function LP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Xk({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const l=Ir("internal-error");l.customData=i,n(l)},s.type="text/javascript",s.charset="UTF-8",LP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jP("Browser");var UP="firebase",BP="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sa(UP,BP,"app");var pw={};const gw="@firebase/database",yw="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I1="";function zP(t){I1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),St(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:wc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Mr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new FP(e)}}catch{}return new HP},ii=j1("localStorage"),qP=j1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new uy("@firebase/database"),VP=function(){let t=1;return function(){return t++}}(),O1=function(t){const e=pO(t),n=new dO;n.update(e);const s=n.digest();return oy.encodeByteArray(s)},Xc=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Xc.apply(null,s):typeof s=="object"?e+=St(s):e+=s,e+=" "}return e};let gc=null,vw=!0;const $P=function(t,e){ce(!0,"Can't turn on custom loggers persistently."),wo.logLevel=Qe.VERBOSE,gc=wo.log.bind(wo)},Ft=function(...t){if(vw===!0&&(vw=!1,gc===null&&qP.get("logging_enabled")===!0&&$P()),gc){const e=Xc.apply(null,t);gc(e)}},Zc=function(t){return function(...e){Ft(t,...e)}},mg=function(...t){const e="FIREBASE INTERNAL ERROR: "+Xc(...t);wo.error(e)},ds=function(...t){const e=`FIREBASE FATAL ERROR: ${Xc(...t)}`;throw wo.error(e),new Error(e)},nn=function(...t){const e="FIREBASE WARNING: "+Xc(...t);wo.warn(e)},GP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},wy=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},YP=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},hi="[MIN_NAME]",ua="[MAX_NAME]",Ei=function(t,e){if(t===e)return 0;if(t===hi||e===ua)return-1;if(e===hi||t===ua)return 1;{const n=bw(t),s=bw(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},WP=function(t,e){return t===e?0:t<e?-1:1},rc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+St(e))},Ey=function(t){if(typeof t!="object"||t===null)return St(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=St(e[s]),n+=":",n+=Ey(t[e[s]]);return n+="}",n},k1=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function Ht(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const M1=function(t){ce(!wy(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,l,u,f,m;t===0?(l=0,u=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(f=Math.min(Math.floor(Math.log(t)/Math.LN2),s),l=f+s,u=Math.round(t*Math.pow(2,n-f)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-s-n))));const p=[];for(m=n;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);for(m=e;m;m-=1)p.push(l%2?1:0),l=Math.floor(l/2);p.push(i?1:0),p.reverse();const v=p.join("");let y="";for(m=0;m<64;m+=8){let b=parseInt(v.substr(m,8),2).toString(16);b.length===1&&(b="0"+b),y=y+b}return y.toLowerCase()},KP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},QP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function XP(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const ZP=new RegExp("^-?(0*)\\d{1,10}$"),JP=-2147483648,e4=2147483647,bw=function(t){if(ZP.test(t)){const e=Number(t);if(e>=JP&&e<=e4)return e}return null},Yo=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw nn("Exception was thrown by user callback.",n),e},Math.floor(0))}},t4=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},yc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,or(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){nn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nn(e)}}class Hd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Hd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="5",P1="v",L1="s",U1="r",B1="f",z1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,F1="ls",H1="p",pg="ac",q1="websocket",V1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n,s,i,l=!1,u="",f=!1,m=!1,p=null){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ii.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ii.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function s4(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function G1(t,e,n){ce(typeof e=="string","typeof type must == string"),ce(typeof n=="object","typeof params must == object");let s;if(e===q1)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===V1)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);s4(t)&&(n.ns=t.namespace);const i=[];return Ht(n,(l,u)=>{i.push(l+"="+u)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.counters_={}}incrementCounter(e,n=1){Mr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Gj(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp={},Dp={};function Ny(t){const e=t.toString();return Rp[e]||(Rp[e]=new a4),Rp[e]}function i4(t,e){const n=t.toString();return Dp[n]||(Dp[n]=e()),Dp[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&Yo(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="start",l4="close",c4="pLPCommand",u4="pRTLPCB",Y1="id",W1="pw",K1="ser",d4="cb",f4="seg",h4="ts",m4="d",p4="dframe",Q1=1870,X1=30,g4=Q1-X1,y4=25e3,v4=3e4;class go{constructor(e,n,s,i,l,u,f){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=l,this.transportSessionId=u,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zc(e),this.stats_=Ny(n),this.urlFn=m=>(this.appCheckToken&&(m[pg]=this.appCheckToken),G1(n,V1,m))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new o4(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(v4)),YP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Cy((...l)=>{const[u,f,m,p,v]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===xw)this.id=f,this.password=m;else if(u===l4)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,f]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,f)},()=>{this.onClosed_()},this.urlFn);const s={};s[xw]="t",s[K1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[d4]=this.scriptTagHolder.uniqueCallbackIdentifier),s[P1]=Sy,this.transportSessionId&&(s[L1]=this.transportSessionId),this.lastSessionId&&(s[F1]=this.lastSessionId),this.applicationId&&(s[H1]=this.applicationId),this.appCheckToken&&(s[pg]=this.appCheckToken),typeof location<"u"&&location.hostname&&z1.test(location.hostname)&&(s[U1]=B1);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){go.forceAllow_=!0}static forceDisallow(){go.forceDisallow_=!0}static isAvailable(){return go.forceAllow_?!0:!go.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!KP()&&!QP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=St(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=US(n),i=k1(s,g4);for(let l=0;l<i.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[p4]="t",s[Y1]=e,s[W1]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=St(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Cy{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=VP(),window[c4+this.uniqueCallbackIdentifier]=e,window[u4+this.uniqueCallbackIdentifier]=n,this.myIFrame=Cy.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(f){Ft("frame writing exception"),f.stack&&Ft(f.stack),Ft(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ft("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Y1]=this.myID,e[W1]=this.myPW,e[K1]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+X1+s.length<=Q1;){const u=this.pendingSegs.shift();s=s+"&"+f4+i+"="+u.seg+"&"+h4+i+"="+u.ts+"&"+m4+i+"="+u.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(y4)),l=()=>{clearTimeout(i),s()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{Ft("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=16384,x4=45e3;let nf=null;typeof MozWebSocket<"u"?nf=MozWebSocket:typeof WebSocket<"u"&&(nf=WebSocket);class lr{constructor(e,n,s,i,l,u,f){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zc(this.connId),this.stats_=Ny(n),this.connURL=lr.connectionURL_(n,u,f,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,l){const u={};return u[P1]=Sy,typeof location<"u"&&location.hostname&&z1.test(location.hostname)&&(u[U1]=B1),n&&(u[L1]=n),s&&(u[F1]=s),i&&(u[pg]=i),l&&(u[H1]=l),G1(e,q1,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ii.set("previous_websocket_failure",!0);try{let s;rO(),this.mySock=new nf(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){lr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&nf!==null&&!lr.forceDisallow_}static previouslyFailed(){return ii.isInMemoryStorage||ii.get("previous_websocket_failure")===!0}markConnectionHealthy(){ii.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=wc(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ce(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=St(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=k1(n,b4);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(x4))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}lr.responsesRequiredToBeHealthy=2;lr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{static get ALL_TRANSPORTS(){return[go,lr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=lr&&lr.isAvailable();let s=n&&!lr.previouslyFailed();if(e.webSocketOnly&&(n||nn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[lr];else{const i=this.transports_=[];for(const l of Cc.ALL_TRANSPORTS)l&&l.isAvailable()&&i.push(l);Cc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Cc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=6e4,w4=5e3,E4=10*1024,S4=100*1024,Ap="t",_w="d",N4="s",ww="r",C4="e",Ew="o",Sw="a",Nw="n",Cw="p",T4="h";class R4{constructor(e,n,s,i,l,u,f,m,p,v){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=l,this.onMessage_=u,this.onReady_=f,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zc("c:"+this.id+":"),this.transportManager_=new Cc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=yc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>S4?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>E4?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ap in e){const n=e[Ap];n===Sw?this.upgradeIfSecondaryHealthy_():n===ww?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ew&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=rc("t",e),s=rc("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Cw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Sw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Nw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=rc("t",e),s=rc("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=rc(Ap,e);if(_w in e){const s=e[_w];if(n===T4){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Nw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===N4?this.onConnectionShutdown_(s):n===ww?this.onReset_(s):n===C4?mg("Server Error: "+s):n===Ew?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mg("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Sy!==s&&nn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),yc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(_4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(w4))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Cw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ii.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.allowedEvents_=e,this.listeners_={},ce(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let l=0;l<i.length;l++)if(i[l].callback===n&&(!s||s===i[l].context)){i.splice(l,1);return}}validateEventType_(e){ce(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends J1{static getInstance(){return new rf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!cy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ce(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=32,Rw=768;class Ye{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ve(){return new Ye("")}function Le(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function da(t){return t.pieces_.length-t.pieceNum_}function tt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ye(t.pieces_,e)}function Ty(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function D4(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Tc(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function eN(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ye(e,0)}function ht(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Ye)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new Ye(n,0)}function Oe(t){return t.pieceNum_>=t.pieces_.length}function tn(t,e){const n=Le(t),s=Le(e);if(n===null)return e;if(n===s)return tn(tt(t),tt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function A4(t,e){const n=Tc(t,0),s=Tc(e,0);for(let i=0;i<n.length&&i<s.length;i++){const l=Ei(n[i],s[i]);if(l!==0)return l}return n.length===s.length?0:n.length<s.length?-1:1}function tN(t,e){if(da(t)!==da(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function Yn(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(da(t)>da(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class I4{constructor(e,n){this.errorPrefix_=n,this.parts_=Tc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Af(this.parts_[s]);nN(this)}}function j4(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Af(e),nN(t)}function O4(t){const e=t.parts_.pop();t.byteLength_-=Af(e),t.parts_.length>0&&(t.byteLength_-=1)}function nN(t){if(t.byteLength_>Rw)throw new Error(t.errorPrefix_+"has a key path longer than "+Rw+" bytes ("+t.byteLength_+").");if(t.parts_.length>Tw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Tw+") or object contains a cycle "+Ja(t))}function Ja(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry extends J1{static getInstance(){return new Ry}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return ce(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=1e3,k4=60*5*1e3,Dw=30*1e3,M4=1.3,P4=3e4,L4="server_kill",Aw=3;class ls extends Z1{constructor(e,n,s,i,l,u,f,m){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.authOverride_=m,this.id=ls.nextPersistentConnectionId_++,this.log_=Zc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sc,this.maxReconnectDelay_=k4,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ry.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&rf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,l={r:i,a:e,b:n};this.log_(St(l)),ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new $c,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const f=u.d;u.s==="ok"?n.resolve(f):n.reject(f)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,s,i){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ce(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const f={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(u).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const l={p:s},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,f=>{const m=f.d,p=f.s;ls.warnOnListenWarnings_(m,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",f),p!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Mr(e,"w")){const s=Co(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();nn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||uO(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Dw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=cO(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const l=i.s,u=i.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";i&&(l.q=s,l.t=i),this.sendRequest(u,l)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const l={p:n,d:s};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{i&&setTimeout(()=>{i(u.s,u.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,l){this.initConnection_();const u={p:n,d:s};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:i}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const l=s.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+St(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):mg("Unrecognized action received from server: "+St(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>P4&&(this.reconnectDelay_=sc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*M4)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ls.nextConnectionId_++,l=this.lastSessionId;let u=!1,f=null;const m=function(){f?f.close():(u=!0,s())},p=function(y){ce(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(y)};this.realtime_={close:m,sendRequest:p};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,b]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);u?Ft("getToken() completed but was canceled"):(Ft("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=b&&b.token,f=new R4(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,x=>{nn(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(L4)},l))}catch(y){this.log_("Failed to get token: "+y),u||(this.repoInfo_.nodeAdmin&&nn(y),m())}}}interrupt(e){Ft("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ft("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ag(this.interruptReasons_)&&(this.reconnectDelay_=sc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(l=>Ey(l)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new Ye(e).toString();let i;if(this.listens.has(s)){const l=this.listens.get(s);i=l.get(n),l.delete(n),l.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){Ft("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Aw&&(this.reconnectDelay_=Dw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ft("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Aw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+I1.replace(/\./g,"-")]=1,cy()?e["framework.cordova"]=1:qS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=rf.getInstance().currentlyOnline();return ag(this.interruptReasons_)&&e}}ls.nextPersistentConnectionId_=0;ls.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ke(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new ke(hi,e),i=new ke(hi,n);return this.compare(s,i)!==0}minPost(){return ke.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd;class rN extends Mf{static get __EMPTY_NODE(){return Cd}static set __EMPTY_NODE(e){Cd=e}compare(e,n){return Ei(e.name,n.name)}isDefinedOn(e){throw Ho("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ke.MIN}maxPost(){return new ke(ua,Cd)}makePost(e,n){return ce(typeof e=="string","KeyIndex indexValue must always be a string."),new ke(e,Cd)}toString(){return".key"}}const ci=new rN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,s,i,l=null){this.isReverse_=i,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?s(e.key,n):1,i&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class kt{constructor(e,n,s,i,l){this.key=e,this.value=n,this.color=s??kt.RED,this.left=i??hn.EMPTY_NODE,this.right=l??hn.EMPTY_NODE}copy(e,n,s,i,l){return new kt(e??this.key,n??this.value,s??this.color,i??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const l=s(e,i.key);return l<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):l===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return hn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return hn.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}kt.RED=!0;kt.BLACK=!1;class U4{copy(e,n,s,i,l){return this}insert(e,n,s){return new kt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class hn{constructor(e,n=hn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new hn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,kt.BLACK,null,null))}remove(e){return new hn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,kt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Td(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Td(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Td(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Td(this.root_,null,this.comparator_,!0,e)}}hn.EMPTY_NODE=new U4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t,e){return Ei(t.name,e.name)}function Dy(t,e){return Ei(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gg;function z4(t){gg=t}const sN=function(t){return typeof t=="number"?"number:"+M1(t):"string:"+t},aN=function(t){if(t.isLeafNode()){const e=t.val();ce(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Mr(e,".sv"),"Priority must be a string or number.")}else ce(t===gg||t.isEmpty(),"priority of unexpected type.");ce(t===gg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iw;class Ot{static set __childrenNodeConstructor(e){Iw=e}static get __childrenNodeConstructor(){return Iw}constructor(e,n=Ot.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ce(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),aN(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ot(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ot.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Oe(e)?this:Le(e)===".priority"?this.priorityNode_:Ot.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ot.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=Le(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(ce(s!==".priority"||da(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Ot.__childrenNodeConstructor.EMPTY_NODE.updateChild(tt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sN(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=M1(this.value_):e+=this.value_,this.lazyHash_=O1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ot.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ot.__childrenNodeConstructor?-1:(ce(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=Ot.VALUE_TYPE_ORDER.indexOf(n),l=Ot.VALUE_TYPE_ORDER.indexOf(s);return ce(i>=0,"Unknown leaf type: "+n),ce(l>=0,"Unknown leaf type: "+s),i===l?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ot.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iN,oN;function F4(t){iN=t}function H4(t){oN=t}class q4 extends Mf{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),l=s.compareTo(i);return l===0?Ei(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ke.MIN}maxPost(){return new ke(ua,new Ot("[PRIORITY-POST]",oN))}makePost(e,n){const s=iN(e);return new ke(n,new Ot("[PRIORITY-POST]",s))}toString(){return".priority"}}const ot=new q4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=Math.log(2);class $4{constructor(e){const n=l=>parseInt(Math.log(l)/V4,10),s=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const sf=function(t,e,n,s){t.sort(e);const i=function(m,p){const v=p-m;let y,b;if(v===0)return null;if(v===1)return y=t[m],b=n?n(y):y,new kt(b,y.node,kt.BLACK,null,null);{const x=parseInt(v/2,10)+m,E=i(m,x),S=i(x+1,p);return y=t[x],b=n?n(y):y,new kt(b,y.node,kt.BLACK,E,S)}},l=function(m){let p=null,v=null,y=t.length;const b=function(E,S){const C=y-E,N=y;y-=E;const T=i(C+1,N),R=t[C],I=n?n(R):R;x(new kt(I,R.node,S,null,T))},x=function(E){p?(p.left=E,p=E):(v=E,p=E)};for(let E=0;E<m.count;++E){const S=m.nextBitIsOne(),C=Math.pow(2,m.count-(E+1));S?b(C,kt.BLACK):(b(C,kt.BLACK),b(C,kt.RED))}return v},u=new $4(t.length),f=l(u);return new hn(s||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ip;const lo={};class as{static get Default(){return ce(lo&&ot,"ChildrenNode.ts has not been loaded"),Ip=Ip||new as({".priority":lo},{".priority":ot}),Ip}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Co(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof hn?n:null}hasIndex(e){return Mr(this.indexSet_,e.toString())}addIndex(e,n){ce(e!==ci,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const l=n.getIterator(ke.Wrap);let u=l.getNext();for(;u;)i=i||e.isDefinedOn(u.node),s.push(u),u=l.getNext();let f;i?f=sf(s,e.getCompare()):f=lo;const m=e.toString(),p=Object.assign({},this.indexSet_);p[m]=e;const v=Object.assign({},this.indexes_);return v[m]=f,new as(v,p)}addToIndexes(e,n){const s=Kd(this.indexes_,(i,l)=>{const u=Co(this.indexSet_,l);if(ce(u,"Missing index implementation for "+l),i===lo)if(u.isDefinedOn(e.node)){const f=[],m=n.getIterator(ke.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&f.push(p),p=m.getNext();return f.push(e),sf(f,u.getCompare())}else return lo;else{const f=n.get(e.name);let m=i;return f&&(m=m.remove(new ke(e.name,f))),m.insert(e,e.node)}});return new as(s,this.indexSet_)}removeFromIndexes(e,n){const s=Kd(this.indexes_,i=>{if(i===lo)return i;{const l=n.get(e.name);return l?i.remove(new ke(e.name,l)):i}});return new as(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac;class Se{static get EMPTY_NODE(){return ac||(ac=new Se(new hn(Dy),null,as.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&aN(this.priorityNode_),this.children_.isEmpty()&&ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ac}updatePriority(e){return this.children_.isEmpty()?this:new Se(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ac:n}}getChild(e){const n=Le(e);return n===null?this:this.getImmediateChild(n).getChild(tt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ce(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new ke(e,n);let i,l;n.isEmpty()?(i=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(s,this.children_));const u=i.isEmpty()?ac:this.priorityNode_;return new Se(i,u,l)}}updateChild(e,n){const s=Le(e);if(s===null)return n;{ce(Le(e)!==".priority"||da(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(tt(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,l=!0;if(this.forEachChild(ot,(u,f)=>{n[u]=f.val(e),s++,l&&Se.INTEGER_REGEXP_.test(u)?i=Math.max(i,Number(u)):l=!1}),!e&&l&&i<2*s){const u=[];for(const f in n)u[f]=n[f];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+sN(this.getPriority().val())+":"),this.forEachChild(ot,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":O1(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const l=i.getPredecessorKey(new ke(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ke(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ke(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ke.Wrap);let l=i.peek();for(;l!=null&&n.compare(l,e)<0;)i.getNext(),l=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ke.Wrap);let l=i.peek();for(;l!=null&&n.compare(l,e)>0;)i.getNext(),l=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Jc?-1:0}withIndex(e){if(e===ci||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Se(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ci||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(ot),i=n.getIterator(ot);let l=s.getNext(),u=i.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=s.getNext(),u=i.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===ci?null:this.indexMap_.get(e.toString())}}Se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class G4 extends Se{constructor(){super(new hn(Dy),Se.EMPTY_NODE,as.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Se.EMPTY_NODE}isEmpty(){return!1}}const Jc=new G4;Object.defineProperties(ke,{MIN:{value:new ke(hi,Se.EMPTY_NODE)},MAX:{value:new ke(ua,Jc)}});rN.__EMPTY_NODE=Se.EMPTY_NODE;Ot.__childrenNodeConstructor=Se;z4(Jc);H4(Jc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=!0;function Et(t,e=null){if(t===null)return Se.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ce(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ot(n,Et(e))}if(!(t instanceof Array)&&Y4){const n=[];let s=!1;if(Ht(t,(u,f)=>{if(u.substring(0,1)!=="."){const m=Et(f);m.isEmpty()||(s=s||!m.getPriority().isEmpty(),n.push(new ke(u,m)))}}),n.length===0)return Se.EMPTY_NODE;const l=sf(n,B4,u=>u.name,Dy);if(s){const u=sf(n,ot.getCompare());return new Se(l,Et(e),new as({".priority":u},{".priority":ot}))}else return new Se(l,Et(e),as.Default)}else{let n=Se.EMPTY_NODE;return Ht(t,(s,i)=>{if(Mr(t,s)&&s.substring(0,1)!=="."){const l=Et(i);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(s,l))}}),n.updatePriority(Et(e))}}F4(Et);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay extends Mf{constructor(e){super(),this.indexPath_=e,ce(!Oe(e)&&Le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),l=s.compareTo(i);return l===0?Ei(e.name,n.name):l}makePost(e,n){const s=Et(e),i=Se.EMPTY_NODE.updateChild(this.indexPath_,s);return new ke(n,i)}maxPost(){const e=Se.EMPTY_NODE.updateChild(this.indexPath_,Jc);return new ke(ua,e)}toString(){return Tc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4 extends Mf{compare(e,n){const s=e.node.compareTo(n.node);return s===0?Ei(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ke.MIN}maxPost(){return ke.MAX}makePost(e,n){const s=Et(e);return new ke(n,s)}toString(){return".value"}}const lN=new W4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t){return{type:"value",snapshotNode:t}}function Do(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Rc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Dc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function K4(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this.index_=e}updateChild(e,n,s,i,l,u){ce(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(n);return f.getChild(i).equals(s.getChild(i))&&f.isEmpty()===s.isEmpty()||(u!=null&&(s.isEmpty()?e.hasChild(n)?u.trackChildChange(Rc(n,f)):ce(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?u.trackChildChange(Do(n,s)):u.trackChildChange(Dc(n,s,f))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(ot,(i,l)=>{n.hasChild(i)||s.trackChildChange(Rc(i,l))}),n.isLeafNode()||n.forEachChild(ot,(i,l)=>{if(e.hasChild(i)){const u=e.getImmediateChild(i);u.equals(l)||s.trackChildChange(Dc(i,l,u))}else s.trackChildChange(Do(i,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Se.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this.indexedFilter_=new Iy(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ac.getStartPost_(e),this.endPost_=Ac.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,l,u){return this.matches(new ke(n,s))||(s=Se.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,l,u)}updateFullNode(e,n,s){n.isLeafNode()&&(n=Se.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Se.EMPTY_NODE);const l=this;return n.forEachChild(ot,(u,f)=>{l.matches(new ke(u,f))||(i=i.updateImmediateChild(u,Se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Ac(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,l,u){return this.rangedFilter_.matches(new ke(n,s))||(s=Se.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,l,u):this.fullLimitUpdateChild_(e,n,s,l,u)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=Se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Se.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const f=l.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))i=i.updateImmediateChild(f.name,f.node),u++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Se.EMPTY_NODE);let l;this.reverse_?l=i.getReverseIterator(this.index_):l=i.getIterator(this.index_);let u=0;for(;l.hasNext();){const f=l.getNext();u<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?u++:i=i.updateImmediateChild(f.name,Se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,l){let u;if(this.reverse_){const y=this.index_.getCompare();u=(b,x)=>y(x,b)}else u=this.index_.getCompare();const f=e;ce(f.numChildren()===this.limit_,"");const m=new ke(n,s),p=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),v=this.rangedFilter_.matches(m);if(f.hasChild(n)){const y=f.getImmediateChild(n);let b=i.getChildAfterChild(this.index_,p,this.reverse_);for(;b!=null&&(b.name===n||f.hasChild(b.name));)b=i.getChildAfterChild(this.index_,b,this.reverse_);const x=b==null?1:u(b,m);if(v&&!s.isEmpty()&&x>=0)return l!=null&&l.trackChildChange(Dc(n,s,y)),f.updateImmediateChild(n,s);{l!=null&&l.trackChildChange(Rc(n,y));const S=f.updateImmediateChild(n,Se.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(l!=null&&l.trackChildChange(Do(b.name,b.node)),S.updateImmediateChild(b.name,b.node)):S}}else return s.isEmpty()?e:v&&u(p,m)>=0?(l!=null&&(l.trackChildChange(Rc(p.name,p.node)),l.trackChildChange(Do(n,s))),f.updateImmediateChild(n,s).updateImmediateChild(p.name,Se.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ot}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:hi}hasEnd(){return this.endSet_}getIndexEndValue(){return ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ua}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ot}copy(){const e=new jy;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function X4(t){return t.loadsAllData()?new Iy(t.getIndex()):t.hasLimit()?new Q4(t):new Ac(t)}function Z4(t,e,n){const s=t.copy();return s.startSet_=!0,e===void 0&&(e=null),s.indexStartValue_=e,n!=null?(s.startNameSet_=!0,s.indexStartName_=n):(s.startNameSet_=!1,s.indexStartName_=""),s}function J4(t,e,n){const s=t.copy();return s.endSet_=!0,e===void 0&&(e=null),s.indexEndValue_=e,n!==void 0?(s.endNameSet_=!0,s.indexEndName_=n):(s.endNameSet_=!1,s.indexEndName_=""),s}function eL(t,e){const n=t.copy();return n.index_=e,n}function jw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ot?n="$priority":t.index_===lN?n="$value":t.index_===ci?n="$key":(ce(t.index_ instanceof Ay,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=St(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=St(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+St(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=St(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+St(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Ow(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ot&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends Z1{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ce(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=Zc("p:rest:"),this.listens_={}}listen(e,n,s,i){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=af.getListenId_(e,s),f={};this.listens_[u]=f;const m=jw(e._queryParams);this.restRequest_(l+".json",m,(p,v)=>{let y=v;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(l,y,!1,s),Co(this.listens_,u)===f){let b;p?p===401?b="permission_denied":b="rest_error:"+p:b="ok",i(b,null)}})}unlisten(e,n){const s=af.getListenId_(e,n);delete this.listens_[s]}get(e){const n=jw(e._queryParams),s=e._path.toString(),i=new $c;return this.restRequest_(s+".json",n,(l,u)=>{let f=u;l===404&&(f=null,l=null),l===null?(this.onDataUpdate_(s,f,!1,null),i.resolve(f)):i.reject(new Error(f))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,l])=>{i&&i.accessToken&&(n.auth=i.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+qo(n);this.log_("Sending REST request for "+u);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(s&&f.readyState===4){this.log_("REST Response for "+u+" received. status:",f.status,"response:",f.responseText);let m=null;if(f.status>=200&&f.status<300){try{m=wc(f.responseText)}catch{nn("Failed to parse JSON response for "+u+": "+f.responseText)}s(null,m)}else f.status!==401&&f.status!==404&&nn("Got unsuccessful REST response for "+u+" Status: "+f.status),s(f.status);s=null}},f.open("GET",u,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this.rootNode_=Se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(){return{value:null,children:new Map}}function uN(t,e,n){if(Oe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=Le(e);t.children.has(s)||t.children.set(s,of());const i=t.children.get(s);e=tt(e),uN(i,e,n)}}function yg(t,e,n){t.value!==null?n(e,t.value):nL(t,(s,i)=>{const l=new Ye(e.toString()+"/"+s);yg(i,l,n)})}function nL(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ht(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=10*1e3,sL=30*1e3,aL=5*60*1e3;class iL{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new rL(e);const s=kw+(sL-kw)*Math.random();yc(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Ht(e,(i,l)=>{l>0&&Mr(this.statsToReport_,i)&&(n[i]=l,s=!0)}),s&&this.server_.reportStats(n),yc(this.reportStats_.bind(this),Math.floor(Math.random()*2*aL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(cr||(cr={}));function Oy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ky(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function My(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=cr.ACK_USER_WRITE,this.source=Oy()}operationForChild(e){if(Oe(this.path)){if(this.affectedTree.value!=null)return ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ye(e));return new lf(Ve(),n,this.revert)}}else return ce(Le(this.path)===e,"operationForChild called for unrelated child."),new lf(tt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n){this.source=e,this.path=n,this.type=cr.LISTEN_COMPLETE}operationForChild(e){return Oe(this.path)?new Ic(this.source,Ve()):new Ic(this.source,tt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=cr.OVERWRITE}operationForChild(e){return Oe(this.path)?new mi(this.source,Ve(),this.snap.getImmediateChild(e)):new mi(this.source,tt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=cr.MERGE}operationForChild(e){if(Oe(this.path)){const n=this.children.subtree(new Ye(e));return n.isEmpty()?null:n.value?new mi(this.source,Ve(),n.value):new Ao(this.source,Ve(),n)}else return ce(Le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ao(this.source,tt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Oe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Le(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function lL(t,e,n,s){const i=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(K4(u.childName,u.snapshotNode))}),ic(t,i,"child_removed",e,s,n),ic(t,i,"child_added",e,s,n),ic(t,i,"child_moved",l,s,n),ic(t,i,"child_changed",e,s,n),ic(t,i,"value",e,s,n),i}function ic(t,e,n,s,i,l){const u=s.filter(f=>f.type===n);u.sort((f,m)=>uL(t,f,m)),u.forEach(f=>{const m=cL(t,f,l);i.forEach(p=>{p.respondsTo(f.type)&&e.push(p.createEvent(m,t.query_))})})}function cL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function uL(t,e,n){if(e.childName==null||n.childName==null)throw Ho("Should only compare child_ events.");const s=new ke(e.childName,e.snapshotNode),i=new ke(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(t,e){return{eventCache:t,serverCache:e}}function vc(t,e,n,s){return Pf(new fa(e,n,s),t.serverCache)}function dN(t,e,n,s){return Pf(t.eventCache,new fa(e,n,s))}function cf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function pi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jp;const dL=()=>(jp||(jp=new hn(WP)),jp);class et{static fromObject(e){let n=new et(null);return Ht(e,(s,i)=>{n=n.set(new Ye(s),i)}),n}constructor(e,n=dL()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ve(),value:this.value};if(Oe(e))return null;{const s=Le(e),i=this.children.get(s);if(i!==null){const l=i.findRootMostMatchingPathAndValue(tt(e),n);return l!=null?{path:ht(new Ye(s),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Oe(e))return this;{const n=Le(e),s=this.children.get(n);return s!==null?s.subtree(tt(e)):new et(null)}}set(e,n){if(Oe(e))return new et(n,this.children);{const s=Le(e),l=(this.children.get(s)||new et(null)).set(tt(e),n),u=this.children.insert(s,l);return new et(this.value,u)}}remove(e){if(Oe(e))return this.children.isEmpty()?new et(null):new et(null,this.children);{const n=Le(e),s=this.children.get(n);if(s){const i=s.remove(tt(e));let l;return i.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,i),this.value===null&&l.isEmpty()?new et(null):new et(this.value,l)}else return this}}get(e){if(Oe(e))return this.value;{const n=Le(e),s=this.children.get(n);return s?s.get(tt(e)):null}}setTree(e,n){if(Oe(e))return n;{const s=Le(e),l=(this.children.get(s)||new et(null)).setTree(tt(e),n);let u;return l.isEmpty()?u=this.children.remove(s):u=this.children.insert(s,l),new et(this.value,u)}}fold(e){return this.fold_(Ve(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,l)=>{s[i]=l.fold_(ht(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Ve(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(Oe(e))return null;{const l=Le(e),u=this.children.get(l);return u?u.findOnPath_(tt(e),ht(n,l),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ve(),n)}foreachOnPath_(e,n,s){if(Oe(e))return this;{this.value&&s(n,this.value);const i=Le(e),l=this.children.get(i);return l?l.foreachOnPath_(tt(e),ht(n,i),s):new et(null)}}foreach(e){this.foreach_(Ve(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(ht(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.writeTree_=e}static empty(){return new ur(new et(null))}}function bc(t,e,n){if(Oe(e))return new ur(new et(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let l=s.value;const u=tn(i,e);return l=l.updateChild(u,n),new ur(t.writeTree_.set(i,l))}else{const i=new et(n),l=t.writeTree_.setTree(e,i);return new ur(l)}}}function vg(t,e,n){let s=t;return Ht(n,(i,l)=>{s=bc(s,ht(e,i),l)}),s}function Mw(t,e){if(Oe(e))return ur.empty();{const n=t.writeTree_.setTree(e,new et(null));return new ur(n)}}function bg(t,e){return Si(t,e)!=null}function Si(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(tn(n.path,e)):null}function Pw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ot,(s,i)=>{e.push(new ke(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new ke(s,i.value))}),e}function ia(t,e){if(Oe(e))return t;{const n=Si(t,e);return n!=null?new ur(new et(n)):new ur(t.writeTree_.subtree(e))}}function xg(t){return t.writeTree_.isEmpty()}function Io(t,e){return fN(Ve(),t.writeTree_,e)}function fN(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,l)=>{i===".priority"?(ce(l.value!==null,"Priority writes must always be leaf nodes"),s=l.value):n=fN(ht(t,i),l,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(ht(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t,e){return gN(e,t)}function fL(t,e,n,s,i){ce(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=bc(t.visibleWrites,e,n)),t.lastWriteId=s}function hL(t,e,n,s){ce(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=vg(t.visibleWrites,e,n),t.lastWriteId=s}function mL(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function pL(t,e){const n=t.allWrites.findIndex(f=>f.writeId===e);ce(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,l=!1,u=t.allWrites.length-1;for(;i&&u>=0;){const f=t.allWrites[u];f.visible&&(u>=n&&gL(f,s.path)?i=!1:Yn(s.path,f.path)&&(l=!0)),u--}if(i){if(l)return yL(t),!0;if(s.snap)t.visibleWrites=Mw(t.visibleWrites,s.path);else{const f=s.children;Ht(f,m=>{t.visibleWrites=Mw(t.visibleWrites,ht(s.path,m))})}return!0}else return!1}function gL(t,e){if(t.snap)return Yn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Yn(ht(t.path,n),e))return!0;return!1}function yL(t){t.visibleWrites=hN(t.allWrites,vL,Ve()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function vL(t){return t.visible}function hN(t,e,n){let s=ur.empty();for(let i=0;i<t.length;++i){const l=t[i];if(e(l)){const u=l.path;let f;if(l.snap)Yn(n,u)?(f=tn(n,u),s=bc(s,f,l.snap)):Yn(u,n)&&(f=tn(u,n),s=bc(s,Ve(),l.snap.getChild(f)));else if(l.children){if(Yn(n,u))f=tn(n,u),s=vg(s,f,l.children);else if(Yn(u,n))if(f=tn(u,n),Oe(f))s=vg(s,Ve(),l.children);else{const m=Co(l.children,Le(f));if(m){const p=m.getChild(tt(f));s=bc(s,Ve(),p)}}}else throw Ho("WriteRecord should have .snap or .children")}}return s}function mN(t,e,n,s,i){if(!s&&!i){const l=Si(t.visibleWrites,e);if(l!=null)return l;{const u=ia(t.visibleWrites,e);if(xg(u))return n;if(n==null&&!bg(u,Ve()))return null;{const f=n||Se.EMPTY_NODE;return Io(u,f)}}}else{const l=ia(t.visibleWrites,e);if(!i&&xg(l))return n;if(!i&&n==null&&!bg(l,Ve()))return null;{const u=function(p){return(p.visible||i)&&(!s||!~s.indexOf(p.writeId))&&(Yn(p.path,e)||Yn(e,p.path))},f=hN(t.allWrites,u,e),m=n||Se.EMPTY_NODE;return Io(f,m)}}}function bL(t,e,n){let s=Se.EMPTY_NODE;const i=Si(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ot,(l,u)=>{s=s.updateImmediateChild(l,u)}),s;if(n){const l=ia(t.visibleWrites,e);return n.forEachChild(ot,(u,f)=>{const m=Io(ia(l,new Ye(u)),f);s=s.updateImmediateChild(u,m)}),Pw(l).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}else{const l=ia(t.visibleWrites,e);return Pw(l).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}}function xL(t,e,n,s,i){ce(s||i,"Either existingEventSnap or existingServerSnap must exist");const l=ht(e,n);if(bg(t.visibleWrites,l))return null;{const u=ia(t.visibleWrites,l);return xg(u)?i.getChild(n):Io(u,i.getChild(n))}}function _L(t,e,n,s){const i=ht(e,n),l=Si(t.visibleWrites,i);if(l!=null)return l;if(s.isCompleteForChild(n)){const u=ia(t.visibleWrites,i);return Io(u,s.getNode().getImmediateChild(n))}else return null}function wL(t,e){return Si(t.visibleWrites,e)}function EL(t,e,n,s,i,l,u){let f;const m=ia(t.visibleWrites,e),p=Si(m,Ve());if(p!=null)f=p;else if(n!=null)f=Io(m,n);else return[];if(f=f.withIndex(u),!f.isEmpty()&&!f.isLeafNode()){const v=[],y=u.getCompare(),b=l?f.getReverseIteratorFrom(s,u):f.getIteratorFrom(s,u);let x=b.getNext();for(;x&&v.length<i;)y(x,s)!==0&&v.push(x),x=b.getNext();return v}else return[]}function SL(){return{visibleWrites:ur.empty(),allWrites:[],lastWriteId:-1}}function uf(t,e,n,s){return mN(t.writeTree,t.treePath,e,n,s)}function Py(t,e){return bL(t.writeTree,t.treePath,e)}function Lw(t,e,n,s){return xL(t.writeTree,t.treePath,e,n,s)}function df(t,e){return wL(t.writeTree,ht(t.treePath,e))}function NL(t,e,n,s,i,l){return EL(t.writeTree,t.treePath,e,n,s,i,l)}function Ly(t,e,n){return _L(t.writeTree,t.treePath,e,n)}function pN(t,e){return gN(ht(t.treePath,e),t.writeTree)}function gN(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;ce(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ce(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const l=i.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(s,Dc(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(s,Rc(s,i.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(s,Do(s,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(s,Dc(s,e.snapshotNode,i.oldSnap));else throw Ho("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const yN=new TL;class Uy{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new fa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ly(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:pi(this.viewCache_),l=NL(this.writes_,i,n,1,s,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t){return{filter:t}}function DL(t,e){ce(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ce(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function AL(t,e,n,s,i){const l=new CL;let u,f;if(n.type===cr.OVERWRITE){const p=n;p.source.fromUser?u=_g(t,e,p.path,p.snap,s,i,l):(ce(p.source.fromServer,"Unknown source."),f=p.source.tagged||e.serverCache.isFiltered()&&!Oe(p.path),u=ff(t,e,p.path,p.snap,s,i,f,l))}else if(n.type===cr.MERGE){const p=n;p.source.fromUser?u=jL(t,e,p.path,p.children,s,i,l):(ce(p.source.fromServer,"Unknown source."),f=p.source.tagged||e.serverCache.isFiltered(),u=wg(t,e,p.path,p.children,s,i,f,l))}else if(n.type===cr.ACK_USER_WRITE){const p=n;p.revert?u=ML(t,e,p.path,s,i,l):u=OL(t,e,p.path,p.affectedTree,s,i,l)}else if(n.type===cr.LISTEN_COMPLETE)u=kL(t,e,n.path,s,l);else throw Ho("Unknown operation type: "+n.type);const m=l.getChanges();return IL(e,u,m),{viewCache:u,changes:m}}function IL(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),l=cf(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(l)||!s.getNode().getPriority().equals(l.getPriority()))&&n.push(cN(cf(e)))}}function vN(t,e,n,s,i,l){const u=e.eventCache;if(df(s,n)!=null)return e;{let f,m;if(Oe(n))if(ce(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=pi(e),v=p instanceof Se?p:Se.EMPTY_NODE,y=Py(s,v);f=t.filter.updateFullNode(e.eventCache.getNode(),y,l)}else{const p=uf(s,pi(e));f=t.filter.updateFullNode(e.eventCache.getNode(),p,l)}else{const p=Le(n);if(p===".priority"){ce(da(n)===1,"Can't have a priority with additional path components");const v=u.getNode();m=e.serverCache.getNode();const y=Lw(s,n,v,m);y!=null?f=t.filter.updatePriority(v,y):f=u.getNode()}else{const v=tt(n);let y;if(u.isCompleteForChild(p)){m=e.serverCache.getNode();const b=Lw(s,n,u.getNode(),m);b!=null?y=u.getNode().getImmediateChild(p).updateChild(v,b):y=u.getNode().getImmediateChild(p)}else y=Ly(s,p,e.serverCache);y!=null?f=t.filter.updateChild(u.getNode(),p,y,v,i,l):f=u.getNode()}}return vc(e,f,u.isFullyInitialized()||Oe(n),t.filter.filtersNodes())}}function ff(t,e,n,s,i,l,u,f){const m=e.serverCache;let p;const v=u?t.filter:t.filter.getIndexedFilter();if(Oe(n))p=v.updateFullNode(m.getNode(),s,null);else if(v.filtersNodes()&&!m.isFiltered()){const x=m.getNode().updateChild(n,s);p=v.updateFullNode(m.getNode(),x,null)}else{const x=Le(n);if(!m.isCompleteForPath(n)&&da(n)>1)return e;const E=tt(n),C=m.getNode().getImmediateChild(x).updateChild(E,s);x===".priority"?p=v.updatePriority(m.getNode(),C):p=v.updateChild(m.getNode(),x,C,E,yN,null)}const y=dN(e,p,m.isFullyInitialized()||Oe(n),v.filtersNodes()),b=new Uy(i,y,l);return vN(t,y,n,i,b,f)}function _g(t,e,n,s,i,l,u){const f=e.eventCache;let m,p;const v=new Uy(i,e,l);if(Oe(n))p=t.filter.updateFullNode(e.eventCache.getNode(),s,u),m=vc(e,p,!0,t.filter.filtersNodes());else{const y=Le(n);if(y===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),s),m=vc(e,p,f.isFullyInitialized(),f.isFiltered());else{const b=tt(n),x=f.getNode().getImmediateChild(y);let E;if(Oe(b))E=s;else{const S=v.getCompleteChild(y);S!=null?Ty(b)===".priority"&&S.getChild(eN(b)).isEmpty()?E=S:E=S.updateChild(b,s):E=Se.EMPTY_NODE}if(x.equals(E))m=e;else{const S=t.filter.updateChild(f.getNode(),y,E,b,v,u);m=vc(e,S,f.isFullyInitialized(),t.filter.filtersNodes())}}}return m}function Uw(t,e){return t.eventCache.isCompleteForChild(e)}function jL(t,e,n,s,i,l,u){let f=e;return s.foreach((m,p)=>{const v=ht(n,m);Uw(e,Le(v))&&(f=_g(t,f,v,p,i,l,u))}),s.foreach((m,p)=>{const v=ht(n,m);Uw(e,Le(v))||(f=_g(t,f,v,p,i,l,u))}),f}function Bw(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function wg(t,e,n,s,i,l,u,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;Oe(n)?p=s:p=new et(null).setTree(n,s);const v=e.serverCache.getNode();return p.children.inorderTraversal((y,b)=>{if(v.hasChild(y)){const x=e.serverCache.getNode().getImmediateChild(y),E=Bw(t,x,b);m=ff(t,m,new Ye(y),E,i,l,u,f)}}),p.children.inorderTraversal((y,b)=>{const x=!e.serverCache.isCompleteForChild(y)&&b.value===null;if(!v.hasChild(y)&&!x){const E=e.serverCache.getNode().getImmediateChild(y),S=Bw(t,E,b);m=ff(t,m,new Ye(y),S,i,l,u,f)}}),m}function OL(t,e,n,s,i,l,u){if(df(i,n)!=null)return e;const f=e.serverCache.isFiltered(),m=e.serverCache;if(s.value!=null){if(Oe(n)&&m.isFullyInitialized()||m.isCompleteForPath(n))return ff(t,e,n,m.getNode().getChild(n),i,l,f,u);if(Oe(n)){let p=new et(null);return m.getNode().forEachChild(ci,(v,y)=>{p=p.set(new Ye(v),y)}),wg(t,e,n,p,i,l,f,u)}else return e}else{let p=new et(null);return s.foreach((v,y)=>{const b=ht(n,v);m.isCompleteForPath(b)&&(p=p.set(v,m.getNode().getChild(b)))}),wg(t,e,n,p,i,l,f,u)}}function kL(t,e,n,s,i){const l=e.serverCache,u=dN(e,l.getNode(),l.isFullyInitialized()||Oe(n),l.isFiltered());return vN(t,u,n,s,yN,i)}function ML(t,e,n,s,i,l){let u;if(df(s,n)!=null)return e;{const f=new Uy(s,e,i),m=e.eventCache.getNode();let p;if(Oe(n)||Le(n)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=uf(s,pi(e));else{const y=e.serverCache.getNode();ce(y instanceof Se,"serverChildren would be complete if leaf node"),v=Py(s,y)}v=v,p=t.filter.updateFullNode(m,v,l)}else{const v=Le(n);let y=Ly(s,v,e.serverCache);y==null&&e.serverCache.isCompleteForChild(v)&&(y=m.getImmediateChild(v)),y!=null?p=t.filter.updateChild(m,v,y,tt(n),f,l):e.eventCache.getNode().hasChild(v)?p=t.filter.updateChild(m,v,Se.EMPTY_NODE,tt(n),f,l):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=uf(s,pi(e)),u.isLeafNode()&&(p=t.filter.updateFullNode(p,u,l)))}return u=e.serverCache.isFullyInitialized()||df(s,Ve())!=null,vc(e,p,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new Iy(s.getIndex()),l=X4(s);this.processor_=RL(l);const u=n.serverCache,f=n.eventCache,m=i.updateFullNode(Se.EMPTY_NODE,u.getNode(),null),p=l.updateFullNode(Se.EMPTY_NODE,f.getNode(),null),v=new fa(m,u.isFullyInitialized(),i.filtersNodes()),y=new fa(p,f.isFullyInitialized(),l.filtersNodes());this.viewCache_=Pf(y,v),this.eventGenerator_=new oL(this.query_)}get query(){return this.query_}}function LL(t){return t.viewCache_.serverCache.getNode()}function UL(t){return cf(t.viewCache_)}function BL(t,e){const n=pi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Oe(e)&&!n.getImmediateChild(Le(e)).isEmpty())?n.getChild(e):null}function zw(t){return t.eventRegistrations_.length===0}function zL(t,e){t.eventRegistrations_.push(e)}function Fw(t,e,n){const s=[];if(n){ce(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,i);u&&s.push(u)})}if(e){let i=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))i.push(u);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function Hw(t,e,n,s){e.type===cr.MERGE&&e.source.queryId!==null&&(ce(pi(t.viewCache_),"We should always have a full cache before handling merges"),ce(cf(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,l=AL(t.processor_,i,e,n,s);return DL(t.processor_,l.viewCache),ce(l.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,bN(t,l.changes,l.viewCache.eventCache.getNode(),null)}function FL(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ot,(l,u)=>{s.push(Do(l,u))}),n.isFullyInitialized()&&s.push(cN(n.getNode())),bN(t,s,n.getNode(),e)}function bN(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return lL(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf;class xN{constructor(){this.views=new Map}}function HL(t){ce(!hf,"__referenceConstructor has already been defined"),hf=t}function qL(){return ce(hf,"Reference.ts has not been loaded"),hf}function VL(t){return t.views.size===0}function By(t,e,n,s){const i=e.source.queryId;if(i!==null){const l=t.views.get(i);return ce(l!=null,"SyncTree gave us an op for an invalid query."),Hw(l,e,n,s)}else{let l=[];for(const u of t.views.values())l=l.concat(Hw(u,e,n,s));return l}}function _N(t,e,n,s,i){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let f=uf(n,i?s:null),m=!1;f?m=!0:s instanceof Se?(f=Py(n,s),m=!1):(f=Se.EMPTY_NODE,m=!1);const p=Pf(new fa(f,m,!1),new fa(s,i,!1));return new PL(e,p)}return u}function $L(t,e,n,s,i,l){const u=_N(t,e,s,i,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),zL(u,n),FL(u,n)}function GL(t,e,n,s){const i=e._queryIdentifier,l=[];let u=[];const f=ha(t);if(i==="default")for(const[m,p]of t.views.entries())u=u.concat(Fw(p,n,s)),zw(p)&&(t.views.delete(m),p.query._queryParams.loadsAllData()||l.push(p.query));else{const m=t.views.get(i);m&&(u=u.concat(Fw(m,n,s)),zw(m)&&(t.views.delete(i),m.query._queryParams.loadsAllData()||l.push(m.query)))}return f&&!ha(t)&&l.push(new(qL())(e._repo,e._path)),{removed:l,events:u}}function wN(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function oa(t,e){let n=null;for(const s of t.views.values())n=n||BL(s,e);return n}function EN(t,e){if(e._queryParams.loadsAllData())return Uf(t);{const s=e._queryIdentifier;return t.views.get(s)}}function SN(t,e){return EN(t,e)!=null}function ha(t){return Uf(t)!=null}function Uf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf;function YL(t){ce(!mf,"__referenceConstructor has already been defined"),mf=t}function WL(){return ce(mf,"Reference.ts has not been loaded"),mf}let KL=1;class qw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new et(null),this.pendingWriteTree_=SL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function NN(t,e,n,s,i){return fL(t.pendingWriteTree_,e,n,s,i),i?Wo(t,new mi(Oy(),e,n)):[]}function QL(t,e,n,s){hL(t.pendingWriteTree_,e,n,s);const i=et.fromObject(n);return Wo(t,new Ao(Oy(),e,i))}function ea(t,e,n=!1){const s=mL(t.pendingWriteTree_,e);if(pL(t.pendingWriteTree_,e)){let l=new et(null);return s.snap!=null?l=l.set(Ve(),!0):Ht(s.children,u=>{l=l.set(new Ye(u),!0)}),Wo(t,new lf(s.path,l,n))}else return[]}function eu(t,e,n){return Wo(t,new mi(ky(),e,n))}function XL(t,e,n){const s=et.fromObject(n);return Wo(t,new Ao(ky(),e,s))}function ZL(t,e){return Wo(t,new Ic(ky(),e))}function JL(t,e,n){const s=Fy(t,n);if(s){const i=Hy(s),l=i.path,u=i.queryId,f=tn(l,e),m=new Ic(My(u),f);return qy(t,l,m)}else return[]}function CN(t,e,n,s,i=!1){const l=e._path,u=t.syncPointTree_.get(l);let f=[];if(u&&(e._queryIdentifier==="default"||SN(u,e))){const m=GL(u,e,n,s);VL(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const p=m.removed;if(f=m.events,!i){const v=p.findIndex(b=>b._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(l,(b,x)=>ha(x));if(v&&!y){const b=t.syncPointTree_.subtree(l);if(!b.isEmpty()){const x=r5(b);for(let E=0;E<x.length;++E){const S=x[E],C=S.query,N=AN(t,S);t.listenProvider_.startListening(xc(C),jc(t,C),N.hashFn,N.onComplete)}}}!y&&p.length>0&&!s&&(v?t.listenProvider_.stopListening(xc(e),null):p.forEach(b=>{const x=t.queryToTagMap.get(Bf(b));t.listenProvider_.stopListening(xc(b),x)}))}s5(t,p)}return f}function TN(t,e,n,s){const i=Fy(t,s);if(i!=null){const l=Hy(i),u=l.path,f=l.queryId,m=tn(u,e),p=new mi(My(f),m,n);return qy(t,u,p)}else return[]}function e5(t,e,n,s){const i=Fy(t,s);if(i){const l=Hy(i),u=l.path,f=l.queryId,m=tn(u,e),p=et.fromObject(n),v=new Ao(My(f),m,p);return qy(t,u,v)}else return[]}function t5(t,e,n,s=!1){const i=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(i,(b,x)=>{const E=tn(b,i);l=l||oa(x,E),u=u||ha(x)});let f=t.syncPointTree_.get(i);f?(u=u||ha(f),l=l||oa(f,Ve())):(f=new xN,t.syncPointTree_=t.syncPointTree_.set(i,f));let m;l!=null?m=!0:(m=!1,l=Se.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((x,E)=>{const S=oa(E,Ve());S&&(l=l.updateImmediateChild(x,S))}));const p=SN(f,e);if(!p&&!e._queryParams.loadsAllData()){const b=Bf(e);ce(!t.queryToTagMap.has(b),"View does not exist, but we have a tag");const x=a5();t.queryToTagMap.set(b,x),t.tagToQueryMap.set(x,b)}const v=Lf(t.pendingWriteTree_,i);let y=$L(f,e,n,v,l,m);if(!p&&!u&&!s){const b=EN(f,e);y=y.concat(i5(t,e,b))}return y}function zy(t,e,n){const i=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,f)=>{const m=tn(u,e),p=oa(f,m);if(p)return p});return mN(i,e,l,n,!0)}function n5(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(p,v)=>{const y=tn(p,n);s=s||oa(v,y)});let i=t.syncPointTree_.get(n);i?s=s||oa(i,Ve()):(i=new xN,t.syncPointTree_=t.syncPointTree_.set(n,i));const l=s!=null,u=l?new fa(s,!0,!1):null,f=Lf(t.pendingWriteTree_,e._path),m=_N(i,e,f,l?u.getNode():Se.EMPTY_NODE,l);return UL(m)}function Wo(t,e){return RN(e,t.syncPointTree_,null,Lf(t.pendingWriteTree_,Ve()))}function RN(t,e,n,s){if(Oe(t.path))return DN(t,e,n,s);{const i=e.get(Ve());n==null&&i!=null&&(n=oa(i,Ve()));let l=[];const u=Le(t.path),f=t.operationForChild(u),m=e.children.get(u);if(m&&f){const p=n?n.getImmediateChild(u):null,v=pN(s,u);l=l.concat(RN(f,m,p,v))}return i&&(l=l.concat(By(i,t,s,n))),l}}function DN(t,e,n,s){const i=e.get(Ve());n==null&&i!=null&&(n=oa(i,Ve()));let l=[];return e.children.inorderTraversal((u,f)=>{const m=n?n.getImmediateChild(u):null,p=pN(s,u),v=t.operationForChild(u);v&&(l=l.concat(DN(v,f,m,p)))}),i&&(l=l.concat(By(i,t,s,n))),l}function AN(t,e){const n=e.query,s=jc(t,n);return{hashFn:()=>(LL(e)||Se.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?JL(t,n._path,s):ZL(t,n._path);{const l=XP(i,n);return CN(t,n,null,l)}}}}function jc(t,e){const n=Bf(e);return t.queryToTagMap.get(n)}function Bf(t){return t._path.toString()+"$"+t._queryIdentifier}function Fy(t,e){return t.tagToQueryMap.get(e)}function Hy(t){const e=t.indexOf("$");return ce(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ye(t.substr(0,e))}}function qy(t,e,n){const s=t.syncPointTree_.get(e);ce(s,"Missing sync point for query tag that we're tracking");const i=Lf(t.pendingWriteTree_,e);return By(s,n,i,null)}function r5(t){return t.fold((e,n,s)=>{if(n&&ha(n))return[Uf(n)];{let i=[];return n&&(i=wN(n)),Ht(s,(l,u)=>{i=i.concat(u)}),i}})}function xc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(WL())(t._repo,t._path):t}function s5(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=Bf(s),l=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(l)}}}function a5(){return KL++}function i5(t,e,n){const s=e._path,i=jc(t,e),l=AN(t,n),u=t.listenProvider_.startListening(xc(e),i,l.hashFn,l.onComplete),f=t.syncPointTree_.subtree(s);if(i)ce(!ha(f.value),"If we're adding a query, it shouldn't be shadowed");else{const m=f.fold((p,v,y)=>{if(!Oe(p)&&v&&ha(v))return[Uf(v).query];{let b=[];return v&&(b=b.concat(wN(v).map(x=>x.query))),Ht(y,(x,E)=>{b=b.concat(E)}),b}});for(let p=0;p<m.length;++p){const v=m[p];t.listenProvider_.stopListening(xc(v),jc(t,v))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Vy(n)}node(){return this.node_}}class $y{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ht(this.path_,e);return new $y(this.syncTree_,n)}node(){return zy(this.syncTree_,this.path_)}}const o5=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Vw=function(t,e,n){if(!t||typeof t!="object")return t;if(ce(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return l5(t[".sv"],e,n);if(typeof t[".sv"]=="object")return c5(t[".sv"],e);ce(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},l5=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ce(!1,"Unexpected server value: "+t)}},c5=function(t,e,n){t.hasOwnProperty("increment")||ce(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&ce(!1,"Unexpected increment value: "+s);const i=e.node();if(ce(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const u=i.getValue();return typeof u!="number"?s:u+s},IN=function(t,e,n,s){return Gy(e,new $y(n,t),s)},jN=function(t,e,n){return Gy(t,new Vy(e),n)};function Gy(t,e,n){const s=t.getPriority().val(),i=Vw(s,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,f=Vw(u.getValue(),e,n);return f!==u.getValue()||i!==u.getPriority().val()?new Ot(f,Et(i)):t}else{const u=t;return l=u,i!==u.getPriority().val()&&(l=l.updatePriority(new Ot(i))),u.forEachChild(ot,(f,m)=>{const p=Gy(m,e.getImmediateChild(f),n);p!==m&&(l=l.updateImmediateChild(f,p))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Wy(t,e){let n=e instanceof Ye?e:new Ye(e),s=t,i=Le(n);for(;i!==null;){const l=Co(s.node.children,i)||{children:{},childCount:0};s=new Yy(i,s,l),n=tt(n),i=Le(n)}return s}function Ko(t){return t.node.value}function ON(t,e){t.node.value=e,Eg(t)}function kN(t){return t.node.childCount>0}function u5(t){return Ko(t)===void 0&&!kN(t)}function zf(t,e){Ht(t.node.children,(n,s)=>{e(new Yy(n,t,s))})}function MN(t,e,n,s){n&&e(t),zf(t,i=>{MN(i,e,!0)})}function d5(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function tu(t){return new Ye(t.parent===null?t.name:tu(t.parent)+"/"+t.name)}function Eg(t){t.parent!==null&&f5(t.parent,t.name,t)}function f5(t,e,n){const s=u5(n),i=Mr(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,Eg(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Eg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=/[\[\].#$\/\u0000-\u001F\u007F]/,m5=/[\[\].#$\u0000-\u001F\u007F]/,Op=10*1024*1024,Ky=function(t){return typeof t=="string"&&t.length!==0&&!h5.test(t)},PN=function(t){return typeof t=="string"&&t.length!==0&&!m5.test(t)},p5=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),PN(t)},Sg=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!wy(t)||t&&typeof t=="object"&&Mr(t,".sv")},nu=function(t,e,n,s){s&&e===void 0||Ff(Df(t,"value"),e,n)},Ff=function(t,e,n){const s=n instanceof Ye?new I4(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ja(s));if(typeof e=="function")throw new Error(t+"contains a function "+Ja(s)+" with contents = "+e.toString());if(wy(e))throw new Error(t+"contains "+e.toString()+" "+Ja(s));if(typeof e=="string"&&e.length>Op/3&&Af(e)>Op)throw new Error(t+"contains a string greater than "+Op+" utf8 bytes "+Ja(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,l=!1;if(Ht(e,(u,f)=>{if(u===".value")i=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!Ky(u)))throw new Error(t+" contains an invalid key ("+u+") "+Ja(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);j4(s,u),Ff(t,f,s),O4(s)}),i&&l)throw new Error(t+' contains ".value" child '+Ja(s)+" in addition to actual children.")}},g5=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const l=Tc(s);for(let u=0;u<l.length;u++)if(!(l[u]===".priority"&&u===l.length-1)){if(!Ky(l[u]))throw new Error(t+"contains an invalid key ("+l[u]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(A4);let i=null;for(n=0;n<e.length;n++){if(s=e[n],i!==null&&Yn(i,s))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+s.toString());i=s}},y5=function(t,e,n,s){const i=Df(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const l=[];Ht(e,(u,f)=>{const m=new Ye(u);if(Ff(i,f,ht(n,m)),Ty(m)===".priority"&&!Sg(f))throw new Error(i+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(m)}),g5(i,l)},Qy=function(t,e,n,s){if(!PN(n))throw new Error(Df(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},v5=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Qy(t,e,n)},Xy=function(t,e){if(Le(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},b5=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Ky(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!p5(n))throw new Error(Df(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zy(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],l=i.getPath();n!==null&&!tN(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(i)}n&&t.eventLists_.push(n)}function Qn(t,e,n){Zy(t,n),_5(t,s=>Yn(s,e)||Yn(e,s))}function _5(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const l=i.path;e(l)?(w5(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function w5(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();gc&&Ft("event: "+n.toString()),Yo(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5="repo_interrupt",S5=25;class N5{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new x5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=of(),this.transactionQueueTree_=new Yy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function C5(t,e,n){if(t.stats_=Ny(t.repoInfo_),t.forceRestClient_||t4())t.server_=new af(t.repoInfo_,(s,i,l,u)=>{$w(t,s,i,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Gw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{St(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new ls(t.repoInfo_,e,(s,i,l,u)=>{$w(t,s,i,l,u)},s=>{Gw(t,s)},s=>{T5(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=i4(t.repoInfo_,()=>new iL(t.stats_,t.server_)),t.infoData_=new tL,t.infoSyncTree_=new qw({startListening:(s,i,l,u)=>{let f=[];const m=t.infoData_.getNode(s._path);return m.isEmpty()||(f=eu(t.infoSyncTree_,s._path,m),setTimeout(()=>{u("ok")},0)),f},stopListening:()=>{}}),Jy(t,"connected",!1),t.serverSyncTree_=new qw({startListening:(s,i,l,u)=>(t.server_.listen(s,l,i,(f,m)=>{const p=u(f,m);Qn(t.eventQueue_,s._path,p)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function LN(t){const n=t.infoData_.getNode(new Ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Hf(t){return o5({timestamp:LN(t)})}function $w(t,e,n,s,i){t.dataUpdateCount++;const l=new Ye(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(i)if(s){const m=Kd(n,p=>Et(p));u=e5(t.serverSyncTree_,l,m,i)}else{const m=Et(n);u=TN(t.serverSyncTree_,l,m,i)}else if(s){const m=Kd(n,p=>Et(p));u=XL(t.serverSyncTree_,l,m)}else{const m=Et(n);u=eu(t.serverSyncTree_,l,m)}let f=l;u.length>0&&(f=jo(t,l)),Qn(t.eventQueue_,f,u)}function Gw(t,e){Jy(t,"connected",e),e===!1&&I5(t)}function T5(t,e){Ht(e,(n,s)=>{Jy(t,n,s)})}function Jy(t,e,n){const s=new Ye("/.info/"+e),i=Et(n);t.infoData_.updateSnapshot(s,i);const l=eu(t.infoSyncTree_,s,i);Qn(t.eventQueue_,s,l)}function ev(t){return t.nextWriteId_++}function R5(t,e,n){const s=n5(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(i=>{const l=Et(i).withIndex(e._queryParams.getIndex());t5(t.serverSyncTree_,e,n,!0);let u;if(e._queryParams.loadsAllData())u=eu(t.serverSyncTree_,e._path,l);else{const f=jc(t.serverSyncTree_,e);u=TN(t.serverSyncTree_,e._path,l,f)}return Qn(t.eventQueue_,e._path,u),CN(t.serverSyncTree_,e,n,null,!0),l},i=>(ru(t,"get for query "+St(e)+" failed: "+i),Promise.reject(new Error(i))))}function D5(t,e,n,s,i){ru(t,"set",{path:e.toString(),value:n,priority:s});const l=Hf(t),u=Et(n,s),f=zy(t.serverSyncTree_,e),m=jN(u,f,l),p=ev(t),v=NN(t.serverSyncTree_,e,m,p,!0);Zy(t.eventQueue_,v),t.server_.put(e.toString(),u.val(!0),(b,x)=>{const E=b==="ok";E||nn("set at "+e+" failed: "+b);const S=ea(t.serverSyncTree_,p,!E);Qn(t.eventQueue_,e,S),Ng(t,i,b,x)});const y=nv(t,e);jo(t,y),Qn(t.eventQueue_,y,[])}function A5(t,e,n,s){ru(t,"update",{path:e.toString(),value:n});let i=!0;const l=Hf(t),u={};if(Ht(n,(f,m)=>{i=!1,u[f]=IN(ht(e,f),Et(m),t.serverSyncTree_,l)}),i)Ft("update() called with empty data.  Don't do anything."),Ng(t,s,"ok",void 0);else{const f=ev(t),m=QL(t.serverSyncTree_,e,u,f);Zy(t.eventQueue_,m),t.server_.merge(e.toString(),n,(p,v)=>{const y=p==="ok";y||nn("update at "+e+" failed: "+p);const b=ea(t.serverSyncTree_,f,!y),x=b.length>0?jo(t,e):e;Qn(t.eventQueue_,x,b),Ng(t,s,p,v)}),Ht(n,p=>{const v=nv(t,ht(e,p));jo(t,v)}),Qn(t.eventQueue_,e,[])}}function I5(t){ru(t,"onDisconnectEvents");const e=Hf(t),n=of();yg(t.onDisconnect_,Ve(),(i,l)=>{const u=IN(i,l,t.serverSyncTree_,e);uN(n,i,u)});let s=[];yg(n,Ve(),(i,l)=>{s=s.concat(eu(t.serverSyncTree_,i,l));const u=nv(t,i);jo(t,u)}),t.onDisconnect_=of(),Qn(t.eventQueue_,Ve(),s)}function j5(t){t.persistentConnection_&&t.persistentConnection_.interrupt(E5)}function ru(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ft(n,...e)}function Ng(t,e,n,s){e&&Yo(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let l=i;s&&(l+=": "+s);const u=new Error(l);u.code=i,e(u)}})}function UN(t,e,n){return zy(t.serverSyncTree_,e,n)||Se.EMPTY_NODE}function tv(t,e=t.transactionQueueTree_){if(e||qf(t,e),Ko(e)){const n=zN(t,e);ce(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&O5(t,tu(e),n)}else kN(e)&&zf(e,n=>{tv(t,n)})}function O5(t,e,n){const s=n.map(p=>p.currentWriteId),i=UN(t,e,s);let l=i;const u=i.hash();for(let p=0;p<n.length;p++){const v=n[p];ce(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const y=tn(e,v.path);l=l.updateChild(y,v.currentOutputSnapshotRaw)}const f=l.val(!0),m=e;t.server_.put(m.toString(),f,p=>{ru(t,"transaction put response",{path:m.toString(),status:p});let v=[];if(p==="ok"){const y=[];for(let b=0;b<n.length;b++)n[b].status=2,v=v.concat(ea(t.serverSyncTree_,n[b].currentWriteId)),n[b].onComplete&&y.push(()=>n[b].onComplete(null,!0,n[b].currentOutputSnapshotResolved)),n[b].unwatcher();qf(t,Wy(t.transactionQueueTree_,e)),tv(t,t.transactionQueueTree_),Qn(t.eventQueue_,e,v);for(let b=0;b<y.length;b++)Yo(y[b])}else{if(p==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{nn("transaction at "+m.toString()+" failed: "+p);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=p}jo(t,e)}},u)}function jo(t,e){const n=BN(t,e),s=tu(n),i=zN(t,n);return k5(t,i,s),s}function k5(t,e,n){if(e.length===0)return;const s=[];let i=[];const u=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const m=e[f],p=tn(n,m.path);let v=!1,y;if(ce(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)v=!0,y=m.abortReason,i=i.concat(ea(t.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=S5)v=!0,y="maxretry",i=i.concat(ea(t.serverSyncTree_,m.currentWriteId,!0));else{const b=UN(t,m.path,u);m.currentInputSnapshot=b;const x=e[f].update(b.val());if(x!==void 0){Ff("transaction failed: Data returned ",x,m.path);let E=Et(x);typeof x=="object"&&x!=null&&Mr(x,".priority")||(E=E.updatePriority(b.getPriority()));const C=m.currentWriteId,N=Hf(t),T=jN(E,b,N);m.currentOutputSnapshotRaw=E,m.currentOutputSnapshotResolved=T,m.currentWriteId=ev(t),u.splice(u.indexOf(C),1),i=i.concat(NN(t.serverSyncTree_,m.path,T,m.currentWriteId,m.applyLocally)),i=i.concat(ea(t.serverSyncTree_,C,!0))}else v=!0,y="nodata",i=i.concat(ea(t.serverSyncTree_,m.currentWriteId,!0))}Qn(t.eventQueue_,n,i),i=[],v&&(e[f].status=2,function(b){setTimeout(b,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(y==="nodata"?s.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):s.push(()=>e[f].onComplete(new Error(y),!1,null))))}qf(t,t.transactionQueueTree_);for(let f=0;f<s.length;f++)Yo(s[f]);tv(t,t.transactionQueueTree_)}function BN(t,e){let n,s=t.transactionQueueTree_;for(n=Le(e);n!==null&&Ko(s)===void 0;)s=Wy(s,n),e=tt(e),n=Le(e);return s}function zN(t,e){const n=[];return FN(t,e,n),n.sort((s,i)=>s.order-i.order),n}function FN(t,e,n){const s=Ko(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);zf(e,i=>{FN(t,i,n)})}function qf(t,e){const n=Ko(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,ON(e,n.length>0?n:void 0)}zf(e,s=>{qf(t,s)})}function nv(t,e){const n=tu(BN(t,e)),s=Wy(t.transactionQueueTree_,e);return d5(s,i=>{kp(t,i)}),kp(t,s),MN(s,i=>{kp(t,i)}),n}function kp(t,e){const n=Ko(e);if(n){const s=[];let i=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(ce(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(ce(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),i=i.concat(ea(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&s.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?ON(e,void 0):n.length=l+1,Qn(t.eventQueue_,tu(e),i);for(let u=0;u<s.length;u++)Yo(s[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function P5(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):nn(`Invalid query segment '${n}' in query '${t}'`)}return e}const Yw=function(t,e){const n=L5(t),s=n.namespace;n.domain==="firebase.com"&&ds(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&ds("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||GP();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $1(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new Ye(n.pathString)}},L5=function(t){let e="",n="",s="",i="",l="",u=!0,f="https",m=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(f=t.substring(0,p-1),t=t.substring(p+2));let v=t.indexOf("/");v===-1&&(v=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(v,y)),v<y&&(i=M5(t.substring(v,y)));const b=P5(t.substring(Math.min(t.length,y)));p=e.indexOf(":"),p>=0?(u=f==="https"||f==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const x=e.slice(0,p);if(x.toLowerCase()==="localhost")n="localhost";else if(x.split(".").length<=2)n=x;else{const E=e.indexOf(".");s=e.substring(0,E).toLowerCase(),n=e.substring(E+1),l=s}"ns"in b&&(l=b.ns)}return{host:e,port:m,domain:n,subdomain:s,secure:u,scheme:f,pathString:i,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",U5=function(){let t=0;const e=[];return function(n){const s=n===t;t=n;let i;const l=new Array(8);for(i=7;i>=0;i--)l[i]=Ww.charAt(n%64),n=Math.floor(n/64);ce(n===0,"Cannot push at time == 0");let u=l.join("");if(s){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)u+=Ww.charAt(e[i]);return ce(u.length===20,"nextPushId: Length should be 20."),u}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+St(this.snapshot.exportVal())}}class z5{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ce(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return Oe(this._path)?null:Ty(this._path)}get ref(){return new vs(this._repo,this._path)}get _queryIdentifier(){const e=Ow(this._queryParams),n=Ey(e);return n==="{}"?"default":n}get _queryObject(){return Ow(this._queryParams)}isEqual(e){if(e=Pt(e),!(e instanceof Qo))return!1;const n=this._repo===e._repo,s=tN(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+D4(this._path)}}function H5(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function rv(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===ci){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==hi)throw new Error(s);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==ua)throw new Error(s);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===ot){if(e!=null&&!Sg(e)||n!=null&&!Sg(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ce(t.getIndex()instanceof Ay||t.getIndex()===lN,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function HN(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class vs extends Qo{constructor(e,n){super(e,n,new jy,!1)}get parent(){const e=eN(this._path);return e===null?null:new vs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Oc{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ye(e),s=kc(this.ref,e);return new Oc(this._node.getChild(n),s,ot)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new Oc(i,kc(this.ref,s),ot)))}hasChild(e){const n=new Ye(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function dc(t,e){return t=Pt(t),t._checkNotDeleted("ref"),e!==void 0?kc(t._root,e):t._root}function kc(t,e){return t=Pt(t),Le(t._path)===null?v5("child","path",e):Qy("child","path",e),new vs(t._repo,ht(t._path,e))}function q5(t,e){t=Pt(t),Xy("push",t._path),nu("push",e,t._path,!0);const n=LN(t._repo),s=U5(n),i=kc(t,s),l=kc(t,s);let u;return u=Promise.resolve(l),i.then=u.then.bind(u),i.catch=u.then.bind(u,void 0),i}function V5(t){return Xy("remove",t._path),Cg(t,null)}function Cg(t,e){t=Pt(t),Xy("set",t._path),nu("set",e,t._path,!1);const n=new $c;return D5(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function $5(t,e){y5("update",e,t._path);const n=new $c;return A5(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function yo(t){t=Pt(t);const e=new F5(()=>{}),n=new sv(e);return R5(t._repo,t,n).then(s=>new Oc(s,new vs(t._repo,t._path),t._queryParams.getIndex()))}class sv{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new B5("value",this,new Oc(e.snapshotNode,new vs(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new z5(this,e,n):null}matches(e){return e instanceof sv?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Vf{}class G5 extends Vf{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){nu("endAt",this._value,e._path,!0);const n=J4(e._queryParams,this._value,this._key);if(HN(n),rv(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qo(e._repo,e._path,n,e._orderByCalled)}}class Y5 extends Vf{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){nu("startAt",this._value,e._path,!0);const n=Z4(e._queryParams,this._value,this._key);if(HN(n),rv(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qo(e._repo,e._path,n,e._orderByCalled)}}class W5 extends Vf{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){H5(e,"orderByChild");const n=new Ye(this._path);if(Oe(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new Ay(n),i=eL(e._queryParams,s);return rv(i),new Qo(e._repo,e._path,i,!0)}}function fc(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Qy("orderByChild","path",t),new W5(t)}class K5 extends Vf{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(nu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new G5(this._value,this._key)._apply(new Y5(this._value,this._key)._apply(e))}}function qN(t,e){return new K5(t,e)}function hc(t,...e){let n=Pt(t);for(const s of e)n=s._apply(n);return n}HL(vs);YL(vs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5="FIREBASE_DATABASE_EMULATOR_HOST",Tg={};let X5=!1;function Z5(t,e,n,s){t.repoInfo_=new $1(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(t.authTokenProvider_=s)}function J5(t,e,n,s,i){let l=s||t.options.databaseURL;l===void 0&&(t.options.projectId||ds("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ft("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=Yw(l,i),f=u.repoInfo,m;typeof process<"u"&&pw&&(m=pw[Q5]),m?(l=`http://${m}?ns=${f.namespace}`,u=Yw(l,i),f=u.repoInfo):u.repoInfo.secure;const p=new r4(t.name,t.options,e);b5("Invalid Firebase Database URL",u),Oe(u.path)||ds("Database URL must point to the root of a Firebase Database (not including a child path).");const v=t3(f,t,p,new n4(t,n));return new n3(v,t)}function e3(t,e){const n=Tg[e];(!n||n[t.key]!==t)&&ds(`Database ${e}(${t.repoInfo_}) has already been deleted.`),j5(t),delete n[t.key]}function t3(t,e,n,s){let i=Tg[e.name];i||(i={},Tg[e.name]=i);let l=i[t.toURLString()];return l&&ds("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new N5(t,X5,n,s),i[t.toURLString()]=l,l}class n3{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(C5(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new vs(this._repo,Ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(e3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ds("Cannot call "+e+" on a deleted database.")}}function r3(t=WS(),e){const n=fy(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=Zj("database");s&&s3(n,...s)}return n}function s3(t,e,n,s={}){t=Pt(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,l=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&ui(s,l.repoInfo_.emulatorOptions))return;ds("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&ds('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Hd(Hd.OWNER);else if(s.mockUserToken){const f=typeof s.mockUserToken=="string"?s.mockUserToken:Jj(s.mockUserToken,t.app.options.projectId);u=new Hd(f)}Z5(l,i,s,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){zP(Vo),To(new di("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return J5(s,i,l,n)},"PUBLIC").setMultipleInstances(!0)),sa(gw,yw,t),sa(gw,yw,"esm2017")}ls.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ls.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};a3();const i3={apiKey:"AIzaSyCrq7Am9kiE3levq6hOGBuh_wb3lGxfdT0",authDomain:"nrd-sgo.firebaseapp.com",databaseURL:"https://nrd-sgo-default-rtdb.firebaseio.com",projectId:"nrd-sgo",storageBucket:"nrd-sgo.appspot.com",messagingSenderId:"386786255981",appId:"1:386786255981:web:95cabd428cf0ca17c58b64"},VN=YS(i3),o3=r3(VN),mc=PP(VN),vo=class vo{constructor(){zt(this,"currentUser",null);zt(this,"authStateReady");zt(this,"authStateResolver");if(vo.instance)return vo.instance;this.authStateReady=new Promise(e=>{this.authStateResolver=e}),NM(mc,e=>{this.currentUser=e,console.log("Auth state initialized:",{user:e==null?void 0:e.email,isAuthenticated:!!e}),this.authStateResolver()}),vo.instance=this}async login(e,n,s=!1){try{await wM(mc,s?E1:by),await _M(mc,e,n),s?localStorage.setItem("rememberMe","true"):localStorage.removeItem("rememberMe")}catch(i){throw console.error("Login error:",i),i}}async logout(){try{await CM(mc),localStorage.removeItem("rememberMe")}catch(e){throw console.error("Logout error:",e),e}}getCurrentUser(){return this.currentUser}async isAuthenticated(){return await this.authStateReady,!!this.currentUser}async waitForAuthReady(){return this.authStateReady}wasRemembered(){return localStorage.getItem("rememberMe")==="true"}};zt(vo,"instance");let pf=vo;function l3(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const c3=t=>{switch(t){case"success":return f3;case"info":return m3;case"warning":return h3;case"error":return p3;default:return null}},u3=Array(12).fill(0),d3=({visible:t,className:e})=>A.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},A.createElement("div",{className:"sonner-spinner"},u3.map((n,s)=>A.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),f3=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),h3=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),m3=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),p3=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),g3=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},A.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),A.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),y3=()=>{const[t,e]=A.useState(document.hidden);return A.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Rg=1;class v3{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:s,...i}=e,l=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Rg++,u=this.toasts.find(m=>m.id===l),f=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(m=>m.id===l?(this.publish({...m,...e,id:l,title:s}),{...m,...e,id:l,dismissible:f,title:s}):m):this.addToast({title:s,...i,dismissible:f,id:l}),l},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0}))),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let l=s!==void 0,u;const f=i.then(async p=>{if(u=["resolve",p],A.isValidElement(p))l=!1,this.create({id:s,type:"default",message:p});else if(x3(p)&&!p.ok){l=!1;const y=typeof n.error=="function"?await n.error(`HTTP error! status: ${p.status}`):n.error,b=typeof n.description=="function"?await n.description(`HTTP error! status: ${p.status}`):n.description,x=typeof y=="object"?y:{message:y};this.create({id:s,type:"error",description:b,...x})}else if(p instanceof Error){l=!1;const y=typeof n.error=="function"?await n.error(p):n.error,b=typeof n.description=="function"?await n.description(p):n.description,x=typeof y=="object"?y:{message:y};this.create({id:s,type:"error",description:b,...x})}else if(n.success!==void 0){l=!1;const y=typeof n.success=="function"?await n.success(p):n.success,b=typeof n.description=="function"?await n.description(p):n.description,x=typeof y=="object"?y:{message:y};this.create({id:s,type:"success",description:b,...x})}}).catch(async p=>{if(u=["reject",p],n.error!==void 0){l=!1;const v=typeof n.error=="function"?await n.error(p):n.error,y=typeof n.description=="function"?await n.description(p):n.description,b=typeof v=="object"?v:{message:v};this.create({id:s,type:"error",description:y,...b})}}).finally(()=>{l&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),m=()=>new Promise((p,v)=>f.then(()=>u[0]==="reject"?v(u[1]):p(u[1])).catch(v));return typeof s!="string"&&typeof s!="number"?{unwrap:m}:Object.assign(s,{unwrap:m})},this.custom=(e,n)=>{const s=(n==null?void 0:n.id)||Rg++;return this.create({jsx:e(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const fn=new v3,b3=(t,e)=>{const n=(e==null?void 0:e.id)||Rg++;return fn.addToast({title:t,...e,id:n}),n},x3=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",_3=b3,w3=()=>fn.toasts,E3=()=>fn.getActiveToasts(),Ue=Object.assign(_3,{success:fn.success,info:fn.info,warning:fn.warning,error:fn.error,custom:fn.custom,message:fn.message,promise:fn.promise,dismiss:fn.dismiss,loading:fn.loading},{getHistory:w3,getToasts:E3});l3("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Rd(t){return t.label!==void 0}const S3=3,N3="24px",C3="16px",Kw=4e3,T3=356,R3=14,D3=45,A3=200;function Tr(...t){return t.filter(Boolean).join(" ")}function I3(t){const[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}const j3=t=>{var e,n,s,i,l,u,f,m,p;const{invert:v,toast:y,unstyled:b,interacting:x,setHeights:E,visibleToasts:S,heights:C,index:N,toasts:T,expanded:R,removeToast:I,defaultRichColors:O,closeButton:B,style:k,cancelButtonStyle:Y,actionButtonStyle:P,className:$="",descriptionClassName:se="",duration:Q,position:ae,gap:re,expandByDefault:oe,classNames:F,icons:le,closeButtonAriaLabel:te="Close toast"}=t,[de,M]=A.useState(null),[U,L]=A.useState(null),[V,K]=A.useState(!1),[Z,ee]=A.useState(!1),[fe,he]=A.useState(!1),[xe,Ie]=A.useState(!1),[Kt,Zn]=A.useState(!1),[qt,Jn]=A.useState(0),[_s,er]=A.useState(0),tr=A.useRef(y.duration||Q||Kw),Lr=A.useRef(null),Tt=A.useRef(null),tl=N===0,nl=N+1<=S,on=y.type,ws=y.dismissible!==!1,kn=y.className||"",ah=y.descriptionClassName||"",Ea=A.useMemo(()=>C.findIndex(Ne=>Ne.toastId===y.id)||0,[C,y.id]),hu=A.useMemo(()=>{var Ne;return(Ne=y.closeButton)!=null?Ne:B},[y.closeButton,B]),Sa=A.useMemo(()=>y.duration||Q||Kw,[y.duration,Q]),rl=A.useRef(0),Ur=A.useRef(0),mu=A.useRef(0),Es=A.useRef(null),[Na,Qt]=ae.split("-"),pu=A.useMemo(()=>C.reduce((Ne,st,lt)=>lt>=Ea?Ne:Ne+st.height,0),[C,Ea]),nr=y3(),Xt=y.invert||v,sl=on==="loading";Ur.current=A.useMemo(()=>Ea*re+pu,[Ea,pu]),A.useEffect(()=>{tr.current=Sa},[Sa]),A.useEffect(()=>{K(!0)},[]),A.useEffect(()=>{const Ne=Tt.current;if(Ne){const st=Ne.getBoundingClientRect().height;return er(st),E(lt=>[{toastId:y.id,height:st,position:y.position},...lt]),()=>E(lt=>lt.filter(Zt=>Zt.toastId!==y.id))}},[E,y.id]),A.useLayoutEffect(()=>{if(!V)return;const Ne=Tt.current,st=Ne.style.height;Ne.style.height="auto";const lt=Ne.getBoundingClientRect().height;Ne.style.height=st,er(lt),E(Zt=>Zt.find(gt=>gt.toastId===y.id)?Zt.map(gt=>gt.toastId===y.id?{...gt,height:lt}:gt):[{toastId:y.id,height:lt,position:y.position},...Zt])},[V,y.title,y.description,E,y.id]);const br=A.useCallback(()=>{ee(!0),Jn(Ur.current),E(Ne=>Ne.filter(st=>st.toastId!==y.id)),setTimeout(()=>{I(y)},A3)},[y,I,E,Ur]);A.useEffect(()=>{if(y.promise&&on==="loading"||y.duration===1/0||y.type==="loading")return;let Ne;return R||x||nr?(()=>{if(mu.current<rl.current){const Zt=new Date().getTime()-rl.current;tr.current=tr.current-Zt}mu.current=new Date().getTime()})():(()=>{tr.current!==1/0&&(rl.current=new Date().getTime(),Ne=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),br()},tr.current))})(),()=>clearTimeout(Ne)},[R,x,y,on,nr,br]),A.useEffect(()=>{y.delete&&br()},[br,y.delete]);function ih(){var Ne;if(le!=null&&le.loading){var st;return A.createElement("div",{className:Tr(F==null?void 0:F.loader,y==null||(st=y.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":on==="loading"},le.loading)}return A.createElement(d3,{className:Tr(F==null?void 0:F.loader,y==null||(Ne=y.classNames)==null?void 0:Ne.loader),visible:on==="loading"})}var Ca,Ta;return A.createElement("li",{tabIndex:0,ref:Tt,className:Tr($,kn,F==null?void 0:F.toast,y==null||(e=y.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[on],y==null||(n=y.classNames)==null?void 0:n[on]),"data-sonner-toast":"","data-rich-colors":(Ca=y.richColors)!=null?Ca:O,"data-styled":!(y.jsx||y.unstyled||b),"data-mounted":V,"data-promise":!!y.promise,"data-swiped":Kt,"data-removed":Z,"data-visible":nl,"data-y-position":Na,"data-x-position":Qt,"data-index":N,"data-front":tl,"data-swiping":fe,"data-dismissible":ws,"data-type":on,"data-invert":Xt,"data-swipe-out":xe,"data-swipe-direction":U,"data-expanded":!!(R||oe&&V),style:{"--index":N,"--toasts-before":N,"--z-index":T.length-N,"--offset":`${Z?qt:Ur.current}px`,"--initial-height":oe?"auto":`${_s}px`,...k,...y.style},onDragEnd:()=>{he(!1),M(null),Es.current=null},onPointerDown:Ne=>{sl||!ws||(Lr.current=new Date,Jn(Ur.current),Ne.target.setPointerCapture(Ne.pointerId),Ne.target.tagName!=="BUTTON"&&(he(!0),Es.current={x:Ne.clientX,y:Ne.clientY}))},onPointerUp:()=>{var Ne,st,lt;if(xe||!ws)return;Es.current=null;const Zt=Number(((Ne=Tt.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ra=Number(((st=Tt.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gt=new Date().getTime()-((lt=Lr.current)==null?void 0:lt.getTime()),Vt=de==="x"?Zt:Ra,xr=Math.abs(Vt)/gt;if(Math.abs(Vt)>=D3||xr>.11){Jn(Ur.current),y.onDismiss==null||y.onDismiss.call(y,y),L(de==="x"?Zt>0?"right":"left":Ra>0?"down":"up"),br(),Ie(!0);return}else{var bn,ln;(bn=Tt.current)==null||bn.style.setProperty("--swipe-amount-x","0px"),(ln=Tt.current)==null||ln.style.setProperty("--swipe-amount-y","0px")}Zn(!1),he(!1),M(null)},onPointerMove:Ne=>{var st,lt,Zt;if(!Es.current||!ws||((st=window.getSelection())==null?void 0:st.toString().length)>0)return;const gt=Ne.clientY-Es.current.y,Vt=Ne.clientX-Es.current.x;var xr;const bn=(xr=t.swipeDirections)!=null?xr:I3(ae);!de&&(Math.abs(Vt)>1||Math.abs(gt)>1)&&M(Math.abs(Vt)>Math.abs(gt)?"x":"y");let ln={x:0,y:0};const al=_r=>1/(1.5+Math.abs(_r)/20);if(de==="y"){if(bn.includes("top")||bn.includes("bottom"))if(bn.includes("top")&&gt<0||bn.includes("bottom")&&gt>0)ln.y=gt;else{const _r=gt*al(gt);ln.y=Math.abs(_r)<Math.abs(gt)?_r:gt}}else if(de==="x"&&(bn.includes("left")||bn.includes("right")))if(bn.includes("left")&&Vt<0||bn.includes("right")&&Vt>0)ln.x=Vt;else{const _r=Vt*al(Vt);ln.x=Math.abs(_r)<Math.abs(Vt)?_r:Vt}(Math.abs(ln.x)>0||Math.abs(ln.y)>0)&&Zn(!0),(lt=Tt.current)==null||lt.style.setProperty("--swipe-amount-x",`${ln.x}px`),(Zt=Tt.current)==null||Zt.style.setProperty("--swipe-amount-y",`${ln.y}px`)}},hu&&!y.jsx&&on!=="loading"?A.createElement("button",{"aria-label":te,"data-disabled":sl,"data-close-button":!0,onClick:sl||!ws?()=>{}:()=>{br(),y.onDismiss==null||y.onDismiss.call(y,y)},className:Tr(F==null?void 0:F.closeButton,y==null||(s=y.classNames)==null?void 0:s.closeButton)},(Ta=le==null?void 0:le.close)!=null?Ta:g3):null,on||y.icon||y.promise?A.createElement("div",{"data-icon":"",className:Tr(F==null?void 0:F.icon,y==null||(i=y.classNames)==null?void 0:i.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||ih():null,y.type!=="loading"?y.icon||(le==null?void 0:le[on])||c3(on):null):null,A.createElement("div",{"data-content":"",className:Tr(F==null?void 0:F.content,y==null||(l=y.classNames)==null?void 0:l.content)},A.createElement("div",{"data-title":"",className:Tr(F==null?void 0:F.title,y==null||(u=y.classNames)==null?void 0:u.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?A.createElement("div",{"data-description":"",className:Tr(se,ah,F==null?void 0:F.description,y==null||(f=y.classNames)==null?void 0:f.description)},typeof y.description=="function"?y.description():y.description):null),A.isValidElement(y.cancel)?y.cancel:y.cancel&&Rd(y.cancel)?A.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||Y,onClick:Ne=>{Rd(y.cancel)&&ws&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,Ne),br())},className:Tr(F==null?void 0:F.cancelButton,y==null||(m=y.classNames)==null?void 0:m.cancelButton)},y.cancel.label):null,A.isValidElement(y.action)?y.action:y.action&&Rd(y.action)?A.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||P,onClick:Ne=>{Rd(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,Ne),!Ne.defaultPrevented&&br())},className:Tr(F==null?void 0:F.actionButton,y==null||(p=y.classNames)==null?void 0:p.actionButton)},y.action.label):null)};function Qw(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function O3(t,e){const n={};return[t,e].forEach((s,i)=>{const l=i===1,u=l?"--mobile-offset":"--offset",f=l?C3:N3;function m(p){["top","right","bottom","left"].forEach(v=>{n[`${u}-${v}`]=typeof p=="number"?`${p}px`:p})}typeof s=="number"||typeof s=="string"?m(s):typeof s=="object"?["top","right","bottom","left"].forEach(p=>{s[p]===void 0?n[`${u}-${p}`]=f:n[`${u}-${p}`]=typeof s[p]=="number"?`${s[p]}px`:s[p]}):m(f)}),n}const k3=A.forwardRef(function(e,n){const{invert:s,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:f,className:m,offset:p,mobileOffset:v,theme:y="light",richColors:b,duration:x,style:E,visibleToasts:S=S3,toastOptions:C,dir:N=Qw(),gap:T=R3,icons:R,containerAriaLabel:I="Notifications"}=e,[O,B]=A.useState([]),k=A.useMemo(()=>Array.from(new Set([i].concat(O.filter(U=>U.position).map(U=>U.position)))),[O,i]),[Y,P]=A.useState([]),[$,se]=A.useState(!1),[Q,ae]=A.useState(!1),[re,oe]=A.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=A.useRef(null),le=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),te=A.useRef(null),de=A.useRef(!1),M=A.useCallback(U=>{B(L=>{var V;return(V=L.find(K=>K.id===U.id))!=null&&V.delete||fn.dismiss(U.id),L.filter(({id:K})=>K!==U.id)})},[]);return A.useEffect(()=>fn.subscribe(U=>{if(U.dismiss){const L=O.map(V=>V.id===U.id?{...V,delete:!0}:V);requestAnimationFrame(()=>{B(L)});return}setTimeout(()=>{fS.flushSync(()=>{B(L=>{const V=L.findIndex(K=>K.id===U.id);return V!==-1?[...L.slice(0,V),{...L[V],...U},...L.slice(V+1)]:[U,...L]})})})}),[O]),A.useEffect(()=>{if(y!=="system"){oe(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?oe("dark"):oe("light")),typeof window>"u")return;const U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:L})=>{oe(L?"dark":"light")})}catch{U.addListener(({matches:V})=>{try{oe(V?"dark":"light")}catch(K){console.error(K)}})}},[y]),A.useEffect(()=>{O.length<=1&&se(!1)},[O]),A.useEffect(()=>{const U=L=>{var V;if(l.every(ee=>L[ee]||L.code===ee)){var Z;se(!0),(Z=F.current)==null||Z.focus()}L.code==="Escape"&&(document.activeElement===F.current||(V=F.current)!=null&&V.contains(document.activeElement))&&se(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[l]),A.useEffect(()=>{if(F.current)return()=>{te.current&&(te.current.focus({preventScroll:!0}),te.current=null,de.current=!1)}},[F.current]),A.createElement("section",{ref:n,"aria-label":`${I} ${le}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((U,L)=>{var V;const[K,Z]=U.split("-");return O.length?A.createElement("ol",{key:U,dir:N==="auto"?Qw():N,tabIndex:-1,ref:F,className:m,"data-sonner-toaster":!0,"data-sonner-theme":re,"data-y-position":K,"data-lifted":$&&O.length>1&&!u,"data-x-position":Z,style:{"--front-toast-height":`${((V=Y[0])==null?void 0:V.height)||0}px`,"--width":`${T3}px`,"--gap":`${T}px`,...E,...O3(p,v)},onBlur:ee=>{de.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(de.current=!1,te.current&&(te.current.focus({preventScroll:!0}),te.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||de.current||(de.current=!0,te.current=ee.relatedTarget)},onMouseEnter:()=>se(!0),onMouseMove:()=>se(!0),onMouseLeave:()=>{Q||se(!1)},onDragEnd:()=>se(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||ae(!0)},onPointerUp:()=>ae(!1)},O.filter(ee=>!ee.position&&L===0||ee.position===U).map((ee,fe)=>{var he,xe;return A.createElement(j3,{key:ee.id,icons:R,index:fe,toast:ee,defaultRichColors:b,duration:(he=C==null?void 0:C.duration)!=null?he:x,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:s,visibleToasts:S,closeButton:(xe=C==null?void 0:C.closeButton)!=null?xe:f,interacting:Q,position:U,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:M,toasts:O.filter(Ie=>Ie.position==ee.position),heights:Y.filter(Ie=>Ie.position==ee.position),setHeights:P,expandByDefault:u,gap:T,expanded:$,swipeDirections:e.swipeDirections})})):null}))}),$N="/nrd-sgo/assets/logo-Dugcj0T7.jpg",M3=()=>{const t=Ct(),e=gr(),[n,s]=_.useState(!1),[i,l]=_.useState({email:"",password:""}),[u,f]=_.useState(document.documentElement.classList.contains("dark")),m=()=>{const y=!u;f(y),y?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")},p=async y=>{var b;y.preventDefault(),s(!0);try{await new pf().login(i.email,i.password),console.log("Login successful");const E=((b=e.state)==null?void 0:b.from)||"/dashboard";t(E,{replace:!0})}catch(x){console.error("Login error:",x),Ue.error("Error al iniciar sesin. Por favor, verifique sus credenciales.")}finally{s(!1)}},v=y=>{const{name:b,value:x}=y.target;l({...i,[b]:x})};return d.jsxs("div",{className:"min-h-screen flex flex-col bg-background relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:d.jsx("div",{className:"absolute -top-[40rem] left-1/2 -z-10 transform -translate-x-1/2",children:d.jsx("div",{className:"aspect-[1200/800] w-[80rem] bg-gradient-to-tr from-primary/20 to-primary-foreground/20 opacity-30 blur-3xl"})})}),d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx(_e,{variant:"ghost",size:"icon",onClick:m,className:"rounded-full",children:u?d.jsx(tg,{className:"h-5 w-5"}):d.jsx(Jp,{className:"h-5 w-5"})})}),d.jsx("div",{className:"flex-1 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:d.jsxs(nt,{className:"w-full max-w-[90%] sm:max-w-md backdrop-blur-sm bg-card/80 shadow-xl",children:[d.jsxs(mn,{className:"space-y-4 text-center pb-6",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx("img",{src:$N,alt:"Logo",className:"h-16 w-16 sm:h-20 sm:w-20 rounded-lg shadow-lg object-cover"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(pn,{className:"text-xl sm:text-2xl font-bold tracking-tight",children:"Sistema de Gestin Operativa"}),d.jsx(kS,{className:"text-sm sm:text-base",children:"Inicie sesin para continuar"})]})]}),d.jsx(pt,{children:d.jsxs("form",{onSubmit:p,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:d.jsx(ZI,{className:"h-4 w-4 text-muted-foreground"})}),d.jsx(gn,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"pl-10 h-11",placeholder:"usuario@ejemplo.com",value:i.email,onChange:v,disabled:n})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:d.jsx(_I,{className:"h-4 w-4 text-muted-foreground"})}),d.jsx(gn,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"pl-10 h-11",placeholder:"",value:i.password,onChange:v,disabled:n})]})]}),d.jsx(_e,{type:"submit",className:"w-full h-11 text-base",disabled:n,children:n?d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Iniciando sesin..."]}):d.jsxs(d.Fragment,{children:[d.jsx(EI,{className:"h-5 w-5 mr-2"}),"Iniciar sesin"]})})]})})]})}),d.jsx("div",{className:"py-4 text-center",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Sistema de Gestin Operativa. Todos los derechos reservados."]})})]})};function Dn({columns:t,title:e,addPath:n,backPath:s,service:i}){const[l,u]=A.useState([]),[f,m]=A.useState([]),[p,v]=A.useState(!0),[y,b]=A.useState(""),x=A.useCallback(async()=>{try{const S=await i.findAll();u(S),m(S)}catch(S){console.error("Error al cargar los datos:",S),Ue.error("Error al cargar los datos")}finally{v(!1)}},[i]);A.useEffect(()=>{x()},[x]),A.useEffect(()=>{if(y.trim()===""){m(l);return}const S=t.filter(N=>N.searchable!==!1),C=l.filter(N=>S.some(T=>{var I;const R=T.render?(I=T.render(N))==null?void 0:I.toString():String(N[T.accessor]??"");return R==null?void 0:R.toLowerCase().includes(y.toLowerCase())}));m(C)},[y,l,t]);const E=async S=>{if(window.confirm("Est seguro de que desea eliminar este registro?"))try{await i.delete(S),Ue.success("Registro eliminado exitosamente"),x()}catch(C){console.error("Error al eliminar el registro:",C),Ue.error("Error al eliminar el registro")}};return p?d.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsxs("div",{className:"min-h-[80vh] flex flex-col gap-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:e}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Lista de ",e.toLowerCase()]})]}),d.jsx(os,{to:n,children:d.jsxs(_e,{className:"flex items-center gap-2",children:[d.jsx(ta,{className:"h-4 w-4"}),"Nuevo"]})})]}),d.jsxs(nt,{children:[d.jsx("div",{className:"p-4",children:d.jsx("div",{className:"max-w-sm",children:d.jsxs("div",{className:"relative",children:[d.jsx(gn,{type:"text",placeholder:"Buscar...",value:y,onChange:S=>b(S.target.value),className:"w-full pl-9"}),d.jsx(wS,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"})]})})}),d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsxs("table",{className:"w-full caption-bottom text-sm",children:[d.jsx("thead",{className:"[&_tr]:border-b",children:d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[t.map((S,C)=>d.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:S.header},C)),d.jsx("th",{className:"h-12 px-4 text-right align-middle font-medium text-muted-foreground",children:"Acciones"})]})}),d.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:f.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:t.length+1,className:"p-4 text-center text-muted-foreground",children:y.trim()!==""?`No se encontraron ${e.toLowerCase()} que coincidan con la bsqueda`:`No hay ${e.toLowerCase()} registrados`})}):f.map(S=>d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[t.map((C,N)=>d.jsx("td",{className:"p-4 align-middle",children:C.render?C.render(S):String(S[C.accessor]??"")},N)),d.jsx("td",{className:"p-4 align-middle text-right",children:d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(os,{to:`${s||""}/${S.id}`,children:d.jsx(_e,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Ver detalles",children:d.jsx(bS,{className:"h-4 w-4"})})}),d.jsx(os,{to:`${s||""}/${S.id}/edit`,children:d.jsx(_e,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Editar",children:d.jsx(Tf,{className:"h-4 w-4"})})}),d.jsx(_e,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:text-destructive",onClick:()=>E(S.id.toString()),title:"Eliminar",children:d.jsx(Rf,{className:"h-4 w-4"})})]})})]},S.id))})]})})]})]})}var Mc=(t=>(t.ACTIVE="active",t.INACTIVE="inactive",t))(Mc||{});class An{constructor(e,n){zt(this,"dbRef");this.db=e,this.dbRef=n}mapDocumentToEntity(e,n){const s={...e};return s.createdAt&&(s.createdAt=new Date(s.createdAt)),s.updatedAt&&(s.updatedAt=new Date(s.updatedAt)),{id:n,...s}}getRef(e){return dc(this.db,e?`${this.dbRef}/${e}`:this.dbRef)}async getSnapshot(e){return await yo(this.getRef(e))}async setData(e,n){await Cg(this.getRef(e),n)}async updateData(e,n){await $5(this.getRef(e),n)}async removeData(e){await V5(this.getRef(e))}async pushData(e){const n=q5(this.getRef());return await Cg(n,e),n}async queryData(e,n){const s=hc(this.getRef(),fc(e),qN(n));return await yo(s)}async findAll(){const e=await this.getSnapshot();if(!e.exists())return[];const n=e.val();return Object.entries(n).map(([s,i])=>this.mapDocumentToEntity(i,s))}async findById(e){const n=await this.getSnapshot(e);return n.exists()?this.mapDocumentToEntity(n.val(),e):null}async create(e){const n=await this.pushData(e),s={...e};return this.mapDocumentToEntity(s,n.key)}async update(e,n){await this.updateData(e,n)}async delete(e){await this.removeData(e)}async findByField(e,n){const s=await this.queryData(e,n);if(!s.exists())return[];const i=s.val();return Object.entries(i).map(([l,u])=>this.mapDocumentToEntity(u,l))}}class P3 extends An{constructor(e){super(e,"customers")}async findByName(e){return this.findByField("name",e)}async findByEmail(e){return this.findByField("email",e)}async findByPhone(e){return this.findByField("phone",e)}async findByStatus(e){return this.findByField("status",e)}}class In{constructor(e){zt(this,"repository");this.repository=new e(o3)}async findAll(){return this.repository.findAll()}async findById(e){return this.repository.findById(e)}async create(e){return this.repository.create(e)}async update(e,n){await this.repository.update(e,n);const s=await this.findById(e);if(!s)throw new Error("Entity not found after update");return s}async delete(e){await this.repository.delete(e)}}class bs extends In{constructor(){super(P3)}async findByName(e){return this.repository.findByName(e)}async findByEmail(e){return this.repository.findByEmail(e)}async findByPhone(e){return this.repository.findByPhone(e)}async findByStatus(e){return(await this.repository.findAll()).filter(s=>s.status===e)}}function L3(){const t=new bs,e=[{header:"Nombre",accessor:"name"},{header:"Telfono",accessor:"phone",render:n=>n.phone||"-"},{header:"Estado",accessor:"status",render:n=>n.status===Mc.ACTIVE?"Activo":"Inactivo"}];return d.jsx(Dn,{columns:e,title:"Clientes",addPath:"/customers/new",backPath:"/customers",service:t})}const Wn=_.forwardRef(({className:t,...e},n)=>d.jsx("label",{ref:n,className:De("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));Wn.displayName="Label";var Xw=1,U3=.9,B3=.8,z3=.17,Mp=.1,Pp=.999,F3=.9999,H3=.99,q3=/[\\\/_+.#"@\[\(\{&]/,V3=/[\\\/_+.#"@\[\(\{&]/g,$3=/[\s-]/,GN=/[\s-]/g;function Dg(t,e,n,s,i,l,u){if(l===e.length)return i===t.length?Xw:H3;var f=`${i},${l}`;if(u[f]!==void 0)return u[f];for(var m=s.charAt(l),p=n.indexOf(m,i),v=0,y,b,x,E;p>=0;)y=Dg(t,e,n,s,p+1,l+1,u),y>v&&(p===i?y*=Xw:q3.test(t.charAt(p-1))?(y*=B3,x=t.slice(i,p-1).match(V3),x&&i>0&&(y*=Math.pow(Pp,x.length))):$3.test(t.charAt(p-1))?(y*=U3,E=t.slice(i,p-1).match(GN),E&&i>0&&(y*=Math.pow(Pp,E.length))):(y*=z3,i>0&&(y*=Math.pow(Pp,p-i))),t.charAt(p)!==e.charAt(l)&&(y*=F3)),(y<Mp&&n.charAt(p-1)===s.charAt(l+1)||s.charAt(l+1)===s.charAt(l)&&n.charAt(p-1)!==s.charAt(l))&&(b=Dg(t,e,n,s,p+1,l+2,u),b*Mp>y&&(y=b*Mp)),y>v&&(v=y),p=n.indexOf(m,p+1);return u[f]=v,v}function Zw(t){return t.toLowerCase().replace(GN," ")}function G3(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,Dg(t,e,Zw(t),Zw(e),0,0,{})}function ft(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Jw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function YN(...t){return e=>{let n=!1;const s=t.map(i=>{const l=Jw(i,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<s.length;i++){const l=s[i];typeof l=="function"?l():Jw(t[i],null)}}}}function an(...t){return _.useCallback(YN(...t),t)}function Y3(t,e){const n=_.createContext(e),s=l=>{const{children:u,...f}=l,m=_.useMemo(()=>f,Object.values(f));return d.jsx(n.Provider,{value:m,children:u})};s.displayName=t+"Provider";function i(l){const u=_.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[s,i]}function Xo(t,e=[]){let n=[];function s(l,u){const f=_.createContext(u),m=n.length;n=[...n,u];const p=y=>{var N;const{scope:b,children:x,...E}=y,S=((N=b==null?void 0:b[t])==null?void 0:N[m])||f,C=_.useMemo(()=>E,Object.values(E));return d.jsx(S.Provider,{value:C,children:x})};p.displayName=l+"Provider";function v(y,b){var S;const x=((S=b==null?void 0:b[t])==null?void 0:S[m])||f,E=_.useContext(x);if(E)return E;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${l}\``)}return[p,v]}const i=()=>{const l=n.map(u=>_.createContext(u));return function(f){const m=(f==null?void 0:f[t])||l;return _.useMemo(()=>({[`__scope${t}`]:{...f,[t]:m}}),[f,m])}};return i.scopeName=t,[s,W3(i,...e)]}function W3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=s.reduce((f,{useScope:m,scopeName:p})=>{const y=m(l)[`__scope${p}`];return{...f,...y}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}var ma=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},K3=bA.useId||(()=>{}),Q3=0;function Kn(t){const[e,n]=_.useState(K3());return ma(()=>{n(s=>s??String(Q3++))},[t]),e?`radix-${e}`:""}function pa(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function su({prop:t,defaultProp:e,onChange:n=()=>{}}){const[s,i]=X3({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:s,f=pa(n),m=_.useCallback(p=>{if(l){const y=typeof p=="function"?p(t):p;y!==t&&f(y)}else i(p)},[l,t,i,f]);return[u,m]}function X3({defaultProp:t,onChange:e}){const n=_.useState(t),[s]=n,i=_.useRef(s),l=pa(e);return _.useEffect(()=>{i.current!==s&&(l(s),i.current=s)},[s,i,l]),n}var $f=_.forwardRef((t,e)=>{const{children:n,...s}=t,i=_.Children.toArray(n),l=i.find(Z3);if(l){const u=l.props.children,f=i.map(m=>m===l?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:m);return d.jsx(Ag,{...s,ref:e,children:_.isValidElement(u)?_.cloneElement(u,void 0,f):null})}return d.jsx(Ag,{...s,ref:e,children:n})});$f.displayName="Slot";var Ag=_.forwardRef((t,e)=>{const{children:n,...s}=t;if(_.isValidElement(n)){const i=eU(n),l=J3(s,n.props);return n.type!==_.Fragment&&(l.ref=e?YN(e,i):i),_.cloneElement(n,l)}return _.Children.count(n)>1?_.Children.only(null):null});Ag.displayName="SlotClone";var WN=({children:t})=>d.jsx(d.Fragment,{children:t});function Z3(t){return _.isValidElement(t)&&t.type===WN}function J3(t,e){const n={...e};for(const s in e){const i=t[s],l=e[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...f)=>{l(...f),i(...f)}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function eU(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var tU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$e=tU.reduce((t,e)=>{const n=_.forwardRef((s,i)=>{const{asChild:l,...u}=s,f=l?$f:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(f,{...u,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function nU(t,e){t&&ny.flushSync(()=>t.dispatchEvent(e))}function rU(t,e=globalThis==null?void 0:globalThis.document){const n=pa(t);_.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var sU="DismissableLayer",Ig="dismissableLayer.update",aU="dismissableLayer.pointerDownOutside",iU="dismissableLayer.focusOutside",eE,KN=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gf=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...m}=t,p=_.useContext(KN),[v,y]=_.useState(null),b=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=_.useState({}),E=an(e,k=>y(k)),S=Array.from(p.layers),[C]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),N=S.indexOf(C),T=v?S.indexOf(v):-1,R=p.layersWithOutsidePointerEventsDisabled.size>0,I=T>=N,O=cU(k=>{const Y=k.target,P=[...p.branches].some($=>$.contains(Y));!I||P||(i==null||i(k),u==null||u(k),k.defaultPrevented||f==null||f())},b),B=uU(k=>{const Y=k.target;[...p.branches].some($=>$.contains(Y))||(l==null||l(k),u==null||u(k),k.defaultPrevented||f==null||f())},b);return rU(k=>{T===p.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&f&&(k.preventDefault(),f()))},b),_.useEffect(()=>{if(v)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(eE=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),tE(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=eE)}},[v,b,n,p]),_.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),tE())},[v,p]),_.useEffect(()=>{const k=()=>x({});return document.addEventListener(Ig,k),()=>document.removeEventListener(Ig,k)},[]),d.jsx($e.div,{...m,ref:E,style:{pointerEvents:R?I?"auto":"none":void 0,...t.style},onFocusCapture:ft(t.onFocusCapture,B.onFocusCapture),onBlurCapture:ft(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:ft(t.onPointerDownCapture,O.onPointerDownCapture)})});Gf.displayName=sU;var oU="DismissableLayerBranch",lU=_.forwardRef((t,e)=>{const n=_.useContext(KN),s=_.useRef(null),i=an(e,s);return _.useEffect(()=>{const l=s.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),d.jsx($e.div,{...t,ref:i})});lU.displayName=oU;function cU(t,e=globalThis==null?void 0:globalThis.document){const n=pa(t),s=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const l=f=>{if(f.target&&!s.current){let m=function(){QN(aU,n,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=m,e.addEventListener("click",i.current,{once:!0})):m()}else e.removeEventListener("click",i.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function uU(t,e=globalThis==null?void 0:globalThis.document){const n=pa(t),s=_.useRef(!1);return _.useEffect(()=>{const i=l=>{l.target&&!s.current&&QN(iU,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function tE(){const t=new CustomEvent(Ig);document.dispatchEvent(t)}function QN(t,e,n,{discrete:s}){const i=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),s?nU(i,l):i.dispatchEvent(l)}var Lp="focusScope.autoFocusOnMount",Up="focusScope.autoFocusOnUnmount",nE={bubbles:!1,cancelable:!0},dU="FocusScope",av=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=t,[f,m]=_.useState(null),p=pa(i),v=pa(l),y=_.useRef(null),b=an(e,S=>m(S)),x=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(s){let S=function(R){if(x.paused||!f)return;const I=R.target;f.contains(I)?y.current=I:Ks(y.current,{select:!0})},C=function(R){if(x.paused||!f)return;const I=R.relatedTarget;I!==null&&(f.contains(I)||Ks(y.current,{select:!0}))},N=function(R){if(document.activeElement===document.body)for(const O of R)O.removedNodes.length>0&&Ks(f)};document.addEventListener("focusin",S),document.addEventListener("focusout",C);const T=new MutationObserver(N);return f&&T.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",C),T.disconnect()}}},[s,f,x.paused]),_.useEffect(()=>{if(f){sE.add(x);const S=document.activeElement;if(!f.contains(S)){const N=new CustomEvent(Lp,nE);f.addEventListener(Lp,p),f.dispatchEvent(N),N.defaultPrevented||(fU(yU(XN(f)),{select:!0}),document.activeElement===S&&Ks(f))}return()=>{f.removeEventListener(Lp,p),setTimeout(()=>{const N=new CustomEvent(Up,nE);f.addEventListener(Up,v),f.dispatchEvent(N),N.defaultPrevented||Ks(S??document.body,{select:!0}),f.removeEventListener(Up,v),sE.remove(x)},0)}}},[f,p,v,x]);const E=_.useCallback(S=>{if(!n&&!s||x.paused)return;const C=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,N=document.activeElement;if(C&&N){const T=S.currentTarget,[R,I]=hU(T);R&&I?!S.shiftKey&&N===I?(S.preventDefault(),n&&Ks(R,{select:!0})):S.shiftKey&&N===R&&(S.preventDefault(),n&&Ks(I,{select:!0})):N===T&&S.preventDefault()}},[n,s,x.paused]);return d.jsx($e.div,{tabIndex:-1,...u,ref:b,onKeyDown:E})});av.displayName=dU;function fU(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(Ks(s,{select:e}),document.activeElement!==n)return}function hU(t){const e=XN(t),n=rE(e,t),s=rE(e.reverse(),t);return[n,s]}function XN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function rE(t,e){for(const n of t)if(!mU(n,{upTo:e}))return n}function mU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function pU(t){return t instanceof HTMLInputElement&&"select"in t}function Ks(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&pU(t)&&e&&t.select()}}var sE=gU();function gU(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=aE(t,e),t.unshift(e)},remove(e){var n;t=aE(t,e),(n=t[0])==null||n.resume()}}}function aE(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function yU(t){return t.filter(e=>e.tagName!=="A")}var vU="Portal",iv=_.forwardRef((t,e)=>{var f;const{container:n,...s}=t,[i,l]=_.useState(!1);ma(()=>l(!0),[]);const u=n||i&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return u?fS.createPortal(d.jsx($e.div,{...s,ref:e}),u):null});iv.displayName=vU;function bU(t,e){return _.useReducer((n,s)=>e[n][s]??n,t)}var xs=t=>{const{present:e,children:n}=t,s=xU(e),i=typeof n=="function"?n({present:s.isPresent}):_.Children.only(n),l=an(s.ref,_U(i));return typeof n=="function"||s.isPresent?_.cloneElement(i,{ref:l}):null};xs.displayName="Presence";function xU(t){const[e,n]=_.useState(),s=_.useRef({}),i=_.useRef(t),l=_.useRef("none"),u=t?"mounted":"unmounted",[f,m]=bU(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const p=Dd(s.current);l.current=f==="mounted"?p:"none"},[f]),ma(()=>{const p=s.current,v=i.current;if(v!==t){const b=l.current,x=Dd(p);t?m("MOUNT"):x==="none"||(p==null?void 0:p.display)==="none"?m("UNMOUNT"):m(v&&b!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,m]),ma(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,y=x=>{const S=Dd(s.current).includes(x.animationName);if(x.target===e&&S&&(m("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},b=x=>{x.target===e&&(l.current=Dd(s.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:_.useCallback(p=>{p&&(s.current=getComputedStyle(p)),n(p)},[])}}function Dd(t){return(t==null?void 0:t.animationName)||"none"}function _U(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Bp=0;function ZN(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??iE()),document.body.insertAdjacentElement("beforeend",t[1]??iE()),Bp++,()=>{Bp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Bp--}},[])}function iE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var qd="right-scroll-bar-position",Vd="width-before-scroll-bar",wU="with-scroll-bars-hidden",EU="--removed-body-scroll-bar-size";function zp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function SU(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=e,n.facade}var NU=typeof window<"u"?_.useLayoutEffect:_.useEffect,oE=new WeakMap;function CU(t,e){var n=SU(null,function(s){return t.forEach(function(i){return zp(i,s)})});return NU(function(){var s=oE.get(n);if(s){var i=new Set(s),l=new Set(t),u=n.current;i.forEach(function(f){l.has(f)||zp(f,null)}),l.forEach(function(f){i.has(f)||zp(f,u)})}oE.set(n,t)},[t]),n}function TU(t){return t}function RU(t,e){e===void 0&&(e=TU);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var u=e(l,s);return n.push(u),function(){n=n.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(s=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){s=!0;var u=[];if(n.length){var f=n;n=[],f.forEach(l),u=n}var m=function(){var v=u;u=[],v.forEach(l)},p=function(){return Promise.resolve().then(m)};p(),n={push:function(v){u.push(v),p()},filter:function(v){return u=u.filter(v),n}}}};return i}function DU(t){t===void 0&&(t={});var e=RU(null);return e.options=Rr({async:!0,ssr:!1},t),e}var JN=function(t){var e=t.sideCar,n=Yc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return _.createElement(s,Rr({},n))};JN.isSideCarExport=!0;function AU(t,e){return t.useMedium(e),JN}var eC=DU(),Fp=function(){},Yf=_.forwardRef(function(t,e){var n=_.useRef(null),s=_.useState({onScrollCapture:Fp,onWheelCapture:Fp,onTouchMoveCapture:Fp}),i=s[0],l=s[1],u=t.forwardProps,f=t.children,m=t.className,p=t.removeScrollBar,v=t.enabled,y=t.shards,b=t.sideCar,x=t.noIsolation,E=t.inert,S=t.allowPinchZoom,C=t.as,N=C===void 0?"div":C,T=t.gapMode,R=Yc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=b,O=CU([n,e]),B=Rr(Rr({},R),i);return _.createElement(_.Fragment,null,v&&_.createElement(I,{sideCar:eC,removeScrollBar:p,shards:y,noIsolation:x,inert:E,setCallbacks:l,allowPinchZoom:!!S,lockRef:n,gapMode:T}),u?_.cloneElement(_.Children.only(f),Rr(Rr({},B),{ref:O})):_.createElement(N,Rr({},B,{className:m,ref:O}),f))});Yf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yf.classNames={fullWidth:Vd,zeroRight:qd};var IU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=IU();return e&&t.setAttribute("nonce",e),t}function OU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function kU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var MU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=jU())&&(OU(e,n),kU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},PU=function(){var t=MU();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},tC=function(){var t=PU(),e=function(n){var s=n.styles,i=n.dynamic;return t(s,i),null};return e},LU={left:0,top:0,right:0,gap:0},Hp=function(t){return parseInt(t||"",10)||0},UU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Hp(n),Hp(s),Hp(i)]},BU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return LU;var e=UU(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},zU=tC(),Eo="data-scroll-locked",FU=function(t,e,n,s){var i=t.left,l=t.top,u=t.right,f=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(wU,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(f,"px ").concat(s,`;
  }
  body[`).concat(Eo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qd,` {
    right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(Vd,` {
    margin-right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(qd," .").concat(qd,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Vd," .").concat(Vd,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Eo,`] {
    `).concat(EU,": ").concat(f,`px;
  }
`)},lE=function(){var t=parseInt(document.body.getAttribute(Eo)||"0",10);return isFinite(t)?t:0},HU=function(){_.useEffect(function(){return document.body.setAttribute(Eo,(lE()+1).toString()),function(){var t=lE()-1;t<=0?document.body.removeAttribute(Eo):document.body.setAttribute(Eo,t.toString())}},[])},qU=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,i=s===void 0?"margin":s;HU();var l=_.useMemo(function(){return BU(i)},[i]);return _.createElement(zU,{styles:FU(l,!e,i,n?"":"!important")})},jg=!1;if(typeof window<"u")try{var Ad=Object.defineProperty({},"passive",{get:function(){return jg=!0,!0}});window.addEventListener("test",Ad,Ad),window.removeEventListener("test",Ad,Ad)}catch{jg=!1}var co=jg?{passive:!1}:!1,VU=function(t){return t.tagName==="TEXTAREA"},nC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!VU(t)&&n[e]==="visible")},$U=function(t){return nC(t,"overflowY")},GU=function(t){return nC(t,"overflowX")},cE=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=rC(t,s);if(i){var l=sC(t,s),u=l[1],f=l[2];if(u>f)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},YU=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},WU=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},rC=function(t,e){return t==="v"?$U(e):GU(e)},sC=function(t,e){return t==="v"?YU(e):WU(e)},KU=function(t,e){return t==="h"&&e==="rtl"?-1:1},QU=function(t,e,n,s,i){var l=KU(t,window.getComputedStyle(e).direction),u=l*s,f=n.target,m=e.contains(f),p=!1,v=u>0,y=0,b=0;do{var x=sC(t,f),E=x[0],S=x[1],C=x[2],N=S-C-l*E;(E||N)&&rC(t,f)&&(y+=N,b+=E),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!m&&f!==document.body||m&&(e.contains(f)||e===f));return(v&&Math.abs(y)<1||!v&&Math.abs(b)<1)&&(p=!0),p},Id=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},uE=function(t){return[t.deltaX,t.deltaY]},dE=function(t){return t&&"current"in t?t.current:t},XU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ZU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},JU=0,uo=[];function eB(t){var e=_.useRef([]),n=_.useRef([0,0]),s=_.useRef(),i=_.useState(JU++)[0],l=_.useState(tC)[0],u=_.useRef(t);_.useEffect(function(){u.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var S=Sk([t.lockRef.current],(t.shards||[]).map(dE),!0).filter(Boolean);return S.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),S.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var f=_.useCallback(function(S,C){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!u.current.allowPinchZoom;var N=Id(S),T=n.current,R="deltaX"in S?S.deltaX:T[0]-N[0],I="deltaY"in S?S.deltaY:T[1]-N[1],O,B=S.target,k=Math.abs(R)>Math.abs(I)?"h":"v";if("touches"in S&&k==="h"&&B.type==="range")return!1;var Y=cE(k,B);if(!Y)return!0;if(Y?O=k:(O=k==="v"?"h":"v",Y=cE(k,B)),!Y)return!1;if(!s.current&&"changedTouches"in S&&(R||I)&&(s.current=O),!O)return!0;var P=s.current||O;return QU(P,C,S,P==="h"?R:I)},[]),m=_.useCallback(function(S){var C=S;if(!(!uo.length||uo[uo.length-1]!==l)){var N="deltaY"in C?uE(C):Id(C),T=e.current.filter(function(O){return O.name===C.type&&(O.target===C.target||C.target===O.shadowParent)&&XU(O.delta,N)})[0];if(T&&T.should){C.cancelable&&C.preventDefault();return}if(!T){var R=(u.current.shards||[]).map(dE).filter(Boolean).filter(function(O){return O.contains(C.target)}),I=R.length>0?f(C,R[0]):!u.current.noIsolation;I&&C.cancelable&&C.preventDefault()}}},[]),p=_.useCallback(function(S,C,N,T){var R={name:S,delta:C,target:N,should:T,shadowParent:tB(N)};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(I){return I!==R})},1)},[]),v=_.useCallback(function(S){n.current=Id(S),s.current=void 0},[]),y=_.useCallback(function(S){p(S.type,uE(S),S.target,f(S,t.lockRef.current))},[]),b=_.useCallback(function(S){p(S.type,Id(S),S.target,f(S,t.lockRef.current))},[]);_.useEffect(function(){return uo.push(l),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:b}),document.addEventListener("wheel",m,co),document.addEventListener("touchmove",m,co),document.addEventListener("touchstart",v,co),function(){uo=uo.filter(function(S){return S!==l}),document.removeEventListener("wheel",m,co),document.removeEventListener("touchmove",m,co),document.removeEventListener("touchstart",v,co)}},[]);var x=t.removeScrollBar,E=t.inert;return _.createElement(_.Fragment,null,E?_.createElement(l,{styles:ZU(i)}):null,x?_.createElement(qU,{gapMode:t.gapMode}):null)}function tB(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const nB=AU(eC,eB);var ov=_.forwardRef(function(t,e){return _.createElement(Yf,Rr({},t,{ref:e,sideCar:nB}))});ov.classNames=Yf.classNames;var rB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},fo=new WeakMap,jd=new WeakMap,Od={},qp=0,aC=function(t){return t&&(t.host||aC(t.parentNode))},sB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=aC(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},aB=function(t,e,n,s){var i=sB(e,Array.isArray(t)?t:[t]);Od[n]||(Od[n]=new WeakMap);var l=Od[n],u=[],f=new Set,m=new Set(i),p=function(y){!y||f.has(y)||(f.add(y),p(y.parentNode))};i.forEach(p);var v=function(y){!y||m.has(y)||Array.prototype.forEach.call(y.children,function(b){if(f.has(b))v(b);else try{var x=b.getAttribute(s),E=x!==null&&x!=="false",S=(fo.get(b)||0)+1,C=(l.get(b)||0)+1;fo.set(b,S),l.set(b,C),u.push(b),S===1&&E&&jd.set(b,!0),C===1&&b.setAttribute(n,"true"),E||b.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",b,N)}})};return v(e),f.clear(),qp++,function(){u.forEach(function(y){var b=fo.get(y)-1,x=l.get(y)-1;fo.set(y,b),l.set(y,x),b||(jd.has(y)||y.removeAttribute(s),jd.delete(y)),x||y.removeAttribute(n)}),qp--,qp||(fo=new WeakMap,fo=new WeakMap,jd=new WeakMap,Od={})}},iC=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),i=rB(t);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live]"))),aB(s,i,n,"aria-hidden")):function(){return null}},lv="Dialog",[oC,XH]=Xo(lv),[iB,yr]=oC(lv),lC=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:i,onOpenChange:l,modal:u=!0}=t,f=_.useRef(null),m=_.useRef(null),[p=!1,v]=su({prop:s,defaultProp:i,onChange:l});return d.jsx(iB,{scope:e,triggerRef:f,contentRef:m,contentId:Kn(),titleId:Kn(),descriptionId:Kn(),open:p,onOpenChange:v,onOpenToggle:_.useCallback(()=>v(y=>!y),[v]),modal:u,children:n})};lC.displayName=lv;var cC="DialogTrigger",uC=_.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=yr(cC,n),l=an(e,i.triggerRef);return d.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":dv(i.open),...s,ref:l,onClick:ft(t.onClick,i.onOpenToggle)})});uC.displayName=cC;var cv="DialogPortal",[oB,dC]=oC(cv,{forceMount:void 0}),fC=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:i}=t,l=yr(cv,e);return d.jsx(oB,{scope:e,forceMount:n,children:_.Children.map(s,u=>d.jsx(xs,{present:n||l.open,children:d.jsx(iv,{asChild:!0,container:i,children:u})}))})};fC.displayName=cv;var gf="DialogOverlay",hC=_.forwardRef((t,e)=>{const n=dC(gf,t.__scopeDialog),{forceMount:s=n.forceMount,...i}=t,l=yr(gf,t.__scopeDialog);return l.modal?d.jsx(xs,{present:s||l.open,children:d.jsx(lB,{...i,ref:e})}):null});hC.displayName=gf;var lB=_.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=yr(gf,n);return d.jsx(ov,{as:$f,allowPinchZoom:!0,shards:[i.contentRef],children:d.jsx($e.div,{"data-state":dv(i.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),gi="DialogContent",mC=_.forwardRef((t,e)=>{const n=dC(gi,t.__scopeDialog),{forceMount:s=n.forceMount,...i}=t,l=yr(gi,t.__scopeDialog);return d.jsx(xs,{present:s||l.open,children:l.modal?d.jsx(cB,{...i,ref:e}):d.jsx(uB,{...i,ref:e})})});mC.displayName=gi;var cB=_.forwardRef((t,e)=>{const n=yr(gi,t.__scopeDialog),s=_.useRef(null),i=an(e,n.contentRef,s);return _.useEffect(()=>{const l=s.current;if(l)return iC(l)},[]),d.jsx(pC,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(t.onCloseAutoFocus,l=>{var u;l.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:ft(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&l.preventDefault()}),onFocusOutside:ft(t.onFocusOutside,l=>l.preventDefault())})}),uB=_.forwardRef((t,e)=>{const n=yr(gi,t.__scopeDialog),s=_.useRef(!1),i=_.useRef(!1);return d.jsx(pC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,f;(u=t.onCloseAutoFocus)==null||u.call(t,l),l.defaultPrevented||(s.current||(f=n.triggerRef.current)==null||f.focus(),l.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:l=>{var m,p;(m=t.onInteractOutside)==null||m.call(t,l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;((p=n.triggerRef.current)==null?void 0:p.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),pC=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=t,f=yr(gi,n),m=_.useRef(null),p=an(e,m);return ZN(),d.jsxs(d.Fragment,{children:[d.jsx(av,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:l,children:d.jsx(Gf,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":dv(f.open),...u,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(dB,{titleId:f.titleId}),d.jsx(hB,{contentRef:m,descriptionId:f.descriptionId})]})]})}),uv="DialogTitle",gC=_.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=yr(uv,n);return d.jsx($e.h2,{id:i.titleId,...s,ref:e})});gC.displayName=uv;var yC="DialogDescription",vC=_.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=yr(yC,n);return d.jsx($e.p,{id:i.descriptionId,...s,ref:e})});vC.displayName=yC;var bC="DialogClose",xC=_.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=yr(bC,n);return d.jsx($e.button,{type:"button",...s,ref:e,onClick:ft(t.onClick,()=>i.onOpenChange(!1))})});xC.displayName=bC;function dv(t){return t?"open":"closed"}var _C="DialogTitleWarning",[ZH,wC]=Y3(_C,{contentName:gi,titleName:uv,docsSlug:"dialog"}),dB=({titleId:t})=>{const e=wC(_C),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},fB="DialogDescriptionWarning",hB=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wC(fB).contentName}}.`;return _.useEffect(()=>{var l;const i=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},EC=lC,mB=uC,SC=fC,fv=hC,hv=mC,NC=gC,CC=vC,pB=xC,Vp={exports:{}},$p={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function gB(){if(fE)return $p;fE=1;var t=Sf();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,i=t.useEffect,l=t.useLayoutEffect,u=t.useDebugValue;function f(y,b){var x=b(),E=s({inst:{value:x,getSnapshot:b}}),S=E[0].inst,C=E[1];return l(function(){S.value=x,S.getSnapshot=b,m(S)&&C({inst:S})},[y,x,b]),i(function(){return m(S)&&C({inst:S}),y(function(){m(S)&&C({inst:S})})},[y]),u(x),x}function m(y){var b=y.getSnapshot;y=y.value;try{var x=b();return!n(y,x)}catch{return!0}}function p(y,b){return b()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return $p.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:v,$p}var hE;function yB(){return hE||(hE=1,Vp.exports=gB()),Vp.exports}var vB=yB(),oc='[cmdk-group=""]',Gp='[cmdk-group-items=""]',bB='[cmdk-group-heading=""]',mv='[cmdk-item=""]',mE=`${mv}:not([aria-disabled="true"])`,Og="cmdk-item-select",ai="data-value",xB=(t,e,n)=>G3(t,e,n),TC=_.createContext(void 0),au=()=>_.useContext(TC),RC=_.createContext(void 0),pv=()=>_.useContext(RC),DC=_.createContext(void 0),AC=_.forwardRef((t,e)=>{let n=mo(()=>{var L,V;return{search:"",value:(V=(L=t.value)!=null?L:t.defaultValue)!=null?V:"",filtered:{count:0,items:new Map,groups:new Set}}}),s=mo(()=>new Set),i=mo(()=>new Map),l=mo(()=>new Map),u=mo(()=>new Set),f=IC(t),{label:m,children:p,value:v,onValueChange:y,filter:b,shouldFilter:x,loop:E,disablePointerSelection:S=!1,vimBindings:C=!0,...N}=t,T=Kn(),R=Kn(),I=Kn(),O=_.useRef(null),B=IB();yi(()=>{if(v!==void 0){let L=v.trim();n.current.value=L,k.emit()}},[v]),yi(()=>{B(6,ae)},[]);let k=_.useMemo(()=>({subscribe:L=>(u.current.add(L),()=>u.current.delete(L)),snapshot:()=>n.current,setState:(L,V,K)=>{var Z,ee,fe;if(!Object.is(n.current[L],V)){if(n.current[L]=V,L==="search")Q(),$(),B(1,se);else if(L==="value"&&(K||B(5,ae),((Z=f.current)==null?void 0:Z.value)!==void 0)){let he=V??"";(fe=(ee=f.current).onValueChange)==null||fe.call(ee,he);return}k.emit()}},emit:()=>{u.current.forEach(L=>L())}}),[]),Y=_.useMemo(()=>({value:(L,V,K)=>{var Z;V!==((Z=l.current.get(L))==null?void 0:Z.value)&&(l.current.set(L,{value:V,keywords:K}),n.current.filtered.items.set(L,P(V,K)),B(2,()=>{$(),k.emit()}))},item:(L,V)=>(s.current.add(L),V&&(i.current.has(V)?i.current.get(V).add(L):i.current.set(V,new Set([L]))),B(3,()=>{Q(),$(),n.current.value||se(),k.emit()}),()=>{l.current.delete(L),s.current.delete(L),n.current.filtered.items.delete(L);let K=re();B(4,()=>{Q(),(K==null?void 0:K.getAttribute("id"))===L&&se(),k.emit()})}),group:L=>(i.current.has(L)||i.current.set(L,new Set),()=>{l.current.delete(L),i.current.delete(L)}),filter:()=>f.current.shouldFilter,label:m||t["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:T,inputId:I,labelId:R,listInnerRef:O}),[]);function P(L,V){var K,Z;let ee=(Z=(K=f.current)==null?void 0:K.filter)!=null?Z:xB;return L?ee(L,n.current.search,V):0}function $(){if(!n.current.search||f.current.shouldFilter===!1)return;let L=n.current.filtered.items,V=[];n.current.filtered.groups.forEach(Z=>{let ee=i.current.get(Z),fe=0;ee.forEach(he=>{let xe=L.get(he);fe=Math.max(xe,fe)}),V.push([Z,fe])});let K=O.current;oe().sort((Z,ee)=>{var fe,he;let xe=Z.getAttribute("id"),Ie=ee.getAttribute("id");return((fe=L.get(Ie))!=null?fe:0)-((he=L.get(xe))!=null?he:0)}).forEach(Z=>{let ee=Z.closest(Gp);ee?ee.appendChild(Z.parentElement===ee?Z:Z.closest(`${Gp} > *`)):K.appendChild(Z.parentElement===K?Z:Z.closest(`${Gp} > *`))}),V.sort((Z,ee)=>ee[1]-Z[1]).forEach(Z=>{var ee;let fe=(ee=O.current)==null?void 0:ee.querySelector(`${oc}[${ai}="${encodeURIComponent(Z[0])}"]`);fe==null||fe.parentElement.appendChild(fe)})}function se(){let L=oe().find(K=>K.getAttribute("aria-disabled")!=="true"),V=L==null?void 0:L.getAttribute(ai);k.setState("value",V||void 0)}function Q(){var L,V,K,Z;if(!n.current.search||f.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let ee=0;for(let fe of s.current){let he=(V=(L=l.current.get(fe))==null?void 0:L.value)!=null?V:"",xe=(Z=(K=l.current.get(fe))==null?void 0:K.keywords)!=null?Z:[],Ie=P(he,xe);n.current.filtered.items.set(fe,Ie),Ie>0&&ee++}for(let[fe,he]of i.current)for(let xe of he)if(n.current.filtered.items.get(xe)>0){n.current.filtered.groups.add(fe);break}n.current.filtered.count=ee}function ae(){var L,V,K;let Z=re();Z&&(((L=Z.parentElement)==null?void 0:L.firstChild)===Z&&((K=(V=Z.closest(oc))==null?void 0:V.querySelector(bB))==null||K.scrollIntoView({block:"nearest"})),Z.scrollIntoView({block:"nearest"}))}function re(){var L;return(L=O.current)==null?void 0:L.querySelector(`${mv}[aria-selected="true"]`)}function oe(){var L;return Array.from(((L=O.current)==null?void 0:L.querySelectorAll(mE))||[])}function F(L){let V=oe()[L];V&&k.setState("value",V.getAttribute(ai))}function le(L){var V;let K=re(),Z=oe(),ee=Z.findIndex(he=>he===K),fe=Z[ee+L];(V=f.current)!=null&&V.loop&&(fe=ee+L<0?Z[Z.length-1]:ee+L===Z.length?Z[0]:Z[ee+L]),fe&&k.setState("value",fe.getAttribute(ai))}function te(L){let V=re(),K=V==null?void 0:V.closest(oc),Z;for(;K&&!Z;)K=L>0?DB(K,oc):AB(K,oc),Z=K==null?void 0:K.querySelector(mE);Z?k.setState("value",Z.getAttribute(ai)):le(L)}let de=()=>F(oe().length-1),M=L=>{L.preventDefault(),L.metaKey?de():L.altKey?te(1):le(1)},U=L=>{L.preventDefault(),L.metaKey?F(0):L.altKey?te(-1):le(-1)};return _.createElement($e.div,{ref:e,tabIndex:-1,...N,"cmdk-root":"",onKeyDown:L=>{var V;if((V=N.onKeyDown)==null||V.call(N,L),!L.defaultPrevented)switch(L.key){case"n":case"j":{C&&L.ctrlKey&&M(L);break}case"ArrowDown":{M(L);break}case"p":case"k":{C&&L.ctrlKey&&U(L);break}case"ArrowUp":{U(L);break}case"Home":{L.preventDefault(),F(0);break}case"End":{L.preventDefault(),de();break}case"Enter":if(!L.nativeEvent.isComposing&&L.keyCode!==229){L.preventDefault();let K=re();if(K){let Z=new Event(Og);K.dispatchEvent(Z)}}}}},_.createElement("label",{"cmdk-label":"",htmlFor:Y.inputId,id:Y.labelId,style:OB},m),Wf(t,L=>_.createElement(RC.Provider,{value:k},_.createElement(TC.Provider,{value:Y},L))))}),_B=_.forwardRef((t,e)=>{var n,s;let i=Kn(),l=_.useRef(null),u=_.useContext(DC),f=au(),m=IC(t),p=(s=(n=m.current)==null?void 0:n.forceMount)!=null?s:u==null?void 0:u.forceMount;yi(()=>{if(!p)return f.item(i,u==null?void 0:u.id)},[p]);let v=jC(i,l,[t.value,t.children,l],t.keywords),y=pv(),b=vi(B=>B.value&&B.value===v.current),x=vi(B=>p||f.filter()===!1?!0:B.search?B.filtered.items.get(i)>0:!0);_.useEffect(()=>{let B=l.current;if(!(!B||t.disabled))return B.addEventListener(Og,E),()=>B.removeEventListener(Og,E)},[x,t.onSelect,t.disabled]);function E(){var B,k;S(),(k=(B=m.current).onSelect)==null||k.call(B,v.current)}function S(){y.setState("value",v.current,!0)}if(!x)return null;let{disabled:C,value:N,onSelect:T,forceMount:R,keywords:I,...O}=t;return _.createElement($e.div,{ref:Pc([l,e]),...O,id:i,"cmdk-item":"",role:"option","aria-disabled":!!C,"aria-selected":!!b,"data-disabled":!!C,"data-selected":!!b,onPointerMove:C||f.getDisablePointerSelection()?void 0:S,onClick:C?void 0:E},t.children)}),wB=_.forwardRef((t,e)=>{let{heading:n,children:s,forceMount:i,...l}=t,u=Kn(),f=_.useRef(null),m=_.useRef(null),p=Kn(),v=au(),y=vi(x=>i||v.filter()===!1?!0:x.search?x.filtered.groups.has(u):!0);yi(()=>v.group(u),[]),jC(u,f,[t.value,t.heading,m]);let b=_.useMemo(()=>({id:u,forceMount:i}),[i]);return _.createElement($e.div,{ref:Pc([f,e]),...l,"cmdk-group":"",role:"presentation",hidden:y?void 0:!0},n&&_.createElement("div",{ref:m,"cmdk-group-heading":"","aria-hidden":!0,id:p},n),Wf(t,x=>_.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?p:void 0},_.createElement(DC.Provider,{value:b},x))))}),EB=_.forwardRef((t,e)=>{let{alwaysRender:n,...s}=t,i=_.useRef(null),l=vi(u=>!u.search);return!n&&!l?null:_.createElement($e.div,{ref:Pc([i,e]),...s,"cmdk-separator":"",role:"separator"})}),SB=_.forwardRef((t,e)=>{let{onValueChange:n,...s}=t,i=t.value!=null,l=pv(),u=vi(v=>v.search),f=vi(v=>v.value),m=au(),p=_.useMemo(()=>{var v;let y=(v=m.listInnerRef.current)==null?void 0:v.querySelector(`${mv}[${ai}="${encodeURIComponent(f)}"]`);return y==null?void 0:y.getAttribute("id")},[]);return _.useEffect(()=>{t.value!=null&&l.setState("search",t.value)},[t.value]),_.createElement($e.input,{ref:e,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":m.listId,"aria-labelledby":m.labelId,"aria-activedescendant":p,id:m.inputId,type:"text",value:i?t.value:u,onChange:v=>{i||l.setState("search",v.target.value),n==null||n(v.target.value)}})}),NB=_.forwardRef((t,e)=>{let{children:n,label:s="Suggestions",...i}=t,l=_.useRef(null),u=_.useRef(null),f=au();return _.useEffect(()=>{if(u.current&&l.current){let m=u.current,p=l.current,v,y=new ResizeObserver(()=>{v=requestAnimationFrame(()=>{let b=m.offsetHeight;p.style.setProperty("--cmdk-list-height",b.toFixed(1)+"px")})});return y.observe(m),()=>{cancelAnimationFrame(v),y.unobserve(m)}}},[]),_.createElement($e.div,{ref:Pc([l,e]),...i,"cmdk-list":"",role:"listbox","aria-label":s,id:f.listId},Wf(t,m=>_.createElement("div",{ref:Pc([u,f.listInnerRef]),"cmdk-list-sizer":""},m)))}),CB=_.forwardRef((t,e)=>{let{open:n,onOpenChange:s,overlayClassName:i,contentClassName:l,container:u,...f}=t;return _.createElement(EC,{open:n,onOpenChange:s},_.createElement(SC,{container:u},_.createElement(fv,{"cmdk-overlay":"",className:i}),_.createElement(hv,{"aria-label":t.label,"cmdk-dialog":"",className:l},_.createElement(AC,{ref:e,...f}))))}),TB=_.forwardRef((t,e)=>vi(n=>n.filtered.count===0)?_.createElement($e.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),RB=_.forwardRef((t,e)=>{let{progress:n,children:s,label:i="Loading...",...l}=t;return _.createElement($e.div,{ref:e,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Wf(t,u=>_.createElement("div",{"aria-hidden":!0},u)))}),yn=Object.assign(AC,{List:NB,Item:_B,Input:SB,Group:wB,Separator:EB,Dialog:CB,Empty:TB,Loading:RB});function DB(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function AB(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function IC(t){let e=_.useRef(t);return yi(()=>{e.current=t}),e}var yi=typeof window>"u"?_.useEffect:_.useLayoutEffect;function mo(t){let e=_.useRef();return e.current===void 0&&(e.current=t()),e}function Pc(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function vi(t){let e=pv(),n=()=>t(e.snapshot());return vB.useSyncExternalStore(e.subscribe,n,n)}function jC(t,e,n,s=[]){let i=_.useRef(),l=au();return yi(()=>{var u;let f=(()=>{var p;for(let v of n){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(p=v.current.textContent)==null?void 0:p.trim():i.current}})(),m=s.map(p=>p.trim());l.value(t,f,m),(u=e.current)==null||u.setAttribute(ai,f),i.current=f}),i}var IB=()=>{let[t,e]=_.useState(),n=mo(()=>new Map);return yi(()=>{n.current.forEach(s=>s()),n.current=new Map},[t]),(s,i)=>{n.current.set(s,i),e({})}};function jB(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function Wf({asChild:t,children:e},n){return t&&_.isValidElement(e)?_.cloneElement(jB(e),{ref:e.ref},n(e.props.children)):n(e)}var OB={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Kf=EC,gv=mB,kB=SC,OC=_.forwardRef(({className:t,...e},n)=>d.jsx(fv,{ref:n,className:De("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));OC.displayName=fv.displayName;const iu=_.forwardRef(({className:t,children:e,...n},s)=>d.jsxs(kB,{children:[d.jsx(OC,{}),d.jsxs(hv,{ref:s,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(pB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(SS,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));iu.displayName=hv.displayName;const ou=({className:t,...e})=>d.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ou.displayName="DialogHeader";const lu=_.forwardRef(({className:t,...e},n)=>d.jsx(NC,{ref:n,className:De("text-lg font-semibold leading-none tracking-tight",t),...e}));lu.displayName=NC.displayName;const MB=_.forwardRef(({className:t,...e},n)=>d.jsx(CC,{ref:n,className:De("text-sm text-muted-foreground",t),...e}));MB.displayName=CC.displayName;const kC=_.forwardRef(({className:t,...e},n)=>d.jsx(yn,{ref:n,className:De("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));kC.displayName=yn.displayName;const MC=_.forwardRef(({className:t,...e},n)=>d.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[d.jsx(wS,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),d.jsx(yn.Input,{ref:n,className:De("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));MC.displayName=yn.Input.displayName;const PC=_.forwardRef(({className:t,...e},n)=>d.jsx(yn.List,{ref:n,className:De("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));PC.displayName=yn.List.displayName;const LC=_.forwardRef((t,e)=>d.jsx(yn.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));LC.displayName=yn.Empty.displayName;const UC=_.forwardRef(({className:t,...e},n)=>d.jsx(yn.Group,{ref:n,className:De("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));UC.displayName=yn.Group.displayName;const PB=_.forwardRef(({className:t,...e},n)=>d.jsx(yn.Separator,{ref:n,className:De("-mx-1 h-px bg-border",t),...e}));PB.displayName=yn.Separator.displayName;const BC=_.forwardRef(({className:t,...e},n)=>d.jsx(yn.Item,{ref:n,className:De("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...e}));BC.displayName=yn.Item.displayName;const LB=["top","right","bottom","left"],ga=Math.min,Cn=Math.max,yf=Math.round,kd=Math.floor,Or=t=>({x:t,y:t}),UB={left:"right",right:"left",bottom:"top",top:"bottom"},BB={start:"end",end:"start"};function kg(t,e,n){return Cn(t,ga(e,n))}function fs(t,e){return typeof t=="function"?t(e):t}function hs(t){return t.split("-")[0]}function Zo(t){return t.split("-")[1]}function yv(t){return t==="x"?"y":"x"}function vv(t){return t==="y"?"height":"width"}function ya(t){return["top","bottom"].includes(hs(t))?"y":"x"}function bv(t){return yv(ya(t))}function zB(t,e,n){n===void 0&&(n=!1);const s=Zo(t),i=bv(t),l=vv(i);let u=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=vf(u)),[u,vf(u)]}function FB(t){const e=vf(t);return[Mg(t),e,Mg(e)]}function Mg(t){return t.replace(/start|end/g,e=>BB[e])}function HB(t,e,n){const s=["left","right"],i=["right","left"],l=["top","bottom"],u=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:s:e?s:i;case"left":case"right":return e?l:u;default:return[]}}function qB(t,e,n,s){const i=Zo(t);let l=HB(hs(t),n==="start",s);return i&&(l=l.map(u=>u+"-"+i),e&&(l=l.concat(l.map(Mg)))),l}function vf(t){return t.replace(/left|right|bottom|top/g,e=>UB[e])}function VB(t){return{top:0,right:0,bottom:0,left:0,...t}}function zC(t){return typeof t!="number"?VB(t):{top:t,right:t,bottom:t,left:t}}function bf(t){const{x:e,y:n,width:s,height:i}=t;return{width:s,height:i,top:n,left:e,right:e+s,bottom:n+i,x:e,y:n}}function pE(t,e,n){let{reference:s,floating:i}=t;const l=ya(e),u=bv(e),f=vv(u),m=hs(e),p=l==="y",v=s.x+s.width/2-i.width/2,y=s.y+s.height/2-i.height/2,b=s[f]/2-i[f]/2;let x;switch(m){case"top":x={x:v,y:s.y-i.height};break;case"bottom":x={x:v,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y};break;case"left":x={x:s.x-i.width,y};break;default:x={x:s.x,y:s.y}}switch(Zo(e)){case"start":x[u]-=b*(n&&p?-1:1);break;case"end":x[u]+=b*(n&&p?-1:1);break}return x}const $B=async(t,e,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:l=[],platform:u}=n,f=l.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:t,floating:e,strategy:i}),{x:v,y}=pE(p,s,m),b=s,x={},E=0;for(let S=0;S<f.length;S++){const{name:C,fn:N}=f[S],{x:T,y:R,data:I,reset:O}=await N({x:v,y,initialPlacement:s,placement:b,strategy:i,middlewareData:x,rects:p,platform:u,elements:{reference:t,floating:e}});v=T??v,y=R??y,x={...x,[C]:{...x[C],...I}},O&&E<=50&&(E++,typeof O=="object"&&(O.placement&&(b=O.placement),O.rects&&(p=O.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:v,y}=pE(p,b,m)),S=-1)}return{x:v,y,placement:b,strategy:i,middlewareData:x}};async function Lc(t,e){var n;e===void 0&&(e={});const{x:s,y:i,platform:l,rects:u,elements:f,strategy:m}=t,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:y="floating",altBoundary:b=!1,padding:x=0}=fs(e,t),E=zC(x),C=f[b?y==="floating"?"reference":"floating":y],N=bf(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(C)))==null||n?C:C.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:p,rootBoundary:v,strategy:m})),T=y==="floating"?{x:s,y:i,width:u.floating.width,height:u.floating.height}:u.reference,R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),I=await(l.isElement==null?void 0:l.isElement(R))?await(l.getScale==null?void 0:l.getScale(R))||{x:1,y:1}:{x:1,y:1},O=bf(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:T,offsetParent:R,strategy:m}):T);return{top:(N.top-O.top+E.top)/I.y,bottom:(O.bottom-N.bottom+E.bottom)/I.y,left:(N.left-O.left+E.left)/I.x,right:(O.right-N.right+E.right)/I.x}}const GB=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:i,rects:l,platform:u,elements:f,middlewareData:m}=e,{element:p,padding:v=0}=fs(t,e)||{};if(p==null)return{};const y=zC(v),b={x:n,y:s},x=bv(i),E=vv(x),S=await u.getDimensions(p),C=x==="y",N=C?"top":"left",T=C?"bottom":"right",R=C?"clientHeight":"clientWidth",I=l.reference[E]+l.reference[x]-b[x]-l.floating[E],O=b[x]-l.reference[x],B=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let k=B?B[R]:0;(!k||!await(u.isElement==null?void 0:u.isElement(B)))&&(k=f.floating[R]||l.floating[E]);const Y=I/2-O/2,P=k/2-S[E]/2-1,$=ga(y[N],P),se=ga(y[T],P),Q=$,ae=k-S[E]-se,re=k/2-S[E]/2+Y,oe=kg(Q,re,ae),F=!m.arrow&&Zo(i)!=null&&re!==oe&&l.reference[E]/2-(re<Q?$:se)-S[E]/2<0,le=F?re<Q?re-Q:re-ae:0;return{[x]:b[x]+le,data:{[x]:oe,centerOffset:re-oe-le,...F&&{alignmentOffset:le}},reset:F}}}),YB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:i,middlewareData:l,rects:u,initialPlacement:f,platform:m,elements:p}=e,{mainAxis:v=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:S=!0,...C}=fs(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const N=hs(i),T=ya(f),R=hs(f)===f,I=await(m.isRTL==null?void 0:m.isRTL(p.floating)),O=b||(R||!S?[vf(f)]:FB(f)),B=E!=="none";!b&&B&&O.push(...qB(f,S,E,I));const k=[f,...O],Y=await Lc(e,C),P=[];let $=((s=l.flip)==null?void 0:s.overflows)||[];if(v&&P.push(Y[N]),y){const re=zB(i,u,I);P.push(Y[re[0]],Y[re[1]])}if($=[...$,{placement:i,overflows:P}],!P.every(re=>re<=0)){var se,Q;const re=(((se=l.flip)==null?void 0:se.index)||0)+1,oe=k[re];if(oe)return{data:{index:re,overflows:$},reset:{placement:oe}};let F=(Q=$.filter(le=>le.overflows[0]<=0).sort((le,te)=>le.overflows[1]-te.overflows[1])[0])==null?void 0:Q.placement;if(!F)switch(x){case"bestFit":{var ae;const le=(ae=$.filter(te=>{if(B){const de=ya(te.placement);return de===T||de==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(de=>de>0).reduce((de,M)=>de+M,0)]).sort((te,de)=>te[1]-de[1])[0])==null?void 0:ae[0];le&&(F=le);break}case"initialPlacement":F=f;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function gE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function yE(t){return LB.some(e=>t[e]>=0)}const WB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...i}=fs(t,e);switch(s){case"referenceHidden":{const l=await Lc(e,{...i,elementContext:"reference"}),u=gE(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:yE(u)}}}case"escaped":{const l=await Lc(e,{...i,altBoundary:!0}),u=gE(l,n.floating);return{data:{escapedOffsets:u,escaped:yE(u)}}}default:return{}}}}};async function KB(t,e){const{placement:n,platform:s,elements:i}=t,l=await(s.isRTL==null?void 0:s.isRTL(i.floating)),u=hs(n),f=Zo(n),m=ya(n)==="y",p=["left","top"].includes(u)?-1:1,v=l&&m?-1:1,y=fs(e,t);let{mainAxis:b,crossAxis:x,alignmentAxis:E}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return f&&typeof E=="number"&&(x=f==="end"?E*-1:E),m?{x:x*v,y:b*p}:{x:b*p,y:x*v}}const QB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:i,y:l,placement:u,middlewareData:f}=e,m=await KB(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(s=f.arrow)!=null&&s.alignmentOffset?{}:{x:i+m.x,y:l+m.y,data:{...m,placement:u}}}}},XB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:i}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:C=>{let{x:N,y:T}=C;return{x:N,y:T}}},...m}=fs(t,e),p={x:n,y:s},v=await Lc(e,m),y=ya(hs(i)),b=yv(y);let x=p[b],E=p[y];if(l){const C=b==="y"?"top":"left",N=b==="y"?"bottom":"right",T=x+v[C],R=x-v[N];x=kg(T,x,R)}if(u){const C=y==="y"?"top":"left",N=y==="y"?"bottom":"right",T=E+v[C],R=E-v[N];E=kg(T,E,R)}const S=f.fn({...e,[b]:x,[y]:E});return{...S,data:{x:S.x-n,y:S.y-s,enabled:{[b]:l,[y]:u}}}}}},ZB=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:i,rects:l,middlewareData:u}=e,{offset:f=0,mainAxis:m=!0,crossAxis:p=!0}=fs(t,e),v={x:n,y:s},y=ya(i),b=yv(y);let x=v[b],E=v[y];const S=fs(f,e),C=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(m){const R=b==="y"?"height":"width",I=l.reference[b]-l.floating[R]+C.mainAxis,O=l.reference[b]+l.reference[R]-C.mainAxis;x<I?x=I:x>O&&(x=O)}if(p){var N,T;const R=b==="y"?"width":"height",I=["top","left"].includes(hs(i)),O=l.reference[y]-l.floating[R]+(I&&((N=u.offset)==null?void 0:N[y])||0)+(I?0:C.crossAxis),B=l.reference[y]+l.reference[R]+(I?0:((T=u.offset)==null?void 0:T[y])||0)-(I?C.crossAxis:0);E<O?E=O:E>B&&(E=B)}return{[b]:x,[y]:E}}}},JB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:i,rects:l,platform:u,elements:f}=e,{apply:m=()=>{},...p}=fs(t,e),v=await Lc(e,p),y=hs(i),b=Zo(i),x=ya(i)==="y",{width:E,height:S}=l.floating;let C,N;y==="top"||y==="bottom"?(C=y,N=b===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(N=y,C=b==="end"?"top":"bottom");const T=S-v.top-v.bottom,R=E-v.left-v.right,I=ga(S-v[C],T),O=ga(E-v[N],R),B=!e.middlewareData.shift;let k=I,Y=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(Y=R),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(k=T),B&&!b){const $=Cn(v.left,0),se=Cn(v.right,0),Q=Cn(v.top,0),ae=Cn(v.bottom,0);x?Y=E-2*($!==0||se!==0?$+se:Cn(v.left,v.right)):k=S-2*(Q!==0||ae!==0?Q+ae:Cn(v.top,v.bottom))}await m({...e,availableWidth:Y,availableHeight:k});const P=await u.getDimensions(f.floating);return E!==P.width||S!==P.height?{reset:{rects:!0}}:{}}}};function Qf(){return typeof window<"u"}function Jo(t){return FC(t)?(t.nodeName||"").toLowerCase():"#document"}function Tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Pr(t){var e;return(e=(FC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function FC(t){return Qf()?t instanceof Node||t instanceof Tn(t).Node:!1}function hr(t){return Qf()?t instanceof Element||t instanceof Tn(t).Element:!1}function kr(t){return Qf()?t instanceof HTMLElement||t instanceof Tn(t).HTMLElement:!1}function vE(t){return!Qf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tn(t).ShadowRoot}function cu(t){const{overflow:e,overflowX:n,overflowY:s,display:i}=mr(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!["inline","contents"].includes(i)}function e6(t){return["table","td","th"].includes(Jo(t))}function Xf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function xv(t){const e=_v(),n=hr(t)?mr(t):t;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function t6(t){let e=va(t);for(;kr(e)&&!Oo(e);){if(xv(e))return e;if(Xf(e))return null;e=va(e)}return null}function _v(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Oo(t){return["html","body","#document"].includes(Jo(t))}function mr(t){return Tn(t).getComputedStyle(t)}function Zf(t){return hr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function va(t){if(Jo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vE(t)&&t.host||Pr(t);return vE(e)?e.host:e}function HC(t){const e=va(t);return Oo(e)?t.ownerDocument?t.ownerDocument.body:t.body:kr(e)&&cu(e)?e:HC(e)}function Uc(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=HC(t),l=i===((s=t.ownerDocument)==null?void 0:s.body),u=Tn(i);if(l){const f=Pg(u);return e.concat(u,u.visualViewport||[],cu(i)?i:[],f&&n?Uc(f):[])}return e.concat(i,Uc(i,[],n))}function Pg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function qC(t){const e=mr(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const i=kr(t),l=i?t.offsetWidth:n,u=i?t.offsetHeight:s,f=yf(n)!==l||yf(s)!==u;return f&&(n=l,s=u),{width:n,height:s,$:f}}function wv(t){return hr(t)?t:t.contextElement}function So(t){const e=wv(t);if(!kr(e))return Or(1);const n=e.getBoundingClientRect(),{width:s,height:i,$:l}=qC(e);let u=(l?yf(n.width):n.width)/s,f=(l?yf(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const n6=Or(0);function VC(t){const e=Tn(t);return!_v()||!e.visualViewport?n6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function r6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tn(t)?!1:e}function bi(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=wv(t);let u=Or(1);e&&(s?hr(s)&&(u=So(s)):u=So(t));const f=r6(l,n,s)?VC(l):Or(0);let m=(i.left+f.x)/u.x,p=(i.top+f.y)/u.y,v=i.width/u.x,y=i.height/u.y;if(l){const b=Tn(l),x=s&&hr(s)?Tn(s):s;let E=b,S=Pg(E);for(;S&&s&&x!==E;){const C=So(S),N=S.getBoundingClientRect(),T=mr(S),R=N.left+(S.clientLeft+parseFloat(T.paddingLeft))*C.x,I=N.top+(S.clientTop+parseFloat(T.paddingTop))*C.y;m*=C.x,p*=C.y,v*=C.x,y*=C.y,m+=R,p+=I,E=Tn(S),S=Pg(E)}}return bf({width:v,height:y,x:m,y:p})}function Ev(t,e){const n=Zf(t).scrollLeft;return e?e.left+n:bi(Pr(t)).left+n}function $C(t,e,n){n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=s.left+e.scrollLeft-(n?0:Ev(t,s)),l=s.top+e.scrollTop;return{x:i,y:l}}function s6(t){let{elements:e,rect:n,offsetParent:s,strategy:i}=t;const l=i==="fixed",u=Pr(s),f=e?Xf(e.floating):!1;if(s===u||f&&l)return n;let m={scrollLeft:0,scrollTop:0},p=Or(1);const v=Or(0),y=kr(s);if((y||!y&&!l)&&((Jo(s)!=="body"||cu(u))&&(m=Zf(s)),kr(s))){const x=bi(s);p=So(s),v.x=x.x+s.clientLeft,v.y=x.y+s.clientTop}const b=u&&!y&&!l?$C(u,m,!0):Or(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-m.scrollLeft*p.x+v.x+b.x,y:n.y*p.y-m.scrollTop*p.y+v.y+b.y}}function a6(t){return Array.from(t.getClientRects())}function i6(t){const e=Pr(t),n=Zf(t),s=t.ownerDocument.body,i=Cn(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),l=Cn(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-n.scrollLeft+Ev(t);const f=-n.scrollTop;return mr(s).direction==="rtl"&&(u+=Cn(e.clientWidth,s.clientWidth)-i),{width:i,height:l,x:u,y:f}}function o6(t,e){const n=Tn(t),s=Pr(t),i=n.visualViewport;let l=s.clientWidth,u=s.clientHeight,f=0,m=0;if(i){l=i.width,u=i.height;const p=_v();(!p||p&&e==="fixed")&&(f=i.offsetLeft,m=i.offsetTop)}return{width:l,height:u,x:f,y:m}}function l6(t,e){const n=bi(t,!0,e==="fixed"),s=n.top+t.clientTop,i=n.left+t.clientLeft,l=kr(t)?So(t):Or(1),u=t.clientWidth*l.x,f=t.clientHeight*l.y,m=i*l.x,p=s*l.y;return{width:u,height:f,x:m,y:p}}function bE(t,e,n){let s;if(e==="viewport")s=o6(t,n);else if(e==="document")s=i6(Pr(t));else if(hr(e))s=l6(e,n);else{const i=VC(t);s={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return bf(s)}function GC(t,e){const n=va(t);return n===e||!hr(n)||Oo(n)?!1:mr(n).position==="fixed"||GC(n,e)}function c6(t,e){const n=e.get(t);if(n)return n;let s=Uc(t,[],!1).filter(f=>hr(f)&&Jo(f)!=="body"),i=null;const l=mr(t).position==="fixed";let u=l?va(t):t;for(;hr(u)&&!Oo(u);){const f=mr(u),m=xv(u);!m&&f.position==="fixed"&&(i=null),(l?!m&&!i:!m&&f.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||cu(u)&&!m&&GC(t,u))?s=s.filter(v=>v!==u):i=f,u=va(u)}return e.set(t,s),s}function u6(t){let{element:e,boundary:n,rootBoundary:s,strategy:i}=t;const u=[...n==="clippingAncestors"?Xf(e)?[]:c6(e,this._c):[].concat(n),s],f=u[0],m=u.reduce((p,v)=>{const y=bE(e,v,i);return p.top=Cn(y.top,p.top),p.right=ga(y.right,p.right),p.bottom=ga(y.bottom,p.bottom),p.left=Cn(y.left,p.left),p},bE(e,f,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function d6(t){const{width:e,height:n}=qC(t);return{width:e,height:n}}function f6(t,e,n){const s=kr(e),i=Pr(e),l=n==="fixed",u=bi(t,!0,l,e);let f={scrollLeft:0,scrollTop:0};const m=Or(0);if(s||!s&&!l)if((Jo(e)!=="body"||cu(i))&&(f=Zf(e)),s){const b=bi(e,!0,l,e);m.x=b.x+e.clientLeft,m.y=b.y+e.clientTop}else i&&(m.x=Ev(i));const p=i&&!s&&!l?$C(i,f):Or(0),v=u.left+f.scrollLeft-m.x-p.x,y=u.top+f.scrollTop-m.y-p.y;return{x:v,y,width:u.width,height:u.height}}function Yp(t){return mr(t).position==="static"}function xE(t,e){if(!kr(t)||mr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Pr(t)===n&&(n=n.ownerDocument.body),n}function YC(t,e){const n=Tn(t);if(Xf(t))return n;if(!kr(t)){let i=va(t);for(;i&&!Oo(i);){if(hr(i)&&!Yp(i))return i;i=va(i)}return n}let s=xE(t,e);for(;s&&e6(s)&&Yp(s);)s=xE(s,e);return s&&Oo(s)&&Yp(s)&&!xv(s)?n:s||t6(t)||n}const h6=async function(t){const e=this.getOffsetParent||YC,n=this.getDimensions,s=await n(t.floating);return{reference:f6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function m6(t){return mr(t).direction==="rtl"}const p6={convertOffsetParentRelativeRectToViewportRelativeRect:s6,getDocumentElement:Pr,getClippingRect:u6,getOffsetParent:YC,getElementRects:h6,getClientRects:a6,getDimensions:d6,getScale:So,isElement:hr,isRTL:m6};function WC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function g6(t,e){let n=null,s;const i=Pr(t);function l(){var f;clearTimeout(s),(f=n)==null||f.disconnect(),n=null}function u(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),l();const p=t.getBoundingClientRect(),{left:v,top:y,width:b,height:x}=p;if(f||e(),!b||!x)return;const E=kd(y),S=kd(i.clientWidth-(v+b)),C=kd(i.clientHeight-(y+x)),N=kd(v),R={rootMargin:-E+"px "+-S+"px "+-C+"px "+-N+"px",threshold:Cn(0,ga(1,m))||1};let I=!0;function O(B){const k=B[0].intersectionRatio;if(k!==m){if(!I)return u();k?u(!1,k):s=setTimeout(()=>{u(!1,1e-7)},1e3)}k===1&&!WC(p,t.getBoundingClientRect())&&u(),I=!1}try{n=new IntersectionObserver(O,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,R)}n.observe(t)}return u(!0),l}function y6(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=s,p=wv(t),v=i||l?[...p?Uc(p):[],...Uc(e)]:[];v.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),l&&N.addEventListener("resize",n)});const y=p&&f?g6(p,n):null;let b=-1,x=null;u&&(x=new ResizeObserver(N=>{let[T]=N;T&&T.target===p&&x&&(x.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var R;(R=x)==null||R.observe(e)})),n()}),p&&!m&&x.observe(p),x.observe(e));let E,S=m?bi(t):null;m&&C();function C(){const N=bi(t);S&&!WC(S,N)&&n(),S=N,E=requestAnimationFrame(C)}return n(),()=>{var N;v.forEach(T=>{i&&T.removeEventListener("scroll",n),l&&T.removeEventListener("resize",n)}),y==null||y(),(N=x)==null||N.disconnect(),x=null,m&&cancelAnimationFrame(E)}}const v6=QB,b6=XB,x6=YB,_6=JB,w6=WB,_E=GB,E6=ZB,S6=(t,e,n)=>{const s=new Map,i={platform:p6,...n},l={...i.platform,_c:s};return $B(t,e,{...i,platform:l})};var $d=typeof document<"u"?_.useLayoutEffect:_.useEffect;function xf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!xf(t[s],e[s]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,i[s]))return!1;for(s=n;s--!==0;){const l=i[s];if(!(l==="_owner"&&t.$$typeof)&&!xf(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function KC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function wE(t,e){const n=KC(t);return Math.round(e*n)/n}function Wp(t){const e=_.useRef(t);return $d(()=>{e.current=t}),e}function N6(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:m,open:p}=t,[v,y]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,x]=_.useState(s);xf(b,s)||x(s);const[E,S]=_.useState(null),[C,N]=_.useState(null),T=_.useCallback(te=>{te!==B.current&&(B.current=te,S(te))},[]),R=_.useCallback(te=>{te!==k.current&&(k.current=te,N(te))},[]),I=l||E,O=u||C,B=_.useRef(null),k=_.useRef(null),Y=_.useRef(v),P=m!=null,$=Wp(m),se=Wp(i),Q=Wp(p),ae=_.useCallback(()=>{if(!B.current||!k.current)return;const te={placement:e,strategy:n,middleware:b};se.current&&(te.platform=se.current),S6(B.current,k.current,te).then(de=>{const M={...de,isPositioned:Q.current!==!1};re.current&&!xf(Y.current,M)&&(Y.current=M,ny.flushSync(()=>{y(M)}))})},[b,e,n,se,Q]);$d(()=>{p===!1&&Y.current.isPositioned&&(Y.current.isPositioned=!1,y(te=>({...te,isPositioned:!1})))},[p]);const re=_.useRef(!1);$d(()=>(re.current=!0,()=>{re.current=!1}),[]),$d(()=>{if(I&&(B.current=I),O&&(k.current=O),I&&O){if($.current)return $.current(I,O,ae);ae()}},[I,O,ae,$,P]);const oe=_.useMemo(()=>({reference:B,floating:k,setReference:T,setFloating:R}),[T,R]),F=_.useMemo(()=>({reference:I,floating:O}),[I,O]),le=_.useMemo(()=>{const te={position:n,left:0,top:0};if(!F.floating)return te;const de=wE(F.floating,v.x),M=wE(F.floating,v.y);return f?{...te,transform:"translate("+de+"px, "+M+"px)",...KC(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:de,top:M}},[n,f,F.floating,v.x,v.y]);return _.useMemo(()=>({...v,update:ae,refs:oe,elements:F,floatingStyles:le}),[v,ae,oe,F,le])}const C6=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:i}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?_E({element:s.current,padding:i}).fn(n):{}:s?_E({element:s,padding:i}).fn(n):{}}}},T6=(t,e)=>({...v6(t),options:[t,e]}),R6=(t,e)=>({...b6(t),options:[t,e]}),D6=(t,e)=>({...E6(t),options:[t,e]}),A6=(t,e)=>({...x6(t),options:[t,e]}),I6=(t,e)=>({..._6(t),options:[t,e]}),j6=(t,e)=>({...w6(t),options:[t,e]}),O6=(t,e)=>({...C6(t),options:[t,e]});var k6="Arrow",QC=_.forwardRef((t,e)=>{const{children:n,width:s=10,height:i=5,...l}=t;return d.jsx($e.svg,{...l,ref:e,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});QC.displayName=k6;var M6=QC;function XC(t){const[e,n]=_.useState(void 0);return ma(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,f;if("borderBoxSize"in l){const m=l.borderBoxSize,p=Array.isArray(m)?m[0]:m;u=p.inlineSize,f=p.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var Sv="Popper",[ZC,Jf]=Xo(Sv),[P6,JC]=ZC(Sv),eT=t=>{const{__scopePopper:e,children:n}=t,[s,i]=_.useState(null);return d.jsx(P6,{scope:e,anchor:s,onAnchorChange:i,children:n})};eT.displayName=Sv;var tT="PopperAnchor",nT=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...i}=t,l=JC(tT,n),u=_.useRef(null),f=an(e,u);return _.useEffect(()=>{l.onAnchorChange((s==null?void 0:s.current)||u.current)}),s?null:d.jsx($e.div,{...i,ref:f})});nT.displayName=tT;var Nv="PopperContent",[L6,U6]=ZC(Nv),rT=_.forwardRef((t,e)=>{var fe,he,xe,Ie,Kt,Zn;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:y="partial",hideWhenDetached:b=!1,updatePositionStrategy:x="optimized",onPlaced:E,...S}=t,C=JC(Nv,n),[N,T]=_.useState(null),R=an(e,qt=>T(qt)),[I,O]=_.useState(null),B=XC(I),k=(B==null?void 0:B.width)??0,Y=(B==null?void 0:B.height)??0,P=s+(l!=="center"?"-"+l:""),$=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},se=Array.isArray(p)?p:[p],Q=se.length>0,ae={padding:$,boundary:se.filter(z6),altBoundary:Q},{refs:re,floatingStyles:oe,placement:F,isPositioned:le,middlewareData:te}=N6({strategy:"fixed",placement:P,whileElementsMounted:(...qt)=>y6(...qt,{animationFrame:x==="always"}),elements:{reference:C.anchor},middleware:[T6({mainAxis:i+Y,alignmentAxis:u}),m&&R6({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?D6():void 0,...ae}),m&&A6({...ae}),I6({...ae,apply:({elements:qt,rects:Jn,availableWidth:_s,availableHeight:er})=>{const{width:tr,height:Lr}=Jn.reference,Tt=qt.floating.style;Tt.setProperty("--radix-popper-available-width",`${_s}px`),Tt.setProperty("--radix-popper-available-height",`${er}px`),Tt.setProperty("--radix-popper-anchor-width",`${tr}px`),Tt.setProperty("--radix-popper-anchor-height",`${Lr}px`)}}),I&&O6({element:I,padding:f}),F6({arrowWidth:k,arrowHeight:Y}),b&&j6({strategy:"referenceHidden",...ae})]}),[de,M]=iT(F),U=pa(E);ma(()=>{le&&(U==null||U())},[le,U]);const L=(fe=te.arrow)==null?void 0:fe.x,V=(he=te.arrow)==null?void 0:he.y,K=((xe=te.arrow)==null?void 0:xe.centerOffset)!==0,[Z,ee]=_.useState();return ma(()=>{N&&ee(window.getComputedStyle(N).zIndex)},[N]),d.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:le?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(Ie=te.transformOrigin)==null?void 0:Ie.x,(Kt=te.transformOrigin)==null?void 0:Kt.y].join(" "),...((Zn=te.hide)==null?void 0:Zn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(L6,{scope:n,placedSide:de,onArrowChange:O,arrowX:L,arrowY:V,shouldHideArrow:K,children:d.jsx($e.div,{"data-side":de,"data-align":M,...S,ref:R,style:{...S.style,animation:le?void 0:"none"}})})})});rT.displayName=Nv;var sT="PopperArrow",B6={top:"bottom",right:"left",bottom:"top",left:"right"},aT=_.forwardRef(function(e,n){const{__scopePopper:s,...i}=e,l=U6(sT,s),u=B6[l.placedSide];return d.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:d.jsx(M6,{...i,ref:n,style:{...i.style,display:"block"}})})});aT.displayName=sT;function z6(t){return t!==null}var F6=t=>({name:"transformOrigin",options:t,fn(e){var C,N,T;const{placement:n,rects:s,middlewareData:i}=e,u=((C=i.arrow)==null?void 0:C.centerOffset)!==0,f=u?0:t.arrowWidth,m=u?0:t.arrowHeight,[p,v]=iT(n),y={start:"0%",center:"50%",end:"100%"}[v],b=(((N=i.arrow)==null?void 0:N.x)??0)+f/2,x=(((T=i.arrow)==null?void 0:T.y)??0)+m/2;let E="",S="";return p==="bottom"?(E=u?y:`${b}px`,S=`${-m}px`):p==="top"?(E=u?y:`${b}px`,S=`${s.floating.height+m}px`):p==="right"?(E=`${-m}px`,S=u?y:`${x}px`):p==="left"&&(E=`${s.floating.width+m}px`,S=u?y:`${x}px`),{data:{x:E,y:S}}}});function iT(t){const[e,n="center"]=t.split("-");return[e,n]}var oT=eT,Cv=nT,lT=rT,cT=aT,Tv="Popover",[uT,JH]=Xo(Tv,[Jf]),uu=Jf(),[H6,_a]=uT(Tv),dT=t=>{const{__scopePopover:e,children:n,open:s,defaultOpen:i,onOpenChange:l,modal:u=!1}=t,f=uu(e),m=_.useRef(null),[p,v]=_.useState(!1),[y=!1,b]=su({prop:s,defaultProp:i,onChange:l});return d.jsx(oT,{...f,children:d.jsx(H6,{scope:e,contentId:Kn(),triggerRef:m,open:y,onOpenChange:b,onOpenToggle:_.useCallback(()=>b(x=>!x),[b]),hasCustomAnchor:p,onCustomAnchorAdd:_.useCallback(()=>v(!0),[]),onCustomAnchorRemove:_.useCallback(()=>v(!1),[]),modal:u,children:n})})};dT.displayName=Tv;var fT="PopoverAnchor",q6=_.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=_a(fT,n),l=uu(n),{onCustomAnchorAdd:u,onCustomAnchorRemove:f}=i;return _.useEffect(()=>(u(),()=>f()),[u,f]),d.jsx(Cv,{...l,...s,ref:e})});q6.displayName=fT;var hT="PopoverTrigger",mT=_.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=_a(hT,n),l=uu(n),u=an(e,i.triggerRef),f=d.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":bT(i.open),...s,ref:u,onClick:ft(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?f:d.jsx(Cv,{asChild:!0,...l,children:f})});mT.displayName=hT;var Rv="PopoverPortal",[V6,$6]=uT(Rv,{forceMount:void 0}),pT=t=>{const{__scopePopover:e,forceMount:n,children:s,container:i}=t,l=_a(Rv,e);return d.jsx(V6,{scope:e,forceMount:n,children:d.jsx(xs,{present:n||l.open,children:d.jsx(iv,{asChild:!0,container:i,children:s})})})};pT.displayName=Rv;var ko="PopoverContent",gT=_.forwardRef((t,e)=>{const n=$6(ko,t.__scopePopover),{forceMount:s=n.forceMount,...i}=t,l=_a(ko,t.__scopePopover);return d.jsx(xs,{present:s||l.open,children:l.modal?d.jsx(G6,{...i,ref:e}):d.jsx(Y6,{...i,ref:e})})});gT.displayName=ko;var G6=_.forwardRef((t,e)=>{const n=_a(ko,t.__scopePopover),s=_.useRef(null),i=an(e,s),l=_.useRef(!1);return _.useEffect(()=>{const u=s.current;if(u)return iC(u)},[]),d.jsx(ov,{as:$f,allowPinchZoom:!0,children:d.jsx(yT,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(t.onCloseAutoFocus,u=>{var f;u.preventDefault(),l.current||(f=n.triggerRef.current)==null||f.focus()}),onPointerDownOutside:ft(t.onPointerDownOutside,u=>{const f=u.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,p=f.button===2||m;l.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:ft(t.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),Y6=_.forwardRef((t,e)=>{const n=_a(ko,t.__scopePopover),s=_.useRef(!1),i=_.useRef(!1);return d.jsx(yT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,f;(u=t.onCloseAutoFocus)==null||u.call(t,l),l.defaultPrevented||(s.current||(f=n.triggerRef.current)==null||f.focus(),l.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:l=>{var m,p;(m=t.onInteractOutside)==null||m.call(t,l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;((p=n.triggerRef.current)==null?void 0:p.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),yT=_.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:v,...y}=t,b=_a(ko,n),x=uu(n);return ZN(),d.jsx(av,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:l,children:d.jsx(Gf,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:v,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onDismiss:()=>b.onOpenChange(!1),children:d.jsx(lT,{"data-state":bT(b.open),role:"dialog",id:b.contentId,...x,...y,ref:e,style:{...y.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),vT="PopoverClose",W6=_.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=_a(vT,n);return d.jsx($e.button,{type:"button",...s,ref:e,onClick:ft(t.onClick,()=>i.onOpenChange(!1))})});W6.displayName=vT;var K6="PopoverArrow",Q6=_.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=uu(n);return d.jsx(cT,{...i,...s,ref:e})});Q6.displayName=K6;function bT(t){return t?"open":"closed"}var X6=dT,Z6=mT,J6=pT,xT=gT;const e8=X6,t8=Z6,_T=_.forwardRef(({className:t,align:e="center",sideOffset:n=4,...s},i)=>d.jsx(J6,{children:d.jsx(xT,{ref:i,align:e,sideOffset:n,className:De("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));_T.displayName=xT.displayName;const Dv=_.forwardRef(({className:t,options:e=[],onChange:n,value:s,placeholder:i="Seleccione una opcin...",searchPlaceholder:l="Buscar...",notFoundText:u="No se encontraron resultados.",disabled:f,...m},p)=>{const[v,y]=_.useState(!1),[b,x]=_.useState(""),E=_.useMemo(()=>{const C={};return e.forEach(N=>{const T=N.group||"default";C[T]||(C[T]=[]),C[T].push(N)}),C},[e]),S=e.find(C=>String(C.value)===String(s));return _.useCallback(C=>{n==null||n(C),y(!1),x("")},[n]),d.jsxs(e8,{open:v,onOpenChange:y,children:[d.jsx(t8,{asChild:!0,children:d.jsxs(_e,{...m,type:"button",variant:"outline",role:"combobox","aria-expanded":v,className:De("w-full justify-between font-normal",!s&&"text-muted-foreground",t),disabled:f,children:[S?S.label:i,d.jsx(hI,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),d.jsx(_T,{align:"start",className:"w-full p-0",children:d.jsxs(kC,{shouldFilter:!1,className:"w-full",children:[d.jsx(MC,{placeholder:l,value:b,onValueChange:x,className:"border-none focus:ring-0"}),d.jsxs(PC,{className:"max-h-[200px] overflow-y-auto",children:[d.jsx(LC,{children:u}),Object.entries(E).map(([C,N])=>d.jsx(UC,{heading:C==="default"?void 0:C,children:N.filter(T=>T.label.toLowerCase().includes(b.toLowerCase())).map(T=>d.jsxs(BC,{value:String(T.value),onSelect:()=>{n==null||n(String(T.value)),y(!1),x("")},className:"flex items-center gap-2 cursor-pointer",children:[d.jsx(yS,{className:De("h-4 w-4 shrink-0",String(s)===String(T.value)?"opacity-100":"opacity-0")}),d.jsx("span",{className:"flex-1",children:T.label})]},T.value))},C))]})]})})]})});Dv.displayName="Select";const Av=_.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{ref:n,className:De("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e}));Av.displayName="Textarea";const wT=_.forwardRef(({className:t,...e},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:De("w-full caption-bottom text-sm",t),...e})}));wT.displayName="Table";const ET=_.forwardRef(({className:t,...e},n)=>d.jsx("thead",{ref:n,className:De("[&_tr]:border-b",t),...e}));ET.displayName="TableHeader";const ST=_.forwardRef(({className:t,...e},n)=>d.jsx("tbody",{ref:n,className:De("[&_tr:last-child]:border-0",t),...e}));ST.displayName="TableBody";const n8=_.forwardRef(({className:t,...e},n)=>d.jsx("tfoot",{ref:n,className:De("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));n8.displayName="TableFooter";const Lg=_.forwardRef(({className:t,...e},n)=>d.jsx("tr",{ref:n,className:De("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Lg.displayName="TableRow";const Ug=_.forwardRef(({className:t,...e},n)=>d.jsx("th",{ref:n,className:De("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ug.displayName="TableHead";const Bg=_.forwardRef(({className:t,...e},n)=>d.jsx("td",{ref:n,className:De("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Bg.displayName="TableCell";const r8=_.forwardRef(({className:t,...e},n)=>d.jsx("caption",{ref:n,className:De("mt-4 text-sm text-muted-foreground",t),...e}));r8.displayName="TableCaption";var s8="VisuallyHidden",NT=_.forwardRef((t,e)=>d.jsx($e.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));NT.displayName=s8;var a8=NT,[eh,e7]=Xo("Tooltip",[Jf]),th=Jf(),CT="TooltipProvider",i8=700,zg="tooltip.open",[o8,Iv]=eh(CT),TT=t=>{const{__scopeTooltip:e,delayDuration:n=i8,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:l}=t,[u,f]=_.useState(!0),m=_.useRef(!1),p=_.useRef(0);return _.useEffect(()=>{const v=p.current;return()=>window.clearTimeout(v)},[]),d.jsx(o8,{scope:e,isOpenDelayed:u,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(p.current),f(!1)},[]),onClose:_.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>f(!0),s)},[s]),isPointerInTransitRef:m,onPointerInTransitChange:_.useCallback(v=>{m.current=v},[]),disableHoverableContent:i,children:l})};TT.displayName=CT;var nh="Tooltip",[l8,rh]=eh(nh),RT=t=>{const{__scopeTooltip:e,children:n,open:s,defaultOpen:i=!1,onOpenChange:l,disableHoverableContent:u,delayDuration:f}=t,m=Iv(nh,t.__scopeTooltip),p=th(e),[v,y]=_.useState(null),b=Kn(),x=_.useRef(0),E=u??m.disableHoverableContent,S=f??m.delayDuration,C=_.useRef(!1),[N=!1,T]=su({prop:s,defaultProp:i,onChange:k=>{k?(m.onOpen(),document.dispatchEvent(new CustomEvent(zg))):m.onClose(),l==null||l(k)}}),R=_.useMemo(()=>N?C.current?"delayed-open":"instant-open":"closed",[N]),I=_.useCallback(()=>{window.clearTimeout(x.current),x.current=0,C.current=!1,T(!0)},[T]),O=_.useCallback(()=>{window.clearTimeout(x.current),x.current=0,T(!1)},[T]),B=_.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{C.current=!0,T(!0),x.current=0},S)},[S,T]);return _.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),d.jsx(oT,{...p,children:d.jsx(l8,{scope:e,contentId:b,open:N,stateAttribute:R,trigger:v,onTriggerChange:y,onTriggerEnter:_.useCallback(()=>{m.isOpenDelayed?B():I()},[m.isOpenDelayed,B,I]),onTriggerLeave:_.useCallback(()=>{E?O():(window.clearTimeout(x.current),x.current=0)},[O,E]),onOpen:I,onClose:O,disableHoverableContent:E,children:n})})};RT.displayName=nh;var Fg="TooltipTrigger",DT=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,i=rh(Fg,n),l=Iv(Fg,n),u=th(n),f=_.useRef(null),m=an(e,f,i.onTriggerChange),p=_.useRef(!1),v=_.useRef(!1),y=_.useCallback(()=>p.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),d.jsx(Cv,{asChild:!0,...u,children:d.jsx($e.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:m,onPointerMove:ft(t.onPointerMove,b=>{b.pointerType!=="touch"&&!v.current&&!l.isPointerInTransitRef.current&&(i.onTriggerEnter(),v.current=!0)}),onPointerLeave:ft(t.onPointerLeave,()=>{i.onTriggerLeave(),v.current=!1}),onPointerDown:ft(t.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:ft(t.onFocus,()=>{p.current||i.onOpen()}),onBlur:ft(t.onBlur,i.onClose),onClick:ft(t.onClick,i.onClose)})})});DT.displayName=Fg;var c8="TooltipPortal",[t7,u8]=eh(c8,{forceMount:void 0}),Mo="TooltipContent",AT=_.forwardRef((t,e)=>{const n=u8(Mo,t.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...l}=t,u=rh(Mo,t.__scopeTooltip);return d.jsx(xs,{present:s||u.open,children:u.disableHoverableContent?d.jsx(IT,{side:i,...l,ref:e}):d.jsx(d8,{side:i,...l,ref:e})})}),d8=_.forwardRef((t,e)=>{const n=rh(Mo,t.__scopeTooltip),s=Iv(Mo,t.__scopeTooltip),i=_.useRef(null),l=an(e,i),[u,f]=_.useState(null),{trigger:m,onClose:p}=n,v=i.current,{onPointerInTransitChange:y}=s,b=_.useCallback(()=>{f(null),y(!1)},[y]),x=_.useCallback((E,S)=>{const C=E.currentTarget,N={x:E.clientX,y:E.clientY},T=p8(N,C.getBoundingClientRect()),R=g8(N,T),I=y8(S.getBoundingClientRect()),O=b8([...R,...I]);f(O),y(!0)},[y]);return _.useEffect(()=>()=>b(),[b]),_.useEffect(()=>{if(m&&v){const E=C=>x(C,v),S=C=>x(C,m);return m.addEventListener("pointerleave",E),v.addEventListener("pointerleave",S),()=>{m.removeEventListener("pointerleave",E),v.removeEventListener("pointerleave",S)}}},[m,v,x,b]),_.useEffect(()=>{if(u){const E=S=>{const C=S.target,N={x:S.clientX,y:S.clientY},T=(m==null?void 0:m.contains(C))||(v==null?void 0:v.contains(C)),R=!v8(N,u);T?b():R&&(b(),p())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[m,v,u,p,b]),d.jsx(IT,{...t,ref:l})}),[f8,h8]=eh(nh,{isInside:!1}),IT=_.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:l,onPointerDownOutside:u,...f}=t,m=rh(Mo,n),p=th(n),{onClose:v}=m;return _.useEffect(()=>(document.addEventListener(zg,v),()=>document.removeEventListener(zg,v)),[v]),_.useEffect(()=>{if(m.trigger){const y=b=>{const x=b.target;x!=null&&x.contains(m.trigger)&&v()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[m.trigger,v]),d.jsx(Gf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:y=>y.preventDefault(),onDismiss:v,children:d.jsxs(lT,{"data-state":m.stateAttribute,...p,...f,ref:e,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(WN,{children:s}),d.jsx(f8,{scope:n,isInside:!0,children:d.jsx(a8,{id:m.contentId,role:"tooltip",children:i||s})})]})})});AT.displayName=Mo;var jT="TooltipArrow",m8=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,i=th(n);return h8(jT,n).isInside?null:d.jsx(cT,{...i,...s,ref:e})});m8.displayName=jT;function p8(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),l=Math.abs(e.left-t.x);switch(Math.min(n,s,i,l)){case l:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function g8(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function y8(t){const{top:e,right:n,bottom:s,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:s},{x:i,y:s}]}function v8(t,e){const{x:n,y:s}=t;let i=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const f=e[l].x,m=e[l].y,p=e[u].x,v=e[u].y;m>s!=v>s&&n<(p-f)*(s-m)/(v-m)+f&&(i=!i)}return i}function b8(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),x8(e)}function x8(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const i=t[s];for(;e.length>=2;){const l=e[e.length-1],u=e[e.length-2];if((l.x-u.x)*(i.y-u.y)>=(l.y-u.y)*(i.x-u.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const i=t[s];for(;n.length>=2;){const l=n[n.length-1],u=n[n.length-2];if((l.x-u.x)*(i.y-u.y)>=(l.y-u.y)*(i.x-u.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var _8=TT,w8=RT,OT=DT,kT=AT;const E8=_8,EE=w8,Hg=_.forwardRef(({className:t,...e},n)=>d.jsx(OT,{ref:n,className:De("",t),...e}));Hg.displayName=OT.displayName;const qg=_.forwardRef(({className:t,sideOffset:e=4,...n},s)=>d.jsx(kT,{ref:s,sideOffset:e,className:De("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));qg.displayName=kT.displayName;function S8({value:t=[],onChange:e,config:n,FormContent:s}){const[i,l]=_.useState(!1),[u,f]=_.useState(null),[m,p]=_.useState(null),[v,y]=_.useState({}),{columns:b,form:{emptyState:x={title:"No hay elementos",description:'Haga clic en el botn "Agregar" para comenzar.'},modalTitles:E={add:"Agregar elemento",edit:"Editar elemento"},addButtonText:S="Agregar",editButtonTooltip:C="Editar",deleteButtonTooltip:N="Eliminar",disableEditIf:T,disableDeleteIf:R}}=n;_.useEffect(()=>{(async()=>{const se=b.filter(re=>{var oe;return(oe=re.reference)==null?void 0:oe.field.relatedService}).map(async re=>{try{const F=await re.reference.field.relatedService.service.findAll();return{field:re.accessor,data:F}}catch(oe){return console.error(`Error loading referenced data for ${re.accessor}:`,oe),{field:re.accessor,data:[]}}}),Q=await Promise.all(se),ae={};Q.forEach(({field:re,data:oe})=>{const F={};oe.forEach(le=>{F[le.id]=le}),ae[re.replace("Id","")]=F}),y(ae)})()},[b]);const I=P=>{P.preventDefault(),P.stopPropagation(),f(null),p(null),l(!0)},O=(P,$)=>{f(P),p($),l(!0)},B=P=>{const $=[...t];$.splice(P,1),e($)},k=P=>{const $=[...t];m!==null?$[m]=P:$.push(P),l(!1),e($)},Y=(P,$)=>{var se;if($.render)return $.render(P[$.accessor],P);if($.reference){const Q=P[$.accessor],ae=$.accessor.replace("Id",""),re=(se=v[ae])==null?void 0:se[Q];return re?re[$.reference.displayField]:"N/A"}return P[$.accessor]};return d.jsx(E8,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(_e,{onClick:I,size:"sm",variant:"outline",className:"h-8",type:"button",children:[d.jsx(ta,{className:"h-4 w-4 mr-1"}),S]})}),t.length===0?d.jsxs("div",{className:"text-center py-6 rounded-lg bg-muted/5 border border-dashed",children:[d.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:x.title}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:x.description})]}):d.jsx("div",{className:"rounded-lg border border-border/50 overflow-hidden",children:d.jsxs(wT,{children:[d.jsx(ET,{children:d.jsxs(Lg,{className:"hover:bg-transparent",children:[b.map((P,$)=>d.jsx(Ug,{className:"h-9 text-xs",children:P.header},$)),d.jsx(Ug,{className:"h-9 w-[80px] text-xs",children:"Acciones"})]})}),d.jsx(ST,{children:t.map((P,$)=>d.jsxs(Lg,{className:"hover:bg-muted/5",children:[b.map((se,Q)=>d.jsx(Bg,{className:"py-2 text-sm",children:Y(P,se)},Q)),d.jsx(Bg,{className:"py-2",children:d.jsxs("div",{className:"flex items-center gap-0.5",children:[(!T||!T(P))&&d.jsxs(EE,{children:[d.jsx(Hg,{asChild:!0,children:d.jsx(_e,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground",onClick:se=>{se.preventDefault(),se.stopPropagation(),O(P,$)},children:d.jsx(Tf,{className:"h-3.5 w-3.5"})})}),d.jsx(qg,{children:d.jsx("p",{children:C})})]}),(!R||!R(P))&&d.jsxs(EE,{children:[d.jsx(Hg,{asChild:!0,children:d.jsx(_e,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:se=>{se.preventDefault(),se.stopPropagation(),B($)},children:d.jsx(Rf,{className:"h-3.5 w-3.5"})})}),d.jsx(qg,{children:d.jsx("p",{children:N})})]})]})})]},$))})]})}),d.jsx(Kf,{open:i,onOpenChange:l,children:d.jsxs(iu,{className:"sm:max-w-md",children:[d.jsx(ou,{children:d.jsx(lu,{className:"text-lg",children:u?E.edit:E.add})}),d.jsx(s,{arrayForm:n.form,initialData:u||{},onSubmit:k,onCancel:()=>l(!1)})]})})]})})}function N8(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var jv="Checkbox",[C8,n7]=Xo(jv),[T8,R8]=C8(jv),MT=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:l,required:u,disabled:f,value:m="on",onCheckedChange:p,form:v,...y}=t,[b,x]=_.useState(null),E=an(e,I=>x(I)),S=_.useRef(!1),C=b?v||!!b.closest("form"):!0,[N=!1,T]=su({prop:i,defaultProp:l,onChange:p}),R=_.useRef(N);return _.useEffect(()=>{const I=b==null?void 0:b.form;if(I){const O=()=>T(R.current);return I.addEventListener("reset",O),()=>I.removeEventListener("reset",O)}},[b,T]),d.jsxs(T8,{scope:n,state:N,disabled:f,children:[d.jsx($e.button,{type:"button",role:"checkbox","aria-checked":la(N)?"mixed":N,"aria-required":u,"data-state":UT(N),"data-disabled":f?"":void 0,disabled:f,value:m,...y,ref:E,onKeyDown:ft(t.onKeyDown,I=>{I.key==="Enter"&&I.preventDefault()}),onClick:ft(t.onClick,I=>{T(O=>la(O)?!0:!O),C&&(S.current=I.isPropagationStopped(),S.current||I.stopPropagation())})}),C&&d.jsx(D8,{control:b,bubbles:!S.current,name:s,value:m,checked:N,required:u,disabled:f,form:v,style:{transform:"translateX(-100%)"},defaultChecked:la(l)?!1:l})]})});MT.displayName=jv;var PT="CheckboxIndicator",LT=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:s,...i}=t,l=R8(PT,n);return d.jsx(xs,{present:s||la(l.state)||l.state===!0,children:d.jsx($e.span,{"data-state":UT(l.state),"data-disabled":l.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});LT.displayName=PT;var D8=t=>{const{control:e,checked:n,bubbles:s=!0,defaultChecked:i,...l}=t,u=_.useRef(null),f=N8(n),m=XC(e);_.useEffect(()=>{const v=u.current,y=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(y,"checked").set;if(f!==n&&x){const E=new Event("click",{bubbles:s});v.indeterminate=la(n),x.call(v,la(n)?!1:n),v.dispatchEvent(E)}},[f,n,s]);const p=_.useRef(la(n)?!1:n);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??p.current,...l,tabIndex:-1,ref:u,style:{...t.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function la(t){return t==="indeterminate"}function UT(t){return la(t)?"indeterminate":t?"checked":"unchecked"}var BT=MT,A8=LT;const du=_.forwardRef(({className:t,...e},n)=>d.jsx(BT,{ref:n,className:De("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:d.jsx(A8,{className:De("flex items-center justify-center text-current"),children:d.jsx(yS,{className:"h-4 w-4"})})}));du.displayName=BT.displayName;var I8="Separator",SE="horizontal",j8=["horizontal","vertical"],zT=_.forwardRef((t,e)=>{const{decorative:n,orientation:s=SE,...i}=t,l=O8(s)?s:SE,f=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return d.jsx($e.div,{"data-orientation":l,...f,...i,ref:e})});zT.displayName=I8;function O8(t){return j8.includes(t)}var FT=zT;const Vg=_.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...s},i)=>d.jsx(FT,{ref:i,decorative:n,orientation:e,className:De("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...s}));Vg.displayName=FT.displayName;function k8({arrayForm:t,initialData:e,onSubmit:n,onCancel:s}){const[i,l]=A.useState(e),[u,f]=A.useState({});A.useEffect(()=>{(async()=>{const y=t.fields.filter(E=>E.relatedService).map(async E=>{try{const S=await E.relatedService.service.findAll();return{field:E.name,data:S}}catch(S){return console.error(`Error loading data for ${E.name}:`,S),Ue.error(`Error al cargar datos relacionados para ${E.label}`),{field:E.name,data:[]}}}),b=await Promise.all(y),x={};b.forEach(({field:E,data:S})=>{x[E]=S}),f(x)})()},[t.fields]);const m=(v,y)=>{l(b=>({...b,[y.name]:v}))},p=v=>{if(v.relatedService&&u[v.name]){const{labelField:y,valueField:b}=v.relatedService;return u[v.name].map(x=>({value:x[b||"id"],label:x[y]}))}return v.options||[]};return d.jsxs("div",{className:"space-y-6 py-4",children:[d.jsx("div",{className:"grid gap-6",children:t.fields.map(v=>d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Wn,{htmlFor:v.name,children:[v.label,v.required&&d.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),v.type==="select"?d.jsx(Dv,{id:v.name,name:v.name,value:i[v.name]||"",onChange:y=>m(y,v),required:v.required,className:"w-full",options:p(v),placeholder:v.placeholder||"Seleccione una opcin",searchPlaceholder:"Buscar...",notFoundText:"No se encontraron resultados"}):v.type==="textarea"?d.jsx(Av,{id:v.name,name:v.name,value:i[v.name]||"",onChange:y=>m(y.target.value,v),required:v.required,placeholder:v.placeholder,className:"min-h-[100px]"}):d.jsx(gn,{id:v.name,type:v.type,name:v.name,value:i[v.name]||"",onChange:y=>m(y.target.value,v),required:v.required,placeholder:v.placeholder,className:"w-full"})]},v.name))}),d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx(_e,{type:"button",variant:"outline",onClick:s,children:"Cancelar"}),d.jsx(_e,{type:"button",onClick:()=>n(i),children:"Guardar"})]})]})}function jn({title:t,fields:e,sections:n,initialValues:s={},backPath:i,service:l,onSuccess:u,onFieldChange:f,children:m}){const p=Ct(),[v,y]=A.useState(s),[b,x]=A.useState(!1),[E,S]=A.useState({});A.useEffect(()=>{y(s)},[s]),A.useEffect(()=>{(async()=>{const P=(n?n.flatMap(Q=>Q.fields):e||[]).filter(Q=>Q.relatedService).map(async Q=>{try{const ae=await Q.relatedService.service.findAll();return{field:Q.name,data:ae}}catch(ae){return console.error(`Error loading data for ${Q.name}:`,ae),Ue.error(`Error al cargar datos relacionados para ${Q.label}`),{field:Q.name,data:[]}}}),$=await Promise.all(P),se={};$.forEach(({field:Q,data:ae})=>{se[Q]=ae}),S(se)})()},[e,n]);const C=k=>{const Y=v[k.name];return k.type==="date"&&Y?Y instanceof Date?Y.toISOString().split("T")[0]:typeof Y=="string"?new Date(Y).toISOString().split("T")[0]:"":k.type==="boolean"?!!Y:Y==null?"":String(Y)},N=k=>{if(k.type==="boolean")return"";if(k.type==="number"){const Y=v[k.name];return Y==null||Y===""?"":String(Y)}return C(k).toString()},T=(k,Y)=>{var $;let P=k;if(Y.type==="number")if(k===""||k===null||k===void 0)P="";else{const se=(($=k==null?void 0:k.target)==null?void 0:$.value)??k;P=se===""?"":Number(se),isNaN(P)&&(P="")}else Y.type==="date"&&k?P=new Date(k):Y.type==="boolean"?P=!!k:Y.type==="select"?P=k:k!=null&&k.target&&(P=k.target.value);if(y(se=>({...se,[Y.name]:P})),Y.onChange){const se=Y.onChange(P);se!==void 0&&(P=se,y(Q=>({...Q,[Y.name]:se})))}f==null||f(Y.name,P)},R=async k=>{k.preventDefault(),x(!0);try{s.id?(await l.update(s.id,v),Ue.success("Registro actualizado exitosamente")):(await l.create(v),Ue.success("Registro creado exitosamente")),u==null||u(),p(i)}catch(Y){console.error("Error al guardar el registro:",Y),Ue.error("Error al guardar el registro")}finally{x(!1)}},I=k=>{if(k.relatedService&&E[k.name]){const{labelField:Y,valueField:P}=k.relatedService;return E[k.name].map($=>({value:$[P||"id"],label:$[Y]}))}return k.options||[]},O=k=>d.jsxs("div",{className:`space-y-2 ${k.type==="array"?"col-span-2":""}`,children:[d.jsxs(Wn,{htmlFor:k.name,children:[k.label,k.required&&d.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),k.type==="array"?d.jsx(S8,{value:v[k.name]||[],onChange:Y=>y(P=>({...P,[k.name]:Y})),config:k.arrayConfig,FormContent:k8}):k.type==="select"?d.jsx(Dv,{id:k.name,name:k.name,value:N(k),onChange:Y=>T(Y,k),required:k.required,className:"w-full",options:I(k),placeholder:k.placeholder||"Seleccione una opcin",searchPlaceholder:"Buscar...",notFoundText:"No se encontraron resultados"}):k.type==="textarea"?d.jsx(Av,{id:k.name,name:k.name,value:N(k),onChange:Y=>T(Y.target.value,k),required:k.required,placeholder:k.placeholder,className:"min-h-[100px]"}):k.type==="boolean"?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(du,{id:k.name,checked:C(k),onCheckedChange:Y=>T(!!Y,k)}),d.jsx("label",{htmlFor:k.name,className:"text-sm text-muted-foreground cursor-pointer",children:k.placeholder||k.label})]}):d.jsx(gn,{id:k.name,type:k.type,name:k.name,value:N(k),onChange:Y=>T(Y.target.value,k),required:k.required,placeholder:k.placeholder,className:"w-full"})]},k.name),B=k=>d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:k.map(O)});return d.jsx(nt,{className:"max-w-4xl mx-auto p-6",children:d.jsxs("form",{onSubmit:R,className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(_e,{type:"button",variant:"ghost",size:"icon",onClick:()=>p(i),children:d.jsx(mS,{className:"h-5 w-5"})}),d.jsx("h2",{className:"text-2xl font-bold",children:t})]}),n?d.jsx("div",{className:"space-y-8",children:n.map((k,Y)=>k.visible?k.visible(v)&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-lg font-semibold",children:k.title}),d.jsx(Vg,{})]}),B(k.fields)]},k.title):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-lg font-semibold",children:k.title}),d.jsx(Vg,{})]}),B(k.fields)]},k.title))}):B(e||[]),m,d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx(_e,{type:"button",variant:"outline",onClick:()=>p(i),children:"Cancelar"}),d.jsxs(_e,{type:"submit",disabled:b,children:[d.jsx(UI,{className:"h-4 w-4 mr-2"}),s.id?"Actualizar":"Guardar"]})]})]})})}function NE(){const{id:t}=ze(),[e,n]=A.useState({}),s=new bs;A.useEffect(()=>{t&&s.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"phone",label:"Telfono",type:"text"},{name:"email",label:"Email",type:"email"},{name:"address",label:"Direccin",type:"textarea"},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:Mc.ACTIVE,label:"Activo"},{value:Mc.INACTIVE,label:"Inactivo"}]}];return d.jsx(jn,{title:t?"Editar Cliente":"Nuevo Cliente",fields:i,initialValues:e,service:s,backPath:"/customers"})}function On({title:t,fields:e,editPath:n,backPath:s,service:i,id:l}){const u=Ct(),[f,m]=A.useState(null),[p,v]=A.useState(!0);A.useEffect(()=>{(async()=>{try{const E=await i.findById(l);E?m(E):(Ue.error("Registro no encontrado"),u(s))}catch(E){console.error("Error al cargar el registro:",E),Ue.error("Error al cargar el registro"),u(s)}finally{v(!1)}})()},[l,i,s,u]);const y=async()=>{if(window.confirm("Est seguro de que desea eliminar este registro?"))try{await i.delete(l),Ue.success("Registro eliminado exitosamente"),u(s)}catch(x){console.error("Error al eliminar el registro:",x),Ue.error("Error al eliminar el registro")}};if(p||!f)return d.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})});const b=e(f);return d.jsxs("div",{className:"min-h-[80vh] flex flex-col gap-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:t}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Detalles del registro"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(_e,{variant:"ghost",onClick:()=>u(s),className:"flex items-center gap-2",children:[d.jsx(mS,{className:"h-4 w-4"}),"Volver"]}),d.jsx(os,{to:n,children:d.jsxs(_e,{variant:"outline",className:"flex items-center gap-2",children:[d.jsx(Tf,{className:"h-4 w-4"}),"Editar"]})}),d.jsxs(_e,{variant:"destructive",onClick:y,className:"flex items-center gap-2",children:[d.jsx(Rf,{className:"h-4 w-4"}),"Eliminar"]})]})]}),d.jsx(nt,{className:"p-6",children:d.jsx("dl",{className:"grid gap-6 md:grid-cols-2",children:b.map((x,E)=>d.jsxs("div",{className:`space-y-2 ${A.isValidElement(x.value)?"col-span-2":""}`,children:[d.jsx("dt",{className:"text-sm font-semibold tracking-tight text-foreground/90",children:x.label}),d.jsx("dd",{className:"text-sm",children:A.isValidElement(x.value)?d.jsx("div",{className:"rounded-md border",children:d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{className:"w-full caption-bottom text-sm",children:d.jsx("tbody",{children:x.value})})})}):x.value||d.jsx("span",{className:"text-muted-foreground",children:"-"})})]},E))})})]})}function M8(){const{id:t}=ze(),e=new bs,n=s=>[{label:"Nombre",value:s.name},{label:"Telfono",value:s.phone||"-"},{label:"Email",value:s.email||"-"},{label:"Direccin",value:s.address||"-"},{label:"Estado",value:s.status===Mc.ACTIVE?"Activo":"Inactivo"}];return t?d.jsx(On,{title:"Cliente",fields:n,editPath:`/customers/${t}/edit`,backPath:"/customers",service:e,id:t}):null}var Bc=(t=>(t.ACTIVE="active",t.INACTIVE="inactive",t))(Bc||{});class P8 extends An{constructor(e){super(e,"suppliers")}async findByCommercialName(e){return this.findByField("commercialName",e)}async findByEmail(e){return this.findByField("email",e)}async findByPhone(e){return this.findByField("phone",e)}}class vr extends In{constructor(){super(P8)}async findByName(e){return this.repository.findByCommercialName(e)}async findByEmail(e){return this.repository.findByEmail(e)}async findByPhone(e){return this.repository.findByPhone(e)}async findByStatus(e){return(await this.repository.findAll()).filter(s=>s.status===e)}}function L8(){const t=new vr,e=[{header:"Nombre Comercial",accessor:"commercialName"},{header:"Telfono",accessor:"phone",render:n=>n.phone||"-"},{header:"Estado",accessor:"status",render:n=>n.status===Bc.ACTIVE?"Activo":"Inactivo"}];return d.jsx(Dn,{columns:e,title:"Proveedores",addPath:"/suppliers/new",backPath:"/suppliers",service:t})}function CE(){const{id:t}=ze(),[e,n]=A.useState({}),s=new vr;A.useEffect(()=>{t&&s.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"commercialName",label:"Nombre Comercial",type:"text",required:!0},{name:"legalName",label:"Razn Social",type:"text"},{name:"phone",label:"Telfono",type:"text"},{name:"email",label:"Email",type:"email"},{name:"address",label:"Direccin",type:"textarea"},{name:"rut",label:"RUT",type:"text"},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:Bc.ACTIVE,label:"Activo"},{value:Bc.INACTIVE,label:"Inactivo"}]}];return d.jsx(jn,{title:t?"Editar Proveedor":"Nuevo Proveedor",fields:i,initialValues:e,service:s,backPath:"/suppliers"})}function U8(){const{id:t}=ze(),e=new vr,n=s=>[{label:"Nombre Comercial",value:s.commercialName},{label:"Razn Social",value:s.legalName||"-"},{label:"Telfono",value:s.phone||"-"},{label:"Email",value:s.email||"-"},{label:"Direccin",value:s.address||"-"},{label:"RUT",value:s.rut||"-"},{label:"Estado",value:s.status===Bc.ACTIVE?"Activo":"Inactivo"}];return t?d.jsx(On,{title:"Proveedor",fields:n,editPath:`/suppliers/${t}/edit`,backPath:"/suppliers",service:e,id:t}):null}class B8 extends An{constructor(e){super(e,"workers")}async findByPrimaryRole(e){return this.findByField("primaryRoleId",e)}async findByName(e){return this.findByField("name",e)}}class vn extends In{constructor(){super(B8)}async findByName(e){return this.repository.findByName(e)}async findByPrimaryRoleId(e){return this.repository.findByPrimaryRole(e)}async findByHireDateRange(e,n){return(await this.repository.findAll()).filter(i=>{const l=new Date(i.hireDate);return l>=e&&l<=n})}async findBySalaryRange(e,n){return(await this.repository.findAll()).filter(i=>i.monthlySalary>=e&&i.monthlySalary<=n)}}class z8 extends An{constructor(e){super(e,"roles")}async findByName(e){return this.findByField("name",e)}}class wa extends In{constructor(){super(z8)}async findByName(e){return this.repository.findByName(e)}async findByIsProduction(e){return(await this.repository.findAll()).filter(s=>s.isProduction===e)}async findByTaskName(e){return(await this.repository.findAll()).filter(s=>{var i;return(i=s.tasks)==null?void 0:i.some(l=>l.taskName===e)})}}function F8(){const t=new vn,e=new wa,[n,s]=A.useState({});A.useEffect(()=>{(async()=>{const m=(await e.findAll()).reduce((p,v)=>({...p,[v.id]:v.name}),{});s(m)})()},[]);const i=u=>{const f=new Date,m=new Date(u);let p=f.getFullYear()-m.getFullYear();const v=f.getMonth()-m.getMonth();return(v<0||v===0&&f.getDate()<m.getDate())&&p--,p},l=[{header:"Nombre",accessor:"name"},{header:"Fecha de Contratacin",accessor:"hireDate",render:u=>{const f=new Date(u.hireDate),m=i(f);return`${f.toLocaleDateString()} (${m} ${m===1?"ao":"aos"})`}},{header:"Rol Principal",accessor:"primaryRoleId",render:u=>n[u.primaryRoleId]||"Rol no encontrado"}];return d.jsx(Dn,{columns:l,title:"Colaboradores",addPath:"/workers/new",backPath:"/workers",service:t})}var oi=(t=>(t.PAID="paid",t.PENDING="pending",t))(oi||{}),li=(t=>(t.SALARY="salary",t.LEAVE="leave",t))(li||{});function TE(){const{id:t}=ze(),[e,n]=A.useState({}),s=new vn;A.useEffect(()=>{t&&s.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"primaryRoleId",label:"Rol Principal",type:"select",required:!0,relatedService:{service:new wa,labelField:"name"}},{name:"phone",label:"Telfono",type:"text"},{name:"hireDate",label:"Fecha de Contratacin",type:"date",required:!0},{name:"monthlySalary",label:"Salario Mensual",type:"number",required:!0},{name:"leaveBalance",label:"Saldo de Licencias",type:"number",required:!0},{name:"leaveSalaryBalance",label:"Saldo de Salario por Licencias",type:"number",required:!0},{name:"vacationSalaryBalance",label:"Saldo de Salario por Vacaciones",type:"number",required:!0},{name:"bonusSalaryBalance",label:"Saldo de Aguinaldos",type:"number",required:!0},{name:"leaveHistory",label:"Historial de Licencias Tomadas",type:"array",arrayConfig:{columns:[{header:"Fecha de Inicio",accessor:"startDate",render:l=>new Date(l).toLocaleDateString("es-UY")},{header:"Fecha de Fin",accessor:"endDate",render:l=>new Date(l).toLocaleDateString("es-UY")},{header:"Das",accessor:"day"}],form:{fields:[{name:"startDate",label:"Fecha de Inicio",type:"date",required:!0},{name:"endDate",label:"Fecha de Fin",type:"date",required:!0},{name:"day",label:"Das",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay licencias registrados",description:'Haga clic en el botn "Agregar" para comenzar a registrar las licencias tomadas del trabajador.'},modalTitles:{add:"Agregar Licencias Tomadas",edit:"Modificar Licencias Tomada"},addButtonText:"Agregar Licencias Tomada",editButtonTooltip:"Modificar este Licencias Tomada",deleteButtonTooltip:"Eliminar este Licencias Tomada"}}},{name:"payments",label:"Pagos",type:"array",arrayConfig:{columns:[{header:"Monto",accessor:"amount",render:l=>(l==null?void 0:l.toLocaleString("es-UY",{style:"currency",currency:"UYU",currencyDisplay:"symbol",minimumFractionDigits:0,maximumFractionDigits:0}))||"N/A"},{header:"Estado",accessor:"status",render:l=>{switch(l){case oi.PENDING:return"Pendiente";case oi.PAID:return"Pagado";default:return"N/A"}}},{header:"Concepto",accessor:"concept",render:l=>{switch(l){case li.SALARY:return"Salario";case li.LEAVE:return"Permiso";default:return"N/A"}}},{header:"Fecha de Pago",accessor:"paymentDate",render:l=>new Date(l).toLocaleDateString("es-UY")}],form:{fields:[{name:"amount",label:"Monto",type:"number",required:!0,placeholder:"Ej: 500000"},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:oi.PENDING,label:"Pendiente"},{value:oi.PAID,label:"Pagado"}]},{name:"concept",label:"Concepto",type:"select",required:!0,options:[{value:li.SALARY,label:"Salario"},{value:li.LEAVE,label:"Permiso"}]},{name:"paymentDate",label:"Fecha de Pago",type:"date",required:!0}],emptyState:{title:"No hay pagos registrados",description:'Haga clic en el botn "Agregar" para comenzar a registrar los pagos del trabajador.'},modalTitles:{add:"Agregar Pago",edit:"Modificar Pago"},addButtonText:"Agregar Pago",editButtonTooltip:"Modificar este pago",deleteButtonTooltip:"Eliminar este pago"}}}];return d.jsx(jn,{title:t?"Editar Trabajador":"Nuevo Trabajador",fields:i,initialValues:e,service:s,backPath:"/workers"})}function xi({data:t,columns:e,emptyMessage:n="No hay datos"}){return t!=null&&t.length?d.jsx("div",{className:"rounded-md border",children:d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsxs("table",{className:"w-full caption-bottom text-sm",children:[d.jsx("thead",{children:d.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:e.map((s,i)=>d.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:s.header},i))})}),d.jsx("tbody",{children:t.map((s,i)=>d.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:e.map((l,u)=>d.jsx("td",{className:"p-4 align-middle",children:typeof l.accessor=="function"?l.accessor(s):d.jsx("div",{className:"font-medium",children:String(s[l.accessor])})},u))},i))})]})})}):d.jsx("div",{className:"text-muted-foreground",children:n})}function H8(){const{id:t}=ze(),e=new vn,n=new wa,[s,i]=A.useState({});A.useEffect(()=>{(async()=>{const b=(await n.findAll()).reduce((x,E)=>({...x,[E.id]:E.name}),{});i(b)})()},[]);const l=v=>v.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0,maximumFractionDigits:0}),u=v=>new Date(v).toLocaleDateString("es-UY",{year:"numeric",month:"long",day:"numeric"}),f=v=>{const y=[{header:"Fecha Inicio",accessor:b=>u(b.startDate)},{header:"Fecha Fin",accessor:b=>u(b.endDate)},{header:"Das",accessor:b=>b.day}];return d.jsx(xi,{data:v,columns:y,emptyMessage:"No hay historial de licencias tomadas"})},m=v=>{const y=[{header:"Fecha",accessor:b=>u(b.paymentDate)},{header:"Concepto",accessor:b=>{switch(b.concept){case li.SALARY:return"Salario";case li.LEAVE:return"Permiso";default:return b.concept}}},{header:"Estado",accessor:b=>{switch(b.status){case oi.PAID:return"Pagado";case oi.PENDING:return"Pendiente";default:return b.status}}},{header:"Monto",accessor:b=>l(b.amount)}];return d.jsx(xi,{data:v,columns:y,emptyMessage:"No hay pagos"})},p=v=>[{label:"Nombre",value:v.name},{label:"Rol Principal",value:s[v.primaryRoleId]||"Rol no encontrado"},{label:"Fecha de Contratacin",value:u(v.hireDate)},{label:"Salario Mensual",value:l(v.monthlySalary)},{label:"Balance de Licencias",value:v.leaveBalance},{label:"Balance de Salario por Licencias",value:l(v.leaveSalaryBalance)},{label:"Balance de Salario por Vacaciones",value:l(v.vacationSalaryBalance)},{label:"Balance de Aguinaldo",value:l(v.bonusSalaryBalance)},{label:"Historial de Licencias Tomadas",value:f(v.leaveHistory||[])},{label:"Historial de Pagos",value:m(v.payments||[])}];return t?d.jsx(On,{title:"Trabajador",fields:p,editPath:`/workers/${t}/edit`,backPath:"/workers",service:e,id:t}):null}function q8(){const t=new wa,e=[{header:"Nombre",accessor:"name"},{header:"Tipo",accessor:"isProduction",render:n=>n.isProduction?"Produccin":"Administrativo"},{header:"Tareas",accessor:"tasks",render:n=>{var s;return((s=n.tasks)==null?void 0:s.length)||0}}];return d.jsx(Dn,{columns:e,title:"Roles",addPath:"/roles/new",backPath:"/roles",service:t})}var ei=(t=>(t.DAILY="daily",t.HOURLY="hourly",t.END_OF_SHIFT="end_of_shift",t))(ei||{});function RE(){const{id:t}=ze(),[e,n]=A.useState({}),s=new wa;A.useEffect(()=>{t&&s.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"isProduction",label:"Es de Produccin?",type:"boolean",required:!0,placeholder:"Marque si el rol es de produccin"},{name:"tasks",label:"Tareas",type:"array",arrayConfig:{columns:[{header:"Tarea",accessor:"taskName"},{header:"Frecuencia",accessor:"frequency",render:l=>{switch(l){case ei.DAILY:return"Diaria";case ei.HOURLY:return"Por Hora";case ei.END_OF_SHIFT:return"Fin de Turno";default:return"N/A"}}}],form:{fields:[{name:"taskName",label:"Nombre de la Tarea",type:"text",required:!0,placeholder:"Ej: Limpiar rea de trabajo"},{name:"frequency",label:"Frecuencia",type:"select",required:!0,options:[{value:ei.DAILY,label:"Diaria"},{value:ei.HOURLY,label:"Por Hora"},{value:ei.END_OF_SHIFT,label:"Fin de Turno"}]}],emptyState:{title:"No hay tareas definidas",description:'Haga clic en el botn "Agregar" para comenzar a definir las tareas de este rol.'},modalTitles:{add:"Agregar Tarea",edit:"Modificar Tarea"},addButtonText:"Agregar Tarea",editButtonTooltip:"Modificar esta tarea",deleteButtonTooltip:"Eliminar esta tarea"}}}];return d.jsx(jn,{title:t?"Editar Rol":"Nuevo Rol",fields:i,initialValues:e,service:s,backPath:"/roles"})}function V8(){const{id:t}=ze(),e=new wa,n=i=>i!=null&&i.length?d.jsx(d.Fragment,{children:i.map((l,u)=>d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[d.jsx("td",{className:"p-4 align-middle",children:d.jsx("div",{className:"font-medium",children:l.taskName})}),d.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:l.frequency})]},u))}):"No hay tareas",s=i=>{var l;return[{label:"Nombre",value:i.name},{label:"Tipo",value:i.isProduction?"Produccin":"Administrativo"},{label:"Tareas",value:(l=i.tasks)!=null&&l.length?n(i.tasks):"No hay tareas"}]};return t?d.jsx(On,{title:"Rol",fields:s,editPath:`/roles/${t}/edit`,backPath:"/roles",service:e,id:t}):null}class $8 extends An{constructor(e){super(e,"units")}async findByName(e){return this.findByField("name",e)}async findBySymbol(e){return this.findByField("symbol",e)}}class Mt extends In{constructor(){super($8)}async findByName(e){return this.repository.findByName(e)}async findBySymbol(e){return this.repository.findBySymbol(e)}async create(e){const n=await super.create(e),s={toUnitId:n.id,factor:1,operation:"multiply",isDefault:!0},i=e.conversions||[],l=[s,...i];return await this.update(n.id,{...n,conversions:l}),this.findById(n.id)}}function G8(){const t=new Mt,e=[{header:"Nombre",accessor:"name"},{header:"Smbolo",accessor:"symbol"},{header:"Conversiones",accessor:"conversions",render:n=>{var s;return((s=n.conversions)==null?void 0:s.length)||0}}];return d.jsx(Dn,{columns:e,title:"Unidades",addPath:"/units/new",backPath:"/units",service:t})}function DE(){const{id:t}=ze(),[e,n]=A.useState({}),s=new Mt;A.useEffect(()=>{t&&s.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"symbol",label:"Smbolo",type:"text",required:!0},{name:"conversions",label:"Conversiones",type:"array",arrayConfig:{columns:[{header:"Unidad Destino",accessor:"toUnitId",reference:{field:{name:"toUnitId",label:"Unidad Destino",type:"select",relatedService:{service:new Mt,labelField:"name"}},displayField:"name"}},{header:"Factor",accessor:"factor"},{header:"Operacin",accessor:"operation",render:l=>l==="multiply"?"Multiplicar":"Dividir"}],form:{fields:[{name:"toUnitId",label:"Unidad Destino",type:"select",required:!0,relatedService:{service:new Mt,labelField:"name"}},{name:"factor",label:"Factor",type:"number",required:!0,placeholder:"Ej: 1000"},{name:"operation",label:"Operacin",type:"select",required:!0,options:[{value:"multiply",label:"Multiplicar"},{value:"divide",label:"Dividir"}]}],emptyState:{title:"No hay conversiones definidas",description:'Haga clic en el botn "Agregar" para comenzar a definir las conversiones de esta unidad.'},modalTitles:{add:"Agregar Conversin",edit:"Modificar Conversin"},addButtonText:"Agregar Conversin",editButtonTooltip:"Modificar esta conversin",deleteButtonTooltip:"Eliminar esta conversin",disableEditIf:l=>l.isDefault===!0,disableDeleteIf:l=>l.isDefault===!0}}}];return d.jsx(jn,{title:t?"Editar Unidad":"Nueva Unidad",fields:i,initialValues:e,service:s,backPath:"/units"})}function Y8(){const{id:t}=ze(),e=new Mt,[n,s]=A.useState({});A.useEffect(()=>{(async()=>{const p=(await e.findAll()).reduce((v,y)=>({...v,[y.id]:y.name}),{});s(p)})()},[]);const i=f=>{switch(f){case"multiply":return"Multiplicar";case"divide":return"Dividir";default:return f}},l=f=>f!=null&&f.length?d.jsx(d.Fragment,{children:f.map((m,p)=>d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[d.jsx("td",{className:"p-4 align-middle",children:d.jsx("div",{className:"font-medium",children:n[m.toUnitId]||"Unidad no encontrada"})}),d.jsxs("td",{className:"p-4 align-middle text-muted-foreground",children:[m.factor," (",i(m.operation),")"]})]},p))}):"No hay conversiones",u=f=>{var m;return[{label:"Nombre",value:f.name},{label:"Smbolo",value:f.symbol},{label:"Conversiones",value:(m=f.conversions)!=null&&m.length?l(f.conversions):"No hay conversiones"}]};return t?d.jsx(On,{title:"Unidad",fields:u,editPath:`/units/${t}/edit`,backPath:"/units",service:e,id:t}):null}class W8 extends An{constructor(e){super(e,"parameters")}async findByName(e){return this.findByField("name",e)}}class Ov extends In{constructor(){super(W8)}async findByName(e){return this.repository.findByName(e)}}function K8(){const t=new Ov,e=[{header:"Nombre",accessor:"name"},{header:"Valor",accessor:"value"},{header:"Descripcin",accessor:"description",render:n=>n.description||"-"}];return d.jsx(Dn,{columns:e,title:"Parmetros",addPath:"/parameters/new",backPath:"/parameters",service:t})}function AE(){const{id:t}=ze(),[e,n]=A.useState({}),s=new Ov;A.useEffect(()=>{t&&s.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"value",label:"Valor",type:"text",required:!0},{name:"description",label:"Descripcin",type:"textarea"}];return d.jsx(jn,{title:t?"Editar Parmetro":"Nuevo Parmetro",fields:i,initialValues:e,service:s,backPath:"/parameters"})}function Q8(){const{id:t}=ze(),e=new Ov,n=s=>[{label:"Nombre",value:s.name},{label:"Valor",value:s.value},{label:"Descripcin",value:s.description||"-"}];return t?d.jsx(On,{title:"Parmetro",fields:n,editPath:`/parameters/${t}/edit`,backPath:"/parameters",service:e,id:t}):null}class X8 extends An{constructor(e){super(e,"purchase-orders")}async findBySupplierId(e){return this.findByField("supplierId",e)}async findByStatus(e){return this.findByField("status",e.toString())}async findByDateRange(e,n){return(await this.findAll()).filter(i=>i.orderDate>=e&&i.orderDate<=n)}}var ve=(t=>(t.PENDING="PENDING",t.COMPLETED="COMPLETED",t))(ve||{});class ms extends In{constructor(){super(X8)}calculateTotals(e){if(!e.products){e.products=[],e.totalItems=0,e.totalProducts=0;return}e.totalItems=e.products.length,e.totalProducts=e.products.reduce((n,s)=>n+(s.quantity||0),0)}async create(e){return e.status=e.status||ve.PENDING,this.calculateTotals(e),super.create(e)}async update(e,n){return this.calculateTotals(n),super.update(e,n)}async findBySupplierId(e){return this.repository.findBySupplierId(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByDateRange(e,n){return this.repository.findByDateRange(e,n)}}function Z8(){const t=new ms,e=new vr,[n,s]=A.useState({});A.useEffect(()=>{(async()=>{const p=(await e.findAll()).reduce((v,y)=>(v[y.id]=y.commercialName,v),{});s(p)})()},[]);const i=f=>{switch(f){case ve.PENDING:return"Pendiente";case ve.COMPLETED:return"Completada";default:return f}},l=f=>{if(!f)return"";try{const m=new Date(f),p=m.getDate().toString().padStart(2,"0"),v=(m.getMonth()+1).toString().padStart(2,"0"),y=m.getFullYear();return`${p}/${v}/${y}`}catch(m){return console.error("Error formatting date:",m),""}},u=[{header:"Proveedor",accessor:"supplierId",render:f=>n[f.supplierId]||"Proveedor no encontrado"},{header:"Fecha",accessor:"orderDate",render:f=>l(f.orderDate)},{header:"Estado",accessor:"status",render:f=>i(f.status)},{header:"Total Productos",accessor:"totalProducts"},{header:"Total Items",accessor:"totalItems"}];return d.jsx(Dn,{columns:u,title:"rdenes de Compra",addPath:"/purchase-orders/new",backPath:"/purchase-orders",service:t})}class J8 extends An{constructor(e){super(e,"products")}async findByName(e){return this.findByField("name",e)}async findBySku(e){return this.findByField("sku",e)}async findByState(e){return this.findByField("state",e)}async findBySector(e){return this.findByField("sector",e)}async findByPrimarySupplierId(e){return this.findByField("primarySupplierId",e)}async findByMaterialUnit(e){return this.findByField("materialUnit",e)}async findBySalesUnit(e){return this.findByField("salesUnit",e)}async findByIsForSale(e){return this.findByField("isForSale",e)}async findByIsMaterial(e){return this.findByField("isMaterial",e)}async findByStatus(e){return this.findByField("state",e)}async findBySaleStatus(e){return this.findByField("isForSale",e)}async findByMaterialStatus(e){return this.findByField("isMaterial",e)}async findByDesiredStockBelow(e){const n=hc(dc(this.db,this.dbRef),fc("desiredStock")),s=await yo(n);if(!s.exists())return[];const i=s.val();return Object.entries(i).filter(([,l])=>l.desiredStock&&l.desiredStock<e).map(([l,u])=>this.mapDocumentToEntity(u,l))}async findBySalesChannel(e){const n=hc(dc(this.db,this.dbRef),fc("salesChannels"),qN(e)),s=await yo(n);if(!s.exists())return[];const i=s.val();return Object.entries(i).filter(([,l])=>{var u;return(u=l.salesChannels)==null?void 0:u.some(f=>f.code===e)}).map(([l,u])=>this.mapDocumentToEntity(u,l))}async findByPriceRange(e,n){const s=hc(dc(this.db,this.dbRef),fc("salePrice")),i=await yo(s);if(!i.exists())return[];const l=i.val();return Object.entries(l).filter(([,u])=>u.salePrice>=e&&u.salePrice<=n).map(([u,f])=>this.mapDocumentToEntity(f,u))}async findByStockRange(e,n){const s=hc(dc(this.db,this.dbRef),fc("desiredStock")),i=await yo(s);if(!i.exists())return[];const l=i.val();return Object.entries(l).filter(([,u])=>u.desiredStock&&u.desiredStock>=e&&u.desiredStock<=n).map(([u,f])=>this.mapDocumentToEntity(f,u))}}class Nt extends In{constructor(){super(J8)}async findByName(e){return this.repository.findByName(e)}async findBySku(e){return this.repository.findBySku(e)}async findByState(e){return this.repository.findByState(e)}async findBySector(e){return this.repository.findBySector(e)}async findByPrimarySupplierId(e){return this.repository.findByPrimarySupplierId(e)}async findByMaterialUnit(e){return this.repository.findByMaterialUnit(e)}async findBySalesUnit(e){return this.repository.findBySalesUnit(e)}async findByIsForSale(e){return this.repository.findByIsForSale(e)}async findByIsMaterial(e){return this.repository.findByIsMaterial(e)}async findByPriceRange(e,n){return this.repository.findByPriceRange(e,n)}async findByDesiredStockBelow(e){return this.repository.findByDesiredStockBelow(e)}}function IE(){const{id:t}=ze(),[e,n]=A.useState({}),s=new ms;A.useEffect(()=>{t&&s.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"supplierId",label:"Proveedor",type:"select",required:!0,relatedService:{service:new vr,labelField:"commercialName"}},{name:"orderDate",label:"Fecha",type:"date",required:!0},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:ve.PENDING,label:"Pendiente"},{value:ve.COMPLETED,label:"Completada"}]},{name:"items",label:"Productos",type:"array",arrayConfig:{columns:[{header:"Producto",accessor:"productId",reference:{field:{name:"productId",label:"Producto",type:"select",relatedService:{service:new Nt,labelField:"name"}},displayField:"name"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"productId",label:"Producto",type:"select",required:!0,relatedService:{service:new Nt,labelField:"name"}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay productos agregados",description:'Haga clic en el botn "Agregar" para comenzar a agregar productos a la orden de compra.'},modalTitles:{add:"Agregar Producto",edit:"Modificar Producto"},addButtonText:"Agregar Producto",editButtonTooltip:"Modificar este producto",deleteButtonTooltip:"Eliminar este producto"}}}];return d.jsx(jn,{title:t?"Editar Orden de Compra":"Nueva Orden de Compra",fields:i,initialValues:e,service:s,backPath:"/purchase-orders"})}function ez(){const{id:t}=ze(),e=new ms,n=new vr,s=new Nt,i=new Mt,[l,u]=A.useState({}),[f,m]=A.useState({}),[p,v]=A.useState({});A.useEffect(()=>{(async()=>{const[S,C,N]=await Promise.all([n.findAll(),s.findAll(),i.findAll()]),T=S.reduce((O,B)=>({...O,[B.id]:B.commercialName}),{}),R=C.reduce((O,B)=>({...O,[B.id]:B}),{}),I=N.reduce((O,B)=>({...O,[B.id]:B.name}),{});u(T),m(R),v(I)})()},[]);const y=E=>{switch(E){case ve.PENDING:return"Pendiente";case ve.COMPLETED:return"Completado";default:return E}},b=E=>{const S=[{header:"Producto",accessor:C=>{if(C.productId){const N=f[C.productId];return d.jsx("div",{className:"font-medium",children:(N==null?void 0:N.name)||"Producto no encontrado"})}return"Producto no especificado"}},{header:"Cantidad",accessor:C=>{if(C.productId){const N=f[C.productId],T=N!=null&&N.purchaseUnitId?p[N.purchaseUnitId]:"Unidad no encontrada";return`${C.quantity} ${T}`}return C.quantity}}];return d.jsx(xi,{data:E,columns:S,emptyMessage:"No hay productos"})},x=E=>[{label:"Proveedor",value:l[E.supplierId]||"Proveedor no encontrado"},{label:"Estado",value:y(E.status)},{label:"Fecha",value:new Date(E.orderDate).toLocaleDateString()},{label:"Productos",value:b(E.products)},{label:"Total de Items",value:E.totalItems},{label:"Total de Productos",value:E.totalProducts}];return t?d.jsx(On,{title:"Pedido de Compra",fields:x,editPath:`/purchase-orders/${t}/edit`,backPath:"/purchase-orders",service:e,id:t}):null}class tz extends An{constructor(e){super(e,"customer-orders")}async findByCustomerId(e){return this.findByField("customerId",e)}async findByStatus(e){return this.findByField("status",e.toString())}async findByDateRange(e,n){return(await this.findAll()).filter(i=>i.orderDate>=e&&i.orderDate<=n)}}class ps extends In{constructor(){super(tz)}calculateTotals(e){e.products||(e.products=[]),e.recipes||(e.recipes=[]),e.totalProducts=e.products.length+e.recipes.length,e.totalItems=e.products.reduce((n,s)=>n+(s.quantity||0),0)+e.recipes.reduce((n,s)=>n+(s.quantity||0),0)}async create(e){return e.status=e.status||ve.PENDING,this.calculateTotals(e),super.create(e)}async update(e,n){return this.calculateTotals(n),super.update(e,n)}async findByCustomerId(e){return this.repository.findByCustomerId(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByDateRange(e,n){return this.repository.findByDateRange(e,n)}}function nz(){const t=new ps,e=new bs,[n,s]=A.useState({});A.useEffect(()=>{(async()=>{const m=(await e.findAll()).reduce((p,v)=>(p[v.id]=v.name,p),{});s(m)})()},[]);const i=u=>{switch(u){case ve.PENDING:return"Pendiente";case ve.COMPLETED:return"Completada";default:return u}},l=[{header:"Cliente",accessor:"customerId",render:u=>n[u.customerId]||"Cliente no encontrado"},{header:"Fecha",accessor:"orderDate",render:u=>new Date(u.orderDate).toLocaleDateString()},{header:"Estado",accessor:"status",render:u=>i(u.status)},{header:"Total Productos",accessor:"totalProducts"},{header:"Total Items",accessor:"totalItems"}];return d.jsx(Dn,{columns:l,title:"Pedidos de Clientes",addPath:"/customer-orders/new",backPath:"/customer-orders",service:t})}function jE(){const{id:t}=ze(),[e,n]=A.useState({}),s=new ps;A.useEffect(()=>{t&&s.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"customerId",label:"Cliente",type:"select",required:!0,relatedService:{service:new bs,labelField:"name"}},{name:"orderDate",label:"Fecha",type:"date",required:!0},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:ve.PENDING,label:"Pendiente"},{value:ve.COMPLETED,label:"Completada"}]},{name:"items",label:"Productos",type:"array",arrayConfig:{columns:[{header:"Producto",accessor:"productId",reference:{field:{name:"productId",label:"Producto",type:"select",relatedService:{service:new Nt,labelField:"name"}},displayField:"name"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"productId",label:"Producto",type:"select",required:!0,relatedService:{service:new Nt,labelField:"name"}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay productos agregados",description:'Haga clic en el botn "Agregar" para comenzar a agregar productos al pedido.'},modalTitles:{add:"Agregar Producto",edit:"Modificar Producto"},addButtonText:"Agregar Producto",editButtonTooltip:"Modificar este producto",deleteButtonTooltip:"Eliminar este producto"}}}];return d.jsx(jn,{title:t?"Editar Pedido de Cliente":"Nuevo Pedido de Cliente",fields:i,initialValues:e,service:s,backPath:"/customer-orders"})}class rz extends An{constructor(e){super(e,"recipes")}async findByName(e){return this.findByField("name",e)}}class sn extends In{constructor(){super(rz)}async findByName(e){return this.repository.findByName(e)}async findByType(e){return(await this.repository.findAll()).filter(s=>s.recipeType===e)}async findByPrimaryWorkerId(e){return(await this.repository.findAll()).filter(s=>s.primaryWorkerId===e)}}function sz(){const{id:t}=ze(),e=new ps,n=new bs,s=new Nt,i=new sn,l=new Mt,[u,f]=A.useState({}),[m,p]=A.useState({}),[v,y]=A.useState({}),[b,x]=A.useState({});A.useEffect(()=>{(async()=>{const[R,I,O,B]=await Promise.all([n.findAll(),s.findAll(),i.findAll(),l.findAll()]),k=R.reduce((se,Q)=>({...se,[Q.id]:Q.name}),{}),Y=I.reduce((se,Q)=>({...se,[Q.id]:Q}),{}),P=O.reduce((se,Q)=>({...se,[Q.id]:Q}),{}),$=B.reduce((se,Q)=>({...se,[Q.id]:Q.name}),{});f(k),p(Y),y(P),x($)})()},[]);const E=T=>{switch(T){case ve.PENDING:return"Pendiente";case ve.COMPLETED:return"Completado";default:return T}},S=T=>{const R=[{header:"Producto",accessor:I=>{if(I.productId){const O=m[I.productId];return d.jsx("div",{className:"font-medium",children:(O==null?void 0:O.name)||"Producto no encontrado"})}return"Producto no especificado"}},{header:"Cantidad",accessor:I=>{if(I.productId){const O=m[I.productId],B=O!=null&&O.salesUnitId?b[O.salesUnitId]:"Unidad no encontrada";return`${I.quantity} ${B}`}return I.quantity}}];return d.jsx(xi,{data:T,columns:R,emptyMessage:"No hay productos"})},C=T=>{const R=[{header:"Receta",accessor:I=>{const O=v[I.recipeId];return d.jsx("div",{className:"font-medium",children:(O==null?void 0:O.name)||"Receta no encontrada"})}},{header:"Cantidad",accessor:I=>{const O=v[I.recipeId],B=O!=null&&O.yieldUnitId?b[O.yieldUnitId]:"Unidad no encontrada";return`${I.quantity} ${B}`}}];return d.jsx(xi,{data:T,columns:R,emptyMessage:"No hay recetas"})},N=T=>[{label:"Cliente",value:u[T.customerId]||"Cliente no encontrado"},{label:"Estado",value:E(T.status)},{label:"Fecha",value:new Date(T.orderDate).toLocaleDateString()},{label:"Productos",value:S(T.products)},{label:"Recetas",value:C(T.recipes)},{label:"Total de Items",value:T.totalItems},{label:"Total de Productos",value:T.totalProducts}];return t?d.jsx(On,{title:"Pedido de Cliente",fields:N,editPath:`/customer-orders/${t}/edit`,backPath:"/customer-orders",service:e,id:t}):null}class az extends An{constructor(e){super(e,"production-orders")}async findByResponsibleWorkerId(e){return this.findByField("responsibleWorkerId",e)}async findByStatus(e){return this.findByField("status",e.toString())}async findByRecipeId(e){return(await this.findAll()).filter(s=>s.recipes.some(i=>i.recipeId===e))}async findByDateRange(e,n){return(await this.findAll()).filter(i=>i.orderDate>=e&&i.orderDate<=n)}}class gs extends In{constructor(){super(az)}async create(e){return e.status=e.status||ve.PENDING,super.create(e)}async update(e,n){return super.update(e,n)}async findByResponsibleWorkerId(e){return this.repository.findByResponsibleWorkerId(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByDateRange(e,n){return this.repository.findByDateRange(e,n)}}function iz(){const t=new gs,e=new vn,[n,s]=A.useState({});A.useEffect(()=>{(async()=>{const m=(await e.findAll()).reduce((p,v)=>(p[v.id]=v.name,p),{});s(m)})()},[]);const i=u=>{switch(u){case ve.PENDING:return"Pendiente";case ve.COMPLETED:return"Completada";default:return u}},l=[{header:"Trabajador Responsable",accessor:"responsibleWorkerId",render:u=>n[u.responsibleWorkerId]||"Trabajador no encontrado"},{header:"Fecha de Produccin",accessor:"productionDate",render:u=>new Date(u.orderDate).toLocaleDateString()},{header:"Estado",accessor:"status",render:u=>i(u.status)},{header:"Recetas",accessor:"recipes",render:u=>u.recipes.length}];return d.jsx(Dn,{columns:l,title:"rdenes de Produccin",addPath:"/production-orders/new",backPath:"/production-orders",service:t})}function OE(){const{id:t}=ze(),[e,n]=A.useState({}),s=new gs;A.useEffect(()=>{t&&s.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"responsibleWorkerId",label:"Trabajador Responsable",type:"select",required:!0,relatedService:{service:new vn,labelField:"name"}},{name:"productionDate",label:"Fecha de Produccin",type:"date",required:!0},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:ve.PENDING,label:"Pendiente"},{value:ve.COMPLETED,label:"Completada"}]},{name:"recipes",label:"Recetas",type:"array",arrayConfig:{columns:[{header:"Receta",accessor:"recipeId",reference:{field:{name:"recipeId",label:"Receta",type:"select",relatedService:{service:new sn,labelField:"name"}},displayField:"name"}},{header:"Cantidad",accessor:"quantity"},{header:"Ratio",accessor:"ratio"}],form:{fields:[{name:"recipeId",label:"Receta",type:"select",required:!0,relatedService:{service:new sn,labelField:"name"}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 10"},{name:"ratio",label:"Ratio",type:"number",required:!0,placeholder:"Ej: 1.5"}],emptyState:{title:"No hay recetas agregadas",description:'Haga clic en el botn "Agregar" para comenzar a agregar recetas a la orden de produccin.'},modalTitles:{add:"Agregar Receta",edit:"Modificar Receta"},addButtonText:"Agregar Receta",editButtonTooltip:"Modificar esta receta",deleteButtonTooltip:"Eliminar esta receta"}}}];return d.jsx(jn,{title:t?"Editar Orden de Produccin":"Nueva Orden de Produccin",fields:i,initialValues:e,service:s,backPath:"/production-orders"})}function oz(){const{id:t}=ze(),e=new gs,n=new vn,s=new sn,[i,l]=A.useState({}),[u,f]=A.useState({});A.useEffect(()=>{(async()=>{const[E,S]=await Promise.all([n.findAll(),s.findAll()]),C=E.reduce((T,R)=>(T[R.id]=R.name,T),{}),N=S.reduce((T,R)=>(T[R.id]=R.name,T),{});l(C),f(N)})()},[]);const m=x=>{switch(x){case ve.PENDING:return"Pendiente";case ve.COMPLETED:return"Completada";default:return x}},p=x=>new Date(x).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),v=x=>x!=null&&x.length?d.jsx(d.Fragment,{children:x.map((E,S)=>d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[d.jsx("td",{className:"p-4 align-middle",children:d.jsx("div",{className:"font-medium",children:u[E.recipeId]||"Receta no encontrada"})}),d.jsxs("td",{className:"p-4 align-middle text-muted-foreground",children:["Cantidad: ",E.quantity]})]},S))}):"No hay recetas",y=x=>x!=null&&x.length?d.jsx(d.Fragment,{children:x.map((E,S)=>d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[d.jsx("td",{className:"p-4 align-middle",children:d.jsx("div",{className:"font-medium",children:E.name})}),d.jsxs("td",{className:"p-4 align-middle text-muted-foreground",children:["Valor: ",E.value||"No especificado"]})]},S))}):"No hay ratios definidos",b=x=>{var E,S;return[{label:"Trabajador Responsable",value:i[x.responsibleWorkerId]||"Trabajador no encontrado"},{label:"Fecha de Produccin",value:p(x.orderDate)},{label:"Estado",value:m(x.status)},{label:"Recetas",value:(E=x.recipes)!=null&&E.length?v(x.recipes):"No hay recetas"},{label:"Ratios de Produccin",value:(S=x.ratios)!=null&&S.length?y(x.ratios):"No hay ratios definidos"}]};return t?d.jsx(On,{title:"Orden de Produccin",fields:b,editPath:`/production-orders/${t}/edit`,backPath:"/production-orders",service:e,id:t}):null}var _i=(t=>(t.SALE_RECIPE="sale_recipe",t.INTERNAL_USE="internal_use",t))(_i||{});function lz(){const t=new sn,e=new Mt,[n,s]=A.useState({});A.useEffect(()=>{(async()=>{try{const m=(await e.findAll()).reduce((p,v)=>({...p,[v.id]:v.symbol}),{});s(m)}catch(f){console.error("Error loading units:",f)}})()},[]);const i=u=>{switch(u){case _i.SALE_RECIPE:return"Receta de Venta";case _i.INTERNAL_USE:return"Uso Interno";default:return u}},l=[{header:"Nombre",accessor:"name"},{header:"Tipo",accessor:"recipeType",render:u=>i(u.recipeType)},{header:"Rendimiento",accessor:"yield",render:u=>`${u.yield} ${n[u.yieldUnitId]||""}`},{header:"Materiales",accessor:"materials",render:u=>{var f;return((f=u.materials)==null?void 0:f.length)||0}}];return d.jsx(Dn,{columns:l,title:"Recetas",addPath:"/recipes/new",backPath:"/recipes",service:t})}function kE(){const{id:t}=ze(),[e,n]=A.useState({}),[s,i]=A.useState([]),[l,u]=A.useState({}),[f,m]=A.useState(0),p=new sn,v=new Nt,y=new Mt,b=S=>{if(console.log("====== INICIO CLCULO DE COSTO TOTAL ======"),console.log("Materiales recibidos:",S),!S||S.length===0)return console.log("No hay materiales para calcular"),m(0),n(B=>({...B,cost:0})),0;let C=0;for(const B of S){if(console.log(`
Procesando material:`,B),!B.materialId){console.log(" Material sin ID");continue}const k=x(B.materialId);if(console.log("Info del material encontrada:",k),!k){console.log(" No se encontr info del material");continue}if(!B.quantity){console.log(" Material sin cantidad");continue}const Y=k.cost*B.quantity;console.log("Clculo:",`${k.cost}  ${B.quantity} = ${Y}`),C+=Y}console.log(`
Resumen de costos:`),console.log("Costo total de materiales:",C);const N=C*.05;console.log("Costo por merma (5%):",N);const T=C*.1;console.log("Gastos fijos (10%):",T);const R=C+N+T;console.log("COSTO TOTAL FINAL:",R);const I=e.yield||1,O=R/I;return console.log("Rendimiento:",I),console.log("COSTO UNITARIO:",O),console.log(`====== FIN CLCULO DE COSTO TOTAL ======
`),m(R),n(B=>({...B,cost:O,materials:S})),R};A.useEffect(()=>{y.findAll().then(S=>{const C=S.reduce((N,T)=>(N[T.id]=T.name,N),{});u(C)})},[]),A.useEffect(()=>{t&&p.findById(t).then(S=>{S&&(n(S),b(S.materials||[]))})},[t]),A.useEffect(()=>{Promise.all([v.findAll(),p.findAll()]).then(([S,C])=>{const N=S.filter(R=>R.isMaterial).map(R=>{const I=R.materialUnitId&&l[R.materialUnitId]?l[R.materialUnitId]:"";return{id:R.id,name:R.name,materialType:"Producto",displayName:`P - ${R.name}`,unitName:I,cost:R.materialUnitCost||0,originalData:R}}),T=C.filter(R=>R.id!==t).map(R=>{const I=R.yieldUnitId&&l[R.yieldUnitId]?l[R.yieldUnitId]:"";return{id:R.id,name:R.name,materialType:"Receta",displayName:`R - ${R.name}`,unitName:I,cost:R.cost||0,originalData:R}});i([...N,...T]),e.materials&&b(e.materials)})},[t,l]),A.useEffect(()=>{e.materials&&s.length>0&&b(e.materials)},[s,e.materials]);const x=S=>s.find(C=>C.id===S),E=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"recipeType",label:"Tipo",type:"select",required:!0,options:[{value:_i.SALE_RECIPE,label:"Receta de Venta"},{value:_i.INTERNAL_USE,label:"Uso Interno"}]},{name:"yieldUnitId",label:"Unidad de Rendimiento",type:"select",required:!0,relatedService:{service:new Mt,labelField:"name"}},{name:"yield",label:"Rendimiento",type:"number",required:!0,placeholder:"Ej: 1.5",onChange:S=>{if(S===""||S===null||S===void 0)return"";const C=parseFloat(S);return!isNaN(C)&&C>=0?C:""}},{name:"primaryWorkerId",label:"Trabajador Principal",type:"select",required:!0,relatedService:{service:new vn,labelField:"name"}},{name:"notes",label:"Notas",type:"textarea"},{name:"materials",label:"Materiales",type:"array",arrayConfig:{columns:[{header:"Material",accessor:"materialId",render:(S,C)=>{const N=x(S);return N?N.displayName:"N/A"}},{header:"Cantidad",accessor:"quantity",render:(S,C)=>{const N=x(C.materialId);return N&&S?`${S} ${N.unitName}`:S||""}},{header:"Sub Total",accessor:"quantity",render:(S,C)=>{const N=x(C.materialId);return!N||!C.quantity?"":(N.cost*S).toLocaleString("es-UY",{style:"currency",currency:"UYU",currencyDisplay:"symbol",minimumFractionDigits:0,maximumFractionDigits:0})}}],form:{fields:[{name:"materialId",label:"Material",type:"select",required:!0,searchable:!0,options:s.map(S=>({value:S.id,label:`${S.displayName} (${S.cost.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})} por ${S.unitName})`,group:S.materialType==="Producto"?"Productos":"Recetas"})),placeholder:"Buscar material...",isSearchable:!0,isClearable:!0},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 1.5",onChange:S=>{if(S===""||S===null||S===void 0)return"";const C=parseFloat(S);return isNaN(C)||C<0?"":C}}],emptyState:{title:"No hay materiales agregados",description:'Haga clic en el botn "Agregar" para comenzar a agregar materiales a la receta.'},modalTitles:{add:"Agregar Material",edit:"Modificar Material"},addButtonText:"Agregar Material",editButtonTooltip:"Modificar este material",deleteButtonTooltip:"Eliminar este material"}}}];return d.jsx("div",{className:"space-y-4",children:d.jsx(jn,{title:t?"Editar Receta":"Nueva Receta",fields:E,initialValues:{...e,materials:e.materials||[]},service:p,backPath:"/recipes",onFieldChange:(S,C)=>{S==="materials"?b(C||[]):S==="yield"&&b(e.materials||[]),n(N=>({...N,[S]:C}))},children:d.jsxs("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Desglose de Costos"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Costo de Materiales:"}),d.jsx("span",{children:(f*.87).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Costo por Merma (5%):"}),d.jsx("span",{children:(f*.05).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Gastos Fijos (10%):"}),d.jsx("span",{children:(f*.1).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Costo Total:"}),d.jsx("span",{children:f.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),d.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[d.jsx("span",{children:"Costo Unitario:"}),d.jsxs("span",{children:[(f/(e.yield||1)).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0}),e.yieldUnitId&&l[e.yieldUnitId]?` / ${l[e.yieldUnitId]}`:""]})]})]})]})})})}function cz(){const{id:t}=ze(),e=new sn,n=new vn,s=new Mt,i=new Nt,[l,u]=A.useState({}),[f,m]=A.useState({}),[p,v]=A.useState({}),[y,b]=A.useState({});A.useEffect(()=>{(async()=>{const[N,T,R,I]=await Promise.all([n.findAll(),s.findAll(),i.findAll(),e.findAll()]),O=N.reduce((P,$)=>({...P,[$.id]:$.name}),{}),B=T.reduce((P,$)=>({...P,[$.id]:$.name}),{}),k=R.reduce((P,$)=>({...P,[$.id]:$}),{}),Y=I.reduce((P,$)=>({...P,[$.id]:$}),{});u(O),m(B),v(k),b(Y)})()},[]);const x=C=>{switch(C){case _i.SALE_RECIPE:return"Receta de Venta";case _i.INTERNAL_USE:return"Uso Interno";default:return C}},E=C=>{const N=[{header:"Material",accessor:T=>{let R="Material no encontrado";if(T.materialId){const I=p[T.materialId],O=y[T.materialId];I?R=I.name:O&&(R=`R - ${O.name}`)}return d.jsx("div",{className:"font-medium",children:R})}},{header:"Cantidad",accessor:T=>{let R="Unidad no encontrada";if(T.materialId){const I=p[T.materialId],O=y[T.materialId];I?R=I.materialUnitId?f[I.materialUnitId]:"Unidad no encontrada":O&&(R=f[O.yieldUnitId]||"Unidad no encontrada")}return`${T.quantity} ${R}`}}];return d.jsx(xi,{data:C||[],columns:N,emptyMessage:"No hay materiales"})},S=C=>[{label:"Nombre",value:C.name},{label:"Tipo",value:x(C.recipeType)},{label:"Unidad de Rendimiento",value:f[C.yieldUnitId]||"Unidad no encontrada"},{label:"Rendimiento",value:C.yield},{label:"Trabajador Principal",value:l[C.primaryWorkerId]||"Trabajador no encontrado"},{label:"Notas",value:C.notes||"-"},{label:"Materiales",value:E(C.materials)}];return t?d.jsx(On,{title:"Receta",fields:S,editPath:`/recipes/${t}/edit`,backPath:"/recipes",service:e,id:t}):null}var Po=(t=>(t.ACTIVE="active",t.INACTIVE="inactive",t))(Po||{}),zc=(t=>(t.GENERAL="general",t.OTHER="other",t))(zc||{});function uz(){const t=new Nt,e=[{header:"SKU",accessor:"sku"},{header:"Nombre",accessor:"name"},{header:"Precio de Venta",accessor:"salePrice",render:n=>n.salePrice?`$${n.salePrice.toFixed(2)}`:"N/A"},{header:"Estado",accessor:"state",render:n=>n.state===Po.ACTIVE?"Activo":"Inactivo"},{header:"Tipo",accessor:"isMaterial",render:n=>n.isMaterial&&n.isForSale?"Material y Venta":n.isMaterial?"Material":n.isForSale?"Venta":"N/A"}];return d.jsx(Dn,{columns:e,title:"Productos",addPath:"/products/new",backPath:"/products",service:t})}function ME(){const{id:t}=ze(),[e,n]=A.useState({}),s=new Nt;A.useEffect(()=>{t&&s.findById(t).then(v=>{v&&n(v)})},[t]);const i=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"sku",label:"SKU",type:"text",required:!0},{name:"imageUrl",label:"URL de Imagen",type:"text"},{name:"state",label:"Estado",type:"select",required:!0,options:[{value:Po.ACTIVE,label:"Activo"},{value:Po.INACTIVE,label:"Inactivo"}]},{name:"isForSale",label:"Es para Venta?",type:"boolean",required:!0,placeholder:"Marque si el producto es para venta"},{name:"isMaterial",label:"Es Material?",type:"boolean",required:!0,placeholder:"Marque si el producto es un material"}],l=[{name:"purchasePrice",label:"Precio de Compra",type:"number"},{name:"purchaseUnitId",label:"Unidad de Compra",type:"select",relatedService:{service:new Mt,labelField:"name"}},{name:"primarySupplierId",label:"Proveedor Principal",type:"select",relatedService:{service:new vr,labelField:"commercialName"}}],u=[{name:"salePrice",label:"Precio de Venta",type:"number",required:!0},{name:"salesUnitId",label:"Unidad de Venta",type:"select",relatedService:{service:new Mt,labelField:"name"}},{name:"salesUnitCost",label:"Costo Unitario de Venta",type:"number"},{name:"salesChannels",label:"Canales de Venta",type:"array",arrayConfig:{columns:[{header:"Cdigo",accessor:"code"},{header:"Nombre",accessor:"name"},{header:"Precio de Venta",accessor:"salePrice",render:v=>(v==null?void 0:v.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||""}],form:{fields:[{name:"code",label:"Cdigo",type:"text",required:!0,placeholder:"Ej: TIENDA_1"},{name:"name",label:"Nombre",type:"text",required:!0,placeholder:"Ej: Tienda Principal"},{name:"salePrice",label:"Precio de Venta",type:"number",required:!0,placeholder:"Ej: 1000"}],emptyState:{title:"No hay canales de venta definidos",description:'Haga clic en el botn "Agregar" para comenzar a definir los canales de venta de este producto.'},modalTitles:{add:"Agregar Canal de Venta",edit:"Modificar Canal de Venta"},addButtonText:"Agregar Canal",editButtonTooltip:"Modificar este canal",deleteButtonTooltip:"Eliminar este canal"}}}],f=[{name:"materialName",label:"Nombre del Material",type:"text"},{name:"materialCode",label:"Cdigo del Material",type:"text"},{name:"materialUnitId",label:"Unidad de Material",type:"select",relatedService:{service:new Mt,labelField:"name"}},{name:"materialUnitCost",label:"Costo Unitario de Material",type:"number"}],m=[{name:"sector",label:"Sector",type:"select",options:[{value:zc.GENERAL,label:"General"},{value:zc.OTHER,label:"Otro"}]},{name:"sectorOrder",label:"Orden en el Sector",type:"number"},{name:"desiredStock",label:"Stock Deseado",type:"number"}],p=[{title:"Informacin General",fields:i},{title:"Informacin de Compra",fields:l},{title:"Informacin de Venta",fields:u,visible:v=>v.isForSale===!0},{title:"Informacin de Material",fields:f,visible:v=>v.isMaterial===!0},{title:"Informacin de Inventario",fields:m}];return d.jsx(jn,{title:t?"Editar Producto":"Nuevo Producto",sections:p,initialValues:e,service:s,backPath:"/products"})}function dz(){const{id:t}=ze(),e=new Nt,n=new Mt,s=new vr,[i,l]=A.useState({}),[u,f]=A.useState({});A.useEffect(()=>{(async()=>{const[x,E]=await Promise.all([n.findAll(),s.findAll()]),S=x.reduce((N,T)=>({...N,[T.id]:T.name}),{}),C=E.reduce((N,T)=>({...N,[T.id]:T.commercialName}),{});l(S),f(C)})()},[]);const m=b=>{switch(b){case Po.ACTIVE:return"Activo";case Po.INACTIVE:return"Inactivo";default:return b}},p=b=>{switch(b){case zc.GENERAL:return"General";case zc.OTHER:return"Otro";default:return b}},v=b=>{const x=[{header:"Cdigo",accessor:E=>E.code},{header:"Nombre",accessor:E=>E.name},{header:"Precio de Venta",accessor:E=>E.salePrice.toLocaleString("es-UY",{style:"currency",currency:"UYU"})}];return d.jsx(xi,{data:b,columns:x,emptyMessage:"No hay canales de venta"})},y=b=>{var x,E,S;return[{label:"Nombre",value:b.name},{label:"SKU",value:b.sku},{label:"Estado",value:m(b.state)},{label:"Sector",value:b.sector?p(b.sector):"-"},{label:"Orden en Sector",value:b.sectorOrder||"-"},{label:"Stock Deseado",value:b.desiredStock||"-"},{label:"Precio de Venta",value:b.salePrice.toLocaleString("es-UY",{style:"currency",currency:"UYU"})},{label:"Costo Unitario de Venta",value:((x=b.salesUnitCost)==null?void 0:x.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||"-"},{label:"Costo Unitario de Material",value:((E=b.materialUnitCost)==null?void 0:E.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||"-"},{label:"Precio de Compra",value:((S=b.purchasePrice)==null?void 0:S.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||"-"},{label:"Unidad de Venta",value:b.salesUnitId?i[b.salesUnitId]:"-"},{label:"Unidad de Material",value:b.materialUnitId?i[b.materialUnitId]:"-"},{label:"Unidad de Compra",value:b.purchaseUnitId?i[b.purchaseUnitId]:"-"},{label:"Proveedor Principal",value:b.primarySupplierId?u[b.primarySupplierId]:"-"},{label:"Canales de Venta",value:v(b.salesChannels||[])}]};return t?d.jsx(On,{title:"Producto",fields:y,editPath:`/products/${t}/edit`,backPath:"/products",service:e,id:t}):null}var Fc=(t=>(t.PENDING="pending",t.RESOLVED="resolved",t))(Fc||{}),wt=(t=>(t.PRODUCTION="production",t.TASK="task",t.INVENTORY="inventory",t))(wt||{});class fz extends An{constructor(e){super(e,"incidents")}async findByType(e){return this.findByField("type",e)}async findByStatus(e){return this.findByField("status",e)}async findByReportedBy(e){return this.findByField("reportedByWorkerId",e)}}class kv extends In{constructor(){super(fz)}async findByType(e){return this.repository.findByType(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByReportedBy(e){return(await this.repository.findAll()).filter(s=>s.reportedByWorkerId===e)}async findByDateRange(e,n){return(await this.repository.findAll()).filter(i=>{const l=new Date(i.createdAt);return l>=e&&l<=n})}async findByTaskId(e){return(await this.repository.findAll()).filter(s=>s.taskId===e)}async findByProductId(e){return(await this.repository.findAll()).filter(s=>s.productId===e)}async findByRecipeId(e){return(await this.repository.findAll()).filter(s=>s.recipeId===e)}}function hz(){const t=new kv,e=new vn,[n,s]=A.useState({});A.useEffect(()=>{(async()=>{try{const f=await e.findAll(),m={};f.forEach(p=>{m[p.id]=p.name}),s(m)}catch(f){console.error("Error loading worker names:",f)}})()},[]);const i=u=>{switch(u){case wt.PRODUCTION:return"Produccin";case wt.TASK:return"Tarea";case wt.INVENTORY:return"Inventario";default:return u}},l=[{header:"Tipo",accessor:"type",render:u=>i(u.type)},{header:"Descripcin",accessor:"description"},{header:"Reportado Por",accessor:"reportedByWorkerId",render:u=>n[u.reportedByWorkerId]||"Cargando..."},{header:"Estado",accessor:"status",render:u=>u.status===Fc.PENDING?"Pendiente":"Resuelto"}];return d.jsx(Dn,{columns:l,title:"Incidentes",addPath:"/incidents/new",backPath:"/incidents",service:t})}function PE(){const{id:t}=ze(),[e,n]=A.useState({}),[s,i]=A.useState(""),l=new kv;A.useEffect(()=>{t&&l.findById(t).then(y=>{y&&(n(y),i(y.type))})},[t]);const u=y=>{const b=y.target.value;i(b)},f=[{name:"type",label:"Tipo",type:"select",required:!0,options:[{value:wt.PRODUCTION,label:"Produccin"},{value:wt.TASK,label:"Tarea"},{value:wt.INVENTORY,label:"Inventario"}],onChange:u},{name:"reportedByWorkerId",label:"Reportado Por",type:"select",required:!0,relatedService:{service:new vn,labelField:"name"}},{name:"description",label:"Descripcin",type:"textarea",required:!0},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:Fc.PENDING,label:"Pendiente"},{value:Fc.RESOLVED,label:"Resuelto"}]}],p=(()=>{switch(s){case wt.PRODUCTION:return{name:"recipeId",label:"Receta",type:"select",required:!0,relatedService:{service:new sn,labelField:"name"}};case wt.TASK:return{name:"taskId",label:"Tarea",type:"select",required:!0,relatedService:{service:new wa,labelField:"name"}};case wt.INVENTORY:return{name:"productId",label:"Producto",type:"select",required:!0,relatedService:{service:new Nt,labelField:"name"}};default:return null}})(),v=p?[...f,p]:f;return d.jsx(jn,{title:t?"Editar Incidente":"Nuevo Incidente",fields:v,initialValues:e,service:l,backPath:"/incidents"})}function mz(){const{id:t}=ze(),e=new kv,n=new vn,s=new wa,i=new Nt,l=new sn,[u,f]=A.useState(""),[m,p]=A.useState(""),[v,y]=A.useState(""),[b,x]=A.useState("");A.useEffect(()=>{if(!t)return;(async()=>{const T=await e.findById(t);if(T){if(T.reportedByWorkerId){const R=await n.findById(T.reportedByWorkerId);R&&f(R.name)}switch(T.type){case wt.TASK:if(T.taskId){const R=await s.findById(T.taskId);R&&p(R.name)}break;case wt.INVENTORY:if(T.productId){const R=await i.findById(T.productId);R&&y(R.name)}break;case wt.PRODUCTION:if(T.recipeId){const R=await l.findById(T.recipeId);R&&x(R.name)}break}}})()},[t]);const E=N=>{switch(N){case wt.PRODUCTION:return"Produccin";case wt.TASK:return"Tarea";case wt.INVENTORY:return"Inventario";default:return N}},S=N=>{switch(N.type){case wt.TASK:return{label:"Tarea",value:m||"Cargando..."};case wt.INVENTORY:return{label:"Producto",value:v||"Cargando..."};case wt.PRODUCTION:return{label:"Receta",value:b||"Cargando..."};default:return null}},C=N=>{const T=[{label:"Tipo",value:E(N.type)},{label:"Descripcin",value:N.description},{label:"Reportado Por",value:u||"Cargando..."},{label:"Estado",value:N.status===Fc.PENDING?"Pendiente":"Resuelto"}],R=S(N);return R&&T.push(R),T};return t?d.jsx(On,{title:"Incidente",fields:C,editPath:`/incidents/${t}/edit`,backPath:"/incidents",service:e,id:t}):null}class pz extends An{constructor(e){super(e,"daily-closures")}async findByDate(e){return this.findByField("date",e.toISOString())}}class Mv extends In{constructor(){super(pz)}async findByDate(e){return this.repository.findByDate(e)}async findByDateRange(e,n){return(await this.repository.findAll()).filter(i=>{const l=new Date(i.date);return l>=e&&l<=n})}async findByAccountCode(e){return(await this.repository.findAll()).filter(s=>s.accounts.some(i=>i.accountCode===e))}async findByTransactionCode(e){return(await this.repository.findAll()).filter(s=>{var i;return(i=s.transactions)==null?void 0:i.some(l=>l.transactionCode===e)})}async getTotalsByDate(e){const n=await this.findByDate(e),s={};return n.forEach(i=>{var l;(l=i.transactions)==null||l.forEach(u=>{const f=u.concept;s[f]||(s[f]=0),s[f]+=u.amount})}),s}async getBalanceByDate(e){return(await this.findByDate(e)).reduce((s,i)=>{var l;return s+(((l=i.transactions)==null?void 0:l.reduce((u,f)=>u+f.amount,0))||0)},0)}}function gz(){const t=new Mv,e=[{header:"Fecha",accessor:"date",render:n=>new Date(n.date).toLocaleDateString()},{header:"Total Ingresos",accessor:"totalIncome",render:n=>`$${n.totalIncome.toFixed(2)}`},{header:"Total Gastos",accessor:"totalExpenses",render:n=>`$${n.totalExpenses.toFixed(2)}`},{header:"Diferencia Total",accessor:"totalDifference",render:n=>`$${n.totalDifference.toFixed(2)}`},{header:"Cuentas",accessor:"accounts",render:n=>n.accounts.length},{header:"Transacciones",accessor:"transactions",render:n=>{var s;return((s=n.transactions)==null?void 0:s.length)||0}}];return d.jsx(Dn,{columns:e,title:"Cierres Diarios",addPath:"/daily-closures/new",backPath:"/daily-closures",service:t})}function LE(){const{id:t}=ze(),[e,n]=A.useState({}),s=new Mv;A.useEffect(()=>{t&&s.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"date",label:"Fecha",type:"date",required:!0},{name:"totalExpenses",label:"Total de Gastos",type:"number",required:!0},{name:"totalIncome",label:"Total de Ingresos",type:"number",required:!0},{name:"totalDifference",label:"Diferencia Total",type:"number",required:!0},{name:"observations",label:"Observaciones",type:"textarea"},{name:"accounts",label:"Cuentas",type:"array",arrayConfig:{columns:[{header:"Nombre",accessor:"name"},{header:"Saldo",accessor:"balance",render:l=>(l==null?void 0:l.toLocaleString("es-CL",{style:"currency",currency:"CLP"}))||"N/A"}],form:{fields:[{name:"name",label:"Nombre",type:"text",required:!0,placeholder:"Ej: Caja Principal"},{name:"balance",label:"Saldo",type:"number",required:!0,placeholder:"Ej: 100000"}],emptyState:{title:"No hay cuentas registradas",description:'Haga clic en el botn "Agregar" para comenzar a registrar las cuentas del cierre diario.'},modalTitles:{add:"Agregar Cuenta",edit:"Modificar Cuenta"},addButtonText:"Agregar Cuenta",editButtonTooltip:"Modificar esta cuenta",deleteButtonTooltip:"Eliminar esta cuenta"}}},{name:"transactions",label:"Transacciones",type:"array",arrayConfig:{columns:[{header:"Descripcin",accessor:"description"},{header:"Monto",accessor:"amount",render:l=>(l==null?void 0:l.toLocaleString("es-CL",{style:"currency",currency:"CLP"}))||"N/A"},{header:"Tipo",accessor:"type"}],form:{fields:[{name:"description",label:"Descripcin",type:"text",required:!0,placeholder:"Ej: Venta de pan"},{name:"amount",label:"Monto",type:"number",required:!0,placeholder:"Ej: 5000"},{name:"type",label:"Tipo",type:"select",required:!0,options:[{value:"income",label:"Ingreso"},{value:"expense",label:"Gasto"}]}],emptyState:{title:"No hay transacciones registradas",description:'Haga clic en el botn "Agregar" para comenzar a registrar las transacciones del cierre diario.'},modalTitles:{add:"Agregar Transaccin",edit:"Modificar Transaccin"},addButtonText:"Agregar Transaccin",editButtonTooltip:"Modificar esta transaccin",deleteButtonTooltip:"Eliminar esta transaccin"}}}];return d.jsx(jn,{title:t?"Editar Cierre Diario":"Nuevo Cierre Diario",fields:i,initialValues:e,service:s,backPath:"/daily-closures"})}function yz(){const{id:t}=ze(),e=new Mv,n=l=>new Date(l).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),s=l=>l.toLocaleString("es-CL",{style:"currency",currency:"CLP"}),i=l=>{var u,f;return[{label:"Fecha",value:n(l.date)},{label:"Total Ingresos",value:s(l.totalIncome)},{label:"Total Gastos",value:s(l.totalExpenses)},{label:"Diferencia Total",value:s(l.totalDifference)},{label:"Observaciones",value:l.observations||"-"},{label:"Cantidad de Cuentas",value:((u=l.accounts)==null?void 0:u.length)||0},{label:"Cantidad de Transacciones",value:((f=l.transactions)==null?void 0:f.length)||0}]};return t?d.jsx(On,{title:"Cierre Diario",fields:i,editPath:`/daily-closures/${t}/edit`,backPath:"/daily-closures",service:e,id:t}):null}const vz=()=>{const t=[{name:"Calculadora de Precios",icon:gS,color:"bg-blue-500/10 text-blue-500"},{name:"Frutas y Verduras",icon:tI,color:"bg-green-500/10 text-green-500"},{name:"Actualizacin de Precios",icon:kI,color:"bg-purple-500/10 text-purple-500"}],e=[{name:"Total Productos",value:"1,234",icon:_S,color:"bg-blue-500/10 text-blue-500",description:"Productos registrados"},{name:"Total Pedidos",value:"456",icon:M_,color:"bg-green-500/10 text-green-500",description:"Pedidos procesados"},{name:"Total Compras",value:"789",icon:eg,color:"bg-purple-500/10 text-purple-500",description:"Compras realizadas"},{name:"Total Proveedores",value:"45",icon:QI,color:"bg-orange-500/10 text-orange-500",description:"Proveedores activos"},{name:"Total Clientes",value:"328",icon:ES,color:"bg-pink-500/10 text-pink-500",description:"Clientes registrados"},{name:"Total Empresas",value:"67",icon:pS,color:"bg-indigo-500/10 text-indigo-500",description:"Empresas asociadas"}],n={purchased:[{name:"Tomate",quantity:"500 kg",amount:"$15,000",trend:"+12%"},{name:"Cebolla",quantity:"300 kg",amount:"$9,000",trend:"+8%"},{name:"Papa",quantity:"800 kg",amount:"$12,000",trend:"+15%"}],produced:[{name:"Ensalada Mixta",quantity:"200 u",amount:"$20,000",trend:"+25%"},{name:"Sopa de Verduras",quantity:"150 u",amount:"$18,000",trend:"+10%"},{name:"Pur de Papa",quantity:"180 u",amount:"$15,000",trend:"+18%"}],ordered:[{name:"Ensalada Csar",quantity:"180 u",amount:"$21,600",trend:"+30%"},{name:"Vegetales Mixtos",quantity:"150 u",amount:"$13,500",trend:"+20%"},{name:"Papas Fritas",quantity:"250 u",amount:"$17,500",trend:"+22%"}]};return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:t.map(s=>d.jsx(nt,{className:"backdrop-blur-sm bg-card/80 hover:bg-card/90 transition-colors cursor-pointer",children:d.jsx(pt,{className:"p-6",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:`p-3 rounded-lg ${s.color}`,children:d.jsx(s.icon,{className:"h-6 w-6"})}),d.jsx("h3",{className:"text-lg font-semibold",children:s.name})]})})},s.name))}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:e.map(s=>d.jsx(nt,{className:"backdrop-blur-sm bg-card/80",children:d.jsx(pt,{className:"p-4",children:d.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[d.jsx("div",{className:`p-2 rounded-lg ${s.color} mb-1`,children:d.jsx(s.icon,{className:"h-5 w-5"})}),d.jsx("p",{className:"text-2xl font-bold",children:s.value}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium leading-none",children:s.name}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1 leading-none",children:s.description})]})]})})},s.name))}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs(nt,{className:"backdrop-blur-sm bg-card/80",children:[d.jsx(mn,{children:d.jsx(pn,{className:"text-xl font-semibold",children:"Productos ms Comprados"})}),d.jsx(pt,{className:"space-y-4",children:n.purchased.map((s,i)=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:d.jsx(eg,{className:"h-5 w-5 text-blue-500"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:s.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:s.quantity})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium",children:s.amount}),d.jsx("p",{className:"text-xs text-green-500",children:s.trend})]})]},i))})]}),d.jsxs(nt,{className:"backdrop-blur-sm bg-card/80",children:[d.jsx(mn,{children:d.jsx(pn,{className:"text-xl font-semibold",children:"Productos ms Producidos"})}),d.jsx(pt,{className:"space-y-4",children:n.produced.map((s,i)=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:d.jsx(xS,{className:"h-5 w-5 text-green-500"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:s.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:s.quantity})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium",children:s.amount}),d.jsx("p",{className:"text-xs text-green-500",children:s.trend})]})]},i))})]}),d.jsxs(nt,{className:"backdrop-blur-sm bg-card/80",children:[d.jsx(mn,{children:d.jsx(pn,{className:"text-xl font-semibold",children:"Productos ms Pedidos"})}),d.jsx(pt,{className:"space-y-4",children:n.ordered.map((s,i)=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:d.jsx(M_,{className:"h-5 w-5 text-purple-500"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:s.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:s.quantity})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium",children:s.amount}),d.jsx("p",{className:"text-xs text-green-500",children:s.trend})]})]},i))})]})]})]})},bz=d.jsxs(d.Fragment,{children:[d.jsx(ue,{path:"dashboard",element:d.jsx(vz,{})}),d.jsx(ue,{path:"customers",element:d.jsx(L3,{})}),d.jsx(ue,{path:"customers/new",element:d.jsx(NE,{})}),d.jsx(ue,{path:"customers/:id",element:d.jsx(M8,{})}),d.jsx(ue,{path:"customers/:id/edit",element:d.jsx(NE,{})}),d.jsx(ue,{path:"suppliers",element:d.jsx(L8,{})}),d.jsx(ue,{path:"suppliers/new",element:d.jsx(CE,{})}),d.jsx(ue,{path:"suppliers/:id",element:d.jsx(U8,{})}),d.jsx(ue,{path:"suppliers/:id/edit",element:d.jsx(CE,{})}),d.jsx(ue,{path:"workers",element:d.jsx(F8,{})}),d.jsx(ue,{path:"workers/new",element:d.jsx(TE,{})}),d.jsx(ue,{path:"workers/:id",element:d.jsx(H8,{})}),d.jsx(ue,{path:"workers/:id/edit",element:d.jsx(TE,{})}),d.jsx(ue,{path:"roles",element:d.jsx(q8,{})}),d.jsx(ue,{path:"roles/new",element:d.jsx(RE,{})}),d.jsx(ue,{path:"roles/:id",element:d.jsx(V8,{})}),d.jsx(ue,{path:"roles/:id/edit",element:d.jsx(RE,{})}),d.jsx(ue,{path:"units",element:d.jsx(G8,{})}),d.jsx(ue,{path:"units/new",element:d.jsx(DE,{})}),d.jsx(ue,{path:"units/:id",element:d.jsx(Y8,{})}),d.jsx(ue,{path:"units/:id/edit",element:d.jsx(DE,{})}),d.jsx(ue,{path:"parameters",element:d.jsx(K8,{})}),d.jsx(ue,{path:"parameters/new",element:d.jsx(AE,{})}),d.jsx(ue,{path:"parameters/:id",element:d.jsx(Q8,{})}),d.jsx(ue,{path:"parameters/:id/edit",element:d.jsx(AE,{})}),d.jsx(ue,{path:"purchase-orders",element:d.jsx(Z8,{})}),d.jsx(ue,{path:"purchase-orders/new",element:d.jsx(IE,{})}),d.jsx(ue,{path:"purchase-orders/:id",element:d.jsx(ez,{})}),d.jsx(ue,{path:"purchase-orders/:id/edit",element:d.jsx(IE,{})}),d.jsx(ue,{path:"customer-orders",element:d.jsx(nz,{})}),d.jsx(ue,{path:"customer-orders/new",element:d.jsx(jE,{})}),d.jsx(ue,{path:"customer-orders/:id",element:d.jsx(sz,{})}),d.jsx(ue,{path:"customer-orders/:id/edit",element:d.jsx(jE,{})}),d.jsx(ue,{path:"production-orders",element:d.jsx(iz,{})}),d.jsx(ue,{path:"production-orders/new",element:d.jsx(OE,{})}),d.jsx(ue,{path:"production-orders/:id",element:d.jsx(oz,{})}),d.jsx(ue,{path:"production-orders/:id/edit",element:d.jsx(OE,{})}),d.jsx(ue,{path:"recipes",element:d.jsx(lz,{})}),d.jsx(ue,{path:"recipes/new",element:d.jsx(kE,{})}),d.jsx(ue,{path:"recipes/:id",element:d.jsx(cz,{})}),d.jsx(ue,{path:"recipes/:id/edit",element:d.jsx(kE,{})}),d.jsx(ue,{path:"products",element:d.jsx(uz,{})}),d.jsx(ue,{path:"products/new",element:d.jsx(ME,{})}),d.jsx(ue,{path:"products/:id",element:d.jsx(dz,{})}),d.jsx(ue,{path:"products/:id/edit",element:d.jsx(ME,{})}),d.jsx(ue,{path:"incidents",element:d.jsx(hz,{})}),d.jsx(ue,{path:"incidents/new",element:d.jsx(PE,{})}),d.jsx(ue,{path:"incidents/:id",element:d.jsx(mz,{})}),d.jsx(ue,{path:"incidents/:id/edit",element:d.jsx(PE,{})}),d.jsx(ue,{path:"daily-closures",element:d.jsx(gz,{})}),d.jsx(ue,{path:"daily-closures/new",element:d.jsx(LE,{})}),d.jsx(ue,{path:"daily-closures/:id",element:d.jsx(yz,{})}),d.jsx(ue,{path:"daily-closures/:id/edit",element:d.jsx(LE,{})})]});var HT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},UE=A.createContext&&A.createContext(HT),xz=["attr","size","title"];function _z(t,e){if(t==null)return{};var n=wz(t,e),s,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)s=l[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function wz(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function _f(){return _f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},_f.apply(this,arguments)}function BE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function wf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BE(Object(n),!0).forEach(function(s){Ez(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Ez(t,e,n){return e=Sz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sz(t){var e=Nz(t,"string");return typeof e=="symbol"?e:e+""}function Nz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qT(t){return t&&t.map((e,n)=>A.createElement(e.tag,wf({key:n},e.attr),qT(e.child)))}function fu(t){return e=>A.createElement(Cz,_f({attr:wf({},t.attr)},e),qT(t.child))}function Cz(t){var e=n=>{var{attr:s,size:i,title:l}=t,u=_z(t,xz),f=i||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),A.createElement("svg",_f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,u,{className:m,style:wf(wf({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&A.createElement("title",null,l),t.children)};return UE!==void 0?A.createElement(UE.Consumer,null,n=>e(n)):e(HT)}function Tz(t){return fu({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function ti(t){return fu({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function Kp(t){return fu({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function ni(t){return fu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M475.115 163.781L336 252.309v-68.28c0-18.916-20.931-30.399-36.885-20.248L160 252.309V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h464c13.255 0 24-10.745 24-24V184.029c0-18.917-20.931-30.399-36.885-20.248z"},child:[]}]})(t)}function ri(t){return fu({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}const $g=()=>{const t=Ct(),[e,n]=A.useState({purchases:0,customerOrders:0,production:0}),[s,i]=A.useState(!0);A.useEffect(()=>{l()},[]);const l=async()=>{try{const f=new ps,m=new gs,p=new ms,[v,y,b]=await Promise.all([f.findByStatus(ve.PENDING),m.findByStatus(ve.PENDING),p.findByStatus(ve.PENDING)]);n({purchases:b.length,customerOrders:v.length,production:y.length})}catch(f){console.error("Error loading order counts:",f)}finally{i(!1)}},u=[{title:"Compras",icon:ri,path:"/mobile/purchases",description:"Gestin de rdenes de compra",count:e.purchases,status:"Pendientes"},{title:"Pedidos",icon:ti,path:"/mobile/orders",description:"Gestin de pedidos de clientes",count:e.customerOrders,status:"Pendientes"},{title:"Produccin",icon:ni,path:"/mobile/production",description:"Control de rdenes de produccin",count:e.production,status:"En Progreso"}];return s?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"p-4 space-y-4",children:d.jsx("div",{className:"grid grid-cols-1 gap-4",children:u.map((f,m)=>d.jsxs(nt,{className:"hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>t(f.path),children:[d.jsxs(mn,{className:"flex flex-row items-center space-y-0 pb-2",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[d.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary/10",children:A.createElement(f.icon,{className:"w-5 h-5 text-primary"})}),d.jsx(pn,{className:"text-xl",children:f.title})]}),f.count>0&&d.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10",children:d.jsx("span",{className:"text-sm font-medium text-primary",children:f.count})})]}),d.jsx(pt,{children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:f.description}),f.count>0&&d.jsxs("p",{className:"text-sm font-medium text-primary",children:[f.count," ",f.status]})]})})]},m))})})},VT=6048e5,Rz=864e5,$T=6e4,GT=36e5,zE=Symbol.for("constructDateFrom");function ys(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&zE in t?t[zE](e):t instanceof Date?new t.constructor(e):new Date(e)}function Rn(t,e){return ys(e||t,t)}let Dz={};function sh(){return Dz}function Hc(t,e){var f,m,p,v;const n=sh(),s=(e==null?void 0:e.weekStartsOn)??((m=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((v=(p=n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,i=Rn(t,e==null?void 0:e.in),l=i.getDay(),u=(l<s?7:0)+l-s;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function Ef(t,e){return Hc(t,{...e,weekStartsOn:1})}function YT(t,e){const n=Rn(t,e==null?void 0:e.in),s=n.getFullYear(),i=ys(n,0);i.setFullYear(s+1,0,4),i.setHours(0,0,0,0);const l=Ef(i),u=ys(n,0);u.setFullYear(s,0,4),u.setHours(0,0,0,0);const f=Ef(u);return n.getTime()>=l.getTime()?s+1:n.getTime()>=f.getTime()?s:s-1}function FE(t){const e=Rn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Az(t,...e){const n=ys.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function HE(t,e){const n=Rn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Iz(t,e,n){const[s,i]=Az(n==null?void 0:n.in,t,e),l=HE(s),u=HE(i),f=+l-FE(l),m=+u-FE(u);return Math.round((f-m)/Rz)}function jz(t,e){const n=YT(t,e),s=ys(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Ef(s)}function Oz(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function kz(t){return!(!Oz(t)&&typeof t!="number"||isNaN(+Rn(t)))}function Mz(t,e){const n=Rn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Pz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Lz=(t,e,n)=>{let s;const i=Pz[t];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function No(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Uz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Bz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fz={date:No({formats:Uz,defaultWidth:"full"}),time:No({formats:Bz,defaultWidth:"full"}),dateTime:No({formats:zz,defaultWidth:"full"})},Hz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qz=(t,e,n,s)=>Hz[t];function Dr(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let i;if(s==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,f=n!=null&&n.width?String(n.width):u;i=t.formattingValues[f]||t.formattingValues[u]}else{const u=t.defaultWidth,f=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[f]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return i[l]}}const Vz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$z={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Gz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Yz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Wz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qz=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Xz={ordinalNumber:Qz,era:Dr({values:Vz,defaultWidth:"wide"}),quarter:Dr({values:$z,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Dr({values:Gz,defaultWidth:"wide"}),day:Dr({values:Yz,defaultWidth:"wide"}),dayPeriod:Dr({values:Wz,defaultWidth:"wide",formattingValues:Kz,defaultFormattingWidth:"wide"})};function Ar(t){return(e,n={})=>{const s=n.width,i=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],l=e.match(i);if(!l)return null;const u=l[0],f=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(f)?Jz(f,y=>y.test(u)):Zz(f,y=>y.test(u));let p;p=t.valueCallback?t.valueCallback(m):m,p=n.valueCallback?n.valueCallback(p):p;const v=e.slice(u.length);return{value:p,rest:v}}}function Zz(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Jz(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function WT(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const i=s[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const f=e.slice(i.length);return{value:u,rest:f}}}const eF=/^(\d+)(th|st|nd|rd)?/i,tF=/\d+/i,nF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rF={any:[/^b/i,/^(a|c)/i]},sF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aF={any:[/1/i,/2/i,/3/i,/4/i]},iF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fF={ordinalNumber:WT({matchPattern:eF,parsePattern:tF,valueCallback:t=>parseInt(t,10)}),era:Ar({matchPatterns:nF,defaultMatchWidth:"wide",parsePatterns:rF,defaultParseWidth:"any"}),quarter:Ar({matchPatterns:sF,defaultMatchWidth:"wide",parsePatterns:aF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ar({matchPatterns:iF,defaultMatchWidth:"wide",parsePatterns:oF,defaultParseWidth:"any"}),day:Ar({matchPatterns:lF,defaultMatchWidth:"wide",parsePatterns:cF,defaultParseWidth:"any"}),dayPeriod:Ar({matchPatterns:uF,defaultMatchWidth:"any",parsePatterns:dF,defaultParseWidth:"any"})},hF={code:"en-US",formatDistance:Lz,formatLong:Fz,formatRelative:qz,localize:Xz,match:fF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mF(t,e){const n=Rn(t,e==null?void 0:e.in);return Iz(n,Mz(n))+1}function pF(t,e){const n=Rn(t,e==null?void 0:e.in),s=+Ef(n)-+jz(n);return Math.round(s/VT)+1}function KT(t,e){var v,y,b,x;const n=Rn(t,e==null?void 0:e.in),s=n.getFullYear(),i=sh(),l=(e==null?void 0:e.firstWeekContainsDate)??((y=(v=e==null?void 0:e.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(b=i.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??1,u=ys((e==null?void 0:e.in)||t,0);u.setFullYear(s+1,0,l),u.setHours(0,0,0,0);const f=Hc(u,e),m=ys((e==null?void 0:e.in)||t,0);m.setFullYear(s,0,l),m.setHours(0,0,0,0);const p=Hc(m,e);return+n>=+f?s+1:+n>=+p?s:s-1}function gF(t,e){var f,m,p,v;const n=sh(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(p=n.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,i=KT(t,e),l=ys((e==null?void 0:e.in)||t,0);return l.setFullYear(i,0,s),l.setHours(0,0,0,0),Hc(l,e)}function yF(t,e){const n=Rn(t,e==null?void 0:e.in),s=+Hc(n,e)-+gF(n,e);return Math.round(s/VT)+1}function Ge(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const Ws={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return Ge(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ge(n+1,2)},d(t,e){return Ge(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ge(t.getHours()%12||12,e.length)},H(t,e){return Ge(t.getHours(),e.length)},m(t,e){return Ge(t.getMinutes(),e.length)},s(t,e){return Ge(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return Ge(i,e.length)}},ho={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qE={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return Ws.y(t,e)},Y:function(t,e,n,s){const i=KT(t,s),l=i>0?i:1-i;if(e==="YY"){const u=l%100;return Ge(u,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):Ge(l,e.length)},R:function(t,e){const n=YT(t);return Ge(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ge(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Ge(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Ge(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return Ws.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return Ge(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const i=yF(t,s);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ge(i,e.length)},I:function(t,e,n){const s=pF(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Ge(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ws.d(t,e)},D:function(t,e,n){const s=mF(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ge(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const i=t.getDay(),l=(i-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Ge(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const i=t.getDay(),l=(i-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Ge(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),i=s===0?7:s;switch(e){case"i":return String(i);case"ii":return Ge(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let i;switch(s===12?i=ho.noon:s===0?i=ho.midnight:i=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let i;switch(s>=17?i=ho.evening:s>=12?i=ho.afternoon:s>=4?i=ho.morning:i=ho.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Ws.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ws.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ge(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ge(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ws.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ws.s(t,e)},S:function(t,e){return Ws.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return $E(s);case"XXXX":case"XX":return si(s);case"XXXXX":case"XXX":default:return si(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return $E(s);case"xxxx":case"xx":return si(s);case"xxxxx":case"xxx":default:return si(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+VE(s,":");case"OOOO":default:return"GMT"+si(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+VE(s,":");case"zzzz":default:return"GMT"+si(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return Ge(s,e.length)},T:function(t,e,n){return Ge(+t,e.length)}};function VE(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),i=Math.trunc(s/60),l=s%60;return l===0?n+String(i):n+String(i)+e+Ge(l,2)}function $E(t,e){return t%60===0?(t>0?"-":"+")+Ge(Math.abs(t)/60,2):si(t,e)}function si(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),i=Ge(Math.trunc(s/60),2),l=Ge(s%60,2);return n+i+e+l}const GE=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},QT=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},vF=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return GE(t,e);let l;switch(s){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",GE(s,e)).replace("{{time}}",QT(i,e))},bF={p:QT,P:vF},xF=/^D+$/,_F=/^Y+$/,wF=["D","DD","YY","YYYY"];function EF(t){return xF.test(t)}function SF(t){return _F.test(t)}function NF(t,e,n){const s=CF(t,e,n);if(console.warn(s),wF.includes(t))throw new RangeError(s)}function CF(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const TF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DF=/^'([^]*?)'?$/,AF=/''/g,IF=/[a-zA-Z]/;function Wt(t,e,n){var v,y,b,x,E,S,C,N;const s=sh(),i=(n==null?void 0:n.locale)??s.locale??hF,l=(n==null?void 0:n.firstWeekContainsDate)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(b=s.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??1,u=(n==null?void 0:n.weekStartsOn)??((S=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:S.weekStartsOn)??s.weekStartsOn??((N=(C=s.locale)==null?void 0:C.options)==null?void 0:N.weekStartsOn)??0,f=Rn(t,n==null?void 0:n.in);if(!kz(f))throw new RangeError("Invalid time value");let m=e.match(RF).map(T=>{const R=T[0];if(R==="p"||R==="P"){const I=bF[R];return I(T,i.formatLong)}return T}).join("").match(TF).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const R=T[0];if(R==="'")return{isToken:!1,value:jF(T)};if(qE[R])return{isToken:!0,value:T};if(R.match(IF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:T}});i.localize.preprocessor&&(m=i.localize.preprocessor(f,m));const p={firstWeekContainsDate:l,weekStartsOn:u,locale:i};return m.map(T=>{if(!T.isToken)return T.value;const R=T.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&SF(R)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&EF(R))&&NF(R,e,String(t));const I=qE[R[0]];return I(f,R,i.localize,p)}).join("")}function jF(t){const e=t.match(DF);return e?e[1].replace(AF,"'"):t}function el(t,e){const n=()=>ys(e==null?void 0:e.in,NaN),i=PF(t);let l;if(i.date){const p=LF(i.date,2);l=UF(p.restDateString,p.year)}if(!l||isNaN(+l))return n();const u=+l;let f=0,m;if(i.time&&(f=BF(i.time),isNaN(f)))return n();if(i.timezone){if(m=zF(i.timezone),isNaN(m))return n()}else{const p=new Date(u+f),v=Rn(0,e==null?void 0:e.in);return v.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),v.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),v}return Rn(u+f+m,e==null?void 0:e.in)}const Md={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},OF=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,kF=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,MF=/^([+-])(\d{2})(?::?(\d{2}))?$/;function PF(t){const e={},n=t.split(Md.dateTimeDelimiter);let s;if(n.length>2)return e;if(/:/.test(n[0])?s=n[0]:(e.date=n[0],s=n[1],Md.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Md.timeZoneDelimiter)[0],s=t.substr(e.date.length,t.length))),s){const i=Md.timezone.exec(s);i?(e.time=s.replace(i[1],""),e.timezone=i[1]):e.time=s}return e}function LF(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=t.match(n);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,l=s[2]?parseInt(s[2]):null;return{year:l===null?i:l*100,restDateString:t.slice((s[1]||s[2]).length)}}function UF(t,e){if(e===null)return new Date(NaN);const n=t.match(OF);if(!n)return new Date(NaN);const s=!!n[4],i=lc(n[1]),l=lc(n[2])-1,u=lc(n[3]),f=lc(n[4]),m=lc(n[5])-1;if(s)return $F(e,f,m)?FF(e,f,m):new Date(NaN);{const p=new Date(0);return!qF(e,l,u)||!VF(e,i)?new Date(NaN):(p.setUTCFullYear(e,l,Math.max(i,u)),p)}}function lc(t){return t?parseInt(t):1}function BF(t){const e=t.match(kF);if(!e)return NaN;const n=Qp(e[1]),s=Qp(e[2]),i=Qp(e[3]);return GF(n,s,i)?n*GT+s*$T+i*1e3:NaN}function Qp(t){return t&&parseFloat(t.replace(",","."))||0}function zF(t){if(t==="Z")return 0;const e=t.match(MF);if(!e)return 0;const n=e[1]==="+"?-1:1,s=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return YF(s,i)?n*(s*GT+i*$T):NaN}function FF(t,e,n){const s=new Date(0);s.setUTCFullYear(t,0,4);const i=s.getUTCDay()||7,l=(e-1)*7+n+1-i;return s.setUTCDate(s.getUTCDate()+l),s}const HF=[31,null,31,30,31,30,31,31,30,31,30,31];function XT(t){return t%400===0||t%4===0&&t%100!==0}function qF(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(HF[e]||(XT(t)?29:28))}function VF(t,e){return e>=1&&e<=(XT(t)?366:365)}function $F(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function GF(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function YF(t,e){return e>=0&&e<=59}const WF={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},KF=(t,e,n)=>{let s;const i=WF[t];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+s:"hace "+s:s},QF={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},XF={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},ZF={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},JF={date:No({formats:QF,defaultWidth:"full"}),time:No({formats:XF,defaultWidth:"full"}),dateTime:No({formats:ZF,defaultWidth:"full"})},eH={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},tH={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},nH=(t,e,n,s)=>e.getHours()!==1?tH[t]:eH[t],rH={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},sH={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},aH={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},iH={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},oH={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},lH={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},cH=(t,e)=>Number(t)+"",uH={ordinalNumber:cH,era:Dr({values:rH,defaultWidth:"wide"}),quarter:Dr({values:sH,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Dr({values:aH,defaultWidth:"wide"}),day:Dr({values:iH,defaultWidth:"wide"}),dayPeriod:Dr({values:oH,defaultWidth:"wide",formattingValues:lH,defaultFormattingWidth:"wide"})},dH=/^(\d+)()?/i,fH=/\d+/i,hH={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},mH={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},pH={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},gH={any:[/1/i,/2/i,/3/i,/4/i]},yH={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},vH={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},bH={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},xH={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},_H={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},wH={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},EH={ordinalNumber:WT({matchPattern:dH,parsePattern:fH,valueCallback:function(t){return parseInt(t,10)}}),era:Ar({matchPatterns:hH,defaultMatchWidth:"wide",parsePatterns:mH,defaultParseWidth:"any"}),quarter:Ar({matchPatterns:pH,defaultMatchWidth:"wide",parsePatterns:gH,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ar({matchPatterns:yH,defaultMatchWidth:"wide",parsePatterns:vH,defaultParseWidth:"any"}),day:Ar({matchPatterns:bH,defaultMatchWidth:"wide",parsePatterns:xH,defaultParseWidth:"any"}),dayPeriod:Ar({matchPatterns:_H,defaultMatchWidth:"any",parsePatterns:wH,defaultParseWidth:"any"})},Ni={code:"es",formatDistance:KF,formatLong:JF,formatRelative:nH,localize:uH,match:EH,options:{weekStartsOn:1,firstWeekContainsDate:1}};class SH{constructor(e){zt(this,"order");zt(this,"type");zt(this,"customerName");zt(this,"workerName");zt(this,"supplierName");zt(this,"products");zt(this,"recipes");this.order=e.order,this.type=e.type,this.customerName=e.customerName,this.workerName=e.workerName,this.supplierName=e.supplierName,this.products=e.products,this.recipes=e.recipes}formatDate(e){try{const n=e instanceof Date?e:new Date(e);return Wt(n,"PPP",{locale:Ni})}catch(n){return console.error("Error formatting date:",n),"Fecha no disponible"}}getStatusLabel(e){switch(e){case"PENDING":return"Pendiente";case"COMPLETED":return"Completado";default:return e}}getHeader(){switch(this.type){case"customer":return`*PEDIDO #${this.order.id.slice(0,3).toUpperCase()}${this.order.id.slice(-2).toUpperCase()}*
Fecha: ${this.formatDate(this.order.orderDate)}
Estado: ${this.getStatusLabel(this.order.status)}
Cliente: ${this.customerName||"No asignado"}
`;case"production":return`*ORDEN DE PRODUCCIN #${this.order.id.slice(0,3).toUpperCase()}${this.order.id.slice(-2).toUpperCase()}*
Fecha: ${this.formatDate(this.order.orderDate)}
Estado: ${this.getStatusLabel(this.order.status)}
Responsable: ${this.workerName||"No asignado"}
`;case"purchase":return`*ORDEN DE COMPRA #${this.order.id.slice(0,3).toUpperCase()}${this.order.id.slice(-2).toUpperCase()}*
Fecha: ${this.formatDate(this.order.orderDate)}
Estado: ${this.getStatusLabel(this.order.status)}
Proveedor: ${this.supplierName||"No asignado"}
`;default:return""}}getItems(){var n,s,i,l;let e=`
*DETALLE:*
`;if(this.type==="customer"){const u=this.order;(n=u.products)!=null&&n.length&&(e+=`
*Productos:*
`,u.products.forEach(f=>{var p,v;const m=((v=(p=this.products)==null?void 0:p.find(y=>y.id===f.productId))==null?void 0:v.name)||"Producto no encontrado";e+=` ${m}: ${f.quantity}
`})),(s=u.recipes)!=null&&s.length&&(e+=`
*Recetas:*
`,u.recipes.forEach(f=>{var p,v;const m=((v=(p=this.recipes)==null?void 0:p.find(y=>y.id===f.recipeId))==null?void 0:v.name)||"Receta no encontrada";e+=` ${m}: ${f.quantity}
`}))}else if(this.type==="production"){const u=this.order;(i=u.recipes)!=null&&i.length&&u.recipes.forEach(f=>{var p,v;const m=((v=(p=this.recipes)==null?void 0:p.find(y=>y.id===f.recipeId))==null?void 0:v.name)||"Receta no encontrada";e+=` ${m}: ${f.quantity}
`})}else if(this.type==="purchase"){const u=this.order;(l=u.products)!=null&&l.length&&u.products.forEach(f=>{var p,v;const m=((v=(p=this.products)==null?void 0:p.find(y=>y.id===f.productId))==null?void 0:v.name)||"Producto no encontrado";e+=` ${m}: ${f.quantity}
`})}return e}getTotal(){var n,s,i,l;let e=0;if(this.type==="customer"){const u=this.order;e=(((n=u.products)==null?void 0:n.reduce((f,m)=>f+m.quantity,0))||0)+(((s=u.recipes)==null?void 0:s.reduce((f,m)=>f+m.quantity,0))||0)}else this.type==="production"?e=((i=this.order.recipes)==null?void 0:i.reduce((f,m)=>f+m.quantity,0))||0:this.type==="purchase"&&(e=((l=this.order.products)==null?void 0:l.reduce((f,m)=>f+m.quantity,0))||0);return e>0?`
*Total: ${e}*`:""}toString(){return this.getHeader()+this.getItems()+this.getTotal()}}const Pv=({onView:t,onEdit:e,onDelete:n,order:s,type:i,customerName:l,customerPhone:u,workerName:f,workerPhone:m,supplierName:p,supplierPhone:v,products:y,recipes:b})=>{const x=()=>{let E="";switch(i){case"customer":E=u||"";break;case"production":E=m||"";break;case"purchase":E=v||"";break}const S=new SH({order:s,type:i,customerName:l,workerName:f,supplierName:p,products:y,recipes:b}).toString();let C=E.replace(/\D/g,"");C&&(C.startsWith("0")&&(C=C.slice(1)),C.startsWith("598")||(C="598"+C));const N=C?`https://api.whatsapp.com/send?phone=${C}&text=${encodeURIComponent(S)}`:`https://api.whatsapp.com/send?text=${encodeURIComponent(S)}`;window.open(N,"_blank")};return d.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4",children:[d.jsxs(_e,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px]",onClick:t,children:[d.jsx(bS,{className:"h-8 w-8"}),d.jsx("span",{className:"text-base",children:"Ver"})]}),d.jsxs(_e,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px] bg-orange-500 hover:bg-orange-600 text-white border-orange-500",onClick:e,children:[d.jsx(Tf,{className:"h-8 w-8"}),d.jsx("span",{className:"text-base",children:"Editar"})]}),d.jsxs(_e,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px] bg-green-500 hover:bg-green-600 text-white border-green-500",onClick:x,children:[d.jsx(RI,{className:"h-8 w-8"}),d.jsx("span",{className:"text-base",children:"WhatsApp"})]}),d.jsxs(_e,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px] bg-red-500 hover:bg-red-600 text-white border-red-500",onClick:n,children:[d.jsx(Rf,{className:"h-8 w-8"}),d.jsx("span",{className:"text-base",children:"Eliminar"})]})]})},NH=()=>{const[t,e]=A.useState([]),[n,s]=A.useState([]),[i,l]=A.useState([]),[u,f]=A.useState(!0),m=Ct(),p=new ms;A.useEffect(()=>{v()},[]);const v=async()=>{try{const[N,T,R]=await Promise.all([p.findAll(),new vr().findAll(),new Nt().findAll()]),I=N.sort((O,B)=>new Date(B.orderDate).getTime()-new Date(O.orderDate).getTime());e(I),s(T),l(R)}catch(N){console.error("Error loading data:",N)}finally{f(!1)}},y=N=>{try{const T=typeof N=="string"?el(N):N;return Wt(T,"PPP",{locale:Ni})}catch(T){return console.error("Error formatting date:",T),"Fecha no disponible"}},b=N=>{switch(N){case ve.PENDING:return"text-yellow-500 bg-yellow-500/10";case ve.COMPLETED:return"text-green-500 bg-green-500/10";default:return"text-gray-500 bg-gray-500/10"}},x=N=>{switch(N){case ve.PENDING:return"Pendiente";case ve.COMPLETED:return"Completado";default:return N}},E=N=>{if(!N)return"";const T=N.slice(0,3),R=N.slice(-2);return`${T}${R}`.toUpperCase()},S=N=>{const T=n.find(R=>R.id===N);return(T==null?void 0:T.commercialName)||"No asignado"},C=(N,T)=>{const R=document.querySelector('[role="dialog"]');if(R){const I=R.querySelector('button[data-state="open"]');I&&I instanceof HTMLButtonElement&&I.click()}switch(N){case"view":m(`/mobile/purchases/${T.id}/view`);break;case"edit":m(`/mobile/purchases/${T.id}/edit`);break;case"delete":m(`/mobile/purchases/${T.id}/delete`);break}};return u?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(_e,{className:"w-full flex items-center gap-2",onClick:()=>m("/mobile/purchases/new"),children:[d.jsx(ta,{className:"h-4 w-4"}),"Nueva Orden de Compra"]}),d.jsxs("div",{className:"space-y-4",children:[t.map(N=>{var T,R;return d.jsxs(Kf,{children:[d.jsx(gv,{asChild:!0,children:d.jsx(nt,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:d.jsx(pt,{className:"p-4",children:d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"font-medium",children:["Compra #",E(N.id)]}),d.jsx("span",{className:"text-sm text-muted-foreground",children:y(N.orderDate)})]}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(N.status)}`,children:x(N.status)})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Proveedor:"}),d.jsx("span",{className:"font-medium",children:S(N.supplierId)})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Productos:"}),d.jsx("span",{className:"font-medium",children:((T=N.products)==null?void 0:T.length)||0})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Total:"}),d.jsx("span",{className:"font-medium",children:N.totalItems||0})]})]})]})})})}),d.jsxs(iu,{className:"sm:max-w-[425px]",children:[d.jsx(ou,{children:d.jsx(lu,{children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("span",{children:["Compra #",E(N.id)]}),d.jsx("span",{className:"text-sm font-normal text-gray-500",children:y(N.orderDate)})]})})}),d.jsx(Pv,{onView:()=>C("view",N),onEdit:()=>C("edit",N),onDelete:()=>C("delete",N),onShare:()=>{},order:N,type:"purchase",supplierName:S(N.supplierId),supplierPhone:(R=n.find(I=>I.id===N.supplierId))==null?void 0:R.phone,products:i})]})]},N.id)}),t.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay rdenes de compra"})})]})]})})},CH=()=>{const{id:t}=ze(),[e,n]=A.useState(null),[s,i]=A.useState([]),[l,u]=A.useState([]),[f,m]=A.useState(!0);A.useEffect(()=>{(async()=>{if(t)try{const[S,C,N]=await Promise.all([new ms().findById(t),new vr().findAll(),new Nt().findAll()]);n(S),i(C),u(N)}catch(S){console.error("Error loading data:",S)}finally{m(!1)}})()},[t]);const p=E=>{try{if(!E)return"Fecha no disponible";let S;if(E instanceof Date)S=E;else if(typeof E=="string")S=el(E);else if(typeof E=="object"&&"seconds"in E)S=new Date(E.seconds*1e3);else throw new Error("Invalid date format");return isNaN(S.getTime())?"Fecha invlida":Wt(S,"PPP",{locale:Ni})}catch(S){return console.error("Error formatting date:",S),"Fecha no disponible"}},v=E=>{switch(E){case ve.PENDING:return"text-yellow-500 bg-yellow-500/10";case ve.COMPLETED:return"text-green-500 bg-green-500/10";default:return"text-gray-500 bg-gray-500/10"}},y=E=>{switch(E){case ve.PENDING:return"Pendiente";case ve.COMPLETED:return"Completado";default:return E}},b=E=>{const S=s.find(C=>C.id===E);return(S==null?void 0:S.commercialName)||"No asignado"},x=E=>{const S=l.find(C=>C.id===E);return(S==null?void 0:S.name)||"Producto no encontrado"};return f?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):e?d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(nt,{children:[d.jsx(mn,{children:d.jsx(pn,{children:"Informacin General"})}),d.jsxs(pt,{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-muted-foreground",children:"Estado"}),d.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${v(e.status)}`,children:y(e.status)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Fecha de Compra"}),d.jsx("span",{children:p(e.orderDate)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Proveedor"}),d.jsx("span",{children:b(e.supplierId)})]})]})]}),e.products&&e.products.length>0&&d.jsxs(nt,{children:[d.jsx(mn,{children:d.jsx(pn,{children:"Productos"})}),d.jsx(pt,{children:d.jsx("div",{className:"space-y-4",children:e.products.map((E,S)=>d.jsx("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"font-medium",children:x(E.productId)}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Cantidad: ",E.quantity]})]})},S))})})]})]}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Orden no encontrada"})})};var Lv="Collapsible",[TH,r7]=Xo(Lv),[RH,Uv]=TH(Lv),ZT=_.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:s,defaultOpen:i,disabled:l,onOpenChange:u,...f}=t,[m=!1,p]=su({prop:s,defaultProp:i,onChange:u});return d.jsx(RH,{scope:n,disabled:l,contentId:Kn(),open:m,onOpenToggle:_.useCallback(()=>p(v=>!v),[p]),children:d.jsx($e.div,{"data-state":zv(m),"data-disabled":l?"":void 0,...f,ref:e})})});ZT.displayName=Lv;var JT="CollapsibleTrigger",eR=_.forwardRef((t,e)=>{const{__scopeCollapsible:n,...s}=t,i=Uv(JT,n);return d.jsx($e.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":zv(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...s,ref:e,onClick:ft(t.onClick,i.onOpenToggle)})});eR.displayName=JT;var Bv="CollapsibleContent",tR=_.forwardRef((t,e)=>{const{forceMount:n,...s}=t,i=Uv(Bv,t.__scopeCollapsible);return d.jsx(xs,{present:n||i.open,children:({present:l})=>d.jsx(DH,{...s,ref:e,present:l})})});tR.displayName=Bv;var DH=_.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:s,children:i,...l}=t,u=Uv(Bv,n),[f,m]=_.useState(s),p=_.useRef(null),v=an(e,p),y=_.useRef(0),b=y.current,x=_.useRef(0),E=x.current,S=u.open||f,C=_.useRef(S),N=_.useRef(void 0);return _.useEffect(()=>{const T=requestAnimationFrame(()=>C.current=!1);return()=>cancelAnimationFrame(T)},[]),ma(()=>{const T=p.current;if(T){N.current=N.current||{transitionDuration:T.style.transitionDuration,animationName:T.style.animationName},T.style.transitionDuration="0s",T.style.animationName="none";const R=T.getBoundingClientRect();y.current=R.height,x.current=R.width,C.current||(T.style.transitionDuration=N.current.transitionDuration,T.style.animationName=N.current.animationName),m(s)}},[u.open,s]),d.jsx($e.div,{"data-state":zv(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!S,...l,ref:v,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":E?`${E}px`:void 0,...t.style},children:S&&i})});function zv(t){return t?"open":"closed"}var AH=ZT;const Fv=AH,Hv=eR,qv=tR,nR=({value:t,unit:e,onQuantityChange:n,onClick:s})=>{const[i,l]=A.useState(!1),u=A.useRef(null);return A.useEffect(()=>{i&&u.current&&u.current.focus()},[i]),i?d.jsxs("div",{className:"flex items-center bg-transparent",children:[d.jsx(gn,{ref:u,type:"number",min:"1",className:"h-10 w-20 text-left pl-0 border-0 text-lg font-bold text-blue-600 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0",defaultValue:"",onBlur:f=>{const m=Number(f.target.value);m>0&&n(m),l(!1)},onKeyDown:f=>{f.key==="Enter"&&f.target.blur(),f.key==="Escape"&&l(!1)},onClick:f=>f.stopPropagation()}),d.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(e==null?void 0:e.name)||(e==null?void 0:e.symbol)})]}):d.jsxs("button",{type:"button",className:"flex items-center gap-2 text-left",onClick:f=>{f.stopPropagation(),l(!0),s==null||s(f)},children:[d.jsx("span",{className:"text-lg font-bold text-blue-600",children:t}),d.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(e==null?void 0:e.name)||(e==null?void 0:e.symbol)})]})},YE=()=>{var $,se;const{id:t}=ze(),e=Ct(),[n,s]=A.useState(!0),[i,l]=A.useState(!1),[u,f]=A.useState(!1),[m,p]=A.useState([]),[v,y]=A.useState([]),[b,x]=A.useState([]),[E,S]=A.useState(""),[C,N]=A.useState(1),[T,R]=A.useState([]),[I,O]=A.useState({orderDate:new Date,status:ve.PENDING,supplierId:"",products:[]});A.useEffect(()=>{B()},[t]);const B=async()=>{try{const[Q,ae,re]=await Promise.all([new vr().findAll(),new Nt().findAll(),new Mt().findAll()]);if(p(Q.map(oe=>({id:oe.id,commercialName:oe.commercialName}))),y(ae),x(re),R(ae),t){const F=await new ms().findById(t);F&&O({...F,orderDate:F.orderDate instanceof Date?F.orderDate:new Date(F.orderDate)})}}catch(Q){console.error("Error loading data:",Q),Ue.error("Error al cargar los datos")}finally{s(!1)}},k=()=>{var ae;if(!E)return;if(C<=0){Ue.error("La cantidad debe ser mayor a 0");return}const Q=(ae=I.products)==null?void 0:ae.findIndex(re=>re.productId===E);if(Q!==void 0&&Q>=0){const re=[...I.products||[]];re[Q].quantity+=C,O(oe=>({...oe,products:re}))}else O(re=>({...re,products:[...re.products||[],{productId:E,quantity:C}]}));S(""),N(1)},Y=Q=>{O(ae=>{var re;return{...ae,products:(re=ae.products)==null?void 0:re.filter((oe,F)=>F!==Q)}})},P=async Q=>{var ae;if(Q.preventDefault(),!I.supplierId){Ue.error("Debe seleccionar un proveedor");return}if(!((ae=I.products)!=null&&ae.length)){Ue.error("Debe agregar al menos un producto");return}l(!0);try{const re=new ms,oe={...I,orderDate:I.orderDate instanceof Date?I.orderDate:new Date(I.orderDate||new Date)};t?(await re.update(t,oe),Ue.success("Orden actualizada correctamente")):(await re.create(oe),Ue.success("Orden creada correctamente")),e("/mobile/purchases")}catch(re){console.error("Error saving order:",re),Ue.error("Error al guardar la orden")}finally{l(!1)}};return n?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("form",{onSubmit:P,className:"p-4 space-y-4 max-w-lg mx-auto",children:[d.jsx(Fv,{open:u,onOpenChange:f,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>f(!u),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-sm font-medium",children:"Informacin General"}),!u&&d.jsx("span",{className:"text-xs text-gray-500",children:I.supplierId?($=m.find(Q=>Q.id===I.supplierId))==null?void 0:$.commercialName:"Sin asignar"})]}),d.jsx(Hv,{asChild:!0,children:d.jsx(_e,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:u?d.jsx(sy,{className:"h-4 w-4"}):d.jsx(ry,{className:"h-4 w-4"})})})]}),d.jsx(qv,{children:d.jsxs("div",{className:"p-4 space-y-4 border-t",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Wn,{htmlFor:"orderDate",className:"text-sm text-gray-600",children:"Fecha de Orden"}),d.jsx(gn,{id:"orderDate",type:"date",className:"h-10",value:I.orderDate instanceof Date?Wt(I.orderDate,"yyyy-MM-dd"):Wt(new Date(I.orderDate||new Date),"yyyy-MM-dd"),onChange:Q=>O(ae=>({...ae,orderDate:new Date(Q.target.value)}))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Wn,{htmlFor:"supplierId",className:"text-sm text-gray-600",children:"Proveedor"}),d.jsxs("select",{id:"supplierId",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:I.supplierId,onChange:Q=>O(ae=>({...ae,supplierId:Q.target.value})),children:[d.jsx("option",{value:"",children:"Seleccionar proveedor"}),m.map(Q=>d.jsx("option",{value:Q.id,children:Q.commercialName},Q.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Wn,{htmlFor:"status",className:"text-sm text-gray-600",children:"Estado"}),d.jsxs("select",{id:"status",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:I.status,onChange:Q=>O(ae=>({...ae,status:Q.target.value})),children:[d.jsx("option",{value:ve.PENDING,children:"Pendiente"}),d.jsx("option",{value:ve.COMPLETED,children:"Completado"})]})]})]})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm border px-4 py-2",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex items-center gap-4",children:d.jsxs("span",{className:"text-sm text-gray-500",children:[((se=I.products)==null?void 0:se.length)||0," productos  ",(I.products||[]).reduce((Q,ae)=>Q+ae.quantity,0)," items"]})}),d.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(I.products||[]).reduce((Q,ae)=>{const re=v.find(oe=>oe.id===ae.productId);return Q+((re==null?void 0:re.purchasePrice)||0)*ae.quantity},0).toFixed(2)]})]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(gn,{type:"text",placeholder:"Buscar productos...",className:"w-full pl-9",onChange:Q=>{const ae=Q.target.value.toLowerCase();R(v.filter(re=>re.name.toLowerCase().includes(ae)))}}),d.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.3-4.3"})]})]}),d.jsx("div",{className:"grid grid-cols-1 gap-2",children:T.map(Q=>{var re;const ae=(re=I.products)==null?void 0:re.find(oe=>oe.productId===Q.id);return d.jsx("div",{className:`w-full bg-white rounded-lg border shadow-sm cursor-pointer transition-all relative ${ae?"border-primary ring-1 ring-primary":"hover:bg-gray-50/50"}`,onClick:oe=>{oe.target.tagName},onDoubleClick:()=>{var oe;ae?Y(((oe=I.products)==null?void 0:oe.findIndex(F=>F.productId===Q.id))||0):(S(Q.id),N(1),k())},children:d.jsxs("div",{className:"p-4",children:[d.jsx("span",{className:"absolute top-0 right-0 w-6 h-6 flex items-center justify-center text-xs font-medium text-white rounded-bl-lg bg-purple-500",children:"P"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(du,{checked:ae!==void 0,onCheckedChange:oe=>{var F;oe?(S(Q.id),N(1),k()):Y(((F=I.products)==null?void 0:F.findIndex(le=>le.productId===Q.id))||0)},className:"h-5 w-5",onClick:oe=>oe.stopPropagation()}),d.jsx("div",{className:"flex-1",children:d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:"font-medium text-base",children:Q.name})})})]}),ae&&d.jsx("div",{className:"mt-3",children:d.jsxs("div",{className:"ml-8 space-y-2",children:[d.jsx(nR,{value:ae.quantity,unit:b.find(oe=>oe.id===Q.purchaseUnitId),onQuantityChange:oe=>{const F=[...I.products||[]],le=F.findIndex(te=>te.productId===Q.id);le>=0&&(F[le].quantity=oe,O(te=>({...te,products:F})))}}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Costo unitario:"}),d.jsxs("span",{className:"font-medium",children:["$",(Q.purchasePrice||0).toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Total:"}),d.jsxs("span",{className:"font-semibold text-blue-600",children:["$",((Q.purchasePrice||0)*ae.quantity).toFixed(2)]})]})]})})]})},Q.id)})}),v.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay productos disponibles"})})]}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:d.jsxs("div",{className:"flex flex-col gap-2 max-w-lg mx-auto",children:[d.jsx(_e,{type:"submit",disabled:i,className:"h-11",children:i?"Guardando...":t?"Guardar Cambios":"Crear Orden"}),d.jsx(_e,{type:"button",variant:"outline",onClick:()=>e(-1),disabled:i,className:"h-11",children:"Cancelar"})]})})]})})},IH=()=>{const{id:t}=ze(),e=Ct(),n=async()=>{if(t)try{await new ms().delete(t),e("/mobile/purchases")}catch(i){console.error("Error deleting order:",i)}},s=()=>{e(-1)};return d.jsx("div",{className:"p-4",children:d.jsx(nt,{children:d.jsx(pt,{className:"pt-6",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-center",children:"Est seguro que desea eliminar esta orden de compra?"}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx(_e,{variant:"destructive",onClick:n,className:"w-full",children:"Eliminar"}),d.jsx(_e,{variant:"outline",onClick:s,className:"w-full",children:"Cancelar"})]})]})})})})},jH=()=>{const[t,e]=A.useState([]),[n,s]=A.useState([]),[i,l]=A.useState([]),[u,f]=A.useState([]),[m,p]=A.useState(!0),v=Ct(),y=new ps;A.useEffect(()=>{b()},[]);const b=async()=>{try{const[R,I,O,B]=await Promise.all([y.findAll(),new bs().findAll(),new Nt().findAll(),new sn().findAll()]),k=R.sort((Y,P)=>{const $=new Date(Y.orderDate).getTime();return new Date(P.orderDate).getTime()-$});e(k),s(I),l(O),f(B)}catch(R){console.error("Error loading data:",R)}finally{p(!1)}},x=R=>{try{if(!R)return"Fecha no disponible";let I;if(R instanceof Date)I=R;else if(typeof R=="string")I=el(R);else if(typeof R=="object"&&"seconds"in R)I=new Date(R.seconds*1e3);else throw new Error("Invalid date format");return isNaN(I.getTime())?"Fecha invlida":Wt(I,"PPP",{locale:Ni})}catch(I){return console.error("Error formatting date:",I),"Fecha no disponible"}},E=R=>{switch(R){case ve.PENDING:return"text-yellow-500 bg-yellow-500/10";case ve.COMPLETED:return"text-green-500 bg-green-500/10";default:return"text-gray-500 bg-gray-500/10"}},S=R=>{switch(R){case ve.PENDING:return"Pendiente";case ve.COMPLETED:return"Completado";default:return R}},C=R=>{if(!R)return"";const I=R.slice(0,3),O=R.slice(-2);return`${I}${O}`.toUpperCase()},N=R=>{const I=n.find(O=>O.id===R);return(I==null?void 0:I.name)||"No asignado"},T=(R,I)=>{const O=document.querySelector('[role="dialog"]');if(O){const B=O.querySelector('button[data-state="open"]');B&&B instanceof HTMLButtonElement&&B.click()}switch(R){case"view":v(`/mobile/orders/${I.id}/view`);break;case"edit":v(`/mobile/orders/${I.id}/edit`);break;case"delete":v(`/mobile/orders/${I.id}/delete`);break}};return m?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(_e,{className:"w-full flex items-center gap-2",onClick:()=>v("/mobile/orders/new"),children:[d.jsx(ta,{className:"h-4 w-4"}),"Nuevo Pedido"]}),d.jsxs("div",{className:"space-y-4",children:[t.map(R=>{var I,O,B;return d.jsxs(Kf,{children:[d.jsx(gv,{asChild:!0,children:d.jsx(nt,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:d.jsx(pt,{className:"p-4",children:d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"font-medium",children:["Pedido #",C(R.id)]}),d.jsx("span",{className:"text-sm text-muted-foreground",children:x(R.orderDate)})]}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E(R.status)}`,children:S(R.status)})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Cliente:"}),d.jsx("span",{className:"font-medium",children:N(R.customerId)})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Productos:"}),d.jsx("span",{className:"font-medium",children:((I=R.products)==null?void 0:I.length)||0})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Recetas:"}),d.jsx("span",{className:"font-medium",children:((O=R.recipes)==null?void 0:O.length)||0})]})]})]})})})}),d.jsxs(iu,{className:"sm:max-w-[425px]",children:[d.jsx(ou,{children:d.jsx(lu,{children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("span",{children:["Pedido #",C(R.id)]}),d.jsx("span",{className:"text-sm font-normal text-gray-500",children:x(R.orderDate)})]})})}),d.jsx(Pv,{onView:()=>T("view",R),onEdit:()=>T("edit",R),onDelete:()=>T("delete",R),onShare:()=>{},order:R,type:"customer",customerName:N(R.customerId),customerPhone:(B=n.find(k=>k.id===R.customerId))==null?void 0:B.phone,products:i,recipes:u})]})]},R.id)}),t.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay pedidos"})})]})]})})},OH=()=>{const{id:t}=ze(),[e,n]=A.useState(null),[s,i]=A.useState([]),[l,u]=A.useState([]),[f,m]=A.useState([]),[p,v]=A.useState(!0);A.useEffect(()=>{(async()=>{if(t)try{const[T,R,I,O]=await Promise.all([new ps().findById(t),new bs().findAll(),new Nt().findAll(),new sn().findAll()]);n(T),i(R),u(I),m(O)}catch(T){console.error("Error loading data:",T)}finally{v(!1)}})()},[t]);const y=N=>{try{if(!N)return"Fecha no disponible";let T;if(N instanceof Date)T=N;else if(typeof N=="string")T=el(N);else if(typeof N=="object"&&"seconds"in N)T=new Date(N.seconds*1e3);else throw new Error("Invalid date format");return isNaN(T.getTime())?"Fecha invlida":Wt(T,"PPP",{locale:Ni})}catch(T){return console.error("Error formatting date:",T),"Fecha no disponible"}},b=N=>{switch(N){case ve.PENDING:return"text-yellow-500 bg-yellow-500/10";case ve.COMPLETED:return"text-green-500 bg-green-500/10";default:return"text-gray-500 bg-gray-500/10"}},x=N=>{switch(N){case ve.PENDING:return"Pendiente";case ve.COMPLETED:return"Completado";default:return N}},E=N=>{const T=s.find(R=>R.id===N);return(T==null?void 0:T.name)||"No asignado"},S=N=>{const T=l.find(R=>R.id===N);return(T==null?void 0:T.name)||"Producto no encontrado"},C=N=>{const T=f.find(R=>R.id===N);return(T==null?void 0:T.name)||"Receta no encontrada"};return p?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):e?d.jsxs("div",{className:"p-2 space-y-3 max-w-full",children:[d.jsxs(nt,{className:"w-full",children:[d.jsx(mn,{className:"pb-2",children:d.jsx(pn,{className:"text-lg",children:"Informacin General"})}),d.jsxs(pt,{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Estado"}),d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${b(e.status)}`,children:x(e.status)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Fecha del Pedido"}),d.jsx("span",{className:"text-sm",children:y(e.orderDate)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Cliente"}),d.jsx("span",{className:"text-sm text-right",children:E(e.customerId)})]})]})]}),e.products&&e.products.length>0&&d.jsxs(nt,{className:"w-full",children:[d.jsx(mn,{className:"pb-2",children:d.jsx(pn,{className:"text-lg",children:"Productos"})}),d.jsx(pt,{children:d.jsx("div",{className:"space-y-3",children:e.products.map((N,T)=>d.jsx("div",{className:"p-3 rounded-lg bg-muted/30",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"font-medium text-base break-words",children:S(N.productId)}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Cantidad:"}),d.jsx("span",{className:"text-sm font-medium",children:N.quantity})]})]})},T))})})]}),e.recipes&&e.recipes.length>0&&d.jsxs(nt,{className:"w-full",children:[d.jsx(mn,{className:"pb-2",children:d.jsx(pn,{className:"text-lg",children:"Recetas"})}),d.jsx(pt,{children:d.jsx("div",{className:"space-y-3",children:e.recipes.map((N,T)=>d.jsx("div",{className:"p-3 rounded-lg bg-muted/30",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"font-medium text-base break-words",children:C(N.recipeId)}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Cantidad:"}),d.jsx("span",{className:"text-sm font-medium",children:N.quantity})]})]})},T))})})]})]}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Pedido no encontrado"})})},kH=({value:t,unit:e,onQuantityChange:n,onClick:s})=>{const[i,l]=A.useState(!1),u=A.useRef(null);return A.useEffect(()=>{i&&u.current&&u.current.focus()},[i]),i?d.jsxs("div",{className:"flex items-center bg-transparent",children:[d.jsx(gn,{ref:u,type:"number",min:"1",className:"h-10 w-20 text-left pl-0 border-0 text-lg font-bold text-blue-600 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0",defaultValue:"",onBlur:f=>{const m=Number(f.target.value);m>0&&n(m),l(!1)},onKeyDown:f=>{f.key==="Enter"&&f.target.blur(),f.key==="Escape"&&l(!1)},onClick:f=>f.stopPropagation()}),d.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(e==null?void 0:e.name)||(e==null?void 0:e.symbol)})]}):d.jsxs("button",{type:"button",className:"flex items-center gap-2 text-left",onClick:f=>{f.stopPropagation(),l(!0),s==null||s(f)},children:[d.jsx("span",{className:"text-lg font-bold text-blue-600",children:t}),d.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(e==null?void 0:e.name)||(e==null?void 0:e.symbol)})]})},WE=()=>{var te,de,M;const{id:t}=ze(),e=Ct(),[n,s]=A.useState(!0),[i,l]=A.useState(!1),[u,f]=A.useState(!1),[m,p]=A.useState([]),[v,y]=A.useState([]),[b,x]=A.useState([]),[E,S]=A.useState([]),[C,N]=A.useState(""),[T,R]=A.useState(""),[I,O]=A.useState(1),[B,k]=A.useState(1),[Y,P]=A.useState({orderDate:new Date,status:ve.PENDING,customerId:"",products:[],recipes:[]}),[$,se]=A.useState([]);A.useEffect(()=>{Q()},[t]);const Q=async()=>{try{const[U,L,V,K]=await Promise.all([new bs().findAll(),new Nt().findAll(),new sn().findAll(),new Mt().findAll()]);if(p(U),y(L),x(V),S(K),se([...V.map(Z=>({...Z,type:"recipe"})),...L.map(Z=>({...Z,type:"product"}))]),t){const ee=await new ps().findById(t);ee&&P({...ee,orderDate:ee.orderDate instanceof Date?ee.orderDate:new Date(ee.orderDate)})}}catch(U){console.error("Error loading data:",U),Ue.error("Error al cargar los datos")}finally{s(!1)}},ae=()=>{var L;if(!C)return;if(I<=0){Ue.error("La cantidad debe ser mayor a 0");return}const U=(L=Y.products)==null?void 0:L.findIndex(V=>V.productId===C);if(U!==void 0&&U>=0){const V=[...Y.products||[]];V[U].quantity+=I,P(K=>({...K,products:V}))}else P(V=>({...V,products:[...V.products||[],{productId:C,quantity:I}]}));N(""),O(1)},re=()=>{var L;if(!T)return;if(B<=0){Ue.error("La cantidad debe ser mayor a 0");return}const U=(L=Y.recipes)==null?void 0:L.findIndex(V=>V.recipeId===T);if(U!==void 0&&U>=0){const V=[...Y.recipes||[]];V[U].quantity+=B,P(K=>({...K,recipes:V}))}else P(V=>({...V,recipes:[...V.recipes||[],{recipeId:T,quantity:B}]}));R(""),k(1)},oe=U=>{P(L=>{var V;return{...L,products:(V=L.products)==null?void 0:V.filter((K,Z)=>Z!==U)}})},F=U=>{P(L=>{var V;return{...L,recipes:(V=L.recipes)==null?void 0:V.filter((K,Z)=>Z!==U)}})},le=async U=>{var L,V;if(U.preventDefault(),!Y.customerId){Ue.error("Debe seleccionar un cliente");return}if(!((L=Y.products)!=null&&L.length)&&!((V=Y.recipes)!=null&&V.length)){Ue.error("Debe agregar al menos un producto o receta");return}l(!0);try{const K=new ps,Z={...Y,orderDate:Y.orderDate instanceof Date?Y.orderDate:new Date(Y.orderDate||new Date)};t?(await K.update(t,Z),Ue.success("Pedido actualizado correctamente")):(await K.create(Z),Ue.success("Pedido creado correctamente")),e("/mobile/orders")}catch(K){console.error("Error saving order:",K),Ue.error("Error al guardar el pedido")}finally{l(!1)}};return n?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("form",{onSubmit:le,className:"p-4 space-y-4 max-w-lg mx-auto",children:[d.jsx(Fv,{open:u,onOpenChange:f,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>f(!u),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-sm font-medium",children:"INFORMACIN GENERAL"}),!u&&d.jsxs("span",{className:"text-xs text-gray-500",children:[Y.customerId?(te=m.find(U=>U.id===Y.customerId))==null?void 0:te.name:"Sin asignar","  ",Y.orderDate?Wt(new Date(Y.orderDate),"dd/MM/yyyy"):""]})]}),d.jsx(Hv,{asChild:!0,children:d.jsx(_e,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:u?d.jsx(sy,{className:"h-4 w-4"}):d.jsx(ry,{className:"h-4 w-4"})})})]}),d.jsx(qv,{children:d.jsxs("div",{className:"p-4 space-y-4 border-t",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Wn,{htmlFor:"orderDate",className:"text-sm text-gray-600",children:"FECHA DEL PEDIDO"}),d.jsx(gn,{id:"orderDate",type:"date",className:"h-10",value:(()=>{try{if(Y.orderDate instanceof Date)return Wt(Y.orderDate,"yyyy-MM-dd");const U=Y.orderDate?new Date(Y.orderDate):new Date;return isNaN(U.getTime())?Wt(new Date,"yyyy-MM-dd"):Wt(U,"yyyy-MM-dd")}catch(U){return console.error("Error formatting date:",U),Wt(new Date,"yyyy-MM-dd")}})(),onChange:U=>P(L=>({...L,orderDate:new Date(U.target.value)}))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Wn,{htmlFor:"customerId",className:"text-sm text-gray-600",children:"CLIENTE"}),d.jsxs("select",{id:"customerId",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:Y.customerId,onChange:U=>P(L=>({...L,customerId:U.target.value})),children:[d.jsx("option",{value:"",children:"Seleccionar cliente"}),m.map(U=>d.jsx("option",{value:U.id,children:U.name},U.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Wn,{htmlFor:"status",className:"text-sm text-gray-600",children:"ESTADO"}),d.jsxs("select",{id:"status",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:Y.status,onChange:U=>P(L=>({...L,status:U.target.value})),children:[d.jsx("option",{value:ve.PENDING,children:"Pendiente"}),d.jsx("option",{value:ve.COMPLETED,children:"Completado"})]})]})]})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm border px-4 py-2",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex items-center gap-4",children:d.jsxs("span",{className:"text-sm text-gray-500",children:[((de=Y.products)==null?void 0:de.length)||0," productos  ",((M=Y.recipes)==null?void 0:M.length)||0," recetas  ",[...(Y.products||[]).map(U=>U.quantity),...(Y.recipes||[]).map(U=>U.quantity)].reduce((U,L)=>U+L,0)," items"]})}),d.jsxs("span",{className:"font-semibold text-blue-600",children:["$",[...(Y.products||[]).map(U=>{const L=v.find(V=>V.id===U.productId);return((L==null?void 0:L.purchasePrice)||0)*U.quantity}),...(Y.recipes||[]).map(U=>{const L=b.find(V=>V.id===U.recipeId);return((L==null?void 0:L.cost)||0)*U.quantity})].reduce((U,L)=>U+L,0).toFixed(2)]})]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(gn,{type:"text",placeholder:"Buscar productos o recetas...",className:"w-full pl-9",onChange:U=>{const L=U.target.value.toLowerCase(),V=v.filter(Z=>Z.name.toLowerCase().includes(L)),K=b.filter(Z=>Z.name.toLowerCase().includes(L));se([...K.map(Z=>({...Z,type:"recipe"})),...V.map(Z=>({...Z,type:"product"}))])}}),d.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.3-4.3"})]})]}),d.jsx("div",{className:"grid grid-cols-1 gap-2",children:$.map(U=>{var K,Z;const L=U.type==="recipe",V=L?(K=Y.recipes)==null?void 0:K.find(ee=>ee.recipeId===U.id):(Z=Y.products)==null?void 0:Z.find(ee=>ee.productId===U.id);return d.jsx("div",{className:`w-full bg-white rounded-lg border shadow-sm cursor-pointer transition-all relative ${V?"border-primary ring-1 ring-primary":"hover:bg-gray-50/50"}`,onClick:ee=>{ee.target.tagName},onDoubleClick:()=>{var ee,fe;V?L?F(((ee=Y.recipes)==null?void 0:ee.findIndex(he=>he.recipeId===U.id))||0):oe(((fe=Y.products)==null?void 0:fe.findIndex(he=>he.productId===U.id))||0):L?(R(U.id),k(1),re()):(N(U.id),O(1),ae())},children:d.jsxs("div",{className:"p-4",children:[d.jsx("span",{className:`absolute top-0 right-0 w-6 h-6 flex items-center justify-center text-xs font-medium text-white rounded-bl-lg ${L?"bg-blue-500":"bg-purple-500"}`,children:L?"R":"P"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(du,{checked:V!==void 0,onCheckedChange:ee=>{var fe,he;ee?L?(R(U.id),k(1),re()):(N(U.id),O(1),ae()):L?F(((fe=Y.recipes)==null?void 0:fe.findIndex(xe=>xe.recipeId===U.id))||0):oe(((he=Y.products)==null?void 0:he.findIndex(xe=>xe.productId===U.id))||0)},className:"h-5 w-5",onClick:ee=>{var fe,he;ee.stopPropagation(),V?L?F(((fe=Y.recipes)==null?void 0:fe.findIndex(xe=>xe.recipeId===U.id))||0):oe(((he=Y.products)==null?void 0:he.findIndex(xe=>xe.productId===U.id))||0):L?(R(U.id),k(1),re()):(N(U.id),O(1),ae())}}),d.jsx("div",{className:"flex-1",children:d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:"font-medium text-base",children:U.name})})})]}),V&&d.jsx("div",{className:"mt-3",children:d.jsxs("div",{className:"ml-8 space-y-2",children:[d.jsx(kH,{value:V.quantity,unit:L?E.find(ee=>ee.id===U.yieldUnitId):E.find(ee=>ee.id===U.salesUnitId),onQuantityChange:ee=>{if(L){const fe=[...Y.recipes||[]],he=fe.findIndex(xe=>xe.recipeId===U.id);he>=0&&(fe[he].quantity=ee,P(xe=>({...xe,recipes:fe})))}else{const fe=[...Y.products||[]],he=fe.findIndex(xe=>xe.productId===U.id);he>=0&&(fe[he].quantity=ee,P(xe=>({...xe,products:fe})))}}}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Costo unitario:"}),d.jsxs("span",{className:"font-medium",children:["$",L?U.cost.toFixed(2):(U.purchasePrice||0).toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Total:"}),d.jsxs("span",{className:"font-semibold text-blue-600",children:["$",L?(U.cost*V.quantity).toFixed(2):((U.purchasePrice||0)*V.quantity).toFixed(2)]})]})]})})]})},`${U.type}-${U.id}`)})}),b.length===0&&v.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay items disponibles"})})]}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:d.jsxs("div",{className:"flex flex-col gap-2 max-w-lg mx-auto",children:[d.jsx(_e,{type:"submit",disabled:i,className:"h-11",children:i?"Guardando...":t?"Guardar Cambios":"Crear Pedido"}),d.jsx(_e,{type:"button",variant:"outline",onClick:()=>e(-1),disabled:i,className:"h-11",children:"Cancelar"})]})})]})})},MH=()=>{const{id:t}=ze(),e=Ct(),n=async()=>{if(t)try{await new ps().delete(t),e("/mobile/orders")}catch(i){console.error("Error deleting order:",i)}},s=()=>{e(-1)};return d.jsx("div",{className:"p-4",children:d.jsx(nt,{children:d.jsx(pt,{className:"pt-6",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-center",children:"Est seguro que desea eliminar este pedido?"}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx(_e,{variant:"destructive",onClick:n,className:"w-full",children:"Eliminar"}),d.jsx(_e,{variant:"outline",onClick:s,className:"w-full",children:"Cancelar"})]})]})})})})},PH=()=>{const[t,e]=A.useState([]),[n,s]=A.useState(!0),[i,l]=A.useState([]),[u,f]=A.useState([]),m=Ct(),p=new gs,v=new vn;A.useEffect(()=>{y()},[]);const y=async()=>{try{const[N,T,R]=await Promise.all([p.findAll(),v.findAll(),new sn().findAll()]),I=N.sort((O,B)=>{const k=O.orderDate instanceof Date?O.orderDate:new Date(O.orderDate);return(B.orderDate instanceof Date?B.orderDate:new Date(B.orderDate)).getTime()-k.getTime()});e(I),l(T),f(R)}catch(N){console.error("Error loading data:",N)}finally{s(!1)}},b=N=>{try{if(!N)return"Fecha no disponible";let T;if(N instanceof Date)T=N;else if(typeof N=="string")T=el(N);else if(typeof N=="object"&&"seconds"in N)T=new Date(N.seconds*1e3);else throw new Error("Invalid date format");return isNaN(T.getTime())?"Fecha invlida":Wt(T,"PPP",{locale:Ni})}catch(T){return console.error("Error formatting date:",T),"Fecha no disponible"}},x=N=>{switch(N){case ve.PENDING:return"text-yellow-500 bg-yellow-500/10";case ve.COMPLETED:return"text-green-500 bg-green-500/10";default:return"text-gray-500 bg-gray-500/10"}},E=N=>{switch(N){case ve.PENDING:return"Pendiente";case ve.COMPLETED:return"Completado";default:return N}},S=N=>{if(!N)return"";const T=N.slice(0,3),R=N.slice(-2);return`${T}${R}`.toUpperCase()},C=(N,T)=>{const R=document.querySelector('[role="dialog"]');if(R){const I=R.querySelector('button[data-state="open"]');I&&I instanceof HTMLButtonElement&&I.click()}switch(N){case"view":m(`/mobile/production/${T.id}/view`);break;case"edit":m(`/mobile/production/${T.id}/edit`);break;case"delete":m(`/mobile/production/${T.id}/delete`);break}};return n?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(_e,{className:"w-full flex items-center gap-2",onClick:()=>m("/mobile/production/new"),children:[d.jsx(ta,{className:"h-4 w-4"}),"Nueva Orden de Produccin"]}),d.jsxs("div",{className:"space-y-4",children:[t.map(N=>{var T,R,I,O,B;return d.jsxs(Kf,{children:[d.jsx(gv,{asChild:!0,children:d.jsx(nt,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:d.jsx(pt,{className:"p-4",children:d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"font-medium",children:["Produccin #",S(N.id)]}),d.jsx("span",{className:"text-sm text-muted-foreground",children:b(N.orderDate)})]}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(N.status)}`,children:E(N.status)})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Responsable:"}),d.jsx("span",{className:"font-medium",children:((T=i.find(k=>k.id===N.responsibleWorkerId))==null?void 0:T.name)||"No asignado"})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Recetas:"}),d.jsx("span",{className:"font-medium",children:((R=N.recipes)==null?void 0:R.length)||0})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Total:"}),d.jsx("span",{className:"font-medium",children:((I=N.recipes)==null?void 0:I.reduce((k,Y)=>k+(Y.quantity||0),0))||0})]})]})]})})})}),d.jsxs(iu,{className:"sm:max-w-[425px]",children:[d.jsx(ou,{children:d.jsx(lu,{children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("span",{children:["Produccin #",S(N.id)]}),d.jsx("span",{className:"text-sm font-normal text-gray-500",children:b(N.orderDate)})]})})}),d.jsx(Pv,{onView:()=>C("view",N),onEdit:()=>C("edit",N),onDelete:()=>C("delete",N),onShare:()=>{},order:N,type:"production",workerName:(O=i.find(k=>k.id===N.responsibleWorkerId))==null?void 0:O.name,workerPhone:(B=i.find(k=>k.id===N.responsibleWorkerId))==null?void 0:B.phone,recipes:u})]})]},N.id)}),t.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay rdenes de produccin"})})]})]})})},LH=()=>{var b;const{id:t}=ze();Ct();const[e,n]=A.useState(null),[s,i]=A.useState({}),[l,u]=A.useState({}),[f,m]=A.useState(!0);A.useEffect(()=>{(async()=>{if(t)try{const E=new gs,S=new vn,C=new sn,[N,T,R]=await Promise.all([E.findById(t),S.findAll(),C.findAll()]);n(N),i(T.reduce((I,O)=>({...I,[O.id]:O.name}),{})),u(R.reduce((I,O)=>({...I,[O.id]:O.name}),{}))}catch(E){console.error("Error loading data:",E)}finally{m(!1)}})()},[t]);const p=x=>{try{if(!x)return"Fecha no disponible";let E;if(x instanceof Date)E=x;else if(typeof x=="string")E=el(x);else if(typeof x=="object"&&"seconds"in x)E=new Date(x.seconds*1e3);else throw new Error("Invalid date format");return isNaN(E.getTime())?"Fecha invlida":Wt(E,"PPP",{locale:Ni})}catch(E){return console.error("Error formatting date:",E),"Fecha no disponible"}},v=x=>{switch(x){case ve.PENDING:return"text-yellow-500 bg-yellow-500/10";case ve.COMPLETED:return"text-green-500 bg-green-500/10";default:return"text-gray-500 bg-gray-500/10"}},y=x=>{switch(x){case ve.PENDING:return"Pendiente";case ve.COMPLETED:return"Completado";default:return x}};return f?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):e?d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(nt,{children:[d.jsx(mn,{children:d.jsx(pn,{children:"Informacin General"})}),d.jsxs(pt,{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-muted-foreground",children:"Estado"}),d.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${v(e.status)}`,children:y(e.status)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Fecha de Produccin"}),d.jsx("span",{children:p(e.orderDate)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Responsable"}),d.jsx("span",{children:s[e.responsibleWorkerId]||"No asignado"})]})]})]}),d.jsxs(nt,{children:[d.jsx(mn,{children:d.jsx(pn,{children:"Recetas"})}),d.jsx(pt,{children:d.jsxs("div",{className:"space-y-4",children:[(b=e.recipes)==null?void 0:b.map((x,E)=>d.jsx("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"font-medium",children:l[x.recipeId]||"Receta no encontrada"}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Cantidad: ",x.quantity]})]})},E)),(!e.recipes||e.recipes.length===0)&&d.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No hay recetas asignadas"})]})})]})]}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Orden no encontrada"})})},UH=()=>{const{id:t}=ze(),e=Ct(),[n,s]=A.useState(null),[i,l]=A.useState(!0),[u,f]=A.useState(!1),m=new gs;A.useEffect(()=>{(async()=>{if(t)try{const b=await m.findById(t);s(b)}catch(b){console.error("Error loading order:",b),Ue.error("Error al cargar la orden")}finally{l(!1)}})()},[t]);const p=async()=>{if(t)try{f(!0),await m.delete(t),Ue.success("Orden eliminada correctamente"),e("/mobile/production")}catch(y){console.error("Error deleting order:",y),Ue.error("Error al eliminar la orden")}finally{f(!1)}},v=y=>{if(!y)return"";const b=y.slice(0,3),x=y.slice(-2);return`${b}${x}`.toUpperCase()};return i?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):n?d.jsx("div",{className:"p-4",children:d.jsxs(nt,{children:[d.jsx(mn,{children:d.jsx(pn,{className:"text-center text-red-500",children:"Ests seguro de eliminar esta orden?"})}),d.jsx(pt,{className:"space-y-4",children:d.jsxs("p",{className:"text-center text-muted-foreground",children:["Esta accin no se puede deshacer. Se eliminar la Orden #",n.consecutive||v(n.id)," y todos sus datos asociados."]})}),d.jsxs(MS,{className:"flex flex-col gap-2",children:[d.jsx(_e,{variant:"destructive",className:"w-full",onClick:p,disabled:u,children:u?"Eliminando...":"S, eliminar"}),d.jsx(_e,{variant:"outline",className:"w-full",onClick:()=>e(-1),disabled:u,children:"Cancelar"})]})]})}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Orden no encontrada"})})},KE=()=>{var Y;const{id:t}=ze(),e=Ct(),[n,s]=A.useState(!0),[i,l]=A.useState(!1),[u,f]=A.useState(!1),[m,p]=A.useState([]),[v,y]=A.useState([]),[b,x]=A.useState([]),[E,S]=A.useState(new Set),[C,N]=A.useState([]),[T,R]=A.useState({orderDate:(()=>{const P=new Date;return P.setDate(P.getDate()+1),P})(),status:ve.PENDING,responsibleWorkerId:"",recipes:[]});A.useEffect(()=>{I()},[t]);const I=async()=>{var P;try{const[$,se,Q]=await Promise.all([new vn().findAll(),new sn().findAll(),new Mt().findAll()]);if(p($),y(se),x(Q),N(se),t){const re=await new gs().findById(t);if(re){R({...re,orderDate:re.orderDate instanceof Date?re.orderDate:new Date(re.orderDate)});const oe=new Set((P=re.recipes)==null?void 0:P.map(F=>F.recipeId));S(oe)}}}catch($){console.error("Error loading data:",$),Ue.error("Error al cargar los datos")}finally{s(!1)}},O=async P=>{if(P.preventDefault(),E.size===0){Ue.error("Debe seleccionar al menos una receta");return}l(!0);try{const $=new gs,se={...T,orderDate:T.orderDate instanceof Date?T.orderDate:new Date(T.orderDate||new Date)};t?(await $.update(t,se),Ue.success("Orden actualizada correctamente")):(await $.create(se),Ue.success("Orden creada correctamente")),e("/mobile/production")}catch($){console.error("Error saving order:",$),Ue.error("Error al guardar la orden")}finally{l(!1)}},B=(P,$)=>{P&&R(se=>({...se,recipes:[...(se.recipes||[]).filter(Q=>Q.recipeId!==P),...$>0?[{recipeId:P,quantity:$}]:[]]}))},k=(P,$=1)=>{S(se=>{const Q=new Set(se);return Q.has(P)?(Q.delete(P),B(P,0)):(Q.add(P),B(P,$)),Q})};return n?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("form",{onSubmit:O,className:"p-4 space-y-4 max-w-lg mx-auto",children:[d.jsx(Fv,{open:u,onOpenChange:f,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>f(!u),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-sm font-medium",children:"Informacin General"}),!u&&d.jsx("span",{className:"text-xs text-gray-500",children:T.responsibleWorkerId?(Y=m.find(P=>P.id===T.responsibleWorkerId))==null?void 0:Y.name:"Sin asignar"})]}),d.jsx(Hv,{asChild:!0,children:d.jsx(_e,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:u?d.jsx(sy,{className:"h-4 w-4"}):d.jsx(ry,{className:"h-4 w-4"})})})]}),d.jsx(qv,{children:d.jsxs("div",{className:"p-4 space-y-4 border-t",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Wn,{htmlFor:"orderDate",className:"text-sm text-gray-600",children:"Fecha de Orden"}),d.jsx(gn,{id:"orderDate",type:"date",className:"h-10",value:T.orderDate instanceof Date?Wt(T.orderDate,"yyyy-MM-dd"):Wt(new Date(T.orderDate||new Date),"yyyy-MM-dd"),onChange:P=>R($=>({...$,orderDate:new Date(P.target.value)}))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Wn,{htmlFor:"responsibleWorkerId",className:"text-sm text-gray-600",children:"Responsable"}),d.jsxs("select",{id:"responsibleWorkerId",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:T.responsibleWorkerId,onChange:P=>R($=>({...$,responsibleWorkerId:P.target.value})),children:[d.jsx("option",{value:"",children:"Seleccionar responsable"}),m.map(P=>d.jsx("option",{value:P.id,children:P.name},P.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Wn,{htmlFor:"status",className:"text-sm text-gray-600",children:"Estado"}),d.jsxs("select",{id:"status",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:T.status,onChange:P=>R($=>({...$,status:P.target.value})),children:[d.jsx("option",{value:"",children:"Seleccionar estado"}),Object.values(ve).map(P=>d.jsx("option",{value:P,children:P},P))]})]})]})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm border px-4 py-2",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex items-center gap-4",children:d.jsxs("span",{className:"text-sm text-gray-500",children:[E.size," recetas  ",(T.recipes||[]).reduce((P,$)=>P+$.quantity,0)," items"]})}),d.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(T.recipes||[]).reduce((P,$)=>{const se=v.find(Q=>Q.id===$.recipeId);return P+((se==null?void 0:se.cost)||0)*$.quantity},0).toFixed(2)]})]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(gn,{type:"text",placeholder:"Buscar recetas...",className:"w-full pl-9",onChange:P=>{const $=P.target.value.toLowerCase();N(v.filter(se=>se.name.toLowerCase().includes($)))}}),d.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.3-4.3"})]})]}),d.jsx("div",{className:"grid grid-cols-1 gap-3",children:C.map(P=>{var Q;const $=E.has(P.id),se=(Q=T.recipes)==null?void 0:Q.find(ae=>ae.recipeId===P.id);return d.jsx("div",{className:`w-full bg-white rounded-lg border shadow-sm cursor-pointer transition-all relative ${$?"border-primary ring-1 ring-primary":"hover:bg-gray-50/50"}`,onClick:ae=>{ae.target.tagName},onDoubleClick:()=>{$?(B(P.id,0),S(ae=>{const re=new Set(ae);return re.delete(P.id),re})):k(P.id,1)},children:d.jsxs("div",{className:"p-4",children:[d.jsx("span",{className:"absolute top-0 right-0 w-6 h-6 flex items-center justify-center text-xs font-medium text-white rounded-bl-lg bg-blue-500",children:"R"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(du,{checked:$,onCheckedChange:ae=>{ae?k(P.id,1):(B(P.id,0),S(re=>{const oe=new Set(re);return oe.delete(P.id),oe}))},className:"h-5 w-5",onClick:ae=>ae.stopPropagation()}),d.jsx("div",{className:"flex-1",children:d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:"font-medium text-base",children:P.name})})})]}),se&&d.jsx("div",{className:"mt-3",children:d.jsxs("div",{className:"ml-8 space-y-2",children:[d.jsx(nR,{value:se.quantity,unit:b.find(ae=>ae.id===P.yieldUnitId),onQuantityChange:ae=>{const re=[...T.recipes||[]],oe=re.findIndex(F=>F.recipeId===P.id);oe>=0&&(re[oe].quantity=ae,R(F=>({...F,recipes:re})))}}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Costo unitario:"}),d.jsxs("span",{className:"font-medium",children:["$",P.cost.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Total:"}),d.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(P.cost*se.quantity).toFixed(2)]})]})]})})]})},P.id)})})]}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:d.jsxs("div",{className:"flex flex-col gap-2 max-w-lg mx-auto",children:[d.jsx(_e,{type:"submit",disabled:i||E.size===0,className:"h-11",children:i?"Guardando...":t?"Guardar Cambios":"Crear Orden"}),d.jsx(_e,{type:"button",variant:"outline",onClick:()=>e(-1),disabled:i,className:"h-11",children:"Cancelar"})]})})]})})},BH=d.jsxs(d.Fragment,{children:[d.jsx(ue,{path:"/mobile",element:d.jsx($g,{})}),d.jsx(ue,{path:"/mobile/dashboard",element:d.jsx($g,{})}),d.jsx(ue,{path:"/mobile/purchases",element:d.jsx(NH,{})}),d.jsx(ue,{path:"/mobile/purchases/new",element:d.jsx(YE,{})}),d.jsx(ue,{path:"/mobile/purchases/:id/view",element:d.jsx(CH,{})}),d.jsx(ue,{path:"/mobile/purchases/:id/edit",element:d.jsx(YE,{})}),d.jsx(ue,{path:"/mobile/purchases/:id/delete",element:d.jsx(IH,{})}),d.jsx(ue,{path:"/mobile/orders",element:d.jsx(jH,{})}),d.jsx(ue,{path:"/mobile/orders/new",element:d.jsx(WE,{})}),d.jsx(ue,{path:"/mobile/orders/:id/view",element:d.jsx(OH,{})}),d.jsx(ue,{path:"/mobile/orders/:id/edit",element:d.jsx(WE,{})}),d.jsx(ue,{path:"/mobile/orders/:id/delete",element:d.jsx(MH,{})}),d.jsx(ue,{path:"/mobile/production",element:d.jsx(PH,{})}),d.jsx(ue,{path:"/mobile/production/new",element:d.jsx(KE,{})}),d.jsx(ue,{path:"/mobile/production/:id/view",element:d.jsx(LH,{})}),d.jsx(ue,{path:"/mobile/production/:id/edit",element:d.jsx(KE,{})}),d.jsx(ue,{path:"/mobile/production/:id/delete",element:d.jsx(UH,{})})]}),QE=[{label:"Administracin",icon:k_,submenu:[{label:"Clientes",path:"/customers",icon:ES},{label:"Proveedores",path:"/suppliers",icon:pS},{label:"Colaboradores",path:"/workers",icon:gI},{label:"Roles",path:"/roles",icon:zI},{label:"Unidades",path:"/units",icon:PI},{label:"Parmetros",path:"/parameters",icon:k_},{label:"Incidentes",path:"/incidents",icon:vS}]},{label:"Operacin",icon:GI,submenu:[{label:"Compras",path:"/purchase-orders",icon:eg},{label:"Pedidos",path:"/customer-orders",icon:Nn},{label:"Produccin",path:"/production-orders",icon:xS},{label:"Cierres Diarios",path:"/daily-closures",icon:gS}]},{label:"Inventario",icon:_S,submenu:[{label:"Productos",path:"/products",icon:sI},{label:"Recetas",path:"/recipes",icon:cI}]}],zH=({children:t})=>{const e=Ct(),[n,s]=_.useState(!1),[i,l]=_.useState(null),[u,f]=_.useState(document.documentElement.classList.contains("dark")),m=()=>{const b=!u;f(b),b?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")},p=()=>{localStorage.removeItem("token"),e("/login",{replace:!0})},v=b=>{l(i===b?null:b)},y=()=>{s(!1),l(null)};return d.jsxs("div",{className:"min-h-screen bg-background",onClick:()=>l(null),children:[d.jsx("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:d.jsx("div",{className:"absolute -top-[40rem] left-1/2 -z-10 transform -translate-x-1/2",children:d.jsx("div",{className:"aspect-[1200/800] w-[80rem] bg-gradient-to-tr from-primary/20 to-primary-foreground/20 opacity-30 blur-3xl"})})}),d.jsxs("nav",{className:"sticky top-0 z-40 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex h-16 items-center justify-between",children:[d.jsxs(os,{to:"/dashboard",className:"flex items-center space-x-3 cursor-pointer",onClick:y,children:[d.jsx("img",{src:$N,alt:"Logo",className:"h-8 w-8 rounded-lg object-cover"}),d.jsx("span",{className:"text-xl font-bold",children:"Sistema de Gestin Operativa"})]}),d.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[d.jsx("div",{className:"flex items-center gap-1",children:QE.map((b,x)=>d.jsxs("div",{className:"relative group px-3",children:[d.jsxs("button",{onClick:E=>{E.stopPropagation(),v(x)},className:"flex items-center space-x-2 text-sm font-medium transition-colors hover:text-primary py-2",children:[b.icon&&d.jsx(b.icon,{className:"h-4 w-4"}),d.jsx("span",{children:b.label})]}),b.submenu&&i===x&&d.jsx("div",{className:"absolute right-0 top-full w-56 pt-2 z-50",onClick:E=>E.stopPropagation(),children:d.jsx(nt,{className:"p-2 shadow-lg",children:d.jsx("nav",{className:"grid gap-1",children:b.submenu.map((E,S)=>d.jsxs(os,{to:E.path||"#",onClick:y,className:"flex w-full items-center space-x-2 rounded-md p-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground cursor-pointer",children:[E.icon&&d.jsx(E.icon,{className:"h-4 w-4"}),d.jsx("span",{children:E.label})]},S))})})})]},x))}),d.jsxs("div",{className:"flex items-center space-x-2 border-l border-border/40 pl-4 ml-2",children:[d.jsx(_e,{variant:"ghost",size:"icon",onClick:m,className:"rounded-full",children:u?d.jsx(tg,{className:"h-5 w-5"}):d.jsx(Jp,{className:"h-5 w-5"})}),d.jsx(_e,{variant:"ghost",size:"icon",onClick:p,className:"rounded-full",children:d.jsx(O_,{className:"h-5 w-5"})})]})]}),d.jsxs("div",{className:"flex md:hidden items-center space-x-2",children:[d.jsx(_e,{variant:"ghost",size:"icon",onClick:m,className:"rounded-full",children:u?d.jsx(tg,{className:"h-5 w-5"}):d.jsx(Jp,{className:"h-5 w-5"})}),d.jsx(_e,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>s(!n),children:n?d.jsx(SS,{className:"h-6 w-6"}):d.jsx(CI,{className:"h-6 w-6"})})]})]})}),n&&d.jsx("div",{className:"md:hidden border-t border-border/40",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[QE.map((b,x)=>d.jsxs("div",{className:"py-2",children:[d.jsxs("button",{onClick:E=>{E.stopPropagation(),v(x)},className:"flex items-center space-x-2 font-medium mb-1 w-full text-left",children:[b.icon&&d.jsx(b.icon,{className:"h-4 w-4"}),d.jsx("span",{children:b.label})]}),b.submenu&&i===x&&d.jsx("div",{className:"pl-4 space-y-1",children:b.submenu.map((E,S)=>d.jsxs(os,{to:E.path||"#",onClick:y,className:"flex items-center space-x-2 py-2 text-sm text-muted-foreground hover:text-primary cursor-pointer",children:[E.icon&&d.jsx(E.icon,{className:"h-4 w-4"}),d.jsx("span",{children:E.label})]},S))})]},x)),d.jsx("div",{className:"pt-4 border-t border-border/40",children:d.jsxs(_e,{variant:"ghost",className:"w-full justify-start text-sm text-muted-foreground hover:text-primary",onClick:p,children:[d.jsx(O_,{className:"h-4 w-4 mr-2"}),"Cerrar sesin"]})})]})})]}),d.jsx("main",{className:"py-6",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsx("div",{className:"fade-in",children:t})})})]})},FH=({children:t})=>{const e=gr(),n=Ct(),s=e.pathname==="/mobile"||e.pathname==="/mobile/dashboard";_.useEffect(()=>((async()=>{try{const f=document.documentElement;f.requestFullscreen?await f.requestFullscreen():f.webkitRequestFullscreen?await f.webkitRequestFullscreen():f.msRequestFullscreen&&await f.msRequestFullscreen()}catch(f){console.log("No se pudo activar el modo pantalla completa:",f)}})(),()=>{document.fullscreenElement&&document.exitFullscreen().catch(f=>{console.log("Error al salir de pantalla completa:",f)})}),[]);const l=(()=>{const u=e.pathname;return s?{title:"Inicio",icon:Kp,showBack:!1,action:null}:u.includes("/mobile/production")?u.includes("/new")?{title:"Nueva Produccin",icon:ni,showBack:!0,action:()=>null,actionIcon:Nn}:u.includes("/edit")?{title:"Editar Produccin",icon:ni,showBack:!0,action:()=>null,actionIcon:Nn}:u.includes("/view")?{title:"Ver Produccin",icon:ni,showBack:!0,action:()=>null,actionIcon:Nn}:u.includes("/delete")?{title:"Eliminar Produccin",icon:ni,showBack:!0,action:()=>null,actionIcon:Nn}:{title:"Producciones",icon:ni,showBack:!1,action:()=>n("/mobile/production/new"),actionIcon:ta}:u.includes("/mobile/purchases")?u.includes("/new")?{title:"Nueva Compra",icon:ri,showBack:!0,action:()=>null,actionIcon:Nn}:u.includes("/edit")?{title:"Editar Compra",icon:ri,showBack:!0,action:()=>null,actionIcon:Nn}:u.includes("/view")?{title:"Ver Compra",icon:ri,showBack:!0,action:()=>null,actionIcon:Nn}:u.includes("/delete")?{title:"Eliminar Compra",icon:ri,showBack:!0,action:()=>null,actionIcon:Nn}:{title:"Compras",icon:ri,showBack:!1,action:()=>n("/mobile/purchases/new"),actionIcon:ta}:u.includes("/mobile/orders")?u.includes("/new")?{title:"Nuevo Pedido",icon:ti,showBack:!0,action:()=>null,actionIcon:Nn}:u.includes("/edit")?{title:"Editar Pedido",icon:ti,showBack:!0,action:()=>null,actionIcon:Nn}:u.includes("/view")?{title:"Ver Pedido",icon:ti,showBack:!0,action:()=>null,actionIcon:Nn}:u.includes("/delete")?{title:"Eliminar Pedido",icon:ti,showBack:!0,action:()=>null,actionIcon:Nn}:{title:"Pedidos",icon:ti,showBack:!1,action:()=>n("/mobile/orders/new"),actionIcon:ta}:{title:"SGO",icon:Kp,showBack:!1,action:null}})();return d.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[d.jsx("div",{className:"h-[env(safe-area-inset-top)] bg-background"}),d.jsx("header",{className:De("sticky top-0 z-40 w-full bg-background/80 backdrop-blur-xl","transition-all duration-200 ease-in-out","border-b border-border/40"),children:d.jsxs("div",{className:"flex items-center justify-between px-4 h-14",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[l.showBack&&d.jsx(_e,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>n(-1),children:d.jsx(Tz,{className:"h-4 w-4"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[A.createElement(l.icon,{className:De("h-5 w-5",e.pathname.includes("/mobile/production")?"text-primary":"",e.pathname.includes("/mobile/purchases")?"text-primary":"",e.pathname.includes("/mobile/orders")?"text-primary":"",s?"text-primary":"")}),d.jsx("h1",{className:"text-lg font-medium",children:l.title})]})]}),l.action&&l.actionIcon&&d.jsx(_e,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:l.action,children:A.createElement(l.actionIcon,{className:"h-5 w-5"})})]})}),d.jsx("main",{className:"flex-1 overflow-y-auto",children:s?d.jsx($g,{}):d.jsx(Jg,{})}),d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-t border-border/40",children:d.jsxs("div",{className:"flex justify-around items-center h-14",children:[d.jsxs(_e,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${s?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile"),children:[d.jsx(Kp,{className:"h-5 w-5"}),d.jsx("span",{className:"text-[10px] font-medium",children:"Inicio"}),s&&d.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]}),d.jsxs(_e,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${e.pathname.includes("/mobile/purchases")?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile/purchases"),children:[d.jsx(ri,{className:"h-5 w-5"}),d.jsx("span",{className:"text-[10px] font-medium",children:"Compras"}),e.pathname.includes("/mobile/purchases")&&d.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]}),d.jsxs(_e,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${e.pathname.includes("/mobile/orders")?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile/orders"),children:[d.jsx(ti,{className:"h-5 w-5"}),d.jsx("span",{className:"text-[10px] font-medium",children:"Pedidos"}),e.pathname.includes("/mobile/orders")&&d.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]}),d.jsxs(_e,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${e.pathname.includes("/mobile/production")?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile/production"),children:[d.jsx(ni,{className:"h-5 w-5"}),d.jsx("span",{className:"text-[10px] font-medium",children:"Produccin"}),e.pathname.includes("/mobile/production")&&d.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]})]})}),d.jsx("div",{className:"h-[calc(env(safe-area-inset-bottom)+3.5rem)]"})]})};class HH extends A.Component{constructor(){super(...arguments);zt(this,"resizeObserver",null);zt(this,"state",{isMobile:window.innerWidth<=768})}componentDidMount(){this.resizeObserver=new ResizeObserver(n=>{for(const s of n){const l=s.contentRect.width<=768;this.state.isMobile!==l&&this.setState({isMobile:l},()=>{const u=l?"/mobile":"/dashboard";this.props.navigate(u)})}}),this.resizeObserver.observe(document.body)}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}render(){const{isMobile:n}=this.state,s=n?FH:zH;return d.jsx(oS,{children:d.jsxs(ue,{element:d.jsx(s,{children:d.jsx(Jg,{})}),children:[n&&BH,!n&&bz,d.jsx(ue,{path:"*",element:d.jsx(Zg,{to:n?"/mobile":"/dashboard",replace:!0})})]})})}}const qH=()=>{const t=Ct();return d.jsx(HH,{navigate:t})},VH=()=>d.jsx("div",{className:"fixed inset-0 bg-gray-50 dark:bg-gray-900 z-50 flex items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Cargando..."})]})}),$H=({children:t})=>{const e=gr(),[n,s]=A.useState(!0),[i,l]=A.useState(null);return A.useEffect(()=>{let u=!0;console.log("RequireAuth - Setting up auth listener");const f=mc.onAuthStateChanged(m=>{console.log("RequireAuth - Auth state changed:",{email:m==null?void 0:m.email,uid:m==null?void 0:m.uid,isAuthenticated:!!m}),u&&(l(m),s(!1))});return()=>{u=!1,f()}},[]),n?(console.log("RequireAuth - Loading..."),d.jsx(VH,{})):i?(console.log("RequireAuth - User authenticated, rendering content"),t||d.jsx(Jg,{})):(console.log("RequireAuth - No user, redirecting to login"),d.jsx(Zg,{to:"/login",state:{from:e.pathname},replace:!0}))},GH=()=>{A.useEffect(()=>{new pf},[]);const t=window.innerWidth<=768;return d.jsx(F2,{basename:"/nrd-sgo",children:d.jsxs(oS,{children:[d.jsx(ue,{path:"login",element:d.jsx(M3,{})}),d.jsx(ue,{element:d.jsx($H,{}),children:d.jsx(ue,{path:"/*",element:d.jsx(qH,{})})}),d.jsx(ue,{path:"",element:d.jsx(Zg,{to:"/dashboard",replace:!0})})]})})};function YH(){return d.jsxs(d.Fragment,{children:[d.jsx(GH,{}),d.jsx(k3,{richColors:!0,position:"top-right",closeButton:!0,duration:4e3})]})}class WH extends _.Component{constructor(){super(...arguments);zt(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("Error caught by error boundary:",n,s)}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:d.jsx("div",{className:"max-w-md w-full space-y-8",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(vS,{className:"h-12 w-12 text-red-500 mb-4"}),d.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Algo sali mal"}),d.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Ha ocurrido un error inesperado. Por favor, intente recargar la pgina."}),d.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Recargar pgina"}),!1]})})}):this.props.children}}CA.createRoot(document.getElementById("root")).render(d.jsx(A.StrictMode,{children:d.jsx(WH,{children:d.jsx(YH,{})})}));
//# sourceMappingURL=index-DZRpes0a.js.map
