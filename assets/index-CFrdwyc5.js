var B6=Object.defineProperty;var U6=(e,t,r)=>t in e?B6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var gt=(e,t,r)=>U6(e,typeof t!="symbol"?t+"":t,r);function V6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function gw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var By={exports:{}},Sf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT;function H6(){if(UT)return Sf;UT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var o=null;if(s!==void 0&&(o=""+s),a.key!==void 0&&(o=""+a.key),"key"in a){s={};for(var c in a)c!=="key"&&(s[c]=a[c])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:o,ref:a!==void 0?a:null,props:s}}return Sf.Fragment=t,Sf.jsx=r,Sf.jsxs=r,Sf}var VT;function $6(){return VT||(VT=1,By.exports=H6()),By.exports}var h=$6(),Uy={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT;function z6(){if(HT)return wt;HT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(V){return V===null||typeof V!="object"?null:(V=g&&V[g]||V["@@iterator"],typeof V=="function"?V:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function b(V,ce,j){this.props=V,this.context=ce,this.refs=w,this.updater=j||x}b.prototype.isReactComponent={},b.prototype.setState=function(V,ce){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ce,"setState")},b.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function S(){}S.prototype=b.prototype;function T(V,ce,j){this.props=V,this.context=ce,this.refs=w,this.updater=j||x}var E=T.prototype=new S;E.constructor=T,y(E,b.prototype),E.isPureReactComponent=!0;var A=Array.isArray,k={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function R(V,ce,j,ee,K,Q){return j=Q.ref,{$$typeof:e,type:V,key:ce,ref:j!==void 0?j:null,props:Q}}function P(V,ce){return R(V.type,ce,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function B(V){var ce={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(j){return ce[j]})}var H=/\/+/g;function z(V,ce){return typeof V=="object"&&V!==null&&V.key!=null?B(""+V.key):ce.toString(36)}function G(){}function ne(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(G,G):(V.status="pending",V.then(function(ce){V.status==="pending"&&(V.status="fulfilled",V.value=ce)},function(ce){V.status==="pending"&&(V.status="rejected",V.reason=ce)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function se(V,ce,j,ee,K){var Q=typeof V;(Q==="undefined"||Q==="boolean")&&(V=null);var re=!1;if(V===null)re=!0;else switch(Q){case"bigint":case"string":case"number":re=!0;break;case"object":switch(V.$$typeof){case e:case t:re=!0;break;case m:return re=V._init,se(re(V._payload),ce,j,ee,K)}}if(re)return K=K(V),re=ee===""?"."+z(V,0):ee,A(K)?(j="",re!=null&&(j=re.replace(H,"$&/")+"/"),se(K,ce,j,"",function(ue){return ue})):K!=null&&(I(K)&&(K=P(K,j+(K.key==null||V&&V.key===K.key?"":(""+K.key).replace(H,"$&/")+"/")+re)),ce.push(K)),1;re=0;var be=ee===""?".":ee+":";if(A(V))for(var Ee=0;Ee<V.length;Ee++)ee=V[Ee],Q=be+z(ee,Ee),re+=se(ee,ce,j,Q,K);else if(Ee=v(V),typeof Ee=="function")for(V=Ee.call(V),Ee=0;!(ee=V.next()).done;)ee=ee.value,Q=be+z(ee,Ee++),re+=se(ee,ce,j,Q,K);else if(Q==="object"){if(typeof V.then=="function")return se(ne(V),ce,j,ee,K);throw ce=String(V),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return re}function L(V,ce,j){if(V==null)return V;var ee=[],K=0;return se(V,ee,"","",function(Q){return ce.call(j,Q,K++)}),ee}function oe(V){if(V._status===-1){var ce=V._result;ce=ce(),ce.then(function(j){(V._status===0||V._status===-1)&&(V._status=1,V._result=j)},function(j){(V._status===0||V._status===-1)&&(V._status=2,V._result=j)}),V._status===-1&&(V._status=0,V._result=ce)}if(V._status===1)return V._result.default;throw V._result}var le=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function W(){}return wt.Children={map:L,forEach:function(V,ce,j){L(V,function(){ce.apply(this,arguments)},j)},count:function(V){var ce=0;return L(V,function(){ce++}),ce},toArray:function(V){return L(V,function(ce){return ce})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},wt.Component=b,wt.Fragment=r,wt.Profiler=a,wt.PureComponent=T,wt.StrictMode=n,wt.Suspense=u,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,wt.act=function(){throw Error("act(...) is not supported in production builds of React.")},wt.cache=function(V){return function(){return V.apply(null,arguments)}},wt.cloneElement=function(V,ce,j){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ee=y({},V.props),K=V.key,Q=void 0;if(ce!=null)for(re in ce.ref!==void 0&&(Q=void 0),ce.key!==void 0&&(K=""+ce.key),ce)!D.call(ce,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&ce.ref===void 0||(ee[re]=ce[re]);var re=arguments.length-2;if(re===1)ee.children=j;else if(1<re){for(var be=Array(re),Ee=0;Ee<re;Ee++)be[Ee]=arguments[Ee+2];ee.children=be}return R(V.type,K,void 0,void 0,Q,ee)},wt.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:s,_context:V},V},wt.createElement=function(V,ce,j){var ee,K={},Q=null;if(ce!=null)for(ee in ce.key!==void 0&&(Q=""+ce.key),ce)D.call(ce,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(K[ee]=ce[ee]);var re=arguments.length-2;if(re===1)K.children=j;else if(1<re){for(var be=Array(re),Ee=0;Ee<re;Ee++)be[Ee]=arguments[Ee+2];K.children=be}if(V&&V.defaultProps)for(ee in re=V.defaultProps,re)K[ee]===void 0&&(K[ee]=re[ee]);return R(V,Q,void 0,void 0,null,K)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(V){return{$$typeof:c,render:V}},wt.isValidElement=I,wt.lazy=function(V){return{$$typeof:m,_payload:{_status:-1,_result:V},_init:oe}},wt.memo=function(V,ce){return{$$typeof:f,type:V,compare:ce===void 0?null:ce}},wt.startTransition=function(V){var ce=k.T,j={};k.T=j;try{var ee=V(),K=k.S;K!==null&&K(j,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(W,le)}catch(Q){le(Q)}finally{k.T=ce}},wt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},wt.use=function(V){return k.H.use(V)},wt.useActionState=function(V,ce,j){return k.H.useActionState(V,ce,j)},wt.useCallback=function(V,ce){return k.H.useCallback(V,ce)},wt.useContext=function(V){return k.H.useContext(V)},wt.useDebugValue=function(){},wt.useDeferredValue=function(V,ce){return k.H.useDeferredValue(V,ce)},wt.useEffect=function(V,ce){return k.H.useEffect(V,ce)},wt.useId=function(){return k.H.useId()},wt.useImperativeHandle=function(V,ce,j){return k.H.useImperativeHandle(V,ce,j)},wt.useInsertionEffect=function(V,ce){return k.H.useInsertionEffect(V,ce)},wt.useLayoutEffect=function(V,ce){return k.H.useLayoutEffect(V,ce)},wt.useMemo=function(V,ce){return k.H.useMemo(V,ce)},wt.useOptimistic=function(V,ce){return k.H.useOptimistic(V,ce)},wt.useReducer=function(V,ce,j){return k.H.useReducer(V,ce,j)},wt.useRef=function(V){return k.H.useRef(V)},wt.useState=function(V){return k.H.useState(V)},wt.useSyncExternalStore=function(V,ce,j){return k.H.useSyncExternalStore(V,ce,j)},wt.useTransition=function(){return k.H.useTransition()},wt.version="19.0.0",wt}var $T;function vw(){return $T||($T=1,Uy.exports=z6()),Uy.exports}var N=vw();const M=gw(N),gh=V6({__proto__:null,default:M},[N]);var Vy={exports:{}},Cf={},Hy={exports:{}},$y={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT;function W6(){return zT||(zT=1,function(e){function t(L,oe){var le=L.length;L.push(oe);e:for(;0<le;){var W=le-1>>>1,V=L[W];if(0<a(V,oe))L[W]=oe,L[le]=V,le=W;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var oe=L[0],le=L.pop();if(le!==oe){L[0]=le;e:for(var W=0,V=L.length,ce=V>>>1;W<ce;){var j=2*(W+1)-1,ee=L[j],K=j+1,Q=L[K];if(0>a(ee,le))K<V&&0>a(Q,ee)?(L[W]=Q,L[K]=le,W=K):(L[W]=ee,L[j]=le,W=j);else if(K<V&&0>a(Q,le))L[W]=Q,L[K]=le,W=K;else break e}}return oe}function a(L,oe){var le=L.sortIndex-oe.sortIndex;return le!==0?le:L.id-oe.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],f=[],m=1,g=null,v=3,x=!1,y=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function E(L){for(var oe=r(f);oe!==null;){if(oe.callback===null)n(f);else if(oe.startTime<=L)n(f),oe.sortIndex=oe.expirationTime,t(u,oe);else break;oe=r(f)}}function A(L){if(w=!1,E(L),!y)if(r(u)!==null)y=!0,ne();else{var oe=r(f);oe!==null&&se(A,oe.startTime-L)}}var k=!1,D=-1,R=5,P=-1;function I(){return!(e.unstable_now()-P<R)}function B(){if(k){var L=e.unstable_now();P=L;var oe=!0;try{e:{y=!1,w&&(w=!1,S(D),D=-1),x=!0;var le=v;try{t:{for(E(L),g=r(u);g!==null&&!(g.expirationTime>L&&I());){var W=g.callback;if(typeof W=="function"){g.callback=null,v=g.priorityLevel;var V=W(g.expirationTime<=L);if(L=e.unstable_now(),typeof V=="function"){g.callback=V,E(L),oe=!0;break t}g===r(u)&&n(u),E(L)}else n(u);g=r(u)}if(g!==null)oe=!0;else{var ce=r(f);ce!==null&&se(A,ce.startTime-L),oe=!1}}break e}finally{g=null,v=le,x=!1}oe=void 0}}finally{oe?H():k=!1}}}var H;if(typeof T=="function")H=function(){T(B)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,G=z.port2;z.port1.onmessage=B,H=function(){G.postMessage(null)}}else H=function(){b(B,0)};function ne(){k||(k=!0,H())}function se(L,oe){D=b(function(){L(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){y||x||(y=!0,ne())},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(L){switch(v){case 1:case 2:case 3:var oe=3;break;default:oe=v}var le=v;v=oe;try{return L()}finally{v=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,oe){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var le=v;v=L;try{return oe()}finally{v=le}},e.unstable_scheduleCallback=function(L,oe,le){var W=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?W+le:W):le=W,L){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=le+V,L={id:m++,callback:oe,priorityLevel:L,startTime:le,expirationTime:V,sortIndex:-1},le>W?(L.sortIndex=le,t(f,L),r(u)===null&&L===r(f)&&(w?(S(D),D=-1):w=!0,se(A,le-W))):(L.sortIndex=V,t(u,L),y||x||(y=!0,ne())),L},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(L){var oe=v;return function(){var le=v;v=oe;try{return L.apply(this,arguments)}finally{v=le}}}}($y)),$y}var WT;function q6(){return WT||(WT=1,Hy.exports=W6()),Hy.exports}var zy={exports:{}},Nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT;function G6(){if(qT)return Nn;qT=1;var e=vw();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(u,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:u,containerInfo:f,implementation:m}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Nn.createPortal=function(u,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(u,f,null,m)},Nn.flushSync=function(u){var f=o.T,m=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=f,n.p=m,n.d.f()}},Nn.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(u,f))},Nn.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Nn.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var m=f.as,g=c(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?n.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:x}):m==="script"&&n.d.X(u,{crossOrigin:g,integrity:v,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Nn.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);n.d.M(u,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(u)},Nn.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=c(m,f.crossOrigin);n.d.L(u,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Nn.preloadModule=function(u,f){if(typeof u=="string")if(f){var m=c(f.as,f.crossOrigin);n.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(u)},Nn.requestFormReset=function(u){n.d.r(u)},Nn.unstable_batchedUpdates=function(u,f){return u(f)},Nn.useFormState=function(u,f,m){return o.H.useFormState(u,f,m)},Nn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Nn.version="19.0.0",Nn}var GT;function bD(){if(GT)return zy.exports;GT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),zy.exports=G6(),zy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT;function Y6(){if(YT)return Cf;YT=1;var e=q6(),t=vw(),r=bD();function n(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var s=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),x=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),A=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var R=Symbol.for("react.client.reference");function P(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===R?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case u:return"Fragment";case c:return"Portal";case m:return"Profiler";case f:return"StrictMode";case w:return"Suspense";case b:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case x:return(i.displayName||"Context")+".Provider";case v:return(i._context.displayName||"Context")+".Consumer";case y:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case S:return l=i.displayName||null,l!==null?l:P(i.type)||"Memo";case T:l=i._payload,i=i._init;try{return P(i(l))}catch{}}return null}var I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=Object.assign,H,z;function G(i){if(H===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);H=l&&l[1]||"",z=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+H+i+z}var ne=!1;function se(i,l){if(!i||ne)return"";ne=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(Te){var _e=Te}Reflect.construct(i,[],Pe)}else{try{Pe.call()}catch(Te){_e=Te}i.call(Pe.prototype)}}else{try{throw Error()}catch(Te){_e=Te}(Pe=i())&&typeof Pe.catch=="function"&&Pe.catch(function(){})}}catch(Te){if(Te&&_e&&typeof Te.stack=="string")return[Te.stack,_e.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=p.DetermineComponentFrameRoot(),O=C[0],U=C[1];if(O&&U){var ae=O.split(`
`),he=U.split(`
`);for(_=p=0;p<ae.length&&!ae[p].includes("DetermineComponentFrameRoot");)p++;for(;_<he.length&&!he[_].includes("DetermineComponentFrameRoot");)_++;if(p===ae.length||_===he.length)for(p=ae.length-1,_=he.length-1;1<=p&&0<=_&&ae[p]!==he[_];)_--;for(;1<=p&&0<=_;p--,_--)if(ae[p]!==he[_]){if(p!==1||_!==1)do if(p--,_--,0>_||ae[p]!==he[_]){var ke=`
`+ae[p].replace(" at new "," at ");return i.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",i.displayName)),ke}while(1<=p&&0<=_);break}}}finally{ne=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?G(d):""}function L(i){switch(i.tag){case 26:case 27:case 5:return G(i.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 15:return i=se(i.type,!1),i;case 11:return i=se(i.type.render,!1),i;case 1:return i=se(i.type,!0),i;default:return""}}function oe(i){try{var l="";do l+=L(i),i=i.return;while(i);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function le(i){var l=i,d=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(d=l.return),i=l.return;while(i)}return l.tag===3?d:null}function W(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function V(i){if(le(i)!==i)throw Error(n(188))}function ce(i){var l=i.alternate;if(!l){if(l=le(i),l===null)throw Error(n(188));return l!==i?null:i}for(var d=i,p=l;;){var _=d.return;if(_===null)break;var C=_.alternate;if(C===null){if(p=_.return,p!==null){d=p;continue}break}if(_.child===C.child){for(C=_.child;C;){if(C===d)return V(_),i;if(C===p)return V(_),l;C=C.sibling}throw Error(n(188))}if(d.return!==p.return)d=_,p=C;else{for(var O=!1,U=_.child;U;){if(U===d){O=!0,d=_,p=C;break}if(U===p){O=!0,p=_,d=C;break}U=U.sibling}if(!O){for(U=C.child;U;){if(U===d){O=!0,d=C,p=_;break}if(U===p){O=!0,p=C,d=_;break}U=U.sibling}if(!O)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:l}function j(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=j(i),l!==null)return l;i=i.sibling}return null}var ee=Array.isArray,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},re=[],be=-1;function Ee(i){return{current:i}}function ue(i){0>be||(i.current=re[be],re[be]=null,be--)}function me(i,l){be++,re[be]=i.current,i.current=l}var Ae=Ee(null),Y=Ee(null),He=Ee(null),Ce=Ee(null);function Ge(i,l){switch(me(He,l),me(Y,i),me(Ae,null),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)&&(l=l.namespaceURI)?pT(l):0;break;default:if(i=i===8?l.parentNode:l,l=i.tagName,i=i.namespaceURI)i=pT(i),l=gT(i,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}ue(Ae),me(Ae,l)}function $e(){ue(Ae),ue(Y),ue(He)}function Oe(i){i.memoizedState!==null&&me(Ce,i);var l=Ae.current,d=gT(l,i.type);l!==d&&(me(Y,i),me(Ae,d))}function ie(i){Y.current===i&&(ue(Ae),ue(Y)),Ce.current===i&&(ue(Ce),yf._currentValue=Q)}var fe=Object.prototype.hasOwnProperty,Se=e.unstable_scheduleCallback,Me=e.unstable_cancelCallback,Re=e.unstable_shouldYield,De=e.unstable_requestPaint,je=e.unstable_now,Ze=e.unstable_getCurrentPriorityLevel,bt=e.unstable_ImmediatePriority,At=e.unstable_UserBlockingPriority,Dt=e.unstable_NormalPriority,Jr=e.unstable_LowPriority,ot=e.unstable_IdlePriority,qt=e.log,pr=e.unstable_setDisableYieldValue,Gt=null,ur=null;function Ds(i){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Gt,i,void 0,(i.current.flags&128)===128)}catch{}}function fa(i){if(typeof qt=="function"&&pr(i),ur&&typeof ur.setStrictMode=="function")try{ur.setStrictMode(Gt,i)}catch{}}var pn=Math.clz32?Math.clz32:Vc,io=Math.log,ha=Math.LN2;function Vc(i){return i>>>=0,i===0?32:31-(io(i)/ha|0)|0}var mi=128,pi=4194304;function st(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function dr(i,l){var d=i.pendingLanes;if(d===0)return 0;var p=0,_=i.suspendedLanes,C=i.pingedLanes,O=i.warmLanes;i=i.finishedLanes!==0;var U=d&134217727;return U!==0?(d=U&~_,d!==0?p=st(d):(C&=U,C!==0?p=st(C):i||(O=U&~O,O!==0&&(p=st(O))))):(U=d&~_,U!==0?p=st(U):C!==0?p=st(C):i||(O=d&~O,O!==0&&(p=st(O)))),p===0?0:l!==0&&l!==p&&(l&_)===0&&(_=p&-p,O=l&-l,_>=O||_===32&&(O&4194176)!==0)?l:p}function fr(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function gn(i,l){switch(i){case 1:case 2:case 4:case 8:return l+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gi(){var i=mi;return mi<<=1,(mi&4194176)===0&&(mi=128),i}function Er(){var i=pi;return pi<<=1,(pi&62914560)===0&&(pi=4194304),i}function en(i){for(var l=[],d=0;31>d;d++)l.push(i);return l}function Oa(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Fn(i,l,d,p,_,C){var O=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var U=i.entanglements,ae=i.expirationTimes,he=i.hiddenUpdates;for(d=O&~d;0<d;){var ke=31-pn(d),Pe=1<<ke;U[ke]=0,ae[ke]=-1;var _e=he[ke];if(_e!==null)for(he[ke]=null,ke=0;ke<_e.length;ke++){var Te=_e[ke];Te!==null&&(Te.lane&=-536870913)}d&=~Pe}p!==0&&tn(i,p,0),C!==0&&_===0&&i.tag!==0&&(i.suspendedLanes|=C&~(O&~l))}function tn(i,l,d){i.pendingLanes|=l,i.suspendedLanes&=~l;var p=31-pn(l);i.entangledLanes|=l,i.entanglements[p]=i.entanglements[p]|1073741824|d&4194218}function Sl(i,l){var d=i.entangledLanes|=l;for(i=i.entanglements;d;){var p=31-pn(d),_=1<<p;_&l|i[p]&l&&(i[p]|=l),d&=~_}}function Pa(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Rd(){var i=K.p;return i!==0?i:(i=window.event,i===void 0?32:PT(i.type))}function F(i,l){var d=K.p;try{return K.p=i,l()}finally{K.p=d}}var Z=Math.random().toString(36).slice(2),q="__reactFiber$"+Z,X="__reactProps$"+Z,J="__reactContainer$"+Z,te="__reactEvents$"+Z,ye="__reactListeners$"+Z,Ne="__reactHandles$"+Z,ve="__reactResources$"+Z,xe="__reactMarker$"+Z;function we(i){delete i[q],delete i[X],delete i[te],delete i[ye],delete i[Ne]}function Fe(i){var l=i[q];if(l)return l;for(var d=i.parentNode;d;){if(l=d[J]||d[q]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(i=yT(i);i!==null;){if(d=i[q])return d;i=yT(i)}return l}i=d,d=i.parentNode}return null}function Ve(i){if(i=i[q]||i[J]){var l=i.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return i}return null}function Ye(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(n(33))}function Le(i){var l=i[ve];return l||(l=i[ve]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Be(i){i[xe]=!0}var pt=new Set,nr={};function $t(i,l){gr(i,l),gr(i+"Capture",l)}function gr(i,l){for(nr[i]=l,i=0;i<l.length;i++)pt.add(l[i])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oo={},Is={};function Dd(i){return fe.call(Is,i)?!0:fe.call(oo,i)?!1:Cl.test(i)?Is[i]=!0:(oo[i]=!0,!1)}function Jn(i,l,d){if(Dd(l))if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+d)}}function A0(i,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+d)}}function vi(i,l,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(l,d,""+p)}}function Ma(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function x2(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function PL(i){var l=x2(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),p=""+i[l];if(!i.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,C=d.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return _.call(this)},set:function(O){p=""+O,C.call(this,O)}}),Object.defineProperty(i,l,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(O){p=""+O},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function k0(i){i._valueTracker||(i._valueTracker=PL(i))}function y2(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return i&&(p=x2(i)?i.checked?"true":"false":i.value),i=p,i!==d?(l.setValue(i),!0):!1}function R0(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ML=/[\n"\\]/g;function Fa(i){return i.replace(ML,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function jv(i,l,d,p,_,C,O,U){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),l!=null?O==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+Ma(l)):i.value!==""+Ma(l)&&(i.value=""+Ma(l)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),l!=null?Lv(i,O,Ma(l)):d!=null?Lv(i,O,Ma(d)):p!=null&&i.removeAttribute("value"),_==null&&C!=null&&(i.defaultChecked=!!C),_!=null&&(i.checked=_&&typeof _!="function"&&typeof _!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?i.name=""+Ma(U):i.removeAttribute("name")}function b2(i,l,d,p,_,C,O,U){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.type=C),l!=null||d!=null){if(!(C!=="submit"&&C!=="reset"||l!=null))return;d=d!=null?""+Ma(d):"",l=l!=null?""+Ma(l):d,U||l===i.value||(i.value=l),i.defaultValue=l}p=p??_,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=U?i.checked:!!p,i.defaultChecked=!!p,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O)}function Lv(i,l,d){l==="number"&&R0(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function Hc(i,l,d,p){if(i=i.options,l){l={};for(var _=0;_<d.length;_++)l["$"+d[_]]=!0;for(d=0;d<i.length;d++)_=l.hasOwnProperty("$"+i[d].value),i[d].selected!==_&&(i[d].selected=_),_&&p&&(i[d].defaultSelected=!0)}else{for(d=""+Ma(d),l=null,_=0;_<i.length;_++){if(i[_].value===d){i[_].selected=!0,p&&(i[_].defaultSelected=!0);return}l!==null||i[_].disabled||(l=i[_])}l!==null&&(l.selected=!0)}}function w2(i,l,d){if(l!=null&&(l=""+Ma(l),l!==i.value&&(i.value=l),d==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=d!=null?""+Ma(d):""}function _2(i,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(n(92));if(ee(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=Ma(l),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p)}function $c(i,l){if(l){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=l;return}}i.textContent=l}var FL=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function E2(i,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":p?i.setProperty(l,d):typeof d!="number"||d===0||FL.has(l)?l==="float"?i.cssFloat=d:i[l]=(""+d).trim():i[l]=d+"px"}function S2(i,l,d){if(l!=null&&typeof l!="object")throw Error(n(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var _ in l)p=l[_],l.hasOwnProperty(_)&&d[_]!==p&&E2(i,_,p)}else for(var C in l)l.hasOwnProperty(C)&&E2(i,C,l[C])}function Bv(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jL=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),LL=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function D0(i){return LL.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Uv=null;function Vv(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zc=null,Wc=null;function C2(i){var l=Ve(i);if(l&&(i=l.stateNode)){var d=i[X]||null;e:switch(i=l.stateNode,l.type){case"input":if(jv(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Fa(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==i&&p.form===i.form){var _=p[X]||null;if(!_)throw Error(n(90));jv(p,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===i.form&&y2(p)}break e;case"textarea":w2(i,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Hc(i,!!d.multiple,l,!1)}}}var Hv=!1;function T2(i,l,d){if(Hv)return i(l,d);Hv=!0;try{var p=i(l);return p}finally{if(Hv=!1,(zc!==null||Wc!==null)&&(mm(),zc&&(l=zc,i=Wc,Wc=zc=null,C2(l),i)))for(l=0;l<i.length;l++)C2(i[l])}}function Id(i,l){var d=i.stateNode;if(d===null)return null;var p=d[X]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var $v=!1;if(jn)try{var Od={};Object.defineProperty(Od,"passive",{get:function(){$v=!0}}),window.addEventListener("test",Od,Od),window.removeEventListener("test",Od,Od)}catch{$v=!1}var lo=null,zv=null,I0=null;function N2(){if(I0)return I0;var i,l=zv,d=l.length,p,_="value"in lo?lo.value:lo.textContent,C=_.length;for(i=0;i<d&&l[i]===_[i];i++);var O=d-i;for(p=1;p<=O&&l[d-p]===_[C-p];p++);return I0=_.slice(i,1<p?1-p:void 0)}function O0(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function P0(){return!0}function A2(){return!1}function ea(i){function l(d,p,_,C,O){this._reactName=d,this._targetInst=_,this.type=p,this.nativeEvent=C,this.target=O,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(d=i[U],this[U]=d?d(C):C[U]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?P0:A2,this.isPropagationStopped=A2,this}return B(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=P0)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=P0)},persist:function(){},isPersistent:P0}),l}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},M0=ea(Tl),Pd=B({},Tl,{view:0,detail:0}),BL=ea(Pd),Wv,qv,Md,F0=B({},Pd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yv,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Md&&(Md&&i.type==="mousemove"?(Wv=i.screenX-Md.screenX,qv=i.screenY-Md.screenY):qv=Wv=0,Md=i),Wv)},movementY:function(i){return"movementY"in i?i.movementY:qv}}),k2=ea(F0),UL=B({},F0,{dataTransfer:0}),VL=ea(UL),HL=B({},Pd,{relatedTarget:0}),Gv=ea(HL),$L=B({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),zL=ea($L),WL=B({},Tl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),qL=ea(WL),GL=B({},Tl,{data:0}),R2=ea(GL),YL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QL(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=KL[i])?!!l[i]:!1}function Yv(){return QL}var ZL=B({},Pd,{key:function(i){if(i.key){var l=YL[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=O0(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?XL[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yv,charCode:function(i){return i.type==="keypress"?O0(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?O0(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),JL=ea(ZL),e5=B({},F0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D2=ea(e5),t5=B({},Pd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yv}),r5=ea(t5),n5=B({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),a5=ea(n5),s5=B({},F0,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),i5=ea(s5),o5=B({},Tl,{newState:0,oldState:0}),l5=ea(o5),c5=[9,13,27,32],Xv=jn&&"CompositionEvent"in window,Fd=null;jn&&"documentMode"in document&&(Fd=document.documentMode);var u5=jn&&"TextEvent"in window&&!Fd,I2=jn&&(!Xv||Fd&&8<Fd&&11>=Fd),O2=" ",P2=!1;function M2(i,l){switch(i){case"keyup":return c5.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F2(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var qc=!1;function d5(i,l){switch(i){case"compositionend":return F2(l);case"keypress":return l.which!==32?null:(P2=!0,O2);case"textInput":return i=l.data,i===O2&&P2?null:i;default:return null}}function f5(i,l){if(qc)return i==="compositionend"||!Xv&&M2(i,l)?(i=N2(),I0=zv=lo=null,qc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return I2&&l.locale!=="ko"?null:l.data;default:return null}}var h5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j2(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!h5[i.type]:l==="textarea"}function L2(i,l,d,p){zc?Wc?Wc.push(p):Wc=[p]:zc=p,l=ym(l,"onChange"),0<l.length&&(d=new M0("onChange","change",null,d,p),i.push({event:d,listeners:l}))}var jd=null,Ld=null;function m5(i){uT(i,0)}function j0(i){var l=Ye(i);if(y2(l))return i}function B2(i,l){if(i==="change")return l}var U2=!1;if(jn){var Kv;if(jn){var Qv="oninput"in document;if(!Qv){var V2=document.createElement("div");V2.setAttribute("oninput","return;"),Qv=typeof V2.oninput=="function"}Kv=Qv}else Kv=!1;U2=Kv&&(!document.documentMode||9<document.documentMode)}function H2(){jd&&(jd.detachEvent("onpropertychange",$2),Ld=jd=null)}function $2(i){if(i.propertyName==="value"&&j0(Ld)){var l=[];L2(l,Ld,i,Vv(i)),T2(m5,l)}}function p5(i,l,d){i==="focusin"?(H2(),jd=l,Ld=d,jd.attachEvent("onpropertychange",$2)):i==="focusout"&&H2()}function g5(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return j0(Ld)}function v5(i,l){if(i==="click")return j0(l)}function x5(i,l){if(i==="input"||i==="change")return j0(l)}function y5(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var ma=typeof Object.is=="function"?Object.is:y5;function Bd(i,l){if(ma(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var d=Object.keys(i),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var _=d[p];if(!fe.call(l,_)||!ma(i[_],l[_]))return!1}return!0}function z2(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function W2(i,l){var d=z2(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=l&&p>=l)return{node:d,offset:l-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=z2(d)}}function q2(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?q2(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function G2(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=R0(i.document);l instanceof i.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)i=l.contentWindow;else break;l=R0(i.document)}return l}function Zv(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function b5(i,l){var d=G2(l);l=i.focusedElem;var p=i.selectionRange;if(d!==l&&l&&l.ownerDocument&&q2(l.ownerDocument.documentElement,l)){if(p!==null&&Zv(l)){if(i=p.start,d=p.end,d===void 0&&(d=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(d,l.value.length);else if(d=(i=l.ownerDocument||document)&&i.defaultView||window,d.getSelection){d=d.getSelection();var _=l.textContent.length,C=Math.min(p.start,_);p=p.end===void 0?C:Math.min(p.end,_),!d.extend&&C>p&&(_=p,p=C,C=_),_=W2(l,C);var O=W2(l,p);_&&O&&(d.rangeCount!==1||d.anchorNode!==_.node||d.anchorOffset!==_.offset||d.focusNode!==O.node||d.focusOffset!==O.offset)&&(i=i.createRange(),i.setStart(_.node,_.offset),d.removeAllRanges(),C>p?(d.addRange(i),d.extend(O.node,O.offset)):(i.setEnd(O.node,O.offset),d.addRange(i)))}}for(i=[],d=l;d=d.parentNode;)d.nodeType===1&&i.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)d=i[l],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var w5=jn&&"documentMode"in document&&11>=document.documentMode,Gc=null,Jv=null,Ud=null,ex=!1;function Y2(i,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ex||Gc==null||Gc!==R0(p)||(p=Gc,"selectionStart"in p&&Zv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ud&&Bd(Ud,p)||(Ud=p,p=ym(Jv,"onSelect"),0<p.length&&(l=new M0("onSelect","select",null,l,d),i.push({event:l,listeners:p}),l.target=Gc)))}function Nl(i,l){var d={};return d[i.toLowerCase()]=l.toLowerCase(),d["Webkit"+i]="webkit"+l,d["Moz"+i]="moz"+l,d}var Yc={animationend:Nl("Animation","AnimationEnd"),animationiteration:Nl("Animation","AnimationIteration"),animationstart:Nl("Animation","AnimationStart"),transitionrun:Nl("Transition","TransitionRun"),transitionstart:Nl("Transition","TransitionStart"),transitioncancel:Nl("Transition","TransitionCancel"),transitionend:Nl("Transition","TransitionEnd")},tx={},X2={};jn&&(X2=document.createElement("div").style,"AnimationEvent"in window||(delete Yc.animationend.animation,delete Yc.animationiteration.animation,delete Yc.animationstart.animation),"TransitionEvent"in window||delete Yc.transitionend.transition);function Al(i){if(tx[i])return tx[i];if(!Yc[i])return i;var l=Yc[i],d;for(d in l)if(l.hasOwnProperty(d)&&d in X2)return tx[i]=l[d];return i}var K2=Al("animationend"),Q2=Al("animationiteration"),Z2=Al("animationstart"),_5=Al("transitionrun"),E5=Al("transitionstart"),S5=Al("transitioncancel"),J2=Al("transitionend"),eS=new Map,tS="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function os(i,l){eS.set(i,l),$t(l,[i])}var ja=[],Xc=0,rx=0;function L0(){for(var i=Xc,l=rx=Xc=0;l<i;){var d=ja[l];ja[l++]=null;var p=ja[l];ja[l++]=null;var _=ja[l];ja[l++]=null;var C=ja[l];if(ja[l++]=null,p!==null&&_!==null){var O=p.pending;O===null?_.next=_:(_.next=O.next,O.next=_),p.pending=_}C!==0&&rS(d,_,C)}}function B0(i,l,d,p){ja[Xc++]=i,ja[Xc++]=l,ja[Xc++]=d,ja[Xc++]=p,rx|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function nx(i,l,d,p){return B0(i,l,d,p),U0(i)}function co(i,l){return B0(i,null,null,l),U0(i)}function rS(i,l,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var _=!1,C=i.return;C!==null;)C.childLanes|=d,p=C.alternate,p!==null&&(p.childLanes|=d),C.tag===22&&(i=C.stateNode,i===null||i._visibility&1||(_=!0)),i=C,C=C.return;_&&l!==null&&i.tag===3&&(C=i.stateNode,_=31-pn(d),C=C.hiddenUpdates,i=C[_],i===null?C[_]=[l]:i.push(l),l.lane=d|536870912)}function U0(i){if(50<ff)throw ff=0,cy=null,Error(n(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var Kc={},nS=new WeakMap;function La(i,l){if(typeof i=="object"&&i!==null){var d=nS.get(i);return d!==void 0?d:(l={value:i,source:l,stack:oe(l)},nS.set(i,l),l)}return{value:i,source:l,stack:oe(l)}}var Qc=[],Zc=0,V0=null,H0=0,Ba=[],Ua=0,kl=null,xi=1,yi="";function Rl(i,l){Qc[Zc++]=H0,Qc[Zc++]=V0,V0=i,H0=l}function aS(i,l,d){Ba[Ua++]=xi,Ba[Ua++]=yi,Ba[Ua++]=kl,kl=i;var p=xi;i=yi;var _=32-pn(p)-1;p&=~(1<<_),d+=1;var C=32-pn(l)+_;if(30<C){var O=_-_%5;C=(p&(1<<O)-1).toString(32),p>>=O,_-=O,xi=1<<32-pn(l)+_|d<<_|p,yi=C+i}else xi=1<<C|d<<_|p,yi=i}function ax(i){i.return!==null&&(Rl(i,1),aS(i,1,0))}function sx(i){for(;i===V0;)V0=Qc[--Zc],Qc[Zc]=null,H0=Qc[--Zc],Qc[Zc]=null;for(;i===kl;)kl=Ba[--Ua],Ba[Ua]=null,yi=Ba[--Ua],Ba[Ua]=null,xi=Ba[--Ua],Ba[Ua]=null}var Ln=null,vn=null,Bt=!1,ls=null,Os=!1,ix=Error(n(519));function Dl(i){var l=Error(n(418,""));throw $d(La(l,i)),ix}function sS(i){var l=i.stateNode,d=i.type,p=i.memoizedProps;switch(l[q]=i,l[X]=p,d){case"dialog":It("cancel",l),It("close",l);break;case"iframe":case"object":case"embed":It("load",l);break;case"video":case"audio":for(d=0;d<mf.length;d++)It(mf[d],l);break;case"source":It("error",l);break;case"img":case"image":case"link":It("error",l),It("load",l);break;case"details":It("toggle",l);break;case"input":It("invalid",l),b2(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),k0(l);break;case"select":It("invalid",l);break;case"textarea":It("invalid",l),_2(l,p.value,p.defaultValue,p.children),k0(l)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||mT(l.textContent,d)?(p.popover!=null&&(It("beforetoggle",l),It("toggle",l)),p.onScroll!=null&&It("scroll",l),p.onScrollEnd!=null&&It("scrollend",l),p.onClick!=null&&(l.onclick=bm),l=!0):l=!1,l||Dl(i)}function iS(i){for(Ln=i.return;Ln;)switch(Ln.tag){case 3:case 27:Os=!0;return;case 5:case 13:Os=!1;return;default:Ln=Ln.return}}function Vd(i){if(i!==Ln)return!1;if(!Bt)return iS(i),Bt=!0,!1;var l=!1,d;if((d=i.tag!==3&&i.tag!==27)&&((d=i.tag===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||Ty(i.type,i.memoizedProps)),d=!d),d&&(l=!0),l&&vn&&Dl(i),iS(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8)if(d=i.data,d==="/$"){if(l===0){vn=us(i.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;i=i.nextSibling}vn=null}}else vn=Ln?us(i.stateNode.nextSibling):null;return!0}function Hd(){vn=Ln=null,Bt=!1}function $d(i){ls===null?ls=[i]:ls.push(i)}var zd=Error(n(460)),oS=Error(n(474)),ox={then:function(){}};function lS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function $0(){}function cS(i,l,d){switch(d=i[d],d===void 0?i.push(l):d!==l&&(l.then($0,$0),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,i===zd?Error(n(483)):i;default:if(typeof l.status=="string")l.then($0,$0);else{if(i=ar,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=l,i.status="pending",i.then(function(p){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=p}},function(p){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,i===zd?Error(n(483)):i}throw Wd=l,zd}}var Wd=null;function uS(){if(Wd===null)throw Error(n(459));var i=Wd;return Wd=null,i}var Jc=null,qd=0;function z0(i){var l=qd;return qd+=1,Jc===null&&(Jc=[]),cS(Jc,i,l)}function Gd(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function W0(i,l){throw l.$$typeof===s?Error(n(525)):(i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function dS(i){var l=i._init;return l(i._payload)}function fS(i){function l(pe,de){if(i){var ge=pe.deletions;ge===null?(pe.deletions=[de],pe.flags|=16):ge.push(de)}}function d(pe,de){if(!i)return null;for(;de!==null;)l(pe,de),de=de.sibling;return null}function p(pe){for(var de=new Map;pe!==null;)pe.key!==null?de.set(pe.key,pe):de.set(pe.index,pe),pe=pe.sibling;return de}function _(pe,de){return pe=_o(pe,de),pe.index=0,pe.sibling=null,pe}function C(pe,de,ge){return pe.index=ge,i?(ge=pe.alternate,ge!==null?(ge=ge.index,ge<de?(pe.flags|=33554434,de):ge):(pe.flags|=33554434,de)):(pe.flags|=1048576,de)}function O(pe){return i&&pe.alternate===null&&(pe.flags|=33554434),pe}function U(pe,de,ge,Ie){return de===null||de.tag!==6?(de=ty(ge,pe.mode,Ie),de.return=pe,de):(de=_(de,ge),de.return=pe,de)}function ae(pe,de,ge,Ie){var Xe=ge.type;return Xe===u?ke(pe,de,ge.props.children,Ie,ge.key):de!==null&&(de.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===T&&dS(Xe)===de.type)?(de=_(de,ge.props),Gd(de,ge),de.return=pe,de):(de=cm(ge.type,ge.key,ge.props,null,pe.mode,Ie),Gd(de,ge),de.return=pe,de)}function he(pe,de,ge,Ie){return de===null||de.tag!==4||de.stateNode.containerInfo!==ge.containerInfo||de.stateNode.implementation!==ge.implementation?(de=ry(ge,pe.mode,Ie),de.return=pe,de):(de=_(de,ge.children||[]),de.return=pe,de)}function ke(pe,de,ge,Ie,Xe){return de===null||de.tag!==7?(de=Vl(ge,pe.mode,Ie,Xe),de.return=pe,de):(de=_(de,ge),de.return=pe,de)}function Pe(pe,de,ge){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=ty(""+de,pe.mode,ge),de.return=pe,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case o:return ge=cm(de.type,de.key,de.props,null,pe.mode,ge),Gd(ge,de),ge.return=pe,ge;case c:return de=ry(de,pe.mode,ge),de.return=pe,de;case T:var Ie=de._init;return de=Ie(de._payload),Pe(pe,de,ge)}if(ee(de)||D(de))return de=Vl(de,pe.mode,ge,null),de.return=pe,de;if(typeof de.then=="function")return Pe(pe,z0(de),ge);if(de.$$typeof===x)return Pe(pe,im(pe,de),ge);W0(pe,de)}return null}function _e(pe,de,ge,Ie){var Xe=de!==null?de.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return Xe!==null?null:U(pe,de,""+ge,Ie);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case o:return ge.key===Xe?ae(pe,de,ge,Ie):null;case c:return ge.key===Xe?he(pe,de,ge,Ie):null;case T:return Xe=ge._init,ge=Xe(ge._payload),_e(pe,de,ge,Ie)}if(ee(ge)||D(ge))return Xe!==null?null:ke(pe,de,ge,Ie,null);if(typeof ge.then=="function")return _e(pe,de,z0(ge),Ie);if(ge.$$typeof===x)return _e(pe,de,im(pe,ge),Ie);W0(pe,ge)}return null}function Te(pe,de,ge,Ie,Xe){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return pe=pe.get(ge)||null,U(de,pe,""+Ie,Xe);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case o:return pe=pe.get(Ie.key===null?ge:Ie.key)||null,ae(de,pe,Ie,Xe);case c:return pe=pe.get(Ie.key===null?ge:Ie.key)||null,he(de,pe,Ie,Xe);case T:var St=Ie._init;return Ie=St(Ie._payload),Te(pe,de,ge,Ie,Xe)}if(ee(Ie)||D(Ie))return pe=pe.get(ge)||null,ke(de,pe,Ie,Xe,null);if(typeof Ie.then=="function")return Te(pe,de,ge,z0(Ie),Xe);if(Ie.$$typeof===x)return Te(pe,de,ge,im(de,Ie),Xe);W0(de,Ie)}return null}function Je(pe,de,ge,Ie){for(var Xe=null,St=null,tt=de,ct=de=0,an=null;tt!==null&&ct<ge.length;ct++){tt.index>ct?(an=tt,tt=null):an=tt.sibling;var Ut=_e(pe,tt,ge[ct],Ie);if(Ut===null){tt===null&&(tt=an);break}i&&tt&&Ut.alternate===null&&l(pe,tt),de=C(Ut,de,ct),St===null?Xe=Ut:St.sibling=Ut,St=Ut,tt=an}if(ct===ge.length)return d(pe,tt),Bt&&Rl(pe,ct),Xe;if(tt===null){for(;ct<ge.length;ct++)tt=Pe(pe,ge[ct],Ie),tt!==null&&(de=C(tt,de,ct),St===null?Xe=tt:St.sibling=tt,St=tt);return Bt&&Rl(pe,ct),Xe}for(tt=p(tt);ct<ge.length;ct++)an=Te(tt,pe,ct,ge[ct],Ie),an!==null&&(i&&an.alternate!==null&&tt.delete(an.key===null?ct:an.key),de=C(an,de,ct),St===null?Xe=an:St.sibling=an,St=an);return i&&tt.forEach(function(ko){return l(pe,ko)}),Bt&&Rl(pe,ct),Xe}function vt(pe,de,ge,Ie){if(ge==null)throw Error(n(151));for(var Xe=null,St=null,tt=de,ct=de=0,an=null,Ut=ge.next();tt!==null&&!Ut.done;ct++,Ut=ge.next()){tt.index>ct?(an=tt,tt=null):an=tt.sibling;var ko=_e(pe,tt,Ut.value,Ie);if(ko===null){tt===null&&(tt=an);break}i&&tt&&ko.alternate===null&&l(pe,tt),de=C(ko,de,ct),St===null?Xe=ko:St.sibling=ko,St=ko,tt=an}if(Ut.done)return d(pe,tt),Bt&&Rl(pe,ct),Xe;if(tt===null){for(;!Ut.done;ct++,Ut=ge.next())Ut=Pe(pe,Ut.value,Ie),Ut!==null&&(de=C(Ut,de,ct),St===null?Xe=Ut:St.sibling=Ut,St=Ut);return Bt&&Rl(pe,ct),Xe}for(tt=p(tt);!Ut.done;ct++,Ut=ge.next())Ut=Te(tt,pe,ct,Ut.value,Ie),Ut!==null&&(i&&Ut.alternate!==null&&tt.delete(Ut.key===null?ct:Ut.key),de=C(Ut,de,ct),St===null?Xe=Ut:St.sibling=Ut,St=Ut);return i&&tt.forEach(function(L6){return l(pe,L6)}),Bt&&Rl(pe,ct),Xe}function Tr(pe,de,ge,Ie){if(typeof ge=="object"&&ge!==null&&ge.type===u&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case o:e:{for(var Xe=ge.key;de!==null;){if(de.key===Xe){if(Xe=ge.type,Xe===u){if(de.tag===7){d(pe,de.sibling),Ie=_(de,ge.props.children),Ie.return=pe,pe=Ie;break e}}else if(de.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===T&&dS(Xe)===de.type){d(pe,de.sibling),Ie=_(de,ge.props),Gd(Ie,ge),Ie.return=pe,pe=Ie;break e}d(pe,de);break}else l(pe,de);de=de.sibling}ge.type===u?(Ie=Vl(ge.props.children,pe.mode,Ie,ge.key),Ie.return=pe,pe=Ie):(Ie=cm(ge.type,ge.key,ge.props,null,pe.mode,Ie),Gd(Ie,ge),Ie.return=pe,pe=Ie)}return O(pe);case c:e:{for(Xe=ge.key;de!==null;){if(de.key===Xe)if(de.tag===4&&de.stateNode.containerInfo===ge.containerInfo&&de.stateNode.implementation===ge.implementation){d(pe,de.sibling),Ie=_(de,ge.children||[]),Ie.return=pe,pe=Ie;break e}else{d(pe,de);break}else l(pe,de);de=de.sibling}Ie=ry(ge,pe.mode,Ie),Ie.return=pe,pe=Ie}return O(pe);case T:return Xe=ge._init,ge=Xe(ge._payload),Tr(pe,de,ge,Ie)}if(ee(ge))return Je(pe,de,ge,Ie);if(D(ge)){if(Xe=D(ge),typeof Xe!="function")throw Error(n(150));return ge=Xe.call(ge),vt(pe,de,ge,Ie)}if(typeof ge.then=="function")return Tr(pe,de,z0(ge),Ie);if(ge.$$typeof===x)return Tr(pe,de,im(pe,ge),Ie);W0(pe,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,de!==null&&de.tag===6?(d(pe,de.sibling),Ie=_(de,ge),Ie.return=pe,pe=Ie):(d(pe,de),Ie=ty(ge,pe.mode,Ie),Ie.return=pe,pe=Ie),O(pe)):d(pe,de)}return function(pe,de,ge,Ie){try{qd=0;var Xe=Tr(pe,de,ge,Ie);return Jc=null,Xe}catch(tt){if(tt===zd)throw tt;var St=za(29,tt,null,pe.mode);return St.lanes=Ie,St.return=pe,St}finally{}}}var Il=fS(!0),hS=fS(!1),eu=Ee(null),q0=Ee(0);function mS(i,l){i=Ri,me(q0,i),me(eu,l),Ri=i|l.baseLanes}function lx(){me(q0,Ri),me(eu,eu.current)}function cx(){Ri=q0.current,ue(eu),ue(q0)}var Va=Ee(null),Ps=null;function uo(i){var l=i.alternate;me(Wr,Wr.current&1),me(Va,i),Ps===null&&(l===null||eu.current!==null||l.memoizedState!==null)&&(Ps=i)}function pS(i){if(i.tag===22){if(me(Wr,Wr.current),me(Va,i),Ps===null){var l=i.alternate;l!==null&&l.memoizedState!==null&&(Ps=i)}}else fo()}function fo(){me(Wr,Wr.current),me(Va,Va.current)}function bi(i){ue(Va),Ps===i&&(Ps=null),ue(Wr)}var Wr=Ee(0);function G0(i){for(var l=i;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var C5=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){l.aborted=!0,i.forEach(function(d){return d()})}},T5=e.unstable_scheduleCallback,N5=e.unstable_NormalPriority,qr={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ux(){return{controller:new C5,data:new Map,refCount:0}}function Yd(i){i.refCount--,i.refCount===0&&T5(N5,function(){i.controller.abort()})}var Xd=null,dx=0,tu=0,ru=null;function A5(i,l){if(Xd===null){var d=Xd=[];dx=0,tu=vy(),ru={status:"pending",value:void 0,then:function(p){d.push(p)}}}return dx++,l.then(gS,gS),l}function gS(){if(--dx===0&&Xd!==null){ru!==null&&(ru.status="fulfilled");var i=Xd;Xd=null,tu=0,ru=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function k5(i,l){var d=[],p={status:"pending",value:null,reason:null,then:function(_){d.push(_)}};return i.then(function(){p.status="fulfilled",p.value=l;for(var _=0;_<d.length;_++)(0,d[_])(l)},function(_){for(p.status="rejected",p.reason=_,_=0;_<d.length;_++)(0,d[_])(void 0)}),p}var vS=I.S;I.S=function(i,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&A5(i,l),vS!==null&&vS(i,l)};var Ol=Ee(null);function fx(){var i=Ol.current;return i!==null?i:ar.pooledCache}function Y0(i,l){l===null?me(Ol,Ol.current):me(Ol,l.pool)}function xS(){var i=fx();return i===null?null:{parent:qr._currentValue,pool:i}}var ho=0,Et=null,Qt=null,Fr=null,X0=!1,nu=!1,Pl=!1,K0=0,Kd=0,au=null,R5=0;function Dr(){throw Error(n(321))}function hx(i,l){if(l===null)return!1;for(var d=0;d<l.length&&d<i.length;d++)if(!ma(i[d],l[d]))return!1;return!0}function mx(i,l,d,p,_,C){return ho=C,Et=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,I.H=i===null||i.memoizedState===null?Ml:mo,Pl=!1,C=d(p,_),Pl=!1,nu&&(C=bS(l,d,p,_)),yS(i),C}function yS(i){I.H=Ms;var l=Qt!==null&&Qt.next!==null;if(ho=0,Fr=Qt=Et=null,X0=!1,Kd=0,au=null,l)throw Error(n(300));i===null||rn||(i=i.dependencies,i!==null&&sm(i)&&(rn=!0))}function bS(i,l,d,p){Et=i;var _=0;do{if(nu&&(au=null),Kd=0,nu=!1,25<=_)throw Error(n(301));if(_+=1,Fr=Qt=null,i.updateQueue!=null){var C=i.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}I.H=Fl,C=l(d,p)}while(nu);return C}function D5(){var i=I.H,l=i.useState()[0];return l=typeof l.then=="function"?Qd(l):l,i=i.useState()[0],(Qt!==null?Qt.memoizedState:null)!==i&&(Et.flags|=1024),l}function px(){var i=K0!==0;return K0=0,i}function gx(i,l,d){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~d}function vx(i){if(X0){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}X0=!1}ho=0,Fr=Qt=Et=null,nu=!1,Kd=K0=0,au=null}function ta(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?Et.memoizedState=Fr=i:Fr=Fr.next=i,Fr}function jr(){if(Qt===null){var i=Et.alternate;i=i!==null?i.memoizedState:null}else i=Qt.next;var l=Fr===null?Et.memoizedState:Fr.next;if(l!==null)Fr=l,Qt=i;else{if(i===null)throw Et.alternate===null?Error(n(467)):Error(n(310));Qt=i,i={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Fr===null?Et.memoizedState=Fr=i:Fr=Fr.next=i}return Fr}var Q0;Q0=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Qd(i){var l=Kd;return Kd+=1,au===null&&(au=[]),i=cS(au,i,l),l=Et,(Fr===null?l.memoizedState:Fr.next)===null&&(l=l.alternate,I.H=l===null||l.memoizedState===null?Ml:mo),i}function Z0(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Qd(i);if(i.$$typeof===x)return Tn(i)}throw Error(n(438,String(i)))}function xx(i){var l=null,d=Et.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=Et.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Q0(),Et.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(i),p=0;p<i;p++)d[p]=A;return l.index++,d}function wi(i,l){return typeof l=="function"?l(i):l}function J0(i){var l=jr();return yx(l,Qt,i)}function yx(i,l,d){var p=i.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var _=i.baseQueue,C=p.pending;if(C!==null){if(_!==null){var O=_.next;_.next=C.next,C.next=O}l.baseQueue=_=C,p.pending=null}if(C=i.baseState,_===null)i.memoizedState=C;else{l=_.next;var U=O=null,ae=null,he=l,ke=!1;do{var Pe=he.lane&-536870913;if(Pe!==he.lane?(Mt&Pe)===Pe:(ho&Pe)===Pe){var _e=he.revertLane;if(_e===0)ae!==null&&(ae=ae.next={lane:0,revertLane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Pe===tu&&(ke=!0);else if((ho&_e)===_e){he=he.next,_e===tu&&(ke=!0);continue}else Pe={lane:0,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},ae===null?(U=ae=Pe,O=C):ae=ae.next=Pe,Et.lanes|=_e,Eo|=_e;Pe=he.action,Pl&&d(C,Pe),C=he.hasEagerState?he.eagerState:d(C,Pe)}else _e={lane:Pe,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},ae===null?(U=ae=_e,O=C):ae=ae.next=_e,Et.lanes|=Pe,Eo|=Pe;he=he.next}while(he!==null&&he!==l);if(ae===null?O=C:ae.next=U,!ma(C,i.memoizedState)&&(rn=!0,ke&&(d=ru,d!==null)))throw d;i.memoizedState=C,i.baseState=O,i.baseQueue=ae,p.lastRenderedState=C}return _===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function bx(i){var l=jr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var p=d.dispatch,_=d.pending,C=l.memoizedState;if(_!==null){d.pending=null;var O=_=_.next;do C=i(C,O.action),O=O.next;while(O!==_);ma(C,l.memoizedState)||(rn=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),d.lastRenderedState=C}return[C,p]}function wS(i,l,d){var p=Et,_=jr(),C=Bt;if(C){if(d===void 0)throw Error(n(407));d=d()}else d=l();var O=!ma((Qt||_).memoizedState,d);if(O&&(_.memoizedState=d,rn=!0),_=_.queue,Ex(SS.bind(null,p,_,i),[i]),_.getSnapshot!==l||O||Fr!==null&&Fr.memoizedState.tag&1){if(p.flags|=2048,su(9,ES.bind(null,p,_,d,l),{destroy:void 0},null),ar===null)throw Error(n(349));C||(ho&60)!==0||_S(p,l,d)}return d}function _S(i,l,d){i.flags|=16384,i={getSnapshot:l,value:d},l=Et.updateQueue,l===null?(l=Q0(),Et.updateQueue=l,l.stores=[i]):(d=l.stores,d===null?l.stores=[i]:d.push(i))}function ES(i,l,d,p){l.value=d,l.getSnapshot=p,CS(l)&&TS(i)}function SS(i,l,d){return d(function(){CS(l)&&TS(i)})}function CS(i){var l=i.getSnapshot;i=i.value;try{var d=l();return!ma(i,d)}catch{return!0}}function TS(i){var l=co(i,2);l!==null&&Bn(l,i,2)}function wx(i){var l=ta();if(typeof i=="function"){var d=i;if(i=d(),Pl){fa(!0);try{d()}finally{fa(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:i},l}function NS(i,l,d,p){return i.baseState=d,yx(i,Qt,typeof p=="function"?p:wi)}function I5(i,l,d,p,_){if(rm(i))throw Error(n(485));if(i=l.action,i!==null){var C={payload:_,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){C.listeners.push(O)}};I.T!==null?d(!0):C.isTransition=!1,p(C),d=l.pending,d===null?(C.next=l.pending=C,AS(l,C)):(C.next=d.next,l.pending=d.next=C)}}function AS(i,l){var d=l.action,p=l.payload,_=i.state;if(l.isTransition){var C=I.T,O={};I.T=O;try{var U=d(_,p),ae=I.S;ae!==null&&ae(O,U),kS(i,l,U)}catch(he){_x(i,l,he)}finally{I.T=C}}else try{C=d(_,p),kS(i,l,C)}catch(he){_x(i,l,he)}}function kS(i,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){RS(i,l,p)},function(p){return _x(i,l,p)}):RS(i,l,d)}function RS(i,l,d){l.status="fulfilled",l.value=d,DS(l),i.state=d,l=i.pending,l!==null&&(d=l.next,d===l?i.pending=null:(d=d.next,l.next=d,AS(i,d)))}function _x(i,l,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,DS(l),l=l.next;while(l!==p)}i.action=null}function DS(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function IS(i,l){return l}function OS(i,l){if(Bt){var d=ar.formState;if(d!==null){e:{var p=Et;if(Bt){if(vn){t:{for(var _=vn,C=Os;_.nodeType!==8;){if(!C){_=null;break t}if(_=us(_.nextSibling),_===null){_=null;break t}}C=_.data,_=C==="F!"||C==="F"?_:null}if(_){vn=us(_.nextSibling),p=_.data==="F!";break e}}Dl(p)}p=!1}p&&(l=d[0])}}return d=ta(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:IS,lastRenderedState:l},d.queue=p,d=QS.bind(null,Et,p),p.dispatch=d,p=wx(!1),C=Ax.bind(null,Et,!1,p.queue),p=ta(),_={state:l,dispatch:null,action:i,pending:null},p.queue=_,d=I5.bind(null,Et,_,C,d),_.dispatch=d,p.memoizedState=i,[l,d,!1]}function PS(i){var l=jr();return MS(l,Qt,i)}function MS(i,l,d){l=yx(i,l,IS)[0],i=J0(wi)[0],l=typeof l=="object"&&l!==null&&typeof l.then=="function"?Qd(l):l;var p=jr(),_=p.queue,C=_.dispatch;return d!==p.memoizedState&&(Et.flags|=2048,su(9,O5.bind(null,_,d),{destroy:void 0},null)),[l,C,i]}function O5(i,l){i.action=l}function FS(i){var l=jr(),d=Qt;if(d!==null)return MS(l,d,i);jr(),l=l.memoizedState,d=jr();var p=d.queue.dispatch;return d.memoizedState=i,[l,p,!1]}function su(i,l,d,p){return i={tag:i,create:l,inst:d,deps:p,next:null},l=Et.updateQueue,l===null&&(l=Q0(),Et.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,l.lastEffect=i),i}function jS(){return jr().memoizedState}function em(i,l,d,p){var _=ta();Et.flags|=i,_.memoizedState=su(1|l,d,{destroy:void 0},p===void 0?null:p)}function tm(i,l,d,p){var _=jr();p=p===void 0?null:p;var C=_.memoizedState.inst;Qt!==null&&p!==null&&hx(p,Qt.memoizedState.deps)?_.memoizedState=su(l,d,C,p):(Et.flags|=i,_.memoizedState=su(1|l,d,C,p))}function LS(i,l){em(8390656,8,i,l)}function Ex(i,l){tm(2048,8,i,l)}function BS(i,l){return tm(4,2,i,l)}function US(i,l){return tm(4,4,i,l)}function VS(i,l){if(typeof l=="function"){i=i();var d=l(i);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function HS(i,l,d){d=d!=null?d.concat([i]):null,tm(4,4,VS.bind(null,l,i),d)}function Sx(){}function $S(i,l){var d=jr();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&hx(l,p[1])?p[0]:(d.memoizedState=[i,l],i)}function zS(i,l){var d=jr();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&hx(l,p[1]))return p[0];if(p=i(),Pl){fa(!0);try{i()}finally{fa(!1)}}return d.memoizedState=[p,l],p}function Cx(i,l,d){return d===void 0||(ho&1073741824)!==0?i.memoizedState=l:(i.memoizedState=d,i=qC(),Et.lanes|=i,Eo|=i,d)}function WS(i,l,d,p){return ma(d,l)?d:eu.current!==null?(i=Cx(i,d,p),ma(i,l)||(rn=!0),i):(ho&42)===0?(rn=!0,i.memoizedState=d):(i=qC(),Et.lanes|=i,Eo|=i,l)}function qS(i,l,d,p,_){var C=K.p;K.p=C!==0&&8>C?C:8;var O=I.T,U={};I.T=U,Ax(i,!1,l,d);try{var ae=_(),he=I.S;if(he!==null&&he(U,ae),ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var ke=k5(ae,p);Zd(i,l,ke,xa(i))}else Zd(i,l,p,xa(i))}catch(Pe){Zd(i,l,{then:function(){},status:"rejected",reason:Pe},xa())}finally{K.p=C,I.T=O}}function P5(){}function Tx(i,l,d,p){if(i.tag!==5)throw Error(n(476));var _=GS(i).queue;qS(i,_,l,Q,d===null?P5:function(){return YS(i),d(p)})}function GS(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:Q},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:d},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function YS(i){var l=GS(i).next.queue;Zd(i,l,{},xa())}function Nx(){return Tn(yf)}function XS(){return jr().memoizedState}function KS(){return jr().memoizedState}function M5(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var d=xa();i=vo(d);var p=xo(l,i,d);p!==null&&(Bn(p,l,d),tf(p,l,d)),l={cache:ux()},i.payload=l;return}l=l.return}}function F5(i,l,d){var p=xa();d={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},rm(i)?ZS(l,d):(d=nx(i,l,d,p),d!==null&&(Bn(d,i,p),JS(d,l,p)))}function QS(i,l,d){var p=xa();Zd(i,l,d,p)}function Zd(i,l,d,p){var _={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(rm(i))ZS(l,_);else{var C=i.alternate;if(i.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var O=l.lastRenderedState,U=C(O,d);if(_.hasEagerState=!0,_.eagerState=U,ma(U,O))return B0(i,l,_,0),ar===null&&L0(),!1}catch{}finally{}if(d=nx(i,l,_,p),d!==null)return Bn(d,i,p),JS(d,l,p),!0}return!1}function Ax(i,l,d,p){if(p={lane:2,revertLane:vy(),action:p,hasEagerState:!1,eagerState:null,next:null},rm(i)){if(l)throw Error(n(479))}else l=nx(i,d,p,2),l!==null&&Bn(l,i,2)}function rm(i){var l=i.alternate;return i===Et||l!==null&&l===Et}function ZS(i,l){nu=X0=!0;var d=i.pending;d===null?l.next=l:(l.next=d.next,d.next=l),i.pending=l}function JS(i,l,d){if((d&4194176)!==0){var p=l.lanes;p&=i.pendingLanes,d|=p,l.lanes=d,Sl(i,d)}}var Ms={readContext:Tn,use:Z0,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useLayoutEffect:Dr,useInsertionEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useSyncExternalStore:Dr,useId:Dr};Ms.useCacheRefresh=Dr,Ms.useMemoCache=Dr,Ms.useHostTransitionStatus=Dr,Ms.useFormState=Dr,Ms.useActionState=Dr,Ms.useOptimistic=Dr;var Ml={readContext:Tn,use:Z0,useCallback:function(i,l){return ta().memoizedState=[i,l===void 0?null:l],i},useContext:Tn,useEffect:LS,useImperativeHandle:function(i,l,d){d=d!=null?d.concat([i]):null,em(4194308,4,VS.bind(null,l,i),d)},useLayoutEffect:function(i,l){return em(4194308,4,i,l)},useInsertionEffect:function(i,l){em(4,2,i,l)},useMemo:function(i,l){var d=ta();l=l===void 0?null:l;var p=i();if(Pl){fa(!0);try{i()}finally{fa(!1)}}return d.memoizedState=[p,l],p},useReducer:function(i,l,d){var p=ta();if(d!==void 0){var _=d(l);if(Pl){fa(!0);try{d(l)}finally{fa(!1)}}}else _=l;return p.memoizedState=p.baseState=_,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:_},p.queue=i,i=i.dispatch=F5.bind(null,Et,i),[p.memoizedState,i]},useRef:function(i){var l=ta();return i={current:i},l.memoizedState=i},useState:function(i){i=wx(i);var l=i.queue,d=QS.bind(null,Et,l);return l.dispatch=d,[i.memoizedState,d]},useDebugValue:Sx,useDeferredValue:function(i,l){var d=ta();return Cx(d,i,l)},useTransition:function(){var i=wx(!1);return i=qS.bind(null,Et,i.queue,!0,!1),ta().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,d){var p=Et,_=ta();if(Bt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),ar===null)throw Error(n(349));(Mt&60)!==0||_S(p,l,d)}_.memoizedState=d;var C={value:d,getSnapshot:l};return _.queue=C,LS(SS.bind(null,p,C,i),[i]),p.flags|=2048,su(9,ES.bind(null,p,C,d,l),{destroy:void 0},null),d},useId:function(){var i=ta(),l=ar.identifierPrefix;if(Bt){var d=yi,p=xi;d=(p&~(1<<32-pn(p)-1)).toString(32)+d,l=":"+l+"R"+d,d=K0++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=R5++,l=":"+l+"r"+d.toString(32)+":";return i.memoizedState=l},useCacheRefresh:function(){return ta().memoizedState=M5.bind(null,Et)}};Ml.useMemoCache=xx,Ml.useHostTransitionStatus=Nx,Ml.useFormState=OS,Ml.useActionState=OS,Ml.useOptimistic=function(i){var l=ta();l.memoizedState=l.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Ax.bind(null,Et,!0,d),d.dispatch=l,[i,l]};var mo={readContext:Tn,use:Z0,useCallback:$S,useContext:Tn,useEffect:Ex,useImperativeHandle:HS,useInsertionEffect:BS,useLayoutEffect:US,useMemo:zS,useReducer:J0,useRef:jS,useState:function(){return J0(wi)},useDebugValue:Sx,useDeferredValue:function(i,l){var d=jr();return WS(d,Qt.memoizedState,i,l)},useTransition:function(){var i=J0(wi)[0],l=jr().memoizedState;return[typeof i=="boolean"?i:Qd(i),l]},useSyncExternalStore:wS,useId:XS};mo.useCacheRefresh=KS,mo.useMemoCache=xx,mo.useHostTransitionStatus=Nx,mo.useFormState=PS,mo.useActionState=PS,mo.useOptimistic=function(i,l){var d=jr();return NS(d,Qt,i,l)};var Fl={readContext:Tn,use:Z0,useCallback:$S,useContext:Tn,useEffect:Ex,useImperativeHandle:HS,useInsertionEffect:BS,useLayoutEffect:US,useMemo:zS,useReducer:bx,useRef:jS,useState:function(){return bx(wi)},useDebugValue:Sx,useDeferredValue:function(i,l){var d=jr();return Qt===null?Cx(d,i,l):WS(d,Qt.memoizedState,i,l)},useTransition:function(){var i=bx(wi)[0],l=jr().memoizedState;return[typeof i=="boolean"?i:Qd(i),l]},useSyncExternalStore:wS,useId:XS};Fl.useCacheRefresh=KS,Fl.useMemoCache=xx,Fl.useHostTransitionStatus=Nx,Fl.useFormState=FS,Fl.useActionState=FS,Fl.useOptimistic=function(i,l){var d=jr();return Qt!==null?NS(d,Qt,i,l):(d.baseState=i,[i,d.queue.dispatch])};function kx(i,l,d,p){l=i.memoizedState,d=d(p,l),d=d==null?l:B({},l,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Rx={isMounted:function(i){return(i=i._reactInternals)?le(i)===i:!1},enqueueSetState:function(i,l,d){i=i._reactInternals;var p=xa(),_=vo(p);_.payload=l,d!=null&&(_.callback=d),l=xo(i,_,p),l!==null&&(Bn(l,i,p),tf(l,i,p))},enqueueReplaceState:function(i,l,d){i=i._reactInternals;var p=xa(),_=vo(p);_.tag=1,_.payload=l,d!=null&&(_.callback=d),l=xo(i,_,p),l!==null&&(Bn(l,i,p),tf(l,i,p))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var d=xa(),p=vo(d);p.tag=2,l!=null&&(p.callback=l),l=xo(i,p,d),l!==null&&(Bn(l,i,d),tf(l,i,d))}};function eC(i,l,d,p,_,C,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,C,O):l.prototype&&l.prototype.isPureReactComponent?!Bd(d,p)||!Bd(_,C):!0}function tC(i,l,d,p){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==i&&Rx.enqueueReplaceState(l,l.state,null)}function jl(i,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(i=i.defaultProps){d===l&&(d=B({},d));for(var _ in i)d[_]===void 0&&(d[_]=i[_])}return d}var nm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function rC(i){nm(i)}function nC(i){console.error(i)}function aC(i){nm(i)}function am(i,l){try{var d=i.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function sC(i,l,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Dx(i,l,d){return d=vo(d),d.tag=3,d.payload={element:null},d.callback=function(){am(i,l)},d}function iC(i){return i=vo(i),i.tag=3,i}function oC(i,l,d,p){var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var C=p.value;i.payload=function(){return _(C)},i.callback=function(){sC(l,d,p)}}var O=d.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){sC(l,d,p),typeof _!="function"&&(So===null?So=new Set([this]):So.add(this));var U=p.stack;this.componentDidCatch(p.value,{componentStack:U!==null?U:""})})}function j5(i,l,d,p,_){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&ef(l,d,_,!0),d=Va.current,d!==null){switch(d.tag){case 13:return Ps===null?fy():d.alternate===null&&Cr===0&&(Cr=3),d.flags&=-257,d.flags|=65536,d.lanes=_,p===ox?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),my(i,p,_)),!1;case 22:return d.flags|=65536,p===ox?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),my(i,p,_)),!1}throw Error(n(435,d.tag))}return my(i,p,_),fy(),!1}if(Bt)return l=Va.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,p!==ix&&(i=Error(n(422),{cause:p}),$d(La(i,d)))):(p!==ix&&(l=Error(n(423),{cause:p}),$d(La(l,d))),i=i.current.alternate,i.flags|=65536,_&=-_,i.lanes|=_,p=La(p,d),_=Dx(i.stateNode,p,_),qx(i,_),Cr!==4&&(Cr=2)),!1;var C=Error(n(520),{cause:p});if(C=La(C,d),uf===null?uf=[C]:uf.push(C),Cr!==4&&(Cr=2),l===null)return!0;p=La(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,i=_&-_,d.lanes|=i,i=Dx(d.stateNode,p,i),qx(d,i),!1;case 1:if(l=d.type,C=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(So===null||!So.has(C))))return d.flags|=65536,_&=-_,d.lanes|=_,_=iC(_),oC(_,i,d,p),qx(d,_),!1}d=d.return}while(d!==null);return!1}var lC=Error(n(461)),rn=!1;function xn(i,l,d,p){l.child=i===null?hS(l,null,d,p):Il(l,i.child,d,p)}function cC(i,l,d,p,_){d=d.render;var C=l.ref;if("ref"in p){var O={};for(var U in p)U!=="ref"&&(O[U]=p[U])}else O=p;return Bl(l),p=mx(i,l,d,O,C,_),U=px(),i!==null&&!rn?(gx(i,l,_),_i(i,l,_)):(Bt&&U&&ax(l),l.flags|=1,xn(i,l,p,_),l.child)}function uC(i,l,d,p,_){if(i===null){var C=d.type;return typeof C=="function"&&!ey(C)&&C.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=C,dC(i,l,C,p,_)):(i=cm(d.type,null,p,l,l.mode,_),i.ref=l.ref,i.return=l,l.child=i)}if(C=i.child,!Ux(i,_)){var O=C.memoizedProps;if(d=d.compare,d=d!==null?d:Bd,d(O,p)&&i.ref===l.ref)return _i(i,l,_)}return l.flags|=1,i=_o(C,p),i.ref=l.ref,i.return=l,l.child=i}function dC(i,l,d,p,_){if(i!==null){var C=i.memoizedProps;if(Bd(C,p)&&i.ref===l.ref)if(rn=!1,l.pendingProps=p=C,Ux(i,_))(i.flags&131072)!==0&&(rn=!0);else return l.lanes=i.lanes,_i(i,l,_)}return Ix(i,l,d,p,_)}function fC(i,l,d){var p=l.pendingProps,_=p.children,C=(l.stateNode._pendingVisibility&2)!==0,O=i!==null?i.memoizedState:null;if(Jd(i,l),p.mode==="hidden"||C){if((l.flags&128)!==0){if(p=O!==null?O.baseLanes|d:d,i!==null){for(_=l.child=i.child,C=0;_!==null;)C=C|_.lanes|_.childLanes,_=_.sibling;l.childLanes=C&~p}else l.childLanes=0,l.child=null;return hC(i,l,p,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&Y0(l,O!==null?O.cachePool:null),O!==null?mS(l,O):lx(),pS(l);else return l.lanes=l.childLanes=536870912,hC(i,l,O!==null?O.baseLanes|d:d,d)}else O!==null?(Y0(l,O.cachePool),mS(l,O),fo(),l.memoizedState=null):(i!==null&&Y0(l,null),lx(),fo());return xn(i,l,_,d),l.child}function hC(i,l,d,p){var _=fx();return _=_===null?null:{parent:qr._currentValue,pool:_},l.memoizedState={baseLanes:d,cachePool:_},i!==null&&Y0(l,null),lx(),pS(l),i!==null&&ef(i,l,p,!0),null}function Jd(i,l){var d=l.ref;if(d===null)i!==null&&i.ref!==null&&(l.flags|=2097664);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(i===null||i.ref!==d)&&(l.flags|=2097664)}}function Ix(i,l,d,p,_){return Bl(l),d=mx(i,l,d,p,void 0,_),p=px(),i!==null&&!rn?(gx(i,l,_),_i(i,l,_)):(Bt&&p&&ax(l),l.flags|=1,xn(i,l,d,_),l.child)}function mC(i,l,d,p,_,C){return Bl(l),l.updateQueue=null,d=bS(l,p,d,_),yS(i),p=px(),i!==null&&!rn?(gx(i,l,C),_i(i,l,C)):(Bt&&p&&ax(l),l.flags|=1,xn(i,l,d,C),l.child)}function pC(i,l,d,p,_){if(Bl(l),l.stateNode===null){var C=Kc,O=d.contextType;typeof O=="object"&&O!==null&&(C=Tn(O)),C=new d(p,C),l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Rx,l.stateNode=C,C._reactInternals=l,C=l.stateNode,C.props=p,C.state=l.memoizedState,C.refs={},zx(l),O=d.contextType,C.context=typeof O=="object"&&O!==null?Tn(O):Kc,C.state=l.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(kx(l,d,O,p),C.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(O=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),O!==C.state&&Rx.enqueueReplaceState(C,C.state,null),nf(l,p,C,_),rf(),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(i===null){C=l.stateNode;var U=l.memoizedProps,ae=jl(d,U);C.props=ae;var he=C.context,ke=d.contextType;O=Kc,typeof ke=="object"&&ke!==null&&(O=Tn(ke));var Pe=d.getDerivedStateFromProps;ke=typeof Pe=="function"||typeof C.getSnapshotBeforeUpdate=="function",U=l.pendingProps!==U,ke||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(U||he!==O)&&tC(l,C,p,O),go=!1;var _e=l.memoizedState;C.state=_e,nf(l,p,C,_),rf(),he=l.memoizedState,U||_e!==he||go?(typeof Pe=="function"&&(kx(l,d,Pe,p),he=l.memoizedState),(ae=go||eC(l,d,ae,p,_e,he,O))?(ke||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=he),C.props=p,C.state=he,C.context=O,p=ae):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{C=l.stateNode,Wx(i,l),O=l.memoizedProps,ke=jl(d,O),C.props=ke,Pe=l.pendingProps,_e=C.context,he=d.contextType,ae=Kc,typeof he=="object"&&he!==null&&(ae=Tn(he)),U=d.getDerivedStateFromProps,(he=typeof U=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==Pe||_e!==ae)&&tC(l,C,p,ae),go=!1,_e=l.memoizedState,C.state=_e,nf(l,p,C,_),rf();var Te=l.memoizedState;O!==Pe||_e!==Te||go||i!==null&&i.dependencies!==null&&sm(i.dependencies)?(typeof U=="function"&&(kx(l,d,U,p),Te=l.memoizedState),(ke=go||eC(l,d,ke,p,_e,Te,ae)||i!==null&&i.dependencies!==null&&sm(i.dependencies))?(he||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,Te,ae),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,Te,ae)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||O===i.memoizedProps&&_e===i.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&_e===i.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=Te),C.props=p,C.state=Te,C.context=ae,p=ke):(typeof C.componentDidUpdate!="function"||O===i.memoizedProps&&_e===i.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&_e===i.memoizedState||(l.flags|=1024),p=!1)}return C=p,Jd(i,l),p=(l.flags&128)!==0,C||p?(C=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:C.render(),l.flags|=1,i!==null&&p?(l.child=Il(l,i.child,null,_),l.child=Il(l,null,d,_)):xn(i,l,d,_),l.memoizedState=C.state,i=l.child):i=_i(i,l,_),i}function gC(i,l,d,p){return Hd(),l.flags|=256,xn(i,l,d,p),l.child}var Ox={dehydrated:null,treeContext:null,retryLane:0};function Px(i){return{baseLanes:i,cachePool:xS()}}function Mx(i,l,d){return i=i!==null?i.childLanes&~d:0,l&&(i|=Wa),i}function vC(i,l,d){var p=l.pendingProps,_=!1,C=(l.flags&128)!==0,O;if((O=C)||(O=i!==null&&i.memoizedState===null?!1:(Wr.current&2)!==0),O&&(_=!0,l.flags&=-129),O=(l.flags&32)!==0,l.flags&=-33,i===null){if(Bt){if(_?uo(l):fo(),Bt){var U=vn,ae;if(ae=U){e:{for(ae=U,U=Os;ae.nodeType!==8;){if(!U){U=null;break e}if(ae=us(ae.nextSibling),ae===null){U=null;break e}}U=ae}U!==null?(l.memoizedState={dehydrated:U,treeContext:kl!==null?{id:xi,overflow:yi}:null,retryLane:536870912},ae=za(18,null,null,0),ae.stateNode=U,ae.return=l,l.child=ae,Ln=l,vn=null,ae=!0):ae=!1}ae||Dl(l)}if(U=l.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return U.data==="$!"?l.lanes=16:l.lanes=536870912,null;bi(l)}return U=p.children,p=p.fallback,_?(fo(),_=l.mode,U=jx({mode:"hidden",children:U},_),p=Vl(p,_,d,null),U.return=l,p.return=l,U.sibling=p,l.child=U,_=l.child,_.memoizedState=Px(d),_.childLanes=Mx(i,O,d),l.memoizedState=Ox,p):(uo(l),Fx(l,U))}if(ae=i.memoizedState,ae!==null&&(U=ae.dehydrated,U!==null)){if(C)l.flags&256?(uo(l),l.flags&=-257,l=Lx(i,l,d)):l.memoizedState!==null?(fo(),l.child=i.child,l.flags|=128,l=null):(fo(),_=p.fallback,U=l.mode,p=jx({mode:"visible",children:p.children},U),_=Vl(_,U,d,null),_.flags|=2,p.return=l,_.return=l,p.sibling=_,l.child=p,Il(l,i.child,null,d),p=l.child,p.memoizedState=Px(d),p.childLanes=Mx(i,O,d),l.memoizedState=Ox,l=_);else if(uo(l),U.data==="$!"){if(O=U.nextSibling&&U.nextSibling.dataset,O)var he=O.dgst;O=he,p=Error(n(419)),p.stack="",p.digest=O,$d({value:p,source:null,stack:null}),l=Lx(i,l,d)}else if(rn||ef(i,l,d,!1),O=(d&i.childLanes)!==0,rn||O){if(O=ar,O!==null){if(p=d&-d,(p&42)!==0)p=1;else switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=64;break;case 268435456:p=134217728;break;default:p=0}if(p=(p&(O.suspendedLanes|d))!==0?0:p,p!==0&&p!==ae.retryLane)throw ae.retryLane=p,co(i,p),Bn(O,i,p),lC}U.data==="$?"||fy(),l=Lx(i,l,d)}else U.data==="$?"?(l.flags|=128,l.child=i.child,l=Z5.bind(null,i),U._reactRetry=l,l=null):(i=ae.treeContext,vn=us(U.nextSibling),Ln=l,Bt=!0,ls=null,Os=!1,i!==null&&(Ba[Ua++]=xi,Ba[Ua++]=yi,Ba[Ua++]=kl,xi=i.id,yi=i.overflow,kl=l),l=Fx(l,p.children),l.flags|=4096);return l}return _?(fo(),_=p.fallback,U=l.mode,ae=i.child,he=ae.sibling,p=_o(ae,{mode:"hidden",children:p.children}),p.subtreeFlags=ae.subtreeFlags&31457280,he!==null?_=_o(he,_):(_=Vl(_,U,d,null),_.flags|=2),_.return=l,p.return=l,p.sibling=_,l.child=p,p=_,_=l.child,U=i.child.memoizedState,U===null?U=Px(d):(ae=U.cachePool,ae!==null?(he=qr._currentValue,ae=ae.parent!==he?{parent:he,pool:he}:ae):ae=xS(),U={baseLanes:U.baseLanes|d,cachePool:ae}),_.memoizedState=U,_.childLanes=Mx(i,O,d),l.memoizedState=Ox,p):(uo(l),d=i.child,i=d.sibling,d=_o(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,i!==null&&(O=l.deletions,O===null?(l.deletions=[i],l.flags|=16):O.push(i)),l.child=d,l.memoizedState=null,d)}function Fx(i,l){return l=jx({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function jx(i,l){return $C(i,l,0,null)}function Lx(i,l,d){return Il(l,i.child,null,d),i=Fx(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function xC(i,l,d){i.lanes|=l;var p=i.alternate;p!==null&&(p.lanes|=l),Hx(i.return,l,d)}function Bx(i,l,d,p,_){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:_}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=p,C.tail=d,C.tailMode=_)}function yC(i,l,d){var p=l.pendingProps,_=p.revealOrder,C=p.tail;if(xn(i,l,p.children,d),p=Wr.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&xC(i,d,l);else if(i.tag===19)xC(i,d,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}switch(me(Wr,p),_){case"forwards":for(d=l.child,_=null;d!==null;)i=d.alternate,i!==null&&G0(i)===null&&(_=d),d=d.sibling;d=_,d===null?(_=l.child,l.child=null):(_=d.sibling,d.sibling=null),Bx(l,!1,_,d,C);break;case"backwards":for(d=null,_=l.child,l.child=null;_!==null;){if(i=_.alternate,i!==null&&G0(i)===null){l.child=_;break}i=_.sibling,_.sibling=d,d=_,_=i}Bx(l,!0,d,null,C);break;case"together":Bx(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function _i(i,l,d){if(i!==null&&(l.dependencies=i.dependencies),Eo|=l.lanes,(d&l.childLanes)===0)if(i!==null){if(ef(i,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,d=_o(i,i.pendingProps),l.child=d,d.return=l;i.sibling!==null;)i=i.sibling,d=d.sibling=_o(i,i.pendingProps),d.return=l;d.sibling=null}return l.child}function Ux(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&sm(i)))}function L5(i,l,d){switch(l.tag){case 3:Ge(l,l.stateNode.containerInfo),po(l,qr,i.memoizedState.cache),Hd();break;case 27:case 5:Oe(l);break;case 4:Ge(l,l.stateNode.containerInfo);break;case 10:po(l,l.type,l.memoizedProps.value);break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(uo(l),l.flags|=128,null):(d&l.child.childLanes)!==0?vC(i,l,d):(uo(l),i=_i(i,l,d),i!==null?i.sibling:null);uo(l);break;case 19:var _=(i.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(ef(i,l,d,!1),p=(d&l.childLanes)!==0),_){if(p)return yC(i,l,d);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),me(Wr,Wr.current),p)break;return null;case 22:case 23:return l.lanes=0,fC(i,l,d);case 24:po(l,qr,i.memoizedState.cache)}return _i(i,l,d)}function bC(i,l,d){if(i!==null)if(i.memoizedProps!==l.pendingProps)rn=!0;else{if(!Ux(i,d)&&(l.flags&128)===0)return rn=!1,L5(i,l,d);rn=(i.flags&131072)!==0}else rn=!1,Bt&&(l.flags&1048576)!==0&&aS(l,H0,l.index);switch(l.lanes=0,l.tag){case 16:e:{i=l.pendingProps;var p=l.elementType,_=p._init;if(p=_(p._payload),l.type=p,typeof p=="function")ey(p)?(i=jl(p,i),l.tag=1,l=pC(null,l,p,i,d)):(l.tag=0,l=Ix(null,l,p,i,d));else{if(p!=null){if(_=p.$$typeof,_===y){l.tag=11,l=cC(null,l,p,i,d);break e}else if(_===S){l.tag=14,l=uC(null,l,p,i,d);break e}}throw l=P(p)||p,Error(n(306,l,""))}}return l;case 0:return Ix(i,l,l.type,l.pendingProps,d);case 1:return p=l.type,_=jl(p,l.pendingProps),pC(i,l,p,_,d);case 3:e:{if(Ge(l,l.stateNode.containerInfo),i===null)throw Error(n(387));var C=l.pendingProps;_=l.memoizedState,p=_.element,Wx(i,l),nf(l,C,null,d);var O=l.memoizedState;if(C=O.cache,po(l,qr,C),C!==_.cache&&$x(l,[qr],d,!0),rf(),C=O.element,_.isDehydrated)if(_={element:C,isDehydrated:!1,cache:O.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=gC(i,l,C,d);break e}else if(C!==p){p=La(Error(n(424)),l),$d(p),l=gC(i,l,C,d);break e}else for(vn=us(l.stateNode.containerInfo.firstChild),Ln=l,Bt=!0,ls=null,Os=!0,d=hS(l,null,C,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Hd(),C===p){l=_i(i,l,d);break e}xn(i,l,C,d)}l=l.child}return l;case 26:return Jd(i,l),i===null?(d=ET(l.type,null,l.pendingProps,null))?l.memoizedState=d:Bt||(d=l.type,i=l.pendingProps,p=wm(He.current).createElement(d),p[q]=l,p[X]=i,yn(p,d,i),Be(p),l.stateNode=p):l.memoizedState=ET(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return Oe(l),i===null&&Bt&&(p=l.stateNode=bT(l.type,l.pendingProps,He.current),Ln=l,Os=!0,vn=us(p.firstChild)),p=l.pendingProps.children,i!==null||Bt?xn(i,l,p,d):l.child=Il(l,null,p,d),Jd(i,l),l.child;case 5:return i===null&&Bt&&((_=p=vn)&&(p=m6(p,l.type,l.pendingProps,Os),p!==null?(l.stateNode=p,Ln=l,vn=us(p.firstChild),Os=!1,_=!0):_=!1),_||Dl(l)),Oe(l),_=l.type,C=l.pendingProps,O=i!==null?i.memoizedProps:null,p=C.children,Ty(_,C)?p=null:O!==null&&Ty(_,O)&&(l.flags|=32),l.memoizedState!==null&&(_=mx(i,l,D5,null,null,d),yf._currentValue=_),Jd(i,l),xn(i,l,p,d),l.child;case 6:return i===null&&Bt&&((i=d=vn)&&(d=p6(d,l.pendingProps,Os),d!==null?(l.stateNode=d,Ln=l,vn=null,i=!0):i=!1),i||Dl(l)),null;case 13:return vC(i,l,d);case 4:return Ge(l,l.stateNode.containerInfo),p=l.pendingProps,i===null?l.child=Il(l,null,p,d):xn(i,l,p,d),l.child;case 11:return cC(i,l,l.type,l.pendingProps,d);case 7:return xn(i,l,l.pendingProps,d),l.child;case 8:return xn(i,l,l.pendingProps.children,d),l.child;case 12:return xn(i,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,po(l,l.type,p.value),xn(i,l,p.children,d),l.child;case 9:return _=l.type._context,p=l.pendingProps.children,Bl(l),_=Tn(_),p=p(_),l.flags|=1,xn(i,l,p,d),l.child;case 14:return uC(i,l,l.type,l.pendingProps,d);case 15:return dC(i,l,l.type,l.pendingProps,d);case 19:return yC(i,l,d);case 22:return fC(i,l,d);case 24:return Bl(l),p=Tn(qr),i===null?(_=fx(),_===null&&(_=ar,C=ux(),_.pooledCache=C,C.refCount++,C!==null&&(_.pooledCacheLanes|=d),_=C),l.memoizedState={parent:p,cache:_},zx(l),po(l,qr,_)):((i.lanes&d)!==0&&(Wx(i,l),nf(l,null,null,d),rf()),_=i.memoizedState,C=l.memoizedState,_.parent!==p?(_={parent:p,cache:p},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),po(l,qr,p)):(p=C.cache,po(l,qr,p),p!==_.cache&&$x(l,[qr],d,!0))),xn(i,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}var Vx=Ee(null),Ll=null,Ei=null;function po(i,l,d){me(Vx,l._currentValue),l._currentValue=d}function Si(i){i._currentValue=Vx.current,ue(Vx)}function Hx(i,l,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),i===d)break;i=i.return}}function $x(i,l,d,p){var _=i.child;for(_!==null&&(_.return=i);_!==null;){var C=_.dependencies;if(C!==null){var O=_.child;C=C.firstContext;e:for(;C!==null;){var U=C;C=_;for(var ae=0;ae<l.length;ae++)if(U.context===l[ae]){C.lanes|=d,U=C.alternate,U!==null&&(U.lanes|=d),Hx(C.return,d,i),p||(O=null);break e}C=U.next}}else if(_.tag===18){if(O=_.return,O===null)throw Error(n(341));O.lanes|=d,C=O.alternate,C!==null&&(C.lanes|=d),Hx(O,d,i),O=null}else O=_.child;if(O!==null)O.return=_;else for(O=_;O!==null;){if(O===i){O=null;break}if(_=O.sibling,_!==null){_.return=O.return,O=_;break}O=O.return}_=O}}function ef(i,l,d,p){i=null;for(var _=l,C=!1;_!==null;){if(!C){if((_.flags&524288)!==0)C=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var O=_.alternate;if(O===null)throw Error(n(387));if(O=O.memoizedProps,O!==null){var U=_.type;ma(_.pendingProps.value,O.value)||(i!==null?i.push(U):i=[U])}}else if(_===Ce.current){if(O=_.alternate,O===null)throw Error(n(387));O.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(i!==null?i.push(yf):i=[yf])}_=_.return}i!==null&&$x(l,i,d,p),l.flags|=262144}function sm(i){for(i=i.firstContext;i!==null;){if(!ma(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Bl(i){Ll=i,Ei=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Tn(i){return wC(Ll,i)}function im(i,l){return Ll===null&&Bl(i),wC(i,l)}function wC(i,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Ei===null){if(i===null)throw Error(n(308));Ei=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else Ei=Ei.next=l;return d}var go=!1;function zx(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wx(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function vo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xo(i,l,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(xr&2)!==0){var _=p.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),p.pending=l,l=U0(i),rS(i,null,d),l}return B0(i,p,l,d),U0(i)}function tf(i,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194176)!==0)){var p=l.lanes;p&=i.pendingLanes,d|=p,l.lanes=d,Sl(i,d)}}function qx(i,l){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var _=null,C=null;if(d=d.firstBaseUpdate,d!==null){do{var O={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};C===null?_=C=O:C=C.next=O,d=d.next}while(d!==null);C===null?_=C=l:C=C.next=l}else _=C=l;d={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:C,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=l:i.next=l,d.lastBaseUpdate=l}var Gx=!1;function rf(){if(Gx){var i=ru;if(i!==null)throw i}}function nf(i,l,d,p){Gx=!1;var _=i.updateQueue;go=!1;var C=_.firstBaseUpdate,O=_.lastBaseUpdate,U=_.shared.pending;if(U!==null){_.shared.pending=null;var ae=U,he=ae.next;ae.next=null,O===null?C=he:O.next=he,O=ae;var ke=i.alternate;ke!==null&&(ke=ke.updateQueue,U=ke.lastBaseUpdate,U!==O&&(U===null?ke.firstBaseUpdate=he:U.next=he,ke.lastBaseUpdate=ae))}if(C!==null){var Pe=_.baseState;O=0,ke=he=ae=null,U=C;do{var _e=U.lane&-536870913,Te=_e!==U.lane;if(Te?(Mt&_e)===_e:(p&_e)===_e){_e!==0&&_e===tu&&(Gx=!0),ke!==null&&(ke=ke.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var Je=i,vt=U;_e=l;var Tr=d;switch(vt.tag){case 1:if(Je=vt.payload,typeof Je=="function"){Pe=Je.call(Tr,Pe,_e);break e}Pe=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=vt.payload,_e=typeof Je=="function"?Je.call(Tr,Pe,_e):Je,_e==null)break e;Pe=B({},Pe,_e);break e;case 2:go=!0}}_e=U.callback,_e!==null&&(i.flags|=64,Te&&(i.flags|=8192),Te=_.callbacks,Te===null?_.callbacks=[_e]:Te.push(_e))}else Te={lane:_e,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ke===null?(he=ke=Te,ae=Pe):ke=ke.next=Te,O|=_e;if(U=U.next,U===null){if(U=_.shared.pending,U===null)break;Te=U,U=Te.next,Te.next=null,_.lastBaseUpdate=Te,_.shared.pending=null}}while(!0);ke===null&&(ae=Pe),_.baseState=ae,_.firstBaseUpdate=he,_.lastBaseUpdate=ke,C===null&&(_.shared.lanes=0),Eo|=O,i.lanes=O,i.memoizedState=Pe}}function _C(i,l){if(typeof i!="function")throw Error(n(191,i));i.call(l)}function EC(i,l){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)_C(d[i],l)}function af(i,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var _=p.next;d=_;do{if((d.tag&i)===i){p=void 0;var C=d.create,O=d.inst;p=C(),O.destroy=p}d=d.next}while(d!==_)}}catch(U){er(l,l.return,U)}}function yo(i,l,d){try{var p=l.updateQueue,_=p!==null?p.lastEffect:null;if(_!==null){var C=_.next;p=C;do{if((p.tag&i)===i){var O=p.inst,U=O.destroy;if(U!==void 0){O.destroy=void 0,_=l;var ae=d;try{U()}catch(he){er(_,ae,he)}}}p=p.next}while(p!==C)}}catch(he){er(l,l.return,he)}}function SC(i){var l=i.updateQueue;if(l!==null){var d=i.stateNode;try{EC(l,d)}catch(p){er(i,i.return,p)}}}function CC(i,l,d){d.props=jl(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){er(i,l,p)}}function Ul(i,l){try{var d=i.ref;if(d!==null){var p=i.stateNode;switch(i.tag){case 26:case 27:case 5:var _=p;break;default:_=p}typeof d=="function"?i.refCleanup=d(_):d.current=_}}catch(C){er(i,l,C)}}function pa(i,l){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(_){er(i,l,_)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(_){er(i,l,_)}else d.current=null}function TC(i){var l=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(_){er(i,i.return,_)}}function NC(i,l,d){try{var p=i.stateNode;c6(p,i.type,d,l),p[X]=l}catch(_){er(i,i.return,_)}}function AC(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Yx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||AC(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xx(i,l,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(i,l):d.insertBefore(i,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(i,d)):(l=d,l.appendChild(i)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=bm));else if(p!==4&&p!==27&&(i=i.child,i!==null))for(Xx(i,l,d),i=i.sibling;i!==null;)Xx(i,l,d),i=i.sibling}function om(i,l,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?d.insertBefore(i,l):d.appendChild(i);else if(p!==4&&p!==27&&(i=i.child,i!==null))for(om(i,l,d),i=i.sibling;i!==null;)om(i,l,d),i=i.sibling}var Ci=!1,Sr=!1,Kx=!1,kC=typeof WeakSet=="function"?WeakSet:Set,nn=null,RC=!1;function B5(i,l){if(i=i.containerInfo,Sy=Nm,i=G2(i),Zv(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var _=p.anchorOffset,C=p.focusNode;p=p.focusOffset;try{d.nodeType,C.nodeType}catch{d=null;break e}var O=0,U=-1,ae=-1,he=0,ke=0,Pe=i,_e=null;t:for(;;){for(var Te;Pe!==d||_!==0&&Pe.nodeType!==3||(U=O+_),Pe!==C||p!==0&&Pe.nodeType!==3||(ae=O+p),Pe.nodeType===3&&(O+=Pe.nodeValue.length),(Te=Pe.firstChild)!==null;)_e=Pe,Pe=Te;for(;;){if(Pe===i)break t;if(_e===d&&++he===_&&(U=O),_e===C&&++ke===p&&(ae=O),(Te=Pe.nextSibling)!==null)break;Pe=_e,_e=Pe.parentNode}Pe=Te}d=U===-1||ae===-1?null:{start:U,end:ae}}else d=null}d=d||{start:0,end:0}}else d=null;for(Cy={focusedElem:i,selectionRange:d},Nm=!1,nn=l;nn!==null;)if(l=nn,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,nn=i;else for(;nn!==null;){switch(l=nn,C=l.alternate,i=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&C!==null){i=void 0,d=l,_=C.memoizedProps,C=C.memoizedState,p=d.stateNode;try{var Je=jl(d.type,_,d.elementType===d.type);i=p.getSnapshotBeforeUpdate(Je,C),p.__reactInternalSnapshotBeforeUpdate=i}catch(vt){er(d,d.return,vt)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,d=i.nodeType,d===9)ky(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ky(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=l.sibling,i!==null){i.return=l.return,nn=i;break}nn=l.return}return Je=RC,RC=!1,Je}function DC(i,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Ni(i,d),p&4&&af(5,d);break;case 1:if(Ni(i,d),p&4)if(i=d.stateNode,l===null)try{i.componentDidMount()}catch(U){er(d,d.return,U)}else{var _=jl(d.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(_,l,i.__reactInternalSnapshotBeforeUpdate)}catch(U){er(d,d.return,U)}}p&64&&SC(d),p&512&&Ul(d,d.return);break;case 3:if(Ni(i,d),p&64&&(p=d.updateQueue,p!==null)){if(i=null,d.child!==null)switch(d.child.tag){case 27:case 5:i=d.child.stateNode;break;case 1:i=d.child.stateNode}try{EC(p,i)}catch(U){er(d,d.return,U)}}break;case 26:Ni(i,d),p&512&&Ul(d,d.return);break;case 27:case 5:Ni(i,d),l===null&&p&4&&TC(d),p&512&&Ul(d,d.return);break;case 12:Ni(i,d);break;case 13:Ni(i,d),p&4&&PC(i,d);break;case 22:if(_=d.memoizedState!==null||Ci,!_){l=l!==null&&l.memoizedState!==null||Sr;var C=Ci,O=Sr;Ci=_,(Sr=l)&&!O?bo(i,d,(d.subtreeFlags&8772)!==0):Ni(i,d),Ci=C,Sr=O}p&512&&(d.memoizedProps.mode==="manual"?Ul(d,d.return):pa(d,d.return));break;default:Ni(i,d)}}function IC(i){var l=i.alternate;l!==null&&(i.alternate=null,IC(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&we(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Lr=null,ga=!1;function Ti(i,l,d){for(d=d.child;d!==null;)OC(i,l,d),d=d.sibling}function OC(i,l,d){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Gt,d)}catch{}switch(d.tag){case 26:Sr||pa(d,l),Ti(i,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Sr||pa(d,l);var p=Lr,_=ga;for(Lr=d.stateNode,Ti(i,l,d),d=d.stateNode,l=d.attributes;l.length;)d.removeAttributeNode(l[0]);we(d),Lr=p,ga=_;break;case 5:Sr||pa(d,l);case 6:_=Lr;var C=ga;if(Lr=null,Ti(i,l,d),Lr=_,ga=C,Lr!==null)if(ga)try{i=Lr,p=d.stateNode,i.nodeType===8?i.parentNode.removeChild(p):i.removeChild(p)}catch(O){er(d,l,O)}else try{Lr.removeChild(d.stateNode)}catch(O){er(d,l,O)}break;case 18:Lr!==null&&(ga?(l=Lr,d=d.stateNode,l.nodeType===8?Ay(l.parentNode,d):l.nodeType===1&&Ay(l,d),Ef(l)):Ay(Lr,d.stateNode));break;case 4:p=Lr,_=ga,Lr=d.stateNode.containerInfo,ga=!0,Ti(i,l,d),Lr=p,ga=_;break;case 0:case 11:case 14:case 15:Sr||yo(2,d,l),Sr||yo(4,d,l),Ti(i,l,d);break;case 1:Sr||(pa(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&CC(d,l,p)),Ti(i,l,d);break;case 21:Ti(i,l,d);break;case 22:Sr||pa(d,l),Sr=(p=Sr)||d.memoizedState!==null,Ti(i,l,d),Sr=p;break;default:Ti(i,l,d)}}function PC(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ef(i)}catch(d){er(l,l.return,d)}}function U5(i){switch(i.tag){case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new kC),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new kC),l;default:throw Error(n(435,i.tag))}}function Qx(i,l){var d=U5(i);l.forEach(function(p){var _=J5.bind(null,i,p);d.has(p)||(d.add(p),p.then(_,_))})}function Ha(i,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var _=d[p],C=i,O=l,U=O;e:for(;U!==null;){switch(U.tag){case 27:case 5:Lr=U.stateNode,ga=!1;break e;case 3:Lr=U.stateNode.containerInfo,ga=!0;break e;case 4:Lr=U.stateNode.containerInfo,ga=!0;break e}U=U.return}if(Lr===null)throw Error(n(160));OC(C,O,_),Lr=null,ga=!1,C=_.alternate,C!==null&&(C.return=null),_.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)MC(l,i),l=l.sibling}var cs=null;function MC(i,l){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ha(l,i),$a(i),p&4&&(yo(3,i,i.return),af(3,i),yo(5,i,i.return));break;case 1:Ha(l,i),$a(i),p&512&&(Sr||d===null||pa(d,d.return)),p&64&&Ci&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var _=cs;if(Ha(l,i),$a(i),p&512&&(Sr||d===null||pa(d,d.return)),p&4){var C=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,_=_.ownerDocument||_;t:switch(p){case"title":C=_.getElementsByTagName("title")[0],(!C||C[xe]||C[q]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=_.createElement(p),_.head.insertBefore(C,_.querySelector("head > title"))),yn(C,p,d),C[q]=i,Be(C),p=C;break e;case"link":var O=TT("link","href",_).get(p+(d.href||""));if(O){for(var U=0;U<O.length;U++)if(C=O[U],C.getAttribute("href")===(d.href==null?null:d.href)&&C.getAttribute("rel")===(d.rel==null?null:d.rel)&&C.getAttribute("title")===(d.title==null?null:d.title)&&C.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){O.splice(U,1);break t}}C=_.createElement(p),yn(C,p,d),_.head.appendChild(C);break;case"meta":if(O=TT("meta","content",_).get(p+(d.content||""))){for(U=0;U<O.length;U++)if(C=O[U],C.getAttribute("content")===(d.content==null?null:""+d.content)&&C.getAttribute("name")===(d.name==null?null:d.name)&&C.getAttribute("property")===(d.property==null?null:d.property)&&C.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&C.getAttribute("charset")===(d.charSet==null?null:d.charSet)){O.splice(U,1);break t}}C=_.createElement(p),yn(C,p,d),_.head.appendChild(C);break;default:throw Error(n(468,p))}C[q]=i,Be(C),p=C}i.stateNode=p}else NT(_,i.type,i.stateNode);else i.stateNode=CT(_,p,i.memoizedProps);else C!==p?(C===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):C.count--,p===null?NT(_,i.type,i.stateNode):CT(_,p,i.memoizedProps)):p===null&&i.stateNode!==null&&NC(i,i.memoizedProps,d.memoizedProps)}break;case 27:if(p&4&&i.alternate===null){_=i.stateNode,C=i.memoizedProps;try{for(var ae=_.firstChild;ae;){var he=ae.nextSibling,ke=ae.nodeName;ae[xe]||ke==="HEAD"||ke==="BODY"||ke==="SCRIPT"||ke==="STYLE"||ke==="LINK"&&ae.rel.toLowerCase()==="stylesheet"||_.removeChild(ae),ae=he}for(var Pe=i.type,_e=_.attributes;_e.length;)_.removeAttributeNode(_e[0]);yn(_,Pe,C),_[q]=i,_[X]=C}catch(Je){er(i,i.return,Je)}}case 5:if(Ha(l,i),$a(i),p&512&&(Sr||d===null||pa(d,d.return)),i.flags&32){_=i.stateNode;try{$c(_,"")}catch(Je){er(i,i.return,Je)}}p&4&&i.stateNode!=null&&(_=i.memoizedProps,NC(i,_,d!==null?d.memoizedProps:_)),p&1024&&(Kx=!0);break;case 6:if(Ha(l,i),$a(i),p&4){if(i.stateNode===null)throw Error(n(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(Je){er(i,i.return,Je)}}break;case 3:if(Sm=null,_=cs,cs=_m(l.containerInfo),Ha(l,i),cs=_,$a(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Ef(l.containerInfo)}catch(Je){er(i,i.return,Je)}Kx&&(Kx=!1,FC(i));break;case 4:p=cs,cs=_m(i.stateNode.containerInfo),Ha(l,i),$a(i),cs=p;break;case 12:Ha(l,i),$a(i);break;case 13:Ha(l,i),$a(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(iy=je()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Qx(i,p)));break;case 22:if(p&512&&(Sr||d===null||pa(d,d.return)),ae=i.memoizedState!==null,he=d!==null&&d.memoizedState!==null,ke=Ci,Pe=Sr,Ci=ke||ae,Sr=Pe||he,Ha(l,i),Sr=Pe,Ci=ke,$a(i),l=i.stateNode,l._current=i,l._visibility&=-3,l._visibility|=l._pendingVisibility&2,p&8192&&(l._visibility=ae?l._visibility&-2:l._visibility|1,ae&&(l=Ci||Sr,d===null||he||l||iu(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(d=null,l=i;;){if(l.tag===5||l.tag===26||l.tag===27){if(d===null){he=d=l;try{if(_=he.stateNode,ae)C=_.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{O=he.stateNode,U=he.memoizedProps.style;var Te=U!=null&&U.hasOwnProperty("display")?U.display:null;O.style.display=Te==null||typeof Te=="boolean"?"":(""+Te).trim()}}catch(Je){er(he,he.return,Je)}}}else if(l.tag===6){if(d===null){he=l;try{he.stateNode.nodeValue=ae?"":he.memoizedProps}catch(Je){er(he,he.return,Je)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Qx(i,d))));break;case 19:Ha(l,i),$a(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Qx(i,p)));break;case 21:break;default:Ha(l,i),$a(i)}}function $a(i){var l=i.flags;if(l&2){try{if(i.tag!==27){e:{for(var d=i.return;d!==null;){if(AC(d)){var p=d;break e}d=d.return}throw Error(n(160))}switch(p.tag){case 27:var _=p.stateNode,C=Yx(i);om(i,C,_);break;case 5:var O=p.stateNode;p.flags&32&&($c(O,""),p.flags&=-33);var U=Yx(i);om(i,U,O);break;case 3:case 4:var ae=p.stateNode.containerInfo,he=Yx(i);Xx(i,he,ae);break;default:throw Error(n(161))}}}catch(ke){er(i,i.return,ke)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function FC(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;FC(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function Ni(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)DC(i,l.alternate,l),l=l.sibling}function iu(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:yo(4,l,l.return),iu(l);break;case 1:pa(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&CC(l,l.return,d),iu(l);break;case 26:case 27:case 5:pa(l,l.return),iu(l);break;case 22:pa(l,l.return),l.memoizedState===null&&iu(l);break;default:iu(l)}i=i.sibling}}function bo(i,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,_=i,C=l,O=C.flags;switch(C.tag){case 0:case 11:case 15:bo(_,C,d),af(4,C);break;case 1:if(bo(_,C,d),p=C,_=p.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(he){er(p,p.return,he)}if(p=C,_=p.updateQueue,_!==null){var U=p.stateNode;try{var ae=_.shared.hiddenCallbacks;if(ae!==null)for(_.shared.hiddenCallbacks=null,_=0;_<ae.length;_++)_C(ae[_],U)}catch(he){er(p,p.return,he)}}d&&O&64&&SC(C),Ul(C,C.return);break;case 26:case 27:case 5:bo(_,C,d),d&&p===null&&O&4&&TC(C),Ul(C,C.return);break;case 12:bo(_,C,d);break;case 13:bo(_,C,d),d&&O&4&&PC(_,C);break;case 22:C.memoizedState===null&&bo(_,C,d),Ul(C,C.return);break;default:bo(_,C,d)}l=l.sibling}}function Zx(i,l){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Yd(d))}function Jx(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Yd(i))}function wo(i,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)jC(i,l,d,p),l=l.sibling}function jC(i,l,d,p){var _=l.flags;switch(l.tag){case 0:case 11:case 15:wo(i,l,d,p),_&2048&&af(9,l);break;case 3:wo(i,l,d,p),_&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Yd(i)));break;case 12:if(_&2048){wo(i,l,d,p),i=l.stateNode;try{var C=l.memoizedProps,O=C.id,U=C.onPostCommit;typeof U=="function"&&U(O,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ae){er(l,l.return,ae)}}else wo(i,l,d,p);break;case 23:break;case 22:C=l.stateNode,l.memoizedState!==null?C._visibility&4?wo(i,l,d,p):sf(i,l):C._visibility&4?wo(i,l,d,p):(C._visibility|=4,ou(i,l,d,p,(l.subtreeFlags&10256)!==0)),_&2048&&Zx(l.alternate,l);break;case 24:wo(i,l,d,p),_&2048&&Jx(l.alternate,l);break;default:wo(i,l,d,p)}}function ou(i,l,d,p,_){for(_=_&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var C=i,O=l,U=d,ae=p,he=O.flags;switch(O.tag){case 0:case 11:case 15:ou(C,O,U,ae,_),af(8,O);break;case 23:break;case 22:var ke=O.stateNode;O.memoizedState!==null?ke._visibility&4?ou(C,O,U,ae,_):sf(C,O):(ke._visibility|=4,ou(C,O,U,ae,_)),_&&he&2048&&Zx(O.alternate,O);break;case 24:ou(C,O,U,ae,_),_&&he&2048&&Jx(O.alternate,O);break;default:ou(C,O,U,ae,_)}l=l.sibling}}function sf(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=i,p=l,_=p.flags;switch(p.tag){case 22:sf(d,p),_&2048&&Zx(p.alternate,p);break;case 24:sf(d,p),_&2048&&Jx(p.alternate,p);break;default:sf(d,p)}l=l.sibling}}var of=8192;function lu(i){if(i.subtreeFlags&of)for(i=i.child;i!==null;)LC(i),i=i.sibling}function LC(i){switch(i.tag){case 26:lu(i),i.flags&of&&i.memoizedState!==null&&A6(cs,i.memoizedState,i.memoizedProps);break;case 5:lu(i);break;case 3:case 4:var l=cs;cs=_m(i.stateNode.containerInfo),lu(i),cs=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=of,of=16777216,lu(i),of=l):lu(i));break;default:lu(i)}}function BC(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function lf(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];nn=p,VC(p,i)}BC(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)UC(i),i=i.sibling}function UC(i){switch(i.tag){case 0:case 11:case 15:lf(i),i.flags&2048&&yo(9,i,i.return);break;case 3:lf(i);break;case 12:lf(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&4&&(i.return===null||i.return.tag!==13)?(l._visibility&=-5,lm(i)):lf(i);break;default:lf(i)}}function lm(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];nn=p,VC(p,i)}BC(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:yo(8,l,l.return),lm(l);break;case 22:d=l.stateNode,d._visibility&4&&(d._visibility&=-5,lm(l));break;default:lm(l)}i=i.sibling}}function VC(i,l){for(;nn!==null;){var d=nn;switch(d.tag){case 0:case 11:case 15:yo(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Yd(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,nn=p;else e:for(d=i;nn!==null;){p=nn;var _=p.sibling,C=p.return;if(IC(p),p===d){nn=null;break e}if(_!==null){_.return=C,nn=_;break e}nn=C}}}function V5(i,l,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(i,l,d,p){return new V5(i,l,d,p)}function ey(i){return i=i.prototype,!(!i||!i.isReactComponent)}function _o(i,l){var d=i.alternate;return d===null?(d=za(i.tag,l,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=l,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&31457280,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,l=i.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function HC(i,l){i.flags&=31457282;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,l=d.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function cm(i,l,d,p,_,C){var O=0;if(p=i,typeof i=="function")ey(i)&&(O=1);else if(typeof i=="string")O=T6(i,d,Ae.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case u:return Vl(d.children,_,C,l);case f:O=8,_|=24;break;case m:return i=za(12,d,l,_|2),i.elementType=m,i.lanes=C,i;case w:return i=za(13,d,l,_),i.elementType=w,i.lanes=C,i;case b:return i=za(19,d,l,_),i.elementType=b,i.lanes=C,i;case E:return $C(d,_,C,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case g:case x:O=10;break e;case v:O=9;break e;case y:O=11;break e;case S:O=14;break e;case T:O=16,p=null;break e}O=29,d=Error(n(130,i===null?"null":typeof i,"")),p=null}return l=za(O,d,l,_),l.elementType=i,l.type=p,l.lanes=C,l}function Vl(i,l,d,p){return i=za(7,i,p,l),i.lanes=d,i}function $C(i,l,d,p){i=za(22,i,p,l),i.elementType=E,i.lanes=d;var _={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var C=_._current;if(C===null)throw Error(n(456));if((_._pendingVisibility&2)===0){var O=co(C,2);O!==null&&(_._pendingVisibility|=2,Bn(O,C,2))}},attach:function(){var C=_._current;if(C===null)throw Error(n(456));if((_._pendingVisibility&2)!==0){var O=co(C,2);O!==null&&(_._pendingVisibility&=-3,Bn(O,C,2))}}};return i.stateNode=_,i}function ty(i,l,d){return i=za(6,i,null,l),i.lanes=d,i}function ry(i,l,d){return l=za(4,i.children!==null?i.children:[],i.key,l),l.lanes=d,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function Ai(i){i.flags|=4}function zC(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!AT(l)){if(l=Va.current,l!==null&&((Mt&4194176)===Mt?Ps!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||l!==Ps))throw Wd=ox,oS;i.flags|=8192}}function um(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?Er():536870912,i.lanes|=l,uu|=l)}function cf(i,l){if(!Bt)switch(i.tailMode){case"hidden":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function vr(i){var l=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(l)for(var _=i.child;_!==null;)d|=_.lanes|_.childLanes,p|=_.subtreeFlags&31457280,p|=_.flags&31457280,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)d|=_.lanes|_.childLanes,p|=_.subtreeFlags,p|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=p,i.childLanes=d,l}function H5(i,l,d){var p=l.pendingProps;switch(sx(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(l),null;case 1:return vr(l),null;case 3:return d=l.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Si(qr),$e(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Vd(l)?Ai(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ls!==null&&(uy(ls),ls=null))),vr(l),null;case 26:return d=l.memoizedState,i===null?(Ai(l),d!==null?(vr(l),zC(l,d)):(vr(l),l.flags&=-16777217)):d?d!==i.memoizedState?(Ai(l),vr(l),zC(l,d)):(vr(l),l.flags&=-16777217):(i.memoizedProps!==p&&Ai(l),vr(l),l.flags&=-16777217),null;case 27:ie(l),d=He.current;var _=l.type;if(i!==null&&l.stateNode!=null)i.memoizedProps!==p&&Ai(l);else{if(!p){if(l.stateNode===null)throw Error(n(166));return vr(l),null}i=Ae.current,Vd(l)?sS(l):(i=bT(_,p,d),l.stateNode=i,Ai(l))}return vr(l),null;case 5:if(ie(l),d=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==p&&Ai(l);else{if(!p){if(l.stateNode===null)throw Error(n(166));return vr(l),null}if(i=Ae.current,Vd(l))sS(l);else{switch(_=wm(He.current),i){case 1:i=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:i=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":i=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":i=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":i=_.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof p.is=="string"?_.createElement("select",{is:p.is}):_.createElement("select"),p.multiple?i.multiple=!0:p.size&&(i.size=p.size);break;default:i=typeof p.is=="string"?_.createElement(d,{is:p.is}):_.createElement(d)}}i[q]=l,i[X]=p;e:for(_=l.child;_!==null;){if(_.tag===5||_.tag===6)i.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===l)break e;for(;_.sibling===null;){if(_.return===null||_.return===l)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}l.stateNode=i;e:switch(yn(i,d,p),d){case"button":case"input":case"select":case"textarea":i=!!p.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ai(l)}}return vr(l),l.flags&=-16777217,null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==p&&Ai(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(n(166));if(i=He.current,Vd(l)){if(i=l.stateNode,d=l.memoizedProps,p=null,_=Ln,_!==null)switch(_.tag){case 27:case 5:p=_.memoizedProps}i[q]=l,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||mT(i.nodeValue,d)),i||Dl(l)}else i=wm(i).createTextNode(p),i[q]=l,l.stateNode=i}return vr(l),null;case 13:if(p=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(_=Vd(l),p!==null&&p.dehydrated!==null){if(i===null){if(!_)throw Error(n(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[q]=l}else Hd(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;vr(l),_=!1}else ls!==null&&(uy(ls),ls=null),_=!0;if(!_)return l.flags&256?(bi(l),l):(bi(l),null)}if(bi(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=p!==null,i=i!==null&&i.memoizedState!==null,d){p=l.child,_=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(_=p.alternate.memoizedState.cachePool.pool);var C=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(C=p.memoizedState.cachePool.pool),C!==_&&(p.flags|=2048)}return d!==i&&d&&(l.child.flags|=8192),um(l,l.updateQueue),vr(l),null;case 4:return $e(),i===null&&wy(l.stateNode.containerInfo),vr(l),null;case 10:return Si(l.type),vr(l),null;case 19:if(ue(Wr),_=l.memoizedState,_===null)return vr(l),null;if(p=(l.flags&128)!==0,C=_.rendering,C===null)if(p)cf(_,!1);else{if(Cr!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(C=G0(i),C!==null){for(l.flags|=128,cf(_,!1),i=C.updateQueue,l.updateQueue=i,um(l,i),l.subtreeFlags=0,i=d,d=l.child;d!==null;)HC(d,i),d=d.sibling;return me(Wr,Wr.current&1|2),l.child}i=i.sibling}_.tail!==null&&je()>dm&&(l.flags|=128,p=!0,cf(_,!1),l.lanes=4194304)}else{if(!p)if(i=G0(C),i!==null){if(l.flags|=128,p=!0,i=i.updateQueue,l.updateQueue=i,um(l,i),cf(_,!0),_.tail===null&&_.tailMode==="hidden"&&!C.alternate&&!Bt)return vr(l),null}else 2*je()-_.renderingStartTime>dm&&d!==536870912&&(l.flags|=128,p=!0,cf(_,!1),l.lanes=4194304);_.isBackwards?(C.sibling=l.child,l.child=C):(i=_.last,i!==null?i.sibling=C:l.child=C,_.last=C)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=je(),l.sibling=null,i=Wr.current,me(Wr,p?i&1|2:i&1),l):(vr(l),null);case 22:case 23:return bi(l),cx(),p=l.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(vr(l),l.subtreeFlags&6&&(l.flags|=8192)):vr(l),d=l.updateQueue,d!==null&&um(l,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),i!==null&&ue(Ol),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Si(qr),vr(l),null;case 25:return null}throw Error(n(156,l.tag))}function $5(i,l){switch(sx(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Si(qr),$e(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return ie(l),null;case 13:if(bi(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Hd()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return ue(Wr),null;case 4:return $e(),null;case 10:return Si(l.type),null;case 22:case 23:return bi(l),cx(),i!==null&&ue(Ol),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Si(qr),null;case 25:return null;default:return null}}function WC(i,l){switch(sx(l),l.tag){case 3:Si(qr),$e();break;case 26:case 27:case 5:ie(l);break;case 4:$e();break;case 13:bi(l);break;case 19:ue(Wr);break;case 10:Si(l.type);break;case 22:case 23:bi(l),cx(),i!==null&&ue(Ol);break;case 24:Si(qr)}}var z5={getCacheForType:function(i){var l=Tn(qr),d=l.data.get(i);return d===void 0&&(d=i(),l.data.set(i,d)),d}},W5=typeof WeakMap=="function"?WeakMap:Map,xr=0,ar=null,Nt=null,Mt=0,sr=0,va=null,ki=!1,cu=!1,ny=!1,Ri=0,Cr=0,Eo=0,Hl=0,ay=0,Wa=0,uu=0,uf=null,Fs=null,sy=!1,iy=0,dm=1/0,fm=null,So=null,hm=!1,$l=null,df=0,oy=0,ly=null,ff=0,cy=null;function xa(){if((xr&2)!==0&&Mt!==0)return Mt&-Mt;if(I.T!==null){var i=tu;return i!==0?i:vy()}return Rd()}function qC(){Wa===0&&(Wa=(Mt&536870912)===0||Bt?gi():536870912);var i=Va.current;return i!==null&&(i.flags|=32),Wa}function Bn(i,l,d){(i===ar&&sr===2||i.cancelPendingCommit!==null)&&(du(i,0),Di(i,Mt,Wa,!1)),Oa(i,d),((xr&2)===0||i!==ar)&&(i===ar&&((xr&2)===0&&(Hl|=d),Cr===4&&Di(i,Mt,Wa,!1)),js(i))}function GC(i,l,d){if((xr&6)!==0)throw Error(n(327));var p=!d&&(l&60)===0&&(l&i.expiredLanes)===0||fr(i,l),_=p?Y5(i,l):hy(i,l,!0),C=p;do{if(_===0){cu&&!p&&Di(i,l,0,!1);break}else if(_===6)Di(i,l,0,!ki);else{if(d=i.current.alternate,C&&!q5(d)){_=hy(i,l,!1),C=!1;continue}if(_===2){if(C=l,i.errorRecoveryDisabledLanes&C)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){l=O;e:{var U=i;_=uf;var ae=U.current.memoizedState.isDehydrated;if(ae&&(du(U,O).flags|=256),O=hy(U,O,!1),O!==2){if(ny&&!ae){U.errorRecoveryDisabledLanes|=C,Hl|=C,_=4;break e}C=Fs,Fs=_,C!==null&&uy(C)}_=O}if(C=!1,_!==2)continue}}if(_===1){du(i,0),Di(i,l,0,!0);break}e:{switch(p=i,_){case 0:case 1:throw Error(n(345));case 4:if((l&4194176)===l){Di(p,l,Wa,!ki);break e}break;case 2:Fs=null;break;case 3:case 5:break;default:throw Error(n(329))}if(p.finishedWork=d,p.finishedLanes=l,(l&62914560)===l&&(C=iy+300-je(),10<C)){if(Di(p,l,Wa,!ki),dr(p,0)!==0)break e;p.timeoutHandle=vT(YC.bind(null,p,d,Fs,fm,sy,l,Wa,Hl,uu,ki,2,-0,0),C);break e}YC(p,d,Fs,fm,sy,l,Wa,Hl,uu,ki,0,-0,0)}}break}while(!0);js(i)}function uy(i){Fs===null?Fs=i:Fs.push.apply(Fs,i)}function YC(i,l,d,p,_,C,O,U,ae,he,ke,Pe,_e){var Te=l.subtreeFlags;if((Te&8192||(Te&16785408)===16785408)&&(xf={stylesheets:null,count:0,unsuspend:N6},LC(l),l=k6(),l!==null)){i.cancelPendingCommit=l(tT.bind(null,i,d,p,_,O,U,ae,1,Pe,_e)),Di(i,C,O,!he);return}tT(i,d,p,_,O,U,ae,ke,Pe,_e)}function q5(i){for(var l=i;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var _=d[p],C=_.getSnapshot;_=_.value;try{if(!ma(C(),_))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Di(i,l,d,p){l&=~ay,l&=~Hl,i.suspendedLanes|=l,i.pingedLanes&=~l,p&&(i.warmLanes|=l),p=i.expirationTimes;for(var _=l;0<_;){var C=31-pn(_),O=1<<C;p[C]=-1,_&=~O}d!==0&&tn(i,d,l)}function mm(){return(xr&6)===0?(hf(0),!1):!0}function dy(){if(Nt!==null){if(sr===0)var i=Nt.return;else i=Nt,Ei=Ll=null,vx(i),Jc=null,qd=0,i=Nt;for(;i!==null;)WC(i.alternate,i),i=i.return;Nt=null}}function du(i,l){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,d6(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),dy(),ar=i,Nt=d=_o(i.current,null),Mt=l,sr=0,va=null,ki=!1,cu=fr(i,l),ny=!1,uu=Wa=ay=Hl=Eo=Cr=0,Fs=uf=null,sy=!1,(l&8)!==0&&(l|=l&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=l;0<p;){var _=31-pn(p),C=1<<_;l|=i[_],p&=~C}return Ri=l,L0(),d}function XC(i,l){Et=null,I.H=Ms,l===zd?(l=uS(),sr=3):l===oS?(l=uS(),sr=4):sr=l===lC?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,va=l,Nt===null&&(Cr=1,am(i,La(l,i.current)))}function KC(){var i=I.H;return I.H=Ms,i===null?Ms:i}function QC(){var i=I.A;return I.A=z5,i}function fy(){Cr=4,ki||(Mt&4194176)!==Mt&&Va.current!==null||(cu=!0),(Eo&134217727)===0&&(Hl&134217727)===0||ar===null||Di(ar,Mt,Wa,!1)}function hy(i,l,d){var p=xr;xr|=2;var _=KC(),C=QC();(ar!==i||Mt!==l)&&(fm=null,du(i,l)),l=!1;var O=Cr;e:do try{if(sr!==0&&Nt!==null){var U=Nt,ae=va;switch(sr){case 8:dy(),O=6;break e;case 3:case 2:case 6:Va.current===null&&(l=!0);var he=sr;if(sr=0,va=null,fu(i,U,ae,he),d&&cu){O=0;break e}break;default:he=sr,sr=0,va=null,fu(i,U,ae,he)}}G5(),O=Cr;break}catch(ke){XC(i,ke)}while(!0);return l&&i.shellSuspendCounter++,Ei=Ll=null,xr=p,I.H=_,I.A=C,Nt===null&&(ar=null,Mt=0,L0()),O}function G5(){for(;Nt!==null;)ZC(Nt)}function Y5(i,l){var d=xr;xr|=2;var p=KC(),_=QC();ar!==i||Mt!==l?(fm=null,dm=je()+500,du(i,l)):cu=fr(i,l);e:do try{if(sr!==0&&Nt!==null){l=Nt;var C=va;t:switch(sr){case 1:sr=0,va=null,fu(i,l,C,1);break;case 2:if(lS(C)){sr=0,va=null,JC(l);break}l=function(){sr===2&&ar===i&&(sr=7),js(i)},C.then(l,l);break e;case 3:sr=7;break e;case 4:sr=5;break e;case 7:lS(C)?(sr=0,va=null,JC(l)):(sr=0,va=null,fu(i,l,C,7));break;case 5:var O=null;switch(Nt.tag){case 26:O=Nt.memoizedState;case 5:case 27:var U=Nt;if(!O||AT(O)){sr=0,va=null;var ae=U.sibling;if(ae!==null)Nt=ae;else{var he=U.return;he!==null?(Nt=he,pm(he)):Nt=null}break t}}sr=0,va=null,fu(i,l,C,5);break;case 6:sr=0,va=null,fu(i,l,C,6);break;case 8:dy(),Cr=6;break e;default:throw Error(n(462))}}X5();break}catch(ke){XC(i,ke)}while(!0);return Ei=Ll=null,I.H=p,I.A=_,xr=d,Nt!==null?0:(ar=null,Mt=0,L0(),Cr)}function X5(){for(;Nt!==null&&!Re();)ZC(Nt)}function ZC(i){var l=bC(i.alternate,i,Ri);i.memoizedProps=i.pendingProps,l===null?pm(i):Nt=l}function JC(i){var l=i,d=l.alternate;switch(l.tag){case 15:case 0:l=mC(d,l,l.pendingProps,l.type,void 0,Mt);break;case 11:l=mC(d,l,l.pendingProps,l.type.render,l.ref,Mt);break;case 5:vx(l);default:WC(d,l),l=Nt=HC(l,Ri),l=bC(d,l,Ri)}i.memoizedProps=i.pendingProps,l===null?pm(i):Nt=l}function fu(i,l,d,p){Ei=Ll=null,vx(l),Jc=null,qd=0;var _=l.return;try{if(j5(i,_,l,d,Mt)){Cr=1,am(i,La(d,i.current)),Nt=null;return}}catch(C){if(_!==null)throw Nt=_,C;Cr=1,am(i,La(d,i.current)),Nt=null;return}l.flags&32768?(Bt||p===1?i=!0:cu||(Mt&536870912)!==0?i=!1:(ki=i=!0,(p===2||p===3||p===6)&&(p=Va.current,p!==null&&p.tag===13&&(p.flags|=16384))),eT(l,i)):pm(l)}function pm(i){var l=i;do{if((l.flags&32768)!==0){eT(l,ki);return}i=l.return;var d=H5(l.alternate,l,Ri);if(d!==null){Nt=d;return}if(l=l.sibling,l!==null){Nt=l;return}Nt=l=i}while(l!==null);Cr===0&&(Cr=5)}function eT(i,l){do{var d=$5(i.alternate,i);if(d!==null){d.flags&=32767,Nt=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(i=i.sibling,i!==null)){Nt=i;return}Nt=i=d}while(i!==null);Cr=6,Nt=null}function tT(i,l,d,p,_,C,O,U,ae,he){var ke=I.T,Pe=K.p;try{K.p=2,I.T=null,K5(i,l,d,p,Pe,_,C,O,U,ae,he)}finally{I.T=ke,K.p=Pe}}function K5(i,l,d,p,_,C,O,U){do hu();while($l!==null);if((xr&6)!==0)throw Error(n(327));var ae=i.finishedWork;if(p=i.finishedLanes,ae===null)return null;if(i.finishedWork=null,i.finishedLanes=0,ae===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var he=ae.lanes|ae.childLanes;if(he|=rx,Fn(i,p,he,C,O,U),i===ar&&(Nt=ar=null,Mt=0),(ae.subtreeFlags&10256)===0&&(ae.flags&10256)===0||hm||(hm=!0,oy=he,ly=d,e6(Dt,function(){return hu(),null})),d=(ae.flags&15990)!==0,(ae.subtreeFlags&15990)!==0||d?(d=I.T,I.T=null,C=K.p,K.p=2,O=xr,xr|=4,B5(i,ae),MC(ae,i),b5(Cy,i.containerInfo),Nm=!!Sy,Cy=Sy=null,i.current=ae,DC(i,ae.alternate,ae),De(),xr=O,K.p=C,I.T=d):i.current=ae,hm?(hm=!1,$l=i,df=p):rT(i,he),he=i.pendingLanes,he===0&&(So=null),Ds(ae.stateNode),js(i),l!==null)for(_=i.onRecoverableError,ae=0;ae<l.length;ae++)he=l[ae],_(he.value,{componentStack:he.stack});return(df&3)!==0&&hu(),he=i.pendingLanes,(p&4194218)!==0&&(he&42)!==0?i===cy?ff++:(ff=0,cy=i):ff=0,hf(0),null}function rT(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,Yd(l)))}function hu(){if($l!==null){var i=$l,l=oy;oy=0;var d=Pa(df),p=I.T,_=K.p;try{if(K.p=32>d?32:d,I.T=null,$l===null)var C=!1;else{d=ly,ly=null;var O=$l,U=df;if($l=null,df=0,(xr&6)!==0)throw Error(n(331));var ae=xr;if(xr|=4,UC(O.current),jC(O,O.current,U,d),xr=ae,hf(0,!1),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Gt,O)}catch{}C=!0}return C}finally{K.p=_,I.T=p,rT(i,l)}}return!1}function nT(i,l,d){l=La(d,l),l=Dx(i.stateNode,l,2),i=xo(i,l,2),i!==null&&(Oa(i,2),js(i))}function er(i,l,d){if(i.tag===3)nT(i,i,d);else for(;l!==null;){if(l.tag===3){nT(l,i,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(So===null||!So.has(p))){i=La(d,i),d=iC(2),p=xo(l,d,2),p!==null&&(oC(d,p,l,i),Oa(p,2),js(p));break}}l=l.return}}function my(i,l,d){var p=i.pingCache;if(p===null){p=i.pingCache=new W5;var _=new Set;p.set(l,_)}else _=p.get(l),_===void 0&&(_=new Set,p.set(l,_));_.has(d)||(ny=!0,_.add(d),i=Q5.bind(null,i,l,d),l.then(i,i))}function Q5(i,l,d){var p=i.pingCache;p!==null&&p.delete(l),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,ar===i&&(Mt&d)===d&&(Cr===4||Cr===3&&(Mt&62914560)===Mt&&300>je()-iy?(xr&2)===0&&du(i,0):ay|=d,uu===Mt&&(uu=0)),js(i)}function aT(i,l){l===0&&(l=Er()),i=co(i,l),i!==null&&(Oa(i,l),js(i))}function Z5(i){var l=i.memoizedState,d=0;l!==null&&(d=l.retryLane),aT(i,d)}function J5(i,l){var d=0;switch(i.tag){case 13:var p=i.stateNode,_=i.memoizedState;_!==null&&(d=_.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(l),aT(i,d)}function e6(i,l){return Se(i,l)}var gm=null,mu=null,py=!1,vm=!1,gy=!1,zl=0;function js(i){i!==mu&&i.next===null&&(mu===null?gm=mu=i:mu=mu.next=i),vm=!0,py||(py=!0,r6(t6))}function hf(i,l){if(!gy&&vm){gy=!0;do for(var d=!1,p=gm;p!==null;){if(i!==0){var _=p.pendingLanes;if(_===0)var C=0;else{var O=p.suspendedLanes,U=p.pingedLanes;C=(1<<31-pn(42|i)+1)-1,C&=_&~(O&~U),C=C&201326677?C&201326677|1:C?C|2:0}C!==0&&(d=!0,oT(p,C))}else C=Mt,C=dr(p,p===ar?C:0),(C&3)===0||fr(p,C)||(d=!0,oT(p,C));p=p.next}while(d);gy=!1}}function t6(){vm=py=!1;var i=0;zl!==0&&(u6()&&(i=zl),zl=0);for(var l=je(),d=null,p=gm;p!==null;){var _=p.next,C=sT(p,l);C===0?(p.next=null,d===null?gm=_:d.next=_,_===null&&(mu=d)):(d=p,(i!==0||(C&3)!==0)&&(vm=!0)),p=_}hf(i)}function sT(i,l){for(var d=i.suspendedLanes,p=i.pingedLanes,_=i.expirationTimes,C=i.pendingLanes&-62914561;0<C;){var O=31-pn(C),U=1<<O,ae=_[O];ae===-1?((U&d)===0||(U&p)!==0)&&(_[O]=gn(U,l)):ae<=l&&(i.expiredLanes|=U),C&=~U}if(l=ar,d=Mt,d=dr(i,i===l?d:0),p=i.callbackNode,d===0||i===l&&sr===2||i.cancelPendingCommit!==null)return p!==null&&p!==null&&Me(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||fr(i,d)){if(l=d&-d,l===i.callbackPriority)return l;switch(p!==null&&Me(p),Pa(d)){case 2:case 8:d=At;break;case 32:d=Dt;break;case 268435456:d=ot;break;default:d=Dt}return p=iT.bind(null,i),d=Se(d,p),i.callbackPriority=l,i.callbackNode=d,l}return p!==null&&p!==null&&Me(p),i.callbackPriority=2,i.callbackNode=null,2}function iT(i,l){var d=i.callbackNode;if(hu()&&i.callbackNode!==d)return null;var p=Mt;return p=dr(i,i===ar?p:0),p===0?null:(GC(i,p,l),sT(i,je()),i.callbackNode!=null&&i.callbackNode===d?iT.bind(null,i):null)}function oT(i,l){if(hu())return null;GC(i,l,!0)}function r6(i){f6(function(){(xr&6)!==0?Se(bt,i):i()})}function vy(){return zl===0&&(zl=gi()),zl}function lT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:D0(""+i)}function cT(i,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,i.id&&d.setAttribute("form",i.id),l.parentNode.insertBefore(d,l),i=new FormData(i),d.parentNode.removeChild(d),i}function n6(i,l,d,p,_){if(l==="submit"&&d&&d.stateNode===_){var C=lT((_[X]||null).action),O=p.submitter;O&&(l=(l=O[X]||null)?lT(l.formAction):O.getAttribute("formAction"),l!==null&&(C=l,O=null));var U=new M0("action","action",null,p,_);i.push({event:U,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(zl!==0){var ae=O?cT(_,O):new FormData(_);Tx(d,{pending:!0,data:ae,method:_.method,action:C},null,ae)}}else typeof C=="function"&&(U.preventDefault(),ae=O?cT(_,O):new FormData(_),Tx(d,{pending:!0,data:ae,method:_.method,action:C},C,ae))},currentTarget:_}]})}}for(var xy=0;xy<tS.length;xy++){var yy=tS[xy],a6=yy.toLowerCase(),s6=yy[0].toUpperCase()+yy.slice(1);os(a6,"on"+s6)}os(K2,"onAnimationEnd"),os(Q2,"onAnimationIteration"),os(Z2,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os(_5,"onTransitionRun"),os(E5,"onTransitionStart"),os(S5,"onTransitionCancel"),os(J2,"onTransitionEnd"),gr("onMouseEnter",["mouseout","mouseover"]),gr("onMouseLeave",["mouseout","mouseover"]),gr("onPointerEnter",["pointerout","pointerover"]),gr("onPointerLeave",["pointerout","pointerover"]),$t("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$t("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$t("onBeforeInput",["compositionend","keypress","textInput","paste"]),$t("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mf));function uT(i,l){l=(l&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],_=p.event;p=p.listeners;e:{var C=void 0;if(l)for(var O=p.length-1;0<=O;O--){var U=p[O],ae=U.instance,he=U.currentTarget;if(U=U.listener,ae!==C&&_.isPropagationStopped())break e;C=U,_.currentTarget=he;try{C(_)}catch(ke){nm(ke)}_.currentTarget=null,C=ae}else for(O=0;O<p.length;O++){if(U=p[O],ae=U.instance,he=U.currentTarget,U=U.listener,ae!==C&&_.isPropagationStopped())break e;C=U,_.currentTarget=he;try{C(_)}catch(ke){nm(ke)}_.currentTarget=null,C=ae}}}}function It(i,l){var d=l[te];d===void 0&&(d=l[te]=new Set);var p=i+"__bubble";d.has(p)||(dT(l,i,2,!1),d.add(p))}function by(i,l,d){var p=0;l&&(p|=4),dT(d,i,p,l)}var xm="_reactListening"+Math.random().toString(36).slice(2);function wy(i){if(!i[xm]){i[xm]=!0,pt.forEach(function(d){d!=="selectionchange"&&(i6.has(d)||by(d,!1,i),by(d,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[xm]||(l[xm]=!0,by("selectionchange",!1,l))}}function dT(i,l,d,p){switch(PT(l)){case 2:var _=I6;break;case 8:_=O6;break;default:_=Py}d=_.bind(null,l,d,i),_=void 0,!$v||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),p?_!==void 0?i.addEventListener(l,d,{capture:!0,passive:_}):i.addEventListener(l,d,!0):_!==void 0?i.addEventListener(l,d,{passive:_}):i.addEventListener(l,d,!1)}function _y(i,l,d,p,_){var C=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var O=p.tag;if(O===3||O===4){var U=p.stateNode.containerInfo;if(U===_||U.nodeType===8&&U.parentNode===_)break;if(O===4)for(O=p.return;O!==null;){var ae=O.tag;if((ae===3||ae===4)&&(ae=O.stateNode.containerInfo,ae===_||ae.nodeType===8&&ae.parentNode===_))return;O=O.return}for(;U!==null;){if(O=Fe(U),O===null)return;if(ae=O.tag,ae===5||ae===6||ae===26||ae===27){p=C=O;continue e}U=U.parentNode}}p=p.return}T2(function(){var he=C,ke=Vv(d),Pe=[];e:{var _e=eS.get(i);if(_e!==void 0){var Te=M0,Je=i;switch(i){case"keypress":if(O0(d)===0)break e;case"keydown":case"keyup":Te=JL;break;case"focusin":Je="focus",Te=Gv;break;case"focusout":Je="blur",Te=Gv;break;case"beforeblur":case"afterblur":Te=Gv;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=k2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=VL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=r5;break;case K2:case Q2:case Z2:Te=zL;break;case J2:Te=a5;break;case"scroll":case"scrollend":Te=BL;break;case"wheel":Te=i5;break;case"copy":case"cut":case"paste":Te=qL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=D2;break;case"toggle":case"beforetoggle":Te=l5}var vt=(l&4)!==0,Tr=!vt&&(i==="scroll"||i==="scrollend"),pe=vt?_e!==null?_e+"Capture":null:_e;vt=[];for(var de=he,ge;de!==null;){var Ie=de;if(ge=Ie.stateNode,Ie=Ie.tag,Ie!==5&&Ie!==26&&Ie!==27||ge===null||pe===null||(Ie=Id(de,pe),Ie!=null&&vt.push(pf(de,Ie,ge))),Tr)break;de=de.return}0<vt.length&&(_e=new Te(_e,Je,null,d,ke),Pe.push({event:_e,listeners:vt}))}}if((l&7)===0){e:{if(_e=i==="mouseover"||i==="pointerover",Te=i==="mouseout"||i==="pointerout",_e&&d!==Uv&&(Je=d.relatedTarget||d.fromElement)&&(Fe(Je)||Je[J]))break e;if((Te||_e)&&(_e=ke.window===ke?ke:(_e=ke.ownerDocument)?_e.defaultView||_e.parentWindow:window,Te?(Je=d.relatedTarget||d.toElement,Te=he,Je=Je?Fe(Je):null,Je!==null&&(Tr=le(Je),vt=Je.tag,Je!==Tr||vt!==5&&vt!==27&&vt!==6)&&(Je=null)):(Te=null,Je=he),Te!==Je)){if(vt=k2,Ie="onMouseLeave",pe="onMouseEnter",de="mouse",(i==="pointerout"||i==="pointerover")&&(vt=D2,Ie="onPointerLeave",pe="onPointerEnter",de="pointer"),Tr=Te==null?_e:Ye(Te),ge=Je==null?_e:Ye(Je),_e=new vt(Ie,de+"leave",Te,d,ke),_e.target=Tr,_e.relatedTarget=ge,Ie=null,Fe(ke)===he&&(vt=new vt(pe,de+"enter",Je,d,ke),vt.target=ge,vt.relatedTarget=Tr,Ie=vt),Tr=Ie,Te&&Je)t:{for(vt=Te,pe=Je,de=0,ge=vt;ge;ge=pu(ge))de++;for(ge=0,Ie=pe;Ie;Ie=pu(Ie))ge++;for(;0<de-ge;)vt=pu(vt),de--;for(;0<ge-de;)pe=pu(pe),ge--;for(;de--;){if(vt===pe||pe!==null&&vt===pe.alternate)break t;vt=pu(vt),pe=pu(pe)}vt=null}else vt=null;Te!==null&&fT(Pe,_e,Te,vt,!1),Je!==null&&Tr!==null&&fT(Pe,Tr,Je,vt,!0)}}e:{if(_e=he?Ye(he):window,Te=_e.nodeName&&_e.nodeName.toLowerCase(),Te==="select"||Te==="input"&&_e.type==="file")var Xe=B2;else if(j2(_e))if(U2)Xe=x5;else{Xe=g5;var St=p5}else Te=_e.nodeName,!Te||Te.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?he&&Bv(he.elementType)&&(Xe=B2):Xe=v5;if(Xe&&(Xe=Xe(i,he))){L2(Pe,Xe,d,ke);break e}St&&St(i,_e,he),i==="focusout"&&he&&_e.type==="number"&&he.memoizedProps.value!=null&&Lv(_e,"number",_e.value)}switch(St=he?Ye(he):window,i){case"focusin":(j2(St)||St.contentEditable==="true")&&(Gc=St,Jv=he,Ud=null);break;case"focusout":Ud=Jv=Gc=null;break;case"mousedown":ex=!0;break;case"contextmenu":case"mouseup":case"dragend":ex=!1,Y2(Pe,d,ke);break;case"selectionchange":if(w5)break;case"keydown":case"keyup":Y2(Pe,d,ke)}var tt;if(Xv)e:{switch(i){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else qc?M2(i,d)&&(ct="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(ct="onCompositionStart");ct&&(I2&&d.locale!=="ko"&&(qc||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&qc&&(tt=N2()):(lo=ke,zv="value"in lo?lo.value:lo.textContent,qc=!0)),St=ym(he,ct),0<St.length&&(ct=new R2(ct,i,null,d,ke),Pe.push({event:ct,listeners:St}),tt?ct.data=tt:(tt=F2(d),tt!==null&&(ct.data=tt)))),(tt=u5?d5(i,d):f5(i,d))&&(ct=ym(he,"onBeforeInput"),0<ct.length&&(St=new R2("onBeforeInput","beforeinput",null,d,ke),Pe.push({event:St,listeners:ct}),St.data=tt)),n6(Pe,i,he,d,ke)}uT(Pe,l)})}function pf(i,l,d){return{instance:i,listener:l,currentTarget:d}}function ym(i,l){for(var d=l+"Capture",p=[];i!==null;){var _=i,C=_.stateNode;_=_.tag,_!==5&&_!==26&&_!==27||C===null||(_=Id(i,d),_!=null&&p.unshift(pf(i,_,C)),_=Id(i,l),_!=null&&p.push(pf(i,_,C))),i=i.return}return p}function pu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function fT(i,l,d,p,_){for(var C=l._reactName,O=[];d!==null&&d!==p;){var U=d,ae=U.alternate,he=U.stateNode;if(U=U.tag,ae!==null&&ae===p)break;U!==5&&U!==26&&U!==27||he===null||(ae=he,_?(he=Id(d,C),he!=null&&O.unshift(pf(d,he,ae))):_||(he=Id(d,C),he!=null&&O.push(pf(d,he,ae)))),d=d.return}O.length!==0&&i.push({event:l,listeners:O})}var o6=/\r\n?/g,l6=/\u0000|\uFFFD/g;function hT(i){return(typeof i=="string"?i:""+i).replace(o6,`
`).replace(l6,"")}function mT(i,l){return l=hT(l),hT(i)===l}function bm(){}function Zt(i,l,d,p,_,C){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||$c(i,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&$c(i,""+p);break;case"className":A0(i,"class",p);break;case"tabIndex":A0(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":A0(i,d,p);break;case"style":S2(i,p,C);break;case"data":if(l!=="object"){A0(i,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=D0(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(d==="formAction"?(l!=="input"&&Zt(i,l,"name",_.name,_,null),Zt(i,l,"formEncType",_.formEncType,_,null),Zt(i,l,"formMethod",_.formMethod,_,null),Zt(i,l,"formTarget",_.formTarget,_,null)):(Zt(i,l,"encType",_.encType,_,null),Zt(i,l,"method",_.method,_,null),Zt(i,l,"target",_.target,_,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=D0(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=bm);break;case"onScroll":p!=null&&It("scroll",i);break;case"onScrollEnd":p!=null&&It("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(_.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=D0(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":It("beforetoggle",i),It("toggle",i),Jn(i,"popover",p);break;case"xlinkActuate":vi(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":vi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":vi(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":vi(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":vi(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":vi(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":vi(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":vi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":vi(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Jn(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=jL.get(d)||d,Jn(i,d,p))}}function Ey(i,l,d,p,_,C){switch(d){case"style":S2(i,p,C);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(_.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"children":typeof p=="string"?$c(i,p):(typeof p=="number"||typeof p=="bigint")&&$c(i,""+p);break;case"onScroll":p!=null&&It("scroll",i);break;case"onScrollEnd":p!=null&&It("scrollend",i);break;case"onClick":p!=null&&(i.onclick=bm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nr.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(_=d.endsWith("Capture"),l=d.slice(2,_?d.length-7:void 0),C=i[X]||null,C=C!=null?C[d]:null,typeof C=="function"&&i.removeEventListener(l,C,_),typeof p=="function")){typeof C!="function"&&C!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(l,p,_);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):Jn(i,d,p)}}}function yn(i,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",i),It("load",i);var p=!1,_=!1,C;for(C in d)if(d.hasOwnProperty(C)){var O=d[C];if(O!=null)switch(C){case"src":p=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Zt(i,l,C,O,d,null)}}_&&Zt(i,l,"srcSet",d.srcSet,d,null),p&&Zt(i,l,"src",d.src,d,null);return;case"input":It("invalid",i);var U=C=O=_=null,ae=null,he=null;for(p in d)if(d.hasOwnProperty(p)){var ke=d[p];if(ke!=null)switch(p){case"name":_=ke;break;case"type":O=ke;break;case"checked":ae=ke;break;case"defaultChecked":he=ke;break;case"value":C=ke;break;case"defaultValue":U=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(n(137,l));break;default:Zt(i,l,p,ke,d,null)}}b2(i,C,U,ae,he,O,_,!1),k0(i);return;case"select":It("invalid",i),p=O=C=null;for(_ in d)if(d.hasOwnProperty(_)&&(U=d[_],U!=null))switch(_){case"value":C=U;break;case"defaultValue":O=U;break;case"multiple":p=U;default:Zt(i,l,_,U,d,null)}l=C,d=O,i.multiple=!!p,l!=null?Hc(i,!!p,l,!1):d!=null&&Hc(i,!!p,d,!0);return;case"textarea":It("invalid",i),C=_=p=null;for(O in d)if(d.hasOwnProperty(O)&&(U=d[O],U!=null))switch(O){case"value":p=U;break;case"defaultValue":_=U;break;case"children":C=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(n(91));break;default:Zt(i,l,O,U,d,null)}_2(i,p,_,C),k0(i);return;case"option":for(ae in d)if(d.hasOwnProperty(ae)&&(p=d[ae],p!=null))switch(ae){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Zt(i,l,ae,p,d,null)}return;case"dialog":It("cancel",i),It("close",i);break;case"iframe":case"object":It("load",i);break;case"video":case"audio":for(p=0;p<mf.length;p++)It(mf[p],i);break;case"image":It("error",i),It("load",i);break;case"details":It("toggle",i);break;case"embed":case"source":case"link":It("error",i),It("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in d)if(d.hasOwnProperty(he)&&(p=d[he],p!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Zt(i,l,he,p,d,null)}return;default:if(Bv(l)){for(ke in d)d.hasOwnProperty(ke)&&(p=d[ke],p!==void 0&&Ey(i,l,ke,p,d,void 0));return}}for(U in d)d.hasOwnProperty(U)&&(p=d[U],p!=null&&Zt(i,l,U,p,d,null))}function c6(i,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,C=null,O=null,U=null,ae=null,he=null,ke=null;for(Te in d){var Pe=d[Te];if(d.hasOwnProperty(Te)&&Pe!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":ae=Pe;default:p.hasOwnProperty(Te)||Zt(i,l,Te,null,p,Pe)}}for(var _e in p){var Te=p[_e];if(Pe=d[_e],p.hasOwnProperty(_e)&&(Te!=null||Pe!=null))switch(_e){case"type":C=Te;break;case"name":_=Te;break;case"checked":he=Te;break;case"defaultChecked":ke=Te;break;case"value":O=Te;break;case"defaultValue":U=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(n(137,l));break;default:Te!==Pe&&Zt(i,l,_e,Te,p,Pe)}}jv(i,O,U,ae,he,ke,C,_);return;case"select":Te=O=U=_e=null;for(C in d)if(ae=d[C],d.hasOwnProperty(C)&&ae!=null)switch(C){case"value":break;case"multiple":Te=ae;default:p.hasOwnProperty(C)||Zt(i,l,C,null,p,ae)}for(_ in p)if(C=p[_],ae=d[_],p.hasOwnProperty(_)&&(C!=null||ae!=null))switch(_){case"value":_e=C;break;case"defaultValue":U=C;break;case"multiple":O=C;default:C!==ae&&Zt(i,l,_,C,p,ae)}l=U,d=O,p=Te,_e!=null?Hc(i,!!d,_e,!1):!!p!=!!d&&(l!=null?Hc(i,!!d,l,!0):Hc(i,!!d,d?[]:"",!1));return;case"textarea":Te=_e=null;for(U in d)if(_=d[U],d.hasOwnProperty(U)&&_!=null&&!p.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:Zt(i,l,U,null,p,_)}for(O in p)if(_=p[O],C=d[O],p.hasOwnProperty(O)&&(_!=null||C!=null))switch(O){case"value":_e=_;break;case"defaultValue":Te=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(n(91));break;default:_!==C&&Zt(i,l,O,_,p,C)}w2(i,_e,Te);return;case"option":for(var Je in d)if(_e=d[Je],d.hasOwnProperty(Je)&&_e!=null&&!p.hasOwnProperty(Je))switch(Je){case"selected":i.selected=!1;break;default:Zt(i,l,Je,null,p,_e)}for(ae in p)if(_e=p[ae],Te=d[ae],p.hasOwnProperty(ae)&&_e!==Te&&(_e!=null||Te!=null))switch(ae){case"selected":i.selected=_e&&typeof _e!="function"&&typeof _e!="symbol";break;default:Zt(i,l,ae,_e,p,Te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in d)_e=d[vt],d.hasOwnProperty(vt)&&_e!=null&&!p.hasOwnProperty(vt)&&Zt(i,l,vt,null,p,_e);for(he in p)if(_e=p[he],Te=d[he],p.hasOwnProperty(he)&&_e!==Te&&(_e!=null||Te!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(n(137,l));break;default:Zt(i,l,he,_e,p,Te)}return;default:if(Bv(l)){for(var Tr in d)_e=d[Tr],d.hasOwnProperty(Tr)&&_e!==void 0&&!p.hasOwnProperty(Tr)&&Ey(i,l,Tr,void 0,p,_e);for(ke in p)_e=p[ke],Te=d[ke],!p.hasOwnProperty(ke)||_e===Te||_e===void 0&&Te===void 0||Ey(i,l,ke,_e,p,Te);return}}for(var pe in d)_e=d[pe],d.hasOwnProperty(pe)&&_e!=null&&!p.hasOwnProperty(pe)&&Zt(i,l,pe,null,p,_e);for(Pe in p)_e=p[Pe],Te=d[Pe],!p.hasOwnProperty(Pe)||_e===Te||_e==null&&Te==null||Zt(i,l,Pe,_e,p,Te)}var Sy=null,Cy=null;function wm(i){return i.nodeType===9?i:i.ownerDocument}function pT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gT(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function Ty(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ny=null;function u6(){var i=window.event;return i&&i.type==="popstate"?i===Ny?!1:(Ny=i,!0):(Ny=null,!1)}var vT=typeof setTimeout=="function"?setTimeout:void 0,d6=typeof clearTimeout=="function"?clearTimeout:void 0,xT=typeof Promise=="function"?Promise:void 0,f6=typeof queueMicrotask=="function"?queueMicrotask:typeof xT<"u"?function(i){return xT.resolve(null).then(i).catch(h6)}:vT;function h6(i){setTimeout(function(){throw i})}function Ay(i,l){var d=l,p=0;do{var _=d.nextSibling;if(i.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"){if(p===0){i.removeChild(_),Ef(l);return}p--}else d!=="$"&&d!=="$?"&&d!=="$!"||p++;d=_}while(d);Ef(l)}function ky(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":ky(d),we(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function m6(i,l,d,p){for(;i.nodeType===1;){var _=d;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[xe])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(C=i.getAttribute("rel"),C==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(C!==_.rel||i.getAttribute("href")!==(_.href==null?null:_.href)||i.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||i.getAttribute("title")!==(_.title==null?null:_.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(C=i.getAttribute("src"),(C!==(_.src==null?null:_.src)||i.getAttribute("type")!==(_.type==null?null:_.type)||i.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&C&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var C=_.name==null?null:""+_.name;if(_.type==="hidden"&&i.getAttribute("name")===C)return i}else return i;if(i=us(i.nextSibling),i===null)break}return null}function p6(i,l,d){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=us(i.nextSibling),i===null))return null;return i}function us(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return i}function yT(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return i;l--}else d==="/$"&&l++}i=i.previousSibling}return null}function bT(i,l,d){switch(l=wm(d),i){case"html":if(i=l.documentElement,!i)throw Error(n(452));return i;case"head":if(i=l.head,!i)throw Error(n(453));return i;case"body":if(i=l.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}var qa=new Map,wT=new Set;function _m(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Ii=K.d;K.d={f:g6,r:v6,D:x6,C:y6,L:b6,m:w6,X:E6,S:_6,M:S6};function g6(){var i=Ii.f(),l=mm();return i||l}function v6(i){var l=Ve(i);l!==null&&l.tag===5&&l.type==="form"?YS(l):Ii.r(i)}var gu=typeof document>"u"?null:document;function _T(i,l,d){var p=gu;if(p&&typeof l=="string"&&l){var _=Fa(l);_='link[rel="'+i+'"][href="'+_+'"]',typeof d=="string"&&(_+='[crossorigin="'+d+'"]'),wT.has(_)||(wT.add(_),i={rel:i,crossOrigin:d,href:l},p.querySelector(_)===null&&(l=p.createElement("link"),yn(l,"link",i),Be(l),p.head.appendChild(l)))}}function x6(i){Ii.D(i),_T("dns-prefetch",i,null)}function y6(i,l){Ii.C(i,l),_T("preconnect",i,l)}function b6(i,l,d){Ii.L(i,l,d);var p=gu;if(p&&i&&l){var _='link[rel="preload"][as="'+Fa(l)+'"]';l==="image"&&d&&d.imageSrcSet?(_+='[imagesrcset="'+Fa(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(_+='[imagesizes="'+Fa(d.imageSizes)+'"]')):_+='[href="'+Fa(i)+'"]';var C=_;switch(l){case"style":C=vu(i);break;case"script":C=xu(i)}qa.has(C)||(i=B({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:i,as:l},d),qa.set(C,i),p.querySelector(_)!==null||l==="style"&&p.querySelector(gf(C))||l==="script"&&p.querySelector(vf(C))||(l=p.createElement("link"),yn(l,"link",i),Be(l),p.head.appendChild(l)))}}function w6(i,l){Ii.m(i,l);var d=gu;if(d&&i){var p=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+Fa(p)+'"][href="'+Fa(i)+'"]',C=_;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=xu(i)}if(!qa.has(C)&&(i=B({rel:"modulepreload",href:i},l),qa.set(C,i),d.querySelector(_)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(vf(C)))return}p=d.createElement("link"),yn(p,"link",i),Be(p),d.head.appendChild(p)}}}function _6(i,l,d){Ii.S(i,l,d);var p=gu;if(p&&i){var _=Le(p).hoistableStyles,C=vu(i);l=l||"default";var O=_.get(C);if(!O){var U={loading:0,preload:null};if(O=p.querySelector(gf(C)))U.loading=5;else{i=B({rel:"stylesheet",href:i,"data-precedence":l},d),(d=qa.get(C))&&Ry(i,d);var ae=O=p.createElement("link");Be(ae),yn(ae,"link",i),ae._p=new Promise(function(he,ke){ae.onload=he,ae.onerror=ke}),ae.addEventListener("load",function(){U.loading|=1}),ae.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Em(O,l,p)}O={type:"stylesheet",instance:O,count:1,state:U},_.set(C,O)}}}function E6(i,l){Ii.X(i,l);var d=gu;if(d&&i){var p=Le(d).hoistableScripts,_=xu(i),C=p.get(_);C||(C=d.querySelector(vf(_)),C||(i=B({src:i,async:!0},l),(l=qa.get(_))&&Dy(i,l),C=d.createElement("script"),Be(C),yn(C,"link",i),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(_,C))}}function S6(i,l){Ii.M(i,l);var d=gu;if(d&&i){var p=Le(d).hoistableScripts,_=xu(i),C=p.get(_);C||(C=d.querySelector(vf(_)),C||(i=B({src:i,async:!0,type:"module"},l),(l=qa.get(_))&&Dy(i,l),C=d.createElement("script"),Be(C),yn(C,"link",i),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(_,C))}}function ET(i,l,d,p){var _=(_=He.current)?_m(_):null;if(!_)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=vu(d.href),d=Le(_).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=vu(d.href);var C=Le(_).hoistableStyles,O=C.get(i);if(O||(_=_.ownerDocument||_,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(i,O),(C=_.querySelector(gf(i)))&&!C._p&&(O.instance=C,O.state.loading=5),qa.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},qa.set(i,d),C||C6(_,i,d,O.state))),l&&p===null)throw Error(n(528,""));return O}if(l&&p!==null)throw Error(n(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=xu(d),d=Le(_).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function vu(i){return'href="'+Fa(i)+'"'}function gf(i){return'link[rel="stylesheet"]['+i+"]"}function ST(i){return B({},i,{"data-precedence":i.precedence,precedence:null})}function C6(i,l,d,p){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=i.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),yn(l,"link",d),Be(l),i.head.appendChild(l))}function xu(i){return'[src="'+Fa(i)+'"]'}function vf(i){return"script[async]"+i}function CT(i,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=i.querySelector('style[data-href~="'+Fa(d.href)+'"]');if(p)return l.instance=p,Be(p),p;var _=B({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),Be(p),yn(p,"style",_),Em(p,d.precedence,i),l.instance=p;case"stylesheet":_=vu(d.href);var C=i.querySelector(gf(_));if(C)return l.state.loading|=4,l.instance=C,Be(C),C;p=ST(d),(_=qa.get(_))&&Ry(p,_),C=(i.ownerDocument||i).createElement("link"),Be(C);var O=C;return O._p=new Promise(function(U,ae){O.onload=U,O.onerror=ae}),yn(C,"link",p),l.state.loading|=4,Em(C,d.precedence,i),l.instance=C;case"script":return C=xu(d.src),(_=i.querySelector(vf(C)))?(l.instance=_,Be(_),_):(p=d,(_=qa.get(C))&&(p=B({},d),Dy(p,_)),i=i.ownerDocument||i,_=i.createElement("script"),Be(_),yn(_,"link",p),i.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Em(p,d.precedence,i));return l.instance}function Em(i,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=p.length?p[p.length-1]:null,C=_,O=0;O<p.length;O++){var U=p[O];if(U.dataset.precedence===l)C=U;else if(C!==_)break}C?C.parentNode.insertBefore(i,C.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(i,l.firstChild))}function Ry(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function Dy(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var Sm=null;function TT(i,l,d){if(Sm===null){var p=new Map,_=Sm=new Map;_.set(d,p)}else _=Sm,p=_.get(d),p||(p=new Map,_.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),_=0;_<d.length;_++){var C=d[_];if(!(C[xe]||C[q]||i==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var O=C.getAttribute(l)||"";O=i+O;var U=p.get(O);U?U.push(C):p.set(O,[C])}}return p}function NT(i,l,d){i=i.ownerDocument||i,i.head.insertBefore(d,l==="title"?i.querySelector("head > title"):null)}function T6(i,l,d){if(d===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function AT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var xf=null;function N6(){}function A6(i,l,d){if(xf===null)throw Error(n(475));var p=xf;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var _=vu(d.href),C=i.querySelector(gf(_));if(C){i=C._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(p.count++,p=Cm.bind(p),i.then(p,p)),l.state.loading|=4,l.instance=C,Be(C);return}C=i.ownerDocument||i,d=ST(d),(_=qa.get(_))&&Ry(d,_),C=C.createElement("link"),Be(C);var O=C;O._p=new Promise(function(U,ae){O.onload=U,O.onerror=ae}),yn(C,"link",d),l.instance=C}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(p.count++,l=Cm.bind(p),i.addEventListener("load",l),i.addEventListener("error",l))}}function k6(){if(xf===null)throw Error(n(475));var i=xf;return i.stylesheets&&i.count===0&&Iy(i,i.stylesheets),0<i.count?function(l){var d=setTimeout(function(){if(i.stylesheets&&Iy(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(d)}}:null}function Cm(){if(this.count--,this.count===0){if(this.stylesheets)Iy(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Tm=null;function Iy(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Tm=new Map,l.forEach(R6,i),Tm=null,Cm.call(i))}function R6(i,l){if(!(l.state.loading&4)){var d=Tm.get(i);if(d)var p=d.get(null);else{d=new Map,Tm.set(i,d);for(var _=i.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<_.length;C++){var O=_[C];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(d.set(O.dataset.precedence,O),p=O)}p&&d.set(null,p)}_=l.instance,O=_.getAttribute("data-precedence"),C=d.get(O)||p,C===p&&d.set(null,_),d.set(O,_),this.count++,p=Cm.bind(this),_.addEventListener("load",p),_.addEventListener("error",p),C?C.parentNode.insertBefore(_,C.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(_,i.firstChild)),l.state.loading|=4}}var yf={$$typeof:x,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function D6(i,l,d,p,_,C,O,U){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=en(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=en(0),this.hiddenUpdates=en(null),this.identifierPrefix=p,this.onUncaughtError=_,this.onCaughtError=C,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function kT(i,l,d,p,_,C,O,U,ae,he,ke,Pe){return i=new D6(i,l,d,O,U,ae,he,Pe),l=1,C===!0&&(l|=24),C=za(3,null,null,l),i.current=C,C.stateNode=i,l=ux(),l.refCount++,i.pooledCache=l,l.refCount++,C.memoizedState={element:p,isDehydrated:d,cache:l},zx(C),i}function RT(i){return i?(i=Kc,i):Kc}function DT(i,l,d,p,_,C){_=RT(_),p.context===null?p.context=_:p.pendingContext=_,p=vo(l),p.payload={element:d},C=C===void 0?null:C,C!==null&&(p.callback=C),d=xo(i,p,l),d!==null&&(Bn(d,i,l),tf(d,i,l))}function IT(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<l?d:l}}function Oy(i,l){IT(i,l),(i=i.alternate)&&IT(i,l)}function OT(i){if(i.tag===13){var l=co(i,67108864);l!==null&&Bn(l,i,67108864),Oy(i,67108864)}}var Nm=!0;function I6(i,l,d,p){var _=I.T;I.T=null;var C=K.p;try{K.p=2,Py(i,l,d,p)}finally{K.p=C,I.T=_}}function O6(i,l,d,p){var _=I.T;I.T=null;var C=K.p;try{K.p=8,Py(i,l,d,p)}finally{K.p=C,I.T=_}}function Py(i,l,d,p){if(Nm){var _=My(p);if(_===null)_y(i,l,p,Am,d),MT(i,p);else if(M6(_,i,l,d,p))p.stopPropagation();else if(MT(i,p),l&4&&-1<P6.indexOf(i)){for(;_!==null;){var C=Ve(_);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var O=st(C.pendingLanes);if(O!==0){var U=C;for(U.pendingLanes|=2,U.entangledLanes|=2;O;){var ae=1<<31-pn(O);U.entanglements[1]|=ae,O&=~ae}js(C),(xr&6)===0&&(dm=je()+500,hf(0))}}break;case 13:U=co(C,2),U!==null&&Bn(U,C,2),mm(),Oy(C,2)}if(C=My(p),C===null&&_y(i,l,p,Am,d),C===_)break;_=C}_!==null&&p.stopPropagation()}else _y(i,l,p,null,d)}}function My(i){return i=Vv(i),Fy(i)}var Am=null;function Fy(i){if(Am=null,i=Fe(i),i!==null){var l=le(i);if(l===null)i=null;else{var d=l.tag;if(d===13){if(i=W(l),i!==null)return i;i=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return Am=i,null}function PT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case bt:return 2;case At:return 8;case Dt:case Jr:return 32;case ot:return 268435456;default:return 32}default:return 32}}var jy=!1,Co=null,To=null,No=null,bf=new Map,wf=new Map,Ao=[],P6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function MT(i,l){switch(i){case"focusin":case"focusout":Co=null;break;case"dragenter":case"dragleave":To=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":bf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":wf.delete(l.pointerId)}}function _f(i,l,d,p,_,C){return i===null||i.nativeEvent!==C?(i={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:C,targetContainers:[_]},l!==null&&(l=Ve(l),l!==null&&OT(l)),i):(i.eventSystemFlags|=p,l=i.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),i)}function M6(i,l,d,p,_){switch(l){case"focusin":return Co=_f(Co,i,l,d,p,_),!0;case"dragenter":return To=_f(To,i,l,d,p,_),!0;case"mouseover":return No=_f(No,i,l,d,p,_),!0;case"pointerover":var C=_.pointerId;return bf.set(C,_f(bf.get(C)||null,i,l,d,p,_)),!0;case"gotpointercapture":return C=_.pointerId,wf.set(C,_f(wf.get(C)||null,i,l,d,p,_)),!0}return!1}function FT(i){var l=Fe(i.target);if(l!==null){var d=le(l);if(d!==null){if(l=d.tag,l===13){if(l=W(d),l!==null){i.blockedOn=l,F(i.priority,function(){if(d.tag===13){var p=xa(),_=co(d,p);_!==null&&Bn(_,d,p),Oy(d,p)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function km(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var d=My(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);Uv=p,d.target.dispatchEvent(p),Uv=null}else return l=Ve(d),l!==null&&OT(l),i.blockedOn=d,!1;l.shift()}return!0}function jT(i,l,d){km(i)&&d.delete(l)}function F6(){jy=!1,Co!==null&&km(Co)&&(Co=null),To!==null&&km(To)&&(To=null),No!==null&&km(No)&&(No=null),bf.forEach(jT),wf.forEach(jT)}function Rm(i,l){i.blockedOn===l&&(i.blockedOn=null,jy||(jy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,F6)))}var Dm=null;function LT(i){Dm!==i&&(Dm=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Dm===i&&(Dm=null);for(var l=0;l<i.length;l+=3){var d=i[l],p=i[l+1],_=i[l+2];if(typeof p!="function"){if(Fy(p||d)===null)continue;break}var C=Ve(d);C!==null&&(i.splice(l,3),l-=3,Tx(C,{pending:!0,data:_,method:d.method,action:p},p,_))}}))}function Ef(i){function l(ae){return Rm(ae,i)}Co!==null&&Rm(Co,i),To!==null&&Rm(To,i),No!==null&&Rm(No,i),bf.forEach(l),wf.forEach(l);for(var d=0;d<Ao.length;d++){var p=Ao[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<Ao.length&&(d=Ao[0],d.blockedOn===null);)FT(d),d.blockedOn===null&&Ao.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var _=d[p],C=d[p+1],O=_[X]||null;if(typeof C=="function")O||LT(d);else if(O){var U=null;if(C&&C.hasAttribute("formAction")){if(_=C,O=C[X]||null)U=O.formAction;else if(Fy(_)!==null)continue}else U=O.action;typeof U=="function"?d[p+1]=U:(d.splice(p,3),p-=3),LT(d)}}}function Ly(i){this._internalRoot=i}Im.prototype.render=Ly.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));var d=l.current,p=xa();DT(d,p,i,l,null,null)},Im.prototype.unmount=Ly.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;i.tag===0&&hu(),DT(i.current,2,null,i,null,null),mm(),l[J]=null}};function Im(i){this._internalRoot=i}Im.prototype.unstable_scheduleHydration=function(i){if(i){var l=Rd();i={blockedOn:null,target:i,priority:l};for(var d=0;d<Ao.length&&l!==0&&l<Ao[d].priority;d++);Ao.splice(d,0,i),d===0&&FT(i)}};var BT=t.version;if(BT!=="19.0.0")throw Error(n(527,BT,"19.0.0"));K.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=ce(l),i=i!==null?j(i):null,i=i===null?null:i.stateNode,i};var j6={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:Fe,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Om=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Om.isDisabled&&Om.supportsFiber)try{Gt=Om.inject(j6),ur=Om}catch{}}return Cf.createRoot=function(i,l){if(!a(i))throw Error(n(299));var d=!1,p="",_=rC,C=nC,O=aC,U=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks)),l=kT(i,1,!1,null,null,d,p,_,C,O,U,null),i[J]=l.current,wy(i.nodeType===8?i.parentNode:i),new Ly(l)},Cf.hydrateRoot=function(i,l,d){if(!a(i))throw Error(n(299));var p=!1,_="",C=rC,O=nC,U=aC,ae=null,he=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onUncaughtError!==void 0&&(C=d.onUncaughtError),d.onCaughtError!==void 0&&(O=d.onCaughtError),d.onRecoverableError!==void 0&&(U=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ae=d.unstable_transitionCallbacks),d.formState!==void 0&&(he=d.formState)),l=kT(i,1,!0,l,d??null,p,_,C,O,U,ae,he),l.context=RT(null),d=l.current,p=xa(),_=vo(p),_.callback=null,xo(d,_,p),l.current.lanes=p,Oa(l,p),js(l),i[J]=l.current,wy(i),new Im(l)},Cf.version="19.0.0",Cf}var XT;function X6(){if(XT)return Vy.exports;XT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vy.exports=Y6(),Vy.exports}var Og=X6();const K6=gw(Og);var Tf={},KT;function Q6(){if(KT)return Tf;KT=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.parse=o,Tf.serialize=f;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function o(v,x){const y=new s,w=v.length;if(w<2)return y;const b=(x==null?void 0:x.decode)||m;let S=0;do{const T=v.indexOf("=",S);if(T===-1)break;const E=v.indexOf(";",S),A=E===-1?w:E;if(T>A){S=v.lastIndexOf(";",T-1)+1;continue}const k=c(v,S,T),D=u(v,T,k),R=v.slice(k,D);if(y[R]===void 0){let P=c(v,T+1,A),I=u(v,A,P);const B=b(v.slice(P,I));y[R]=B}S=A+1}while(S<w);return y}function c(v,x,y){do{const w=v.charCodeAt(x);if(w!==32&&w!==9)return x}while(++x<y);return y}function u(v,x,y){for(;x>y;){const w=v.charCodeAt(--x);if(w!==32&&w!==9)return x+1}return y}function f(v,x,y){const w=(y==null?void 0:y.encode)||encodeURIComponent;if(!e.test(v))throw new TypeError(`argument name is invalid: ${v}`);const b=w(x);if(!t.test(b))throw new TypeError(`argument val is invalid: ${x}`);let S=v+"="+b;if(!y)return S;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);S+="; Max-Age="+y.maxAge}if(y.domain){if(!r.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);S+="; Domain="+y.domain}if(y.path){if(!n.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);S+="; Path="+y.path}if(y.expires){if(!g(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);S+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(S+="; HttpOnly"),y.secure&&(S+="; Secure"),y.partitioned&&(S+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return S}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function g(v){return a.call(v)==="[object Date]"}return Tf}Q6();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var QT="popstate";function Z6(e={}){function t(n,a){let{pathname:s,search:o,hash:c}=n.location;return G1("",{pathname:s,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:vh(a)}return e8(t,r,null,e)}function mr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ja(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function J6(){return Math.random().toString(36).substring(2,10)}function ZT(e,t){return{usr:e.state,key:e.key,idx:t}}function G1(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?id(t):t,state:r,key:t&&t.key||n||J6()}}function vh({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function id(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function e8(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,c="POP",u=null,f=m();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function m(){return(o.state||{idx:null}).idx}function g(){c="POP";let b=m(),S=b==null?null:b-f;f=b,u&&u({action:c,location:w.location,delta:S})}function v(b,S){c="PUSH";let T=G1(w.location,b,S);f=m()+1;let E=ZT(T,f),A=w.createHref(T);try{o.pushState(E,"",A)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(A)}s&&u&&u({action:c,location:w.location,delta:1})}function x(b,S){c="REPLACE";let T=G1(w.location,b,S);f=m();let E=ZT(T,f),A=w.createHref(T);o.replaceState(E,"",A),s&&u&&u({action:c,location:w.location,delta:0})}function y(b){let S=a.location.origin!=="null"?a.location.origin:a.location.href,T=typeof b=="string"?b:vh(b);return T=T.replace(/ $/,"%20"),mr(S,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,S)}let w={get action(){return c},get location(){return e(a,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(QT,g),u=b,()=>{a.removeEventListener(QT,g),u=null}},createHref(b){return t(a,b)},createURL:y,encodeLocation(b){let S=y(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:x,go(b){return o.go(b)}};return w}function wD(e,t,r="/"){return t8(e,t,r,!1)}function t8(e,t,r,n){let a=typeof t=="string"?id(t):t,s=rl(a.pathname||"/",r);if(s==null)return null;let o=_D(e);r8(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let f=h8(s);c=d8(o[u],f,n)}return c}function _D(e,t=[],r=[],n=""){let a=(s,o,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(mr(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length));let f=Ui([n,u.relativePath]),m=r.concat(u);s.children&&s.children.length>0&&(mr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),_D(s.children,t,m,f)),!(s.path==null&&!s.index)&&t.push({path:f,score:c8(f,s.index),routesMeta:m})};return e.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,o);else for(let u of ED(s.path))a(s,o,u)}),t}function ED(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=ED(n.join("/")),c=[];return c.push(...o.map(u=>u===""?s:[s,u].join("/"))),a&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function r8(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:u8(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var n8=/^:[\w-]+$/,a8=3,s8=2,i8=1,o8=10,l8=-2,JT=e=>e==="*";function c8(e,t){let r=e.split("/"),n=r.length;return r.some(JT)&&(n+=l8),t&&(n+=s8),r.filter(a=>!JT(a)).reduce((a,s)=>a+(n8.test(s)?a8:s===""?i8:o8),n)}function u8(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function d8(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",o=[];for(let c=0;c<n.length;++c){let u=n[c],f=c===n.length-1,m=s==="/"?t:t.slice(s.length)||"/",g=Cp({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},m),v=u.route;if(!g&&f&&r&&!n[n.length-1].route.index&&(g=Cp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!g)return null;Object.assign(a,g.params),o.push({params:a,pathname:Ui([s,g.pathname]),pathnameBase:v8(Ui([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=Ui([s,g.pathnameBase]))}return o}function Cp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=f8(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((f,{paramName:m,isOptional:g},v)=>{if(m==="*"){let y=c[v]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const x=c[v];return g&&!x?f[m]=void 0:f[m]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:e}}function f8(e,t=!1,r=!0){Ja(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function h8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ja(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function rl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function m8(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?id(e):e;return{pathname:r?r.startsWith("/")?r:p8(r,t):t,search:x8(n),hash:y8(a)}}function p8(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Wy(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function g8(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function xw(e){let t=g8(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function yw(e,t,r,n=!1){let a;typeof e=="string"?a=id(e):(a={...e},mr(!a.pathname||!a.pathname.includes("?"),Wy("?","pathname","search",a)),mr(!a.pathname||!a.pathname.includes("#"),Wy("#","pathname","hash",a)),mr(!a.search||!a.search.includes("#"),Wy("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,c;if(o==null)c=r;else{let g=t.length-1;if(!n&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),g-=1;a.pathname=v.join("/")}c=g>=0?t[g]:"/"}let u=m8(a,c),f=o&&o!=="/"&&o.endsWith("/"),m=(s||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||m)&&(u.pathname+="/"),u}var Ui=e=>e.join("/").replace(/\/\/+/g,"/"),v8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),x8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,y8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function b8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var SD=["POST","PUT","PATCH","DELETE"];new Set(SD);var w8=["GET",...SD];new Set(w8);var od=N.createContext(null);od.displayName="DataRouter";var Pg=N.createContext(null);Pg.displayName="DataRouterState";var CD=N.createContext({isTransitioning:!1});CD.displayName="ViewTransition";var _8=N.createContext(new Map);_8.displayName="Fetchers";var E8=N.createContext(null);E8.displayName="Await";var ks=N.createContext(null);ks.displayName="Navigation";var Yh=N.createContext(null);Yh.displayName="Location";var rs=N.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var bw=N.createContext(null);bw.displayName="RouteError";function S8(e,{relative:t}={}){mr(ld(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=N.useContext(ks),{hash:a,pathname:s,search:o}=Xh(e,{relative:t}),c=s;return r!=="/"&&(c=s==="/"?r:Ui([r,s])),n.createHref({pathname:c,search:o,hash:a})}function ld(){return N.useContext(Yh)!=null}function ns(){return mr(ld(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Yh).location}var TD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ND(e){N.useContext(ks).static||N.useLayoutEffect(e)}function cr(){let{isDataRoute:e}=N.useContext(rs);return e?B8():C8()}function C8(){mr(ld(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(od),{basename:t,navigator:r}=N.useContext(ks),{matches:n}=N.useContext(rs),{pathname:a}=ns(),s=JSON.stringify(xw(n)),o=N.useRef(!1);return ND(()=>{o.current=!0}),N.useCallback((u,f={})=>{if(Ja(o.current,TD),!o.current)return;if(typeof u=="number"){r.go(u);return}let m=yw(u,JSON.parse(s),a,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ui([t,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[t,r,s,a,e])}var T8=N.createContext(null);function N8(e){let t=N.useContext(rs).outlet;return t&&N.createElement(T8.Provider,{value:e},t)}function Pt(){let{matches:e}=N.useContext(rs),t=e[e.length-1];return t?t.params:{}}function Xh(e,{relative:t}={}){let{matches:r}=N.useContext(rs),{pathname:n}=ns(),a=JSON.stringify(xw(r));return N.useMemo(()=>yw(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function A8(e,t){return AD(e,t)}function AD(e,t,r,n){var T;mr(ld(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:s}=N.useContext(ks),{matches:o}=N.useContext(rs),c=o[o.length-1],u=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;{let E=g&&g.path||"";kD(f,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let v=ns(),x;if(t){let E=typeof t=="string"?id(t):t;mr(m==="/"||((T=E.pathname)==null?void 0:T.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${E.pathname}" was given in the \`location\` prop.`),x=E}else x=v;let y=x.pathname||"/",w=y;if(m!=="/"){let E=m.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let b=!s&&r&&r.matches&&r.matches.length>0?r.matches:wD(e,{pathname:w});Ja(g||b!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ja(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=O8(b&&b.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Ui([m,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?m:Ui([m,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,r,n);return t&&S?N.createElement(Yh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},S):S}function k8(){let e=L8(),t=b8(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:a},r):null,o)}var R8=N.createElement(k8,null),D8=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(rs.Provider,{value:this.props.routeContext},N.createElement(bw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function I8({routeContext:e,match:t,children:r}){let n=N.useContext(od);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(rs.Provider,{value:e},r)}function O8(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,s=r==null?void 0:r.errors;if(s!=null){let u=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);mr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let o=!1,c=-1;if(r)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:m,errors:g}=r,v=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,f,m)=>{let g,v=!1,x=null,y=null;r&&(g=s&&f.route.id?s[f.route.id]:void 0,x=f.route.errorElement||R8,o&&(c<0&&m===0?(kD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,y=null):c===m&&(v=!0,y=f.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,m+1)),b=()=>{let S;return g?S=x:v?S=y:f.route.Component?S=N.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=u,N.createElement(I8,{match:f,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:S})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?N.createElement(D8,{location:r.location,revalidation:r.revalidation,component:x,error:g,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}function ww(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P8(e){let t=N.useContext(od);return mr(t,ww(e)),t}function M8(e){let t=N.useContext(Pg);return mr(t,ww(e)),t}function F8(e){let t=N.useContext(rs);return mr(t,ww(e)),t}function _w(e){let t=F8(e),r=t.matches[t.matches.length-1];return mr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function j8(){return _w("useRouteId")}function L8(){var n;let e=N.useContext(bw),t=M8("useRouteError"),r=_w("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function B8(){let{router:e}=P8("useNavigate"),t=_w("useNavigate"),r=N.useRef(!1);return ND(()=>{r.current=!0}),N.useCallback(async(a,s={})=>{Ja(r.current,TD),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var eN={};function kD(e,t,r){!t&&!eN[e]&&(eN[e]=!0,Ja(!1,r))}N.memo(U8);function U8({routes:e,future:t,state:r}){return AD(e,void 0,r,t)}function Ew({to:e,replace:t,state:r,relative:n}){mr(ld(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(ks);Ja(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=N.useContext(rs),{pathname:o}=ns(),c=cr(),u=yw(e,xw(s),o,n==="path"),f=JSON.stringify(u);return N.useEffect(()=>{c(JSON.parse(f),{replace:t,state:r,relative:n})},[c,f,n,t,r]),null}function Sw(e){return N8(e.context)}function We(e){mr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function V8({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1}){mr(!ld(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:o,navigator:a,static:s,future:{}}),[o,a,s]);typeof r=="string"&&(r=id(r));let{pathname:u="/",search:f="",hash:m="",state:g=null,key:v="default"}=r,x=N.useMemo(()=>{let y=rl(u,o);return y==null?null:{location:{pathname:y,search:f,hash:m,state:g,key:v},navigationType:n}},[o,u,f,m,g,v,n]);return Ja(x!=null,`<Router basename="${o}"> is not able to match the URL "${u}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:N.createElement(ks.Provider,{value:c},N.createElement(Yh.Provider,{children:t,value:x}))}function RD({children:e,location:t}){return A8(Y1(e),t)}function Y1(e,t=[]){let r=[];return N.Children.forEach(e,(n,a)=>{if(!N.isValidElement(n))return;let s=[...t,a];if(n.type===N.Fragment){r.push.apply(r,Y1(n.props.children,s));return}mr(n.type===We,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Y1(n.props.children,s)),r.push(o)}),r}var lp="get",cp="application/x-www-form-urlencoded";function Mg(e){return e!=null&&typeof e.tagName=="string"}function H8(e){return Mg(e)&&e.tagName.toLowerCase()==="button"}function $8(e){return Mg(e)&&e.tagName.toLowerCase()==="form"}function z8(e){return Mg(e)&&e.tagName.toLowerCase()==="input"}function W8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function q8(e,t){return e.button===0&&(!t||t==="_self")&&!W8(e)}function X1(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function G8(e,t){let r=X1(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}var Pm=null;function Y8(){if(Pm===null)try{new FormData(document.createElement("form"),0),Pm=!1}catch{Pm=!0}return Pm}var X8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qy(e){return e!=null&&!X8.has(e)?(Ja(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cp}"`),null):e}function K8(e,t){let r,n,a,s,o;if($8(e)){let c=e.getAttribute("action");n=c?rl(c,t):null,r=e.getAttribute("method")||lp,a=qy(e.getAttribute("enctype"))||cp,s=new FormData(e)}else if(H8(e)||z8(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||c.getAttribute("action");if(n=u?rl(u,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||lp,a=qy(e.getAttribute("formenctype"))||qy(c.getAttribute("enctype"))||cp,s=new FormData(c,e),!Y8()){let{name:f,type:m,value:g}=e;if(m==="image"){let v=f?`${f}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else f&&s.append(f,g)}}else{if(Mg(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=lp,n=null,a=cp,o=e}return s&&a==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:o}}function Cw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Q8(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Z8(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function J8(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let o=await Q8(s,r);return o.links?o.links():[]}return[]}));return nB(n.flat(1).filter(Z8).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function tN(e,t,r,n,a,s){let o=(u,f)=>r[f]?u.route.id!==r[f].route.id:!0,c=(u,f)=>{var m;return r[f].pathname!==u.pathname||((m=r[f].route.path)==null?void 0:m.endsWith("*"))&&r[f].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,f)=>o(u,f)||c(u,f)):s==="data"?t.filter((u,f)=>{var g;let m=n.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(o(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=r[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function eB(e,t,{includeHydrateFallback:r}={}){return tB(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function tB(e){return[...new Set(e)]}function rB(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function nB(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(rB(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function aB(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function sB(){let e=N.useContext(od);return Cw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function iB(){let e=N.useContext(Pg);return Cw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Tw=N.createContext(void 0);Tw.displayName="FrameworkContext";function DD(){let e=N.useContext(Tw);return Cw(e,"You must render this element inside a <HydratedRouter> element"),e}function oB(e,t){let r=N.useContext(Tw),[n,a]=N.useState(!1),[s,o]=N.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=t,v=N.useRef(null);N.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=S=>{S.forEach(T=>{o(T.isIntersecting)})},b=new IntersectionObserver(w,{threshold:.5});return v.current&&b.observe(v.current),()=>{b.disconnect()}}},[e]),N.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let x=()=>{a(!0)},y=()=>{a(!1),o(!1)};return r?e!=="intent"?[s,v,{}]:[s,v,{onFocus:Nf(c,x),onBlur:Nf(u,y),onMouseEnter:Nf(f,x),onMouseLeave:Nf(m,y),onTouchStart:Nf(g,x)}]:[!1,v,{}]}function Nf(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function lB({page:e,...t}){let{router:r}=sB(),n=N.useMemo(()=>wD(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?N.createElement(uB,{page:e,matches:n,...t}):null}function cB(e){let{manifest:t,routeModules:r}=DD(),[n,a]=N.useState([]);return N.useEffect(()=>{let s=!1;return J8(e,t,r).then(o=>{s||a(o)}),()=>{s=!0}},[e,t,r]),n}function uB({page:e,matches:t,...r}){let n=ns(),{manifest:a,routeModules:s}=DD(),{loaderData:o,matches:c}=iB(),u=N.useMemo(()=>tN(e,t,c,a,n,"data"),[e,t,c,a,n]),f=N.useMemo(()=>tN(e,t,c,a,n,"assets"),[e,t,c,a,n]),m=N.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let x=new Set,y=!1;if(t.forEach(b=>{var T;let S=a.routes[b.route.id];!S||!S.hasLoader||(!u.some(E=>E.route.id===b.route.id)&&b.route.id in o&&((T=s[b.route.id])!=null&&T.shouldRevalidate)||S.hasClientLoader?y=!0:x.add(b.route.id))}),x.size===0)return[];let w=aB(e);return y&&x.size>0&&w.searchParams.set("_routes",t.filter(b=>x.has(b.route.id)).map(b=>b.route.id).join(",")),[w.pathname+w.search]},[o,n,a,u,t,e,s]),g=N.useMemo(()=>eB(f,a),[f,a]),v=cB(f);return N.createElement(N.Fragment,null,m.map(x=>N.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),g.map(x=>N.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),v.map(({key:x,link:y})=>N.createElement("link",{key:x,...y})))}function dB(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var ID=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ID&&(window.__reactRouterVersion="7.2.0")}catch{}function fB({basename:e,children:t,window:r}){let n=N.useRef();n.current==null&&(n.current=Z6({window:r,v5Compat:!0}));let a=n.current,[s,o]=N.useState({action:a.action,location:a.location}),c=N.useCallback(u=>{N.startTransition(()=>o(u))},[o]);return N.useLayoutEffect(()=>a.listen(c),[a,c]),N.createElement(V8,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a})}var OD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vi=N.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:o,state:c,target:u,to:f,preventScrollReset:m,viewTransition:g,...v},x){let{basename:y}=N.useContext(ks),w=typeof f=="string"&&OD.test(f),b,S=!1;if(typeof f=="string"&&w&&(b=f,ID))try{let I=new URL(window.location.href),B=f.startsWith("//")?new URL(I.protocol+f):new URL(f),H=rl(B.pathname,y);B.origin===I.origin&&H!=null?f=H+B.search+B.hash:S=!0}catch{Ja(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=S8(f,{relative:a}),[E,A,k]=oB(n,v),D=gB(f,{replace:o,state:c,target:u,preventScrollReset:m,relative:a,viewTransition:g});function R(I){t&&t(I),I.defaultPrevented||D(I)}let P=N.createElement("a",{...v,...k,href:b||T,onClick:S||s?t:R,ref:dB(x,A),target:u,"data-discover":!w&&r==="render"?"true":void 0});return E&&!w?N.createElement(N.Fragment,null,P,N.createElement(lB,{page:T})):P});Vi.displayName="Link";var hB=N.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:o,viewTransition:c,children:u,...f},m){let g=Xh(o,{relative:f.relative}),v=ns(),x=N.useContext(Pg),{navigator:y,basename:w}=N.useContext(ks),b=x!=null&&wB(g)&&c===!0,S=y.encodeLocation?y.encodeLocation(g).pathname:g.pathname,T=v.pathname,E=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(T=T.toLowerCase(),E=E?E.toLowerCase():null,S=S.toLowerCase()),E&&w&&(E=rl(E,w)||E);const A=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let k=T===S||!a&&T.startsWith(S)&&T.charAt(A)==="/",D=E!=null&&(E===S||!a&&E.startsWith(S)&&E.charAt(S.length)==="/"),R={isActive:k,isPending:D,isTransitioning:b},P=k?t:void 0,I;typeof n=="function"?I=n(R):I=[n,k?"active":null,D?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let B=typeof s=="function"?s(R):s;return N.createElement(Vi,{...f,"aria-current":P,className:I,ref:m,style:B,to:o,viewTransition:c},typeof u=="function"?u(R):u)});hB.displayName="NavLink";var mB=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:o=lp,action:c,onSubmit:u,relative:f,preventScrollReset:m,viewTransition:g,...v},x)=>{let y=yB(),w=bB(c,{relative:f}),b=o.toLowerCase()==="get"?"get":"post",S=typeof c=="string"&&OD.test(c),T=E=>{if(u&&u(E),E.defaultPrevented)return;E.preventDefault();let A=E.nativeEvent.submitter,k=(A==null?void 0:A.getAttribute("formmethod"))||o;y(A||E.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:a,state:s,relative:f,preventScrollReset:m,viewTransition:g})};return N.createElement("form",{ref:x,method:b,action:w,onSubmit:n?u:T,...v,"data-discover":!S&&e==="render"?"true":void 0})});mB.displayName="Form";function pB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PD(e){let t=N.useContext(od);return mr(t,pB(e)),t}function gB(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:o}={}){let c=cr(),u=ns(),f=Xh(e,{relative:s});return N.useCallback(m=>{if(q8(m,t)){m.preventDefault();let g=r!==void 0?r:vh(u)===vh(f);c(e,{replace:g,state:n,preventScrollReset:a,relative:s,viewTransition:o})}},[u,c,f,r,n,t,e,a,s,o])}function Fg(e){Ja(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=N.useRef(X1(e)),r=N.useRef(!1),n=ns(),a=N.useMemo(()=>G8(n.search,r.current?null:t.current),[n.search]),s=cr(),o=N.useCallback((c,u)=>{const f=X1(typeof c=="function"?c(a):c);r.current=!0,s("?"+f,u)},[s,a]);return[a,o]}var vB=0,xB=()=>`__${String(++vB)}__`;function yB(){let{router:e}=PD("useSubmit"),{basename:t}=N.useContext(ks),r=j8();return N.useCallback(async(n,a={})=>{let{action:s,method:o,encType:c,formData:u,body:f}=K8(n,t);if(a.navigate===!1){let m=a.fetcherKey||xB();await e.fetch(m,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||o,formEncType:a.encType||c,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||o,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function bB(e,{relative:t}={}){let{basename:r}=N.useContext(ks),n=N.useContext(rs);mr(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Xh(e||".",{relative:t})},o=ns();if(e==null){s.search=o.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(m=>m==="")){c.delete("index"),u.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();s.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Ui([r,s.pathname])),vh(s)}function wB(e,t={}){let r=N.useContext(CD);mr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=PD("useViewTransitionState"),a=Xh(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=rl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=rl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Cp(a.pathname,o)!=null||Cp(a.pathname,s)!=null}new TextEncoder;var Kh=bD();const MD=gw(Kh);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...c},u)=>N.createElement("svg",{ref:u,...EB,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:FD("lucide",a),...c},[...o.map(([f,m])=>N.createElement(f,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(e,t)=>{const r=N.forwardRef(({className:n,...a},s)=>N.createElement(SB,{ref:s,iconNode:t,className:FD(`lucide-${_B(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],TB=it("Apple",CB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jg=it("ArrowLeft",NB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],kB=it("ArrowRight",AB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],DB=it("Boxes",RB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],OB=it("Building2",IB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Lg=it("Calculator",PB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],FB=it("Calendar",MB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Nw=it("Check",jB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],BB=it("ChefHat",LB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Aw=it("ChevronDown",UB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],HB=it("ChevronRight",VB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],kw=it("ChevronUp",$B);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Mo=it("CircleAlert",zB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],jD=it("CirclePlus",WB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],K1=it("CircleUser",qB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],YB=it("Circle",GB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ya=it("ClipboardList",XB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],LD=it("Copy",KB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ZB=it("DollarSign",QB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],rN=it("Download",JB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BD=it("Eye",eU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],Lf=it("Factory",tU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Bf=it("FileSpreadsheet",rU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],aU=it("HardHat",nU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],iU=it("Info",sU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],lU=it("LayoutGrid",oU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],UD=it("LoaderCircle",cU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],dU=it("Lock",uU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],hU=it("LogIn",fU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Gy=it("LogOut",mU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],gU=it("Menu",pU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],xU=it("MessageCircle",vU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Q1=it("Moon",yU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]],VD=it("Package2",bU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Z1=it("Package",wU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Qh=it("Pencil",_U);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qs=it("Plus",EU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],HD=it("Printer",SU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],TU=it("RefreshCcw",CU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],AU=it("Ruler",NU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],RU=it("ScrollText",kU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],IU=it("Search",DU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nN=it("Settings",OU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Yy=it("ShoppingBag",PU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],xh=it("ShoppingCart",MU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],Tp=it("Store",FU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],J1=it("Sun",jU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Zh=it("Trash2",LU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],UU=it("Truck",BU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],aN=it("Upload",VU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$U=it("User",HU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],eb=it("Users",zU);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$D=it("X",WU),ze=N.forwardRef(({children:e,variant:t="primary",size:r="md",isLoading:n=!1,className:a="",disabled:s,...o},c)=>{const u="inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",f={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-primary-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"hover:bg-accent hover:text-accent-foreground"},m={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",icon:"p-2"};return h.jsxs("button",{ref:c,className:`
          ${u}
          ${f[t]}
          ${m[r]}
          ${a}
        `,disabled:n||s,...o,children:[n?h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,e]})});function zD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=zD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function WD(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=zD(e))&&(n&&(n+=" "),n+=t);return n}const Rw="-",qU=e=>{const t=YU(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const c=o.split(Rw);return c[0]===""&&c.length!==1&&c.shift(),qD(c,t)||GU(o)},getConflictingClassGroupIds:(o,c)=>{const u=r[o]||[];return c&&n[o]?[...u,...n[o]]:u}}},qD=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?qD(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(Rw);return(o=t.validators.find(({validator:c})=>c(s)))==null?void 0:o.classGroupId},sN=/^\[(.+)\]$/,GU=e=>{if(sN.test(e)){const t=sN.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},YU=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)tb(r[a],n,a,t);return n},tb=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:iN(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(XU(a)){tb(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{tb(o,iN(t,s),r,n)})})},iN=(e,t)=>{let r=e;return t.split(Rw).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},XU=e=>e.isThemeGetter,KU=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},rb="!",nb=":",QU=nb.length,ZU=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const s=[];let o=0,c=0,u=0,f;for(let y=0;y<a.length;y++){let w=a[y];if(o===0&&c===0){if(w===nb){s.push(a.slice(u,y)),u=y+QU;continue}if(w==="/"){f=y;continue}}w==="["?o++:w==="]"?o--:w==="("?c++:w===")"&&c--}const m=s.length===0?a:a.substring(u),g=JU(m),v=g!==m,x=f&&f>u?f-u:void 0;return{modifiers:s,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:x}};if(t){const a=t+nb,s=n;n=o=>o.startsWith(a)?s(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=s=>r({className:s,parseClassName:a})}return n},JU=e=>e.endsWith(rb)?e.substring(0,e.length-1):e.startsWith(rb)?e.substring(1):e,e7=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let s=[];return n.forEach(o=>{o[0]==="["||t[o]?(a.push(...s.sort(),o),s=[]):s.push(o)}),a.push(...s.sort()),a}},t7=e=>({cache:KU(e.cacheSize),parseClassName:ZU(e),sortModifiers:e7(e),...qU(e)}),r7=/\s+/,n7=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:s}=t,o=[],c=e.trim().split(r7);let u="";for(let f=c.length-1;f>=0;f-=1){const m=c[f],{isExternal:g,modifiers:v,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:w}=r(m);if(g){u=m+(u.length>0?" "+u:u);continue}let b=!!w,S=n(b?y.substring(0,w):y);if(!S){if(!b){u=m+(u.length>0?" "+u:u);continue}if(S=n(y),!S){u=m+(u.length>0?" "+u:u);continue}b=!1}const T=s(v).join(":"),E=x?T+rb:T,A=E+S;if(o.includes(A))continue;o.push(A);const k=a(S,b);for(let D=0;D<k.length;++D){const R=k[D];o.push(E+R)}u=m+(u.length>0?" "+u:u)}return u};function a7(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=GD(t))&&(n&&(n+=" "),n+=r);return n}const GD=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=GD(e[n]))&&(r&&(r+=" "),r+=t);return r};function s7(e,...t){let r,n,a,s=o;function o(u){const f=t.reduce((m,g)=>g(m),e());return r=t7(f),n=r.cache.get,a=r.cache.set,s=c,c(u)}function c(u){const f=n(u);if(f)return f;const m=n7(u,r);return a(u,m),m}return function(){return s(a7.apply(null,arguments))}}const sn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},YD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,XD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,i7=/^\d+\/\d+$/,o7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,l7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,c7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,u7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,d7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yu=e=>i7.test(e),kt=e=>!!e&&!Number.isNaN(Number(e)),Wl=e=>!!e&&Number.isInteger(Number(e)),oN=e=>e.endsWith("%")&&kt(e.slice(0,-1)),Ro=e=>o7.test(e),f7=()=>!0,h7=e=>l7.test(e)&&!c7.test(e),Dw=()=>!1,m7=e=>u7.test(e),p7=e=>d7.test(e),g7=e=>!Ke(e)&&!Qe(e),v7=e=>cd(e,ZD,Dw),Ke=e=>YD.test(e),ql=e=>cd(e,JD,h7),Xy=e=>cd(e,A7,kt),x7=e=>cd(e,KD,Dw),y7=e=>cd(e,QD,p7),b7=e=>cd(e,Dw,m7),Qe=e=>XD.test(e),Mm=e=>ud(e,JD),w7=e=>ud(e,k7),_7=e=>ud(e,KD),E7=e=>ud(e,ZD),S7=e=>ud(e,QD),C7=e=>ud(e,R7,!0),cd=(e,t,r)=>{const n=YD.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},ud=(e,t,r=!1)=>{const n=XD.exec(e);return n?n[1]?t(n[1]):r:!1},KD=e=>e==="position",T7=new Set(["image","url"]),QD=e=>T7.has(e),N7=new Set(["length","size","percentage"]),ZD=e=>N7.has(e),JD=e=>e==="length",A7=e=>e==="number",k7=e=>e==="family-name",R7=e=>e==="shadow",D7=()=>{const e=sn("color"),t=sn("font"),r=sn("text"),n=sn("font-weight"),a=sn("tracking"),s=sn("leading"),o=sn("breakpoint"),c=sn("container"),u=sn("spacing"),f=sn("radius"),m=sn("shadow"),g=sn("inset-shadow"),v=sn("drop-shadow"),x=sn("blur"),y=sn("perspective"),w=sn("aspect"),b=sn("ease"),S=sn("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],D=()=>[Qe,Ke,u],R=()=>[yu,"full","auto",...D()],P=()=>[Wl,"none","subgrid",Qe,Ke],I=()=>["auto",{span:["full",Wl,Qe,Ke]},Qe,Ke],B=()=>[Wl,"auto",Qe,Ke],H=()=>["auto","min","max","fr",Qe,Ke],z=()=>["start","end","center","between","around","evenly","stretch","baseline"],G=()=>["start","end","center","stretch"],ne=()=>["auto",...D()],se=()=>[yu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],L=()=>[e,Qe,Ke],oe=()=>[oN,ql],le=()=>["","none","full",f,Qe,Ke],W=()=>["",kt,Mm,ql],V=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["","none",x,Qe,Ke],ee=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe,Ke],K=()=>["none",kt,Qe,Ke],Q=()=>["none",kt,Qe,Ke],re=()=>[kt,Qe,Ke],be=()=>[yu,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ro],breakpoint:[Ro],color:[f7],container:[Ro],"drop-shadow":[Ro],ease:["in","out","in-out"],font:[g7],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ro],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ro],shadow:[Ro],spacing:["px",kt],text:[Ro],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",yu,Ke,Qe,w]}],container:["container"],columns:[{columns:[kt,Ke,Qe,c]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...E(),Ke,Qe]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Wl,"auto",Qe,Ke]}],basis:[{basis:[yu,"full","auto",c,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[kt,yu,"auto","initial","none",Ke]}],grow:[{grow:["",kt,Qe,Ke]}],shrink:[{shrink:["",kt,Qe,Ke]}],order:[{order:[Wl,"first","last","none",Qe,Ke]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":H()}],"auto-rows":[{"auto-rows":H()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...G(),"baseline"]}],"align-self":[{self:["auto",...G(),"baseline"]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:ne()}],mx:[{mx:ne()}],my:[{my:ne()}],ms:[{ms:ne()}],me:[{me:ne()}],mt:[{mt:ne()}],mr:[{mr:ne()}],mb:[{mb:ne()}],ml:[{ml:ne()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:se()}],w:[{w:[c,"screen",...se()]}],"min-w":[{"min-w":[c,"screen","none",...se()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...se()]}],h:[{h:["screen",...se()]}],"min-h":[{"min-h":["screen","none",...se()]}],"max-h":[{"max-h":["screen",...se()]}],"font-size":[{text:["base",r,Mm,ql]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Qe,Xy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",oN,Ke]}],"font-family":[{font:[w7,Ke,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Qe,Ke]}],"line-clamp":[{"line-clamp":[kt,"none",Qe,Xy]}],leading:[{leading:[s,...D()]}],"list-image":[{"list-image":["none",Qe,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Qe,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:[kt,"from-font","auto",Qe,ql]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[kt,"auto",Qe,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...E(),_7,x7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",E7,v7]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Wl,Qe,Ke],radial:["",Qe,Ke],conic:[Wl,Qe,Ke]},S7,y7]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:oe()}],"gradient-via-pos":[{via:oe()}],"gradient-to-pos":[{to:oe()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:W()}],"border-w-x":[{"border-x":W()}],"border-w-y":[{"border-y":W()}],"border-w-s":[{"border-s":W()}],"border-w-e":[{"border-e":W()}],"border-w-t":[{"border-t":W()}],"border-w-r":[{"border-r":W()}],"border-w-b":[{"border-b":W()}],"border-w-l":[{"border-l":W()}],"divide-x":[{"divide-x":W()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":W()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...V(),"hidden","none"]}],"divide-style":[{divide:[...V(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...V(),"none","hidden"]}],"outline-offset":[{"outline-offset":[kt,Qe,Ke]}],"outline-w":[{outline:["",kt,Mm,ql]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",m,C7,b7]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",Qe,Ke,g]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[kt,ql]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":W()}],"inset-ring-color":[{"inset-ring":L()}],opacity:[{opacity:[kt,Qe,Ke]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none",Qe,Ke]}],blur:[{blur:j()}],brightness:[{brightness:[kt,Qe,Ke]}],contrast:[{contrast:[kt,Qe,Ke]}],"drop-shadow":[{"drop-shadow":["","none",v,Qe,Ke]}],grayscale:[{grayscale:["",kt,Qe,Ke]}],"hue-rotate":[{"hue-rotate":[kt,Qe,Ke]}],invert:[{invert:["",kt,Qe,Ke]}],saturate:[{saturate:[kt,Qe,Ke]}],sepia:[{sepia:["",kt,Qe,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Qe,Ke]}],"backdrop-blur":[{"backdrop-blur":j()}],"backdrop-brightness":[{"backdrop-brightness":[kt,Qe,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[kt,Qe,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",kt,Qe,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[kt,Qe,Ke]}],"backdrop-invert":[{"backdrop-invert":["",kt,Qe,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[kt,Qe,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[kt,Qe,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",kt,Qe,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Qe,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[kt,"initial",Qe,Ke]}],ease:[{ease:["linear","initial",b,Qe,Ke]}],delay:[{delay:[kt,Qe,Ke]}],animate:[{animate:["none",S,Qe,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Qe,Ke]}],"perspective-origin":[{"perspective-origin":ee()}],rotate:[{rotate:K()}],"rotate-x":[{"rotate-x":K()}],"rotate-y":[{"rotate-y":K()}],"rotate-z":[{"rotate-z":K()}],scale:[{scale:Q()}],"scale-x":[{"scale-x":Q()}],"scale-y":[{"scale-y":Q()}],"scale-z":[{"scale-z":Q()}],"scale-3d":["scale-3d"],skew:[{skew:re()}],"skew-x":[{"skew-x":re()}],"skew-y":[{"skew-y":re()}],transform:[{transform:[Qe,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:ee()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:be()}],"translate-x":[{"translate-x":be()}],"translate-y":[{"translate-y":be()}],"translate-z":[{"translate-z":be()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe,Ke]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[kt,Mm,ql,Xy]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},I7=s7(D7),eI=6048e5,O7=864e5,tI=6e4,rI=36e5,lN=Symbol.for("constructDateFrom");function Gi(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&lN in e?e[lN](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ca(e,t){return Gi(t||e,e)}let P7={};function Bg(){return P7}function yh(e,t){var c,u,f,m;const r=Bg(),n=(t==null?void 0:t.weekStartsOn)??((u=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,a=Ca(e,t==null?void 0:t.in),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Np(e,t){return yh(e,{...t,weekStartsOn:1})}function nI(e,t){const r=Ca(e,t==null?void 0:t.in),n=r.getFullYear(),a=Gi(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=Np(a),o=Gi(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const c=Np(o);return r.getTime()>=s.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function cN(e){const t=Ca(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function M7(e,...t){const r=Gi.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function uN(e,t){const r=Ca(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function F7(e,t,r){const[n,a]=M7(r==null?void 0:r.in,e,t),s=uN(n),o=uN(a),c=+s-cN(s),u=+o-cN(o);return Math.round((c-u)/O7)}function j7(e,t){const r=nI(e,t),n=Gi(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Np(n)}function L7(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function B7(e){return!(!L7(e)&&typeof e!="number"||isNaN(+Ca(e)))}function U7(e,t){const r=Ca(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const V7={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},H7=(e,t,r)=>{let n;const a=V7[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Pu(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const $7={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},z7={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},W7={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},q7={date:Pu({formats:$7,defaultWidth:"full"}),time:Pu({formats:z7,defaultWidth:"full"}),dateTime:Pu({formats:W7,defaultWidth:"full"})},G7={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Y7=(e,t,r,n)=>G7[e];function Ws(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):o;a=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const X7={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},K7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Q7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Z7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},J7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},e9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},t9=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},r9={ordinalNumber:t9,era:Ws({values:X7,defaultWidth:"wide"}),quarter:Ws({values:K7,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ws({values:Q7,defaultWidth:"wide"}),day:Ws({values:Z7,defaultWidth:"wide"}),dayPeriod:Ws({values:J7,defaultWidth:"wide",formattingValues:e9,defaultFormattingWidth:"wide"})};function qs(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(c)?a9(c,g=>g.test(o)):n9(c,g=>g.test(o));let f;f=e.valueCallback?e.valueCallback(u):u,f=r.valueCallback?r.valueCallback(f):f;const m=t.slice(o.length);return{value:f,rest:m}}}function n9(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function a9(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function aI(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const c=t.slice(a.length);return{value:o,rest:c}}}const s9=/^(\d+)(th|st|nd|rd)?/i,i9=/\d+/i,o9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l9={any:[/^b/i,/^(a|c)/i]},c9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},u9={any:[/1/i,/2/i,/3/i,/4/i]},d9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},m9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},p9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},g9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},v9={ordinalNumber:aI({matchPattern:s9,parsePattern:i9,valueCallback:e=>parseInt(e,10)}),era:qs({matchPatterns:o9,defaultMatchWidth:"wide",parsePatterns:l9,defaultParseWidth:"any"}),quarter:qs({matchPatterns:c9,defaultMatchWidth:"wide",parsePatterns:u9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qs({matchPatterns:d9,defaultMatchWidth:"wide",parsePatterns:f9,defaultParseWidth:"any"}),day:qs({matchPatterns:h9,defaultMatchWidth:"wide",parsePatterns:m9,defaultParseWidth:"any"}),dayPeriod:qs({matchPatterns:p9,defaultMatchWidth:"any",parsePatterns:g9,defaultParseWidth:"any"})},x9={code:"en-US",formatDistance:H7,formatLong:q7,formatRelative:Y7,localize:r9,match:v9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function y9(e,t){const r=Ca(e,t==null?void 0:t.in);return F7(r,U7(r))+1}function b9(e,t){const r=Ca(e,t==null?void 0:t.in),n=+Np(r)-+j7(r);return Math.round(n/eI)+1}function sI(e,t){var m,g,v,x;const r=Ca(e,t==null?void 0:t.in),n=r.getFullYear(),a=Bg(),s=(t==null?void 0:t.firstWeekContainsDate)??((g=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??a.firstWeekContainsDate??((x=(v=a.locale)==null?void 0:v.options)==null?void 0:x.firstWeekContainsDate)??1,o=Gi((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const c=yh(o,t),u=Gi((t==null?void 0:t.in)||e,0);u.setFullYear(n,0,s),u.setHours(0,0,0,0);const f=yh(u,t);return+r>=+c?n+1:+r>=+f?n:n-1}function w9(e,t){var c,u,f,m;const r=Bg(),n=(t==null?void 0:t.firstWeekContainsDate)??((u=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=sI(e,t),s=Gi((t==null?void 0:t.in)||e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),yh(s,t)}function _9(e,t){const r=Ca(e,t==null?void 0:t.in),n=+yh(r,t)-+w9(r,t);return Math.round(n/eI)+1}function Xt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Do={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Xt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Xt(r+1,2)},d(e,t){return Xt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Xt(e.getHours()%12||12,t.length)},H(e,t){return Xt(e.getHours(),t.length)},m(e,t){return Xt(e.getMinutes(),t.length)},s(e,t){return Xt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Xt(a,t.length)}},bu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dN={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Do.y(e,t)},Y:function(e,t,r,n){const a=sI(e,n),s=a>0?a:1-a;if(t==="YY"){const o=s%100;return Xt(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):Xt(s,t.length)},R:function(e,t){const r=nI(e);return Xt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Xt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Xt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Xt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Do.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Xt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=_9(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Xt(a,t.length)},I:function(e,t,r){const n=b9(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Xt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Do.d(e,t)},D:function(e,t,r){const n=y9(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Xt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Xt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Xt(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Xt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=bu.noon:n===0?a=bu.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=bu.evening:n>=12?a=bu.afternoon:n>=4?a=bu.morning:a=bu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Do.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Do.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Xt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Xt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Do.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Do.s(e,t)},S:function(e,t){return Do.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return hN(n);case"XXXX":case"XX":return Gl(n);case"XXXXX":case"XXX":default:return Gl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return hN(n);case"xxxx":case"xx":return Gl(n);case"xxxxx":case"xxx":default:return Gl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+fN(n,":");case"OOOO":default:return"GMT"+Gl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+fN(n,":");case"zzzz":default:return"GMT"+Gl(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Xt(n,t.length)},T:function(e,t,r){return Xt(+e,t.length)}};function fN(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+Xt(s,2)}function hN(e,t){return e%60===0?(e>0?"-":"+")+Xt(Math.abs(e)/60,2):Gl(e,t)}function Gl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Xt(Math.trunc(n/60),2),s=Xt(n%60,2);return r+a+t+s}const mN=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},iI=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},E9=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return mN(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",mN(n,t)).replace("{{time}}",iI(a,t))},S9={p:iI,P:E9},C9=/^D+$/,T9=/^Y+$/,N9=["D","DD","YY","YYYY"];function A9(e){return C9.test(e)}function k9(e){return T9.test(e)}function R9(e,t,r){const n=D9(e,t,r);if(console.warn(n),N9.includes(e))throw new RangeError(n)}function D9(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const I9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,O9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,P9=/^'([^]*?)'?$/,M9=/''/g,F9=/[a-zA-Z]/;function Pr(e,t,r){var m,g,v,x,y,w,b,S;const n=Bg(),a=(r==null?void 0:r.locale)??n.locale??x9,s=(r==null?void 0:r.firstWeekContainsDate)??((g=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((x=(v=n.locale)==null?void 0:v.options)==null?void 0:x.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((w=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??n.weekStartsOn??((S=(b=n.locale)==null?void 0:b.options)==null?void 0:S.weekStartsOn)??0,c=Ca(e,r==null?void 0:r.in);if(!B7(c))throw new RangeError("Invalid time value");let u=t.match(O9).map(T=>{const E=T[0];if(E==="p"||E==="P"){const A=S9[E];return A(T,a.formatLong)}return T}).join("").match(I9).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const E=T[0];if(E==="'")return{isToken:!1,value:j9(T)};if(dN[E])return{isToken:!0,value:T};if(E.match(F9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:T}});a.localize.preprocessor&&(u=a.localize.preprocessor(c,u));const f={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return u.map(T=>{if(!T.isToken)return T.value;const E=T.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&k9(E)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&A9(E))&&R9(E,t,String(e));const A=dN[E[0]];return A(c,E,a.localize,f)}).join("")}function j9(e){const t=e.match(P9);return t?t[1].replace(M9,"'"):e}function pl(e,t){const r=()=>Gi(t==null?void 0:t.in,NaN),a=V9(e);let s;if(a.date){const f=H9(a.date,2);s=$9(f.restDateString,f.year)}if(!s||isNaN(+s))return r();const o=+s;let c=0,u;if(a.time&&(c=z9(a.time),isNaN(c)))return r();if(a.timezone){if(u=W9(a.timezone),isNaN(u))return r()}else{const f=new Date(o+c),m=Ca(0,t==null?void 0:t.in);return m.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),m.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),m}return Ca(o+c+u,t==null?void 0:t.in)}const Fm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},L9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,B9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,U9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function V9(e){const t={},r=e.split(Fm.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Fm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Fm.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Fm.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function H9(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function $9(e,t){if(t===null)return new Date(NaN);const r=e.match(L9);if(!r)return new Date(NaN);const n=!!r[4],a=Af(r[1]),s=Af(r[2])-1,o=Af(r[3]),c=Af(r[4]),u=Af(r[5])-1;if(n)return K9(t,c,u)?q9(t,c,u):new Date(NaN);{const f=new Date(0);return!Y9(t,s,o)||!X9(t,a)?new Date(NaN):(f.setUTCFullYear(t,s,Math.max(a,o)),f)}}function Af(e){return e?parseInt(e):1}function z9(e){const t=e.match(B9);if(!t)return NaN;const r=Ky(t[1]),n=Ky(t[2]),a=Ky(t[3]);return Q9(r,n,a)?r*rI+n*tI+a*1e3:NaN}function Ky(e){return e&&parseFloat(e.replace(",","."))||0}function W9(e){if(e==="Z")return 0;const t=e.match(U9);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Z9(n,a)?r*(n*rI+a*tI):NaN}function q9(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,s=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const G9=[31,null,31,30,31,30,31,31,30,31,30,31];function oI(e){return e%400===0||e%4===0&&e%100!==0}function Y9(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(G9[t]||(oI(e)?29:28))}function X9(e,t){return t>=1&&t<=(oI(e)?366:365)}function K9(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Q9(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Z9(e,t){return t>=0&&t<=59}const J9={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},eV=(e,t,r)=>{let n;const a=J9[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},tV={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},rV={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},nV={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aV={date:Pu({formats:tV,defaultWidth:"full"}),time:Pu({formats:rV,defaultWidth:"full"}),dateTime:Pu({formats:nV,defaultWidth:"full"})},sV={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},iV={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},oV=(e,t,r,n)=>t.getHours()!==1?iV[e]:sV[e],lV={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},cV={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},uV={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},dV={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},fV={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},hV={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},mV=(e,t)=>Number(e)+"º",pV={ordinalNumber:mV,era:Ws({values:lV,defaultWidth:"wide"}),quarter:Ws({values:cV,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Ws({values:uV,defaultWidth:"wide"}),day:Ws({values:dV,defaultWidth:"wide"}),dayPeriod:Ws({values:fV,defaultWidth:"wide",formattingValues:hV,defaultFormattingWidth:"wide"})},gV=/^(\d+)(º)?/i,vV=/\d+/i,xV={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},yV={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},bV={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},wV={any:[/1/i,/2/i,/3/i,/4/i]},_V={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},EV={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},SV={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},CV={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},TV={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},NV={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},AV={ordinalNumber:aI({matchPattern:gV,parsePattern:vV,valueCallback:function(e){return parseInt(e,10)}}),era:qs({matchPatterns:xV,defaultMatchWidth:"wide",parsePatterns:yV,defaultParseWidth:"any"}),quarter:qs({matchPatterns:bV,defaultMatchWidth:"wide",parsePatterns:wV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qs({matchPatterns:_V,defaultMatchWidth:"wide",parsePatterns:EV,defaultParseWidth:"any"}),day:qs({matchPatterns:SV,defaultMatchWidth:"wide",parsePatterns:CV,defaultParseWidth:"any"}),dayPeriod:qs({matchPatterns:TV,defaultMatchWidth:"any",parsePatterns:NV,defaultParseWidth:"any"})},Yi={code:"es",formatDistance:eV,formatLong:aV,formatRelative:oV,localize:pV,match:AV,options:{weekStartsOn:1,firstWeekContainsDate:1}};function at(...e){return I7(WD(e))}const kV="dd/MM/yyyy";function lI(e){if(!e)return"";try{const t=typeof e=="string"?pl(e):e;return Pr(t,kV,{locale:Yi})}catch{return""}}const dn=N.forwardRef(({label:e,error:t,className:r="",...n},a)=>h.jsxs("div",{className:"w-full space-y-2",children:[e&&h.jsx("label",{htmlFor:n.id||n.name,className:"text-sm font-bold leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:e}),h.jsx("input",{ref:a,className:at("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",t&&"border-destructive focus-visible:ring-destructive",r),...n}),t&&h.jsx("p",{className:"text-sm font-medium text-destructive",children:t})]})),yr=N.forwardRef(({className:e,...t},r)=>h.jsx("div",{ref:r,className:at("rounded-lg border border-border bg-card text-card-foreground shadow-sm",e),...t}));yr.displayName="Card";const ia=N.forwardRef(({className:e,...t},r)=>h.jsx("div",{ref:r,className:at("flex flex-col space-y-1.5 p-6",e),...t}));ia.displayName="CardHeader";const oa=N.forwardRef(({className:e,...t},r)=>h.jsx("h3",{ref:r,className:at("text-2xl font-semibold leading-none tracking-tight",e),...t}));oa.displayName="CardTitle";const cI=N.forwardRef(({className:e,...t},r)=>h.jsx("p",{ref:r,className:at("text-sm text-muted-foreground",e),...t}));cI.displayName="CardDescription";const $r=N.forwardRef(({className:e,...t},r)=>h.jsx("div",{ref:r,className:at("p-6 pt-0",e),...t}));$r.displayName="CardContent";const uI=N.forwardRef(({className:e,...t},r)=>h.jsx("div",{ref:r,className:at("flex items-center p-6 pt-0",e),...t}));uI.displayName="CardFooter";const RV=()=>{};var pN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ue=function(e,t){if(!e)throw dd(t)},dd=function(e){return new Error("Firebase Database ("+dI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},DV=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[r++];t[n++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=e[r++],o=e[r++],c=e[r++],u=((a&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;t[n++]=String.fromCharCode(55296+(u>>10)),t[n++]=String.fromCharCode(56320+(u&1023))}else{const s=e[r++],o=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Iw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const s=e[a],o=a+1<e.length,c=o?e[a+1]:0,u=a+2<e.length,f=u?e[a+2]:0,m=s>>2,g=(s&3)<<4|c>>4;let v=(c&15)<<2|f>>6,x=f&63;u||(x=64,o||(v=64)),n.push(r[m],r[g],r[v],r[x])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fI(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):DV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const s=r[e.charAt(a++)],c=a<e.length?r[e.charAt(a)]:0;++a;const f=a<e.length?r[e.charAt(a)]:64;++a;const g=a<e.length?r[e.charAt(a)]:64;if(++a,s==null||c==null||f==null||g==null)throw new IV;const v=s<<2|c>>4;if(n.push(v),f!==64){const x=c<<4&240|f>>2;if(n.push(x),g!==64){const y=f<<6&192|g;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class IV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hI=function(e){const t=fI(e);return Iw.encodeByteArray(t,!0)},Ap=function(e){return hI(e).replace(/\./g,"")},kp=function(e){try{return Iw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(e){return mI(void 0,e)}function mI(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!PV(r)||(e[r]=mI(e[r],t[r]));return e}function PV(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=()=>MV().__FIREBASE_DEFAULTS__,jV=()=>{if(typeof process>"u"||typeof pN>"u")return;const e=pN.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},LV=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&kp(e[1]);return t&&JSON.parse(t)},Ow=()=>{try{return RV()||FV()||jV()||LV()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},pI=e=>{var t,r;return(r=(t=Ow())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},BV=e=>{const t=pI(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},gI=()=>{var e;return(e=Ow())===null||e===void 0?void 0:e.config},vI=e=>{var t;return(t=Ow())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ap(JSON.stringify(r)),Ap(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function VV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HV(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function xI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $V(){const e=Xn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function zV(){return dI.NODE_ADMIN===!0}function WV(){try{return typeof indexedDB=="object"}catch{return!1}}function qV(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var s;t(((s=a.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="FirebaseError";class gl extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=GV,Object.setPrototypeOf(this,gl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,e0.prototype.create)}}class e0{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,s=this.errors[t],o=s?YV(s,n):"Error",c=`${this.serviceName}: ${o} (${a}).`;return new gl(a,c,n)}}function YV(e,t){return e.replace(XV,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const XV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(e){return JSON.parse(e)}function Kr(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=function(e){let t={},r={},n={},a="";try{const s=e.split(".");t=bh(kp(s[0])||""),r=bh(kp(s[1])||""),a=s[2],n=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:n,signature:a}},KV=function(e){const t=yI(e),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},QV=function(e){const t=yI(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qu(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function ab(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Rp(e,t,r){const n={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=t.call(r,e[a],a,e));return n}function pc(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const s=e[a],o=t[a];if(gN(s)&&gN(o)){if(!pc(s,o))return!1}else if(s!==o)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function gN(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Uf(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,s]=n.split("=");t[decodeURIComponent(a)]=decodeURIComponent(s)}}),t}function Vf(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const n=this.W_;if(typeof t=="string")for(let g=0;g<16;g++)n[g]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let g=0;g<16;g++)n[g]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let g=16;g<80;g++){const v=n[g-3]^n[g-8]^n[g-14]^n[g-16];n[g]=(v<<1|v>>>31)&4294967295}let a=this.chain_[0],s=this.chain_[1],o=this.chain_[2],c=this.chain_[3],u=this.chain_[4],f,m;for(let g=0;g<80;g++){g<40?g<20?(f=c^s&(o^c),m=1518500249):(f=s^o^c,m=1859775393):g<60?(f=s&o|c&(s|o),m=2400959708):(f=s^o^c,m=3395469782);const v=(a<<5|a>>>27)+f+u+m+n[g]&4294967295;u=c,c=o,o=(s<<30|s>>>2)&4294967295,s=a,a=v}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const n=r-this.blockSize;let a=0;const s=this.buf_;let o=this.inbuf_;for(;a<r;){if(o===0)for(;a<=n;)this.compress_(t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<r;)if(s[o]=t.charCodeAt(a),++o,++a,o===this.blockSize){this.compress_(s),o=0;break}}else for(;a<r;)if(s[o]=t[a],++o,++a,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=r&255,r/=256;this.compress_(this.buf_);let n=0;for(let a=0;a<5;a++)for(let s=24;s>=0;s-=8)t[n]=this.chain_[a]>>s&255,++n;return t}}function JV(e,t){const r=new eH(e,t);return r.subscribe.bind(r)}class eH{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let a;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");tH(t,["next","error","complete"])?a=t:a={next:t,error:r,complete:n},a.next===void 0&&(a.next=Qy),a.error===void 0&&(a.error=Qy),a.complete===void 0&&(a.complete=Qy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tH(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function Qy(){}function Ug(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);if(a>=55296&&a<=56319){const s=a-55296;n++,Ue(n<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(n)-56320;a=65536+(s<<10)+o}a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):a<65536?(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},Vg=function(e){let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);n<128?t++:n<2048?t+=2:n>=55296&&n<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(e){return e&&e._delegate?e._delegate:e}class gc{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nH=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new Jh;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(sH(t))try{this.getOrInitializeService({instanceIdentifier:Yl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:a});n.resolve(s)}catch{}}}}clearInstance(t=Yl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Yl){return this.instances.has(t)}getOptions(t=Yl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&o.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;s.add(t),this.onInitCallbacks.set(a,s);const o=this.instances.get(a);return o&&t(o,a),()=>{s.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:aH(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Yl){return this.component?this.component.multipleInstances?t:Yl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function aH(e){return e===Yl?void 0:e}function sH(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new nH(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Jt||(Jt={}));const oH={debug:Jt.DEBUG,verbose:Jt.VERBOSE,info:Jt.INFO,warn:Jt.WARN,error:Jt.ERROR,silent:Jt.SILENT},lH=Jt.INFO,cH={[Jt.DEBUG]:"log",[Jt.VERBOSE]:"log",[Jt.INFO]:"info",[Jt.WARN]:"warn",[Jt.ERROR]:"error"},uH=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=cH[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Mw{constructor(t){this.name=t,this._logLevel=lH,this._logHandler=uH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?oH[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Jt.DEBUG,...t),this._logHandler(this,Jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Jt.VERBOSE,...t),this._logHandler(this,Jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Jt.INFO,...t),this._logHandler(this,Jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Jt.WARN,...t),this._logHandler(this,Jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Jt.ERROR,...t),this._logHandler(this,Jt.ERROR,...t)}}const dH=(e,t)=>t.some(r=>e instanceof r);let vN,xN;function fH(){return vN||(vN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hH(){return xN||(xN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bI=new WeakMap,sb=new WeakMap,wI=new WeakMap,Zy=new WeakMap,Fw=new WeakMap;function mH(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{r(Go(e.result)),a()},o=()=>{n(e.error),a()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&bI.set(r,e)}).catch(()=>{}),Fw.set(t,e),t}function pH(e){if(sb.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{r(),a()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});sb.set(e,t)}let ib={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return sb.get(e);if(t==="objectStoreNames")return e.objectStoreNames||wI.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Go(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function gH(e){ib=e(ib)}function vH(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Jy(this),t,...r);return wI.set(n,t.sort?t.sort():[t]),Go(n)}:hH().includes(e)?function(...t){return e.apply(Jy(this),t),Go(bI.get(this))}:function(...t){return Go(e.apply(Jy(this),t))}}function xH(e){return typeof e=="function"?vH(e):(e instanceof IDBTransaction&&pH(e),dH(e,fH())?new Proxy(e,ib):e)}function Go(e){if(e instanceof IDBRequest)return mH(e);if(Zy.has(e))return Zy.get(e);const t=xH(e);return t!==e&&(Zy.set(e,t),Fw.set(t,e)),t}const Jy=e=>Fw.get(e);function yH(e,t,{blocked:r,upgrade:n,blocking:a,terminated:s}={}){const o=indexedDB.open(e,t),c=Go(o);return n&&o.addEventListener("upgradeneeded",u=>{n(Go(o.result),u.oldVersion,u.newVersion,Go(o.transaction),u)}),r&&o.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),a&&u.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const bH=["get","getKey","getAll","getAllKeys","count"],wH=["put","add","delete","clear"],e1=new Map;function yN(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(e1.get(t))return e1.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=wH.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||bH.includes(r)))return;const s=async function(o,...c){const u=this.transaction(o,a?"readwrite":"readonly");let f=u.store;return n&&(f=f.index(c.shift())),(await Promise.all([f[r](...c),a&&u.done]))[0]};return e1.set(t,s),s}gH(e=>({...e,get:(t,r,n)=>yN(t,r)||e.get(t,r,n),has:(t,r)=>!!yN(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(EH(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function EH(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ob="@firebase/app",bN="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new Mw("@firebase/app"),SH="@firebase/app-compat",CH="@firebase/analytics-compat",TH="@firebase/analytics",NH="@firebase/app-check-compat",AH="@firebase/app-check",kH="@firebase/auth",RH="@firebase/auth-compat",DH="@firebase/database",IH="@firebase/data-connect",OH="@firebase/database-compat",PH="@firebase/functions",MH="@firebase/functions-compat",FH="@firebase/installations",jH="@firebase/installations-compat",LH="@firebase/messaging",BH="@firebase/messaging-compat",UH="@firebase/performance",VH="@firebase/performance-compat",HH="@firebase/remote-config",$H="@firebase/remote-config-compat",zH="@firebase/storage",WH="@firebase/storage-compat",qH="@firebase/firestore",GH="@firebase/vertexai",YH="@firebase/firestore-compat",XH="firebase",KH="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="[DEFAULT]",QH={[ob]:"fire-core",[SH]:"fire-core-compat",[TH]:"fire-analytics",[CH]:"fire-analytics-compat",[AH]:"fire-app-check",[NH]:"fire-app-check-compat",[kH]:"fire-auth",[RH]:"fire-auth-compat",[DH]:"fire-rtdb",[IH]:"fire-data-connect",[OH]:"fire-rtdb-compat",[PH]:"fire-fn",[MH]:"fire-fn-compat",[FH]:"fire-iid",[jH]:"fire-iid-compat",[LH]:"fire-fcm",[BH]:"fire-fcm-compat",[UH]:"fire-perf",[VH]:"fire-perf-compat",[HH]:"fire-rc",[$H]:"fire-rc-compat",[zH]:"fire-gcs",[WH]:"fire-gcs-compat",[qH]:"fire-fst",[YH]:"fire-fst-compat",[GH]:"fire-vertex","fire-js":"fire-js",[XH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=new Map,ZH=new Map,cb=new Map;function wN(e,t){try{e.container.addComponent(t)}catch(r){Xi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Gu(e){const t=e.name;if(cb.has(t))return Xi.debug(`There were multiple attempts to register component ${t}.`),!1;cb.set(t,e);for(const r of Dp.values())wN(r,e);for(const r of ZH.values())wN(r,e);return!0}function jw(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function hs(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yo=new e0("app","Firebase",JH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new gc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=KH;function _I(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:lb,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw Yo.create("bad-app-name",{appName:String(a)});if(r||(r=gI()),!r)throw Yo.create("no-options");const s=Dp.get(a);if(s){if(pc(r,s.options)&&pc(n,s.config))return s;throw Yo.create("duplicate-app",{appName:a})}const o=new iH(a);for(const u of cb.values())o.addComponent(u);const c=new e$(r,n,o);return Dp.set(a,c),c}function EI(e=lb){const t=Dp.get(e);if(!t&&e===lb&&gI())return _I();if(!t)throw Yo.create("no-app",{appName:e});return t}function Xo(e,t,r){var n;let a=(n=QH[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const s=a.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const c=[`Unable to register library "${a}" with version "${t}":`];s&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xi.warn(c.join(" "));return}Gu(new gc(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$="firebase-heartbeat-database",r$=1,wh="firebase-heartbeat-store";let t1=null;function SI(){return t1||(t1=yH(t$,r$,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(wh)}catch(r){console.warn(r)}}}}).catch(e=>{throw Yo.create("idb-open",{originalErrorMessage:e.message})})),t1}async function n$(e){try{const r=(await SI()).transaction(wh),n=await r.objectStore(wh).get(CI(e));return await r.done,n}catch(t){if(t instanceof gl)Xi.warn(t.message);else{const r=Yo.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Xi.warn(r.message)}}}async function _N(e,t){try{const n=(await SI()).transaction(wh,"readwrite");await n.objectStore(wh).put(t,CI(e)),await n.done}catch(r){if(r instanceof gl)Xi.warn(r.message);else{const n=Yo.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Xi.warn(n.message)}}}function CI(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=1024,s$=30;class i${constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new l$(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=EN();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>s$){const o=c$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Xi.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=EN(),{heartbeatsToSend:n,unsentEntries:a}=o$(this._heartbeatsCache.heartbeats),s=Ap(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Xi.warn(r),""}}}function EN(){return new Date().toISOString().substring(0,10)}function o$(e,t=a$){const r=[];let n=e.slice();for(const a of e){const s=r.find(o=>o.agent===a.agent);if(s){if(s.dates.push(a.date),SN(r)>t){s.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),SN(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class l${constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WV()?qV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await n$(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return _N(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return _N(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function SN(e){return Ap(JSON.stringify({version:2,heartbeats:e})).length}function c$(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(e){Gu(new gc("platform-logger",t=>new _H(t),"PRIVATE")),Gu(new gc("heartbeat",t=>new i$(t),"PRIVATE")),Xo(ob,bN,e),Xo(ob,bN,"esm2017"),Xo("fire-js","")}u$("");var Gs=function(){return Gs=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Gs.apply(this,arguments)};function t0(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function d$(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function TI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f$=TI,NI=new e0("auth","Firebase",TI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=new Mw("@firebase/auth");function h$(e,...t){Ip.logLevel<=Jt.WARN&&Ip.warn(`Auth (${hd}): ${e}`,...t)}function up(e,...t){Ip.logLevel<=Jt.ERROR&&Ip.error(`Auth (${hd}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(e,...t){throw Lw(e,...t)}function Zs(e,...t){return Lw(e,...t)}function AI(e,t,r){const n=Object.assign(Object.assign({},f$()),{[t]:r});return new e0("auth","Firebase",n).create(t,{appName:e.name})}function Ko(e){return AI(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lw(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return NI.create(e,...t)}function ft(e,t,...r){if(!e)throw Lw(t,...r)}function Mi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw up(t),new Error(t)}function Ki(e,t){e||Mi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function m$(){return CN()==="http:"||CN()==="https:"}function CN(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m$()||HV()||"connection"in navigator)?navigator.onLine:!0}function g$(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(t,r){this.shortDelay=t,this.longDelay=r,Ki(r>t,"Short delay should be less than long delay!"),this.isMobile=Pw()||xI()}get(){return p$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(e,t){Ki(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$=new r0(3e4,6e4);function Ac(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function vl(e,t,r,n,a={}){return RI(e,a,async()=>{let s={},o={};n&&(t==="GET"?o=n:s={body:JSON.stringify(n)});const c=fd(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const f=Object.assign({method:t,headers:u},s);return VV()||(f.referrerPolicy="no-referrer"),kI.fetch()(DI(e,e.config.apiHost,r,c),f)})}async function RI(e,t,r){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},v$),t);try{const a=new b$(e),s=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw jm(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[u,f]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw jm(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw jm(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw jm(e,"user-disabled",o);const m=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw AI(e,m,f);Cs(e,m)}}catch(a){if(a instanceof gl)throw a;Cs(e,"network-request-failed",{message:String(a)})}}async function Hg(e,t,r,n,a={}){const s=await vl(e,t,r,n,a);return"mfaPendingCredential"in s&&Cs(e,"multi-factor-auth-required",{_serverResponse:s}),s}function DI(e,t,r,n){const a=`${t}${r}?${n}`;return e.config.emulator?Bw(e.config,a):`${e.config.apiScheme}://${a}`}function y$(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class b${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Zs(this.auth,"network-request-failed")),x$.get())})}}function jm(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=Zs(e,t,n);return a.customData._tokenResponse=r,a}function TN(e){return e!==void 0&&e.enterprise!==void 0}class w${constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return y$(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _$(e,t){return vl(e,"GET","/v2/recaptchaConfig",Ac(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E$(e,t){return vl(e,"POST","/v1/accounts:delete",t)}async function II(e,t){return vl(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function S$(e,t=!1){const r=hn(e),n=await r.getIdToken(t),a=Uw(n);ft(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:a,token:n,authTime:Qf(r1(a.auth_time)),issuedAtTime:Qf(r1(a.iat)),expirationTime:Qf(r1(a.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function r1(e){return Number(e)*1e3}function Uw(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return up("JWT malformed, contained fewer than 3 sections"),null;try{const a=kp(r);return a?JSON.parse(a):(up("Failed to decode base64 JWT payload"),null)}catch(a){return up("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function NN(e){const t=Uw(e);return ft(t,"internal-error"),ft(typeof t.exp<"u","internal-error"),ft(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _h(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof gl&&C$(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function C$({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qf(this.lastLoginAt),this.creationTime=Qf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Op(e){var t;const r=e.auth,n=await e.getIdToken(),a=await _h(e,II(r,{idToken:n}));ft(a==null?void 0:a.users.length,r,"internal-error");const s=a.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?OI(s.providerUserInfo):[],c=A$(e.providerData,o),u=e.isAnonymous,f=!(e.email&&s.passwordHash)&&!(c!=null&&c.length),m=u?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new db(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(e,g)}async function N$(e){const t=hn(e);await Op(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function A$(e,t){return[...e.filter(n=>!t.some(a=>a.providerId===n.providerId)),...t]}function OI(e){return e.map(t=>{var{providerId:r}=t,n=t0(t,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k$(e,t){const r=await RI(e,{},async()=>{const n=fd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:s}=e.config,o=DI(e,a,"/v1/token",`key=${s}`),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",kI.fetch()(o,{method:"POST",headers:c,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function R$(e,t){return vl(e,"POST","/v2/accounts:revokeToken",Ac(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ft(t.idToken,"internal-error"),ft(typeof t.idToken<"u","internal-error"),ft(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):NN(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){ft(t.length!==0,"internal-error");const r=NN(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ft(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:a,expiresIn:s}=await k$(t,r);this.updateTokensAndExpiration(n,a,Number(s))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:a,expirationTime:s}=r,o=new Mu;return n&&(ft(typeof n=="string","internal-error",{appName:t}),o.refreshToken=n),a&&(ft(typeof a=="string","internal-error",{appName:t}),o.accessToken=a),s&&(ft(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Mu,this.toJSON())}_performRefresh(){return Mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(e,t){ft(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Fi{constructor(t){var{uid:r,auth:n,stsTokenManager:a}=t,s=t0(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new T$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new db(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const r=await _h(this,this.stsTokenManager.getToken(this.auth,t));return ft(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return S$(this,t)}reload(){return N$(this)}_assign(t){this!==t&&(ft(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Fi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await Op(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hs(this.auth.app))return Promise.reject(Ko(this.auth));const t=await this.getIdToken();return await _h(this,E$(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var n,a,s,o,c,u,f,m;const g=(n=r.displayName)!==null&&n!==void 0?n:void 0,v=(a=r.email)!==null&&a!==void 0?a:void 0,x=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=r.photoURL)!==null&&o!==void 0?o:void 0,w=(c=r.tenantId)!==null&&c!==void 0?c:void 0,b=(u=r._redirectEventId)!==null&&u!==void 0?u:void 0,S=(f=r.createdAt)!==null&&f!==void 0?f:void 0,T=(m=r.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:E,emailVerified:A,isAnonymous:k,providerData:D,stsTokenManager:R}=r;ft(E&&R,t,"internal-error");const P=Mu.fromJSON(this.name,R);ft(typeof E=="string",t,"internal-error"),Io(g,t.name),Io(v,t.name),ft(typeof A=="boolean",t,"internal-error"),ft(typeof k=="boolean",t,"internal-error"),Io(x,t.name),Io(y,t.name),Io(w,t.name),Io(b,t.name),Io(S,t.name),Io(T,t.name);const I=new Fi({uid:E,auth:t,email:v,emailVerified:A,displayName:g,isAnonymous:k,photoURL:y,phoneNumber:x,tenantId:w,stsTokenManager:P,createdAt:S,lastLoginAt:T});return D&&Array.isArray(D)&&(I.providerData=D.map(B=>Object.assign({},B))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(t,r,n=!1){const a=new Mu;a.updateFromServerResponse(r);const s=new Fi({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:n});return await Op(s),s}static async _fromGetAccountInfoResponse(t,r,n){const a=r.users[0];ft(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?OI(a.providerUserInfo):[],o=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),c=new Mu;c.updateFromIdToken(n);const u=new Fi({uid:a.localId,auth:t,stsTokenManager:c,isAnonymous:o}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new db(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new Map;function ji(e){Ki(e instanceof Function,"Expected a class definition");let t=AN.get(e);return t?(Ki(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,AN.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}PI.type="NONE";const kN=PI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(e,t,r){return`firebase:${e}:${t}:${r}`}class Fu{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:a,name:s}=this.auth;this.fullUserKey=dp(this.userKey,a.apiKey,s),this.fullPersistenceKey=dp("persistence",a.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Fi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new Fu(ji(kN),t,n);const a=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=a[0]||ji(kN);const o=dp(n,t.config.apiKey,t.name);let c=null;for(const f of r)try{const m=await f._get(o);if(m){const g=Fi._fromJSON(t,m);f!==s&&(c=g),s=f;break}}catch{}const u=a.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Fu(s,t,n):(s=u[0],c&&await s._set(o,c.toJSON()),await Promise.all(r.map(async f=>{if(f!==s)try{await f._remove(o)}catch{}})),new Fu(s,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(LI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(MI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(UI(t))return"Blackberry";if(VI(t))return"Webos";if(FI(t))return"Safari";if((t.includes("chrome/")||jI(t))&&!t.includes("edge/"))return"Chrome";if(BI(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function MI(e=Xn()){return/firefox\//i.test(e)}function FI(e=Xn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jI(e=Xn()){return/crios\//i.test(e)}function LI(e=Xn()){return/iemobile/i.test(e)}function BI(e=Xn()){return/android/i.test(e)}function UI(e=Xn()){return/blackberry/i.test(e)}function VI(e=Xn()){return/webos/i.test(e)}function Vw(e=Xn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function D$(e=Xn()){var t;return Vw(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function I$(){return $V()&&document.documentMode===10}function HI(e=Xn()){return Vw(e)||BI(e)||VI(e)||UI(e)||/windows phone/i.test(e)||LI(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(e,t=[]){let r;switch(e){case"Browser":r=RN(Xn());break;case"Worker":r=`${RN(Xn())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${hd}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=s=>new Promise((o,c)=>{try{const u=t(s);o(u)}catch(u){c(u)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P$(e,t={}){return vl(e,"GET","/v2/passwordPolicy",Ac(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$=6;class F${constructor(t){var r,n,a,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:M$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var r,n,a,s,o,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(r=u.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(n=u.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(a=u.containsLowercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),a&&(r.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<t.length;a++)n=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,a,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(t,r,n,a){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DN(this),this.idTokenSubscription=new DN(this),this.beforeStateQueue=new O$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=ji(r)),this._initializationPromise=this.queue(async()=>{var n,a;if(!this._deleted&&(this.persistenceManager=await Fu.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await II(this,{idToken:t}),n=await Fi._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(hs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,c=a==null?void 0:a._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===c)&&(u!=null&&u.user)&&(a=u.user,s=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(a)}catch(o){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await Op(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=g$()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(hs(this.app))return Promise.reject(Ko(this));const r=t?hn(t):null;return r&&ft(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&ft(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return hs(this.app)?Promise.reject(Ko(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return hs(this.app)?Promise.reject(Ko(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await P$(this),r=new F$(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new e0("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await R$(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&ji(t)||this._popupRedirectResolver;ft(r,this,"argument-error"),this.redirectPersistenceManager=await Fu.create(this,[ji(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,a){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ft(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof r=="function"){const u=t.addObserver(r,n,a);return()=>{o=!0,u()}}else{const u=t.addObserver(r);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$I(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r}async _getAppCheckToken(){var t;if(hs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&h$(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function md(e){return hn(e)}class DN{constructor(t){this.auth=t,this.observer=null,this.addObserver=JV(r=>this.observer=r)}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $g={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L$(e){$g=e}function zI(e){return $g.loadJS(e)}function B$(){return $g.recaptchaEnterpriseScript}function U$(){return $g.gapiScript}function V$(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class H${constructor(){this.enterprise=new $$}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class $${ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const z$="recaptcha-enterprise",WI="NO_RECAPTCHA";class W${constructor(t){this.type=z$,this.auth=md(t)}async verify(t="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{_$(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new w$(u);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,o(f.siteKey)}}).catch(u=>{c(u)})})}function a(s,o,c){const u=window.grecaptcha;TN(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(f=>{o(f)}).catch(()=>{o(WI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new H$().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{n(this.auth).then(c=>{if(!r&&TN(window.grecaptcha))a(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=B$();u.length!==0&&(u+=c),zI(u).then(()=>{a(c,s,o)}).catch(f=>{o(f)})}}).catch(c=>{o(c)})})}}async function IN(e,t,r,n=!1,a=!1){const s=new W$(e);let o;if(a)o=WI;else try{o=await s.verify(r)}catch{o=await s.verify(r,!0)}const c=Object.assign({},t);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function ON(e,t,r,n,a){var s;if(!((s=e._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await IN(e,t,r,r==="getOobCode");return n(e,o)}else return n(e,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await IN(e,t,r,r==="getOobCode");return n(e,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q$(e,t){const r=jw(e,"auth");if(r.isInitialized()){const a=r.getImmediate(),s=r.getOptions();if(pc(s,t??{}))return a;Cs(a,"already-initialized")}return r.initialize({options:t})}function G$(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ji);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function Y$(e,t,r){const n=md(e);ft(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const a=!1,s=qI(t),{host:o,port:c}=X$(t),u=c===null?"":`:${c}`,f={url:`${s}//${o}${u}/`},m=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){ft(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ft(pc(f,n.config.emulator)&&pc(m,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=m,n.settings.appVerificationDisabledForTesting=!0,K$()}function qI(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function X$(e){const t=qI(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const s=a[1];return{host:s,port:PN(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:PN(o)}}}function PN(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function K$(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Mi("not implemented")}_getIdTokenResponse(t){return Mi("not implemented")}_linkToIdToken(t,r){return Mi("not implemented")}_getReauthenticationResolver(t){return Mi("not implemented")}}async function Q$(e,t){return vl(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z$(e,t){return Hg(e,"POST","/v1/accounts:signInWithPassword",Ac(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J$(e,t){return Hg(e,"POST","/v1/accounts:signInWithEmailLink",Ac(e,t))}async function ez(e,t){return Hg(e,"POST","/v1/accounts:signInWithEmailLink",Ac(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends Hw{constructor(t,r,n,a=null){super("password",n),this._email=t,this._password=r,this._tenantId=a}static _fromEmailAndPassword(t,r){return new Eh(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new Eh(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ON(t,r,"signInWithPassword",Z$);case"emailLink":return J$(t,{email:this._email,oobCode:this._password});default:Cs(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ON(t,n,"signUpPassword",Q$);case"emailLink":return ez(t,{idToken:r,email:this._email,oobCode:this._password});default:Cs(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(e,t){return Hg(e,"POST","/v1/accounts:signInWithIdp",Ac(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz="http://localhost";class vc extends Hw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new vc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):Cs("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:a}=r,s=t0(r,["providerId","signInMethod"]);if(!n||!a)return null;const o=new vc(n,a);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const r=this.buildRequest();return ju(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,ju(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,ju(t,r)}buildRequest(){const t={requestUri:tz,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=fd(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nz(e){const t=Uf(Vf(e)).link,r=t?Uf(Vf(t)).deep_link_id:null,n=Uf(Vf(e)).deep_link_id;return(n?Uf(Vf(n)).link:null)||n||r||t||e}class $w{constructor(t){var r,n,a,s,o,c;const u=Uf(Vf(t)),f=(r=u.apiKey)!==null&&r!==void 0?r:null,m=(n=u.oobCode)!==null&&n!==void 0?n:null,g=rz((a=u.mode)!==null&&a!==void 0?a:null);ft(f&&m&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=m,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const r=nz(t);try{return new $w(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.providerId=pd.PROVIDER_ID}static credential(t,r){return Eh._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=$w.parseLink(r);return ft(n,"argument-error"),Eh._fromEmailAndCode(t,n.code,n.tenantId)}}pd.PROVIDER_ID="password";pd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0 extends GI{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends n0{constructor(){super("facebook.com")}static credential(t){return vc._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fo.credentialFromTaggedObject(t)}static credentialFromError(t){return Fo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fo.credential(t.oauthAccessToken)}catch{return null}}}Fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends n0{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return vc._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return jo.credentialFromTaggedObject(t)}static credentialFromError(t){return jo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return jo.credential(r,n)}catch{return null}}}jo.GOOGLE_SIGN_IN_METHOD="google.com";jo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends n0{constructor(){super("github.com")}static credential(t){return vc._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lo.credentialFromTaggedObject(t)}static credentialFromError(t){return Lo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lo.credential(t.oauthAccessToken)}catch{return null}}}Lo.GITHUB_SIGN_IN_METHOD="github.com";Lo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends n0{constructor(){super("twitter.com")}static credential(t,r){return vc._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Bo.credentialFromTaggedObject(t)}static credentialFromError(t){return Bo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return Bo.credential(r,n)}catch{return null}}}Bo.TWITTER_SIGN_IN_METHOD="twitter.com";Bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,a=!1){const s=await Fi._fromIdTokenResponse(t,n,a),o=MN(n);return new Yu({user:s,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const a=MN(n);return new Yu({user:t,providerId:a,_tokenResponse:n,operationType:r})}}function MN(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends gl{constructor(t,r,n,a){var s;super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,Pp.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,a){return new Pp(t,r,n,a)}}function YI(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Pp._fromErrorAndOperation(e,s,t,n):s})}async function az(e,t,r=!1){const n=await _h(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return Yu._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sz(e,t,r=!1){const{auth:n}=e;if(hs(n.app))return Promise.reject(Ko(n));const a="reauthenticate";try{const s=await _h(e,YI(n,a,t,e),r);ft(s.idToken,n,"internal-error");const o=Uw(s.idToken);ft(o,n,"internal-error");const{sub:c}=o;return ft(e.uid===c,n,"user-mismatch"),Yu._forOperation(e,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Cs(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(e,t,r=!1){if(hs(e.app))return Promise.reject(Ko(e));const n="signIn",a=await YI(e,n,t),s=await Yu._fromIdTokenResponse(e,n,a);return r||await e._updateCurrentUser(s.user),s}async function iz(e,t){return XI(md(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oz(e){const t=md(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function lz(e,t,r){return hs(e.app)?Promise.reject(Ko(e)):iz(hn(e),pd.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&oz(e),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(e,t){return hn(e).setPersistence(t)}function uz(e,t,r,n){return hn(e).onIdTokenChanged(t,r,n)}function dz(e,t,r){return hn(e).beforeAuthStateChanged(t,r)}function fz(e,t,r,n){return hn(e).onAuthStateChanged(t,r,n)}function hz(e){return hn(e).signOut()}const Mp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Mp,"1"),this.storage.removeItem(Mp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=1e3,pz=10;class QI extends KI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HI(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&t(r,a,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const n=t.key;r?this.detachListener():this.stopPolling();const a=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);I$()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,pz):a()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},mz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}QI.type="LOCAL";const ZI=QI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI extends KI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}JI.type="SESSION";const zw=JI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const n=new zg(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:a,data:s}=r.data,o=this.handlersMap[a];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const c=Array.from(o).map(async f=>f(r.origin,s)),u=await gz(c);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:u})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{const f=Ww("",20);a.port1.start();const m=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:a,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(m),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),a.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:f,data:r},[a.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(){return window}function xz(e){Js().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){return typeof Js().WorkerGlobalScope<"u"&&typeof Js().importScripts=="function"}async function yz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bz(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function wz(){return eO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="firebaseLocalStorageDb",_z=1,Fp="firebaseLocalStorage",rO="fbase_key";class a0{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Wg(e,t){return e.transaction([Fp],t?"readwrite":"readonly").objectStore(Fp)}function Ez(){const e=indexedDB.deleteDatabase(tO);return new a0(e).toPromise()}function fb(){const e=indexedDB.open(tO,_z);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(Fp,{keyPath:rO})}catch(a){r(a)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Fp)?t(n):(n.close(),await Ez(),t(await fb()))})})}async function FN(e,t,r){const n=Wg(e,!0).put({[rO]:t,value:r});return new a0(n).toPromise()}async function Sz(e,t){const r=Wg(e,!1).get(t),n=await new a0(r).toPromise();return n===void 0?null:n.value}function jN(e,t){const r=Wg(e,!0).delete(t);return new a0(r).toPromise()}const Cz=800,Tz=3;class nO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fb(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>Tz)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zg._getInstance(wz()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await yz(),!this.activeServiceWorker)return;this.sender=new vz(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||bz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fb();return await FN(t,Mp,"1"),await jN(t,Mp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>FN(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>Sz(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>jN(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const s=Wg(a,!1).getAll();return new a0(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:a,value:s}of t)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Cz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nO.type="LOCAL";const Nz=nO;new r0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(e,t){return t?ji(t):(ft(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw extends Hw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ju(t,this._buildIdpRequest())}_linkToIdToken(t,r){return ju(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return ju(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function kz(e){return XI(e.auth,new qw(e),e.bypassAuthState)}function Rz(e){const{auth:t,user:r}=e;return ft(r,t,"internal-error"),sz(r,new qw(e),e.bypassAuthState)}async function Dz(e){const{auth:t,user:r}=e;return ft(r,t,"internal-error"),az(r,new qw(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(t,r,n,a,s=!1){this.auth=t,this.resolver=n,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:a,tenantId:s,error:o,type:c}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return kz;case"linkViaPopup":case"linkViaRedirect":return Dz;case"reauthViaPopup":case"reauthViaRedirect":return Rz;default:Cs(this.auth,"internal-error")}}resolve(t){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz=new r0(2e3,1e4);class ku extends aO{constructor(t,r,n,a,s){super(t,r,a,s),this.provider=n,this.authWindow=null,this.pollId=null,ku.currentPopupAction&&ku.currentPopupAction.cancel(),ku.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ft(t,this.auth,"internal-error"),t}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const t=Ww();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Zs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Zs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ku.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Iz.get())};t()}}ku.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz="pendingRedirect",fp=new Map;class Pz extends aO{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=fp.get(this.auth._key());if(!t){try{const n=await Mz(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}fp.set(this.auth._key(),t)}return this.bypassAuthState||fp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mz(e,t){const r=Lz(t),n=jz(e);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function Fz(e,t){fp.set(e._key(),t)}function jz(e){return ji(e._redirectPersistence)}function Lz(e){return dp(Oz,e.config.apiKey,e.name)}async function Bz(e,t,r=!1){if(hs(e.app))return Promise.reject(Ko(e));const n=md(e),a=Az(n,t),o=await new Pz(n,a,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uz=10*60*1e3;class Vz{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Hz(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!sO(t)){const a=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Zs(this.auth,a))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Uz&&this.cachedEventUids.clear(),this.cachedEventUids.has(LN(t))}saveEventToCache(t){this.cachedEventUids.add(LN(t)),this.lastProcessedEventTime=Date.now()}}function LN(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function sO({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Hz(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sO(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $z(e,t={}){return vl(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wz=/^https?/;async function qz(e){if(e.config.emulator)return;const{authorizedDomains:t}=await $z(e);for(const r of t)try{if(Gz(r))return}catch{}Cs(e,"unauthorized-domain")}function Gz(e){const t=ub(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!Wz.test(r))return!1;if(zz.test(e))return n===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz=new r0(3e4,6e4);function BN(){const e=Js().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function Xz(e){return new Promise((t,r)=>{var n,a,s;function o(){BN(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{BN(),r(Zs(e,"network-request-failed"))},timeout:Yz.get()})}if(!((a=(n=Js().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((s=Js().gapi)===null||s===void 0)&&s.load)o();else{const c=V$("iframefcb");return Js()[c]=()=>{gapi.load?o():r(Zs(e,"network-request-failed"))},zI(`${U$()}?onload=${c}`).catch(u=>r(u))}}).catch(t=>{throw hp=null,t})}let hp=null;function Kz(e){return hp=hp||Xz(e),hp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=new r0(5e3,15e3),Zz="__/auth/iframe",Jz="emulator/auth/iframe",eW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rW(e){const t=e.config;ft(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?Bw(t,Jz):`https://${e.config.authDomain}/${Zz}`,n={apiKey:t.apiKey,appName:e.name,v:hd},a=tW.get(e.config.apiHost);a&&(n.eid=a);const s=e._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${fd(n).slice(1)}`}async function nW(e){const t=await Kz(e),r=Js().gapi;return ft(r,e,"internal-error"),t.open({where:document.body,url:rW(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eW,dontclear:!0},n=>new Promise(async(a,s)=>{await n.restyle({setHideOnLeave:!1});const o=Zs(e,"network-request-failed"),c=Js().setTimeout(()=>{s(o)},Qz.get());function u(){Js().clearTimeout(c),a(n)}n.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sW=500,iW=600,oW="_blank",lW="http://localhost";class UN{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cW(e,t,r,n=sW,a=iW){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const u=Object.assign(Object.assign({},aW),{width:n.toString(),height:a.toString(),top:s,left:o}),f=Xn().toLowerCase();r&&(c=jI(f)?oW:r),MI(f)&&(t=t||lW,u.scrollbars="yes");const m=Object.entries(u).reduce((v,[x,y])=>`${v}${x}=${y},`,"");if(D$(f)&&c!=="_self")return uW(t||"",c),new UN(null);const g=window.open(t||"",c,m);ft(g,e,"popup-blocked");try{g.focus()}catch{}return new UN(g)}function uW(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW="__/auth/handler",fW="emulator/auth/handler",hW=encodeURIComponent("fac");async function VN(e,t,r,n,a,s){ft(e.config.authDomain,e,"auth-domain-config-required"),ft(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:hd,eventId:a};if(t instanceof GI){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",ab(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[m,g]of Object.entries({}))o[m]=g}if(t instanceof n0){const m=t.getScopes().filter(g=>g!=="");m.length>0&&(o.scopes=m.join(","))}e.tenantId&&(o.tid=e.tenantId);const c=o;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const u=await e._getAppCheckToken(),f=u?`#${hW}=${encodeURIComponent(u)}`:"";return`${mW(e)}?${fd(c).slice(1)}${f}`}function mW({config:e}){return e.emulator?Bw(e,fW):`https://${e.authDomain}/${dW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="webStorageSupport";class pW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zw,this._completeRedirectFn=Bz,this._overrideRedirectResult=Fz}async _openPopup(t,r,n,a){var s;Ki((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await VN(t,r,n,ub(),a);return cW(t,o,Ww())}async _openRedirect(t,r,n,a){await this._originValidation(t);const s=await VN(t,r,n,ub(),a);return xz(s),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:a,promise:s}=this.eventManagers[r];return a?Promise.resolve(a):(Ki(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await nW(t),n=new Vz(t);return r.register("authEvent",a=>(ft(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(n1,{type:n1},a=>{var s;const o=(s=a==null?void 0:a[0])===null||s===void 0?void 0:s[n1];o!==void 0&&r(!!o),Cs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=qz(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return HI()||FI()||Vw()}}const gW=pW;var HN="@firebase/auth",$N="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xW(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yW(e){Gu(new gc("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=n.options;ft(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:o,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$I(e)},f=new j$(n,a,s,u);return G$(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),Gu(new gc("auth-internal",t=>{const r=md(t.getProvider("auth").getImmediate());return(n=>new vW(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xo(HN,$N,xW(e)),Xo(HN,$N,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW=5*60,wW=vI("authIdTokenMaxAge")||bW;let zN=null;const _W=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>wW)return;const a=r==null?void 0:r.token;zN!==a&&(zN=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function EW(e=EI()){const t=jw(e,"auth");if(t.isInitialized())return t.getImmediate();const r=q$(e,{popupRedirectResolver:gW,persistence:[Nz,ZI,zw]}),n=vI("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=_W(s.toString());dz(r,o,()=>o(r.currentUser)),uz(r,c=>o(c))}}const a=pI("auth");return a&&Y$(r,`http://${a}`),r}function SW(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}L$({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=a=>{const s=Zs("internal-error");s.customData=a,r(s)},n.type="text/javascript",n.charset="UTF-8",SW().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yW("Browser");var CW="firebase",TW="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo(CW,TW,"app");var WN={};const qN="@firebase/database",GN="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iO="";function NW(e){iO=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Kr(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:bh(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return ii(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new AW(t)}}catch{}return new kW},ac=oO("localStorage"),RW=oO("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=new Mw("@firebase/database"),DW=function(){let e=1;return function(){return e++}}(),lO=function(e){const t=rH(e),r=new ZV;r.update(t);const n=r.digest();return Iw.encodeByteArray(n)},s0=function(...e){let t="";for(let r=0;r<e.length;r++){const n=e[r];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?t+=s0.apply(null,n):typeof n=="object"?t+=Kr(n):t+=n,t+=" "}return t};let Zf=null,YN=!0;const IW=function(e,t){Ue(!0,"Can't turn on custom loggers persistently."),Lu.logLevel=Jt.VERBOSE,Zf=Lu.log.bind(Lu)},_n=function(...e){if(YN===!0&&(YN=!1,Zf===null&&RW.get("logging_enabled")===!0&&IW()),Zf){const t=s0.apply(null,e);Zf(t)}},i0=function(e){return function(...t){_n(e,...t)}},hb=function(...e){const t="FIREBASE INTERNAL ERROR: "+s0(...e);Lu.error(t)},Qi=function(...e){const t=`FIREBASE FATAL ERROR: ${s0(...e)}`;throw Lu.error(t),new Error(t)},qn=function(...e){const t="FIREBASE WARNING: "+s0(...e);Lu.warn(t)},OW=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&qn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gw=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},PW=function(e){if(document.readyState==="complete")e();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},xc="[MIN_NAME]",nl="[MAX_NAME]",kc=function(e,t){if(e===t)return 0;if(e===xc||t===nl)return-1;if(t===xc||e===nl)return 1;{const r=XN(e),n=XN(t);return r!==null?n!==null?r-n===0?e.length-t.length:r-n:-1:n!==null?1:e<t?-1:1}},MW=function(e,t){return e===t?0:e<t?-1:1},kf=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Kr(t))},Yw=function(e){if(typeof e!="object"||e===null)return Kr(e);const t=[];for(const n in e)t.push(n);t.sort();let r="{";for(let n=0;n<t.length;n++)n!==0&&(r+=","),r+=Kr(t[n]),r+=":",r+=Yw(e[t[n]]);return r+="}",r},cO=function(e,t){const r=e.length;if(r<=t)return[e];const n=[];for(let a=0;a<r;a+=t)a+t>r?n.push(e.substring(a,r)):n.push(e.substring(a,a+t));return n};function Cn(e,t){for(const r in e)e.hasOwnProperty(r)&&t(r,e[r])}const uO=function(e){Ue(!Gw(e),"Invalid JSON number");const t=11,r=52,n=(1<<t-1)-1;let a,s,o,c,u;e===0?(s=0,o=0,a=1/e===-1/0?1:0):(a=e<0,e=Math.abs(e),e>=Math.pow(2,1-n)?(c=Math.min(Math.floor(Math.log(e)/Math.LN2),n),s=c+n,o=Math.round(e*Math.pow(2,r-c)-Math.pow(2,r))):(s=0,o=Math.round(e/Math.pow(2,1-n-r))));const f=[];for(u=r;u;u-=1)f.push(o%2?1:0),o=Math.floor(o/2);for(u=t;u;u-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(a?1:0),f.reverse();const m=f.join("");let g="";for(u=0;u<64;u+=8){let v=parseInt(m.substr(u,8),2).toString(16);v.length===1&&(v="0"+v),g=g+v}return g.toLowerCase()},FW=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},jW=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function LW(e,t){let r="Unknown Error";e==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?r="Client doesn't have permission to access the desired data.":e==="unavailable"&&(r="The service is unavailable");const n=new Error(e+" at "+t._path.toString()+": "+r);return n.code=e.toUpperCase(),n}const BW=new RegExp("^-?(0*)\\d{1,10}$"),UW=-2147483648,VW=2147483647,XN=function(e){if(BW.test(e)){const t=Number(e);if(t>=UW&&t<=VW)return t}return null},gd=function(e){try{e()}catch(t){setTimeout(()=>{const r=t.stack||"";throw qn("Exception was thrown by user callback.",r),t},Math.floor(0))}},HW=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Jf=function(e,t){const r=setTimeout(e,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(t,r){this.appCheckProvider=r,this.appName=t.name,hs(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(n=>this.appCheck=n)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((r,n)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,n):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){qn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(t,r,n){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(_n("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,n)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,n):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qn(t)}}class mp{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}mp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="5",dO="v",fO="s",hO="r",mO="f",pO=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gO="ls",vO="p",mb="ac",xO="websocket",yO="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(t,r,n,a,s=!1,o="",c=!1,u=!1,f=null){this.secure=r,this.namespace=n,this.webSocketOnly=a,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this.emulatorOptions=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ac.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ac.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function WW(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function wO(e,t,r){Ue(typeof t=="string","typeof type must == string"),Ue(typeof r=="object","typeof params must == object");let n;if(t===xO)n=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===yO)n=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);WW(e)&&(r.ns=e.namespace);const a=[];return Cn(r,(s,o)=>{a.push(s+"="+o)}),n+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(){this.counters_={}}incrementCounter(t,r=1){ii(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return OV(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1={},s1={};function Kw(e){const t=e.toString();return a1[t]||(a1[t]=new qW),a1[t]}function GW(e,t){const r=e.toString();return s1[r]||(s1[r]=t()),s1[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<n.length;++a)n[a]&&gd(()=>{this.onMessage_(n[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="start",XW="close",KW="pLPCommand",QW="pRTLPCB",_O="id",EO="pw",SO="ser",ZW="cb",JW="seg",eq="ts",tq="d",rq="dframe",CO=1870,TO=30,nq=CO-TO,aq=25e3,sq=3e4;class Ru{constructor(t,r,n,a,s,o,c){this.connId=t,this.repoInfo=r,this.applicationId=n,this.appCheckToken=a,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=i0(t),this.stats_=Kw(r),this.urlFn=u=>(this.appCheckToken&&(u[mb]=this.appCheckToken),wO(r,yO,u))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new YW(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(sq)),PW(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qw((...s)=>{const[o,c,u,f,m]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===KN)this.id=c,this.password=u;else if(o===XW)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const n={};n[KN]="t",n[SO]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[ZW]=this.scriptTagHolder.uniqueCallbackIdentifier),n[dO]=Xw,this.transportSessionId&&(n[fO]=this.transportSessionId),this.lastSessionId&&(n[gO]=this.lastSessionId),this.applicationId&&(n[vO]=this.applicationId),this.appCheckToken&&(n[mb]=this.appCheckToken),typeof location<"u"&&location.hostname&&pO.test(location.hostname)&&(n[hO]=mO);const a=this.urlFn(n);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ru.forceAllow_=!0}static forceDisallow(){Ru.forceDisallow_=!0}static isAvailable(){return Ru.forceAllow_?!0:!Ru.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!FW()&&!jW()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Kr(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=hI(r),a=cO(n,nq);for(let s=0;s<a.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[s]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const n={};n[rq]="t",n[_O]=t,n[EO]=r,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Kr(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Qw{constructor(t,r,n,a){this.onDisconnect=n,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=DW(),window[KW+this.uniqueCallbackIdentifier]=t,window[QW+this.uniqueCallbackIdentifier]=r,this.myIFrame=Qw.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){_n("frame writing exception"),c.stack&&_n(c.stack),_n(c)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||_n("No IE domain setting required")}catch{const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[_O]=this.myID,t[EO]=this.myPW,t[SO]=this.currentSerial;let r=this.urlFn(t),n="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+TO+n.length<=CO;){const o=this.pendingSegs.shift();n=n+"&"+JW+a+"="+o.seg+"&"+eq+a+"="+o.ts+"&"+tq+a+"="+o.d,a++}return r=r+n,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,n){this.pendingSegs.push({seg:t,ts:r,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const n=()=>{this.outstandingRequests.delete(r),this.newRequest_()},a=setTimeout(n,Math.floor(aq)),s=()=>{clearTimeout(a),n()};this.addTag(t,s)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const a=n.readyState;(!a||a==="loaded"||a==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),r())},n.onerror=()=>{_n("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq=16384,oq=45e3;let jp=null;typeof MozWebSocket<"u"?jp=MozWebSocket:typeof WebSocket<"u"&&(jp=WebSocket);class ms{constructor(t,r,n,a,s,o,c){this.connId=t,this.applicationId=n,this.appCheckToken=a,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=i0(this.connId),this.stats_=Kw(r),this.connURL=ms.connectionURL_(r,o,c,a,n),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,n,a,s){const o={};return o[dO]=Xw,typeof location<"u"&&location.hostname&&pO.test(location.hostname)&&(o[hO]=mO),r&&(o[fO]=r),n&&(o[gO]=n),a&&(o[mb]=a),s&&(o[vO]=s),wO(t,xO,o)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ac.set("previous_websocket_failure",!0);try{let n;zV(),this.mySock=new jp(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");const a=n.message||n.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const a=n.message||n.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){ms.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(r);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&jp!==null&&!ms.forceDisallow_}static previouslyFailed(){return ac.isInMemoryStorage||ac.get("previous_websocket_failure")===!0}markConnectionHealthy(){ac.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const n=bh(r);this.onMessage(n)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Ue(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const n=this.extractFrameCount_(r);n!==null&&this.appendFrame_(n)}}send(t){this.resetKeepAlive();const r=Kr(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=cO(r,iq);n.length>1&&this.sendString_(String(n.length));for(let a=0;a<n.length;a++)this.sendString_(n[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(oq))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ms.responsesRequiredToBeHealthy=2;ms.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{static get ALL_TRANSPORTS(){return[Ru,ms]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=ms&&ms.isAvailable();let n=r&&!ms.previouslyFailed();if(t.webSocketOnly&&(r||qn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[ms];else{const a=this.transports_=[];for(const s of Sh.ALL_TRANSPORTS)s&&s.isAvailable()&&a.push(s);Sh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Sh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq=6e4,cq=5e3,uq=10*1024,dq=100*1024,i1="t",QN="d",fq="s",ZN="r",hq="e",JN="o",eA="a",tA="n",rA="p",mq="h";class pq{constructor(t,r,n,a,s,o,c,u,f,m){this.id=t,this.repoInfo_=r,this.applicationId_=n,this.appCheckToken_=a,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=u,this.onKill_=f,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=i0("c:"+this.id+":"),this.transportManager_=new Sh(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,n)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Jf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>dq?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>uq?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(i1 in t){const r=t[i1];r===eA?this.upgradeIfSecondaryHealthy_():r===ZN?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===JN&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=kf("t",t),n=kf("d",t);if(r==="c")this.onSecondaryControl_(n);else if(r==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rA,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:eA,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:tA,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=kf("t",t),n=kf("d",t);r==="c"?this.onControl_(n):r==="d"&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=kf(i1,t);if(QN in t){const n=t[QN];if(r===mq){const a=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(r===tA){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===fq?this.onConnectionShutdown_(n):r===ZN?this.onReset_(n):r===hq?hb("Server Error: "+n):r===JN?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hb("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,n=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Xw!==n&&qn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,n),Jf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(lq))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Jf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cq))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rA,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ac.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{put(t,r,n,a){}merge(t,r,n,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,n){}onDisconnectMerge(t,r,n){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(t){this.allowedEvents_=t,this.listeners_={},Ue(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const n=[...this.listeners_[t]];for(let a=0;a<n.length;a++)n[a].callback.apply(n[a].context,r)}}on(t,r,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:n});const a=this.getInitialEvent(t);a&&r.apply(n,a)}off(t,r,n){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let s=0;s<a.length;s++)if(a[s].callback===r&&(!n||n===a[s].context)){a.splice(s,1);return}}validateEventType_(t){Ue(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends AO{static getInstance(){return new Lp}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Pw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return Ue(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=32,aA=768;class Kt{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let n=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[n]=this.pieces_[a],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function Vt(){return new Kt("")}function Rt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function al(e){return e.pieces_.length-e.pieceNum_}function or(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Kt(e.pieces_,t)}function Zw(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function gq(e){let t="";for(let r=e.pieceNum_;r<e.pieces_.length;r++)e.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[r])));return t||"/"}function Ch(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function kO(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let r=e.pieceNum_;r<e.pieces_.length-1;r++)t.push(e.pieces_[r]);return new Kt(t,0)}function Ar(e,t){const r=[];for(let n=e.pieceNum_;n<e.pieces_.length;n++)r.push(e.pieces_[n]);if(t instanceof Kt)for(let n=t.pieceNum_;n<t.pieces_.length;n++)r.push(t.pieces_[n]);else{const n=t.split("/");for(let a=0;a<n.length;a++)n[a].length>0&&r.push(n[a])}return new Kt(r,0)}function Ct(e){return e.pieceNum_>=e.pieces_.length}function zn(e,t){const r=Rt(e),n=Rt(t);if(r===null)return t;if(r===n)return zn(or(e),or(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function vq(e,t){const r=Ch(e,0),n=Ch(t,0);for(let a=0;a<r.length&&a<n.length;a++){const s=kc(r[a],n[a]);if(s!==0)return s}return r.length===n.length?0:r.length<n.length?-1:1}function RO(e,t){if(al(e)!==al(t))return!1;for(let r=e.pieceNum_,n=t.pieceNum_;r<=e.pieces_.length;r++,n++)if(e.pieces_[r]!==t.pieces_[n])return!1;return!0}function Qa(e,t){let r=e.pieceNum_,n=t.pieceNum_;if(al(e)>al(t))return!1;for(;r<e.pieces_.length;){if(e.pieces_[r]!==t.pieces_[n])return!1;++r,++n}return!0}class xq{constructor(t,r){this.errorPrefix_=r,this.parts_=Ch(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Vg(this.parts_[n]);DO(this)}}function yq(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Vg(t),DO(e)}function bq(e){const t=e.parts_.pop();e.byteLength_-=Vg(t),e.parts_.length>0&&(e.byteLength_-=1)}function DO(e){if(e.byteLength_>aA)throw new Error(e.errorPrefix_+"has a key path longer than "+aA+" bytes ("+e.byteLength_+").");if(e.parts_.length>nA)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nA+") or object contains a cycle "+Xl(e))}function Xl(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw extends AO{static getInstance(){return new Jw}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const n=!document[t];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}getInitialEvent(t){return Ue(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=1e3,wq=60*5*1e3,sA=30*1e3,_q=1.3,Eq=3e4,Sq="server_kill",iA=3;class Hi extends NO{constructor(t,r,n,a,s,o,c,u){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=n,this.onConnectStatus_=a,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=Hi.nextPersistentConnectionId_++,this.log_=i0("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Rf,this.maxReconnectDelay_=wq,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Jw.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Lp.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,n){const a=++this.requestNumber_,s={r:a,a:t,b:r};this.log_(Kr(s)),Ue(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),n&&(this.requestCBHash_[a]=n)}get(t){this.initConnection_();const r=new Jh,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const c=o.d;o.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(t,r,n,a){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Ue(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ue(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const c={onComplete:a,hashFn:r,query:t,tag:n};this.listens.get(o).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,n=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(n)})}sendListen_(t){const r=t.query,n=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+n+" for "+a);const s={p:n},o="q";t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,c=>{const u=c.d,f=c.s;Hi.warnOnListenWarnings_(u,r),(this.listens.get(n)&&this.listens.get(n).get(a))===t&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(n,a),t.onComplete&&t.onComplete(f,u))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&ii(t,"w")){const n=qu(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();qn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||QV(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=sA)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=KV(t)?"auth":"gauth",n={cred:t};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(r,n,a=>{const s=a.s,o=a.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,n=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,n)})}unlisten(t,r){const n=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+a),Ue(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,a)&&this.connected_&&this.sendUnlisten_(n,a,t._queryObject,r)}sendUnlisten_(t,r,n,a){this.log_("Unlisten on "+t+" for "+r);const s={p:t},o="n";a&&(s.q=n,s.t=a),this.sendRequest(o,s)}onDisconnectPut(t,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:n})}onDisconnectMerge(t,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:n})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,n,a){const s={p:r,d:n};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{a&&setTimeout(()=>{a(o.s,o.d)},Math.floor(0))})}put(t,r,n,a){this.putInternal("p",t,r,n,a)}merge(t,r,n,a){this.putInternal("m",t,r,n,a)}putInternal(t,r,n,a,s){this.initConnection_();const o={p:r,d:n};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:a}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,n=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,n,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(s.s,s.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,n=>{if(n.s!=="ok"){const s=n.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Kr(t));const r=t.r,n=this.requestCBHash_[r];n&&(delete this.requestCBHash_[r],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):hb("Unrecognized action received from server: "+Kr(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Ue(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Rf,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Rf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Eq&&(this.reconnectDelay_=Rf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_q)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+Hi.nextConnectionId_++,s=this.lastSessionId;let o=!1,c=null;const u=function(){c?c.close():(o=!0,n())},f=function(g){Ue(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(g)};this.realtime_={close:u,sendRequest:f};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,v]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);o?_n("getToken() completed but was canceled"):(_n("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=v&&v.token,c=new pq(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,n,x=>{qn(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(Sq)},s))}catch(g){this.log_("Failed to get token: "+g),o||(this.repoInfo_.nodeAdmin&&qn(g),u())}}}interrupt(t){_n("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){_n("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ab(this.interruptReasons_)&&(this.reconnectDelay_=Rf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let n;r?n=r.map(s=>Yw(s)).join("$"):n="default";const a=this.removeListen_(t,n);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const n=new Kt(t).toString();let a;if(this.listens.has(n)){const s=this.listens.get(n);a=s.get(r),s.delete(r),s.size===0&&this.listens.delete(n)}else a=void 0;return a}onAuthRevoked_(t,r){_n("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=iA&&(this.reconnectDelay_=sA,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){_n("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=iA&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+iO.replace(/\./g,"-")]=1,Pw()?t["framework.cordova"]=1:xI()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Lp.getInstance().currentlyOnline();return ab(this.interruptReasons_)&&t}}Hi.nextPersistentConnectionId_=0;Hi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new Tt(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const n=new Tt(xc,t),a=new Tt(xc,r);return this.compare(n,a)!==0}minPost(){return Tt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lm;class IO extends qg{static get __EMPTY_NODE(){return Lm}static set __EMPTY_NODE(t){Lm=t}compare(t,r){return kc(t.name,r.name)}isDefinedOn(t){throw dd("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return Tt.MIN}maxPost(){return new Tt(nl,Lm)}makePost(t,r){return Ue(typeof t=="string","KeyIndex indexValue must always be a string."),new Tt(t,Lm)}toString(){return".key"}}const dc=new IO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,r,n,a,s=null){this.isReverse_=a,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=r?n(t.key,r):1,a&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class cn{constructor(t,r,n,a,s){this.key=t,this.value=r,this.color=n??cn.RED,this.left=a??la.EMPTY_NODE,this.right=s??la.EMPTY_NODE}copy(t,r,n,a,s){return new cn(t??this.key,r??this.value,n??this.color,a??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const s=n(t,a.key);return s<0?a=a.copy(null,null,null,a.left.insert(t,r,n),null):s===0?a=a.copy(null,r,null,null,null):a=a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return la.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let n,a;if(n=this,r(t,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,r),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),r(t,n.key)===0){if(n.right.isEmpty())return la.EMPTY_NODE;a=n.right.min_(),n=n.copy(a.key,a.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,r))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}cn.RED=!0;cn.BLACK=!1;class Cq{copy(t,r,n,a,s){return this}insert(t,r,n){return new cn(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class la{constructor(t,r=la.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new la(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,cn.BLACK,null,null))}remove(t){return new la(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,cn.BLACK,null,null))}get(t){let r,n=this.root_;for(;!n.isEmpty();){if(r=this.comparator_(t,n.key),r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}getPredecessorKey(t){let r,n=this.root_,a=null;for(;!n.isEmpty();)if(r=this.comparator_(t,n.key),r===0){if(n.left.isEmpty())return a?a.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else r<0?n=n.left:r>0&&(a=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Bm(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new Bm(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new Bm(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new Bm(this.root_,null,this.comparator_,!0,t)}}la.EMPTY_NODE=new Cq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(e,t){return kc(e.name,t.name)}function e_(e,t){return kc(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pb;function Nq(e){pb=e}const OO=function(e){return typeof e=="number"?"number:"+uO(e):"string:"+e},PO=function(e){if(e.isLeafNode()){const t=e.val();Ue(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ii(t,".sv"),"Priority must be a string or number.")}else Ue(e===pb||e.isEmpty(),"priority of unexpected type.");Ue(e===pb||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oA;class on{static set __childrenNodeConstructor(t){oA=t}static get __childrenNodeConstructor(){return oA}constructor(t,r=on.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,Ue(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),PO(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new on(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:on.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Ct(t)?this:Rt(t)===".priority"?this.priorityNode_:on.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:on.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const n=Rt(t);return n===null?r:r.isEmpty()&&n!==".priority"?this:(Ue(n!==".priority"||al(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,on.__childrenNodeConstructor.EMPTY_NODE.updateChild(or(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+OO(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=uO(this.value_):t+=this.value_,this.lazyHash_=lO(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===on.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof on.__childrenNodeConstructor?-1:(Ue(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,n=typeof this.value_,a=on.VALUE_TYPE_ORDER.indexOf(r),s=on.VALUE_TYPE_ORDER.indexOf(n);return Ue(a>=0,"Unknown leaf type: "+r),Ue(s>=0,"Unknown leaf type: "+n),a===s?n==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}on.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MO,FO;function Aq(e){MO=e}function kq(e){FO=e}class Rq extends qg{compare(t,r){const n=t.node.getPriority(),a=r.node.getPriority(),s=n.compareTo(a);return s===0?kc(t.name,r.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return Tt.MIN}maxPost(){return new Tt(nl,new on("[PRIORITY-POST]",FO))}makePost(t,r){const n=MO(t);return new Tt(r,new on("[PRIORITY-POST]",n))}toString(){return".priority"}}const br=new Rq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq=Math.log(2);class Iq{constructor(t){const r=s=>parseInt(Math.log(s)/Dq,10),n=s=>parseInt(Array(s+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const a=n(this.count);this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Bp=function(e,t,r,n){e.sort(t);const a=function(u,f){const m=f-u;let g,v;if(m===0)return null;if(m===1)return g=e[u],v=r?r(g):g,new cn(v,g.node,cn.BLACK,null,null);{const x=parseInt(m/2,10)+u,y=a(u,x),w=a(x+1,f);return g=e[x],v=r?r(g):g,new cn(v,g.node,cn.BLACK,y,w)}},s=function(u){let f=null,m=null,g=e.length;const v=function(y,w){const b=g-y,S=g;g-=y;const T=a(b+1,S),E=e[b],A=r?r(E):E;x(new cn(A,E.node,w,null,T))},x=function(y){f?(f.left=y,f=y):(m=y,f=y)};for(let y=0;y<u.count;++y){const w=u.nextBitIsOne(),b=Math.pow(2,u.count-(y+1));w?v(b,cn.BLACK):(v(b,cn.BLACK),v(b,cn.RED))}return m},o=new Iq(e.length),c=s(o);return new la(n||t,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o1;const wu={};class Li{static get Default(){return Ue(wu&&br,"ChildrenNode.ts has not been loaded"),o1=o1||new Li({".priority":wu},{".priority":br}),o1}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=qu(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof la?r:null}hasIndex(t){return ii(this.indexSet_,t.toString())}addIndex(t,r){Ue(t!==dc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let a=!1;const s=r.getIterator(Tt.Wrap);let o=s.getNext();for(;o;)a=a||t.isDefinedOn(o.node),n.push(o),o=s.getNext();let c;a?c=Bp(n,t.getCompare()):c=wu;const u=t.toString(),f=Object.assign({},this.indexSet_);f[u]=t;const m=Object.assign({},this.indexes_);return m[u]=c,new Li(m,f)}addToIndexes(t,r){const n=Rp(this.indexes_,(a,s)=>{const o=qu(this.indexSet_,s);if(Ue(o,"Missing index implementation for "+s),a===wu)if(o.isDefinedOn(t.node)){const c=[],u=r.getIterator(Tt.Wrap);let f=u.getNext();for(;f;)f.name!==t.name&&c.push(f),f=u.getNext();return c.push(t),Bp(c,o.getCompare())}else return wu;else{const c=r.get(t.name);let u=a;return c&&(u=u.remove(new Tt(t.name,c))),u.insert(t,t.node)}});return new Li(n,this.indexSet_)}removeFromIndexes(t,r){const n=Rp(this.indexes_,a=>{if(a===wu)return a;{const s=r.get(t.name);return s?a.remove(new Tt(t.name,s)):a}});return new Li(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df;class ht{static get EMPTY_NODE(){return Df||(Df=new ht(new la(e_),null,Li.Default))}constructor(t,r,n){this.children_=t,this.priorityNode_=r,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&PO(this.priorityNode_),this.children_.isEmpty()&&Ue(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Df}updatePriority(t){return this.children_.isEmpty()?this:new ht(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Df:r}}getChild(t){const r=Rt(t);return r===null?this:this.getImmediateChild(r).getChild(or(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(Ue(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const n=new Tt(t,r);let a,s;r.isEmpty()?(a=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(n,this.children_)):(a=this.children_.insert(t,r),s=this.indexMap_.addToIndexes(n,this.children_));const o=a.isEmpty()?Df:this.priorityNode_;return new ht(a,o,s)}}updateChild(t,r){const n=Rt(t);if(n===null)return r;{Ue(Rt(t)!==".priority"||al(t)===1,".priority must be the last token in a path");const a=this.getImmediateChild(n).updateChild(or(t),r);return this.updateImmediateChild(n,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let n=0,a=0,s=!0;if(this.forEachChild(br,(o,c)=>{r[o]=c.val(t),n++,s&&ht.INTEGER_REGEXP_.test(o)?a=Math.max(a,Number(o)):s=!1}),!t&&s&&a<2*n){const o=[];for(const c in r)o[c]=r[c];return o}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+OO(this.getPriority().val())+":"),this.forEachChild(br,(r,n)=>{const a=n.hash();a!==""&&(t+=":"+r+":"+a)}),this.lazyHash_=t===""?"":lO(t)}return this.lazyHash_}getPredecessorChildName(t,r,n){const a=this.resolveIndex_(n);if(a){const s=a.getPredecessorKey(new Tt(t,r));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const n=r.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Tt(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const n=r.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Tt(r,this.children_.get(r)):null}forEachChild(t,r){const n=this.resolveIndex_(t);return n?n.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const n=this.resolveIndex_(r);if(n)return n.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,Tt.Wrap);let s=a.peek();for(;s!=null&&r.compare(s,t)<0;)a.getNext(),s=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const n=this.resolveIndex_(r);if(n)return n.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,Tt.Wrap);let s=a.peek();for(;s!=null&&r.compare(s,t)>0;)a.getNext(),s=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===o0?-1:0}withIndex(t){if(t===dc||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new ht(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===dc||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const n=this.getIterator(br),a=r.getIterator(br);let s=n.getNext(),o=a.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=n.getNext(),o=a.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===dc?null:this.indexMap_.get(t.toString())}}ht.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Oq extends ht{constructor(){super(new la(e_),ht.EMPTY_NODE,Li.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ht.EMPTY_NODE}isEmpty(){return!1}}const o0=new Oq;Object.defineProperties(Tt,{MIN:{value:new Tt(xc,ht.EMPTY_NODE)},MAX:{value:new Tt(nl,o0)}});IO.__EMPTY_NODE=ht.EMPTY_NODE;on.__childrenNodeConstructor=ht;Nq(o0);kq(o0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq=!0;function Xr(e,t=null){if(e===null)return ht.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),Ue(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const r=e;return new on(r,Xr(t))}if(!(e instanceof Array)&&Pq){const r=[];let n=!1;if(Cn(e,(o,c)=>{if(o.substring(0,1)!=="."){const u=Xr(c);u.isEmpty()||(n=n||!u.getPriority().isEmpty(),r.push(new Tt(o,u)))}}),r.length===0)return ht.EMPTY_NODE;const s=Bp(r,Tq,o=>o.name,e_);if(n){const o=Bp(r,br.getCompare());return new ht(s,Xr(t),new Li({".priority":o},{".priority":br}))}else return new ht(s,Xr(t),Li.Default)}else{let r=ht.EMPTY_NODE;return Cn(e,(n,a)=>{if(ii(e,n)&&n.substring(0,1)!=="."){const s=Xr(a);(s.isLeafNode()||!s.isEmpty())&&(r=r.updateImmediateChild(n,s))}}),r.updatePriority(Xr(t))}}Aq(Xr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_ extends qg{constructor(t){super(),this.indexPath_=t,Ue(!Ct(t)&&Rt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const n=this.extractChild(t.node),a=this.extractChild(r.node),s=n.compareTo(a);return s===0?kc(t.name,r.name):s}makePost(t,r){const n=Xr(t),a=ht.EMPTY_NODE.updateChild(this.indexPath_,n);return new Tt(r,a)}maxPost(){const t=ht.EMPTY_NODE.updateChild(this.indexPath_,o0);return new Tt(nl,t)}toString(){return Ch(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq extends qg{compare(t,r){const n=t.node.compareTo(r.node);return n===0?kc(t.name,r.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return Tt.MIN}maxPost(){return Tt.MAX}makePost(t,r){const n=Xr(t);return new Tt(r,n)}toString(){return".value"}}const jO=new Mq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(e){return{type:"value",snapshotNode:e}}function Xu(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Th(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Nh(e,t,r){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:r}}function Fq(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(t){this.index_=t}updateChild(t,r,n,a,s,o){Ue(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=t.getImmediateChild(r);return c.getChild(a).equals(n.getChild(a))&&c.isEmpty()===n.isEmpty()||(o!=null&&(n.isEmpty()?t.hasChild(r)?o.trackChildChange(Th(r,c)):Ue(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(Xu(r,n)):o.trackChildChange(Nh(r,n,c))),t.isLeafNode()&&n.isEmpty())?t:t.updateImmediateChild(r,n).withIndex(this.index_)}updateFullNode(t,r,n){return n!=null&&(t.isLeafNode()||t.forEachChild(br,(a,s)=>{r.hasChild(a)||n.trackChildChange(Th(a,s))}),r.isLeafNode()||r.forEachChild(br,(a,s)=>{if(t.hasChild(a)){const o=t.getImmediateChild(a);o.equals(s)||n.trackChildChange(Nh(a,s,o))}else n.trackChildChange(Xu(a,s))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?ht.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t){this.indexedFilter_=new r_(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ah.getStartPost_(t),this.endPost_=Ah.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,n=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&n}updateChild(t,r,n,a,s,o){return this.matches(new Tt(r,n))||(n=ht.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,n,a,s,o)}updateFullNode(t,r,n){r.isLeafNode()&&(r=ht.EMPTY_NODE);let a=r.withIndex(this.index_);a=a.updatePriority(ht.EMPTY_NODE);const s=this;return r.forEachChild(br,(o,c)=>{s.matches(new Tt(o,c))||(a=a.updateImmediateChild(o,ht.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,n)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=r=>{const n=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new Ah(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,n,a,s,o){return this.rangedFilter_.matches(new Tt(r,n))||(n=ht.EMPTY_NODE),t.getImmediateChild(r).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,n,a,s,o):this.fullLimitUpdateChild_(t,r,n,s,o)}updateFullNode(t,r,n){let a;if(r.isLeafNode()||r.isEmpty())a=ht.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){a=ht.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))a=a.updateImmediateChild(c.name,c.node),o++;else break;else continue}}else{a=r.withIndex(this.index_),a=a.updatePriority(ht.EMPTY_NODE);let s;this.reverse_?s=a.getReverseIterator(this.index_):s=a.getIterator(this.index_);let o=0;for(;s.hasNext();){const c=s.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:a=a.updateImmediateChild(c.name,ht.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,n)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,n,a,s){let o;if(this.reverse_){const g=this.index_.getCompare();o=(v,x)=>g(x,v)}else o=this.index_.getCompare();const c=t;Ue(c.numChildren()===this.limit_,"");const u=new Tt(r,n),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),m=this.rangedFilter_.matches(u);if(c.hasChild(r)){const g=c.getImmediateChild(r);let v=a.getChildAfterChild(this.index_,f,this.reverse_);for(;v!=null&&(v.name===r||c.hasChild(v.name));)v=a.getChildAfterChild(this.index_,v,this.reverse_);const x=v==null?1:o(v,u);if(m&&!n.isEmpty()&&x>=0)return s!=null&&s.trackChildChange(Nh(r,n,g)),c.updateImmediateChild(r,n);{s!=null&&s.trackChildChange(Th(r,g));const w=c.updateImmediateChild(r,ht.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(s!=null&&s.trackChildChange(Xu(v.name,v.node)),w.updateImmediateChild(v.name,v.node)):w}}else return n.isEmpty()?t:m&&o(f,u)>=0?(s!=null&&(s.trackChildChange(Th(f.name,f.node)),s.trackChildChange(Xu(r,n))),c.updateImmediateChild(r,n).updateImmediateChild(f.name,ht.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=br}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ue(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ue(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xc}hasEnd(){return this.endSet_}getIndexEndValue(){return Ue(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ue(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ue(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===br}copy(){const t=new n_;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Lq(e){return e.loadsAllData()?new r_(e.getIndex()):e.hasLimit()?new jq(e):new Ah(e)}function Bq(e,t,r){const n=e.copy();return n.startSet_=!0,t===void 0&&(t=null),n.indexStartValue_=t,r!=null?(n.startNameSet_=!0,n.indexStartName_=r):(n.startNameSet_=!1,n.indexStartName_=""),n}function Uq(e,t,r){const n=e.copy();return n.endSet_=!0,t===void 0&&(t=null),n.indexEndValue_=t,r!==void 0?(n.endNameSet_=!0,n.indexEndName_=r):(n.endNameSet_=!1,n.indexEndName_=""),n}function Vq(e,t){const r=e.copy();return r.index_=t,r}function lA(e){const t={};if(e.isDefault())return t;let r;if(e.index_===br?r="$priority":e.index_===jO?r="$value":e.index_===dc?r="$key":(Ue(e.index_ instanceof t_,"Unrecognized index type!"),r=e.index_.toString()),t.orderBy=Kr(r),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Kr(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Kr(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Kr(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Kr(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function cA(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let r=e.viewFrom_;r===""&&(e.isViewFromLeft()?r="l":r="r"),t.vf=r}return e.index_!==br&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends NO{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(Ue(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,n,a){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=n,this.appCheckTokenProvider_=a,this.log_=i0("p:rest:"),this.listens_={}}listen(t,r,n,a){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=Up.getListenId_(t,n),c={};this.listens_[o]=c;const u=lA(t._queryParams);this.restRequest_(s+".json",u,(f,m)=>{let g=m;if(f===404&&(g=null,f=null),f===null&&this.onDataUpdate_(s,g,!1,n),qu(this.listens_,o)===c){let v;f?f===401?v="permission_denied":v="rest_error:"+f:v="ok",a(v,null)}})}unlisten(t,r){const n=Up.getListenId_(t,r);delete this.listens_[n]}get(t){const r=lA(t._queryParams),n=t._path.toString(),a=new Jh;return this.restRequest_(n+".json",r,(s,o)=>{let c=o;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(n,c,!1,null),a.resolve(c)):a.reject(new Error(c))}),a.promise}refreshAuthToken(t){}restRequest_(t,r={},n){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,s])=>{a&&a.accessToken&&(r.auth=a.accessToken),s&&s.token&&(r.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+fd(r);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(n&&c.readyState===4){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=bh(c.responseText)}catch{qn("Failed to parse JSON response for "+o+": "+c.responseText)}n(null,u)}else c.status!==401&&c.status!==404&&qn("Got unsuccessful REST response for "+o+" Status: "+c.status),n(c.status);n=null}},c.open("GET",o,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(){this.rootNode_=ht.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(){return{value:null,children:new Map}}function BO(e,t,r){if(Ct(t))e.value=r,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,r);else{const n=Rt(t);e.children.has(n)||e.children.set(n,Vp());const a=e.children.get(n);t=or(t),BO(a,t,r)}}function gb(e,t,r){e.value!==null?r(t,e.value):$q(e,(n,a)=>{const s=new Kt(t.toString()+"/"+n);gb(a,s,r)})}function $q(e,t){e.children.forEach((r,n)=>{t(n,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&Cn(this.last_,(n,a)=>{r[n]=r[n]-a}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=10*1e3,Wq=30*1e3,qq=5*60*1e3;class Gq{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new zq(t);const n=uA+(Wq-uA)*Math.random();Jf(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),r={};let n=!1;Cn(t,(a,s)=>{s>0&&ii(this.statsToReport_,a)&&(r[a]=s,n=!0)}),n&&this.server_.reportStats(r),Jf(this.reportStats_.bind(this),Math.floor(Math.random()*2*qq))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vs;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(vs||(vs={}));function a_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function s_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function i_(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(t,r,n){this.path=t,this.affectedTree=r,this.revert=n,this.type=vs.ACK_USER_WRITE,this.source=a_()}operationForChild(t){if(Ct(this.path)){if(this.affectedTree.value!=null)return Ue(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new Kt(t));return new Hp(Vt(),r,this.revert)}}else return Ue(Rt(this.path)===t,"operationForChild called for unrelated child."),new Hp(or(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(t,r){this.source=t,this.path=r,this.type=vs.LISTEN_COMPLETE}operationForChild(t){return Ct(this.path)?new kh(this.source,Vt()):new kh(this.source,or(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,r,n){this.source=t,this.path=r,this.snap=n,this.type=vs.OVERWRITE}operationForChild(t){return Ct(this.path)?new yc(this.source,Vt(),this.snap.getImmediateChild(t)):new yc(this.source,or(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(t,r,n){this.source=t,this.path=r,this.children=n,this.type=vs.MERGE}operationForChild(t){if(Ct(this.path)){const r=this.children.subtree(new Kt(t));return r.isEmpty()?null:r.value?new yc(this.source,Vt(),r.value):new Ku(this.source,Vt(),r)}else return Ue(Rt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ku(this.source,or(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t,r,n){this.node_=t,this.fullyInitialized_=r,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Ct(t))return this.isFullyInitialized()&&!this.filtered_;const r=Rt(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Xq(e,t,r,n){const a=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Fq(o.childName,o.snapshotNode))}),If(e,a,"child_removed",t,n,r),If(e,a,"child_added",t,n,r),If(e,a,"child_moved",s,n,r),If(e,a,"child_changed",t,n,r),If(e,a,"value",t,n,r),a}function If(e,t,r,n,a,s){const o=n.filter(c=>c.type===r);o.sort((c,u)=>Qq(e,c,u)),o.forEach(c=>{const u=Kq(e,c,s);a.forEach(f=>{f.respondsTo(c.type)&&t.push(f.createEvent(u,e.query_))})})}function Kq(e,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function Qq(e,t,r){if(t.childName==null||r.childName==null)throw dd("Should only compare child_ events.");const n=new Tt(t.childName,t.snapshotNode),a=new Tt(r.childName,r.snapshotNode);return e.index_.compare(n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(e,t){return{eventCache:e,serverCache:t}}function eh(e,t,r,n){return Gg(new sl(t,r,n),e.serverCache)}function UO(e,t,r,n){return Gg(e.eventCache,new sl(t,r,n))}function $p(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function bc(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l1;const Zq=()=>(l1||(l1=new la(MW)),l1);class ir{static fromObject(t){let r=new ir(null);return Cn(t,(n,a)=>{r=r.set(new Kt(n),a)}),r}constructor(t,r=Zq()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:Vt(),value:this.value};if(Ct(t))return null;{const n=Rt(t),a=this.children.get(n);if(a!==null){const s=a.findRootMostMatchingPathAndValue(or(t),r);return s!=null?{path:Ar(new Kt(n),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Ct(t))return this;{const r=Rt(t),n=this.children.get(r);return n!==null?n.subtree(or(t)):new ir(null)}}set(t,r){if(Ct(t))return new ir(r,this.children);{const n=Rt(t),s=(this.children.get(n)||new ir(null)).set(or(t),r),o=this.children.insert(n,s);return new ir(this.value,o)}}remove(t){if(Ct(t))return this.children.isEmpty()?new ir(null):new ir(null,this.children);{const r=Rt(t),n=this.children.get(r);if(n){const a=n.remove(or(t));let s;return a.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,a),this.value===null&&s.isEmpty()?new ir(null):new ir(this.value,s)}else return this}}get(t){if(Ct(t))return this.value;{const r=Rt(t),n=this.children.get(r);return n?n.get(or(t)):null}}setTree(t,r){if(Ct(t))return r;{const n=Rt(t),s=(this.children.get(n)||new ir(null)).setTree(or(t),r);let o;return s.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,s),new ir(this.value,o)}}fold(t){return this.fold_(Vt(),t)}fold_(t,r){const n={};return this.children.inorderTraversal((a,s)=>{n[a]=s.fold_(Ar(t,a),r)}),r(t,this.value,n)}findOnPath(t,r){return this.findOnPath_(t,Vt(),r)}findOnPath_(t,r,n){const a=this.value?n(r,this.value):!1;if(a)return a;if(Ct(t))return null;{const s=Rt(t),o=this.children.get(s);return o?o.findOnPath_(or(t),Ar(r,s),n):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,Vt(),r)}foreachOnPath_(t,r,n){if(Ct(t))return this;{this.value&&n(r,this.value);const a=Rt(t),s=this.children.get(a);return s?s.foreachOnPath_(or(t),Ar(r,a),n):new ir(null)}}foreach(t){this.foreach_(Vt(),t)}foreach_(t,r){this.children.inorderTraversal((n,a)=>{a.foreach_(Ar(t,n),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,n)=>{n.value&&t(r,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t){this.writeTree_=t}static empty(){return new ws(new ir(null))}}function th(e,t,r){if(Ct(t))return new ws(new ir(r));{const n=e.writeTree_.findRootMostValueAndPath(t);if(n!=null){const a=n.path;let s=n.value;const o=zn(a,t);return s=s.updateChild(o,r),new ws(e.writeTree_.set(a,s))}else{const a=new ir(r),s=e.writeTree_.setTree(t,a);return new ws(s)}}}function vb(e,t,r){let n=e;return Cn(r,(a,s)=>{n=th(n,Ar(t,a),s)}),n}function dA(e,t){if(Ct(t))return ws.empty();{const r=e.writeTree_.setTree(t,new ir(null));return new ws(r)}}function xb(e,t){return Rc(e,t)!=null}function Rc(e,t){const r=e.writeTree_.findRootMostValueAndPath(t);return r!=null?e.writeTree_.get(r.path).getChild(zn(r.path,t)):null}function fA(e){const t=[],r=e.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(br,(n,a)=>{t.push(new Tt(n,a))}):e.writeTree_.children.inorderTraversal((n,a)=>{a.value!=null&&t.push(new Tt(n,a.value))}),t}function Qo(e,t){if(Ct(t))return e;{const r=Rc(e,t);return r!=null?new ws(new ir(r)):new ws(e.writeTree_.subtree(t))}}function yb(e){return e.writeTree_.isEmpty()}function Qu(e,t){return VO(Vt(),e.writeTree_,t)}function VO(e,t,r){if(t.value!=null)return r.updateChild(e,t.value);{let n=null;return t.children.inorderTraversal((a,s)=>{a===".priority"?(Ue(s.value!==null,"Priority writes must always be leaf nodes"),n=s.value):r=VO(Ar(e,a),s,r)}),!r.getChild(e).isEmpty()&&n!==null&&(r=r.updateChild(Ar(e,".priority"),n)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(e,t){return WO(t,e)}function Jq(e,t,r,n,a){Ue(n>e.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),e.allWrites.push({path:t,snap:r,writeId:n,visible:a}),a&&(e.visibleWrites=th(e.visibleWrites,t,r)),e.lastWriteId=n}function eG(e,t,r,n){Ue(n>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:r,writeId:n,visible:!0}),e.visibleWrites=vb(e.visibleWrites,t,r),e.lastWriteId=n}function tG(e,t){for(let r=0;r<e.allWrites.length;r++){const n=e.allWrites[r];if(n.writeId===t)return n}return null}function rG(e,t){const r=e.allWrites.findIndex(c=>c.writeId===t);Ue(r>=0,"removeWrite called with nonexistent writeId.");const n=e.allWrites[r];e.allWrites.splice(r,1);let a=n.visible,s=!1,o=e.allWrites.length-1;for(;a&&o>=0;){const c=e.allWrites[o];c.visible&&(o>=r&&nG(c,n.path)?a=!1:Qa(n.path,c.path)&&(s=!0)),o--}if(a){if(s)return aG(e),!0;if(n.snap)e.visibleWrites=dA(e.visibleWrites,n.path);else{const c=n.children;Cn(c,u=>{e.visibleWrites=dA(e.visibleWrites,Ar(n.path,u))})}return!0}else return!1}function nG(e,t){if(e.snap)return Qa(e.path,t);for(const r in e.children)if(e.children.hasOwnProperty(r)&&Qa(Ar(e.path,r),t))return!0;return!1}function aG(e){e.visibleWrites=HO(e.allWrites,sG,Vt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function sG(e){return e.visible}function HO(e,t,r){let n=ws.empty();for(let a=0;a<e.length;++a){const s=e[a];if(t(s)){const o=s.path;let c;if(s.snap)Qa(r,o)?(c=zn(r,o),n=th(n,c,s.snap)):Qa(o,r)&&(c=zn(o,r),n=th(n,Vt(),s.snap.getChild(c)));else if(s.children){if(Qa(r,o))c=zn(r,o),n=vb(n,c,s.children);else if(Qa(o,r))if(c=zn(o,r),Ct(c))n=vb(n,Vt(),s.children);else{const u=qu(s.children,Rt(c));if(u){const f=u.getChild(or(c));n=th(n,Vt(),f)}}}else throw dd("WriteRecord should have .snap or .children")}}return n}function $O(e,t,r,n,a){if(!n&&!a){const s=Rc(e.visibleWrites,t);if(s!=null)return s;{const o=Qo(e.visibleWrites,t);if(yb(o))return r;if(r==null&&!xb(o,Vt()))return null;{const c=r||ht.EMPTY_NODE;return Qu(o,c)}}}else{const s=Qo(e.visibleWrites,t);if(!a&&yb(s))return r;if(!a&&r==null&&!xb(s,Vt()))return null;{const o=function(f){return(f.visible||a)&&(!n||!~n.indexOf(f.writeId))&&(Qa(f.path,t)||Qa(t,f.path))},c=HO(e.allWrites,o,t),u=r||ht.EMPTY_NODE;return Qu(c,u)}}}function iG(e,t,r){let n=ht.EMPTY_NODE;const a=Rc(e.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(br,(s,o)=>{n=n.updateImmediateChild(s,o)}),n;if(r){const s=Qo(e.visibleWrites,t);return r.forEachChild(br,(o,c)=>{const u=Qu(Qo(s,new Kt(o)),c);n=n.updateImmediateChild(o,u)}),fA(s).forEach(o=>{n=n.updateImmediateChild(o.name,o.node)}),n}else{const s=Qo(e.visibleWrites,t);return fA(s).forEach(o=>{n=n.updateImmediateChild(o.name,o.node)}),n}}function oG(e,t,r,n,a){Ue(n||a,"Either existingEventSnap or existingServerSnap must exist");const s=Ar(t,r);if(xb(e.visibleWrites,s))return null;{const o=Qo(e.visibleWrites,s);return yb(o)?a.getChild(r):Qu(o,a.getChild(r))}}function lG(e,t,r,n){const a=Ar(t,r),s=Rc(e.visibleWrites,a);if(s!=null)return s;if(n.isCompleteForChild(r)){const o=Qo(e.visibleWrites,a);return Qu(o,n.getNode().getImmediateChild(r))}else return null}function cG(e,t){return Rc(e.visibleWrites,t)}function uG(e,t,r,n,a,s,o){let c;const u=Qo(e.visibleWrites,t),f=Rc(u,Vt());if(f!=null)c=f;else if(r!=null)c=Qu(u,r);else return[];if(c=c.withIndex(o),!c.isEmpty()&&!c.isLeafNode()){const m=[],g=o.getCompare(),v=s?c.getReverseIteratorFrom(n,o):c.getIteratorFrom(n,o);let x=v.getNext();for(;x&&m.length<a;)g(x,n)!==0&&m.push(x),x=v.getNext();return m}else return[]}function dG(){return{visibleWrites:ws.empty(),allWrites:[],lastWriteId:-1}}function zp(e,t,r,n){return $O(e.writeTree,e.treePath,t,r,n)}function o_(e,t){return iG(e.writeTree,e.treePath,t)}function hA(e,t,r,n){return oG(e.writeTree,e.treePath,t,r,n)}function Wp(e,t){return cG(e.writeTree,Ar(e.treePath,t))}function fG(e,t,r,n,a,s){return uG(e.writeTree,e.treePath,t,r,n,a,s)}function l_(e,t,r){return lG(e.writeTree,e.treePath,t,r)}function zO(e,t){return WO(Ar(e.treePath,t),e.writeTree)}function WO(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,n=t.childName;Ue(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),Ue(n!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(n);if(a){const s=a.type;if(r==="child_added"&&s==="child_removed")this.changeMap.set(n,Nh(n,t.snapshotNode,a.snapshotNode));else if(r==="child_removed"&&s==="child_added")this.changeMap.delete(n);else if(r==="child_removed"&&s==="child_changed")this.changeMap.set(n,Th(n,a.oldSnap));else if(r==="child_changed"&&s==="child_added")this.changeMap.set(n,Xu(n,t.snapshotNode));else if(r==="child_changed"&&s==="child_changed")this.changeMap.set(n,Nh(n,t.snapshotNode,a.oldSnap));else throw dd("Illegal combination of changes: "+t+" occurred after "+a)}else this.changeMap.set(n,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{getCompleteChild(t){return null}getChildAfterChild(t,r,n){return null}}const qO=new mG;class c_{constructor(t,r,n=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=n}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const n=this.optCompleteServerCache_!=null?new sl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return l_(this.writes_,t,n)}}getChildAfterChild(t,r,n){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:bc(this.viewCache_),s=fG(this.writes_,a,r,1,n,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pG(e){return{filter:e}}function gG(e,t){Ue(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),Ue(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function vG(e,t,r,n,a){const s=new hG;let o,c;if(r.type===vs.OVERWRITE){const f=r;f.source.fromUser?o=bb(e,t,f.path,f.snap,n,a,s):(Ue(f.source.fromServer,"Unknown source."),c=f.source.tagged||t.serverCache.isFiltered()&&!Ct(f.path),o=qp(e,t,f.path,f.snap,n,a,c,s))}else if(r.type===vs.MERGE){const f=r;f.source.fromUser?o=yG(e,t,f.path,f.children,n,a,s):(Ue(f.source.fromServer,"Unknown source."),c=f.source.tagged||t.serverCache.isFiltered(),o=wb(e,t,f.path,f.children,n,a,c,s))}else if(r.type===vs.ACK_USER_WRITE){const f=r;f.revert?o=_G(e,t,f.path,n,a,s):o=bG(e,t,f.path,f.affectedTree,n,a,s)}else if(r.type===vs.LISTEN_COMPLETE)o=wG(e,t,r.path,n,s);else throw dd("Unknown operation type: "+r.type);const u=s.getChanges();return xG(t,o,u),{viewCache:o,changes:u}}function xG(e,t,r){const n=t.eventCache;if(n.isFullyInitialized()){const a=n.getNode().isLeafNode()||n.getNode().isEmpty(),s=$p(e);(r.length>0||!e.eventCache.isFullyInitialized()||a&&!n.getNode().equals(s)||!n.getNode().getPriority().equals(s.getPriority()))&&r.push(LO($p(t)))}}function GO(e,t,r,n,a,s){const o=t.eventCache;if(Wp(n,r)!=null)return t;{let c,u;if(Ct(r))if(Ue(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const f=bc(t),m=f instanceof ht?f:ht.EMPTY_NODE,g=o_(n,m);c=e.filter.updateFullNode(t.eventCache.getNode(),g,s)}else{const f=zp(n,bc(t));c=e.filter.updateFullNode(t.eventCache.getNode(),f,s)}else{const f=Rt(r);if(f===".priority"){Ue(al(r)===1,"Can't have a priority with additional path components");const m=o.getNode();u=t.serverCache.getNode();const g=hA(n,r,m,u);g!=null?c=e.filter.updatePriority(m,g):c=o.getNode()}else{const m=or(r);let g;if(o.isCompleteForChild(f)){u=t.serverCache.getNode();const v=hA(n,r,o.getNode(),u);v!=null?g=o.getNode().getImmediateChild(f).updateChild(m,v):g=o.getNode().getImmediateChild(f)}else g=l_(n,f,t.serverCache);g!=null?c=e.filter.updateChild(o.getNode(),f,g,m,a,s):c=o.getNode()}}return eh(t,c,o.isFullyInitialized()||Ct(r),e.filter.filtersNodes())}}function qp(e,t,r,n,a,s,o,c){const u=t.serverCache;let f;const m=o?e.filter:e.filter.getIndexedFilter();if(Ct(r))f=m.updateFullNode(u.getNode(),n,null);else if(m.filtersNodes()&&!u.isFiltered()){const x=u.getNode().updateChild(r,n);f=m.updateFullNode(u.getNode(),x,null)}else{const x=Rt(r);if(!u.isCompleteForPath(r)&&al(r)>1)return t;const y=or(r),b=u.getNode().getImmediateChild(x).updateChild(y,n);x===".priority"?f=m.updatePriority(u.getNode(),b):f=m.updateChild(u.getNode(),x,b,y,qO,null)}const g=UO(t,f,u.isFullyInitialized()||Ct(r),m.filtersNodes()),v=new c_(a,g,s);return GO(e,g,r,a,v,c)}function bb(e,t,r,n,a,s,o){const c=t.eventCache;let u,f;const m=new c_(a,t,s);if(Ct(r))f=e.filter.updateFullNode(t.eventCache.getNode(),n,o),u=eh(t,f,!0,e.filter.filtersNodes());else{const g=Rt(r);if(g===".priority")f=e.filter.updatePriority(t.eventCache.getNode(),n),u=eh(t,f,c.isFullyInitialized(),c.isFiltered());else{const v=or(r),x=c.getNode().getImmediateChild(g);let y;if(Ct(v))y=n;else{const w=m.getCompleteChild(g);w!=null?Zw(v)===".priority"&&w.getChild(kO(v)).isEmpty()?y=w:y=w.updateChild(v,n):y=ht.EMPTY_NODE}if(x.equals(y))u=t;else{const w=e.filter.updateChild(c.getNode(),g,y,v,m,o);u=eh(t,w,c.isFullyInitialized(),e.filter.filtersNodes())}}}return u}function mA(e,t){return e.eventCache.isCompleteForChild(t)}function yG(e,t,r,n,a,s,o){let c=t;return n.foreach((u,f)=>{const m=Ar(r,u);mA(t,Rt(m))&&(c=bb(e,c,m,f,a,s,o))}),n.foreach((u,f)=>{const m=Ar(r,u);mA(t,Rt(m))||(c=bb(e,c,m,f,a,s,o))}),c}function pA(e,t,r){return r.foreach((n,a)=>{t=t.updateChild(n,a)}),t}function wb(e,t,r,n,a,s,o,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u=t,f;Ct(r)?f=n:f=new ir(null).setTree(r,n);const m=t.serverCache.getNode();return f.children.inorderTraversal((g,v)=>{if(m.hasChild(g)){const x=t.serverCache.getNode().getImmediateChild(g),y=pA(e,x,v);u=qp(e,u,new Kt(g),y,a,s,o,c)}}),f.children.inorderTraversal((g,v)=>{const x=!t.serverCache.isCompleteForChild(g)&&v.value===null;if(!m.hasChild(g)&&!x){const y=t.serverCache.getNode().getImmediateChild(g),w=pA(e,y,v);u=qp(e,u,new Kt(g),w,a,s,o,c)}}),u}function bG(e,t,r,n,a,s,o){if(Wp(a,r)!=null)return t;const c=t.serverCache.isFiltered(),u=t.serverCache;if(n.value!=null){if(Ct(r)&&u.isFullyInitialized()||u.isCompleteForPath(r))return qp(e,t,r,u.getNode().getChild(r),a,s,c,o);if(Ct(r)){let f=new ir(null);return u.getNode().forEachChild(dc,(m,g)=>{f=f.set(new Kt(m),g)}),wb(e,t,r,f,a,s,c,o)}else return t}else{let f=new ir(null);return n.foreach((m,g)=>{const v=Ar(r,m);u.isCompleteForPath(v)&&(f=f.set(m,u.getNode().getChild(v)))}),wb(e,t,r,f,a,s,c,o)}}function wG(e,t,r,n,a){const s=t.serverCache,o=UO(t,s.getNode(),s.isFullyInitialized()||Ct(r),s.isFiltered());return GO(e,o,r,n,qO,a)}function _G(e,t,r,n,a,s){let o;if(Wp(n,r)!=null)return t;{const c=new c_(n,t,a),u=t.eventCache.getNode();let f;if(Ct(r)||Rt(r)===".priority"){let m;if(t.serverCache.isFullyInitialized())m=zp(n,bc(t));else{const g=t.serverCache.getNode();Ue(g instanceof ht,"serverChildren would be complete if leaf node"),m=o_(n,g)}m=m,f=e.filter.updateFullNode(u,m,s)}else{const m=Rt(r);let g=l_(n,m,t.serverCache);g==null&&t.serverCache.isCompleteForChild(m)&&(g=u.getImmediateChild(m)),g!=null?f=e.filter.updateChild(u,m,g,or(r),c,s):t.eventCache.getNode().hasChild(m)?f=e.filter.updateChild(u,m,ht.EMPTY_NODE,or(r),c,s):f=u,f.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=zp(n,bc(t)),o.isLeafNode()&&(f=e.filter.updateFullNode(f,o,s)))}return o=t.serverCache.isFullyInitialized()||Wp(n,Vt())!=null,eh(t,f,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const n=this.query_._queryParams,a=new r_(n.getIndex()),s=Lq(n);this.processor_=pG(s);const o=r.serverCache,c=r.eventCache,u=a.updateFullNode(ht.EMPTY_NODE,o.getNode(),null),f=s.updateFullNode(ht.EMPTY_NODE,c.getNode(),null),m=new sl(u,o.isFullyInitialized(),a.filtersNodes()),g=new sl(f,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=Gg(g,m),this.eventGenerator_=new Yq(this.query_)}get query(){return this.query_}}function SG(e){return e.viewCache_.serverCache.getNode()}function CG(e){return $p(e.viewCache_)}function TG(e,t){const r=bc(e.viewCache_);return r&&(e.query._queryParams.loadsAllData()||!Ct(t)&&!r.getImmediateChild(Rt(t)).isEmpty())?r.getChild(t):null}function gA(e){return e.eventRegistrations_.length===0}function NG(e,t){e.eventRegistrations_.push(t)}function vA(e,t,r){const n=[];if(r){Ue(t==null,"A cancel should cancel all event registrations.");const a=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(r,a);o&&n.push(o)})}if(t){let a=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))a.push(o);else if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=a}else e.eventRegistrations_=[];return n}function xA(e,t,r,n){t.type===vs.MERGE&&t.source.queryId!==null&&(Ue(bc(e.viewCache_),"We should always have a full cache before handling merges"),Ue($p(e.viewCache_),"Missing event cache, even though we have a server cache"));const a=e.viewCache_,s=vG(e.processor_,a,t,r,n);return gG(e.processor_,s.viewCache),Ue(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,YO(e,s.changes,s.viewCache.eventCache.getNode(),null)}function AG(e,t){const r=e.viewCache_.eventCache,n=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(br,(s,o)=>{n.push(Xu(s,o))}),r.isFullyInitialized()&&n.push(LO(r.getNode())),YO(e,n,r.getNode(),t)}function YO(e,t,r,n){const a=n?[n]:e.eventRegistrations_;return Xq(e.eventGenerator_,t,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gp;class XO{constructor(){this.views=new Map}}function kG(e){Ue(!Gp,"__referenceConstructor has already been defined"),Gp=e}function RG(){return Ue(Gp,"Reference.ts has not been loaded"),Gp}function DG(e){return e.views.size===0}function u_(e,t,r,n){const a=t.source.queryId;if(a!==null){const s=e.views.get(a);return Ue(s!=null,"SyncTree gave us an op for an invalid query."),xA(s,t,r,n)}else{let s=[];for(const o of e.views.values())s=s.concat(xA(o,t,r,n));return s}}function KO(e,t,r,n,a){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let c=zp(r,a?n:null),u=!1;c?u=!0:n instanceof ht?(c=o_(r,n),u=!1):(c=ht.EMPTY_NODE,u=!1);const f=Gg(new sl(c,u,!1),new sl(n,a,!1));return new EG(t,f)}return o}function IG(e,t,r,n,a,s){const o=KO(e,t,n,a,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),NG(o,r),AG(o,r)}function OG(e,t,r,n){const a=t._queryIdentifier,s=[];let o=[];const c=il(e);if(a==="default")for(const[u,f]of e.views.entries())o=o.concat(vA(f,r,n)),gA(f)&&(e.views.delete(u),f.query._queryParams.loadsAllData()||s.push(f.query));else{const u=e.views.get(a);u&&(o=o.concat(vA(u,r,n)),gA(u)&&(e.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query)))}return c&&!il(e)&&s.push(new(RG())(t._repo,t._path)),{removed:s,events:o}}function QO(e){const t=[];for(const r of e.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function Zo(e,t){let r=null;for(const n of e.views.values())r=r||TG(n,t);return r}function ZO(e,t){if(t._queryParams.loadsAllData())return Xg(e);{const n=t._queryIdentifier;return e.views.get(n)}}function JO(e,t){return ZO(e,t)!=null}function il(e){return Xg(e)!=null}function Xg(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp;function PG(e){Ue(!Yp,"__referenceConstructor has already been defined"),Yp=e}function MG(){return Ue(Yp,"Reference.ts has not been loaded"),Yp}let FG=1;class yA{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ir(null),this.pendingWriteTree_=dG(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function e4(e,t,r,n,a){return Jq(e.pendingWriteTree_,t,r,n,a),a?vd(e,new yc(a_(),t,r)):[]}function jG(e,t,r,n){eG(e.pendingWriteTree_,t,r,n);const a=ir.fromObject(r);return vd(e,new Ku(a_(),t,a))}function $o(e,t,r=!1){const n=tG(e.pendingWriteTree_,t);if(rG(e.pendingWriteTree_,t)){let s=new ir(null);return n.snap!=null?s=s.set(Vt(),!0):Cn(n.children,o=>{s=s.set(new Kt(o),!0)}),vd(e,new Hp(n.path,s,r))}else return[]}function l0(e,t,r){return vd(e,new yc(s_(),t,r))}function LG(e,t,r){const n=ir.fromObject(r);return vd(e,new Ku(s_(),t,n))}function BG(e,t){return vd(e,new kh(s_(),t))}function UG(e,t,r){const n=f_(e,r);if(n){const a=h_(n),s=a.path,o=a.queryId,c=zn(s,t),u=new kh(i_(o),c);return m_(e,s,u)}else return[]}function t4(e,t,r,n,a=!1){const s=t._path,o=e.syncPointTree_.get(s);let c=[];if(o&&(t._queryIdentifier==="default"||JO(o,t))){const u=OG(o,t,r,n);DG(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const f=u.removed;if(c=u.events,!a){const m=f.findIndex(v=>v._queryParams.loadsAllData())!==-1,g=e.syncPointTree_.findOnPath(s,(v,x)=>il(x));if(m&&!g){const v=e.syncPointTree_.subtree(s);if(!v.isEmpty()){const x=zG(v);for(let y=0;y<x.length;++y){const w=x[y],b=w.query,S=s4(e,w);e.listenProvider_.startListening(rh(b),Rh(e,b),S.hashFn,S.onComplete)}}}!g&&f.length>0&&!n&&(m?e.listenProvider_.stopListening(rh(t),null):f.forEach(v=>{const x=e.queryToTagMap.get(Kg(v));e.listenProvider_.stopListening(rh(v),x)}))}WG(e,f)}return c}function r4(e,t,r,n){const a=f_(e,n);if(a!=null){const s=h_(a),o=s.path,c=s.queryId,u=zn(o,t),f=new yc(i_(c),u,r);return m_(e,o,f)}else return[]}function VG(e,t,r,n){const a=f_(e,n);if(a){const s=h_(a),o=s.path,c=s.queryId,u=zn(o,t),f=ir.fromObject(r),m=new Ku(i_(c),u,f);return m_(e,o,m)}else return[]}function HG(e,t,r,n=!1){const a=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(a,(v,x)=>{const y=zn(v,a);s=s||Zo(x,y),o=o||il(x)});let c=e.syncPointTree_.get(a);c?(o=o||il(c),s=s||Zo(c,Vt())):(c=new XO,e.syncPointTree_=e.syncPointTree_.set(a,c));let u;s!=null?u=!0:(u=!1,s=ht.EMPTY_NODE,e.syncPointTree_.subtree(a).foreachChild((x,y)=>{const w=Zo(y,Vt());w&&(s=s.updateImmediateChild(x,w))}));const f=JO(c,t);if(!f&&!t._queryParams.loadsAllData()){const v=Kg(t);Ue(!e.queryToTagMap.has(v),"View does not exist, but we have a tag");const x=qG();e.queryToTagMap.set(v,x),e.tagToQueryMap.set(x,v)}const m=Yg(e.pendingWriteTree_,a);let g=IG(c,t,r,m,s,u);if(!f&&!o&&!n){const v=ZO(c,t);g=g.concat(GG(e,t,v))}return g}function d_(e,t,r){const a=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,c)=>{const u=zn(o,t),f=Zo(c,u);if(f)return f});return $O(a,t,s,r,!0)}function $G(e,t){const r=t._path;let n=null;e.syncPointTree_.foreachOnPath(r,(f,m)=>{const g=zn(f,r);n=n||Zo(m,g)});let a=e.syncPointTree_.get(r);a?n=n||Zo(a,Vt()):(a=new XO,e.syncPointTree_=e.syncPointTree_.set(r,a));const s=n!=null,o=s?new sl(n,!0,!1):null,c=Yg(e.pendingWriteTree_,t._path),u=KO(a,t,c,s?o.getNode():ht.EMPTY_NODE,s);return CG(u)}function vd(e,t){return n4(t,e.syncPointTree_,null,Yg(e.pendingWriteTree_,Vt()))}function n4(e,t,r,n){if(Ct(e.path))return a4(e,t,r,n);{const a=t.get(Vt());r==null&&a!=null&&(r=Zo(a,Vt()));let s=[];const o=Rt(e.path),c=e.operationForChild(o),u=t.children.get(o);if(u&&c){const f=r?r.getImmediateChild(o):null,m=zO(n,o);s=s.concat(n4(c,u,f,m))}return a&&(s=s.concat(u_(a,e,n,r))),s}}function a4(e,t,r,n){const a=t.get(Vt());r==null&&a!=null&&(r=Zo(a,Vt()));let s=[];return t.children.inorderTraversal((o,c)=>{const u=r?r.getImmediateChild(o):null,f=zO(n,o),m=e.operationForChild(o);m&&(s=s.concat(a4(m,c,u,f)))}),a&&(s=s.concat(u_(a,e,n,r))),s}function s4(e,t){const r=t.query,n=Rh(e,r);return{hashFn:()=>(SG(t)||ht.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return n?UG(e,r._path,n):BG(e,r._path);{const s=LW(a,r);return t4(e,r,null,s)}}}}function Rh(e,t){const r=Kg(t);return e.queryToTagMap.get(r)}function Kg(e){return e._path.toString()+"$"+e._queryIdentifier}function f_(e,t){return e.tagToQueryMap.get(t)}function h_(e){const t=e.indexOf("$");return Ue(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Kt(e.substr(0,t))}}function m_(e,t,r){const n=e.syncPointTree_.get(t);Ue(n,"Missing sync point for query tag that we're tracking");const a=Yg(e.pendingWriteTree_,t);return u_(n,r,a,null)}function zG(e){return e.fold((t,r,n)=>{if(r&&il(r))return[Xg(r)];{let a=[];return r&&(a=QO(r)),Cn(n,(s,o)=>{a=a.concat(o)}),a}})}function rh(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(MG())(e._repo,e._path):e}function WG(e,t){for(let r=0;r<t.length;++r){const n=t[r];if(!n._queryParams.loadsAllData()){const a=Kg(n),s=e.queryToTagMap.get(a);e.queryToTagMap.delete(a),e.tagToQueryMap.delete(s)}}}function qG(){return FG++}function GG(e,t,r){const n=t._path,a=Rh(e,t),s=s4(e,r),o=e.listenProvider_.startListening(rh(t),a,s.hashFn,s.onComplete),c=e.syncPointTree_.subtree(n);if(a)Ue(!il(c.value),"If we're adding a query, it shouldn't be shadowed");else{const u=c.fold((f,m,g)=>{if(!Ct(f)&&m&&il(m))return[Xg(m).query];{let v=[];return m&&(v=v.concat(QO(m).map(x=>x.query))),Cn(g,(x,y)=>{v=v.concat(y)}),v}});for(let f=0;f<u.length;++f){const m=u[f];e.listenProvider_.stopListening(rh(m),Rh(e,m))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new p_(r)}node(){return this.node_}}class g_{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Ar(this.path_,t);return new g_(this.syncTree_,r)}node(){return d_(this.syncTree_,this.path_)}}const YG=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},bA=function(e,t,r){if(!e||typeof e!="object")return e;if(Ue(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return XG(e[".sv"],t,r);if(typeof e[".sv"]=="object")return KG(e[".sv"],t);Ue(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},XG=function(e,t,r){switch(e){case"timestamp":return r.timestamp;default:Ue(!1,"Unexpected server value: "+e)}},KG=function(e,t,r){e.hasOwnProperty("increment")||Ue(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const n=e.increment;typeof n!="number"&&Ue(!1,"Unexpected increment value: "+n);const a=t.node();if(Ue(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return n;const o=a.getValue();return typeof o!="number"?n:o+n},i4=function(e,t,r,n){return v_(t,new g_(r,e),n)},o4=function(e,t,r){return v_(e,new p_(t),r)};function v_(e,t,r){const n=e.getPriority().val(),a=bA(n,t.getImmediateChild(".priority"),r);let s;if(e.isLeafNode()){const o=e,c=bA(o.getValue(),t,r);return c!==o.getValue()||a!==o.getPriority().val()?new on(c,Xr(a)):e}else{const o=e;return s=o,a!==o.getPriority().val()&&(s=s.updatePriority(new on(a))),o.forEachChild(br,(c,u)=>{const f=v_(u,t.getImmediateChild(c),r);f!==u&&(s=s.updateImmediateChild(c,f))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(t="",r=null,n={children:{},childCount:0}){this.name=t,this.parent=r,this.node=n}}function y_(e,t){let r=t instanceof Kt?t:new Kt(t),n=e,a=Rt(r);for(;a!==null;){const s=qu(n.node.children,a)||{children:{},childCount:0};n=new x_(a,n,s),r=or(r),a=Rt(r)}return n}function xd(e){return e.node.value}function l4(e,t){e.node.value=t,_b(e)}function c4(e){return e.node.childCount>0}function QG(e){return xd(e)===void 0&&!c4(e)}function Qg(e,t){Cn(e.node.children,(r,n)=>{t(new x_(r,e,n))})}function u4(e,t,r,n){r&&t(e),Qg(e,a=>{u4(a,t,!0)})}function ZG(e,t,r){let n=e.parent;for(;n!==null;){if(t(n))return!0;n=n.parent}return!1}function c0(e){return new Kt(e.parent===null?e.name:c0(e.parent)+"/"+e.name)}function _b(e){e.parent!==null&&JG(e.parent,e.name,e)}function JG(e,t,r){const n=QG(r),a=ii(e.node.children,t);n&&a?(delete e.node.children[t],e.node.childCount--,_b(e)):!n&&!a&&(e.node.children[t]=r.node,e.node.childCount++,_b(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eY=/[\[\].#$\/\u0000-\u001F\u007F]/,tY=/[\[\].#$\u0000-\u001F\u007F]/,c1=10*1024*1024,b_=function(e){return typeof e=="string"&&e.length!==0&&!eY.test(e)},d4=function(e){return typeof e=="string"&&e.length!==0&&!tY.test(e)},rY=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),d4(e)},Eb=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Gw(e)||e&&typeof e=="object"&&ii(e,".sv")},u0=function(e,t,r,n){n&&t===void 0||Zg(Ug(e,"value"),t,r)},Zg=function(e,t,r){const n=r instanceof Kt?new xq(r,e):r;if(t===void 0)throw new Error(e+"contains undefined "+Xl(n));if(typeof t=="function")throw new Error(e+"contains a function "+Xl(n)+" with contents = "+t.toString());if(Gw(t))throw new Error(e+"contains "+t.toString()+" "+Xl(n));if(typeof t=="string"&&t.length>c1/3&&Vg(t)>c1)throw new Error(e+"contains a string greater than "+c1+" utf8 bytes "+Xl(n)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let a=!1,s=!1;if(Cn(t,(o,c)=>{if(o===".value")a=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!b_(o)))throw new Error(e+" contains an invalid key ("+o+") "+Xl(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);yq(n,o),Zg(e,c,n),bq(n)}),a&&s)throw new Error(e+' contains ".value" child '+Xl(n)+" in addition to actual children.")}},nY=function(e,t){let r,n;for(r=0;r<t.length;r++){n=t[r];const s=Ch(n);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!b_(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+n.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(vq);let a=null;for(r=0;r<t.length;r++){if(n=t[r],a!==null&&Qa(a,n))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+n.toString());a=n}},aY=function(e,t,r,n){const a=Ug(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const s=[];Cn(t,(o,c)=>{const u=new Kt(o);if(Zg(a,c,Ar(r,u)),Zw(u)===".priority"&&!Eb(c))throw new Error(a+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),nY(a,s)},w_=function(e,t,r,n){if(!d4(r))throw new Error(Ug(e,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},sY=function(e,t,r,n){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),w_(e,t,r)},__=function(e,t){if(Rt(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},iY=function(e,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!b_(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!rY(r))throw new Error(Ug(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oY{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function E_(e,t){let r=null;for(let n=0;n<t.length;n++){const a=t[n],s=a.getPath();r!==null&&!RO(s,r.path)&&(e.eventLists_.push(r),r=null),r===null&&(r={events:[],path:s}),r.events.push(a)}r&&e.eventLists_.push(r)}function es(e,t,r){E_(e,r),lY(e,n=>Qa(n,t)||Qa(t,n))}function lY(e,t){e.recursionDepth_++;let r=!0;for(let n=0;n<e.eventLists_.length;n++){const a=e.eventLists_[n];if(a){const s=a.path;t(s)?(cY(e.eventLists_[n]),e.eventLists_[n]=null):r=!1}}r&&(e.eventLists_=[]),e.recursionDepth_--}function cY(e){for(let t=0;t<e.events.length;t++){const r=e.events[t];if(r!==null){e.events[t]=null;const n=r.getEventRunner();Zf&&_n("event: "+r.toString()),gd(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uY="repo_interrupt",dY=25;class fY{constructor(t,r,n,a){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=n,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oY,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vp(),this.transactionQueueTree_=new x_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hY(e,t,r){if(e.stats_=Kw(e.repoInfo_),e.forceRestClient_||HW())e.server_=new Up(e.repoInfo_,(n,a,s,o)=>{wA(e,n,a,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>_A(e,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Kr(r)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}e.persistentConnection_=new Hi(e.repoInfo_,t,(n,a,s,o)=>{wA(e,n,a,s,o)},n=>{_A(e,n)},n=>{mY(e,n)},e.authTokenProvider_,e.appCheckProvider_,r),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(n=>{e.server_.refreshAuthToken(n)}),e.appCheckProvider_.addTokenChangeListener(n=>{e.server_.refreshAppCheckToken(n.token)}),e.statsReporter_=GW(e.repoInfo_,()=>new Gq(e.stats_,e.server_)),e.infoData_=new Hq,e.infoSyncTree_=new yA({startListening:(n,a,s,o)=>{let c=[];const u=e.infoData_.getNode(n._path);return u.isEmpty()||(c=l0(e.infoSyncTree_,n._path,u),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),S_(e,"connected",!1),e.serverSyncTree_=new yA({startListening:(n,a,s,o)=>(e.server_.listen(n,s,a,(c,u)=>{const f=o(c,u);es(e.eventQueue_,n._path,f)}),[]),stopListening:(n,a)=>{e.server_.unlisten(n,a)}})}function f4(e){const r=e.infoData_.getNode(new Kt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Jg(e){return YG({timestamp:f4(e)})}function wA(e,t,r,n,a){e.dataUpdateCount++;const s=new Kt(t);r=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,r):r;let o=[];if(a)if(n){const u=Rp(r,f=>Xr(f));o=VG(e.serverSyncTree_,s,u,a)}else{const u=Xr(r);o=r4(e.serverSyncTree_,s,u,a)}else if(n){const u=Rp(r,f=>Xr(f));o=LG(e.serverSyncTree_,s,u)}else{const u=Xr(r);o=l0(e.serverSyncTree_,s,u)}let c=s;o.length>0&&(c=Zu(e,s)),es(e.eventQueue_,c,o)}function _A(e,t){S_(e,"connected",t),t===!1&&xY(e)}function mY(e,t){Cn(t,(r,n)=>{S_(e,r,n)})}function S_(e,t,r){const n=new Kt("/.info/"+t),a=Xr(r);e.infoData_.updateSnapshot(n,a);const s=l0(e.infoSyncTree_,n,a);es(e.eventQueue_,n,s)}function C_(e){return e.nextWriteId_++}function pY(e,t,r){const n=$G(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(a=>{const s=Xr(a).withIndex(t._queryParams.getIndex());HG(e.serverSyncTree_,t,r,!0);let o;if(t._queryParams.loadsAllData())o=l0(e.serverSyncTree_,t._path,s);else{const c=Rh(e.serverSyncTree_,t);o=r4(e.serverSyncTree_,t._path,s,c)}return es(e.eventQueue_,t._path,o),t4(e.serverSyncTree_,t,r,null,!0),s},a=>(d0(e,"get for query "+Kr(t)+" failed: "+a),Promise.reject(new Error(a))))}function gY(e,t,r,n,a){d0(e,"set",{path:t.toString(),value:r,priority:n});const s=Jg(e),o=Xr(r,n),c=d_(e.serverSyncTree_,t),u=o4(o,c,s),f=C_(e),m=e4(e.serverSyncTree_,t,u,f,!0);E_(e.eventQueue_,m),e.server_.put(t.toString(),o.val(!0),(v,x)=>{const y=v==="ok";y||qn("set at "+t+" failed: "+v);const w=$o(e.serverSyncTree_,f,!y);es(e.eventQueue_,t,w),Sb(e,a,v,x)});const g=N_(e,t);Zu(e,g),es(e.eventQueue_,g,[])}function vY(e,t,r,n){d0(e,"update",{path:t.toString(),value:r});let a=!0;const s=Jg(e),o={};if(Cn(r,(c,u)=>{a=!1,o[c]=i4(Ar(t,c),Xr(u),e.serverSyncTree_,s)}),a)_n("update() called with empty data.  Don't do anything."),Sb(e,n,"ok",void 0);else{const c=C_(e),u=jG(e.serverSyncTree_,t,o,c);E_(e.eventQueue_,u),e.server_.merge(t.toString(),r,(f,m)=>{const g=f==="ok";g||qn("update at "+t+" failed: "+f);const v=$o(e.serverSyncTree_,c,!g),x=v.length>0?Zu(e,t):t;es(e.eventQueue_,x,v),Sb(e,n,f,m)}),Cn(r,f=>{const m=N_(e,Ar(t,f));Zu(e,m)}),es(e.eventQueue_,t,[])}}function xY(e){d0(e,"onDisconnectEvents");const t=Jg(e),r=Vp();gb(e.onDisconnect_,Vt(),(a,s)=>{const o=i4(a,s,e.serverSyncTree_,t);BO(r,a,o)});let n=[];gb(r,Vt(),(a,s)=>{n=n.concat(l0(e.serverSyncTree_,a,s));const o=N_(e,a);Zu(e,o)}),e.onDisconnect_=Vp(),es(e.eventQueue_,Vt(),n)}function yY(e){e.persistentConnection_&&e.persistentConnection_.interrupt(uY)}function d0(e,...t){let r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),_n(r,...t)}function Sb(e,t,r,n){t&&gd(()=>{if(r==="ok")t(null);else{const a=(r||"error").toUpperCase();let s=a;n&&(s+=": "+n);const o=new Error(s);o.code=a,t(o)}})}function h4(e,t,r){return d_(e.serverSyncTree_,t,r)||ht.EMPTY_NODE}function T_(e,t=e.transactionQueueTree_){if(t||ev(e,t),xd(t)){const r=p4(e,t);Ue(r.length>0,"Sending zero length transaction queue"),r.every(a=>a.status===0)&&bY(e,c0(t),r)}else c4(t)&&Qg(t,r=>{T_(e,r)})}function bY(e,t,r){const n=r.map(f=>f.currentWriteId),a=h4(e,t,n);let s=a;const o=a.hash();for(let f=0;f<r.length;f++){const m=r[f];Ue(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const g=zn(t,m.path);s=s.updateChild(g,m.currentOutputSnapshotRaw)}const c=s.val(!0),u=t;e.server_.put(u.toString(),c,f=>{d0(e,"transaction put response",{path:u.toString(),status:f});let m=[];if(f==="ok"){const g=[];for(let v=0;v<r.length;v++)r[v].status=2,m=m.concat($o(e.serverSyncTree_,r[v].currentWriteId)),r[v].onComplete&&g.push(()=>r[v].onComplete(null,!0,r[v].currentOutputSnapshotResolved)),r[v].unwatcher();ev(e,y_(e.transactionQueueTree_,t)),T_(e,e.transactionQueueTree_),es(e.eventQueue_,t,m);for(let v=0;v<g.length;v++)gd(g[v])}else{if(f==="datastale")for(let g=0;g<r.length;g++)r[g].status===3?r[g].status=4:r[g].status=0;else{qn("transaction at "+u.toString()+" failed: "+f);for(let g=0;g<r.length;g++)r[g].status=4,r[g].abortReason=f}Zu(e,t)}},o)}function Zu(e,t){const r=m4(e,t),n=c0(r),a=p4(e,r);return wY(e,a,n),n}function wY(e,t,r){if(t.length===0)return;const n=[];let a=[];const o=t.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<t.length;c++){const u=t[c],f=zn(r,u.path);let m=!1,g;if(Ue(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)m=!0,g=u.abortReason,a=a.concat($o(e.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=dY)m=!0,g="maxretry",a=a.concat($o(e.serverSyncTree_,u.currentWriteId,!0));else{const v=h4(e,u.path,o);u.currentInputSnapshot=v;const x=t[c].update(v.val());if(x!==void 0){Zg("transaction failed: Data returned ",x,u.path);let y=Xr(x);typeof x=="object"&&x!=null&&ii(x,".priority")||(y=y.updatePriority(v.getPriority()));const b=u.currentWriteId,S=Jg(e),T=o4(y,v,S);u.currentOutputSnapshotRaw=y,u.currentOutputSnapshotResolved=T,u.currentWriteId=C_(e),o.splice(o.indexOf(b),1),a=a.concat(e4(e.serverSyncTree_,u.path,T,u.currentWriteId,u.applyLocally)),a=a.concat($o(e.serverSyncTree_,b,!0))}else m=!0,g="nodata",a=a.concat($o(e.serverSyncTree_,u.currentWriteId,!0))}es(e.eventQueue_,r,a),a=[],m&&(t[c].status=2,function(v){setTimeout(v,Math.floor(0))}(t[c].unwatcher),t[c].onComplete&&(g==="nodata"?n.push(()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot)):n.push(()=>t[c].onComplete(new Error(g),!1,null))))}ev(e,e.transactionQueueTree_);for(let c=0;c<n.length;c++)gd(n[c]);T_(e,e.transactionQueueTree_)}function m4(e,t){let r,n=e.transactionQueueTree_;for(r=Rt(t);r!==null&&xd(n)===void 0;)n=y_(n,r),t=or(t),r=Rt(t);return n}function p4(e,t){const r=[];return g4(e,t,r),r.sort((n,a)=>n.order-a.order),r}function g4(e,t,r){const n=xd(t);if(n)for(let a=0;a<n.length;a++)r.push(n[a]);Qg(t,a=>{g4(e,a,r)})}function ev(e,t){const r=xd(t);if(r){let n=0;for(let a=0;a<r.length;a++)r[a].status!==2&&(r[n]=r[a],n++);r.length=n,l4(t,r.length>0?r:void 0)}Qg(t,n=>{ev(e,n)})}function N_(e,t){const r=c0(m4(e,t)),n=y_(e.transactionQueueTree_,t);return ZG(n,a=>{u1(e,a)}),u1(e,n),u4(n,a=>{u1(e,a)}),r}function u1(e,t){const r=xd(t);if(r){const n=[];let a=[],s=-1;for(let o=0;o<r.length;o++)r[o].status===3||(r[o].status===1?(Ue(s===o-1,"All SENT items should be at beginning of queue."),s=o,r[o].status=3,r[o].abortReason="set"):(Ue(r[o].status===0,"Unexpected transaction status in abort"),r[o].unwatcher(),a=a.concat($o(e.serverSyncTree_,r[o].currentWriteId,!0)),r[o].onComplete&&n.push(r[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?l4(t,void 0):r.length=s+1,es(e.eventQueue_,c0(t),a);for(let o=0;o<n.length;o++)gd(n[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Y(e){let t="";const r=e.split("/");for(let n=0;n<r.length;n++)if(r[n].length>0){let a=r[n];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}function EY(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const r of e.split("&")){if(r.length===0)continue;const n=r.split("=");n.length===2?t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):qn(`Invalid query segment '${r}' in query '${e}'`)}return t}const EA=function(e,t){const r=SY(e),n=r.namespace;r.domain==="firebase.com"&&Qi(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&r.domain!=="localhost"&&Qi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||OW();const a=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new bO(r.host,r.secure,n,a,t,"",n!==r.subdomain),path:new Kt(r.pathString)}},SY=function(e){let t="",r="",n="",a="",s="",o=!0,c="https",u=443;if(typeof e=="string"){let f=e.indexOf("//");f>=0&&(c=e.substring(0,f-1),e=e.substring(f+2));let m=e.indexOf("/");m===-1&&(m=e.length);let g=e.indexOf("?");g===-1&&(g=e.length),t=e.substring(0,Math.min(m,g)),m<g&&(a=_Y(e.substring(m,g)));const v=EY(e.substring(Math.min(e.length,g)));f=t.indexOf(":"),f>=0?(o=c==="https"||c==="wss",u=parseInt(t.substring(f+1),10)):f=t.length;const x=t.slice(0,f);if(x.toLowerCase()==="localhost")r="localhost";else if(x.split(".").length<=2)r=x;else{const y=t.indexOf(".");n=t.substring(0,y).toLowerCase(),r=t.substring(y+1),s=n}"ns"in v&&(s=v.ns)}return{host:t,port:u,domain:r,subdomain:n,secure:o,scheme:c,pathString:a,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",CY=function(){let e=0;const t=[];return function(r){const n=r===e;e=r;let a;const s=new Array(8);for(a=7;a>=0;a--)s[a]=SA.charAt(r%64),r=Math.floor(r/64);Ue(r===0,"Cannot push at time == 0");let o=s.join("");if(n){for(a=11;a>=0&&t[a]===63;a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(Math.random()*64);for(a=0;a<12;a++)o+=SA.charAt(t[a]);return Ue(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TY{constructor(t,r,n,a){this.eventType=t,this.eventRegistration=r,this.snapshot=n,this.prevName=a}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Kr(this.snapshot.exportVal())}}class NY{constructor(t,r,n){this.eventRegistration=t,this.error=r,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return Ue(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(t,r,n,a){this._repo=t,this._path=r,this._queryParams=n,this._orderByCalled=a}get key(){return Ct(this._path)?null:Zw(this._path)}get ref(){return new ro(this._repo,this._path)}get _queryIdentifier(){const t=cA(this._queryParams),r=Yw(t);return r==="{}"?"default":r}get _queryObject(){return cA(this._queryParams)}isEqual(t){if(t=hn(t),!(t instanceof yd))return!1;const r=this._repo===t._repo,n=RO(this._path,t._path),a=this._queryIdentifier===t._queryIdentifier;return r&&n&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+gq(this._path)}}function kY(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function A_(e){let t=null,r=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(r=e.getIndexEndValue()),e.getIndex()===dc){const n="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==xc)throw new Error(n);if(typeof t!="string")throw new Error(a)}if(e.hasEnd()){if(e.getIndexEndName()!==nl)throw new Error(n);if(typeof r!="string")throw new Error(a)}}else if(e.getIndex()===br){if(t!=null&&!Eb(t)||r!=null&&!Eb(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Ue(e.getIndex()instanceof t_||e.getIndex()===jO,"unknown index type."),t!=null&&typeof t=="object"||r!=null&&typeof r=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function v4(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ro extends yd{constructor(t,r){super(t,r,new n_,!1)}get parent(){const t=kO(this._path);return t===null?null:new ro(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Dh{constructor(t,r,n){this._node=t,this.ref=r,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new Kt(t),n=Ih(this.ref,t);return new Dh(this._node.getChild(r),n,br)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,a)=>t(new Dh(a,Ih(this.ref,n),br)))}hasChild(t){const r=new Kt(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function pp(e,t){return e=hn(e),e._checkNotDeleted("ref"),t!==void 0?Ih(e._root,t):e._root}function Ih(e,t){return e=hn(e),Rt(e._path)===null?sY("child","path",t):w_("child","path",t),new ro(e._repo,Ar(e._path,t))}function CA(e,t){e=hn(e),__("push",e._path),u0("push",t,e._path,!0);const r=f4(e._repo),n=CY(r),a=Ih(e,n),s=Ih(e,n);let o;return o=Promise.resolve(s),a.then=o.then.bind(o),a.catch=o.then.bind(o,void 0),a}function TA(e){return __("remove",e._path),sc(e,null)}function sc(e,t){e=hn(e),__("set",e._path),u0("set",t,e._path,!1);const r=new Jh;return gY(e._repo,e._path,t,null,r.wrapCallback(()=>{})),r.promise}function RY(e,t){aY("update",t,e._path);const r=new Jh;return vY(e._repo,e._path,t,r.wrapCallback(()=>{})),r.promise}function gp(e){e=hn(e);const t=new AY(()=>{}),r=new k_(t);return pY(e._repo,e,r).then(n=>new Dh(n,new ro(e._repo,e._path),e._queryParams.getIndex()))}class k_{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const n=r._queryParams.getIndex();return new TY("value",this,new Dh(t.snapshotNode,new ro(r._repo,r._path),n))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new NY(this,t,r):null}matches(t){return t instanceof k_?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class tv{}class DY extends tv{constructor(t,r){super(),this._value=t,this._key=r,this.type="endAt"}_apply(t){u0("endAt",this._value,t._path,!0);const r=Uq(t._queryParams,this._value,this._key);if(v4(r),A_(r),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yd(t._repo,t._path,r,t._orderByCalled)}}class IY extends tv{constructor(t,r){super(),this._value=t,this._key=r,this.type="startAt"}_apply(t){u0("startAt",this._value,t._path,!0);const r=Bq(t._queryParams,this._value,this._key);if(v4(r),A_(r),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new yd(t._repo,t._path,r,t._orderByCalled)}}class OY extends tv{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){kY(t,"orderByChild");const r=new Kt(this._path);if(Ct(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new t_(r),a=Vq(t._queryParams,n);return A_(a),new yd(t._repo,t._path,a,!0)}}function PY(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return w_("orderByChild","path",e),new OY(e)}class MY extends tv{constructor(t,r){super(),this._value=t,this._key=r,this.type="equalTo"}_apply(t){if(u0("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new DY(this._value,this._key)._apply(new IY(this._value,this._key)._apply(t))}}function FY(e,t){return new MY(e,t)}function jY(e,...t){let r=hn(e);for(const n of t)r=n._apply(r);return r}kG(ro);PG(ro);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY="FIREBASE_DATABASE_EMULATOR_HOST",Cb={};let BY=!1;function UY(e,t,r,n){e.repoInfo_=new bO(t,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,r),n&&(e.authTokenProvider_=n)}function VY(e,t,r,n,a){let s=n||e.options.databaseURL;s===void 0&&(e.options.projectId||Qi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_n("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=EA(s,a),c=o.repoInfo,u;typeof process<"u"&&WN&&(u=WN[LY]),u?(s=`http://${u}?ns=${c.namespace}`,o=EA(s,a),c=o.repoInfo):o.repoInfo.secure;const f=new zW(e.name,e.options,t);iY("Invalid Firebase Database URL",o),Ct(o.path)||Qi("Database URL must point to the root of a Firebase Database (not including a child path).");const m=$Y(c,e,f,new $W(e,r));return new zY(m,e)}function HY(e,t){const r=Cb[t];(!r||r[e.key]!==e)&&Qi(`Database ${t}(${e.repoInfo_}) has already been deleted.`),yY(e),delete r[e.key]}function $Y(e,t,r,n){let a=Cb[t.name];a||(a={},Cb[t.name]=a);let s=a[e.toURLString()];return s&&Qi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new fY(e,BY,r,n),a[e.toURLString()]=s,s}class zY{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hY(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ro(this._repo,Vt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(HY(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Qi("Cannot call "+t+" on a deleted database.")}}function WY(e=EI(),t){const r=jw(e,"database").getImmediate({identifier:t});if(!r._instanceStarted){const n=BV("database");n&&qY(r,...n)}return r}function qY(e,t,r,n={}){e=hn(e),e._checkNotDeleted("useEmulator");const a=`${t}:${r}`,s=e._repoInternal;if(e._instanceStarted){if(a===e._repoInternal.repoInfo_.host&&pc(n,s.repoInfo_.emulatorOptions))return;Qi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)n.mockUserToken&&Qi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new mp(mp.OWNER);else if(n.mockUserToken){const c=typeof n.mockUserToken=="string"?n.mockUserToken:UV(n.mockUserToken,e.app.options.projectId);o=new mp(c)}UY(s,a,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GY(e){NW(hd),Gu(new gc("database",(t,{instanceIdentifier:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return VY(n,a,s,r)},"PUBLIC").setMultipleInstances(!0)),Xo(qN,GN,e),Xo(qN,GN,"esm2017")}Hi.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Hi.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};GY();const YY={apiKey:"AIzaSyCrq7Am9kiE3levq6hOGBuh_wb3lGxfdT0",authDomain:"nrd-sgo.firebaseapp.com",databaseURL:"https://nrd-sgo-default-rtdb.firebaseio.com",projectId:"nrd-sgo",storageBucket:"nrd-sgo.appspot.com",messagingSenderId:"386786255981",appId:"1:386786255981:web:95cabd428cf0ca17c58b64"},x4=_I(YY),Vs=WY(x4),Du=EW(x4),Ou=class Ou{constructor(){gt(this,"currentUser",null);gt(this,"authStateReady");gt(this,"authStateResolver");if(Ou.instance)return Ou.instance;this.authStateReady=new Promise(t=>{this.authStateResolver=t}),fz(Du,t=>{this.currentUser=t,console.log("Auth state initialized:",{user:t==null?void 0:t.email,isAuthenticated:!!t}),this.authStateResolver()}),Ou.instance=this}async login(t,r,n=!1){try{await cz(Du,n?ZI:zw),await lz(Du,t,r),n?localStorage.setItem("rememberMe","true"):localStorage.removeItem("rememberMe")}catch(a){throw console.error("Login error:",a),a}}async logout(){try{await hz(Du),localStorage.removeItem("rememberMe")}catch(t){throw console.error("Logout error:",t),t}}getCurrentUser(){return this.currentUser}async isAuthenticated(){return await this.authStateReady,!!this.currentUser}async waitForAuthReady(){return this.authStateReady}wasRemembered(){return localStorage.getItem("rememberMe")==="true"}};gt(Ou,"instance");let Xp=Ou;function XY(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const KY=e=>{switch(e){case"success":return JY;case"info":return tX;case"warning":return eX;case"error":return rX;default:return null}},QY=Array(12).fill(0),ZY=({visible:e,className:t})=>M.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},M.createElement("div",{className:"sonner-spinner"},QY.map((r,n)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),JY=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),eX=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),tX=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),rX=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nX=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),aX=()=>{const[e,t]=M.useState(document.hidden);return M.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let Tb=1;class sX{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,s=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Tb++,o=this.toasts.find(u=>u.id===s),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...t,id:s,title:n}),{...u,...t,id:s,dismissible:c,title:n}):u):this.addToast({title:n,...a,dismissible:c,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0}))),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let s=n!==void 0,o;const c=a.then(async f=>{if(o=["resolve",f],M.isValidElement(f))s=!1,this.create({id:n,type:"default",message:f});else if(oX(f)&&!f.ok){s=!1;const g=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,v=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,x=typeof g=="object"?g:{message:g};this.create({id:n,type:"error",description:v,...x})}else if(f instanceof Error){s=!1;const g=typeof r.error=="function"?await r.error(f):r.error,v=typeof r.description=="function"?await r.description(f):r.description,x=typeof g=="object"?g:{message:g};this.create({id:n,type:"error",description:v,...x})}else if(r.success!==void 0){s=!1;const g=typeof r.success=="function"?await r.success(f):r.success,v=typeof r.description=="function"?await r.description(f):r.description,x=typeof g=="object"?g:{message:g};this.create({id:n,type:"success",description:v,...x})}}).catch(async f=>{if(o=["reject",f],r.error!==void 0){s=!1;const m=typeof r.error=="function"?await r.error(f):r.error,g=typeof r.description=="function"?await r.description(f):r.description,v=typeof m=="object"?m:{message:m};this.create({id:n,type:"error",description:g,...v})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),u=()=>new Promise((f,m)=>c.then(()=>o[0]==="reject"?m(o[1]):f(o[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||Tb++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const aa=new sX,iX=(e,t)=>{const r=(t==null?void 0:t.id)||Tb++;return aa.addToast({title:e,...t,id:r}),r},oX=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",lX=iX,cX=()=>aa.toasts,uX=()=>aa.getActiveToasts(),dt=Object.assign(lX,{success:aa.success,info:aa.info,warning:aa.warning,error:aa.error,custom:aa.custom,message:aa.message,promise:aa.promise,dismiss:aa.dismiss,loading:aa.loading},{getHistory:cX,getToasts:uX});XY("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Um(e){return e.label!==void 0}const dX=3,fX="24px",hX="16px",NA=4e3,mX=356,pX=14,gX=45,vX=200;function Ls(...e){return e.filter(Boolean).join(" ")}function xX(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const yX=e=>{var t,r,n,a,s,o,c,u,f;const{invert:m,toast:g,unstyled:v,interacting:x,setHeights:y,visibleToasts:w,heights:b,index:S,toasts:T,expanded:E,removeToast:A,defaultRichColors:k,closeButton:D,style:R,cancelButtonStyle:P,actionButtonStyle:I,className:B="",descriptionClassName:H="",duration:z,position:G,gap:ne,expandByDefault:se,classNames:L,icons:oe,closeButtonAriaLabel:le="Close toast"}=e,[W,V]=M.useState(null),[ce,j]=M.useState(null),[ee,K]=M.useState(!1),[Q,re]=M.useState(!1),[be,Ee]=M.useState(!1),[ue,me]=M.useState(!1),[Ae,Y]=M.useState(!1),[He,Ce]=M.useState(0),[Ge,$e]=M.useState(0),Oe=M.useRef(g.duration||z||NA),ie=M.useRef(null),fe=M.useRef(null),Se=S===0,Me=S+1<=w,Re=g.type,De=g.dismissible!==!1,je=g.className||"",Ze=g.descriptionClassName||"",bt=M.useMemo(()=>b.findIndex(st=>st.toastId===g.id)||0,[b,g.id]),At=M.useMemo(()=>{var st;return(st=g.closeButton)!=null?st:D},[g.closeButton,D]),Dt=M.useMemo(()=>g.duration||z||NA,[g.duration,z]),Jr=M.useRef(0),ot=M.useRef(0),qt=M.useRef(0),pr=M.useRef(null),[Gt,ur]=G.split("-"),Ds=M.useMemo(()=>b.reduce((st,dr,fr)=>fr>=bt?st:st+dr.height,0),[b,bt]),fa=aX(),pn=g.invert||m,io=Re==="loading";ot.current=M.useMemo(()=>bt*ne+Ds,[bt,Ds]),M.useEffect(()=>{Oe.current=Dt},[Dt]),M.useEffect(()=>{K(!0)},[]),M.useEffect(()=>{const st=fe.current;if(st){const dr=st.getBoundingClientRect().height;return $e(dr),y(fr=>[{toastId:g.id,height:dr,position:g.position},...fr]),()=>y(fr=>fr.filter(gn=>gn.toastId!==g.id))}},[y,g.id]),M.useLayoutEffect(()=>{if(!ee)return;const st=fe.current,dr=st.style.height;st.style.height="auto";const fr=st.getBoundingClientRect().height;st.style.height=dr,$e(fr),y(gn=>gn.find(Er=>Er.toastId===g.id)?gn.map(Er=>Er.toastId===g.id?{...Er,height:fr}:Er):[{toastId:g.id,height:fr,position:g.position},...gn])},[ee,g.title,g.description,y,g.id]);const ha=M.useCallback(()=>{re(!0),Ce(ot.current),y(st=>st.filter(dr=>dr.toastId!==g.id)),setTimeout(()=>{A(g)},vX)},[g,A,y,ot]);M.useEffect(()=>{if(g.promise&&Re==="loading"||g.duration===1/0||g.type==="loading")return;let st;return E||x||fa?(()=>{if(qt.current<Jr.current){const gn=new Date().getTime()-Jr.current;Oe.current=Oe.current-gn}qt.current=new Date().getTime()})():(()=>{Oe.current!==1/0&&(Jr.current=new Date().getTime(),st=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),ha()},Oe.current))})(),()=>clearTimeout(st)},[E,x,g,Re,fa,ha]),M.useEffect(()=>{g.delete&&ha()},[ha,g.delete]);function Vc(){var st;if(oe!=null&&oe.loading){var dr;return M.createElement("div",{className:Ls(L==null?void 0:L.loader,g==null||(dr=g.classNames)==null?void 0:dr.loader,"sonner-loader"),"data-visible":Re==="loading"},oe.loading)}return M.createElement(ZY,{className:Ls(L==null?void 0:L.loader,g==null||(st=g.classNames)==null?void 0:st.loader),visible:Re==="loading"})}var mi,pi;return M.createElement("li",{tabIndex:0,ref:fe,className:Ls(B,je,L==null?void 0:L.toast,g==null||(t=g.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[Re],g==null||(r=g.classNames)==null?void 0:r[Re]),"data-sonner-toast":"","data-rich-colors":(mi=g.richColors)!=null?mi:k,"data-styled":!(g.jsx||g.unstyled||v),"data-mounted":ee,"data-promise":!!g.promise,"data-swiped":Ae,"data-removed":Q,"data-visible":Me,"data-y-position":Gt,"data-x-position":ur,"data-index":S,"data-front":Se,"data-swiping":be,"data-dismissible":De,"data-type":Re,"data-invert":pn,"data-swipe-out":ue,"data-swipe-direction":ce,"data-expanded":!!(E||se&&ee),style:{"--index":S,"--toasts-before":S,"--z-index":T.length-S,"--offset":`${Q?He:ot.current}px`,"--initial-height":se?"auto":`${Ge}px`,...R,...g.style},onDragEnd:()=>{Ee(!1),V(null),pr.current=null},onPointerDown:st=>{io||!De||(ie.current=new Date,Ce(ot.current),st.target.setPointerCapture(st.pointerId),st.target.tagName!=="BUTTON"&&(Ee(!0),pr.current={x:st.clientX,y:st.clientY}))},onPointerUp:()=>{var st,dr,fr;if(ue||!De)return;pr.current=null;const gn=Number(((st=fe.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gi=Number(((dr=fe.current)==null?void 0:dr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Er=new Date().getTime()-((fr=ie.current)==null?void 0:fr.getTime()),en=W==="x"?gn:gi,Oa=Math.abs(en)/Er;if(Math.abs(en)>=gX||Oa>.11){Ce(ot.current),g.onDismiss==null||g.onDismiss.call(g,g),j(W==="x"?gn>0?"right":"left":gi>0?"down":"up"),ha(),me(!0);return}else{var Fn,tn;(Fn=fe.current)==null||Fn.style.setProperty("--swipe-amount-x","0px"),(tn=fe.current)==null||tn.style.setProperty("--swipe-amount-y","0px")}Y(!1),Ee(!1),V(null)},onPointerMove:st=>{var dr,fr,gn;if(!pr.current||!De||((dr=window.getSelection())==null?void 0:dr.toString().length)>0)return;const Er=st.clientY-pr.current.y,en=st.clientX-pr.current.x;var Oa;const Fn=(Oa=e.swipeDirections)!=null?Oa:xX(G);!W&&(Math.abs(en)>1||Math.abs(Er)>1)&&V(Math.abs(en)>Math.abs(Er)?"x":"y");let tn={x:0,y:0};const Sl=Pa=>1/(1.5+Math.abs(Pa)/20);if(W==="y"){if(Fn.includes("top")||Fn.includes("bottom"))if(Fn.includes("top")&&Er<0||Fn.includes("bottom")&&Er>0)tn.y=Er;else{const Pa=Er*Sl(Er);tn.y=Math.abs(Pa)<Math.abs(Er)?Pa:Er}}else if(W==="x"&&(Fn.includes("left")||Fn.includes("right")))if(Fn.includes("left")&&en<0||Fn.includes("right")&&en>0)tn.x=en;else{const Pa=en*Sl(en);tn.x=Math.abs(Pa)<Math.abs(en)?Pa:en}(Math.abs(tn.x)>0||Math.abs(tn.y)>0)&&Y(!0),(fr=fe.current)==null||fr.style.setProperty("--swipe-amount-x",`${tn.x}px`),(gn=fe.current)==null||gn.style.setProperty("--swipe-amount-y",`${tn.y}px`)}},At&&!g.jsx&&Re!=="loading"?M.createElement("button",{"aria-label":le,"data-disabled":io,"data-close-button":!0,onClick:io||!De?()=>{}:()=>{ha(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Ls(L==null?void 0:L.closeButton,g==null||(n=g.classNames)==null?void 0:n.closeButton)},(pi=oe==null?void 0:oe.close)!=null?pi:nX):null,Re||g.icon||g.promise?M.createElement("div",{"data-icon":"",className:Ls(L==null?void 0:L.icon,g==null||(a=g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Vc():null,g.type!=="loading"?g.icon||(oe==null?void 0:oe[Re])||KY(Re):null):null,M.createElement("div",{"data-content":"",className:Ls(L==null?void 0:L.content,g==null||(s=g.classNames)==null?void 0:s.content)},M.createElement("div",{"data-title":"",className:Ls(L==null?void 0:L.title,g==null||(o=g.classNames)==null?void 0:o.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?M.createElement("div",{"data-description":"",className:Ls(H,Ze,L==null?void 0:L.description,g==null||(c=g.classNames)==null?void 0:c.description)},typeof g.description=="function"?g.description():g.description):null),M.isValidElement(g.cancel)?g.cancel:g.cancel&&Um(g.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||P,onClick:st=>{Um(g.cancel)&&De&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,st),ha())},className:Ls(L==null?void 0:L.cancelButton,g==null||(u=g.classNames)==null?void 0:u.cancelButton)},g.cancel.label):null,M.isValidElement(g.action)?g.action:g.action&&Um(g.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||I,onClick:st=>{Um(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,st),!st.defaultPrevented&&ha())},className:Ls(L==null?void 0:L.actionButton,g==null||(f=g.classNames)==null?void 0:f.actionButton)},g.action.label):null)};function AA(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function bX(e,t){const r={};return[e,t].forEach((n,a)=>{const s=a===1,o=s?"--mobile-offset":"--offset",c=s?hX:fX;function u(f){["top","right","bottom","left"].forEach(m=>{r[`${o}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?u(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${o}-${f}`]=c:r[`${o}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):u(c)}),r}const wX=M.forwardRef(function(t,r){const{invert:n,position:a="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:c,className:u,offset:f,mobileOffset:m,theme:g="light",richColors:v,duration:x,style:y,visibleToasts:w=dX,toastOptions:b,dir:S=AA(),gap:T=pX,icons:E,containerAriaLabel:A="Notifications"}=t,[k,D]=M.useState([]),R=M.useMemo(()=>Array.from(new Set([a].concat(k.filter(ce=>ce.position).map(ce=>ce.position)))),[k,a]),[P,I]=M.useState([]),[B,H]=M.useState(!1),[z,G]=M.useState(!1),[ne,se]=M.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=M.useRef(null),oe=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),le=M.useRef(null),W=M.useRef(!1),V=M.useCallback(ce=>{D(j=>{var ee;return(ee=j.find(K=>K.id===ce.id))!=null&&ee.delete||aa.dismiss(ce.id),j.filter(({id:K})=>K!==ce.id)})},[]);return M.useEffect(()=>aa.subscribe(ce=>{if(ce.dismiss){const j=k.map(ee=>ee.id===ce.id?{...ee,delete:!0}:ee);requestAnimationFrame(()=>{D(j)});return}setTimeout(()=>{MD.flushSync(()=>{D(j=>{const ee=j.findIndex(K=>K.id===ce.id);return ee!==-1?[...j.slice(0,ee),{...j[ee],...ce},...j.slice(ee+1)]:[ce,...j]})})})}),[k]),M.useEffect(()=>{if(g!=="system"){se(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window>"u")return;const ce=window.matchMedia("(prefers-color-scheme: dark)");try{ce.addEventListener("change",({matches:j})=>{se(j?"dark":"light")})}catch{ce.addListener(({matches:ee})=>{try{se(ee?"dark":"light")}catch(K){console.error(K)}})}},[g]),M.useEffect(()=>{k.length<=1&&H(!1)},[k]),M.useEffect(()=>{const ce=j=>{var ee;if(s.every(re=>j[re]||j.code===re)){var Q;H(!0),(Q=L.current)==null||Q.focus()}j.code==="Escape"&&(document.activeElement===L.current||(ee=L.current)!=null&&ee.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",ce),()=>document.removeEventListener("keydown",ce)},[s]),M.useEffect(()=>{if(L.current)return()=>{le.current&&(le.current.focus({preventScroll:!0}),le.current=null,W.current=!1)}},[L.current]),M.createElement("section",{ref:r,"aria-label":`${A} ${oe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((ce,j)=>{var ee;const[K,Q]=ce.split("-");return k.length?M.createElement("ol",{key:ce,dir:S==="auto"?AA():S,tabIndex:-1,ref:L,className:u,"data-sonner-toaster":!0,"data-sonner-theme":ne,"data-y-position":K,"data-lifted":B&&k.length>1&&!o,"data-x-position":Q,style:{"--front-toast-height":`${((ee=P[0])==null?void 0:ee.height)||0}px`,"--width":`${mX}px`,"--gap":`${T}px`,...y,...bX(f,m)},onBlur:re=>{W.current&&!re.currentTarget.contains(re.relatedTarget)&&(W.current=!1,le.current&&(le.current.focus({preventScroll:!0}),le.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||W.current||(W.current=!0,le.current=re.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{z||H(!1)},onDragEnd:()=>H(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},k.filter(re=>!re.position&&j===0||re.position===ce).map((re,be)=>{var Ee,ue;return M.createElement(yX,{key:re.id,icons:E,index:be,toast:re,defaultRichColors:v,duration:(Ee=b==null?void 0:b.duration)!=null?Ee:x,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:n,visibleToasts:w,closeButton:(ue=b==null?void 0:b.closeButton)!=null?ue:c,interacting:z,position:ce,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,closeButtonAriaLabel:b==null?void 0:b.closeButtonAriaLabel,removeToast:V,toasts:k.filter(me=>me.position==re.position),heights:P.filter(me=>me.position==re.position),setHeights:I,expandByDefault:o,gap:T,expanded:B,swipeDirections:t.swipeDirections})})):null}))}),y4="/nrd-sgo/assets/logo-Dugcj0T7.jpg",_X=()=>{const e=cr(),t=ns(),[r,n]=N.useState(!1),[a,s]=N.useState({email:"",password:""}),[o,c]=N.useState(document.documentElement.classList.contains("dark")),u=()=>{const g=!o;c(g),g?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")},f=async g=>{var v;g.preventDefault(),n(!0);try{await new Xp().login(a.email,a.password),console.log("Login successful");const y=((v=t.state)==null?void 0:v.from)||"/dashboard";e(y,{replace:!0})}catch(x){console.error("Login error:",x),dt.error("Error al iniciar sesión. Por favor, verifique sus credenciales.")}finally{n(!1)}},m=g=>{const{name:v,value:x}=g.target;s({...a,[v]:x})};return h.jsxs("div",{className:"min-h-screen flex flex-col bg-background relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:h.jsx("div",{className:"absolute -top-[40rem] left-1/2 -z-10 transform -translate-x-1/2",children:h.jsx("div",{className:"aspect-[1200/800] w-[80rem] bg-gradient-to-tr from-primary/20 to-primary-foreground/20 opacity-30 blur-3xl"})})}),h.jsx("div",{className:"absolute top-4 right-4",children:h.jsx(ze,{variant:"ghost",size:"icon",onClick:u,className:"rounded-full",children:o?h.jsx(J1,{className:"h-5 w-5"}):h.jsx(Q1,{className:"h-5 w-5"})})}),h.jsx("div",{className:"flex-1 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:h.jsxs(yr,{className:"w-full max-w-[90%] sm:max-w-md backdrop-blur-sm bg-card/80 shadow-xl",children:[h.jsxs(ia,{className:"space-y-4 text-center pb-6",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:y4,alt:"Logo",className:"h-16 w-16 sm:h-20 sm:w-20 rounded-lg shadow-lg object-cover"})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(oa,{className:"text-xl sm:text-2xl font-bold tracking-tight",children:"Sistema de Gestión Operativa"}),h.jsx(cI,{className:"text-sm sm:text-base",children:"Inicie sesión para continuar"})]})]}),h.jsx($r,{children:h.jsxs("form",{onSubmit:f,className:"space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:h.jsx($U,{className:"h-4 w-4 text-muted-foreground"})}),h.jsx(dn,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"pl-10 h-11",placeholder:"usuario@ejemplo.com",value:a.email,onChange:m,disabled:r})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:h.jsx(dU,{className:"h-4 w-4 text-muted-foreground"})}),h.jsx(dn,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"pl-10 h-11",placeholder:"••••••••",value:a.password,onChange:m,disabled:r})]})]}),h.jsx(ze,{type:"submit",className:"w-full h-11 text-base",disabled:r,children:r?h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Iniciando sesión..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hU,{className:"h-5 w-5 mr-2"}),"Iniciar sesión"]})})]})})]})}),h.jsx("div",{className:"py-4 text-center",children:h.jsxs("p",{className:"text-sm text-muted-foreground",children:["© ",new Date().getFullYear()," Sistema de Gestión Operativa. Todos los derechos reservados."]})})]})};function nt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function kA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function rv(...e){return t=>{let r=!1;const n=e.map(a=>{const s=kA(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():kA(e[a],null)}}}}function rr(...e){return N.useCallback(rv(...e),e)}function EX(e,t){const r=N.createContext(t),n=s=>{const{children:o,...c}=s,u=N.useMemo(()=>c,Object.values(c));return h.jsx(r.Provider,{value:u,children:o})};n.displayName=e+"Provider";function a(s){const o=N.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function oi(e,t=[]){let r=[];function n(s,o){const c=N.createContext(o),u=r.length;r=[...r,o];const f=g=>{var S;const{scope:v,children:x,...y}=g,w=((S=v==null?void 0:v[e])==null?void 0:S[u])||c,b=N.useMemo(()=>y,Object.values(y));return h.jsx(w.Provider,{value:b,children:x})};f.displayName=s+"Provider";function m(g,v){var w;const x=((w=v==null?void 0:v[e])==null?void 0:w[u])||c,y=N.useContext(x);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[f,m]}const a=()=>{const s=r.map(o=>N.createContext(o));return function(c){const u=(c==null?void 0:c[e])||s;return N.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return a.scopeName=e,[n,SX(a,...t)]}function SX(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((c,{useScope:u,scopeName:f})=>{const g=u(s)[`__scope${f}`];return{...c,...g}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Zi=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},CX=gh.useId||(()=>{}),TX=0;function Jo(e){const[t,r]=N.useState(CX());return Zi(()=>{r(n=>n??String(TX++))},[e]),t?`radix-${t}`:""}function un(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function bd({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=NX({defaultProp:t,onChange:r}),s=e!==void 0,o=s?e:n,c=un(r),u=N.useCallback(f=>{if(s){const g=typeof f=="function"?f(e):f;g!==e&&c(g)}else a(f)},[s,e,a,c]);return[o,u]}function NX({defaultProp:e,onChange:t}){const r=N.useState(e),[n]=r,a=N.useRef(n),s=un(t);return N.useEffect(()=>{a.current!==n&&(s(n),a.current=n)},[n,a,s]),r}var wc=N.forwardRef((e,t)=>{const{children:r,...n}=e,a=N.Children.toArray(r),s=a.find(AX);if(s){const o=s.props.children,c=a.map(u=>u===s?N.Children.count(o)>1?N.Children.only(null):N.isValidElement(o)?o.props.children:null:u);return h.jsx(Nb,{...n,ref:t,children:N.isValidElement(o)?N.cloneElement(o,void 0,c):null})}return h.jsx(Nb,{...n,ref:t,children:r})});wc.displayName="Slot";var Nb=N.forwardRef((e,t)=>{const{children:r,...n}=e;if(N.isValidElement(r)){const a=RX(r),s=kX(n,r.props);return r.type!==N.Fragment&&(s.ref=t?rv(t,a):a),N.cloneElement(r,s)}return N.Children.count(r)>1?N.Children.only(null):null});Nb.displayName="SlotClone";var b4=({children:e})=>h.jsx(h.Fragment,{children:e});function AX(e){return N.isValidElement(e)&&e.type===b4}function kX(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...c)=>{s(...c),a(...c)}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function RX(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var DX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ht=DX.reduce((e,t)=>{const r=N.forwardRef((n,a)=>{const{asChild:s,...o}=n,c=s?wc:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(c,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function w4(e,t){e&&Kh.flushSync(()=>e.dispatchEvent(t))}function IX(e,t=globalThis==null?void 0:globalThis.document){const r=un(e);N.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var OX="DismissableLayer",Ab="dismissableLayer.update",PX="dismissableLayer.pointerDownOutside",MX="dismissableLayer.focusOutside",RA,_4=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nv=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:c,...u}=e,f=N.useContext(_4),[m,g]=N.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=N.useState({}),y=rr(t,R=>g(R)),w=Array.from(f.layers),[b]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),S=w.indexOf(b),T=m?w.indexOf(m):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,A=T>=S,k=LX(R=>{const P=R.target,I=[...f.branches].some(B=>B.contains(P));!A||I||(a==null||a(R),o==null||o(R),R.defaultPrevented||c==null||c())},v),D=BX(R=>{const P=R.target;[...f.branches].some(B=>B.contains(P))||(s==null||s(R),o==null||o(R),R.defaultPrevented||c==null||c())},v);return IX(R=>{T===f.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&c&&(R.preventDefault(),c()))},v),N.useEffect(()=>{if(m)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(RA=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),DA(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=RA)}},[m,v,r,f]),N.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),DA())},[m,f]),N.useEffect(()=>{const R=()=>x({});return document.addEventListener(Ab,R),()=>document.removeEventListener(Ab,R)},[]),h.jsx(Ht.div,{...u,ref:y,style:{pointerEvents:E?A?"auto":"none":void 0,...e.style},onFocusCapture:nt(e.onFocusCapture,D.onFocusCapture),onBlurCapture:nt(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:nt(e.onPointerDownCapture,k.onPointerDownCapture)})});nv.displayName=OX;var FX="DismissableLayerBranch",jX=N.forwardRef((e,t)=>{const r=N.useContext(_4),n=N.useRef(null),a=rr(t,n);return N.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),h.jsx(Ht.div,{...e,ref:a})});jX.displayName=FX;function LX(e,t=globalThis==null?void 0:globalThis.document){const r=un(e),n=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const s=c=>{if(c.target&&!n.current){let u=function(){E4(PX,r,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function BX(e,t=globalThis==null?void 0:globalThis.document){const r=un(e),n=N.useRef(!1);return N.useEffect(()=>{const a=s=>{s.target&&!n.current&&E4(MX,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function DA(){const e=new CustomEvent(Ab);document.dispatchEvent(e)}function E4(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?w4(a,s):a.dispatchEvent(s)}var d1="focusScope.autoFocusOnMount",f1="focusScope.autoFocusOnUnmount",IA={bubbles:!1,cancelable:!0},UX="FocusScope",R_=N.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[c,u]=N.useState(null),f=un(a),m=un(s),g=N.useRef(null),v=rr(t,w=>u(w)),x=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let w=function(E){if(x.paused||!c)return;const A=E.target;c.contains(A)?g.current=A:Po(g.current,{select:!0})},b=function(E){if(x.paused||!c)return;const A=E.relatedTarget;A!==null&&(c.contains(A)||Po(g.current,{select:!0}))},S=function(E){if(document.activeElement===document.body)for(const k of E)k.removedNodes.length>0&&Po(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",b);const T=new MutationObserver(S);return c&&T.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",b),T.disconnect()}}},[n,c,x.paused]),N.useEffect(()=>{if(c){PA.add(x);const w=document.activeElement;if(!c.contains(w)){const S=new CustomEvent(d1,IA);c.addEventListener(d1,f),c.dispatchEvent(S),S.defaultPrevented||(VX(qX(S4(c)),{select:!0}),document.activeElement===w&&Po(c))}return()=>{c.removeEventListener(d1,f),setTimeout(()=>{const S=new CustomEvent(f1,IA);c.addEventListener(f1,m),c.dispatchEvent(S),S.defaultPrevented||Po(w??document.body,{select:!0}),c.removeEventListener(f1,m),PA.remove(x)},0)}}},[c,f,m,x]);const y=N.useCallback(w=>{if(!r&&!n||x.paused)return;const b=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,S=document.activeElement;if(b&&S){const T=w.currentTarget,[E,A]=HX(T);E&&A?!w.shiftKey&&S===A?(w.preventDefault(),r&&Po(E,{select:!0})):w.shiftKey&&S===E&&(w.preventDefault(),r&&Po(A,{select:!0})):S===T&&w.preventDefault()}},[r,n,x.paused]);return h.jsx(Ht.div,{tabIndex:-1,...o,ref:v,onKeyDown:y})});R_.displayName=UX;function VX(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Po(n,{select:t}),document.activeElement!==r)return}function HX(e){const t=S4(e),r=OA(t,e),n=OA(t.reverse(),e);return[r,n]}function S4(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function OA(e,t){for(const r of e)if(!$X(r,{upTo:t}))return r}function $X(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zX(e){return e instanceof HTMLInputElement&&"select"in e}function Po(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&zX(e)&&t&&e.select()}}var PA=WX();function WX(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=MA(e,t),e.unshift(t)},remove(t){var r;e=MA(e,t),(r=e[0])==null||r.resume()}}}function MA(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function qX(e){return e.filter(t=>t.tagName!=="A")}var GX="Portal",D_=N.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[a,s]=N.useState(!1);Zi(()=>s(!0),[]);const o=r||a&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?MD.createPortal(h.jsx(Ht.div,{...n,ref:t}),o):null});D_.displayName=GX;function YX(e,t){return N.useReducer((r,n)=>t[r][n]??r,e)}var Qn=e=>{const{present:t,children:r}=e,n=XX(t),a=typeof r=="function"?r({present:n.isPresent}):N.Children.only(r),s=rr(n.ref,KX(a));return typeof r=="function"||n.isPresent?N.cloneElement(a,{ref:s}):null};Qn.displayName="Presence";function XX(e){const[t,r]=N.useState(),n=N.useRef({}),a=N.useRef(e),s=N.useRef("none"),o=e?"mounted":"unmounted",[c,u]=YX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const f=Vm(n.current);s.current=c==="mounted"?f:"none"},[c]),Zi(()=>{const f=n.current,m=a.current;if(m!==e){const v=s.current,x=Vm(f);e?u("MOUNT"):x==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(m&&v!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,u]),Zi(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,g=x=>{const w=Vm(n.current).includes(x.animationName);if(x.target===t&&w&&(u("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},v=x=>{x.target===t&&(s.current=Vm(n.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:N.useCallback(f=>{f&&(n.current=getComputedStyle(f)),r(f)},[])}}function Vm(e){return(e==null?void 0:e.animationName)||"none"}function KX(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var h1=0;function C4(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??FA()),document.body.insertAdjacentElement("beforeend",e[1]??FA()),h1++,()=>{h1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),h1--}},[])}function FA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vp="right-scroll-bar-position",xp="width-before-scroll-bar",QX="with-scroll-bars-hidden",ZX="--removed-body-scroll-bar-size";function m1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function JX(e,t){var r=N.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var eK=typeof window<"u"?N.useLayoutEffect:N.useEffect,jA=new WeakMap;function tK(e,t){var r=JX(null,function(n){return e.forEach(function(a){return m1(a,n)})});return eK(function(){var n=jA.get(r);if(n){var a=new Set(n),s=new Set(e),o=r.current;a.forEach(function(c){s.has(c)||m1(c,null)}),s.forEach(function(c){a.has(c)||m1(c,o)})}jA.set(r,e)},[e]),r}function rK(e){return e}function nK(e,t){t===void 0&&(t=rK);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(c){return s(c)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(s),o=r}var u=function(){var m=o;o=[],m.forEach(s)},f=function(){return Promise.resolve().then(u)};f(),r={push:function(m){o.push(m),f()},filter:function(m){return o=o.filter(m),r}}}};return a}function aK(e){e===void 0&&(e={});var t=nK(null);return t.options=Gs({async:!0,ssr:!1},e),t}var T4=function(e){var t=e.sideCar,r=t0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,Gs({},r))};T4.isSideCarExport=!0;function sK(e,t){return e.useMedium(t),T4}var N4=aK(),p1=function(){},av=N.forwardRef(function(e,t){var r=N.useRef(null),n=N.useState({onScrollCapture:p1,onWheelCapture:p1,onTouchMoveCapture:p1}),a=n[0],s=n[1],o=e.forwardProps,c=e.children,u=e.className,f=e.removeScrollBar,m=e.enabled,g=e.shards,v=e.sideCar,x=e.noIsolation,y=e.inert,w=e.allowPinchZoom,b=e.as,S=b===void 0?"div":b,T=e.gapMode,E=t0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=v,k=tK([r,t]),D=Gs(Gs({},E),a);return N.createElement(N.Fragment,null,m&&N.createElement(A,{sideCar:N4,removeScrollBar:f,shards:g,noIsolation:x,inert:y,setCallbacks:s,allowPinchZoom:!!w,lockRef:r,gapMode:T}),o?N.cloneElement(N.Children.only(c),Gs(Gs({},D),{ref:k})):N.createElement(S,Gs({},D,{className:u,ref:k}),c))});av.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};av.classNames={fullWidth:xp,zeroRight:vp};var iK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function oK(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=iK();return t&&e.setAttribute("nonce",t),e}function lK(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function cK(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var uK=function(){var e=0,t=null;return{add:function(r){e==0&&(t=oK())&&(lK(t,r),cK(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},dK=function(){var e=uK();return function(t,r){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},A4=function(){var e=dK(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},fK={left:0,top:0,right:0,gap:0},g1=function(e){return parseInt(e||"",10)||0},hK=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[g1(r),g1(n),g1(a)]},mK=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return fK;var t=hK(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},pK=A4(),Bu="data-scroll-locked",gK=function(e,t,r,n){var a=e.left,s=e.top,o=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(QX,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Bu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vp,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(xp,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(vp," .").concat(vp,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(xp," .").concat(xp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Bu,`] {
    `).concat(ZX,": ").concat(c,`px;
  }
`)},LA=function(){var e=parseInt(document.body.getAttribute(Bu)||"0",10);return isFinite(e)?e:0},vK=function(){N.useEffect(function(){return document.body.setAttribute(Bu,(LA()+1).toString()),function(){var e=LA()-1;e<=0?document.body.removeAttribute(Bu):document.body.setAttribute(Bu,e.toString())}},[])},xK=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;vK();var s=N.useMemo(function(){return mK(a)},[a]);return N.createElement(pK,{styles:gK(s,!t,a,r?"":"!important")})},kb=!1;if(typeof window<"u")try{var Hm=Object.defineProperty({},"passive",{get:function(){return kb=!0,!0}});window.addEventListener("test",Hm,Hm),window.removeEventListener("test",Hm,Hm)}catch{kb=!1}var _u=kb?{passive:!1}:!1,yK=function(e){return e.tagName==="TEXTAREA"},k4=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!yK(e)&&r[t]==="visible")},bK=function(e){return k4(e,"overflowY")},wK=function(e){return k4(e,"overflowX")},BA=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=R4(e,n);if(a){var s=D4(e,n),o=s[1],c=s[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},_K=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},EK=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},R4=function(e,t){return e==="v"?bK(t):wK(t)},D4=function(e,t){return e==="v"?_K(t):EK(t)},SK=function(e,t){return e==="h"&&t==="rtl"?-1:1},CK=function(e,t,r,n,a){var s=SK(e,window.getComputedStyle(t).direction),o=s*n,c=r.target,u=t.contains(c),f=!1,m=o>0,g=0,v=0;do{var x=D4(e,c),y=x[0],w=x[1],b=x[2],S=w-b-s*y;(y||S)&&R4(e,c)&&(g+=S,v+=y),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(m&&Math.abs(g)<1||!m&&Math.abs(v)<1)&&(f=!0),f},$m=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},UA=function(e){return[e.deltaX,e.deltaY]},VA=function(e){return e&&"current"in e?e.current:e},TK=function(e,t){return e[0]===t[0]&&e[1]===t[1]},NK=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},AK=0,Eu=[];function kK(e){var t=N.useRef([]),r=N.useRef([0,0]),n=N.useRef(),a=N.useState(AK++)[0],s=N.useState(A4)[0],o=N.useRef(e);N.useEffect(function(){o.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var w=d$([e.lockRef.current],(e.shards||[]).map(VA),!0).filter(Boolean);return w.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),w.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=N.useCallback(function(w,b){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var S=$m(w),T=r.current,E="deltaX"in w?w.deltaX:T[0]-S[0],A="deltaY"in w?w.deltaY:T[1]-S[1],k,D=w.target,R=Math.abs(E)>Math.abs(A)?"h":"v";if("touches"in w&&R==="h"&&D.type==="range")return!1;var P=BA(R,D);if(!P)return!0;if(P?k=R:(k=R==="v"?"h":"v",P=BA(R,D)),!P)return!1;if(!n.current&&"changedTouches"in w&&(E||A)&&(n.current=k),!k)return!0;var I=n.current||k;return CK(I,b,w,I==="h"?E:A)},[]),u=N.useCallback(function(w){var b=w;if(!(!Eu.length||Eu[Eu.length-1]!==s)){var S="deltaY"in b?UA(b):$m(b),T=t.current.filter(function(k){return k.name===b.type&&(k.target===b.target||b.target===k.shadowParent)&&TK(k.delta,S)})[0];if(T&&T.should){b.cancelable&&b.preventDefault();return}if(!T){var E=(o.current.shards||[]).map(VA).filter(Boolean).filter(function(k){return k.contains(b.target)}),A=E.length>0?c(b,E[0]):!o.current.noIsolation;A&&b.cancelable&&b.preventDefault()}}},[]),f=N.useCallback(function(w,b,S,T){var E={name:w,delta:b,target:S,should:T,shadowParent:RK(S)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(A){return A!==E})},1)},[]),m=N.useCallback(function(w){r.current=$m(w),n.current=void 0},[]),g=N.useCallback(function(w){f(w.type,UA(w),w.target,c(w,e.lockRef.current))},[]),v=N.useCallback(function(w){f(w.type,$m(w),w.target,c(w,e.lockRef.current))},[]);N.useEffect(function(){return Eu.push(s),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",u,_u),document.addEventListener("touchmove",u,_u),document.addEventListener("touchstart",m,_u),function(){Eu=Eu.filter(function(w){return w!==s}),document.removeEventListener("wheel",u,_u),document.removeEventListener("touchmove",u,_u),document.removeEventListener("touchstart",m,_u)}},[]);var x=e.removeScrollBar,y=e.inert;return N.createElement(N.Fragment,null,y?N.createElement(s,{styles:NK(a)}):null,x?N.createElement(xK,{gapMode:e.gapMode}):null)}function RK(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const DK=sK(N4,kK);var I_=N.forwardRef(function(e,t){return N.createElement(av,Gs({},e,{ref:t,sideCar:DK}))});I_.classNames=av.classNames;var IK=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Su=new WeakMap,zm=new WeakMap,Wm={},v1=0,I4=function(e){return e&&(e.host||I4(e.parentNode))},OK=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=I4(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},PK=function(e,t,r,n){var a=OK(t,Array.isArray(e)?e:[e]);Wm[r]||(Wm[r]=new WeakMap);var s=Wm[r],o=[],c=new Set,u=new Set(a),f=function(g){!g||c.has(g)||(c.add(g),f(g.parentNode))};a.forEach(f);var m=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(v){if(c.has(v))m(v);else try{var x=v.getAttribute(n),y=x!==null&&x!=="false",w=(Su.get(v)||0)+1,b=(s.get(v)||0)+1;Su.set(v,w),s.set(v,b),o.push(v),w===1&&y&&zm.set(v,!0),b===1&&v.setAttribute(r,"true"),y||v.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",v,S)}})};return m(t),c.clear(),v1++,function(){o.forEach(function(g){var v=Su.get(g)-1,x=s.get(g)-1;Su.set(g,v),s.set(g,x),v||(zm.has(g)||g.removeAttribute(n),zm.delete(g)),x||g.removeAttribute(r)}),v1--,v1||(Su=new WeakMap,Su=new WeakMap,zm=new WeakMap,Wm={})}},O4=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=IK(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),PK(n,a,r,"aria-hidden")):function(){return null}},O_="Dialog",[P4,qpe]=oi(O_),[MK,Rs]=P4(O_),M4=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,c=N.useRef(null),u=N.useRef(null),[f=!1,m]=bd({prop:n,defaultProp:a,onChange:s});return h.jsx(MK,{scope:t,triggerRef:c,contentRef:u,contentId:Jo(),titleId:Jo(),descriptionId:Jo(),open:f,onOpenChange:m,onOpenToggle:N.useCallback(()=>m(g=>!g),[m]),modal:o,children:r})};M4.displayName=O_;var F4="DialogTrigger",j4=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Rs(F4,r),s=rr(t,a.triggerRef);return h.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":F_(a.open),...n,ref:s,onClick:nt(e.onClick,a.onOpenToggle)})});j4.displayName=F4;var P_="DialogPortal",[FK,L4]=P4(P_,{forceMount:void 0}),B4=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Rs(P_,t);return h.jsx(FK,{scope:t,forceMount:r,children:N.Children.map(n,o=>h.jsx(Qn,{present:r||s.open,children:h.jsx(D_,{asChild:!0,container:a,children:o})}))})};B4.displayName=P_;var Kp="DialogOverlay",U4=N.forwardRef((e,t)=>{const r=L4(Kp,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Rs(Kp,e.__scopeDialog);return s.modal?h.jsx(Qn,{present:n||s.open,children:h.jsx(jK,{...a,ref:t})}):null});U4.displayName=Kp;var jK=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Rs(Kp,r);return h.jsx(I_,{as:wc,allowPinchZoom:!0,shards:[a.contentRef],children:h.jsx(Ht.div,{"data-state":F_(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),_c="DialogContent",V4=N.forwardRef((e,t)=>{const r=L4(_c,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Rs(_c,e.__scopeDialog);return h.jsx(Qn,{present:n||s.open,children:s.modal?h.jsx(LK,{...a,ref:t}):h.jsx(BK,{...a,ref:t})})});V4.displayName=_c;var LK=N.forwardRef((e,t)=>{const r=Rs(_c,e.__scopeDialog),n=N.useRef(null),a=rr(t,r.contentRef,n);return N.useEffect(()=>{const s=n.current;if(s)return O4(s)},[]),h.jsx(H4,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nt(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:nt(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&s.preventDefault()}),onFocusOutside:nt(e.onFocusOutside,s=>s.preventDefault())})}),BK=N.forwardRef((e,t)=>{const r=Rs(_c,e.__scopeDialog),n=N.useRef(!1),a=N.useRef(!1);return h.jsx(H4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var u,f;(u=e.onInteractOutside)==null||u.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((f=r.triggerRef.current)==null?void 0:f.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),H4=N.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,c=Rs(_c,r),u=N.useRef(null),f=rr(t,u);return C4(),h.jsxs(h.Fragment,{children:[h.jsx(R_,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:h.jsx(nv,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":F_(c.open),...o,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(UK,{titleId:c.titleId}),h.jsx(HK,{contentRef:u,descriptionId:c.descriptionId})]})]})}),M_="DialogTitle",$4=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Rs(M_,r);return h.jsx(Ht.h2,{id:a.titleId,...n,ref:t})});$4.displayName=M_;var z4="DialogDescription",W4=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Rs(z4,r);return h.jsx(Ht.p,{id:a.descriptionId,...n,ref:t})});W4.displayName=z4;var q4="DialogClose",G4=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Rs(q4,r);return h.jsx(Ht.button,{type:"button",...n,ref:t,onClick:nt(e.onClick,()=>a.onOpenChange(!1))})});G4.displayName=q4;function F_(e){return e?"open":"closed"}var Y4="DialogTitleWarning",[Gpe,X4]=EX(Y4,{contentName:_c,titleName:M_,docsSlug:"dialog"}),UK=({titleId:e})=>{const t=X4(Y4),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},VK="DialogDescriptionWarning",HK=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${X4(VK).contentName}}.`;return N.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},$K=M4,zK=j4,WK=B4,K4=U4,Q4=V4,Z4=$4,J4=W4,qK=G4;const Dc=$K,j_=zK,GK=WK,eP=N.forwardRef(({className:e,...t},r)=>h.jsx(K4,{ref:r,className:at("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));eP.displayName=K4.displayName;const xl=N.forwardRef(({className:e,children:t,...r},n)=>h.jsxs(GK,{children:[h.jsx(eP,{}),h.jsxs(Q4,{ref:n,className:at("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),"aria-describedby":"dialog-description",...r,children:[t,h.jsxs(qK,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx($D,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]}),h.jsx("span",{id:"dialog-description",className:"sr-only",children:"Diálogo de la aplicación"})]})]}));xl.displayName=Q4.displayName;const yl=({className:e,...t})=>h.jsx("div",{className:at("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});yl.displayName="DialogHeader";const tP=({className:e,...t})=>h.jsx("div",{className:at("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});tP.displayName="DialogFooter";const bl=N.forwardRef(({className:e,...t},r)=>h.jsx(Z4,{ref:r,className:at("text-lg font-semibold leading-none tracking-tight",e),...t}));bl.displayName=Z4.displayName;const rP=N.forwardRef(({className:e,...t},r)=>h.jsx(J4,{ref:r,className:at("text-sm text-muted-foreground",e),...t}));rP.displayName=J4.displayName;function L_({open:e,onOpenChange:t,title:r,description:n,onConfirm:a,onCancel:s,confirmText:o="Confirmar",cancelText:c="Cancelar",variant:u="default"}){const f=()=>{t(!1),s==null||s()},m=()=>{a(),t(!1)};return h.jsx(Dc,{open:e,onOpenChange:t,children:h.jsxs(xl,{children:[h.jsxs(yl,{children:[h.jsx(bl,{children:r}),h.jsx(rP,{children:n})]}),h.jsxs(tP,{children:[h.jsx(ze,{variant:"secondary",onClick:f,children:c}),h.jsx(ze,{variant:u==="destructive"?"danger":"primary",onClick:m,children:o})]})]})})}const B_=({title:e,subtitle:t,backPath:r,actions:n,className:a})=>{const s=cr();return h.jsx("div",{className:at("border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",a),children:h.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[h.jsx("div",{className:"space-y-1",children:h.jsxs("div",{className:"flex items-center gap-4",children:[r&&h.jsx(ze,{variant:"ghost",size:"icon",onClick:()=>s(r),className:"flex items-center gap-2",children:h.jsx(jg,{className:"h-5 w-5"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:e}),t&&h.jsx("p",{className:"text-sm text-muted-foreground",children:t})]})]})}),n&&h.jsx("div",{className:"flex items-center gap-2",children:n})]})})},YK=({config:e})=>{const t=r=>{switch(r){case"success":return"bg-green-100 text-green-700";case"warning":return"bg-orange-100 text-orange-700";case"danger":return"bg-red-100 text-red-700";case"info":return"bg-blue-100 text-blue-700";case"primary":return"bg-primary/20 text-primary";case"secondary":return"bg-secondary/20 text-secondary";default:return"bg-gray-100 text-gray-700"}};return h.jsx("span",{className:at("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",t(e.color)),children:e.label})};function Na({columns:e,title:t,addPath:r,onAddClick:n,backPath:a,service:s,onPrint:o}){const[c,u]=M.useState([]),[f,m]=M.useState([]),[g,v]=M.useState(!0),[x,y]=M.useState(""),[w,b]=M.useState(!1),[S,T]=M.useState(null),E=M.useMemo(()=>s,[s]),A=M.useMemo(()=>t,[t]),k={header:"Acciones",accessor:"actions",render:G=>h.jsxs("div",{className:"flex gap-2 justify-end",children:[o&&h.jsx(ze,{variant:"ghost",size:"icon",onClick:ne=>{ne.stopPropagation(),o(G)},children:h.jsx(HD,{className:"h-4 w-4"})}),h.jsx(Vi,{to:`${a||""}/${G.id}`,children:h.jsx(ze,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Ver detalles",children:h.jsx(BD,{className:"h-5 w-5"})})}),h.jsx(Vi,{to:`${a||""}/${G.id}/edit`,children:h.jsx(ze,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Editar",children:h.jsx(Qh,{className:"h-5 w-5"})})}),h.jsx(ze,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:text-destructive",onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),G.id&&H(G.id)},title:"Eliminar",children:h.jsx(Zh,{className:"h-5 w-5"})})]})},D={header:"#",accessor:"nro",type:"text",searchable:!0},R=e.filter(G=>G.accessor!=="nro"),P=[D,...R,k],I=M.useCallback(async()=>{try{g||console.log("Cargando items",{title:A});const G=await E.findAll();u(G),m(G),console.log("Items cargados exitosamente",{count:G.length})}catch(G){console.error("Error al cargar los datos",{error:G,title:A}),dt.error("Error al cargar los datos")}finally{v(!1)}},[E,A,g]);M.useEffect(()=>{I()},[I]),M.useEffect(()=>{if(x.trim()===""){m(c);return}console.log("Filtrando items",{searchTerm:x,totalItems:c.length});const G=e.filter(se=>se.searchable!==!1),ne=c.filter(se=>G.some(L=>(L.render?String(L.render(se)):String(se[L.accessor]??"")).toLowerCase().includes(x.toLowerCase())));console.log("Filtrado completado",{filteredCount:ne.length,searchableColumns:G.length}),m(ne)},[x,c,e]);const B=async G=>{try{console.log("Eliminando item",{id:G,title:A}),await E.delete(G),console.log("Item eliminado exitosamente",{id:G}),dt.success("Registro eliminado exitosamente"),I()}catch(ne){console.error("Error al eliminar el registro",{error:ne,id:G,title:A}),dt.error("Error al eliminar el registro")}},H=G=>{console.log("Iniciando proceso de eliminación",{id:G}),T(G),b(!0)},z=(G,ne)=>{if(ne.render)return ne.render(G);const se=G[ne.accessor];if(ne.type==="date")return lI(se);if(ne.type==="tag"&&ne.tags){const L=ne.tags.find(oe=>oe.value===se);if(L)return h.jsx(YK,{config:L})}return String(se??"")};return g?h.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx(B_,{title:t,subtitle:`Lista de ${t.toLowerCase()}`,actions:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx(dn,{type:"text",placeholder:"Buscar...",value:x,onChange:G=>y(G.target.value),className:"w-[300px] pl-9"}),h.jsx(IU,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"})]}),n?h.jsxs(ze,{onClick:n,children:[h.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Nuevo"]}):r?h.jsx(Vi,{to:r,children:h.jsxs(ze,{children:[h.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Nuevo"]})}):null]})}),h.jsxs("div",{className:"flex-1 p-4",children:[h.jsx("div",{className:"flex justify-end mb-2",children:h.jsx("span",{className:"text-sm text-muted-foreground",children:x.trim()!==""?h.jsxs(h.Fragment,{children:["Filtrados: ",h.jsx("span",{className:"font-medium text-foreground",children:f.length}),h.jsx("span",{className:"mx-2",children:"|"}),"Total: ",h.jsx("span",{className:"font-medium text-foreground",children:c.length})]}):h.jsxs(h.Fragment,{children:["Total: ",h.jsxs("span",{className:"font-medium text-foreground",children:[c.length," ",c.length===1?t.slice(0,-1).toLowerCase():t.toLowerCase()]})]})})}),h.jsx("div",{className:"rounded-md border",children:h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsxs("table",{className:"w-full caption-bottom text-sm",children:[h.jsx("thead",{className:"[&_tr]:border-b bg-muted/50",children:h.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:P.map((G,ne)=>h.jsx("th",{className:at("h-10 px-2 text-left align-middle font-medium text-muted-foreground",G.header==="Acciones"&&"text-right",G.header==="#"&&"w-[60px] text-center"),children:G.header},ne))})}),h.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:f.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:P.length,className:"p-2 text-center text-muted-foreground",children:x.trim()!==""?`No se encontraron ${t.toLowerCase()} que coincidan con la búsqueda`:`No hay ${t.toLowerCase()} registrados`})}):f.map(G=>h.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:P.map((ne,se)=>h.jsx("td",{className:at("p-2 align-middle",ne.header==="#"&&"text-center font-medium"),children:z(G,ne)},se))},G.id))})]})})})]}),h.jsx(L_,{open:w,onOpenChange:b,title:"Confirmar eliminación",description:"¿Está seguro de que desea eliminar este registro? Esta acción no se puede deshacer.",onConfirm:()=>S&&B(S),confirmText:"Eliminar",variant:"destructive"})]})}class Aa{constructor(t,r){gt(this,"db");gt(this,"path");this.db=t,this.path=r}validateModelData(t){if(!this.modelProperties)throw new Error("Model properties must be defined in the repository implementation");const r=Object.keys(t).filter(n=>!this.modelProperties.includes(n)&&n!=="nro"&&n!=="createdAt"&&n!=="updatedAt");if(r.length>0)throw new Error(`Invalid properties found: ${r.join(", ")}`);for(const[n,a]of Object.entries(t))if(a!=null&&n.toLowerCase().includes("date")&&!(a instanceof Date)&&!this.isValidDateString(a))throw new Error(`Invalid date format for property: ${n}`)}isValidDateString(t){const r=new Date(t);return r instanceof Date&&!isNaN(r.getTime())}mapDocumentToEntity(t,r){const n={...t};return Object.entries(n).forEach(([a,s])=>{if(typeof s=="string"&&a.toLowerCase().includes("date"))try{const o=new Date(s);isNaN(o.getTime())||(n[a]=o)}catch(o){console.error(`Error converting date for field ${a}:`,o)}}),{id:r,...n}}getRef(t){return pp(this.db,t?`${this.path}/${t}`:this.path)}async getSnapshot(t){return gp(this.getRef(t))}async setData(t,r){await sc(this.getRef(t),r)}async updateData(t,r){await RY(this.getRef(t),r)}async removeData(t){await TA(this.getRef(t))}async pushData(t){const r=CA(this.getRef());return await sc(r,t),r}async queryData(t,r){const n=jY(this.getRef(),PY(t),FY(r));return await gp(n)}async findAll(){const t=await this.getSnapshot();if(!t.exists())return[];const r=t.val();return Object.entries(r).map(([n,a])=>({...a,id:n}))}async findById(t){const r=await this.getSnapshot(t);return r.exists()?{...r.val(),id:t}:null}async create(t){const{id:r,...n}=t,a=Object.entries(n).reduce((c,[u,f])=>(f instanceof Date?c[u]=f.toISOString():c[u]=f,c),{}),s=CA(this.getRef()),o=s.key;return await sc(s,a),{...n,id:o}}async update(t,r){const n=pp(this.db,`${this.path}/${t}`),a=await gp(n);if(!a.exists())throw new Error("Entity not found");const{id:s,...o}=r,c=Object.entries(o).reduce((f,[m,g])=>(g instanceof Date?f[m]=g.toISOString():f[m]=g,f),{}),u=a.val();await sc(n,{...u,...c,updatedAt:new Date().toISOString()})}async delete(t){await TA(pp(this.db,`${this.path}/${t}`))}async findByField(t,r){const n=await this.getSnapshot();if(!n.exists())return[];const a=n.val();return Object.entries(a).filter(([s,o])=>o[t]===r).map(([s,o])=>({...o,id:s}))}}class nP extends Aa{constructor(r){super(r,"customers");gt(this,"modelProperties",["name","phone","email","address","status"])}async findByName(r){return this.findByField("name",r)}async findByEmail(r){return this.findByField("email",r)}async findByPhone(r){return this.findByField("phone",r)}async findByStatus(r){return this.findByField("status",r)}}class U_{constructor(){gt(this,"SEQUENCES_PATH","sequences")}async getNextNumber(t){if(!t)throw new Error("El nombre del modelo es requerido para generar la secuencia");try{const r=pp(Vs,`${this.SEQUENCES_PATH}/${t}`),n=await gp(r);if(!n.exists())return await sc(r,{lastNumber:1,updatedAt:new Date().toISOString()}),"00001";const s=(n.val().lastNumber||0)+1;return await sc(r,{lastNumber:s,updatedAt:new Date().toISOString()}),s.toString().padStart(5,"0")}catch(r){throw console.error("Error getting next sequence number:",r),new Error(`Error al generar el siguiente número de secuencia para ${t}`)}}}const XK=new U_;class ka{constructor(t,r){gt(this,"repository");gt(this,"modelName");this.repository=new t(Vs),this.modelName=r}async findAll(){return this.repository.findAll()}async findById(t){return this.repository.findById(t)}async create(t){const r=new Date,n=this.modelName==="sequences"?crypto.randomUUID():await XK.getNextNumber(this.modelName),a={...t,nro:n,createdAt:r,updatedAt:r};return this.repository.create(a)}async update(t,r){await this.repository.update(t,r);const n=await this.findById(t);if(!n)throw new Error("Entity not found after update");return n}async delete(t){return await this.repository.delete(t),!0}}class li extends ka{constructor(){super(nP,"customers")}async findByName(t){return this.repository.findByName(t)}async findByEmail(t){return this.repository.findByEmail(t)}async findByPhone(t){return this.repository.findByPhone(t)}async findByStatus(t){return(await this.repository.findAll()).filter(n=>n.status===t)}}var Ys=(e=>(e.ACTIVO="ACTIVO",e.INACTIVO="INACTIVO",e))(Ys||{});const aP=e=>{switch(e){case"ACTIVO":return"ACTIVO";case"INACTIVO":return"INACTIVO";default:return e}},f0=()=>[{value:"ACTIVO",label:"ACTIVO"},{value:"INACTIVO",label:"INACTIVO"}],no=()=>[{value:"ACTIVO",label:"ACTIVO",color:"success"},{value:"INACTIVO",label:"INACTIVO",color:"secondary"}];function KK(){const e=new li,t=[{header:"Nombre",accessor:"name"},{header:"Teléfono",accessor:"phone",render:r=>r.phone||"-"},{header:"Estado",accessor:"status",type:"tag",tags:no()}];return h.jsx(Na,{columns:t,title:"Clientes",addPath:"/customers/new",backPath:"/customers",service:e})}const _s=N.forwardRef(({className:e,...t},r)=>h.jsx("label",{ref:r,className:at("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));_s.displayName="Label";function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function QK(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sP(e){var t=QK(e,"string");return Ec(t)=="symbol"?t:t+""}function Hf(e,t,r){return(t=sP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(r),!0).forEach(function(n){Hf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZK(e){if(Array.isArray(e))return e}function JK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,c=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(m){f=!0,a=m}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw a}}return c}}function Rb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function iP(e,t){if(e){if(typeof e=="string")return Rb(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rb(e,t):void 0}}function eQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $i(e,t){return ZK(e)||JK(e,t)||iP(e,t)||eQ()}function tQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ao(e,t){if(e==null)return{};var r,n,a=tQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var rQ=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function nQ(e){var t=e.defaultInputValue,r=t===void 0?"":t,n=e.defaultMenuIsOpen,a=n===void 0?!1:n,s=e.defaultValue,o=s===void 0?null:s,c=e.inputValue,u=e.menuIsOpen,f=e.onChange,m=e.onInputChange,g=e.onMenuClose,v=e.onMenuOpen,x=e.value,y=ao(e,rQ),w=N.useState(c!==void 0?c:r),b=$i(w,2),S=b[0],T=b[1],E=N.useState(u!==void 0?u:a),A=$i(E,2),k=A[0],D=A[1],R=N.useState(x!==void 0?x:o),P=$i(R,2),I=P[0],B=P[1],H=N.useCallback(function(le,W){typeof f=="function"&&f(le,W),B(le)},[f]),z=N.useCallback(function(le,W){var V;typeof m=="function"&&(V=m(le,W)),T(V!==void 0?V:le)},[m]),G=N.useCallback(function(){typeof v=="function"&&v(),D(!0)},[v]),ne=N.useCallback(function(){typeof g=="function"&&g(),D(!1)},[g]),se=c!==void 0?c:S,L=u!==void 0?u:k,oe=x!==void 0?x:I;return lt(lt({},y),{},{inputValue:se,menuIsOpen:L,onChange:H,onInputChange:z,onMenuClose:ne,onMenuOpen:G,value:oe})}function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ut.apply(null,arguments)}function aQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sP(n.key),n)}}function sQ(e,t,r){return t&&$A(e.prototype,t),r&&$A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Db(e,t){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Db(e,t)}function iQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Db(e,t)}function Qp(e){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qp(e)}function oP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oP=function(){return!!e})()}function oQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lQ(e,t){if(t&&(Ec(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oQ(e)}function cQ(e){var t=oP();return function(){var r,n=Qp(e);if(t){var a=Qp(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return lQ(this,r)}}function uQ(e){if(Array.isArray(e))return Rb(e)}function dQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V_(e){return uQ(e)||dQ(e)||iP(e)||fQ()}function hQ(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function mQ(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var pQ=function(){function e(r){var n=this;this._insertTag=function(a){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mQ(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=hQ(a);try{s.insertRule(n,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},e}(),kn="-ms-",Zp="-moz-",zt="-webkit-",lP="comm",H_="rule",$_="decl",gQ="@import",cP="@keyframes",vQ="@layer",xQ=Math.abs,sv=String.fromCharCode,yQ=Object.assign;function bQ(e,t){return bn(e,0)^45?(((t<<2^bn(e,0))<<2^bn(e,1))<<2^bn(e,2))<<2^bn(e,3):0}function uP(e){return e.trim()}function wQ(e,t){return(e=t.exec(e))?e[0]:e}function Wt(e,t,r){return e.replace(t,r)}function Ib(e,t){return e.indexOf(t)}function bn(e,t){return e.charCodeAt(t)|0}function Oh(e,t,r){return e.slice(t,r)}function Hs(e){return e.length}function z_(e){return e.length}function qm(e,t){return t.push(e),e}function _Q(e,t){return e.map(t).join("")}var iv=1,Ju=1,dP=0,ca=0,Hr=0,wd="";function ov(e,t,r,n,a,s,o){return{value:e,root:t,parent:r,type:n,props:a,children:s,line:iv,column:Ju,length:o,return:""}}function Of(e,t){return yQ(ov("",null,null,"",null,null,0),e,{length:-e.length},t)}function EQ(){return Hr}function SQ(){return Hr=ca>0?bn(wd,--ca):0,Ju--,Hr===10&&(Ju=1,iv--),Hr}function Ea(){return Hr=ca<dP?bn(wd,ca++):0,Ju++,Hr===10&&(Ju=1,iv++),Hr}function ei(){return bn(wd,ca)}function yp(){return ca}function h0(e,t){return Oh(wd,e,t)}function Ph(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fP(e){return iv=Ju=1,dP=Hs(wd=e),ca=0,[]}function hP(e){return wd="",e}function bp(e){return uP(h0(ca-1,Ob(e===91?e+2:e===40?e+1:e)))}function CQ(e){for(;(Hr=ei())&&Hr<33;)Ea();return Ph(e)>2||Ph(Hr)>3?"":" "}function TQ(e,t){for(;--t&&Ea()&&!(Hr<48||Hr>102||Hr>57&&Hr<65||Hr>70&&Hr<97););return h0(e,yp()+(t<6&&ei()==32&&Ea()==32))}function Ob(e){for(;Ea();)switch(Hr){case e:return ca;case 34:case 39:e!==34&&e!==39&&Ob(Hr);break;case 40:e===41&&Ob(e);break;case 92:Ea();break}return ca}function NQ(e,t){for(;Ea()&&e+Hr!==57;)if(e+Hr===84&&ei()===47)break;return"/*"+h0(t,ca-1)+"*"+sv(e===47?e:Ea())}function AQ(e){for(;!Ph(ei());)Ea();return h0(e,ca)}function kQ(e){return hP(wp("",null,null,null,[""],e=fP(e),0,[0],e))}function wp(e,t,r,n,a,s,o,c,u){for(var f=0,m=0,g=o,v=0,x=0,y=0,w=1,b=1,S=1,T=0,E="",A=a,k=s,D=n,R=E;b;)switch(y=T,T=Ea()){case 40:if(y!=108&&bn(R,g-1)==58){Ib(R+=Wt(bp(T),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:R+=bp(T);break;case 9:case 10:case 13:case 32:R+=CQ(y);break;case 92:R+=TQ(yp()-1,7);continue;case 47:switch(ei()){case 42:case 47:qm(RQ(NQ(Ea(),yp()),t,r),u);break;default:R+="/"}break;case 123*w:c[f++]=Hs(R)*S;case 125*w:case 59:case 0:switch(T){case 0:case 125:b=0;case 59+m:S==-1&&(R=Wt(R,/\f/g,"")),x>0&&Hs(R)-g&&qm(x>32?WA(R+";",n,r,g-1):WA(Wt(R," ","")+";",n,r,g-2),u);break;case 59:R+=";";default:if(qm(D=zA(R,t,r,f,m,a,c,E,A=[],k=[],g),s),T===123)if(m===0)wp(R,t,D,D,A,s,g,c,k);else switch(v===99&&bn(R,3)===110?100:v){case 100:case 108:case 109:case 115:wp(e,D,D,n&&qm(zA(e,D,D,0,0,a,c,E,a,A=[],g),k),a,k,g,c,n?A:k);break;default:wp(R,D,D,D,[""],k,0,c,k)}}f=m=x=0,w=S=1,E=R="",g=o;break;case 58:g=1+Hs(R),x=y;default:if(w<1){if(T==123)--w;else if(T==125&&w++==0&&SQ()==125)continue}switch(R+=sv(T),T*w){case 38:S=m>0?1:(R+="\f",-1);break;case 44:c[f++]=(Hs(R)-1)*S,S=1;break;case 64:ei()===45&&(R+=bp(Ea())),v=ei(),m=g=Hs(E=R+=AQ(yp())),T++;break;case 45:y===45&&Hs(R)==2&&(w=0)}}return s}function zA(e,t,r,n,a,s,o,c,u,f,m){for(var g=a-1,v=a===0?s:[""],x=z_(v),y=0,w=0,b=0;y<n;++y)for(var S=0,T=Oh(e,g+1,g=xQ(w=o[y])),E=e;S<x;++S)(E=uP(w>0?v[S]+" "+T:Wt(T,/&\f/g,v[S])))&&(u[b++]=E);return ov(e,t,r,a===0?H_:c,u,f,m)}function RQ(e,t,r){return ov(e,t,r,lP,sv(EQ()),Oh(e,2,-2),0)}function WA(e,t,r,n){return ov(e,t,r,$_,Oh(e,0,n),Oh(e,n+1,-1),n)}function Uu(e,t){for(var r="",n=z_(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function DQ(e,t,r,n){switch(e.type){case vQ:if(e.children.length)break;case gQ:case $_:return e.return=e.return||e.value;case lP:return"";case cP:return e.return=e.value+"{"+Uu(e.children,n)+"}";case H_:e.value=e.props.join(",")}return Hs(r=Uu(e.children,n))?e.return=e.value+"{"+r+"}":""}function IQ(e){var t=z_(e);return function(r,n,a,s){for(var o="",c=0;c<t;c++)o+=e[c](r,n,a,s)||"";return o}}function OQ(e){return function(t){t.root||(t=t.return)&&e(t)}}var PQ=function(t,r,n){for(var a=0,s=0;a=s,s=ei(),a===38&&s===12&&(r[n]=1),!Ph(s);)Ea();return h0(t,ca)},MQ=function(t,r){var n=-1,a=44;do switch(Ph(a)){case 0:a===38&&ei()===12&&(r[n]=1),t[n]+=PQ(ca-1,r,n);break;case 2:t[n]+=bp(a);break;case 4:if(a===44){t[++n]=ei()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=sv(a)}while(a=Ea());return t},FQ=function(t,r){return hP(MQ(fP(t),r))},qA=new WeakMap,jQ=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,a=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!qA.get(n))&&!a){qA.set(t,!0);for(var s=[],o=FQ(r,s),c=n.props,u=0,f=0;u<o.length;u++)for(var m=0;m<c.length;m++,f++)t.props[f]=s[u]?o[u].replace(/&\f/g,c[m]):c[m]+" "+o[u]}}},LQ=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function mP(e,t){switch(bQ(e,t)){case 5103:return zt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return zt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return zt+e+Zp+e+kn+e+e;case 6828:case 4268:return zt+e+kn+e+e;case 6165:return zt+e+kn+"flex-"+e+e;case 5187:return zt+e+Wt(e,/(\w+).+(:[^]+)/,zt+"box-$1$2"+kn+"flex-$1$2")+e;case 5443:return zt+e+kn+"flex-item-"+Wt(e,/flex-|-self/,"")+e;case 4675:return zt+e+kn+"flex-line-pack"+Wt(e,/align-content|flex-|-self/,"")+e;case 5548:return zt+e+kn+Wt(e,"shrink","negative")+e;case 5292:return zt+e+kn+Wt(e,"basis","preferred-size")+e;case 6060:return zt+"box-"+Wt(e,"-grow","")+zt+e+kn+Wt(e,"grow","positive")+e;case 4554:return zt+Wt(e,/([^-])(transform)/g,"$1"+zt+"$2")+e;case 6187:return Wt(Wt(Wt(e,/(zoom-|grab)/,zt+"$1"),/(image-set)/,zt+"$1"),e,"")+e;case 5495:case 3959:return Wt(e,/(image-set\([^]*)/,zt+"$1$`$1");case 4968:return Wt(Wt(e,/(.+:)(flex-)?(.*)/,zt+"box-pack:$3"+kn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+zt+e+e;case 4095:case 3583:case 4068:case 2532:return Wt(e,/(.+)-inline(.+)/,zt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Hs(e)-1-t>6)switch(bn(e,t+1)){case 109:if(bn(e,t+4)!==45)break;case 102:return Wt(e,/(.+:)(.+)-([^]+)/,"$1"+zt+"$2-$3$1"+Zp+(bn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Ib(e,"stretch")?mP(Wt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(bn(e,t+1)!==115)break;case 6444:switch(bn(e,Hs(e)-3-(~Ib(e,"!important")&&10))){case 107:return Wt(e,":",":"+zt)+e;case 101:return Wt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+zt+(bn(e,14)===45?"inline-":"")+"box$3$1"+zt+"$2$3$1"+kn+"$2box$3")+e}break;case 5936:switch(bn(e,t+11)){case 114:return zt+e+kn+Wt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return zt+e+kn+Wt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return zt+e+kn+Wt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return zt+e+kn+e+e}return e}var BQ=function(t,r,n,a){if(t.length>-1&&!t.return)switch(t.type){case $_:t.return=mP(t.value,t.length);break;case cP:return Uu([Of(t,{value:Wt(t.value,"@","@"+zt)})],a);case H_:if(t.length)return _Q(t.props,function(s){switch(wQ(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Uu([Of(t,{props:[Wt(s,/:(read-\w+)/,":"+Zp+"$1")]})],a);case"::placeholder":return Uu([Of(t,{props:[Wt(s,/:(plac\w+)/,":"+zt+"input-$1")]}),Of(t,{props:[Wt(s,/:(plac\w+)/,":"+Zp+"$1")]}),Of(t,{props:[Wt(s,/:(plac\w+)/,kn+"input-$1")]})],a)}return""})}},UQ=[BQ],VQ=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(w){var b=w.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var a=t.stylisPlugins||UQ,s={},o,c=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(w){for(var b=w.getAttribute("data-emotion").split(" "),S=1;S<b.length;S++)s[b[S]]=!0;c.push(w)});var u,f=[jQ,LQ];{var m,g=[DQ,OQ(function(w){m.insert(w)})],v=IQ(f.concat(a,g)),x=function(b){return Uu(kQ(b),v)};u=function(b,S,T,E){m=T,x(b?b+"{"+S.styles+"}":S.styles),E&&(y.inserted[S.name]=!0)}}var y={key:r,sheet:new pQ({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return y.sheet.hydrate(c),y},x1={exports:{}},Yt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA;function HQ(){if(GA)return Yt;GA=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,m=e?Symbol.for("react.forward_ref"):60112,g=e?Symbol.for("react.suspense"):60113,v=e?Symbol.for("react.suspense_list"):60120,x=e?Symbol.for("react.memo"):60115,y=e?Symbol.for("react.lazy"):60116,w=e?Symbol.for("react.block"):60121,b=e?Symbol.for("react.fundamental"):60117,S=e?Symbol.for("react.responder"):60118,T=e?Symbol.for("react.scope"):60119;function E(k){if(typeof k=="object"&&k!==null){var D=k.$$typeof;switch(D){case t:switch(k=k.type,k){case u:case f:case n:case s:case a:case g:return k;default:switch(k=k&&k.$$typeof,k){case c:case m:case y:case x:case o:return k;default:return D}}case r:return D}}}function A(k){return E(k)===f}return Yt.AsyncMode=u,Yt.ConcurrentMode=f,Yt.ContextConsumer=c,Yt.ContextProvider=o,Yt.Element=t,Yt.ForwardRef=m,Yt.Fragment=n,Yt.Lazy=y,Yt.Memo=x,Yt.Portal=r,Yt.Profiler=s,Yt.StrictMode=a,Yt.Suspense=g,Yt.isAsyncMode=function(k){return A(k)||E(k)===u},Yt.isConcurrentMode=A,Yt.isContextConsumer=function(k){return E(k)===c},Yt.isContextProvider=function(k){return E(k)===o},Yt.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===t},Yt.isForwardRef=function(k){return E(k)===m},Yt.isFragment=function(k){return E(k)===n},Yt.isLazy=function(k){return E(k)===y},Yt.isMemo=function(k){return E(k)===x},Yt.isPortal=function(k){return E(k)===r},Yt.isProfiler=function(k){return E(k)===s},Yt.isStrictMode=function(k){return E(k)===a},Yt.isSuspense=function(k){return E(k)===g},Yt.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===n||k===f||k===s||k===a||k===g||k===v||typeof k=="object"&&k!==null&&(k.$$typeof===y||k.$$typeof===x||k.$$typeof===o||k.$$typeof===c||k.$$typeof===m||k.$$typeof===b||k.$$typeof===S||k.$$typeof===T||k.$$typeof===w)},Yt.typeOf=E,Yt}var YA;function $Q(){return YA||(YA=1,x1.exports=HQ()),x1.exports}var y1,XA;function zQ(){if(XA)return y1;XA=1;var e=$Q(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[e.ForwardRef]=n,s[e.Memo]=a;function o(y){return e.isMemo(y)?a:s[y.$$typeof]||t}var c=Object.defineProperty,u=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,v=Object.prototype;function x(y,w,b){if(typeof w!="string"){if(v){var S=g(w);S&&S!==v&&x(y,S,b)}var T=u(w);f&&(T=T.concat(f(w)));for(var E=o(y),A=o(w),k=0;k<T.length;++k){var D=T[k];if(!r[D]&&!(b&&b[D])&&!(A&&A[D])&&!(E&&E[D])){var R=m(w,D);try{c(y,D,R)}catch{}}}}return y}return y1=x,y1}zQ();var WQ=!0;function qQ(e,t,r){var n="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):a&&(n+=a+" ")}),n}var pP=function(t,r,n){var a=t.key+"-"+r.name;(n===!1||WQ===!1)&&t.registered[a]===void 0&&(t.registered[a]=r.styles)},GQ=function(t,r,n){pP(t,r,n);var a=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var s=r;do t.insert(r===s?"."+a:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function YQ(e){for(var t=0,r,n=0,a=e.length;a>=4;++n,a-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var XQ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function KQ(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var QQ=/[A-Z]|^ms/g,ZQ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,gP=function(t){return t.charCodeAt(1)===45},KA=function(t){return t!=null&&typeof t!="boolean"},b1=KQ(function(e){return gP(e)?e:e.replace(QQ,"-$&").toLowerCase()}),QA=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(ZQ,function(n,a,s){return $s={name:a,styles:s,next:$s},a})}return XQ[t]!==1&&!gP(t)&&typeof r=="number"&&r!==0?r+"px":r};function Mh(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return $s={name:a.name,styles:a.styles,next:$s},a.name;var s=r;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)$s={name:o.name,styles:o.styles,next:$s},o=o.next;var c=s.styles+";";return c}return JQ(e,t,r)}case"function":{if(e!==void 0){var u=$s,f=r(e);return $s=u,Mh(e,t,f)}break}}var m=r;return m}function JQ(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Mh(e,t,r[a])+";";else for(var s in r){var o=r[s];if(typeof o!="object"){var c=o;KA(c)&&(n+=b1(s)+":"+QA(s,c)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var u=0;u<o.length;u++)KA(o[u])&&(n+=b1(s)+":"+QA(s,o[u])+";");else{var f=Mh(e,t,o);switch(s){case"animation":case"animationName":{n+=b1(s)+":"+f+";";break}default:n+=s+"{"+f+"}"}}}return n}var ZA=/label:\s*([^\s;{]+)\s*(;|$)/g,$s;function vP(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,a="";$s=void 0;var s=e[0];if(s==null||s.raw===void 0)n=!1,a+=Mh(r,t,s);else{var o=s;a+=o[0]}for(var c=1;c<e.length;c++)if(a+=Mh(r,t,e[c]),n){var u=s;a+=u[c]}ZA.lastIndex=0;for(var f="",m;(m=ZA.exec(a))!==null;)f+="-"+m[1];var g=YQ(a)+f;return{name:g,styles:a,next:$s}}var eZ=function(t){return t()},tZ=gh.useInsertionEffect?gh.useInsertionEffect:!1,rZ=tZ||eZ,xP=N.createContext(typeof HTMLElement<"u"?VQ({key:"css"}):null);xP.Provider;var nZ=function(t){return N.forwardRef(function(r,n){var a=N.useContext(xP);return t(r,a,n)})},aZ=N.createContext({}),W_={}.hasOwnProperty,Pb="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",sZ=function(t,r){var n={};for(var a in r)W_.call(r,a)&&(n[a]=r[a]);return n[Pb]=t,n},iZ=function(t){var r=t.cache,n=t.serialized,a=t.isStringTag;return pP(r,n,a),rZ(function(){return GQ(r,n,a)}),null},oZ=nZ(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var a=e[Pb],s=[n],o="";typeof e.className=="string"?o=qQ(t.registered,s,e.className):e.className!=null&&(o=e.className+" ");var c=vP(s,void 0,N.useContext(aZ));o+=t.key+"-"+c.name;var u={};for(var f in e)W_.call(e,f)&&f!=="css"&&f!==Pb&&(u[f]=e[f]);return u.className=o,r&&(u.ref=r),N.createElement(N.Fragment,null,N.createElement(iZ,{cache:t,serialized:c,isStringTag:typeof a=="string"}),N.createElement(a,u))}),lZ=oZ,rt=function(t,r){var n=arguments;if(r==null||!W_.call(r,"css"))return N.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=lZ,s[1]=sZ(t,r);for(var o=2;o<a;o++)s[o]=n[o];return N.createElement.apply(null,s)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(rt||(rt={}));function q_(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return vP(t)}function cZ(){var e=q_.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function uZ(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const dZ=["top","right","bottom","left"],ol=Math.min,ba=Math.max,Jp=Math.round,Gm=Math.floor,ti=e=>({x:e,y:e}),fZ={left:"right",right:"left",bottom:"top",top:"bottom"},hZ={start:"end",end:"start"};function Mb(e,t,r){return ba(e,ol(t,r))}function Ji(e,t){return typeof e=="function"?e(t):e}function eo(e){return e.split("-")[0]}function _d(e){return e.split("-")[1]}function G_(e){return e==="x"?"y":"x"}function Y_(e){return e==="y"?"height":"width"}function ll(e){return["top","bottom"].includes(eo(e))?"y":"x"}function X_(e){return G_(ll(e))}function mZ(e,t,r){r===void 0&&(r=!1);const n=_d(e),a=X_(e),s=Y_(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=eg(o)),[o,eg(o)]}function pZ(e){const t=eg(e);return[Fb(e),t,Fb(t)]}function Fb(e){return e.replace(/start|end/g,t=>hZ[t])}function gZ(e,t,r){const n=["left","right"],a=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?s:o;default:return[]}}function vZ(e,t,r,n){const a=_d(e);let s=gZ(eo(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(Fb)))),s}function eg(e){return e.replace(/left|right|bottom|top/g,t=>fZ[t])}function xZ(e){return{top:0,right:0,bottom:0,left:0,...e}}function yP(e){return typeof e!="number"?xZ(e):{top:e,right:e,bottom:e,left:e}}function tg(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function JA(e,t,r){let{reference:n,floating:a}=e;const s=ll(t),o=X_(t),c=Y_(o),u=eo(t),f=s==="y",m=n.x+n.width/2-a.width/2,g=n.y+n.height/2-a.height/2,v=n[c]/2-a[c]/2;let x;switch(u){case"top":x={x:m,y:n.y-a.height};break;case"bottom":x={x:m,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:g};break;case"left":x={x:n.x-a.width,y:g};break;default:x={x:n.x,y:n.y}}switch(_d(t)){case"start":x[o]-=v*(r&&f?-1:1);break;case"end":x[o]+=v*(r&&f?-1:1);break}return x}const yZ=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,c=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let f=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:m,y:g}=JA(f,n,u),v=n,x={},y=0;for(let w=0;w<c.length;w++){const{name:b,fn:S}=c[w],{x:T,y:E,data:A,reset:k}=await S({x:m,y:g,initialPlacement:n,placement:v,strategy:a,middlewareData:x,rects:f,platform:o,elements:{reference:e,floating:t}});m=T??m,g=E??g,x={...x,[b]:{...x[b],...A}},k&&y<=50&&(y++,typeof k=="object"&&(k.placement&&(v=k.placement),k.rects&&(f=k.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:m,y:g}=JA(f,v,u)),w=-1)}return{x:m,y:g,placement:v,strategy:a,middlewareData:x}};async function Fh(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:c,strategy:u}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:v=!1,padding:x=0}=Ji(t,e),y=yP(x),b=c[v?g==="floating"?"reference":"floating":g],S=tg(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(b)))==null||r?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:f,rootBoundary:m,strategy:u})),T=g==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),A=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},k=tg(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:T,offsetParent:E,strategy:u}):T);return{top:(S.top-k.top+y.top)/A.y,bottom:(k.bottom-S.bottom+y.bottom)/A.y,left:(S.left-k.left+y.left)/A.x,right:(k.right-S.right+y.right)/A.x}}const bZ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:c,middlewareData:u}=t,{element:f,padding:m=0}=Ji(e,t)||{};if(f==null)return{};const g=yP(m),v={x:r,y:n},x=X_(a),y=Y_(x),w=await o.getDimensions(f),b=x==="y",S=b?"top":"left",T=b?"bottom":"right",E=b?"clientHeight":"clientWidth",A=s.reference[y]+s.reference[x]-v[x]-s.floating[y],k=v[x]-s.reference[x],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let R=D?D[E]:0;(!R||!await(o.isElement==null?void 0:o.isElement(D)))&&(R=c.floating[E]||s.floating[y]);const P=A/2-k/2,I=R/2-w[y]/2-1,B=ol(g[S],I),H=ol(g[T],I),z=B,G=R-w[y]-H,ne=R/2-w[y]/2+P,se=Mb(z,ne,G),L=!u.arrow&&_d(a)!=null&&ne!==se&&s.reference[y]/2-(ne<z?B:H)-w[y]/2<0,oe=L?ne<z?ne-z:ne-G:0;return{[x]:v[x]+oe,data:{[x]:se,centerOffset:ne-se-oe,...L&&{alignmentOffset:oe}},reset:L}}}),wZ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:c,platform:u,elements:f}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,...b}=Ji(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const S=eo(a),T=ll(c),E=eo(c)===c,A=await(u.isRTL==null?void 0:u.isRTL(f.floating)),k=v||(E||!w?[eg(c)]:pZ(c)),D=y!=="none";!v&&D&&k.push(...vZ(c,w,y,A));const R=[c,...k],P=await Fh(t,b),I=[];let B=((n=s.flip)==null?void 0:n.overflows)||[];if(m&&I.push(P[S]),g){const ne=mZ(a,o,A);I.push(P[ne[0]],P[ne[1]])}if(B=[...B,{placement:a,overflows:I}],!I.every(ne=>ne<=0)){var H,z;const ne=(((H=s.flip)==null?void 0:H.index)||0)+1,se=R[ne];if(se)return{data:{index:ne,overflows:B},reset:{placement:se}};let L=(z=B.filter(oe=>oe.overflows[0]<=0).sort((oe,le)=>oe.overflows[1]-le.overflows[1])[0])==null?void 0:z.placement;if(!L)switch(x){case"bestFit":{var G;const oe=(G=B.filter(le=>{if(D){const W=ll(le.placement);return W===T||W==="y"}return!0}).map(le=>[le.placement,le.overflows.filter(W=>W>0).reduce((W,V)=>W+V,0)]).sort((le,W)=>le[1]-W[1])[0])==null?void 0:G[0];oe&&(L=oe);break}case"initialPlacement":L=c;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function ek(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function tk(e){return dZ.some(t=>e[t]>=0)}const _Z=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Ji(e,t);switch(n){case"referenceHidden":{const s=await Fh(t,{...a,elementContext:"reference"}),o=ek(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:tk(o)}}}case"escaped":{const s=await Fh(t,{...a,altBoundary:!0}),o=ek(s,r.floating);return{data:{escapedOffsets:o,escaped:tk(o)}}}default:return{}}}}};async function EZ(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=eo(r),c=_d(r),u=ll(r)==="y",f=["left","top"].includes(o)?-1:1,m=s&&u?-1:1,g=Ji(t,e);let{mainAxis:v,crossAxis:x,alignmentAxis:y}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof y=="number"&&(x=c==="end"?y*-1:y),u?{x:x*m,y:v*f}:{x:v*f,y:x*m}}const SZ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:c}=t,u=await EZ(t,e);return o===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:a+u.x,y:s+u.y,data:{...u,placement:o}}}}},CZ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:c={fn:b=>{let{x:S,y:T}=b;return{x:S,y:T}}},...u}=Ji(e,t),f={x:r,y:n},m=await Fh(t,u),g=ll(eo(a)),v=G_(g);let x=f[v],y=f[g];if(s){const b=v==="y"?"top":"left",S=v==="y"?"bottom":"right",T=x+m[b],E=x-m[S];x=Mb(T,x,E)}if(o){const b=g==="y"?"top":"left",S=g==="y"?"bottom":"right",T=y+m[b],E=y-m[S];y=Mb(T,y,E)}const w=c.fn({...t,[v]:x,[g]:y});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[v]:s,[g]:o}}}}}},TZ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=t,{offset:c=0,mainAxis:u=!0,crossAxis:f=!0}=Ji(e,t),m={x:r,y:n},g=ll(a),v=G_(g);let x=m[v],y=m[g];const w=Ji(c,t),b=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const E=v==="y"?"height":"width",A=s.reference[v]-s.floating[E]+b.mainAxis,k=s.reference[v]+s.reference[E]-b.mainAxis;x<A?x=A:x>k&&(x=k)}if(f){var S,T;const E=v==="y"?"width":"height",A=["top","left"].includes(eo(a)),k=s.reference[g]-s.floating[E]+(A&&((S=o.offset)==null?void 0:S[g])||0)+(A?0:b.crossAxis),D=s.reference[g]+s.reference[E]+(A?0:((T=o.offset)==null?void 0:T[g])||0)-(A?b.crossAxis:0);y<k?y=k:y>D&&(y=D)}return{[v]:x,[g]:y}}}},NZ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:o,elements:c}=t,{apply:u=()=>{},...f}=Ji(e,t),m=await Fh(t,f),g=eo(a),v=_d(a),x=ll(a)==="y",{width:y,height:w}=s.floating;let b,S;g==="top"||g==="bottom"?(b=g,S=v===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(S=g,b=v==="end"?"top":"bottom");const T=w-m.top-m.bottom,E=y-m.left-m.right,A=ol(w-m[b],T),k=ol(y-m[S],E),D=!t.middlewareData.shift;let R=A,P=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=E),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(R=T),D&&!v){const B=ba(m.left,0),H=ba(m.right,0),z=ba(m.top,0),G=ba(m.bottom,0);x?P=y-2*(B!==0||H!==0?B+H:ba(m.left,m.right)):R=w-2*(z!==0||G!==0?z+G:ba(m.top,m.bottom))}await u({...t,availableWidth:P,availableHeight:R});const I=await o.getDimensions(c.floating);return y!==I.width||w!==I.height?{reset:{rects:!0}}:{}}}};function lv(){return typeof window<"u"}function Ed(e){return bP(e)?(e.nodeName||"").toLowerCase():"#document"}function Sa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ci(e){var t;return(t=(bP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bP(e){return lv()?e instanceof Node||e instanceof Sa(e).Node:!1}function Ts(e){return lv()?e instanceof Element||e instanceof Sa(e).Element:!1}function ri(e){return lv()?e instanceof HTMLElement||e instanceof Sa(e).HTMLElement:!1}function rk(e){return!lv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Sa(e).ShadowRoot}function m0(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ns(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function AZ(e){return["table","td","th"].includes(Ed(e))}function cv(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function K_(e){const t=Q_(),r=Ts(e)?Ns(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function kZ(e){let t=cl(e);for(;ri(t)&&!ed(t);){if(K_(t))return t;if(cv(t))return null;t=cl(t)}return null}function Q_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ed(e){return["html","body","#document"].includes(Ed(e))}function Ns(e){return Sa(e).getComputedStyle(e)}function uv(e){return Ts(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cl(e){if(Ed(e)==="html")return e;const t=e.assignedSlot||e.parentNode||rk(e)&&e.host||ci(e);return rk(t)?t.host:t}function wP(e){const t=cl(e);return ed(t)?e.ownerDocument?e.ownerDocument.body:e.body:ri(t)&&m0(t)?t:wP(t)}function jh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=wP(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=Sa(a);if(s){const c=jb(o);return t.concat(o,o.visualViewport||[],m0(a)?a:[],c&&r?jh(c):[])}return t.concat(a,jh(a,[],r))}function jb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _P(e){const t=Ns(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ri(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,c=Jp(r)!==s||Jp(n)!==o;return c&&(r=s,n=o),{width:r,height:n,$:c}}function Z_(e){return Ts(e)?e:e.contextElement}function Vu(e){const t=Z_(e);if(!ri(t))return ti(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=_P(t);let o=(s?Jp(r.width):r.width)/n,c=(s?Jp(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const RZ=ti(0);function EP(e){const t=Sa(e);return!Q_()||!t.visualViewport?RZ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function DZ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Sa(e)?!1:t}function Sc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=Z_(e);let o=ti(1);t&&(n?Ts(n)&&(o=Vu(n)):o=Vu(e));const c=DZ(s,r,n)?EP(s):ti(0);let u=(a.left+c.x)/o.x,f=(a.top+c.y)/o.y,m=a.width/o.x,g=a.height/o.y;if(s){const v=Sa(s),x=n&&Ts(n)?Sa(n):n;let y=v,w=jb(y);for(;w&&n&&x!==y;){const b=Vu(w),S=w.getBoundingClientRect(),T=Ns(w),E=S.left+(w.clientLeft+parseFloat(T.paddingLeft))*b.x,A=S.top+(w.clientTop+parseFloat(T.paddingTop))*b.y;u*=b.x,f*=b.y,m*=b.x,g*=b.y,u+=E,f+=A,y=Sa(w),w=jb(y)}}return tg({width:m,height:g,x:u,y:f})}function J_(e,t){const r=uv(e).scrollLeft;return t?t.left+r:Sc(ci(e)).left+r}function SP(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:J_(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function IZ(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=ci(n),c=t?cv(t.floating):!1;if(n===o||c&&s)return r;let u={scrollLeft:0,scrollTop:0},f=ti(1);const m=ti(0),g=ri(n);if((g||!g&&!s)&&((Ed(n)!=="body"||m0(o))&&(u=uv(n)),ri(n))){const x=Sc(n);f=Vu(n),m.x=x.x+n.clientLeft,m.y=x.y+n.clientTop}const v=o&&!g&&!s?SP(o,u,!0):ti(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-u.scrollLeft*f.x+m.x+v.x,y:r.y*f.y-u.scrollTop*f.y+m.y+v.y}}function OZ(e){return Array.from(e.getClientRects())}function PZ(e){const t=ci(e),r=uv(e),n=e.ownerDocument.body,a=ba(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=ba(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+J_(e);const c=-r.scrollTop;return Ns(n).direction==="rtl"&&(o+=ba(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:c}}function MZ(e,t){const r=Sa(e),n=ci(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,c=0,u=0;if(a){s=a.width,o=a.height;const f=Q_();(!f||f&&t==="fixed")&&(c=a.offsetLeft,u=a.offsetTop)}return{width:s,height:o,x:c,y:u}}function FZ(e,t){const r=Sc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=ri(e)?Vu(e):ti(1),o=e.clientWidth*s.x,c=e.clientHeight*s.y,u=a*s.x,f=n*s.y;return{width:o,height:c,x:u,y:f}}function nk(e,t,r){let n;if(t==="viewport")n=MZ(e,r);else if(t==="document")n=PZ(ci(e));else if(Ts(t))n=FZ(t,r);else{const a=EP(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return tg(n)}function CP(e,t){const r=cl(e);return r===t||!Ts(r)||ed(r)?!1:Ns(r).position==="fixed"||CP(r,t)}function jZ(e,t){const r=t.get(e);if(r)return r;let n=jh(e,[],!1).filter(c=>Ts(c)&&Ed(c)!=="body"),a=null;const s=Ns(e).position==="fixed";let o=s?cl(e):e;for(;Ts(o)&&!ed(o);){const c=Ns(o),u=K_(o);!u&&c.position==="fixed"&&(a=null),(s?!u&&!a:!u&&c.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||m0(o)&&!u&&CP(e,o))?n=n.filter(m=>m!==o):a=c,o=cl(o)}return t.set(e,n),n}function LZ(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?cv(t)?[]:jZ(t,this._c):[].concat(r),n],c=o[0],u=o.reduce((f,m)=>{const g=nk(t,m,a);return f.top=ba(g.top,f.top),f.right=ol(g.right,f.right),f.bottom=ol(g.bottom,f.bottom),f.left=ba(g.left,f.left),f},nk(t,c,a));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function BZ(e){const{width:t,height:r}=_P(e);return{width:t,height:r}}function UZ(e,t,r){const n=ri(t),a=ci(t),s=r==="fixed",o=Sc(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const u=ti(0);if(n||!n&&!s)if((Ed(t)!=="body"||m0(a))&&(c=uv(t)),n){const v=Sc(t,!0,s,t);u.x=v.x+t.clientLeft,u.y=v.y+t.clientTop}else a&&(u.x=J_(a));const f=a&&!n&&!s?SP(a,c):ti(0),m=o.left+c.scrollLeft-u.x-f.x,g=o.top+c.scrollTop-u.y-f.y;return{x:m,y:g,width:o.width,height:o.height}}function w1(e){return Ns(e).position==="static"}function ak(e,t){if(!ri(e)||Ns(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ci(e)===r&&(r=r.ownerDocument.body),r}function TP(e,t){const r=Sa(e);if(cv(e))return r;if(!ri(e)){let a=cl(e);for(;a&&!ed(a);){if(Ts(a)&&!w1(a))return a;a=cl(a)}return r}let n=ak(e,t);for(;n&&AZ(n)&&w1(n);)n=ak(n,t);return n&&ed(n)&&w1(n)&&!K_(n)?r:n||kZ(e)||r}const VZ=async function(e){const t=this.getOffsetParent||TP,r=this.getDimensions,n=await r(e.floating);return{reference:UZ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function HZ(e){return Ns(e).direction==="rtl"}const $Z={convertOffsetParentRelativeRectToViewportRelativeRect:IZ,getDocumentElement:ci,getClippingRect:LZ,getOffsetParent:TP,getElementRects:VZ,getClientRects:OZ,getDimensions:BZ,getScale:Vu,isElement:Ts,isRTL:HZ};function NP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function zZ(e,t){let r=null,n;const a=ci(e);function s(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),s();const f=e.getBoundingClientRect(),{left:m,top:g,width:v,height:x}=f;if(c||t(),!v||!x)return;const y=Gm(g),w=Gm(a.clientWidth-(m+v)),b=Gm(a.clientHeight-(g+x)),S=Gm(m),E={rootMargin:-y+"px "+-w+"px "+-b+"px "+-S+"px",threshold:ba(0,ol(1,u))||1};let A=!0;function k(D){const R=D[0].intersectionRatio;if(R!==u){if(!A)return o();R?o(!1,R):n=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!NP(f,e.getBoundingClientRect())&&o(),A=!1}try{r=new IntersectionObserver(k,{...E,root:a.ownerDocument})}catch{r=new IntersectionObserver(k,E)}r.observe(e)}return o(!0),s}function AP(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,f=Z_(e),m=a||s?[...f?jh(f):[],...jh(t)]:[];m.forEach(S=>{a&&S.addEventListener("scroll",r,{passive:!0}),s&&S.addEventListener("resize",r)});const g=f&&c?zZ(f,r):null;let v=-1,x=null;o&&(x=new ResizeObserver(S=>{let[T]=S;T&&T.target===f&&x&&(x.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var E;(E=x)==null||E.observe(t)})),r()}),f&&!u&&x.observe(f),x.observe(t));let y,w=u?Sc(e):null;u&&b();function b(){const S=Sc(e);w&&!NP(w,S)&&r(),w=S,y=requestAnimationFrame(b)}return r(),()=>{var S;m.forEach(T=>{a&&T.removeEventListener("scroll",r),s&&T.removeEventListener("resize",r)}),g==null||g(),(S=x)==null||S.disconnect(),x=null,u&&cancelAnimationFrame(y)}}const WZ=SZ,qZ=CZ,GZ=wZ,YZ=NZ,XZ=_Z,sk=bZ,KZ=TZ,QZ=(e,t,r)=>{const n=new Map,a={platform:$Z,...r},s={...a.platform,_c:n};return yZ(e,t,{...a,platform:s})};var Lb=N.useLayoutEffect,ZZ=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],rg=function(){};function JZ(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function eJ(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&s.push("".concat(JZ(e,o)));return s.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var ik=function(t){return cJ(t)?t.filter(Boolean):Ec(t)==="object"&&t!==null?[t]:[]},kP=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var r=ao(t,ZZ);return lt({},r)},kr=function(t,r,n){var a=t.cx,s=t.getStyles,o=t.getClassNames,c=t.className;return{css:s(r,t),className:a(n??{},o(r,t),c)}};function dv(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function tJ(e){return dv(e)?window.innerHeight:e.clientHeight}function RP(e){return dv(e)?window.pageYOffset:e.scrollTop}function ng(e,t){if(dv(e)){window.scrollTo(0,t);return}e.scrollTop=t}function rJ(e){var t=getComputedStyle(e),r=t.position==="absolute",n=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),!(r&&t.position==="static")&&n.test(t.overflow+t.overflowY+t.overflowX))return a;return document.documentElement}function nJ(e,t,r,n){return r*((e=e/n-1)*e*e+1)+t}function Ym(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:rg,a=RP(e),s=t-a,o=10,c=0;function u(){c+=o;var f=nJ(c,a,s,r);ng(e,f),c<r?window.requestAnimationFrame(u):n(e)}u()}function ok(e,t){var r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),a=t.offsetHeight/3;n.bottom+a>r.bottom?ng(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+a,e.scrollHeight)):n.top-a<r.top&&ng(e,Math.max(t.offsetTop-a,0))}function aJ(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function lk(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function sJ(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var DP=!1,iJ={get passive(){return DP=!0}},Xm=typeof window<"u"?window:{};Xm.addEventListener&&Xm.removeEventListener&&(Xm.addEventListener("p",rg,iJ),Xm.removeEventListener("p",rg,!1));var oJ=DP;function lJ(e){return e!=null}function cJ(e){return Array.isArray(e)}function Km(e,t,r){return e?t:r}var uJ=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var s=Object.entries(t).filter(function(o){var c=$i(o,1),u=c[0];return!n.includes(u)});return s.reduce(function(o,c){var u=$i(c,2),f=u[0],m=u[1];return o[f]=m,o},{})},dJ=["children","innerProps"],fJ=["children","innerProps"];function hJ(e){var t=e.maxHeight,r=e.menuEl,n=e.minHeight,a=e.placement,s=e.shouldScroll,o=e.isFixedPosition,c=e.controlHeight,u=rJ(r),f={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return f;var m=u.getBoundingClientRect(),g=m.height,v=r.getBoundingClientRect(),x=v.bottom,y=v.height,w=v.top,b=r.offsetParent.getBoundingClientRect(),S=b.top,T=o?window.innerHeight:tJ(u),E=RP(u),A=parseInt(getComputedStyle(r).marginBottom,10),k=parseInt(getComputedStyle(r).marginTop,10),D=S-k,R=T-w,P=D+E,I=g-E-w,B=x-T+E+A,H=E+w-k,z=160;switch(a){case"auto":case"bottom":if(R>=y)return{placement:"bottom",maxHeight:t};if(I>=y&&!o)return s&&Ym(u,B,z),{placement:"bottom",maxHeight:t};if(!o&&I>=n||o&&R>=n){s&&Ym(u,B,z);var G=o?R-A:I-A;return{placement:"bottom",maxHeight:G}}if(a==="auto"||o){var ne=t,se=o?D:P;return se>=n&&(ne=Math.min(se-A-c,t)),{placement:"top",maxHeight:ne}}if(a==="bottom")return s&&ng(u,B),{placement:"bottom",maxHeight:t};break;case"top":if(D>=y)return{placement:"top",maxHeight:t};if(P>=y&&!o)return s&&Ym(u,H,z),{placement:"top",maxHeight:t};if(!o&&P>=n||o&&D>=n){var L=t;return(!o&&P>=n||o&&D>=n)&&(L=o?D-k:P-k),s&&Ym(u,H,z),{placement:"top",maxHeight:L}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return f}function mJ(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var IP=function(t){return t==="auto"?"bottom":t},pJ=function(t,r){var n,a=t.placement,s=t.theme,o=s.borderRadius,c=s.spacing,u=s.colors;return lt((n={label:"menu"},Hf(n,mJ(a),"100%"),Hf(n,"position","absolute"),Hf(n,"width","100%"),Hf(n,"zIndex",1),n),r?{}:{backgroundColor:u.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},OP=N.createContext(null),gJ=function(t){var r=t.children,n=t.minMenuHeight,a=t.maxMenuHeight,s=t.menuPlacement,o=t.menuPosition,c=t.menuShouldScrollIntoView,u=t.theme,f=N.useContext(OP)||{},m=f.setPortalPlacement,g=N.useRef(null),v=N.useState(a),x=$i(v,2),y=x[0],w=x[1],b=N.useState(null),S=$i(b,2),T=S[0],E=S[1],A=u.spacing.controlHeight;return Lb(function(){var k=g.current;if(k){var D=o==="fixed",R=c&&!D,P=hJ({maxHeight:a,menuEl:k,minHeight:n,placement:s,shouldScroll:R,isFixedPosition:D,controlHeight:A});w(P.maxHeight),E(P.placement),m==null||m(P.placement)}},[a,s,o,c,n,m,A]),r({ref:g,placerProps:lt(lt({},t),{},{placement:T||IP(s),maxHeight:y})})},vJ=function(t){var r=t.children,n=t.innerRef,a=t.innerProps;return rt("div",ut({},kr(t,"menu",{menu:!0}),{ref:n},a),r)},xJ=vJ,yJ=function(t,r){var n=t.maxHeight,a=t.theme.spacing.baseUnit;return lt({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},bJ=function(t){var r=t.children,n=t.innerProps,a=t.innerRef,s=t.isMulti;return rt("div",ut({},kr(t,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:a},n),r)},PP=function(t,r){var n=t.theme,a=n.spacing.baseUnit,s=n.colors;return lt({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},wJ=PP,_J=PP,EJ=function(t){var r=t.children,n=r===void 0?"No options":r,a=t.innerProps,s=ao(t,dJ);return rt("div",ut({},kr(lt(lt({},s),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},SJ=function(t){var r=t.children,n=r===void 0?"Loading...":r,a=t.innerProps,s=ao(t,fJ);return rt("div",ut({},kr(lt(lt({},s),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},CJ=function(t){var r=t.rect,n=t.offset,a=t.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},TJ=function(t){var r=t.appendTo,n=t.children,a=t.controlElement,s=t.innerProps,o=t.menuPlacement,c=t.menuPosition,u=N.useRef(null),f=N.useRef(null),m=N.useState(IP(o)),g=$i(m,2),v=g[0],x=g[1],y=N.useMemo(function(){return{setPortalPlacement:x}},[]),w=N.useState(null),b=$i(w,2),S=b[0],T=b[1],E=N.useCallback(function(){if(a){var R=aJ(a),P=c==="fixed"?0:window.pageYOffset,I=R[v]+P;(I!==(S==null?void 0:S.offset)||R.left!==(S==null?void 0:S.rect.left)||R.width!==(S==null?void 0:S.rect.width))&&T({offset:I,rect:R})}},[a,c,v,S==null?void 0:S.offset,S==null?void 0:S.rect.left,S==null?void 0:S.rect.width]);Lb(function(){E()},[E]);var A=N.useCallback(function(){typeof f.current=="function"&&(f.current(),f.current=null),a&&u.current&&(f.current=AP(a,u.current,E,{elementResize:"ResizeObserver"in window}))},[a,E]);Lb(function(){A()},[A]);var k=N.useCallback(function(R){u.current=R,A()},[A]);if(!r&&c!=="fixed"||!S)return null;var D=rt("div",ut({ref:k},kr(lt(lt({},t),{},{offset:S.offset,position:c,rect:S.rect}),"menuPortal",{"menu-portal":!0}),s),n);return rt(OP.Provider,{value:y},r?Kh.createPortal(D,r):D)},NJ=function(t){var r=t.isDisabled,n=t.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},AJ=function(t){var r=t.children,n=t.innerProps,a=t.isDisabled,s=t.isRtl;return rt("div",ut({},kr(t,"container",{"--is-disabled":a,"--is-rtl":s}),n),r)},kJ=function(t,r){var n=t.theme.spacing,a=t.isMulti,s=t.hasValue,o=t.selectProps.controlShouldRenderValue;return lt({alignItems:"center",display:a&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},RJ=function(t){var r=t.children,n=t.innerProps,a=t.isMulti,s=t.hasValue;return rt("div",ut({},kr(t,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s}),n),r)},DJ=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},IJ=function(t){var r=t.children,n=t.innerProps;return rt("div",ut({},kr(t,"indicatorsContainer",{indicators:!0}),n),r)},ck,OJ=["size"],PJ=["innerProps","isRtl","size"],MJ={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},MP=function(t){var r=t.size,n=ao(t,OJ);return rt("svg",ut({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:MJ},n))},eE=function(t){return rt(MP,ut({size:20},t),rt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},FP=function(t){return rt(MP,ut({size:20},t),rt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},jP=function(t,r){var n=t.isFocused,a=t.theme,s=a.spacing.baseUnit,o=a.colors;return lt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?o.neutral60:o.neutral20,padding:s*2,":hover":{color:n?o.neutral80:o.neutral40}})},FJ=jP,jJ=function(t){var r=t.children,n=t.innerProps;return rt("div",ut({},kr(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||rt(FP,null))},LJ=jP,BJ=function(t){var r=t.children,n=t.innerProps;return rt("div",ut({},kr(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||rt(eE,null))},UJ=function(t,r){var n=t.isDisabled,a=t.theme,s=a.spacing.baseUnit,o=a.colors;return lt({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},VJ=function(t){var r=t.innerProps;return rt("span",ut({},r,kr(t,"indicatorSeparator",{"indicator-separator":!0})))},HJ=cZ(ck||(ck=uZ([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),$J=function(t,r){var n=t.isFocused,a=t.size,s=t.theme,o=s.colors,c=s.spacing.baseUnit;return lt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?o.neutral60:o.neutral20,padding:c*2})},_1=function(t){var r=t.delay,n=t.offset;return rt("span",{css:q_({animation:"".concat(HJ," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},zJ=function(t){var r=t.innerProps,n=t.isRtl,a=t.size,s=a===void 0?4:a,o=ao(t,PJ);return rt("div",ut({},kr(lt(lt({},o),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),rt(_1,{delay:0,offset:n}),rt(_1,{delay:160,offset:!0}),rt(_1,{delay:320,offset:!n}))},WJ=function(t,r){var n=t.isDisabled,a=t.isFocused,s=t.theme,o=s.colors,c=s.borderRadius,u=s.spacing;return lt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:u.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:a?o.primary:o.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:a?o.primary:o.neutral30}})},qJ=function(t){var r=t.children,n=t.isDisabled,a=t.isFocused,s=t.innerRef,o=t.innerProps,c=t.menuIsOpen;return rt("div",ut({ref:s},kr(t,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":c}),o,{"aria-disabled":n||void 0}),r)},GJ=qJ,YJ=["data"],XJ=function(t,r){var n=t.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},KJ=function(t){var r=t.children,n=t.cx,a=t.getStyles,s=t.getClassNames,o=t.Heading,c=t.headingProps,u=t.innerProps,f=t.label,m=t.theme,g=t.selectProps;return rt("div",ut({},kr(t,"group",{group:!0}),u),rt(o,ut({},c,{selectProps:g,theme:m,getStyles:a,getClassNames:s,cx:n}),f),rt("div",null,r))},QJ=function(t,r){var n=t.theme,a=n.colors,s=n.spacing;return lt({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},ZJ=function(t){var r=kP(t);r.data;var n=ao(r,YJ);return rt("div",ut({},kr(t,"groupHeading",{"group-heading":!0}),n))},JJ=KJ,eee=["innerRef","isDisabled","isHidden","inputClassName"],tee=function(t,r){var n=t.isDisabled,a=t.value,s=t.theme,o=s.spacing,c=s.colors;return lt(lt({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},ree),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:c.neutral80})},LP={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},ree={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":lt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},LP)},nee=function(t){return lt({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},LP)},aee=function(t){var r=t.cx,n=t.value,a=kP(t),s=a.innerRef,o=a.isDisabled,c=a.isHidden,u=a.inputClassName,f=ao(a,eee);return rt("div",ut({},kr(t,"input",{"input-container":!0}),{"data-value":n||""}),rt("input",ut({className:r({input:!0},u),ref:s,style:nee(c),disabled:o},f)))},see=aee,iee=function(t,r){var n=t.theme,a=n.spacing,s=n.borderRadius,o=n.colors;return lt({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:a.baseUnit/2})},oee=function(t,r){var n=t.theme,a=n.borderRadius,s=n.colors,o=t.cropWithEllipsis;return lt({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},lee=function(t,r){var n=t.theme,a=n.spacing,s=n.borderRadius,o=n.colors,c=t.isFocused;return lt({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:c?o.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},BP=function(t){var r=t.children,n=t.innerProps;return rt("div",n,r)},cee=BP,uee=BP;function dee(e){var t=e.children,r=e.innerProps;return rt("div",ut({role:"button"},r),t||rt(eE,{size:14}))}var fee=function(t){var r=t.children,n=t.components,a=t.data,s=t.innerProps,o=t.isDisabled,c=t.removeProps,u=t.selectProps,f=n.Container,m=n.Label,g=n.Remove;return rt(f,{data:a,innerProps:lt(lt({},kr(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:u},rt(m,{data:a,innerProps:lt({},kr(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:u},r),rt(g,{data:a,innerProps:lt(lt({},kr(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},c),selectProps:u}))},hee=fee,mee=function(t,r){var n=t.isDisabled,a=t.isFocused,s=t.isSelected,o=t.theme,c=o.spacing,u=o.colors;return lt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?u.primary:a?u.primary25:"transparent",color:n?u.neutral20:s?u.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?u.primary:u.primary50}})},pee=function(t){var r=t.children,n=t.isDisabled,a=t.isFocused,s=t.isSelected,o=t.innerRef,c=t.innerProps;return rt("div",ut({},kr(t,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":s}),{ref:o,"aria-disabled":n},c),r)},gee=pee,vee=function(t,r){var n=t.theme,a=n.spacing,s=n.colors;return lt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},xee=function(t){var r=t.children,n=t.innerProps;return rt("div",ut({},kr(t,"placeholder",{placeholder:!0}),n),r)},yee=xee,bee=function(t,r){var n=t.isDisabled,a=t.theme,s=a.spacing,o=a.colors;return lt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},wee=function(t){var r=t.children,n=t.isDisabled,a=t.innerProps;return rt("div",ut({},kr(t,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},_ee=wee,Eee={ClearIndicator:BJ,Control:GJ,DropdownIndicator:jJ,DownChevron:FP,CrossIcon:eE,Group:JJ,GroupHeading:ZJ,IndicatorsContainer:IJ,IndicatorSeparator:VJ,Input:see,LoadingIndicator:zJ,Menu:xJ,MenuList:bJ,MenuPortal:TJ,LoadingMessage:SJ,NoOptionsMessage:EJ,MultiValue:hee,MultiValueContainer:cee,MultiValueLabel:uee,MultiValueRemove:dee,Option:gee,Placeholder:yee,SelectContainer:AJ,SingleValue:_ee,ValueContainer:RJ},See=function(t){return lt(lt({},Eee),t.components)},uk=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Cee(e,t){return!!(e===t||uk(e)&&uk(t))}function Tee(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Cee(e[r],t[r]))return!1;return!0}function Nee(e,t){t===void 0&&(t=Tee);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var o=e.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){r=null},n}var Aee={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},kee=function(t){return rt("span",ut({css:Aee},t))},dk=kee,Ree={guidance:function(t){var r=t.isSearchable,n=t.isMulti,a=t.tabSelectsValue,s=t.context,o=t.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(t["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var r=t.action,n=t.label,a=n===void 0?"":n,s=t.labels,o=t.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(t){var r=t.context,n=t.focused,a=t.options,s=t.label,o=s===void 0?"":s,c=t.selectValue,u=t.isDisabled,f=t.isSelected,m=t.isAppleDevice,g=function(w,b){return w&&w.length?"".concat(w.indexOf(b)+1," of ").concat(w.length):""};if(r==="value"&&c)return"value ".concat(o," focused, ").concat(g(c,n),".");if(r==="menu"&&m){var v=u?" disabled":"",x="".concat(f?" selected":"").concat(v);return"".concat(o).concat(x,", ").concat(g(a,n),".")}return""},onFilter:function(t){var r=t.inputValue,n=t.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},Dee=function(t){var r=t.ariaSelection,n=t.focusedOption,a=t.focusedValue,s=t.focusableOptions,o=t.isFocused,c=t.selectValue,u=t.selectProps,f=t.id,m=t.isAppleDevice,g=u.ariaLiveMessages,v=u.getOptionLabel,x=u.inputValue,y=u.isMulti,w=u.isOptionDisabled,b=u.isSearchable,S=u.menuIsOpen,T=u.options,E=u.screenReaderStatus,A=u.tabSelectsValue,k=u.isLoading,D=u["aria-label"],R=u["aria-live"],P=N.useMemo(function(){return lt(lt({},Ree),g||{})},[g]),I=N.useMemo(function(){var se="";if(r&&P.onChange){var L=r.option,oe=r.options,le=r.removedValue,W=r.removedValues,V=r.value,ce=function(Ee){return Array.isArray(Ee)?null:Ee},j=le||L||ce(V),ee=j?v(j):"",K=oe||W||void 0,Q=K?K.map(v):[],re=lt({isDisabled:j&&w(j,c),label:ee,labels:Q},r);se=P.onChange(re)}return se},[r,P,w,c,v]),B=N.useMemo(function(){var se="",L=n||a,oe=!!(n&&c&&c.includes(n));if(L&&P.onFocus){var le={focused:L,label:v(L),isDisabled:w(L,c),isSelected:oe,options:s,context:L===n?"menu":"value",selectValue:c,isAppleDevice:m};se=P.onFocus(le)}return se},[n,a,v,w,P,s,c,m]),H=N.useMemo(function(){var se="";if(S&&T.length&&!k&&P.onFilter){var L=E({count:s.length});se=P.onFilter({inputValue:x,resultsMessage:L})}return se},[s,x,S,P,T,E,k]),z=(r==null?void 0:r.action)==="initial-input-focus",G=N.useMemo(function(){var se="";if(P.guidance){var L=a?"value":S?"menu":"input";se=P.guidance({"aria-label":D,context:L,isDisabled:n&&w(n,c),isMulti:y,isSearchable:b,tabSelectsValue:A,isInitialFocus:z})}return se},[D,n,a,y,w,b,S,P,c,A,z]),ne=rt(N.Fragment,null,rt("span",{id:"aria-selection"},I),rt("span",{id:"aria-focused"},B),rt("span",{id:"aria-results"},H),rt("span",{id:"aria-guidance"},G));return rt(N.Fragment,null,rt(dk,{id:f},z&&ne),rt(dk,{"aria-live":R,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!z&&ne))},Iee=Dee,Bb=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Oee=new RegExp("["+Bb.map(function(e){return e.letters}).join("")+"]","g"),UP={};for(var E1=0;E1<Bb.length;E1++)for(var S1=Bb[E1],C1=0;C1<S1.letters.length;C1++)UP[S1.letters[C1]]=S1.base;var VP=function(t){return t.replace(Oee,function(r){return UP[r]})},Pee=Nee(VP),fk=function(t){return t.replace(/^\s+|\s+$/g,"")},Mee=function(t){return"".concat(t.label," ").concat(t.value)},Fee=function(t){return function(r,n){if(r.data.__isNew__)return!0;var a=lt({ignoreCase:!0,ignoreAccents:!0,stringify:Mee,trim:!0,matchFrom:"any"},t),s=a.ignoreCase,o=a.ignoreAccents,c=a.stringify,u=a.trim,f=a.matchFrom,m=u?fk(n):n,g=u?fk(c(r)):c(r);return s&&(m=m.toLowerCase(),g=g.toLowerCase()),o&&(m=Pee(m),g=VP(g)),f==="start"?g.substr(0,m.length)===m:g.indexOf(m)>-1}},jee=["innerRef"];function Lee(e){var t=e.innerRef,r=ao(e,jee),n=uJ(r,"onExited","in","enter","exit","appear");return rt("input",ut({ref:t},n,{css:q_({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Bee=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function Uee(e){var t=e.isEnabled,r=e.onBottomArrive,n=e.onBottomLeave,a=e.onTopArrive,s=e.onTopLeave,o=N.useRef(!1),c=N.useRef(!1),u=N.useRef(0),f=N.useRef(null),m=N.useCallback(function(b,S){if(f.current!==null){var T=f.current,E=T.scrollTop,A=T.scrollHeight,k=T.clientHeight,D=f.current,R=S>0,P=A-k-E,I=!1;P>S&&o.current&&(n&&n(b),o.current=!1),R&&c.current&&(s&&s(b),c.current=!1),R&&S>P?(r&&!o.current&&r(b),D.scrollTop=A,I=!0,o.current=!0):!R&&-S>E&&(a&&!c.current&&a(b),D.scrollTop=0,I=!0,c.current=!0),I&&Bee(b)}},[r,n,a,s]),g=N.useCallback(function(b){m(b,b.deltaY)},[m]),v=N.useCallback(function(b){u.current=b.changedTouches[0].clientY},[]),x=N.useCallback(function(b){var S=u.current-b.changedTouches[0].clientY;m(b,S)},[m]),y=N.useCallback(function(b){if(b){var S=oJ?{passive:!1}:!1;b.addEventListener("wheel",g,S),b.addEventListener("touchstart",v,S),b.addEventListener("touchmove",x,S)}},[x,v,g]),w=N.useCallback(function(b){b&&(b.removeEventListener("wheel",g,!1),b.removeEventListener("touchstart",v,!1),b.removeEventListener("touchmove",x,!1))},[x,v,g]);return N.useEffect(function(){if(t){var b=f.current;return y(b),function(){w(b)}}},[t,y,w]),function(b){f.current=b}}var hk=["boxSizing","height","overflow","paddingRight","position"],mk={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function pk(e){e.cancelable&&e.preventDefault()}function gk(e){e.stopPropagation()}function vk(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function xk(){return"ontouchstart"in window||navigator.maxTouchPoints}var yk=!!(typeof window<"u"&&window.document&&window.document.createElement),Pf=0,Cu={capture:!1,passive:!1};function Vee(e){var t=e.isEnabled,r=e.accountForScrollbars,n=r===void 0?!0:r,a=N.useRef({}),s=N.useRef(null),o=N.useCallback(function(u){if(yk){var f=document.body,m=f&&f.style;if(n&&hk.forEach(function(y){var w=m&&m[y];a.current[y]=w}),n&&Pf<1){var g=parseInt(a.current.paddingRight,10)||0,v=document.body?document.body.clientWidth:0,x=window.innerWidth-v+g||0;Object.keys(mk).forEach(function(y){var w=mk[y];m&&(m[y]=w)}),m&&(m.paddingRight="".concat(x,"px"))}f&&xk()&&(f.addEventListener("touchmove",pk,Cu),u&&(u.addEventListener("touchstart",vk,Cu),u.addEventListener("touchmove",gk,Cu))),Pf+=1}},[n]),c=N.useCallback(function(u){if(yk){var f=document.body,m=f&&f.style;Pf=Math.max(Pf-1,0),n&&Pf<1&&hk.forEach(function(g){var v=a.current[g];m&&(m[g]=v)}),f&&xk()&&(f.removeEventListener("touchmove",pk,Cu),u&&(u.removeEventListener("touchstart",vk,Cu),u.removeEventListener("touchmove",gk,Cu)))}},[n]);return N.useEffect(function(){if(t){var u=s.current;return o(u),function(){c(u)}}},[t,o,c]),function(u){s.current=u}}var Hee=function(t){var r=t.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},$ee={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function zee(e){var t=e.children,r=e.lockEnabled,n=e.captureEnabled,a=n===void 0?!0:n,s=e.onBottomArrive,o=e.onBottomLeave,c=e.onTopArrive,u=e.onTopLeave,f=Uee({isEnabled:a,onBottomArrive:s,onBottomLeave:o,onTopArrive:c,onTopLeave:u}),m=Vee({isEnabled:r}),g=function(x){f(x),m(x)};return rt(N.Fragment,null,r&&rt("div",{onClick:Hee,css:$ee}),t(g))}var Wee={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},qee=function(t){var r=t.name,n=t.onFocus;return rt("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Wee,value:"",onChange:function(){}})},Gee=qee;function tE(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Yee(){return tE(/^iPhone/i)}function HP(){return tE(/^Mac/i)}function Xee(){return tE(/^iPad/i)||HP()&&navigator.maxTouchPoints>1}function Kee(){return Yee()||Xee()}function Qee(){return HP()||Kee()}var Zee=function(t){return t.label},Jee=function(t){return t.label},ete=function(t){return t.value},tte=function(t){return!!t.isDisabled},rte={clearIndicator:LJ,container:NJ,control:WJ,dropdownIndicator:FJ,group:XJ,groupHeading:QJ,indicatorsContainer:DJ,indicatorSeparator:UJ,input:tee,loadingIndicator:$J,loadingMessage:_J,menu:pJ,menuList:yJ,menuPortal:CJ,multiValue:iee,multiValueLabel:oee,multiValueRemove:lee,noOptionsMessage:wJ,option:mee,placeholder:vee,singleValue:bee,valueContainer:kJ},nte={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},ate=4,$P=4,ste=38,ite=$P*2,ote={baseUnit:$P,controlHeight:ste,menuGutter:ite},T1={borderRadius:ate,colors:nte,spacing:ote},lte={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:lk(),captureMenuScroll:!lk(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Fee(),formatGroupLabel:Zee,getOptionLabel:Jee,getOptionValue:ete,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:tte,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!sJ(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function bk(e,t,r,n){var a=qP(e,t,r),s=GP(e,t,r),o=WP(e,t),c=ag(e,t);return{type:"option",data:t,isDisabled:a,isSelected:s,label:o,value:c,index:n}}function _p(e,t){return e.options.map(function(r,n){if("options"in r){var a=r.options.map(function(o,c){return bk(e,o,t,c)}).filter(function(o){return _k(e,o)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=bk(e,r,t,n);return _k(e,s)?s:void 0}).filter(lJ)}function zP(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,V_(r.options.map(function(n){return n.data}))):t.push(r.data),t},[])}function wk(e,t){return e.reduce(function(r,n){return n.type==="group"?r.push.apply(r,V_(n.options.map(function(a){return{data:a.data,id:"".concat(t,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),r},[])}function cte(e,t){return zP(_p(e,t))}function _k(e,t){var r=e.inputValue,n=r===void 0?"":r,a=t.data,s=t.isSelected,o=t.label,c=t.value;return(!XP(e)||!s)&&YP(e,{label:o,value:c,data:a},n)}function ute(e,t){var r=e.focusedValue,n=e.selectValue,a=n.indexOf(r);if(a>-1){var s=t.indexOf(r);if(s>-1)return r;if(a<t.length)return t[a]}return null}function dte(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}var N1=function(t,r){var n,a=(n=t.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return a||null},WP=function(t,r){return t.getOptionLabel(r)},ag=function(t,r){return t.getOptionValue(r)};function qP(e,t,r){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,r):!1}function GP(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var n=ag(e,t);return r.some(function(a){return ag(e,a)===n})}function YP(e,t,r){return e.filterOption?e.filterOption(t,r):!0}var XP=function(t){var r=t.hideSelectedOptions,n=t.isMulti;return r===void 0?n:r},fte=1,KP=function(e){iQ(r,e);var t=cQ(r);function r(n){var a;if(aQ(this,r),a=t.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.isAppleDevice=Qee(),a.controlRef=null,a.getControlRef=function(u){a.controlRef=u},a.focusedOptionRef=null,a.getFocusedOptionRef=function(u){a.focusedOptionRef=u},a.menuListRef=null,a.getMenuListRef=function(u){a.menuListRef=u},a.inputRef=null,a.getInputRef=function(u){a.inputRef=u},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(u,f){var m=a.props,g=m.onChange,v=m.name;f.name=v,a.ariaOnChange(u,f),g(u,f)},a.setValue=function(u,f,m){var g=a.props,v=g.closeMenuOnSelect,x=g.isMulti,y=g.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:y}),v&&(a.setState({inputIsHiddenAfterUpdate:!x}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(u,{action:f,option:m})},a.selectOption=function(u){var f=a.props,m=f.blurInputOnSelect,g=f.isMulti,v=f.name,x=a.state.selectValue,y=g&&a.isOptionSelected(u,x),w=a.isOptionDisabled(u,x);if(y){var b=a.getOptionValue(u);a.setValue(x.filter(function(S){return a.getOptionValue(S)!==b}),"deselect-option",u)}else if(!w)g?a.setValue([].concat(V_(x),[u]),"select-option",u):a.setValue(u,"select-option");else{a.ariaOnChange(u,{action:"select-option",option:u,name:v});return}m&&a.blurInput()},a.removeValue=function(u){var f=a.props.isMulti,m=a.state.selectValue,g=a.getOptionValue(u),v=m.filter(function(y){return a.getOptionValue(y)!==g}),x=Km(f,v,v[0]||null);a.onChange(x,{action:"remove-value",removedValue:u}),a.focusInput()},a.clearValue=function(){var u=a.state.selectValue;a.onChange(Km(a.props.isMulti,[],null),{action:"clear",removedValues:u})},a.popValue=function(){var u=a.props.isMulti,f=a.state.selectValue,m=f[f.length-1],g=f.slice(0,f.length-1),v=Km(u,g,g[0]||null);m&&a.onChange(v,{action:"pop-value",removedValue:m})},a.getFocusedOptionId=function(u){return N1(a.state.focusableOptionsWithIds,u)},a.getFocusableOptionsWithIds=function(){return wk(_p(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var u=arguments.length,f=new Array(u),m=0;m<u;m++)f[m]=arguments[m];return eJ.apply(void 0,[a.props.classNamePrefix].concat(f))},a.getOptionLabel=function(u){return WP(a.props,u)},a.getOptionValue=function(u){return ag(a.props,u)},a.getStyles=function(u,f){var m=a.props.unstyled,g=rte[u](f,m);g.boxSizing="border-box";var v=a.props.styles[u];return v?v(g,f):g},a.getClassNames=function(u,f){var m,g;return(m=(g=a.props.classNames)[u])===null||m===void 0?void 0:m.call(g,f)},a.getElementId=function(u){return"".concat(a.state.instancePrefix,"-").concat(u)},a.getComponents=function(){return See(a.props)},a.buildCategorizedOptions=function(){return _p(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return zP(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(u,f){a.setState({ariaSelection:lt({value:u},f)})},a.onMenuMouseDown=function(u){u.button===0&&(u.stopPropagation(),u.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(u){a.blockOptionHover=!1},a.onControlMouseDown=function(u){if(!u.defaultPrevented){var f=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?u.target.tagName!=="INPUT"&&u.target.tagName!=="TEXTAREA"&&a.onMenuClose():f&&a.openMenu("first"):(f&&(a.openAfterFocus=!0),a.focusInput()),u.target.tagName!=="INPUT"&&u.target.tagName!=="TEXTAREA"&&u.preventDefault()}},a.onDropdownIndicatorMouseDown=function(u){if(!(u&&u.type==="mousedown"&&u.button!==0)&&!a.props.isDisabled){var f=a.props,m=f.isMulti,g=f.menuIsOpen;a.focusInput(),g?(a.setState({inputIsHiddenAfterUpdate:!m}),a.onMenuClose()):a.openMenu("first"),u.preventDefault()}},a.onClearIndicatorMouseDown=function(u){u&&u.type==="mousedown"&&u.button!==0||(a.clearValue(),u.preventDefault(),a.openAfterFocus=!1,u.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(u){typeof a.props.closeMenuOnScroll=="boolean"?u.target instanceof HTMLElement&&dv(u.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(u)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(u){var f=u.touches,m=f&&f.item(0);m&&(a.initialTouchX=m.clientX,a.initialTouchY=m.clientY,a.userIsDragging=!1)},a.onTouchMove=function(u){var f=u.touches,m=f&&f.item(0);if(m){var g=Math.abs(m.clientX-a.initialTouchX),v=Math.abs(m.clientY-a.initialTouchY),x=5;a.userIsDragging=g>x||v>x}},a.onTouchEnd=function(u){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(u.target)&&a.menuListRef&&!a.menuListRef.contains(u.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(u){a.userIsDragging||a.onControlMouseDown(u)},a.onClearIndicatorTouchEnd=function(u){a.userIsDragging||a.onClearIndicatorMouseDown(u)},a.onDropdownIndicatorTouchEnd=function(u){a.userIsDragging||a.onDropdownIndicatorMouseDown(u)},a.handleInputChange=function(u){var f=a.props.inputValue,m=u.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(m,{action:"input-change",prevInputValue:f}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(u){a.props.onFocus&&a.props.onFocus(u),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(u){var f=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(u),a.onInputChange("",{action:"input-blur",prevInputValue:f}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(u){if(!(a.blockOptionHover||a.state.focusedOption===u)){var f=a.getFocusableOptions(),m=f.indexOf(u);a.setState({focusedOption:u,focusedOptionId:m>-1?a.getFocusedOptionId(u):null})}},a.shouldHideSelectedOptions=function(){return XP(a.props)},a.onValueInputFocus=function(u){u.preventDefault(),u.stopPropagation(),a.focus()},a.onKeyDown=function(u){var f=a.props,m=f.isMulti,g=f.backspaceRemovesValue,v=f.escapeClearsValue,x=f.inputValue,y=f.isClearable,w=f.isDisabled,b=f.menuIsOpen,S=f.onKeyDown,T=f.tabSelectsValue,E=f.openMenuOnFocus,A=a.state,k=A.focusedOption,D=A.focusedValue,R=A.selectValue;if(!w&&!(typeof S=="function"&&(S(u),u.defaultPrevented))){switch(a.blockOptionHover=!0,u.key){case"ArrowLeft":if(!m||x)return;a.focusValue("previous");break;case"ArrowRight":if(!m||x)return;a.focusValue("next");break;case"Delete":case"Backspace":if(x)return;if(D)a.removeValue(D);else{if(!g)return;m?a.popValue():y&&a.clearValue()}break;case"Tab":if(a.isComposing||u.shiftKey||!b||!T||!k||E&&a.isOptionSelected(k,R))return;a.selectOption(k);break;case"Enter":if(u.keyCode===229)break;if(b){if(!k||a.isComposing)return;a.selectOption(k);break}return;case"Escape":b?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:x}),a.onMenuClose()):y&&v&&a.clearValue();break;case" ":if(x)return;if(!b){a.openMenu("first");break}if(!k)return;a.selectOption(k);break;case"ArrowUp":b?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":b?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!b)return;a.focusOption("pageup");break;case"PageDown":if(!b)return;a.focusOption("pagedown");break;case"Home":if(!b)return;a.focusOption("first");break;case"End":if(!b)return;a.focusOption("last");break;default:return}u.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++fte),a.state.selectValue=ik(n.value),n.menuIsOpen&&a.state.selectValue.length){var s=a.getFocusableOptionsWithIds(),o=a.buildFocusableOptions(),c=o.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=s,a.state.focusedOption=o[c],a.state.focusedOptionId=N1(s,o[c])}return a}return sQ(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&ok(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isDisabled,c=s.menuIsOpen,u=this.state.isFocused;(u&&!o&&a.isDisabled||u&&c&&!a.menuIsOpen)&&this.focusInput(),u&&o&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!u&&!o&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(ok(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,s){this.props.onInputChange(a,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var s=this,o=this.state,c=o.selectValue,u=o.isFocused,f=this.buildFocusableOptions(),m=a==="first"?0:f.length-1;if(!this.props.isMulti){var g=f.indexOf(c[0]);g>-1&&(m=g)}this.scrollToFocusedOptionOnUpdate=!(u&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:f[m],focusedOptionId:this.getFocusedOptionId(f[m])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(a){var s=this.state,o=s.selectValue,c=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var u=o.indexOf(c);c||(u=-1);var f=o.length-1,m=-1;if(o.length){switch(a){case"previous":u===0?m=0:u===-1?m=f:m=u-1;break;case"next":u>-1&&u<f&&(m=u+1);break}this.setState({inputIsHidden:m!==-1,focusedValue:o[m]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var u=0,f=c.indexOf(o);o||(f=-1),a==="up"?u=f>0?f-1:c.length-1:a==="down"?u=(f+1)%c.length:a==="pageup"?(u=f-s,u<0&&(u=0)):a==="pagedown"?(u=f+s,u>c.length-1&&(u=c.length-1)):a==="last"&&(u=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[u],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[u])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(T1):lt(lt({},T1),this.props.theme):T1}},{key:"getCommonProps",value:function(){var a=this.clearValue,s=this.cx,o=this.getStyles,c=this.getClassNames,u=this.getValue,f=this.selectOption,m=this.setValue,g=this.props,v=g.isMulti,x=g.isRtl,y=g.options,w=this.hasValue();return{clearValue:a,cx:s,getStyles:o,getClassNames:c,getValue:u,hasValue:w,isMulti:v,isRtl:x,options:y,selectOption:f,selectProps:g,setValue:m,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,s=a.isClearable,o=a.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(a,s){return qP(this.props,a,s)}},{key:"isOptionSelected",value:function(a,s){return GP(this.props,a,s)}},{key:"filterOption",value:function(a,s){return YP(this.props,a,s)}},{key:"formatOptionLabel",value:function(a,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(a,{context:s,inputValue:o,selectValue:c})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,s=a.isDisabled,o=a.isSearchable,c=a.inputId,u=a.inputValue,f=a.tabIndex,m=a.form,g=a.menuIsOpen,v=a.required,x=this.getComponents(),y=x.Input,w=this.state,b=w.inputIsHidden,S=w.ariaSelection,T=this.commonProps,E=c||this.getElementId("input"),A=lt(lt(lt({"aria-autocomplete":"list","aria-expanded":g,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":v,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},g&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(S==null?void 0:S.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?N.createElement(y,ut({},T,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:E,innerRef:this.getInputRef,isDisabled:s,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:f,form:m,type:"text",value:u},A)):N.createElement(Lee,ut({id:E,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:rg,onFocus:this.onInputFocus,disabled:s,tabIndex:f,inputMode:"none",form:m,value:""},A))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,s=this.getComponents(),o=s.MultiValue,c=s.MultiValueContainer,u=s.MultiValueLabel,f=s.MultiValueRemove,m=s.SingleValue,g=s.Placeholder,v=this.commonProps,x=this.props,y=x.controlShouldRenderValue,w=x.isDisabled,b=x.isMulti,S=x.inputValue,T=x.placeholder,E=this.state,A=E.selectValue,k=E.focusedValue,D=E.isFocused;if(!this.hasValue()||!y)return S?null:N.createElement(g,ut({},v,{key:"placeholder",isDisabled:w,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),T);if(b)return A.map(function(P,I){var B=P===k,H="".concat(a.getOptionLabel(P),"-").concat(a.getOptionValue(P));return N.createElement(o,ut({},v,{components:{Container:c,Label:u,Remove:f},isFocused:B,isDisabled:w,key:H,index:I,removeProps:{onClick:function(){return a.removeValue(P)},onTouchEnd:function(){return a.removeValue(P)},onMouseDown:function(G){G.preventDefault()}},data:P}),a.formatOptionLabel(P,"value"))});if(S)return null;var R=A[0];return N.createElement(m,ut({},v,{data:R,isDisabled:w}),this.formatOptionLabel(R,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),s=a.ClearIndicator,o=this.commonProps,c=this.props,u=c.isDisabled,f=c.isLoading,m=this.state.isFocused;if(!this.isClearable()||!s||u||!this.hasValue()||f)return null;var g={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return N.createElement(s,ut({},o,{innerProps:g,isFocused:m}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),s=a.LoadingIndicator,o=this.commonProps,c=this.props,u=c.isDisabled,f=c.isLoading,m=this.state.isFocused;if(!s||!f)return null;var g={"aria-hidden":"true"};return N.createElement(s,ut({},o,{innerProps:g,isDisabled:u,isFocused:m}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator,o=a.IndicatorSeparator;if(!s||!o)return null;var c=this.commonProps,u=this.props.isDisabled,f=this.state.isFocused;return N.createElement(o,ut({},c,{isDisabled:u,isFocused:f}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator;if(!s)return null;var o=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused,f={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return N.createElement(s,ut({},o,{innerProps:f,isDisabled:c,isFocused:u}))}},{key:"renderMenu",value:function(){var a=this,s=this.getComponents(),o=s.Group,c=s.GroupHeading,u=s.Menu,f=s.MenuList,m=s.MenuPortal,g=s.LoadingMessage,v=s.NoOptionsMessage,x=s.Option,y=this.commonProps,w=this.state.focusedOption,b=this.props,S=b.captureMenuScroll,T=b.inputValue,E=b.isLoading,A=b.loadingMessage,k=b.minMenuHeight,D=b.maxMenuHeight,R=b.menuIsOpen,P=b.menuPlacement,I=b.menuPosition,B=b.menuPortalTarget,H=b.menuShouldBlockScroll,z=b.menuShouldScrollIntoView,G=b.noOptionsMessage,ne=b.onMenuScrollToTop,se=b.onMenuScrollToBottom;if(!R)return null;var L=function(ee,K){var Q=ee.type,re=ee.data,be=ee.isDisabled,Ee=ee.isSelected,ue=ee.label,me=ee.value,Ae=w===re,Y=be?void 0:function(){return a.onOptionHover(re)},He=be?void 0:function(){return a.selectOption(re)},Ce="".concat(a.getElementId("option"),"-").concat(K),Ge={id:Ce,onClick:He,onMouseMove:Y,onMouseOver:Y,tabIndex:-1,role:"option","aria-selected":a.isAppleDevice?void 0:Ee};return N.createElement(x,ut({},y,{innerProps:Ge,data:re,isDisabled:be,isSelected:Ee,key:Ce,label:ue,type:Q,value:me,isFocused:Ae,innerRef:Ae?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(ee.data,"menu"))},oe;if(this.hasOptions())oe=this.getCategorizedOptions().map(function(j){if(j.type==="group"){var ee=j.data,K=j.options,Q=j.index,re="".concat(a.getElementId("group"),"-").concat(Q),be="".concat(re,"-heading");return N.createElement(o,ut({},y,{key:re,data:ee,options:K,Heading:c,headingProps:{id:be,data:j.data},label:a.formatGroupLabel(j.data)}),j.options.map(function(Ee){return L(Ee,"".concat(Q,"-").concat(Ee.index))}))}else if(j.type==="option")return L(j,"".concat(j.index))});else if(E){var le=A({inputValue:T});if(le===null)return null;oe=N.createElement(g,y,le)}else{var W=G({inputValue:T});if(W===null)return null;oe=N.createElement(v,y,W)}var V={minMenuHeight:k,maxMenuHeight:D,menuPlacement:P,menuPosition:I,menuShouldScrollIntoView:z},ce=N.createElement(gJ,ut({},y,V),function(j){var ee=j.ref,K=j.placerProps,Q=K.placement,re=K.maxHeight;return N.createElement(u,ut({},y,V,{innerRef:ee,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:E,placement:Q}),N.createElement(zee,{captureEnabled:S,onTopArrive:ne,onBottomArrive:se,lockEnabled:H},function(be){return N.createElement(f,ut({},y,{innerRef:function(ue){a.getMenuListRef(ue),be(ue)},innerProps:{role:"listbox","aria-multiselectable":y.isMulti,id:a.getElementId("listbox")},isLoading:E,maxHeight:re,focusedOption:w}),oe)}))});return B||I==="fixed"?N.createElement(m,ut({},y,{appendTo:B,controlElement:this.controlRef,menuPlacement:P,menuPosition:I}),ce):ce}},{key:"renderFormField",value:function(){var a=this,s=this.props,o=s.delimiter,c=s.isDisabled,u=s.isMulti,f=s.name,m=s.required,g=this.state.selectValue;if(m&&!this.hasValue()&&!c)return N.createElement(Gee,{name:f,onFocus:this.onValueInputFocus});if(!(!f||c))if(u)if(o){var v=g.map(function(w){return a.getOptionValue(w)}).join(o);return N.createElement("input",{name:f,type:"hidden",value:v})}else{var x=g.length>0?g.map(function(w,b){return N.createElement("input",{key:"i-".concat(b),name:f,type:"hidden",value:a.getOptionValue(w)})}):N.createElement("input",{name:f,type:"hidden",value:""});return N.createElement("div",null,x)}else{var y=g[0]?this.getOptionValue(g[0]):"";return N.createElement("input",{name:f,type:"hidden",value:y})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,s=this.state,o=s.ariaSelection,c=s.focusedOption,u=s.focusedValue,f=s.isFocused,m=s.selectValue,g=this.getFocusableOptions();return N.createElement(Iee,ut({},a,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:c,focusedValue:u,isFocused:f,selectValue:m,focusableOptions:g,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),s=a.Control,o=a.IndicatorsContainer,c=a.SelectContainer,u=a.ValueContainer,f=this.props,m=f.className,g=f.id,v=f.isDisabled,x=f.menuIsOpen,y=this.state.isFocused,w=this.commonProps=this.getCommonProps();return N.createElement(c,ut({},w,{className:m,innerProps:{id:g,onKeyDown:this.onKeyDown},isDisabled:v,isFocused:y}),this.renderLiveRegion(),N.createElement(s,ut({},w,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:v,isFocused:y,menuIsOpen:x}),N.createElement(u,ut({},w,{isDisabled:v}),this.renderPlaceholderOrValue(),this.renderInput()),N.createElement(o,ut({},w,{isDisabled:v}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,s){var o=s.prevProps,c=s.clearFocusValueOnUpdate,u=s.inputIsHiddenAfterUpdate,f=s.ariaSelection,m=s.isFocused,g=s.prevWasFocused,v=s.instancePrefix,x=a.options,y=a.value,w=a.menuIsOpen,b=a.inputValue,S=a.isMulti,T=ik(y),E={};if(o&&(y!==o.value||x!==o.options||w!==o.menuIsOpen||b!==o.inputValue)){var A=w?cte(a,T):[],k=w?wk(_p(a,T),"".concat(v,"-option")):[],D=c?ute(s,T):null,R=dte(s,A),P=N1(k,R);E={selectValue:T,focusedOption:R,focusedOptionId:P,focusableOptionsWithIds:k,focusedValue:D,clearFocusValueOnUpdate:!1}}var I=u!=null&&a!==o?{inputIsHidden:u,inputIsHiddenAfterUpdate:void 0}:{},B=f,H=m&&g;return m&&!H&&(B={value:Km(S,T,T[0]||null),options:T,action:"initial-input-focus"},H=!g),(f==null?void 0:f.action)==="initial-input-focus"&&(B=null),lt(lt(lt({},E),I),{},{prevProps:a,ariaSelection:B,prevWasFocused:H})}}]),r}(N.Component);KP.defaultProps=lte;var hte=N.forwardRef(function(e,t){var r=nQ(e);return N.createElement(KP,ut({ref:t},r))}),mte=hte;const ul=N.forwardRef(({options:e=[],onChange:t,value:r,placeholder:n="Seleccione una opción...",searchPlaceholder:a="Escriba para buscar...",notFoundText:s="No se encontraron resultados.",disabled:o,readOnly:c,className:u,label:f,error:m,...g},v)=>{const x=N.useMemo(()=>{if(!r)return null;const b=S=>S.find(T=>{const[,E]=String(T.value).split(":");return E===String(r)||String(T.value)===String(r)});for(const S of e)if("options"in S){const T=b(S.options);if(T)return T}else{const[,T]=String(S.value).split(":");if(T===String(r)||String(S.value)===String(r))return S}return null},[r,e]),y=b=>{t&&t(b?String(b.value):"")},w={control:(b,S)=>({...b,backgroundColor:"hsl(var(--background))",borderColor:m?"hsl(var(--destructive))":S.isFocused?"hsl(var(--ring))":"hsl(var(--input))",boxShadow:S.isFocused?m?"0 0 0 2px hsl(var(--background)), 0 0 0 4px hsl(var(--destructive))":"0 0 0 2px hsl(var(--background)), 0 0 0 4px hsl(var(--ring))":"none","&:hover":{borderColor:m?"hsl(var(--destructive))":"hsl(var(--ring))"},borderRadius:"0.5rem",padding:"1px",minHeight:"2.5rem",cursor:o?"not-allowed":"pointer",opacity:o?.5:1,transition:"all 150ms"}),menu:b=>({...b,backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--input))",boxShadow:"0px 4px 16px hsl(var(--card-foreground) / 0.1)",borderRadius:"0.5rem",overflow:"hidden",zIndex:9999,marginTop:"8px",position:"absolute",width:"100%"}),menuPortal:b=>({...b,zIndex:9999}),menuList:b=>({...b,padding:"4px",maxHeight:"300px"}),option:(b,S)=>({...b,backgroundColor:S.isSelected?"hsl(var(--primary))":S.isFocused?"hsl(var(--accent))":"transparent",color:S.isSelected?"hsl(var(--primary-foreground))":S.isFocused?"hsl(var(--accent-foreground))":"hsl(var(--foreground))",cursor:"pointer",padding:"8px 12px",fontSize:"0.875rem",transition:"all 150ms","&:active":{backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},"&:hover":{backgroundColor:S.isSelected?"hsl(var(--primary))":"hsl(var(--accent))",color:S.isSelected?"hsl(var(--primary-foreground))":"hsl(var(--accent-foreground))"}}),input:b=>({...b,color:"hsl(var(--foreground))"}),singleValue:b=>({...b,color:"hsl(var(--foreground))",fontSize:"0.875rem"}),placeholder:b=>({...b,color:"hsl(var(--muted-foreground))",fontSize:"0.875rem"}),dropdownIndicator:(b,S)=>({...b,transition:"transform 150ms ease",transform:S.selectProps.menuIsOpen?"rotate(180deg)":void 0,color:"hsl(var(--muted-foreground))",padding:"0 4px","&:hover":{color:"hsl(var(--foreground))"}}),clearIndicator:b=>({...b,color:"hsl(var(--muted-foreground))",padding:"0 2px","&:hover":{color:"hsl(var(--foreground))"}}),multiValue:b=>({...b,backgroundColor:"hsl(var(--accent))",borderRadius:"4px"}),multiValueLabel:b=>({...b,color:"hsl(var(--accent-foreground))",fontSize:"0.875rem"}),multiValueRemove:b=>({...b,color:"hsl(var(--accent-foreground))","&:hover":{backgroundColor:"hsl(var(--destructive))",color:"hsl(var(--destructive-foreground))"}})};return h.jsxs("div",{className:"w-full space-y-2",children:[f&&h.jsx("label",{htmlFor:g.id||g.name,className:"text-sm font-bold leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:f}),h.jsx(mte,{...g,ref:v,options:e,value:x,onChange:b=>y(b),isDisabled:o||c,placeholder:n,noOptionsMessage:()=>s,classNamePrefix:"react-select",className:u,styles:w,isSearchable:!c,isClearable:!c,menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"auto",menuShouldBlockScroll:!0,menuShouldScrollIntoView:!1,closeMenuOnScroll:!1,blurInputOnSelect:!0,captureMenuScroll:!1,closeMenuOnSelect:!0,pageSize:5,tabSelectsValue:!0,openMenuOnFocus:!c,components:{IndicatorSeparator:()=>null},theme:b=>({...b,spacing:{...b.spacing,controlHeight:40,menuGutter:8},colors:{...b.colors,primary:"hsl(var(--primary))",primary75:"hsl(var(--primary-foreground))",primary50:"hsl(var(--accent))",primary25:"hsl(var(--accent))",danger:"hsl(var(--destructive))",dangerLight:"hsl(var(--destructive) / 0.1)"}})}),m&&h.jsx("p",{className:"text-sm font-medium text-destructive",children:m})]})});ul.displayName="Select";const rE=N.forwardRef(({className:e,label:t,error:r,...n},a)=>h.jsxs("div",{className:"w-full space-y-2",children:[t&&h.jsx("label",{htmlFor:n.id||n.name,className:"text-sm font-bold leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:t}),h.jsx("textarea",{ref:a,className:at("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","resize-none",r&&"border-destructive focus-visible:ring-destructive",e),...n}),r&&h.jsx("p",{className:"text-sm font-medium text-destructive",children:r})]}));rE.displayName="Textarea";const p0=M.forwardRef(({className:e,label:t,error:r,containerClassName:n,value:a,onChange:s,defaultValue:o,...c},u)=>{const f=M.useRef(null),m=w=>{try{if(w instanceof Date)return w;if(typeof w=="string"){if(w.includes("GMT")){const E=w.match(/(\w+)\s+(\w+)\s+(\d+)\s+(\d+)/);if(E){const[,,A,k,D]=E,P={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11}[A];if(P!==void 0)return new Date(Number(D),P,Number(k))}}else if(w.includes("T"))return pl(w);const[b,S,T]=w.split("-").map(Number);return new Date(b,S-1,T)}return new Date(w)}catch(b){return console.error("Error converting to date:",b),null}},g=M.useMemo(()=>{const w=a||o;if(!w)return"";const b=m(w);if(!b)return"";const S=b.getFullYear(),T=String(b.getMonth()+1).padStart(2,"0"),E=String(b.getDate()).padStart(2,"0");return`${S}-${T}-${E}`},[a,o]),v=M.useMemo(()=>{const w=a||o;if(!w)return"";const b=m(w);return b?lI(b):""},[a,o]),x=w=>{const b=w.target.value;s&&s(b)},y=()=>{f.current&&f.current.showPicker()};return h.jsxs("div",{className:at("w-full space-y-2",n),children:[t&&h.jsx("label",{htmlFor:c.id||c.name,className:"text-sm font-bold leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:t}),h.jsxs("div",{className:"relative",children:[h.jsxs("div",{onClick:y,className:at("flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2","text-sm ring-offset-background cursor-pointer","hover:bg-accent hover:text-accent-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",!a&&!o&&"text-muted-foreground",r&&"border-destructive focus-visible:ring-destructive",e),children:[h.jsx(FB,{className:"mr-2 h-4 w-4 opacity-50"}),v||c.placeholder||"Seleccione una fecha"]}),h.jsx("input",{...c,type:"date",ref:w=>{f.current=w,typeof u=="function"?u(w):u&&(u.current=w)},value:g,onChange:x,className:"sr-only"})]}),r&&h.jsx("p",{className:"text-sm font-medium text-destructive",children:r})]})});p0.displayName="DatePicker";const QP=N.forwardRef(({className:e,...t},r)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:r,className:at("w-full caption-bottom text-sm",e),...t})}));QP.displayName="Table";const ZP=N.forwardRef(({className:e,...t},r)=>h.jsx("thead",{ref:r,className:at("[&_tr]:border-b",e),...t}));ZP.displayName="TableHeader";const JP=N.forwardRef(({className:e,...t},r)=>h.jsx("tbody",{ref:r,className:at("[&_tr:last-child]:border-0",e),...t}));JP.displayName="TableBody";const pte=N.forwardRef(({className:e,...t},r)=>h.jsx("tfoot",{ref:r,className:at("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));pte.displayName="TableFooter";const Ub=N.forwardRef(({className:e,...t},r)=>h.jsx("tr",{ref:r,className:at("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ub.displayName="TableRow";const Vb=N.forwardRef(({className:e,...t},r)=>h.jsx("th",{ref:r,className:at("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Vb.displayName="TableHead";const Hb=N.forwardRef(({className:e,...t},r)=>h.jsx("td",{ref:r,className:at("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Hb.displayName="TableCell";const gte=N.forwardRef(({className:e,...t},r)=>h.jsx("caption",{ref:r,className:at("mt-4 text-sm text-muted-foreground",e),...t}));gte.displayName="TableCaption";var Ep=typeof document<"u"?N.useLayoutEffect:N.useEffect;function sg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!sg(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!sg(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function eM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ek(e,t){const r=eM(e);return Math.round(t*r)/r}function A1(e){const t=N.useRef(e);return Ep(()=>{t.current=e}),t}function vte(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:c=!0,whileElementsMounted:u,open:f}=e,[m,g]=N.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,x]=N.useState(n);sg(v,n)||x(n);const[y,w]=N.useState(null),[b,S]=N.useState(null),T=N.useCallback(le=>{le!==D.current&&(D.current=le,w(le))},[]),E=N.useCallback(le=>{le!==R.current&&(R.current=le,S(le))},[]),A=s||y,k=o||b,D=N.useRef(null),R=N.useRef(null),P=N.useRef(m),I=u!=null,B=A1(u),H=A1(a),z=A1(f),G=N.useCallback(()=>{if(!D.current||!R.current)return;const le={placement:t,strategy:r,middleware:v};H.current&&(le.platform=H.current),QZ(D.current,R.current,le).then(W=>{const V={...W,isPositioned:z.current!==!1};ne.current&&!sg(P.current,V)&&(P.current=V,Kh.flushSync(()=>{g(V)}))})},[v,t,r,H,z]);Ep(()=>{f===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,g(le=>({...le,isPositioned:!1})))},[f]);const ne=N.useRef(!1);Ep(()=>(ne.current=!0,()=>{ne.current=!1}),[]),Ep(()=>{if(A&&(D.current=A),k&&(R.current=k),A&&k){if(B.current)return B.current(A,k,G);G()}},[A,k,G,B,I]);const se=N.useMemo(()=>({reference:D,floating:R,setReference:T,setFloating:E}),[T,E]),L=N.useMemo(()=>({reference:A,floating:k}),[A,k]),oe=N.useMemo(()=>{const le={position:r,left:0,top:0};if(!L.floating)return le;const W=Ek(L.floating,m.x),V=Ek(L.floating,m.y);return c?{...le,transform:"translate("+W+"px, "+V+"px)",...eM(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:W,top:V}},[r,c,L.floating,m.x,m.y]);return N.useMemo(()=>({...m,update:G,refs:se,elements:L,floatingStyles:oe}),[m,G,se,L,oe])}const xte=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?sk({element:n.current,padding:a}).fn(r):{}:n?sk({element:n,padding:a}).fn(r):{}}}},yte=(e,t)=>({...WZ(e),options:[e,t]}),bte=(e,t)=>({...qZ(e),options:[e,t]}),wte=(e,t)=>({...KZ(e),options:[e,t]}),_te=(e,t)=>({...GZ(e),options:[e,t]}),Ete=(e,t)=>({...YZ(e),options:[e,t]}),Ste=(e,t)=>({...XZ(e),options:[e,t]}),Cte=(e,t)=>({...xte(e),options:[e,t]});var Tte="Arrow",tM=N.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return h.jsx(Ht.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});tM.displayName=Tte;var Nte=tM;function rM(e){const[t,r]=N.useState(void 0);return Zi(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,c;if("borderBoxSize"in s){const u=s.borderBoxSize,f=Array.isArray(u)?u[0]:u;o=f.inlineSize,c=f.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var nE="Popper",[nM,fv]=oi(nE),[Ate,aM]=nM(nE),sM=e=>{const{__scopePopper:t,children:r}=e,[n,a]=N.useState(null);return h.jsx(Ate,{scope:t,anchor:n,onAnchorChange:a,children:r})};sM.displayName=nE;var iM="PopperAnchor",oM=N.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=aM(iM,r),o=N.useRef(null),c=rr(t,o);return N.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:h.jsx(Ht.div,{...a,ref:c})});oM.displayName=iM;var aE="PopperContent",[kte,Rte]=nM(aE),lM=N.forwardRef((e,t)=>{var be,Ee,ue,me,Ae,Y;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:x="optimized",onPlaced:y,...w}=e,b=aM(aE,r),[S,T]=N.useState(null),E=rr(t,He=>T(He)),[A,k]=N.useState(null),D=rM(A),R=(D==null?void 0:D.width)??0,P=(D==null?void 0:D.height)??0,I=n+(s!=="center"?"-"+s:""),B=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},H=Array.isArray(f)?f:[f],z=H.length>0,G={padding:B,boundary:H.filter(Ite),altBoundary:z},{refs:ne,floatingStyles:se,placement:L,isPositioned:oe,middlewareData:le}=vte({strategy:"fixed",placement:I,whileElementsMounted:(...He)=>AP(...He,{animationFrame:x==="always"}),elements:{reference:b.anchor},middleware:[yte({mainAxis:a+P,alignmentAxis:o}),u&&bte({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?wte():void 0,...G}),u&&_te({...G}),Ete({...G,apply:({elements:He,rects:Ce,availableWidth:Ge,availableHeight:$e})=>{const{width:Oe,height:ie}=Ce.reference,fe=He.floating.style;fe.setProperty("--radix-popper-available-width",`${Ge}px`),fe.setProperty("--radix-popper-available-height",`${$e}px`),fe.setProperty("--radix-popper-anchor-width",`${Oe}px`),fe.setProperty("--radix-popper-anchor-height",`${ie}px`)}}),A&&Cte({element:A,padding:c}),Ote({arrowWidth:R,arrowHeight:P}),v&&Ste({strategy:"referenceHidden",...G})]}),[W,V]=dM(L),ce=un(y);Zi(()=>{oe&&(ce==null||ce())},[oe,ce]);const j=(be=le.arrow)==null?void 0:be.x,ee=(Ee=le.arrow)==null?void 0:Ee.y,K=((ue=le.arrow)==null?void 0:ue.centerOffset)!==0,[Q,re]=N.useState();return Zi(()=>{S&&re(window.getComputedStyle(S).zIndex)},[S]),h.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:oe?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(me=le.transformOrigin)==null?void 0:me.x,(Ae=le.transformOrigin)==null?void 0:Ae.y].join(" "),...((Y=le.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:h.jsx(kte,{scope:r,placedSide:W,onArrowChange:k,arrowX:j,arrowY:ee,shouldHideArrow:K,children:h.jsx(Ht.div,{"data-side":W,"data-align":V,...w,ref:E,style:{...w.style,animation:oe?void 0:"none"}})})})});lM.displayName=aE;var cM="PopperArrow",Dte={top:"bottom",right:"left",bottom:"top",left:"right"},uM=N.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=Rte(cM,n),o=Dte[s.placedSide];return h.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:h.jsx(Nte,{...a,ref:r,style:{...a.style,display:"block"}})})});uM.displayName=cM;function Ite(e){return e!==null}var Ote=e=>({name:"transformOrigin",options:e,fn(t){var b,S,T;const{placement:r,rects:n,middlewareData:a}=t,o=((b=a.arrow)==null?void 0:b.centerOffset)!==0,c=o?0:e.arrowWidth,u=o?0:e.arrowHeight,[f,m]=dM(r),g={start:"0%",center:"50%",end:"100%"}[m],v=(((S=a.arrow)==null?void 0:S.x)??0)+c/2,x=(((T=a.arrow)==null?void 0:T.y)??0)+u/2;let y="",w="";return f==="bottom"?(y=o?g:`${v}px`,w=`${-u}px`):f==="top"?(y=o?g:`${v}px`,w=`${n.floating.height+u}px`):f==="right"?(y=`${-u}px`,w=o?g:`${x}px`):f==="left"&&(y=`${n.floating.width+u}px`,w=o?g:`${x}px`),{data:{x:y,y:w}}}});function dM(e){const[t,r="center"]=e.split("-");return[t,r]}var fM=sM,hM=oM,mM=lM,pM=uM,Pte="VisuallyHidden",gM=N.forwardRef((e,t)=>h.jsx(Ht.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));gM.displayName=Pte;var Mte=gM,[hv,Ype]=oi("Tooltip",[fv]),mv=fv(),vM="TooltipProvider",Fte=700,$b="tooltip.open",[jte,sE]=hv(vM),xM=e=>{const{__scopeTooltip:t,delayDuration:r=Fte,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=e,[o,c]=N.useState(!0),u=N.useRef(!1),f=N.useRef(0);return N.useEffect(()=>{const m=f.current;return()=>window.clearTimeout(m)},[]),h.jsx(jte,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:N.useCallback(()=>{window.clearTimeout(f.current),c(!1)},[]),onClose:N.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c(!0),n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:N.useCallback(m=>{u.current=m},[]),disableHoverableContent:a,children:s})};xM.displayName=vM;var pv="Tooltip",[Lte,gv]=hv(pv),yM=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:c}=e,u=sE(pv,e.__scopeTooltip),f=mv(t),[m,g]=N.useState(null),v=Jo(),x=N.useRef(0),y=o??u.disableHoverableContent,w=c??u.delayDuration,b=N.useRef(!1),[S=!1,T]=bd({prop:n,defaultProp:a,onChange:R=>{R?(u.onOpen(),document.dispatchEvent(new CustomEvent($b))):u.onClose(),s==null||s(R)}}),E=N.useMemo(()=>S?b.current?"delayed-open":"instant-open":"closed",[S]),A=N.useCallback(()=>{window.clearTimeout(x.current),x.current=0,b.current=!1,T(!0)},[T]),k=N.useCallback(()=>{window.clearTimeout(x.current),x.current=0,T(!1)},[T]),D=N.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{b.current=!0,T(!0),x.current=0},w)},[w,T]);return N.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),h.jsx(fM,{...f,children:h.jsx(Lte,{scope:t,contentId:v,open:S,stateAttribute:E,trigger:m,onTriggerChange:g,onTriggerEnter:N.useCallback(()=>{u.isOpenDelayed?D():A()},[u.isOpenDelayed,D,A]),onTriggerLeave:N.useCallback(()=>{y?k():(window.clearTimeout(x.current),x.current=0)},[k,y]),onOpen:A,onClose:k,disableHoverableContent:y,children:r})})};yM.displayName=pv;var zb="TooltipTrigger",bM=N.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=gv(zb,r),s=sE(zb,r),o=mv(r),c=N.useRef(null),u=rr(t,c,a.onTriggerChange),f=N.useRef(!1),m=N.useRef(!1),g=N.useCallback(()=>f.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),h.jsx(hM,{asChild:!0,...o,children:h.jsx(Ht.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:u,onPointerMove:nt(e.onPointerMove,v=>{v.pointerType!=="touch"&&!m.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),m.current=!0)}),onPointerLeave:nt(e.onPointerLeave,()=>{a.onTriggerLeave(),m.current=!1}),onPointerDown:nt(e.onPointerDown,()=>{f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:nt(e.onFocus,()=>{f.current||a.onOpen()}),onBlur:nt(e.onBlur,a.onClose),onClick:nt(e.onClick,a.onClose)})})});bM.displayName=zb;var Bte="TooltipPortal",[Xpe,Ute]=hv(Bte,{forceMount:void 0}),td="TooltipContent",wM=N.forwardRef((e,t)=>{const r=Ute(td,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=e,o=gv(td,e.__scopeTooltip);return h.jsx(Qn,{present:n||o.open,children:o.disableHoverableContent?h.jsx(_M,{side:a,...s,ref:t}):h.jsx(Vte,{side:a,...s,ref:t})})}),Vte=N.forwardRef((e,t)=>{const r=gv(td,e.__scopeTooltip),n=sE(td,e.__scopeTooltip),a=N.useRef(null),s=rr(t,a),[o,c]=N.useState(null),{trigger:u,onClose:f}=r,m=a.current,{onPointerInTransitChange:g}=n,v=N.useCallback(()=>{c(null),g(!1)},[g]),x=N.useCallback((y,w)=>{const b=y.currentTarget,S={x:y.clientX,y:y.clientY},T=Wte(S,b.getBoundingClientRect()),E=qte(S,T),A=Gte(w.getBoundingClientRect()),k=Xte([...E,...A]);c(k),g(!0)},[g]);return N.useEffect(()=>()=>v(),[v]),N.useEffect(()=>{if(u&&m){const y=b=>x(b,m),w=b=>x(b,u);return u.addEventListener("pointerleave",y),m.addEventListener("pointerleave",w),()=>{u.removeEventListener("pointerleave",y),m.removeEventListener("pointerleave",w)}}},[u,m,x,v]),N.useEffect(()=>{if(o){const y=w=>{const b=w.target,S={x:w.clientX,y:w.clientY},T=(u==null?void 0:u.contains(b))||(m==null?void 0:m.contains(b)),E=!Yte(S,o);T?v():E&&(v(),f())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[u,m,o,f,v]),h.jsx(_M,{...e,ref:s})}),[Hte,$te]=hv(pv,{isInside:!1}),_M=N.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:o,...c}=e,u=gv(td,r),f=mv(r),{onClose:m}=u;return N.useEffect(()=>(document.addEventListener($b,m),()=>document.removeEventListener($b,m)),[m]),N.useEffect(()=>{if(u.trigger){const g=v=>{const x=v.target;x!=null&&x.contains(u.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[u.trigger,m]),h.jsx(nv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:h.jsxs(mM,{"data-state":u.stateAttribute,...f,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(b4,{children:n}),h.jsx(Hte,{scope:r,isInside:!0,children:h.jsx(Mte,{id:u.contentId,role:"tooltip",children:a||n})})]})})});wM.displayName=td;var EM="TooltipArrow",zte=N.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=mv(r);return $te(EM,r).isInside?null:h.jsx(pM,{...a,...n,ref:t})});zte.displayName=EM;function Wte(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function qte(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Gte(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function Yte(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const c=t[s].x,u=t[s].y,f=t[o].x,m=t[o].y;u>n!=m>n&&r<(f-c)*(n-u)/(m-u)+c&&(a=!a)}return a}function Xte(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Kte(t)}function Kte(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Qte=xM,Zte=yM,SM=bM,CM=wM;const Jte=Qte,Wb=Zte,ig=N.forwardRef(({className:e,...t},r)=>h.jsx(SM,{ref:r,className:at("",e),...t}));ig.displayName=SM.displayName;const og=N.forwardRef(({className:e,sideOffset:t=4,...r},n)=>h.jsx(CM,{ref:n,sideOffset:t,className:at("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));og.displayName=CM.displayName;function ere({value:e=[],onChange:t,config:r,FormContent:n}){const[a,s]=N.useState(!1),[o,c]=N.useState(!1),[u,f]=N.useState(null),[m,g]=N.useState({}),[v,x]=N.useState(!1),[y,w]=N.useState(null),{columns:b,form:{emptyState:S={title:"No hay elementos",description:'Haga clic en el botón "Agregar" para comenzar.'},addButtonText:T="Agregar",editButtonTooltip:E="Editar",deleteButtonTooltip:A="Eliminar"}}=r;N.useEffect(()=>{(async()=>{const ne=b.filter(oe=>{var le;return(le=oe.reference)==null?void 0:le.field.relatedService}).map(async oe=>{try{const W=await oe.reference.field.relatedService.service.findAll();return{field:oe.accessor,data:W}}catch(le){return console.error(`Error loading referenced data for ${oe.accessor}:`,le),{field:oe.accessor,data:[]}}}),se=await Promise.all(ne),L={};se.forEach(({field:oe,data:le})=>{const W={};le.forEach(V=>{V.id&&(W[V.id]=V)}),L[oe.replace("Id","")]=W}),g(L)})()},[b]);const k=z=>{z.preventDefault(),z.stopPropagation(),s(!0),f(null)},D=z=>{s(!1),f(z)},R=z=>{x(!1),w(null);const G=[...e];G.splice(z,1),t(G)},P=z=>{w(z),x(!0)},I=z=>{const G=[...e];u!==null?(G[u]=z,f(null)):(G.push(z),o||s(!1)),t(G)},B=()=>{s(!1),f(null)},H=(z,G)=>{var ne;if(G.render)return G.render(z[G.accessor],z);if(G.reference){const se=z[G.accessor],L=G.accessor.replace("Id",""),oe=(ne=m[L])==null?void 0:ne[se];return oe?String(oe[G.reference.displayField]):"N/A"}return String(z[G.accessor]??"")};return h.jsx(Jte,{children:h.jsxs("div",{className:"space-y-3",children:[h.jsx(L_,{open:v,onOpenChange:x,title:"Confirmar eliminación",description:"¿Está seguro de que desea eliminar este elemento? Esta acción no se puede deshacer.",onConfirm:()=>y!==null&&R(y),confirmText:"Eliminar",variant:"destructive"}),h.jsx("div",{className:"flex items-center justify-between",children:!a&&!u&&h.jsxs(ze,{onClick:k,size:"sm",variant:"secondary",className:"h-8",type:"button",children:[h.jsx(Qs,{className:"h-4 w-4 mr-1"}),T]})}),(a||u!==null)&&h.jsx("div",{className:"rounded-lg border border-border/50 p-4",children:h.jsx(n,{arrayForm:r.form,initialData:u!==null?e[u]:{},onSubmit:I,onCancel:B,keepOpen:o,onKeepOpenChange:c})}),e.length===0&&!a?h.jsxs("div",{className:"text-center py-6 rounded-lg bg-muted/5 border border-dashed",children:[h.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:S.title}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:S.description})]}):h.jsx("div",{className:"rounded-lg border border-border/50 overflow-hidden",children:h.jsxs(QP,{children:[h.jsx(ZP,{children:h.jsxs(Ub,{className:"hover:bg-transparent",children:[b.map((z,G)=>h.jsx(Vb,{className:"h-9 text-xs",children:z.header},G)),h.jsx(Vb,{className:"h-9 w-[80px] text-xs",children:"Acciones"})]})}),h.jsx(JP,{children:e.map((z,G)=>h.jsxs(Ub,{className:"hover:bg-muted/5",children:[b.map((ne,se)=>h.jsx(Hb,{className:"py-2 text-sm",children:H(z,ne)},se)),h.jsx(Hb,{className:"py-2",children:h.jsxs("div",{className:"flex items-center gap-0.5",children:[h.jsxs(Wb,{children:[h.jsx(ig,{asChild:!0,children:h.jsx(ze,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground hover:bg-transparent",onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),D(G)},children:h.jsx(Qh,{className:"h-5 w-5"})})}),h.jsx(og,{children:h.jsx("p",{children:E})})]}),h.jsxs(Wb,{children:[h.jsx(ig,{asChild:!0,children:h.jsx(ze,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive hover:bg-transparent",onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),P(G)},children:h.jsx(Zh,{className:"h-5 w-5"})})}),h.jsx(og,{children:h.jsx("p",{children:A})})]})]})})]},G))})]})})]})})}function tre(e){const t=N.useRef({value:e,previous:e});return N.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var iE="Checkbox",[rre,Kpe]=oi(iE),[nre,are]=rre(iE),TM=N.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:o,disabled:c,value:u="on",onCheckedChange:f,form:m,...g}=e,[v,x]=N.useState(null),y=rr(t,A=>x(A)),w=N.useRef(!1),b=v?m||!!v.closest("form"):!0,[S=!1,T]=bd({prop:a,defaultProp:s,onChange:f}),E=N.useRef(S);return N.useEffect(()=>{const A=v==null?void 0:v.form;if(A){const k=()=>T(E.current);return A.addEventListener("reset",k),()=>A.removeEventListener("reset",k)}},[v,T]),h.jsxs(nre,{scope:r,state:S,disabled:c,children:[h.jsx(Ht.button,{type:"button",role:"checkbox","aria-checked":el(S)?"mixed":S,"aria-required":o,"data-state":kM(S),"data-disabled":c?"":void 0,disabled:c,value:u,...g,ref:y,onKeyDown:nt(e.onKeyDown,A=>{A.key==="Enter"&&A.preventDefault()}),onClick:nt(e.onClick,A=>{T(k=>el(k)?!0:!k),b&&(w.current=A.isPropagationStopped(),w.current||A.stopPropagation())})}),b&&h.jsx(sre,{control:v,bubbles:!w.current,name:n,value:u,checked:S,required:o,disabled:c,form:m,style:{transform:"translateX(-100%)"},defaultChecked:el(s)?!1:s})]})});TM.displayName=iE;var NM="CheckboxIndicator",AM=N.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=are(NM,r);return h.jsx(Qn,{present:n||el(s.state)||s.state===!0,children:h.jsx(Ht.span,{"data-state":kM(s.state),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});AM.displayName=NM;var sre=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...s}=e,o=N.useRef(null),c=tre(r),u=rM(t);N.useEffect(()=>{const m=o.current,g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(c!==r&&x){const y=new Event("click",{bubbles:n});m.indeterminate=el(r),x.call(m,el(r)?!1:r),m.dispatchEvent(y)}},[c,r,n]);const f=N.useRef(el(r)?!1:r);return h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??f.current,...s,tabIndex:-1,ref:o,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function el(e){return e==="indeterminate"}function kM(e){return el(e)?"indeterminate":e?"checked":"unchecked"}var RM=TM,ire=AM;const Sd=N.forwardRef(({className:e,...t},r)=>h.jsx(RM,{ref:r,className:at("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:h.jsx(ire,{className:at("flex items-center justify-center text-current"),children:h.jsx(Nw,{className:"h-4 w-4"})})}));Sd.displayName=RM.displayName;var g0=e=>e.type==="checkbox",ic=e=>e instanceof Date,Vn=e=>e==null;const DM=e=>typeof e=="object";var Mr=e=>!Vn(e)&&!Array.isArray(e)&&DM(e)&&!ic(e),IM=e=>Mr(e)&&e.target?g0(e.target)?e.target.checked:e.target.value:e,ore=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,OM=(e,t)=>e.has(ore(t)),lre=e=>{const t=e.constructor&&e.constructor.prototype;return Mr(t)&&t.hasOwnProperty("isPrototypeOf")},oE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ra(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(oE&&(e instanceof Blob||n))&&(r||Mr(e)))if(t=r?[]:{},!r&&!lre(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=ra(e[a]));else return e;return t}var vv=e=>Array.isArray(e)?e.filter(Boolean):[],Or=e=>e===void 0,qe=(e,t,r)=>{if(!t||!Mr(e))return r;const n=vv(t.split(/[,[\].]+?/)).reduce((a,s)=>Vn(a)?a:a[s],e);return Or(n)||n===e?Or(e[t])?r:e[t]:n},Ka=e=>typeof e=="boolean",lE=e=>/^\w*$/.test(e),PM=e=>vv(e.replace(/["|']|\]/g,"").split(/\.|\[/)),tr=(e,t,r)=>{let n=-1;const a=lE(t)?[t]:PM(t),s=a.length,o=s-1;for(;++n<s;){const c=a[n];let u=r;if(n!==o){const f=e[c];u=Mr(f)||Array.isArray(f)?f:isNaN(+a[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=u,e=e[c]}return e};const lg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ps={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Oi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},MM=M.createContext(null),xv=()=>M.useContext(MM),cre=e=>{const{children:t,...r}=e;return M.createElement(MM.Provider,{value:r},t)};var FM=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const o=s;return t._proxyFormState[o]!==ps.all&&(t._proxyFormState[o]=!n||ps.all),r&&(r[o]=!0),e[o]}});return a},na=e=>Mr(e)&&!Object.keys(e).length,jM=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return na(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||ps.all))},nh=e=>Array.isArray(e)?e:[e],LM=(e,t,r)=>!e||!t||e===t||nh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function cE(e){const t=M.useRef(e);t.current=e,M.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function ure(e){const t=xv(),{control:r=t.control,disabled:n,name:a,exact:s}=e||{},[o,c]=M.useState(r._formState),u=M.useRef(!0),f=M.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=M.useRef(a);return m.current=a,cE({disabled:n,next:g=>u.current&&LM(m.current,g.name,s)&&jM(g,f.current,r._updateFormState)&&c({...r._formState,...g}),subject:r._subjects.state}),M.useEffect(()=>(u.current=!0,f.current.isValid&&r._updateValid(!0),()=>{u.current=!1}),[r]),M.useMemo(()=>FM(o,r,f.current,!1),[o,r])}var Ks=e=>typeof e=="string",BM=(e,t,r,n,a)=>Ks(e)?(n&&t.watch.add(e),qe(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),qe(r,s))):(n&&(t.watchAll=!0),r);function dre(e){const t=xv(),{control:r=t.control,name:n,defaultValue:a,disabled:s,exact:o}=e||{},c=M.useRef(n);c.current=n,cE({disabled:s,subject:r._subjects.values,next:m=>{LM(c.current,m.name,o)&&f(ra(BM(c.current,r._names,m.values||r._formValues,!1,a)))}});const[u,f]=M.useState(r._getWatch(n,a));return M.useEffect(()=>r._removeUnmounted()),u}function fre(e){const t=xv(),{name:r,disabled:n,control:a=t.control,shouldUnregister:s}=e,o=OM(a._names.array,r),c=dre({control:a,name:r,defaultValue:qe(a._formValues,r,qe(a._defaultValues,r,e.defaultValue)),exact:!0}),u=ure({control:a,name:r,exact:!0}),f=M.useRef(a.register(r,{...e.rules,value:c,...Ka(e.disabled)?{disabled:e.disabled}:{}})),m=M.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!qe(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!qe(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!qe(u.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!qe(u.validatingFields,r)},error:{enumerable:!0,get:()=>qe(u.errors,r)}}),[u,r]),g=M.useMemo(()=>({name:r,value:c,...Ka(n)||u.disabled?{disabled:u.disabled||n}:{},onChange:v=>f.current.onChange({target:{value:IM(v),name:r},type:lg.CHANGE}),onBlur:()=>f.current.onBlur({target:{value:qe(a._formValues,r),name:r},type:lg.BLUR}),ref:v=>{const x=qe(a._fields,r);x&&v&&(x._f.ref={focus:()=>v.focus(),select:()=>v.select(),setCustomValidity:y=>v.setCustomValidity(y),reportValidity:()=>v.reportValidity()})}}),[r,a._formValues,n,u.disabled,c,a._fields]);return M.useEffect(()=>{const v=a._options.shouldUnregister||s,x=(y,w)=>{const b=qe(a._fields,y);b&&b._f&&(b._f.mount=w)};if(x(r,!0),v){const y=ra(qe(a._options.defaultValues,r));tr(a._defaultValues,r,y),Or(qe(a._formValues,r))&&tr(a._formValues,r,y)}return!o&&a.register(r),()=>{(o?v&&!a._state.action:v)?a.unregister(r):x(r,!1)}},[r,a,o,s]),M.useEffect(()=>{a._updateDisabledField({disabled:n,fields:a._fields,name:r})},[n,r,a]),M.useMemo(()=>({field:g,formState:u,fieldState:m}),[g,u,m])}const hre=e=>e.render(fre(e));var mre=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Sk=e=>({isOnSubmit:!e||e===ps.onSubmit,isOnBlur:e===ps.onBlur,isOnChange:e===ps.onChange,isOnAll:e===ps.all,isOnTouch:e===ps.onTouched}),Ck=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ah=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=qe(e,a);if(s){const{_f:o,...c}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(ah(c,t))break}else if(Mr(c)&&ah(c,t))break}}};var pre=(e,t,r)=>{const n=nh(qe(e,r));return tr(n,"root",t[r]),tr(e,r,n),e},uE=e=>e.type==="file",Xs=e=>typeof e=="function",cg=e=>{if(!oE)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Sp=e=>Ks(e),dE=e=>e.type==="radio",ug=e=>e instanceof RegExp;const Tk={value:!1,isValid:!1},Nk={value:!0,isValid:!0};var UM=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Or(e[0].attributes.value)?Or(e[0].value)||e[0].value===""?Nk:{value:e[0].value,isValid:!0}:Nk:Tk}return Tk};const Ak={isValid:!1,value:null};var VM=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Ak):Ak;function kk(e,t,r="validate"){if(Sp(e)||Array.isArray(e)&&e.every(Sp)||Ka(e)&&!e)return{type:r,message:Sp(e)?e:"",ref:t}}var Tu=e=>Mr(e)&&!ug(e)?e:{value:e,message:""},Rk=async(e,t,r,n,a,s)=>{const{ref:o,refs:c,required:u,maxLength:f,minLength:m,min:g,max:v,pattern:x,validate:y,name:w,valueAsNumber:b,mount:S}=e._f,T=qe(r,w);if(!S||t.has(w))return{};const E=c?c[0]:o,A=z=>{a&&E.reportValidity&&(E.setCustomValidity(Ka(z)?"":z||""),E.reportValidity())},k={},D=dE(o),R=g0(o),P=D||R,I=(b||uE(o))&&Or(o.value)&&Or(T)||cg(o)&&o.value===""||T===""||Array.isArray(T)&&!T.length,B=mre.bind(null,w,n,k),H=(z,G,ne,se=Oi.maxLength,L=Oi.minLength)=>{const oe=z?G:ne;k[w]={type:z?se:L,message:oe,ref:o,...B(z?se:L,oe)}};if(s?!Array.isArray(T)||!T.length:u&&(!P&&(I||Vn(T))||Ka(T)&&!T||R&&!UM(c).isValid||D&&!VM(c).isValid)){const{value:z,message:G}=Sp(u)?{value:!!u,message:u}:Tu(u);if(z&&(k[w]={type:Oi.required,message:G,ref:E,...B(Oi.required,G)},!n))return A(G),k}if(!I&&(!Vn(g)||!Vn(v))){let z,G;const ne=Tu(v),se=Tu(g);if(!Vn(T)&&!isNaN(T)){const L=o.valueAsNumber||T&&+T;Vn(ne.value)||(z=L>ne.value),Vn(se.value)||(G=L<se.value)}else{const L=o.valueAsDate||new Date(T),oe=V=>new Date(new Date().toDateString()+" "+V),le=o.type=="time",W=o.type=="week";Ks(ne.value)&&T&&(z=le?oe(T)>oe(ne.value):W?T>ne.value:L>new Date(ne.value)),Ks(se.value)&&T&&(G=le?oe(T)<oe(se.value):W?T<se.value:L<new Date(se.value))}if((z||G)&&(H(!!z,ne.message,se.message,Oi.max,Oi.min),!n))return A(k[w].message),k}if((f||m)&&!I&&(Ks(T)||s&&Array.isArray(T))){const z=Tu(f),G=Tu(m),ne=!Vn(z.value)&&T.length>+z.value,se=!Vn(G.value)&&T.length<+G.value;if((ne||se)&&(H(ne,z.message,G.message),!n))return A(k[w].message),k}if(x&&!I&&Ks(T)){const{value:z,message:G}=Tu(x);if(ug(z)&&!T.match(z)&&(k[w]={type:Oi.pattern,message:G,ref:o,...B(Oi.pattern,G)},!n))return A(G),k}if(y){if(Xs(y)){const z=await y(T,r),G=kk(z,E);if(G&&(k[w]={...G,...B(Oi.validate,G.message)},!n))return A(G.message),k}else if(Mr(y)){let z={};for(const G in y){if(!na(z)&&!n)break;const ne=kk(await y[G](T,r),E,G);ne&&(z={...ne,...B(G,ne.message)},A(ne.message),n&&(k[w]=z))}if(!na(z)&&(k[w]={ref:E,...z},!n))return k}}return A(!0),k};function gre(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Or(e)?n++:e[t[n++]];return e}function vre(e){for(const t in e)if(e.hasOwnProperty(t)&&!Or(e[t]))return!1;return!0}function Gr(e,t){const r=Array.isArray(t)?t:lE(t)?[t]:PM(t),n=r.length===1?e:gre(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(Mr(n)&&na(n)||Array.isArray(n)&&vre(n))&&Gr(e,r.slice(0,-1)),e}var k1=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},qb=e=>Vn(e)||!DM(e);function Uo(e,t){if(qb(e)||qb(t))return e===t;if(ic(e)&&ic(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const s=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if(ic(s)&&ic(o)||Mr(s)&&Mr(o)||Array.isArray(s)&&Array.isArray(o)?!Uo(s,o):s!==o)return!1}}return!0}var HM=e=>e.type==="select-multiple",xre=e=>dE(e)||g0(e),R1=e=>cg(e)&&e.isConnected,$M=e=>{for(const t in e)if(Xs(e[t]))return!0;return!1};function dg(e,t={}){const r=Array.isArray(e);if(Mr(e)||r)for(const n in e)Array.isArray(e[n])||Mr(e[n])&&!$M(e[n])?(t[n]=Array.isArray(e[n])?[]:{},dg(e[n],t[n])):Vn(e[n])||(t[n]=!0);return t}function zM(e,t,r){const n=Array.isArray(e);if(Mr(e)||n)for(const a in e)Array.isArray(e[a])||Mr(e[a])&&!$M(e[a])?Or(t)||qb(r[a])?r[a]=Array.isArray(e[a])?dg(e[a],[]):{...dg(e[a])}:zM(e[a],Vn(t)?{}:t[a],r[a]):r[a]=!Uo(e[a],t[a]);return r}var Mf=(e,t)=>zM(e,t,dg(t)),WM=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Or(e)?e:t?e===""?NaN:e&&+e:r&&Ks(e)?new Date(e):n?n(e):e;function D1(e){const t=e.ref;return uE(t)?t.files:dE(t)?VM(e.refs).value:HM(t)?[...t.selectedOptions].map(({value:r})=>r):g0(t)?UM(e.refs).value:WM(Or(t.value)?e.ref.value:t.value,e)}var yre=(e,t,r,n)=>{const a={};for(const s of e){const o=qe(t,s);o&&tr(a,s,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Ff=e=>Or(e)?e:ug(e)?e.source:Mr(e)?ug(e.value)?e.value.source:e.value:e;const Dk="AsyncFunction";var bre=e=>!!e&&!!e.validate&&!!(Xs(e.validate)&&e.validate.constructor.name===Dk||Mr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Dk)),wre=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Ik(e,t,r){const n=qe(e,r);if(n||lE(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),o=qe(t,s),c=qe(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(c&&c.type)return{name:s,error:c};a.pop()}return{name:r}}var _re=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,Ere=(e,t)=>!vv(qe(e,t)).length&&Gr(e,t);const Sre={mode:ps.onSubmit,reValidateMode:ps.onChange,shouldFocusError:!0};function Cre(e={}){let t={...Sre,...e},r={submitCount:0,isDirty:!1,isLoading:Xs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Mr(t.defaultValues)||Mr(t.values)?ra(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:ra(a),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,f=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:k1(),array:k1(),state:k1()},v=Sk(t.mode),x=Sk(t.reValidateMode),y=t.criteriaMode===ps.all,w=ie=>fe=>{clearTimeout(f),f=setTimeout(ie,fe)},b=async ie=>{if(!t.disabled&&(m.isValid||ie)){const fe=t.resolver?na((await P()).errors):await B(n,!0);fe!==r.isValid&&g.state.next({isValid:fe})}},S=(ie,fe)=>{!t.disabled&&(m.isValidating||m.validatingFields)&&((ie||Array.from(c.mount)).forEach(Se=>{Se&&(fe?tr(r.validatingFields,Se,fe):Gr(r.validatingFields,Se))}),g.state.next({validatingFields:r.validatingFields,isValidating:!na(r.validatingFields)}))},T=(ie,fe=[],Se,Me,Re=!0,De=!0)=>{if(Me&&Se&&!t.disabled){if(o.action=!0,De&&Array.isArray(qe(n,ie))){const je=Se(qe(n,ie),Me.argA,Me.argB);Re&&tr(n,ie,je)}if(De&&Array.isArray(qe(r.errors,ie))){const je=Se(qe(r.errors,ie),Me.argA,Me.argB);Re&&tr(r.errors,ie,je),Ere(r.errors,ie)}if(m.touchedFields&&De&&Array.isArray(qe(r.touchedFields,ie))){const je=Se(qe(r.touchedFields,ie),Me.argA,Me.argB);Re&&tr(r.touchedFields,ie,je)}m.dirtyFields&&(r.dirtyFields=Mf(a,s)),g.state.next({name:ie,isDirty:z(ie,fe),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else tr(s,ie,fe)},E=(ie,fe)=>{tr(r.errors,ie,fe),g.state.next({errors:r.errors})},A=ie=>{r.errors=ie,g.state.next({errors:r.errors,isValid:!1})},k=(ie,fe,Se,Me)=>{const Re=qe(n,ie);if(Re){const De=qe(s,ie,Or(Se)?qe(a,ie):Se);Or(De)||Me&&Me.defaultChecked||fe?tr(s,ie,fe?De:D1(Re._f)):se(ie,De),o.mount&&b()}},D=(ie,fe,Se,Me,Re)=>{let De=!1,je=!1;const Ze={name:ie};if(!t.disabled){const bt=!!(qe(n,ie)&&qe(n,ie)._f&&qe(n,ie)._f.disabled);if(!Se||Me){m.isDirty&&(je=r.isDirty,r.isDirty=Ze.isDirty=z(),De=je!==Ze.isDirty);const At=bt||Uo(qe(a,ie),fe);je=!!(!bt&&qe(r.dirtyFields,ie)),At||bt?Gr(r.dirtyFields,ie):tr(r.dirtyFields,ie,!0),Ze.dirtyFields=r.dirtyFields,De=De||m.dirtyFields&&je!==!At}if(Se){const At=qe(r.touchedFields,ie);At||(tr(r.touchedFields,ie,Se),Ze.touchedFields=r.touchedFields,De=De||m.touchedFields&&At!==Se)}De&&Re&&g.state.next(Ze)}return De?Ze:{}},R=(ie,fe,Se,Me)=>{const Re=qe(r.errors,ie),De=m.isValid&&Ka(fe)&&r.isValid!==fe;if(t.delayError&&Se?(u=w(()=>E(ie,Se)),u(t.delayError)):(clearTimeout(f),u=null,Se?tr(r.errors,ie,Se):Gr(r.errors,ie)),(Se?!Uo(Re,Se):Re)||!na(Me)||De){const je={...Me,...De&&Ka(fe)?{isValid:fe}:{},errors:r.errors,name:ie};r={...r,...je},g.state.next(je)}},P=async ie=>{S(ie,!0);const fe=await t.resolver(s,t.context,yre(ie||c.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return S(ie),fe},I=async ie=>{const{errors:fe}=await P(ie);if(ie)for(const Se of ie){const Me=qe(fe,Se);Me?tr(r.errors,Se,Me):Gr(r.errors,Se)}else r.errors=fe;return fe},B=async(ie,fe,Se={valid:!0})=>{for(const Me in ie){const Re=ie[Me];if(Re){const{_f:De,...je}=Re;if(De){const Ze=c.array.has(De.name),bt=Re._f&&bre(Re._f);bt&&m.validatingFields&&S([Me],!0);const At=await Rk(Re,c.disabled,s,y,t.shouldUseNativeValidation&&!fe,Ze);if(bt&&m.validatingFields&&S([Me]),At[De.name]&&(Se.valid=!1,fe))break;!fe&&(qe(At,De.name)?Ze?pre(r.errors,At,De.name):tr(r.errors,De.name,At[De.name]):Gr(r.errors,De.name))}!na(je)&&await B(je,fe,Se)}}return Se.valid},H=()=>{for(const ie of c.unMount){const fe=qe(n,ie);fe&&(fe._f.refs?fe._f.refs.every(Se=>!R1(Se)):!R1(fe._f.ref))&&re(ie)}c.unMount=new Set},z=(ie,fe)=>!t.disabled&&(ie&&fe&&tr(s,ie,fe),!Uo(ce(),a)),G=(ie,fe,Se)=>BM(ie,c,{...o.mount?s:Or(fe)?a:Ks(ie)?{[ie]:fe}:fe},Se,fe),ne=ie=>vv(qe(o.mount?s:a,ie,t.shouldUnregister?qe(a,ie,[]):[])),se=(ie,fe,Se={})=>{const Me=qe(n,ie);let Re=fe;if(Me){const De=Me._f;De&&(!De.disabled&&tr(s,ie,WM(fe,De)),Re=cg(De.ref)&&Vn(fe)?"":fe,HM(De.ref)?[...De.ref.options].forEach(je=>je.selected=Re.includes(je.value)):De.refs?g0(De.ref)?De.refs.length>1?De.refs.forEach(je=>(!je.defaultChecked||!je.disabled)&&(je.checked=Array.isArray(Re)?!!Re.find(Ze=>Ze===je.value):Re===je.value)):De.refs[0]&&(De.refs[0].checked=!!Re):De.refs.forEach(je=>je.checked=je.value===Re):uE(De.ref)?De.ref.value="":(De.ref.value=Re,De.ref.type||g.values.next({name:ie,values:{...s}})))}(Se.shouldDirty||Se.shouldTouch)&&D(ie,Re,Se.shouldTouch,Se.shouldDirty,!0),Se.shouldValidate&&V(ie)},L=(ie,fe,Se)=>{for(const Me in fe){const Re=fe[Me],De=`${ie}.${Me}`,je=qe(n,De);(c.array.has(ie)||Mr(Re)||je&&!je._f)&&!ic(Re)?L(De,Re,Se):se(De,Re,Se)}},oe=(ie,fe,Se={})=>{const Me=qe(n,ie),Re=c.array.has(ie),De=ra(fe);tr(s,ie,De),Re?(g.array.next({name:ie,values:{...s}}),(m.isDirty||m.dirtyFields)&&Se.shouldDirty&&g.state.next({name:ie,dirtyFields:Mf(a,s),isDirty:z(ie,De)})):Me&&!Me._f&&!Vn(De)?L(ie,De,Se):se(ie,De,Se),Ck(ie,c)&&g.state.next({...r}),g.values.next({name:o.mount?ie:void 0,values:{...s}})},le=async ie=>{o.mount=!0;const fe=ie.target;let Se=fe.name,Me=!0;const Re=qe(n,Se),De=()=>fe.type?D1(Re._f):IM(ie),je=Ze=>{Me=Number.isNaN(Ze)||ic(Ze)&&isNaN(Ze.getTime())||Uo(Ze,qe(s,Se,Ze))};if(Re){let Ze,bt;const At=De(),Dt=ie.type===lg.BLUR||ie.type===lg.FOCUS_OUT,Jr=!wre(Re._f)&&!t.resolver&&!qe(r.errors,Se)&&!Re._f.deps||_re(Dt,qe(r.touchedFields,Se),r.isSubmitted,x,v),ot=Ck(Se,c,Dt);tr(s,Se,At),Dt?(Re._f.onBlur&&Re._f.onBlur(ie),u&&u(0)):Re._f.onChange&&Re._f.onChange(ie);const qt=D(Se,At,Dt,!1),pr=!na(qt)||ot;if(!Dt&&g.values.next({name:Se,type:ie.type,values:{...s}}),Jr)return m.isValid&&(t.mode==="onBlur"&&Dt?b():Dt||b()),pr&&g.state.next({name:Se,...ot?{}:qt});if(!Dt&&ot&&g.state.next({...r}),t.resolver){const{errors:Gt}=await P([Se]);if(je(At),Me){const ur=Ik(r.errors,n,Se),Ds=Ik(Gt,n,ur.name||Se);Ze=Ds.error,Se=Ds.name,bt=na(Gt)}}else S([Se],!0),Ze=(await Rk(Re,c.disabled,s,y,t.shouldUseNativeValidation))[Se],S([Se]),je(At),Me&&(Ze?bt=!1:m.isValid&&(bt=await B(n,!0)));Me&&(Re._f.deps&&V(Re._f.deps),R(Se,bt,Ze,qt))}},W=(ie,fe)=>{if(qe(r.errors,fe)&&ie.focus)return ie.focus(),1},V=async(ie,fe={})=>{let Se,Me;const Re=nh(ie);if(t.resolver){const De=await I(Or(ie)?ie:Re);Se=na(De),Me=ie?!Re.some(je=>qe(De,je)):Se}else ie?(Me=(await Promise.all(Re.map(async De=>{const je=qe(n,De);return await B(je&&je._f?{[De]:je}:je)}))).every(Boolean),!(!Me&&!r.isValid)&&b()):Me=Se=await B(n);return g.state.next({...!Ks(ie)||m.isValid&&Se!==r.isValid?{}:{name:ie},...t.resolver||!ie?{isValid:Se}:{},errors:r.errors}),fe.shouldFocus&&!Me&&ah(n,W,ie?Re:c.mount),Me},ce=ie=>{const fe={...o.mount?s:a};return Or(ie)?fe:Ks(ie)?qe(fe,ie):ie.map(Se=>qe(fe,Se))},j=(ie,fe)=>({invalid:!!qe((fe||r).errors,ie),isDirty:!!qe((fe||r).dirtyFields,ie),error:qe((fe||r).errors,ie),isValidating:!!qe(r.validatingFields,ie),isTouched:!!qe((fe||r).touchedFields,ie)}),ee=ie=>{ie&&nh(ie).forEach(fe=>Gr(r.errors,fe)),g.state.next({errors:ie?r.errors:{}})},K=(ie,fe,Se)=>{const Me=(qe(n,ie,{_f:{}})._f||{}).ref,Re=qe(r.errors,ie)||{},{ref:De,message:je,type:Ze,...bt}=Re;tr(r.errors,ie,{...bt,...fe,ref:Me}),g.state.next({name:ie,errors:r.errors,isValid:!1}),Se&&Se.shouldFocus&&Me&&Me.focus&&Me.focus()},Q=(ie,fe)=>Xs(ie)?g.values.subscribe({next:Se=>ie(G(void 0,fe),Se)}):G(ie,fe,!0),re=(ie,fe={})=>{for(const Se of ie?nh(ie):c.mount)c.mount.delete(Se),c.array.delete(Se),fe.keepValue||(Gr(n,Se),Gr(s,Se)),!fe.keepError&&Gr(r.errors,Se),!fe.keepDirty&&Gr(r.dirtyFields,Se),!fe.keepTouched&&Gr(r.touchedFields,Se),!fe.keepIsValidating&&Gr(r.validatingFields,Se),!t.shouldUnregister&&!fe.keepDefaultValue&&Gr(a,Se);g.values.next({values:{...s}}),g.state.next({...r,...fe.keepDirty?{isDirty:z()}:{}}),!fe.keepIsValid&&b()},be=({disabled:ie,name:fe,field:Se,fields:Me})=>{(Ka(ie)&&o.mount||ie||c.disabled.has(fe))&&(ie?c.disabled.add(fe):c.disabled.delete(fe),D(fe,D1(Se?Se._f:qe(Me,fe)._f),!1,!1,!0))},Ee=(ie,fe={})=>{let Se=qe(n,ie);const Me=Ka(fe.disabled)||Ka(t.disabled);return tr(n,ie,{...Se||{},_f:{...Se&&Se._f?Se._f:{ref:{name:ie}},name:ie,mount:!0,...fe}}),c.mount.add(ie),Se?be({field:Se,disabled:Ka(fe.disabled)?fe.disabled:t.disabled,name:ie}):k(ie,!0,fe.value),{...Me?{disabled:fe.disabled||t.disabled}:{},...t.progressive?{required:!!fe.required,min:Ff(fe.min),max:Ff(fe.max),minLength:Ff(fe.minLength),maxLength:Ff(fe.maxLength),pattern:Ff(fe.pattern)}:{},name:ie,onChange:le,onBlur:le,ref:Re=>{if(Re){Ee(ie,fe),Se=qe(n,ie);const De=Or(Re.value)&&Re.querySelectorAll&&Re.querySelectorAll("input,select,textarea")[0]||Re,je=xre(De),Ze=Se._f.refs||[];if(je?Ze.find(bt=>bt===De):De===Se._f.ref)return;tr(n,ie,{_f:{...Se._f,...je?{refs:[...Ze.filter(R1),De,...Array.isArray(qe(a,ie))?[{}]:[]],ref:{type:De.type,name:ie}}:{ref:De}}}),k(ie,!1,void 0,De)}else Se=qe(n,ie,{}),Se._f&&(Se._f.mount=!1),(t.shouldUnregister||fe.shouldUnregister)&&!(OM(c.array,ie)&&o.action)&&c.unMount.add(ie)}}},ue=()=>t.shouldFocusError&&ah(n,W,c.mount),me=ie=>{Ka(ie)&&(g.state.next({disabled:ie}),ah(n,(fe,Se)=>{const Me=qe(n,Se);Me&&(fe.disabled=Me._f.disabled||ie,Array.isArray(Me._f.refs)&&Me._f.refs.forEach(Re=>{Re.disabled=Me._f.disabled||ie}))},0,!1))},Ae=(ie,fe)=>async Se=>{let Me;Se&&(Se.preventDefault&&Se.preventDefault(),Se.persist&&Se.persist());let Re=ra(s);if(c.disabled.size)for(const De of c.disabled)tr(Re,De,void 0);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:De,values:je}=await P();r.errors=De,Re=je}else await B(n);if(Gr(r.errors,"root"),na(r.errors)){g.state.next({errors:{}});try{await ie(Re,Se)}catch(De){Me=De}}else fe&&await fe({...r.errors},Se),ue(),setTimeout(ue);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:na(r.errors)&&!Me,submitCount:r.submitCount+1,errors:r.errors}),Me)throw Me},Y=(ie,fe={})=>{qe(n,ie)&&(Or(fe.defaultValue)?oe(ie,ra(qe(a,ie))):(oe(ie,fe.defaultValue),tr(a,ie,ra(fe.defaultValue))),fe.keepTouched||Gr(r.touchedFields,ie),fe.keepDirty||(Gr(r.dirtyFields,ie),r.isDirty=fe.defaultValue?z(ie,ra(qe(a,ie))):z()),fe.keepError||(Gr(r.errors,ie),m.isValid&&b()),g.state.next({...r}))},He=(ie,fe={})=>{const Se=ie?ra(ie):a,Me=ra(Se),Re=na(ie),De=Re?a:Me;if(fe.keepDefaultValues||(a=Se),!fe.keepValues){if(fe.keepDirtyValues){const je=new Set([...c.mount,...Object.keys(Mf(a,s))]);for(const Ze of Array.from(je))qe(r.dirtyFields,Ze)?tr(De,Ze,qe(s,Ze)):oe(Ze,qe(De,Ze))}else{if(oE&&Or(ie))for(const je of c.mount){const Ze=qe(n,je);if(Ze&&Ze._f){const bt=Array.isArray(Ze._f.refs)?Ze._f.refs[0]:Ze._f.ref;if(cg(bt)){const At=bt.closest("form");if(At){At.reset();break}}}}n={}}s=t.shouldUnregister?fe.keepDefaultValues?ra(a):{}:ra(De),g.array.next({values:{...De}}),g.values.next({values:{...De}})}c={mount:fe.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!m.isValid||!!fe.keepIsValid||!!fe.keepDirtyValues,o.watch=!!t.shouldUnregister,g.state.next({submitCount:fe.keepSubmitCount?r.submitCount:0,isDirty:Re?!1:fe.keepDirty?r.isDirty:!!(fe.keepDefaultValues&&!Uo(ie,a)),isSubmitted:fe.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Re?{}:fe.keepDirtyValues?fe.keepDefaultValues&&s?Mf(a,s):r.dirtyFields:fe.keepDefaultValues&&ie?Mf(a,ie):fe.keepDirty?r.dirtyFields:{},touchedFields:fe.keepTouched?r.touchedFields:{},errors:fe.keepErrors?r.errors:{},isSubmitSuccessful:fe.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ce=(ie,fe)=>He(Xs(ie)?ie(s):ie,fe);return{control:{register:Ee,unregister:re,getFieldState:j,handleSubmit:Ae,setError:K,_executeSchema:P,_getWatch:G,_getDirty:z,_updateValid:b,_removeUnmounted:H,_updateFieldArray:T,_updateDisabledField:be,_getFieldArray:ne,_reset:He,_resetDefaultValues:()=>Xs(t.defaultValues)&&t.defaultValues().then(ie=>{Ce(ie,t.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:ie=>{r={...r,...ie}},_disableForm:me,_subjects:g,_proxyFormState:m,_setErrors:A,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(ie){o=ie},get _defaultValues(){return a},get _names(){return c},set _names(ie){c=ie},get _formState(){return r},set _formState(ie){r=ie},get _options(){return t},set _options(ie){t={...t,...ie}}},trigger:V,register:Ee,handleSubmit:Ae,watch:Q,setValue:oe,getValues:ce,reset:Ce,resetField:Y,clearErrors:ee,unregister:re,setError:K,setFocus:(ie,fe={})=>{const Se=qe(n,ie),Me=Se&&Se._f;if(Me){const Re=Me.refs?Me.refs[0]:Me.ref;Re.focus&&(Re.focus(),fe.shouldSelect&&Xs(Re.select)&&Re.select())}},getFieldState:j}}function Tre(e={}){const t=M.useRef(void 0),r=M.useRef(void 0),[n,a]=M.useState({isDirty:!1,isValidating:!1,isLoading:Xs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Xs(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Cre(e),formState:n});const s=t.current.control;return s._options=e,cE({subject:s._subjects.state,next:o=>{jM(o,s._proxyFormState,s._updateFormState,!0)&&a({...s._formState})}}),M.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),M.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),M.useEffect(()=>{e.values&&!Uo(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,a(o=>({...o}))):s._resetDefaultValues()},[e.values,s]),M.useEffect(()=>{e.errors&&s._setErrors(e.errors)},[e.errors,s]),M.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),M.useEffect(()=>{e.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=FM(n,s),t.current}const Nre=cre,qM=N.createContext({}),Are=({...e})=>h.jsx(qM.Provider,{value:{name:e.name},children:h.jsx(hre,{...e})}),yv=()=>{const e=N.useContext(qM),t=N.useContext(GM),{getFieldState:r,formState:n}=xv(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...a}},GM=N.createContext({}),YM=N.forwardRef(({className:e,...t},r)=>{const n=N.useId();return h.jsx(GM.Provider,{value:{id:n},children:h.jsx("div",{ref:r,className:at("space-y-2",e),...t})})});YM.displayName="FormItem";const XM=N.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=yv();return h.jsx(_s,{ref:r,className:at(n&&"text-destructive",e),htmlFor:a,...t})});XM.displayName="FormLabel";const KM=N.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:s}=yv();return h.jsx(wc,{ref:t,id:n,"aria-describedby":r?`${a} ${s}`:`${a}`,"aria-invalid":!!r,...e})});KM.displayName="FormControl";const kre=N.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=yv();return h.jsx("p",{ref:r,id:n,className:at("text-sm text-muted-foreground",e),...t})});kre.displayName="FormDescription";const QM=N.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:s}=yv(),o=a?String(a==null?void 0:a.message):t;return o?h.jsx("p",{ref:n,id:s,className:at("text-sm font-medium text-destructive",e),...r,children:o}):null});QM.displayName="FormMessage";const Rre=({arrayForm:e,initialData:t,onSubmit:r,onCancel:n,keepOpen:a,onKeepOpenChange:s})=>{const[o,c]=M.useState(t),[u,f]=M.useState({}),[m,g]=M.useState(!0),v=()=>{c({})},x=()=>{r(o),a&&v()};M.useEffect(()=>{(async()=>{g(!0);try{const T=e.fields.filter(k=>{var D;return((D=k.relatedService)==null?void 0:D.service)&&typeof k.relatedService.service.findAll=="function"}).map(async k=>{try{const D=await k.relatedService.service.findAll();return{field:k.name,data:D}}catch{return dt.error(`Error al cargar datos para ${k.label}`),{field:k.name,data:[]}}}),E=await Promise.all(T),A={};E.forEach(({field:k,data:D})=>{D&&Array.isArray(D)&&(A[k]=D)}),f(A)}catch(S){console.error("Error loading related data",{error:S})}finally{g(!1)}})()},[e.fields]),M.useEffect(()=>{c(t)},[t]);const y=(b,S)=>{if(c(T=>({...T,[S.name]:b})),S.onChange){const T=S.onChange(b,o);T&&c(E=>({...E,...T}))}},w=b=>{if(b.options)return b.options;if(b.relatedService&&u[b.name]&&Array.isArray(u[b.name])){const S=u[b.name],T=[];return S.forEach(E=>{var R,P,I,B;let A,k;const D=E;(R=b.relatedService)!=null&&R.valueField?A=D[b.relatedService.valueField]:(P=b.relatedService)!=null&&P.valueKey?A=D[b.relatedService.valueKey]:A=D.id,(I=b.relatedService)!=null&&I.labelField?k=D[b.relatedService.labelField]:(B=b.relatedService)!=null&&B.labelKey?k=D[b.relatedService.labelKey]:k=D.name,!(A==null||k===void 0||k===null)&&T.push({value:String(A),label:String(k)})}),T}return b.options||[]};return m?h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(UD,{className:"h-4 w-4 animate-spin"}),h.jsx("span",{className:"text-sm text-muted-foreground",children:"Cargando opciones..."})]}):h.jsxs("div",{className:"flex items-center gap-4 w-full",children:[e.fields.map(b=>{const S=b.type==="select"?w(b):[],T=o[b.name];return h.jsxs("div",{className:"flex-1 min-w-[200px]",children:[h.jsxs(_s,{htmlFor:b.name,className:"sr-only",children:[b.label,b.required&&h.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),b.type==="select"?h.jsx(ul,{id:b.name,name:b.name,value:T?String(T):"",onChange:E=>y(E,b),required:b.required,readOnly:b.readOnly,className:"w-full",options:S,placeholder:b.placeholder||b.label,searchPlaceholder:"Buscar...",notFoundText:"No se encontraron resultados"}):b.type==="textarea"?h.jsx(rE,{id:b.name,name:b.name,value:T?String(T):"",onChange:E=>y(E.target.value,b),required:b.required,placeholder:b.placeholder||b.label,className:"min-h-[38px] max-h-[38px]"}):h.jsx(dn,{id:b.name,type:b.type,name:b.name,value:T?String(T):"",onChange:E=>y(E.target.value,b),required:b.required,placeholder:b.placeholder||b.label,className:"w-full"})]},b.name)}),h.jsx("div",{className:"flex items-center gap-2 shrink-0",children:h.jsxs("div",{className:"flex items-center gap-2",children:[s&&h.jsxs(Wb,{children:[h.jsx(ig,{asChild:!0,children:h.jsx("div",{className:"flex items-center",children:h.jsx(Sd,{id:"keepOpen",checked:a,onCheckedChange:s})})}),h.jsx(og,{children:h.jsx("p",{children:"Mantener abierto"})})]}),h.jsx(ze,{type:"button",variant:"ghost",onClick:n,size:"sm",children:"Cancelar"}),h.jsx(ze,{type:"button",onClick:x,size:"sm",children:"Agregar"})]})})]})};function Ra({title:e,fields:t=[],sections:r,initialValues:n={},backPath:a,service:s,onSuccess:o,transformValues:c}){const u=cr(),[f,m]=M.useState(!1),[g,v]=M.useState({}),x=Tre({defaultValues:n});M.useEffect(()=>{console.log("Actualizando valores iniciales del formulario",{hasId:!!n.id,fieldsCount:t.length}),x.reset(n)},[x,n,t.length]),M.useEffect(()=>{(async()=>{const A=(r?r.flatMap(P=>P.fields):t||[]).filter(P=>P.relatedService&&P.relatedService.service&&typeof P.relatedService.service.findAll=="function"&&!g[P.name]);if(A.length===0)return;console.log("Cargando datos relacionados",{fieldsCount:A.length,fields:A.map(P=>P.name)});const k=A.map(async P=>{var I,B;try{if(!((B=(I=P.relatedService)==null?void 0:I.service)!=null&&B.findAll))return console.warn(`Servicio no configurado correctamente para el campo ${P.name}`),{field:P.name,data:[]};const H=await P.relatedService.service.findAll();return console.log(`Datos cargados para ${P.name}`,{count:H.length}),{field:P.name,data:H}}catch(H){return console.error(`Error al cargar datos para ${P.name}`,{error:H}),dt.error(`Error al cargar datos relacionados para ${P.label}`),{field:P.name,data:[]}}}),D=await Promise.all(k),R={...g};D.forEach(({field:P,data:I})=>{R[P]=I}),v(R)})()},[t,r,g]);const y=async T=>{m(!0),console.log("Iniciando envío del formulario",{hasId:!!n.id,fieldsCount:Object.keys(T).length});try{const E=Object.entries(T).reduce((D,[R,P])=>(P instanceof Date?D[R]=P.toISOString():D[R]=P,D),{}),A=c?c(E):E,k=Object.fromEntries(Object.entries(A).filter(([,D])=>D!==void 0));console.log("Datos procesados para enviar:",{originalData:T,processedData:k}),n.id?(console.log("Actualizando registro existente",{id:n.id,data:k}),await s.update(n.id,k),console.log("Registro actualizado exitosamente",{id:n.id}),dt.success("Registro actualizado exitosamente")):(console.log("Creando nuevo registro",{data:k}),await s.create(k),console.log("Registro creado exitosamente"),dt.success("Registro creado exitosamente")),o==null||o(),u(a)}catch(E){console.error("Error al guardar el registro",{error:E});const A=E instanceof Error?E.message:"Error al guardar el registro";dt.error(A)}finally{m(!1)}},w=T=>{if(T.options)return T.options;if(T.relatedService&&g[T.name]&&Array.isArray(g[T.name])){const E=g[T.name],A=[];return E.forEach(k=>{var I,B,H,z;let D,R;const P=k;(I=T.relatedService)!=null&&I.valueField?D=P[T.relatedService.valueField]:(B=T.relatedService)!=null&&B.valueKey?D=P[T.relatedService.valueKey]:D=P.id,(H=T.relatedService)!=null&&H.labelField?R=P[T.relatedService.labelField]:(z=T.relatedService)!=null&&z.labelKey?R=P[T.relatedService.labelKey]:R=P.name,!(D==null||R===void 0||R===null)&&A.push({value:String(D),label:String(R)})}),A}return T.options||[]},b=(T,E)=>T.type==="boolean"?!!E:T.type==="array"?Array.isArray(E)?E:[]:E==null?"":String(E),S=T=>{const E=x.getValues();return T.visible&&!T.visible(E)?null:h.jsx(Are,{control:x.control,name:T.name,render:({field:A})=>{console.log(`Renderizando campo ${T.name}`,{type:T.type,hasOnChange:!!T.onChange,currentValue:A.value});const k=D=>{if(console.log(`Cambio en campo ${T.name}`,{oldValue:A.value,newValue:D,hasOnChange:!!T.onChange}),A.onChange(D),T.onChange){const R=T.onChange(D,x.getValues());R&&Object.entries(R).forEach(([P,I])=>{x.setValue(P,I,{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0})})}};return h.jsxs(YM,{className:at(T.fullWidth||T.type==="array"||T.type==="textarea"?"md:col-span-2 2xl:col-span-3":"",T.type==="boolean"?"flex flex-row items-center space-x-3 space-y-0 rounded-md border p-4":"","w-full"),children:[h.jsx(XM,{className:at(T.type==="boolean"?"leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70":""),children:T.label}),h.jsx(KM,{children:T.type==="select"?h.jsx(ul,{value:b(T,A.value),onChange:k,options:w(T),placeholder:T.placeholder,className:"w-full"}):T.type==="textarea"?h.jsx(rE,{value:b(T,A.value),onChange:D=>k(D.target.value),className:"w-full min-h-[100px]"}):T.type==="custom"?T.component:T.type==="boolean"?h.jsx(Sd,{checked:b(T,A.value),onCheckedChange:k,className:"h-5 w-5"}):T.type==="array"?h.jsx(ere,{config:T.arrayConfig,value:b(T,A.value),onChange:k,FormContent:Rre}):T.type==="date"?h.jsx(p0,{value:b(T,A.value),onChange:k,placeholder:T.placeholder,className:"w-full"}):h.jsx(dn,{type:T.type,placeholder:T.placeholder,value:b(T,A.value),onChange:D=>k(D.target.value),className:"w-full"})}),h.jsx(QM,{})]})}},T.name)};return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx(B_,{title:e,subtitle:n.id?"Editar registro":"Crear nuevo registro",actions:h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs(ze,{variant:"ghost",onClick:()=>u(a),className:"flex items-center gap-2",children:[h.jsx(jg,{className:"h-4 w-4 mr-2"}),"Volver"]})})}),h.jsx(Nre,{...x,children:h.jsxs("form",{onSubmit:x.handleSubmit(y),className:"flex flex-col flex-1 w-full h-full",children:[h.jsx("div",{className:"flex-1 w-full bg-card",children:r?h.jsx("div",{className:"space-y-8 p-6",children:r.map((T,E)=>(!T.visible||T.visible(x.getValues()))&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex flex-col space-y-1.5 pb-4 border-b",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[T.icon,h.jsx("h3",{className:"text-lg font-semibold",children:T.title})]}),T.description&&h.jsx("p",{className:"text-sm text-muted-foreground",children:T.description})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-6",children:T.fields.map(A=>S(A))})]},E))}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-6 p-6",children:t.map(T=>S(T))})}),h.jsxs("div",{className:"flex justify-end gap-2 p-4 bg-card border-t",children:[h.jsx(ze,{type:"button",variant:"ghost",onClick:()=>u(a),children:"Cancelar"}),h.jsx(ze,{type:"submit",disabled:f,children:f?h.jsxs(h.Fragment,{children:[h.jsx(UD,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Guardar"})]})]})})]})}function Ok(){const{id:e}=Pt(),[t,r]=M.useState(),[n,a]=M.useState(!0),s=M.useMemo(()=>new li,[]);M.useEffect(()=>{(async()=>{if(e)try{const u=await s.findById(e);u&&r(u)}catch(u){console.error("Error loading customer:",u)}a(!1)})()},[e,s]);const o=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"phone",label:"Teléfono",type:"text"},{name:"email",label:"Email",type:"text"},{name:"address",label:"Dirección",type:"textarea"},{name:"status",label:"Estado",type:"select",required:!0,options:f0()}];return n?h.jsx("div",{className:"flex items-center justify-center h-screen",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Cargando..."})]})}):h.jsx("div",{className:"flex flex-col h-screen w-full",children:h.jsx(Ra,{title:e?"Editar Cliente":"Nuevo Cliente",fields:o,initialValues:t||{},service:s,backPath:"/customers"})})}function Da({title:e,fields:t,editPath:r,backPath:n,service:a,id:s}){const o=cr(),[c,u]=M.useState(null),[f,m]=M.useState(!0),[g,v]=M.useState(!1);M.useEffect(()=>{(async()=>{try{console.log("Cargando detalles",{id:s});const b=await a.findById(s);u(b),console.log("Detalles cargados exitosamente",{data:b})}catch(b){console.error("Error al cargar los detalles",{error:b}),dt.error("Error al cargar los detalles")}finally{m(!1)}})()},[s,a]);const x=async()=>{try{console.log("Eliminando registro",{id:s}),await a.delete(s),console.log("Registro eliminado exitosamente",{id:s}),dt.success("Registro eliminado exitosamente"),o(n)}catch(w){console.error("Error al eliminar el registro",{error:w}),dt.error("Error al eliminar el registro")}};if(f||!c)return console.log("Mostrando estado de carga",{isLoading:f,hasData:!!c}),h.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})});const y=t(c);return console.log("Renderizando detalles",{fieldsCount:y.length,hasData:!!c}),h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx(B_,{title:e,subtitle:"Detalles del registro",actions:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs(ze,{variant:"ghost",onClick:()=>o(n),className:"flex items-center gap-2",children:[h.jsx(jg,{className:"h-4 w-4 mr-2"}),"Volver"]}),h.jsx(Vi,{to:r,children:h.jsxs(ze,{variant:"ghost",className:"flex items-center gap-2",children:[h.jsx(Qh,{className:"h-4 w-4 mr-2"}),"Editar"]})}),h.jsxs(ze,{variant:"ghost",onClick:()=>{console.log("Iniciando proceso de eliminación",{id:s}),v(!0)},className:"flex items-center gap-2 hover:text-destructive",children:[h.jsx(Zh,{className:"h-4 w-4 mr-2"}),"Eliminar"]})]})}),h.jsx("div",{className:"flex-1 p-4",children:h.jsx("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map((w,b)=>h.jsx("div",{className:at(M.isValidElement(w.value)?"col-span-full":"",w.colSpan?`md:col-span-${w.colSpan}`:""),children:M.isValidElement(w.value)?h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"text-base font-bold text-muted-foreground",children:w.label}),w.value]}):h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("dt",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:[w.label,":"]}),h.jsx("dd",{children:h.jsx("span",{className:"text-base",children:!w.value||typeof w.value=="string"&&w.value.trim()===""?h.jsx("span",{className:"text-muted-foreground italic",children:"No disponible"}):w.value})})]})},b))})}),h.jsx(L_,{open:g,onOpenChange:v,title:"Confirmar eliminación",description:"¿Está seguro de que desea eliminar este registro? Esta acción no se puede deshacer.",onConfirm:x,confirmText:"Eliminar",variant:"destructive"})]})}function Dre(){const{id:e}=Pt(),t=new li,r=n=>[{label:"Nombre",value:n.name},{label:"Teléfono",value:n.phone},{label:"Email",value:n.email},{label:"Dirección",value:n.address,colSpan:2},{label:"Estado",value:aP(n.status)}];return e?h.jsx(Da,{title:"Cliente",fields:r,editPath:`/customers/${e}/edit`,backPath:"/customers",service:t,id:e}):null}class ZM extends Aa{constructor(r){super(r,"suppliers");gt(this,"modelProperties",["commercialName","legalName","phone","address","email","rut","status"])}async findByCommercialName(r){return this.findByField("commercialName",r)}async findByEmail(r){return this.findByField("email",r)}async findByPhone(r){return this.findByField("phone",r)}}class ua extends ka{constructor(){super(ZM,"suppliers")}async findByName(t){return this.repository.findByCommercialName(t)}async findByEmail(t){return this.repository.findByEmail(t)}async findByPhone(t){return this.repository.findByPhone(t)}async findByStatus(t){return(await this.repository.findAll()).filter(n=>n.status===t)}}function Ire(){const e=new ua,t=[{header:"Nombre Comercial",accessor:"commercialName"},{header:"Teléfono",accessor:"phone",render:r=>r.phone||"-"},{header:"Estado",accessor:"status",type:"tag",tags:no()}];return h.jsx(Na,{columns:t,title:"Proveedores",addPath:"/suppliers/new",backPath:"/suppliers",service:e})}function Pk(){const{id:e}=Pt(),[t,r]=M.useState({}),n=M.useMemo(()=>new ua,[]);M.useEffect(()=>{e&&n.findById(e).then(s=>{s&&r(s)})},[e,n]);const a=[{name:"commercialName",label:"Nombre Comercial",type:"text",required:!0},{name:"legalName",label:"Razón Social",type:"text"},{name:"phone",label:"Teléfono",type:"text"},{name:"email",label:"Email",type:"text"},{name:"address",label:"Dirección",type:"textarea"},{name:"rut",label:"RUT",type:"text"},{name:"status",label:"Estado",type:"select",required:!0,options:f0()}];return h.jsx(Ra,{title:e?"Editar Proveedor":"Nuevo Proveedor",fields:a,initialValues:t,service:n,backPath:"/suppliers"})}function Ore(){const{id:e}=Pt(),t=new ua,r=n=>[{label:"Nombre Comercial",value:n.commercialName},{label:"Razón Social",value:n.legalName||"-"},{label:"Teléfono",value:n.phone||"-"},{label:"Email",value:n.email||"-"},{label:"Dirección",value:n.address||"-"},{label:"RUT",value:n.rut||"-"},{label:"Estado",value:aP(n.status)}];return e?h.jsx(Da,{title:"Proveedor",fields:r,editPath:`/suppliers/${e}/edit`,backPath:"/suppliers",service:t,id:e}):null}class JM extends Aa{constructor(r){super(r,"workers");gt(this,"modelProperties",["name","primaryRoleId","phone","hireDate","monthlySalary","leaveBalance","leaveSalaryBalance","vacationSalaryBalance","bonusSalaryBalance","leaveHistory","payments","status"])}async findByPrimaryRole(r){return this.findByField("primaryRoleId",r)}async findByName(r){return this.findByField("name",r)}}class Ia extends ka{constructor(){super(JM,"workers")}async findByName(t){return this.repository.findByName(t)}async findByPrimaryRoleId(t){return this.repository.findByPrimaryRole(t)}async findByHireDateRange(t,r){return(await this.repository.findAll()).filter(a=>{const s=new Date(a.hireDate);return s>=t&&s<=r})}async findBySalaryRange(t,r){return(await this.repository.findAll()).filter(a=>a.monthlySalary>=t&&a.monthlySalary<=r)}}class Pre extends Aa{constructor(r){super(r,"roles");gt(this,"modelProperties",["name","isProduction","tasks"])}async findByName(r){return this.findByField("name",r)}}class wl extends ka{constructor(){super(Pre)}async findByName(t){return this.repository.findByName(t)}async findByIsProduction(t){return(await this.repository.findAll()).filter(n=>n.isProduction===t)}async findByTaskName(t){return(await this.repository.findAll()).filter(n=>{var a;return(a=n.tasks)==null?void 0:a.some(s=>s.taskName===t)})}}function Mre(){const e=new Ia,t=M.useMemo(()=>new wl,[]),[r,n]=M.useState({});M.useEffect(()=>{(async()=>{const u=(await t.findAll()).reduce((f,m)=>({...f,[m.id]:m.name}),{});n(u)})()},[t]);const a=o=>{const c=new Date,u=new Date(o);let f=c.getFullYear()-u.getFullYear();const m=c.getMonth()-u.getMonth();return(m<0||m===0&&c.getDate()<u.getDate())&&f--,f},s=[{header:"Nombre",accessor:"name"},{header:"Fecha de Contratación",accessor:"hireDate",render:o=>{const c=new Date(o.hireDate),u=a(c);return`${c.toLocaleDateString()} (${u} ${u===1?"año":"años"})`}},{header:"Rol Principal",accessor:"primaryRoleId",render:o=>r[o.primaryRoleId]||"Rol no encontrado"},{header:"Estado",accessor:"status",type:"tag",tags:no()}];return h.jsx(Na,{columns:s,title:"Colaboradores",addPath:"/workers/new",backPath:"/workers",service:e})}var oc=(e=>(e.PAID="paid",e.PENDING="pending",e))(oc||{}),lc=(e=>(e.SALARY="salary",e.LEAVE="leave",e))(lc||{});function Mk(){const{id:e}=Pt(),[t,r]=M.useState({}),n=M.useMemo(()=>new Ia,[]);M.useEffect(()=>{e&&n.findById(e).then(s=>{s&&r(s)})},[e,n]);const a=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"primaryRoleId",label:"Rol Principal",type:"select",required:!0,relatedService:{service:new wl,labelField:"name"}},{name:"phone",label:"Teléfono",type:"text"},{name:"status",label:"Estado",type:"select",required:!0,options:f0()},{name:"hireDate",label:"Fecha de Contratación",type:"date",required:!0},{name:"monthlySalary",label:"Salario Mensual",type:"number",required:!0},{name:"leaveBalance",label:"Saldo de Licencias",type:"number",required:!0},{name:"leaveSalaryBalance",label:"Saldo de Salario por Licencias",type:"number",required:!0},{name:"vacationSalaryBalance",label:"Saldo de Salario por Vacaciones",type:"number",required:!0},{name:"bonusSalaryBalance",label:"Saldo de Aguinaldos",type:"number",required:!0},{name:"leaveHistory",label:"Historial de Licencias Tomadas",type:"array",arrayConfig:{columns:[{header:"Fecha de Inicio",accessor:"startDate",render:s=>new Date(s).toLocaleDateString("es-UY")},{header:"Fecha de Fin",accessor:"endDate",render:s=>new Date(s).toLocaleDateString("es-UY")},{header:"Días",accessor:"day"}],form:{fields:[{name:"startDate",label:"Fecha de Inicio",type:"date",required:!0},{name:"endDate",label:"Fecha de Fin",type:"date",required:!0},{name:"day",label:"Días",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay licencias registrados",description:'Haga clic en el botón "Agregar" para comenzar a registrar las licencias tomadas del trabajador.'},modalTitles:{add:"Agregar Licencias Tomadas",edit:"Modificar Licencias Tomada"},addButtonText:"Agregar Licencias Tomada",editButtonTooltip:"Modificar este Licencias Tomada",deleteButtonTooltip:"Eliminar este Licencias Tomada"}}},{name:"payments",label:"Pagos",type:"array",arrayConfig:{columns:[{header:"Monto",accessor:"amount",render:s=>(s==null?void 0:s.toLocaleString("es-UY",{style:"currency",currency:"UYU",currencyDisplay:"symbol",minimumFractionDigits:0,maximumFractionDigits:0}))||"N/A"},{header:"Estado",accessor:"status",render:s=>{switch(s){case oc.PENDING:return"Pendiente";case oc.PAID:return"Pagado";default:return"N/A"}}},{header:"Concepto",accessor:"concept",render:s=>{switch(s){case lc.SALARY:return"Salario";case lc.LEAVE:return"Permiso";default:return"N/A"}}},{header:"Fecha de Pago",accessor:"paymentDate",render:s=>new Date(s).toLocaleDateString("es-UY")}],form:{fields:[{name:"amount",label:"Monto",type:"number",required:!0,placeholder:"Ej: 500000"},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:oc.PENDING,label:"Pendiente"},{value:oc.PAID,label:"Pagado"}]},{name:"concept",label:"Concepto",type:"select",required:!0,options:[{value:lc.SALARY,label:"Salario"},{value:lc.LEAVE,label:"Permiso"}]},{name:"paymentDate",label:"Fecha de Pago",type:"date",required:!0}],emptyState:{title:"No hay pagos registrados",description:'Haga clic en el botón "Agregar" para comenzar a registrar los pagos del trabajador.'},modalTitles:{add:"Agregar Pago",edit:"Modificar Pago"},addButtonText:"Agregar Pago",editButtonTooltip:"Modificar este pago",deleteButtonTooltip:"Eliminar este pago"}}}];return h.jsx(Ra,{title:e?"Editar Trabajador":"Nuevo Trabajador",fields:a,initialValues:t,service:n,backPath:"/workers"})}function dl({data:e,columns:t,title:r,emptyMessage:n}){return e!=null&&e.length?h.jsxs("div",{className:"space-y-2",children:[r&&h.jsxs("div",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:[r,":"]}),h.jsx("div",{className:"rounded-md border",children:h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsxs("table",{className:"w-full caption-bottom text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:t.map((a,s)=>h.jsx("th",{className:"h-9 px-3 text-left align-middle text-xs font-medium uppercase tracking-wider text-muted-foreground",children:a.header},s))})}),h.jsx("tbody",{children:e.map((a,s)=>h.jsx("tr",{className:"border-b last:border-b-0 transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:t.map((o,c)=>h.jsx("td",{className:"p-2 align-middle",children:typeof o.accessor=="function"?o.accessor(a):h.jsx("div",{className:"font-medium",children:String(a[o.accessor])})},c))},s))})]})})})]}):h.jsxs("div",{className:"flex items-center gap-2",children:[r&&h.jsxs(h.Fragment,{children:[h.jsxs("span",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:[r,":"]}),h.jsx("span",{className:"text-base font-medium text-muted-foreground",children:"No hay registros"})]}),!r&&h.jsx("span",{className:"text-base font-medium text-muted-foreground",children:n||"No hay registros"})]})}function Fre(){const{id:e}=Pt(),t=new Ia,r=M.useMemo(()=>new wl,[]),[n,a]=M.useState({});M.useEffect(()=>{(async()=>{const v=(await r.findAll()).reduce((x,y)=>({...x,[y.id]:y.name}),{});a(v)})()},[r]);const s=m=>m.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0,maximumFractionDigits:0}),o=m=>new Date(m).toLocaleDateString("es-UY",{year:"numeric",month:"long",day:"numeric"}),c=m=>{const g=[{header:"Fecha Inicio",accessor:v=>o(v.startDate)},{header:"Fecha Fin",accessor:v=>o(v.endDate)},{header:"Días",accessor:v=>v.day}];return h.jsx(dl,{data:m,columns:g,emptyMessage:"No hay historial de licencias tomadas"})},u=m=>{const g=[{header:"Fecha",accessor:v=>o(v.paymentDate)},{header:"Concepto",accessor:v=>{switch(v.concept){case lc.SALARY:return"Salario";case lc.LEAVE:return"Permiso";default:return v.concept}}},{header:"Estado",accessor:v=>{switch(v.status){case oc.PAID:return"Pagado";case oc.PENDING:return"Pendiente";default:return v.status}}},{header:"Monto",accessor:v=>s(v.amount)}];return h.jsx(dl,{data:m,columns:g,emptyMessage:"No hay pagos"})},f=m=>[{label:"Nombre",value:m.name},{label:"Rol Principal",value:n[m.primaryRoleId]||"Rol no encontrado"},{label:"Fecha de Contratación",value:o(m.hireDate)},{label:"Salario Mensual",value:s(m.monthlySalary)},{label:"Balance de Licencias",value:m.leaveBalance},{label:"Balance de Salario por Licencias",value:s(m.leaveSalaryBalance)},{label:"Balance de Salario por Vacaciones",value:s(m.vacationSalaryBalance)},{label:"Balance de Aguinaldo",value:s(m.bonusSalaryBalance)},{label:"Historial de Licencias Tomadas",value:c(m.leaveHistory||[])},{label:"Historial de Pagos",value:u(m.payments||[])}];return e?h.jsx(Da,{title:"Trabajador",fields:f,editPath:`/workers/${e}/edit`,backPath:"/workers",service:t,id:e}):null}function jre(){const e=new wl,t=[{header:"Nombre",accessor:"name"},{header:"Tipo",accessor:"isProduction",render:r=>r.isProduction?"Producción":"Administrativo"},{header:"Tareas",accessor:"tasks",render:r=>{var n;return((n=r.tasks)==null?void 0:n.length)||0}}];return h.jsx(Na,{columns:t,title:"Roles",addPath:"/roles/new",backPath:"/roles",service:e})}const Fk=()=>[{value:"DIARIO",label:"DIARIO"},{value:"SEMANAL",label:"SEMANAL"},{value:"QUINCENAL",label:"QUINCENAL"},{value:"MENSUAL",label:"MENSUAL"},{value:"TRIMESTRAL",label:"TRIMESTRAL"},{value:"SEMESTRAL",label:"SEMESTRAL"},{value:"ANUAL",label:"ANUAL"}];function jk(){const{id:e}=Pt(),[t,r]=M.useState({}),n=M.useMemo(()=>new wl,[]);M.useEffect(()=>{e&&n.findById(e).then(s=>{s&&r(s)})},[e,n]);const a=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"isProduction",label:"¿Es de Producción?",type:"boolean",required:!0,placeholder:"Marque si el rol es de producción"},{name:"tasks",label:"Tareas",type:"array",arrayConfig:{columns:[{header:"Tarea",accessor:"taskName"},{header:"Frecuencia",accessor:"frequency",render:s=>{if(typeof s!="string")return"N/A";const o=Fk().find(c=>c.value===s);return(o==null?void 0:o.label)||"N/A"}}],form:{fields:[{name:"taskName",label:"Nombre de la Tarea",type:"text",required:!0,placeholder:"Ej: Limpiar área de trabajo"},{name:"frequency",label:"Frecuencia",type:"select",required:!0,options:Fk()}],emptyState:{title:"No hay tareas definidas",description:'Haga clic en el botón "Agregar" para comenzar a definir las tareas de este rol.'},modalTitles:{add:"Agregar Tarea",edit:"Modificar Tarea"},addButtonText:"Agregar Tarea",editButtonTooltip:"Modificar esta tarea",deleteButtonTooltip:"Eliminar esta tarea"}}}];return h.jsx(Ra,{title:e?"Editar Rol":"Nuevo Rol",fields:a,initialValues:t,service:n,backPath:"/roles"})}function Lre(){const{id:e}=Pt(),t=new wl,r=a=>{const s=[{header:"Tarea",accessor:o=>h.jsx("div",{className:"font-medium",children:o.taskName})},{header:"Frecuencia",accessor:o=>o.frequency}];return h.jsx(dl,{data:a,columns:s})},n=a=>[{label:"Nombre",value:a.name},{label:"Tipo",value:a.isProduction?"Producción":"Administrativo"},{label:"Tareas",value:r(a.tasks||[])}];return e?h.jsx(Da,{title:"Rol",fields:n,editPath:`/roles/${e}/edit`,backPath:"/roles",service:t,id:e}):null}class Bre extends Aa{constructor(r){super(r,"units");gt(this,"modelProperties",["name","symbol","conversions","status"])}async findByName(r){return this.findByField("name",r)}async findBySymbol(r){return this.findByField("symbol",r)}}class zr extends ka{constructor(){super(Bre)}async findByName(t){return this.repository.findByName(t)}async findBySymbol(t){return this.repository.findBySymbol(t)}async create(t){const r=await super.create(t),n={toUnitId:r.id,factor:1,operation:"multiply",isDefault:!0},a=t.conversions||[],s=[n,...a];return await this.update(r.id,{...r,conversions:s}),this.findById(r.id)}}function Ure(){const e=new zr,t=[{header:"Nombre",accessor:"name"},{header:"Símbolo",accessor:"symbol"},{header:"Conversiones",accessor:"conversions",render:r=>{var n;return((n=r.conversions)==null?void 0:n.length)||0}},{header:"Estado",accessor:"status",type:"tag",tags:no()}];return h.jsx(Na,{columns:t,title:"Unidades",addPath:"/units/new",backPath:"/units",service:e})}function Lk(){const{id:e}=Pt(),[t,r]=M.useState({status:Ys.ACTIVO}),n=M.useMemo(()=>new zr,[]);M.useEffect(()=>{e&&n.findById(e).then(s=>{s&&r(s)})},[e,n]);const a=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"symbol",label:"Símbolo",type:"text",required:!0},{name:"status",label:"Estado",type:"select",required:!0,options:no()},{name:"conversions",label:"Conversiones",type:"array",arrayConfig:{columns:[{header:"Unidad Destino",accessor:"toUnitId",reference:{field:{name:"toUnitId",label:"Unidad Destino",type:"select",relatedService:{service:new zr,labelField:"name"}},displayField:"name"}},{header:"Factor",accessor:"factor"},{header:"Operación",accessor:"operation",render:s=>s==="multiply"?"Multiplicar":"Dividir"}],form:{fields:[{name:"toUnitId",label:"Unidad Destino",type:"select",required:!0,relatedService:{service:new zr,labelField:"name"}},{name:"factor",label:"Factor",type:"number",required:!0,placeholder:"Ej: 1000"},{name:"operation",label:"Operación",type:"select",required:!0,options:[{value:"multiply",label:"Multiplicar"},{value:"divide",label:"Dividir"}]}],emptyState:{title:"No hay conversiones definidas",description:'Haga clic en el botón "Agregar" para comenzar a definir las conversiones de esta unidad.'},modalTitles:{add:"Agregar Conversión",edit:"Modificar Conversión"},addButtonText:"Agregar Conversión",editButtonTooltip:"Modificar esta conversión",deleteButtonTooltip:"Eliminar esta conversión",disableEditIf:s=>s.isDefault===!0,disableDeleteIf:s=>s.isDefault===!0}}}];return h.jsx(Ra,{title:e?"Editar Unidad":"Nueva Unidad",fields:a,initialValues:t,service:n,backPath:"/units"})}function Vre(){const{id:e}=Pt(),t=new zr,[r,n]=M.useState({});M.useEffect(()=>{(async()=>{const f=(await t.findAll()).reduce((m,g)=>({...m,[g.id]:g.name}),{});n(f)})()},[]);const a=c=>{switch(c){case"multiply":return"Multiplicar";case"divide":return"Dividir";default:return c}},s=c=>c!=null&&c.length?h.jsx(h.Fragment,{children:c.map((u,f)=>h.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[h.jsx("td",{className:"p-4 align-middle",children:h.jsx("div",{className:"font-medium",children:r[u.toUnitId]||"Unidad no encontrada"})}),h.jsxs("td",{className:"p-4 align-middle text-muted-foreground",children:[u.factor," (",a(u.operation),")"]})]},f))}):"No hay conversiones",o=c=>{var u;return[{label:"Nombre",value:c.name},{label:"Símbolo",value:c.symbol},{label:"Estado",value:c.status===Ys.ACTIVO?"Activo":"Inactivo"},{label:"Conversiones",value:(u=c.conversions)!=null&&u.length?s(c.conversions):"No hay conversiones"}]};return e?h.jsx(Da,{title:"Unidad",fields:o,editPath:`/units/${e}/edit`,backPath:"/units",service:t,id:e}):null}class Hre extends Aa{constructor(r){super(r,"parameters");gt(this,"modelProperties",["name","code","value","description","status"])}async findByName(r){return this.findByField("name",r)}async findByCode(r){return this.findByField("code",r)}}class fE extends ka{constructor(){super(Hre,"parameters")}async findByName(t){return this.repository.findByName(t)}async findByCode(t){return this.repository.findByCode(t)}async update(t,r){if(r.code){const n=await this.findById(t);if(!n)throw new Error("Parámetro no encontrado");if(n.code!==r.code&&(await this.findByCode(r.code)).length>0)throw new Error("Ya existe un parámetro con ese código")}return super.update(t,r)}}function $re(){const e=new fE,t=[{header:"Nombre",accessor:"name"},{header:"Código",accessor:"code"},{header:"Valor",accessor:"value"},{header:"Estado",accessor:"status",type:"tag",tags:no()}];return h.jsx(Na,{columns:t,title:"Parámetros",addPath:"/parameters/new",backPath:"/parameters",service:e})}function Bk(){const{id:e}=Pt(),[t,r]=M.useState({}),n=new fE;M.useEffect(()=>{e&&n.findById(e).then(s=>{s&&r(s)})},[e]);const a=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"code",label:"Código",type:"text",required:!0},{name:"value",label:"Valor",type:"text",required:!0},{name:"status",label:"Estado",type:"select",required:!0,options:f0()},{name:"description",label:"Descripción",type:"textarea"}];return h.jsx(Ra,{title:e?"Editar Parámetro":"Nuevo Parámetro",fields:a,initialValues:t,service:n,backPath:"/parameters"})}function zre(){const{id:e}=Pt(),t=new fE,r=n=>[{label:"Nombre",value:n.name},{label:"Código",value:n.code},{label:"Valor",value:n.value},{label:"Descripción",value:n.description,colSpan:2}];return e?h.jsx(Da,{title:"Parámetro",fields:r,editPath:`/parameters/${e}/edit`,backPath:"/parameters",service:t,id:e}):null}class e3 extends Aa{constructor(r){super(r,"purchase-orders");gt(this,"modelProperties",["nro","orderDate","status","supplierId","products","totalItems","totalProducts"])}async findBySupplierId(r){return this.findByField("supplierId",r)}async findByStatus(r){return this.findByField("status",r.toString())}async findByDateRange(r,n){return(await this.findAll()).filter(s=>s.orderDate>=r&&s.orderDate<=n)}}var et=(e=>(e.PENDIENTE="PENDIENTE",e.ENVIADA="ENVIADA",e.COMPLETADA="COMPLETADA",e.CANCELADA="CANCELADA",e))(et||{});const Cd=e=>{switch(e){case"PENDIENTE":return"bg-yellow-100 text-yellow-800";case"ENVIADA":return"bg-blue-100 text-blue-800";case"COMPLETADA":return"bg-green-100 text-green-800";case"CANCELADA":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},As={PENDIENTE:"PENDIENTE",ENVIADA:"ENVIADA",COMPLETADA:"COMPLETADA",CANCELADA:"CANCELADA"},Wre=()=>[{value:"PENDIENTE",label:"PENDIENTE",color:"warning"},{value:"ENVIADA",label:"ENVIADA",color:"info"},{value:"COMPLETADA",label:"COMPLETADA",color:"success"},{value:"CANCELADA",label:"CANCELADA",color:"danger"}];class ni extends ka{constructor(){super(e3,"purchase-orders");gt(this,"sequenceService");this.sequenceService=new U_}calculateTotals(r){r.products||(r.products=[]),r.totalProducts=r.products.length,r.totalItems=r.products.reduce((n,a)=>{const s=Number(a.quantity)||0;return n+s},0)}validateOrder(r){if(!r.supplierId)throw new Error("La orden de compra debe tener un proveedor asignado");if(!r.orderDate)throw new Error("La orden de compra debe tener una fecha");if(!r.status)throw new Error("La orden de compra debe tener un estado");if(!r.referenceOrderNumber&&(!r.products||r.products.length===0))throw new Error("La orden de compra debe tener al menos un producto");r.products&&r.products.forEach((n,a)=>{if(!n.productId)throw new Error(`El producto #${a+1} debe tener un ID válido`);if(!n.quantity||n.quantity<=0)throw new Error(`El producto #${a+1} debe tener una cantidad válida mayor a 0`)})}async create(r){if(r.status=r.status||et.PENDIENTE,r.nro=await this.sequenceService.getNextNumber("purchase-orders"),r.referenceOrderNumber){const n=await this.findById(r.referenceOrderNumber);if(!n)throw new Error("La orden de referencia no existe");r.products=n.products}return this.calculateTotals(r),this.validateOrder(r),super.create(r)}async update(r,n){(!n.supplierId||!n.orderDate||!n.status||!n.products)&&(n={...await this.findById(r),...n}),this.calculateTotals(n),this.validateOrder(n);const a=await super.update(r,n);if(!a)throw new Error("Order not found after update");return a}async findBySupplierId(r){return this.repository.findBySupplierId(r)}async findByStatus(r){return this.repository.findByStatus(r)}async findByDateRange(r,n){return this.repository.findByDateRange(r,n)}async findByNro(r){return(await this.findAll()).find(a=>a.nro===r)||null}async copyOrder(r){const n=await this.findByNro(r);if(!n)throw new Error(`La orden número ${r} no existe`);return{orderDate:new Date,status:et.PENDIENTE,supplierId:n.supplierId,products:n.products,totalItems:n.totalItems,totalProducts:n.totalProducts}}}class t3 extends Aa{constructor(r){super(r,"products");gt(this,"modelProperties",["name","sku","imageUrl","isForSale","isMaterial","materialName","materialCode","salePrice","status","salesUnitCost","materialUnitCost","purchasePrice","salesUnitId","materialUnitId","purchaseUnitId","primarySupplierId","sector","sectorOrder","desiredStock","salesChannels","priceHistory","margin"])}async findByName(r){return this.findByField("name",r)}async findBySku(r){return this.findByField("sku",r)}async findByStatus(r){return this.findByField("status",r)}async findBySector(r){return this.findByField("sector",r)}async findByPrimarySupplierId(r){return this.findByField("primarySupplierId",r)}async findByMaterialUnitId(r){return this.findByField("materialUnitId",r)}async findBySalesUnitId(r){return this.findByField("salesUnitId",r)}async findByIsForSale(r){return this.findByField("isForSale",r)}async findByIsMaterial(r){return this.findByField("isMaterial",r)}async findByDesiredStockBelow(r){return(await this.findAll()).filter(a=>a.desiredStock&&a.desiredStock<r)}async findByPriceRange(r,n){return(await this.findAll()).filter(s=>s.salePrice>=r&&s.salePrice<=n)}}class _r extends ka{constructor(){super(t3,"products");gt(this,"unitService");this.unitService=new zr}async calculateUnitCosts(r){var s,o;if(!r.purchasePrice||!r.purchaseUnitId)return r;const n=await this.unitService.findById(r.purchaseUnitId);if(!n)return r;const a={...r};if(r.isForSale&&r.salesUnitId){const c=(s=n.conversions)==null?void 0:s.find(u=>u.toUnitId===r.salesUnitId);if(c){const{factor:u,operation:f}=c;a.salesUnitCost=f==="multiply"?r.purchasePrice*u:r.purchasePrice/u,r.salePrice&&a.salesUnitCost&&(a.margin=(1-a.salesUnitCost/r.salePrice)*100)}}if(r.isMaterial&&r.materialUnitId){const c=(o=n.conversions)==null?void 0:o.find(u=>u.toUnitId===r.materialUnitId);if(c){const{factor:u,operation:f}=c;a.materialUnitCost=f==="multiply"?r.purchasePrice*u:r.purchasePrice/u}}return a}async create(r){const n=await this.calculateUnitCosts(r),a=await super.create(n);if(!a)throw new Error("Failed to create product");return a}async update(r,n){const a=await this.findById(r);if(!a)throw new Error("Product not found");const s={...a,...n},o=await this.calculateUnitCosts(s),c=await super.update(r,o);if(!c)throw new Error("Failed to update product");return c}async findByName(r){return this.repository.findByName(r)}async findBySku(r){return this.repository.findBySku(r)}async findBySector(r){return this.repository.findBySector(r)}async findByPrimarySupplierId(r){return this.repository.findByPrimarySupplierId(r)}async findByMaterialUnitId(r){return this.repository.findByMaterialUnitId(r)}async findBySalesUnitId(r){return this.repository.findBySalesUnitId(r)}async findByIsForSale(r){return this.repository.findByIsForSale(r)}async findByIsMaterial(r){return this.repository.findByIsMaterial(r)}async findByPriceRange(r,n){return this.repository.findByPriceRange(r,n)}async findByDesiredStockBelow(r){return this.repository.findByDesiredStockBelow(r)}async findByStatus(r){return this.repository.findByStatus(r)}}class r3 extends Aa{constructor(r){super(r,"customer-orders");gt(this,"modelProperties",["orderDate","status","customerId","items","totalItems","totalProducts"])}async findByCustomerId(r){return this.findByField("customerId",r)}async findByStatus(r){return this.findByField("status",r.toString())}async findByDateRange(r,n){return(await this.findAll()).filter(s=>s.orderDate>=r&&s.orderDate<=n)}}class Es extends ka{constructor(){super(r3,"customer-orders");gt(this,"sequenceService");this.sequenceService=new U_}calculateTotals(r){r.items||(r.items=[]),r.totalProducts=r.items.length,r.totalItems=r.items.reduce((n,a)=>n+(Number(a.quantity)||0),0)}validateOrder(r){if(!r.customerId)throw new Error("La orden debe tener un cliente asignado");if(!r.orderDate)throw new Error("La orden debe tener una fecha");if(!r.status)throw new Error("La orden debe tener un estado");if(!r.items||r.items.length===0)throw new Error("La orden debe tener al menos un item");r.items.forEach((n,a)=>{if(!n.itemId)throw new Error(`El item #${a+1} debe tener un ID válido`);if(!n.typeItem)throw new Error(`El item #${a+1} debe tener un tipo válido`);if(!n.quantity||n.quantity<=0)throw new Error(`El item #${a+1} debe tener una cantidad válida mayor a 0`)})}async create(r){return r.status=r.status||et.PENDIENTE,r.nro=await this.sequenceService.getNextNumber("customer-orders"),this.calculateTotals(r),this.validateOrder(r),super.create(r)}async update(r,n){if(!n.customerId||!n.orderDate||!n.status||!n.items){const a=await this.findById(r);if(!a)throw new Error("Orden no encontrada");n={...a,...n}}return this.calculateTotals(n),this.validateOrder(n),super.update(r,n)}async findByCustomerId(r){return this.repository.findByCustomerId(r)}async findByStatus(r){return this.repository.findByStatus(r)}async findByDateRange(r,n){return this.repository.findByDateRange(r,n)}async findByNro(r){return(await this.findAll()).find(a=>a.nro===r)||null}async copyOrder(r){const n=await this.findByNro(r);if(!n)throw new Error(`La orden número ${r} no existe`);const a={orderDate:new Date,status:et.PENDIENTE,customerId:n.customerId,items:n.items,totalItems:n.totalItems,totalProducts:n.totalProducts},s=await this.create(a);if(!s)throw new Error("Error al crear la orden copiada");return s}}class n3 extends Aa{constructor(r){super(r,"production-orders");gt(this,"modelProperties",["consecutive","orderDate","status","responsibleWorkerId","recipes","ratios","totalItems","totalProducts"])}async findByResponsibleWorkerId(r){return this.findByField("responsibleWorkerId",r)}async findByStatus(r){return this.findByField("status",r.toString())}async findByRecipeId(r){return(await this.findAll()).filter(a=>a.recipes.some(s=>s.recipeId===r))}async findByDateRange(r,n){return(await this.findAll()).filter(s=>s.orderDate>=r&&s.orderDate<=n)}}class ai extends ka{constructor(){super(n3,"production-orders")}calculateTotals(t){t.recipes||(t.recipes=[]),t.totalProducts=t.recipes.length,t.totalItems=t.recipes.reduce((r,n)=>r+(Number(n.quantity)||0),0)}validateOrder(t){if(!t.responsibleWorkerId)throw new Error("La orden debe tener un trabajador responsable asignado");if(!t.orderDate)throw new Error("La orden debe tener una fecha");if(!t.status)throw new Error("La orden debe tener un estado");if(!t.recipes||t.recipes.length===0)throw new Error("La orden debe tener al menos una receta");t.recipes.forEach((r,n)=>{if(!r.recipeId)throw new Error(`La receta #${n+1} debe tener un ID válido`);if(!r.quantity||r.quantity<=0)throw new Error(`La receta #${n+1} debe tener una cantidad válida mayor a 0`)})}async create(t){return t.status=t.status||et.PENDIENTE,this.calculateTotals(t),this.validateOrder(t),super.create(t)}async update(t,r){if(!r.responsibleWorkerId||!r.orderDate||!r.status||!r.recipes){const n=await this.findById(t);if(!n)throw new Error("Orden no encontrada");r={...n,...r}}return this.calculateTotals(r),this.validateOrder(r),super.update(t,r)}async findByResponsibleWorkerId(t){return this.repository.findByResponsibleWorkerId(t)}async findByStatus(t){return this.repository.findByStatus(t)}async findByDateRange(t,r){return this.repository.findByDateRange(t,r)}async findByNro(t){return(await this.findAll()).find(n=>n.nro===t)||null}async copyOrder(t){const r=await this.findByNro(t);if(!r)throw new Error(`La orden número ${t} no existe`);return{orderDate:new Date,status:et.PENDIENTE,responsibleWorkerId:r.responsibleWorkerId,recipes:r.recipes,totalItems:r.totalItems,totalProducts:r.totalProducts}}}function hE({open:e,onClose:t,onCreateEmpty:r,onCreateFromCopy:n,onCreateCalculated:a,orderType:s,suppliers:o=[],customers:c=[],workers:u=[]}){const[f,m]=M.useState(null),[g,v]=M.useState(""),[x,y]=M.useState(""),[w,b]=M.useState(!1),S=async()=>{switch(f){case"empty":r(),T();break;case"copy":if(g){b(!0);try{if(!await(s==="customer"?new Es:s==="purchase"?new ni:new ai).findByNro(g)){dt.error("La orden no existe");return}n(g),T()}catch(A){dt.error("Error al validar la orden: "+A.message)}finally{b(!1)}}break;case"calculated":x&&(a(x),T());break}},T=()=>{m(null),v(""),y(""),t()},E=new Intl.DateTimeFormat("es",{day:"numeric",month:"long",year:"numeric"}).format(new Date);return h.jsx(Dc,{open:e,onOpenChange:T,children:h.jsxs(xl,{className:"sm:max-w-[600px] p-0",children:[h.jsxs(yl,{className:"p-6 pb-0",children:[h.jsx(bl,{className:"text-2xl",children:"Nueva Orden"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:E})]}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("button",{className:`aspect-square rounded-lg transition-colors flex flex-col items-center justify-center gap-3 ${f==="empty"?"bg-blue-600 text-white":"bg-blue-100 hover:bg-blue-200 text-blue-700"}`,onClick:()=>{f==="empty"?m(null):(m("empty"),r())},children:[h.jsx(jD,{className:"h-10 w-10"}),h.jsx("span",{className:"font-medium text-lg",children:"Vacía"})]}),h.jsxs("button",{className:`aspect-square rounded-lg transition-colors flex flex-col items-center justify-center gap-3 ${f==="copy"?"bg-orange-600 text-white":"bg-orange-100 hover:bg-orange-200 text-orange-700"}`,onClick:()=>m(f==="copy"?null:"copy"),children:[h.jsx(LD,{className:"h-10 w-10"}),h.jsx("span",{className:"font-medium text-lg",children:"Copiada"})]}),h.jsxs("button",{className:`aspect-square rounded-lg transition-colors flex flex-col items-center justify-center gap-3 ${f==="calculated"?"bg-red-600 text-white":"bg-red-100 hover:bg-red-200 text-red-700"}`,onClick:()=>m(f==="calculated"?null:"calculated"),children:[h.jsx(Lg,{className:"h-10 w-10"}),h.jsx("span",{className:"font-medium text-lg",children:"Calculada"})]})]}),f==="copy"&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Número de Orden"}),h.jsx(dn,{placeholder:"Ingrese el número de la orden a copiar",value:g,onChange:A=>v(A.target.value),className:"h-11"})]}),h.jsx(ze,{variant:"primary",className:"w-full h-11",onClick:S,disabled:!g||w,children:w?"Validando...":"Copiar Orden"})]}),f==="calculated"&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:s==="customer"?"Cliente":s==="purchase"?"Proveedor":"Trabajador"}),h.jsx(ul,{placeholder:"Seleccione una opción",value:x,onChange:y,options:s==="customer"?c.map(A=>({value:A.id||"",label:A.name})):s==="purchase"?o.map(A=>({value:A.id||"",label:A.commercialName})):u.map(A=>({value:A.id||"",label:A.name}))})]}),h.jsx(ze,{variant:"primary",className:"w-full h-11",onClick:S,disabled:!x,children:"Calcular Orden"})]})]})]})})}const Un={printContainer:{fontFamily:"Arial, sans-serif",fontSize:"14px",width:"80mm",margin:0,padding:"10px",fontWeight:"bold"},ticket:{textAlign:"left",fontWeight:"bold"},orderNumber:{margin:0,fontSize:"18px",fontWeight:"bold"},date:{margin:"5px 0",fontSize:"14px",fontWeight:"bold"},businessName:{margin:0,fontSize:"12px",textAlign:"left",fontWeight:"bold"},contact:{fontSize:"12px",margin:"5px 0",fontWeight:"bold"},line:{borderTop:"1px dashed black",margin:"5px 0"},itemsTable:{width:"100%",textAlign:"left",tableLayout:"auto"},checkbox:{display:"inline-block",width:"8px",height:"8px",border:"1px solid black",marginRight:"6px",marginTop:"8px"},itemRow:{display:"flex",alignItems:"flex-start",width:"100%"},itemQuantity:{padding:"5px",paddingRight:"15px",fontSize:"14px",whiteSpace:"nowrap",fontWeight:"bold"},itemDescription:{padding:"5px",paddingLeft:"0",fontSize:"14px",flex:1,wordWrap:"break-word",fontWeight:"bold"},totals:{fontSize:"14px",margin:"5px 0",fontWeight:"bold"},spacer:{height:"30px"}},mE=({orderNumber:e,date:t,contactType:r,contactName:n,items:a})=>{const s=a.length,o=Number(a.reduce((c,u)=>c+u.quantity,0));return h.jsx("div",{style:Un.printContainer,children:h.jsxs("div",{style:Un.ticket,children:[h.jsxs("h2",{style:Un.orderNumber,children:["Orden N°: ",e]}),h.jsxs("p",{style:Un.date,children:["Fecha: ",t.toLocaleDateString()]}),h.jsx("h1",{style:Un.businessName,children:"TEJAS DE LA CRUZ YOSBANY"}),h.jsxs("p",{style:Un.contact,children:[r.toUpperCase(),": ",h.jsx("strong",{children:n})]}),h.jsx("div",{style:Un.line}),h.jsx("table",{style:Un.itemsTable,children:h.jsx("tbody",{children:a.map((c,u)=>h.jsx("tr",{children:h.jsx("td",{colSpan:2,children:h.jsxs("div",{style:Un.itemRow,children:[h.jsx("div",{style:Un.checkbox}),h.jsxs("div",{style:Un.itemQuantity,children:[c.quantity," ",c.unit]}),h.jsx("div",{style:Un.itemDescription,children:c.description})]})})},u))})}),h.jsx("div",{style:Un.line}),h.jsxs("p",{style:Un.totals,children:["Totales (Productos/ Items): ",s," / ",o]}),h.jsx("div",{style:Un.spacer})]})})};function qre(){const e=cr(),t=new ni,r=new ua,n=new _r,a=new zr,[s,o]=M.useState({}),[c,u]=M.useState([]),[f,m]=M.useState([]),[g,v]=M.useState({}),[x,y]=M.useState(!1);M.useEffect(()=>{(async()=>{try{const[k,D,R]=await Promise.all([r.findAll(),n.findAll(),a.findAll()]),P=k.reduce((B,H)=>(B[H.id]=H.commercialName,B),{}),I=R.reduce((B,H)=>(B[H.id]=H.name,B),{});o(P),u(k),m(D),v(I)}catch(k){console.error("Error loading data:",k)}})()},[]);const w=()=>{e("/purchase-orders/new")},b=A=>{e(`/purchase-orders/new?copy=${A}`)},S=A=>{e(`/purchase-orders/new?calculate=${A}`)},T=A=>{const k=A.products.map(P=>{const I=f.find(H=>H.id===P.productId),B=g[(I==null?void 0:I.purchaseUnitId)||""]||"Unidad";return{quantity:P.quantity,unit:B,description:(I==null?void 0:I.name)||"Producto no encontrado"}}),D=c.find(P=>P.id===A.supplierId),R=window.open("","_blank");if(R){R.document.write("<html><head><title>Orden de Compra</title></head><body>"),R.document.write('<div id="print-root"></div>'),R.document.write("</body></html>");const P=R.document.getElementById("print-root");P&&(Og.createRoot(P).render(h.jsx(mE,{orderNumber:A.nro,date:new Date(A.orderDate),contactType:"proveedor",contactName:(D==null?void 0:D.commercialName)||"Proveedor no encontrado",items:k})),setTimeout(()=>{R.print(),R.close()},500))}},E=[{header:"Proveedor",accessor:"supplierId",render:A=>s[A.supplierId]||"Proveedor no encontrado"},{header:"Fecha",accessor:"orderDate",render:A=>(A.orderDate instanceof Date?A.orderDate:new Date(A.orderDate)).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"})},{header:"Totales",accessor:"totalProducts",render:A=>`${A.totalProducts||0} / ${A.totalItems||0}`},{header:"Estado",accessor:"status",type:"tag",className:"rounded-md px-2 py-1",tags:[{value:et.PENDIENTE,label:et.PENDIENTE,color:"warning"},{value:et.ENVIADA,label:et.ENVIADA,color:"info"},{value:et.COMPLETADA,label:et.COMPLETADA,color:"success"},{value:et.CANCELADA,label:et.CANCELADA,color:"danger"}]}];return h.jsxs(h.Fragment,{children:[h.jsx(hE,{open:x,onClose:()=>y(!1),onCreateEmpty:w,onCreateFromCopy:b,onCreateCalculated:S,orderType:"purchase",suppliers:c}),h.jsx(Na,{columns:E,title:"Órdenes de Compra",onAddClick:()=>y(!0),backPath:"/purchase-orders",service:t,type:"purchase",onPrint:T})]})}function Uk(){const{id:e}=Pt(),[t]=Fg(),r=cr(),[n,a]=M.useState(!0),s=M.useMemo(()=>{const T=t.get("calculate"),E=t.get("copy");return T||E?"calculated":"manual"},[t]),[o,c]=M.useState({orderDate:new Date(new Date().setHours(0,0,0,0)),status:et.PENDIENTE,products:[]}),[u,f]=M.useState([]),[m,g]=M.useState([]),v=M.useMemo(()=>new ni,[]),x=M.useMemo(()=>new _r,[]),y=M.useMemo(()=>new ua,[]);M.useEffect(()=>{(async()=>{var E;try{const[A,k]=await Promise.all([y.findAll(),x.findAll()]);g(A);const D=t.get("copy");if(D){console.log("Copiando orden existente",{copyNro:D});try{const P=await v.copyOrder(D),I=P.orderDate instanceof Date?P.orderDate:new Date(P.orderDate||new Date),B=new Date(I.getTime()+I.getTimezoneOffset()*6e4);if(B.setHours(0,0,0,0),c({...P,orderDate:B}),P.supplierId){const H=await x.findByPrimarySupplierId(P.supplierId);f(H),console.log("Productos cargados del proveedor de la orden copiada",{supplierId:P.supplierId,productsCount:H.length})}}catch(P){console.error("Error al copiar orden",{error:P}),dt.error("La orden no existe o no se puede copiar"),r("/purchase-orders");return}return}f(k);const R=t.get("calculate");if(R){console.log("Configurando orden de cálculo",{calculateId:R}),c(I=>({...I,supplierId:R}));const P=await x.findByPrimarySupplierId(R);f(P),console.log("Productos cargados para cálculo",{count:P.length})}if(e)try{const P=await v.findById(e);if(P){console.log("Cargando orden existente",{id:e,supplierId:P.supplierId,productsCount:((E=P.products)==null?void 0:E.length)||0});const I=P.orderDate instanceof Date?P.orderDate:new Date(P.orderDate),B=new Date(I.getTime()+I.getTimezoneOffset()*6e4);B.setHours(0,0,0,0);let H=k;P.supplierId&&(H=await x.findByPrimarySupplierId(P.supplierId),console.log("Productos cargados del proveedor de la orden existente",{supplierId:P.supplierId,productsCount:H.length})),f(H),c({...P,orderDate:B})}}catch(P){console.error("Error al cargar la orden",{error:P}),dt.error("Error al cargar la orden"),r("/purchase-orders");return}}catch(A){console.error("Error al cargar datos iniciales",{error:A}),dt.error("Error al cargar los datos")}finally{a(!1)}})()},[e,v,x,y,t,r]);const w=T=>{console.log("Cambiando orden de referencia",{value:T}),v.findById(T).then(E=>{E&&(c(A=>({...A,referenceOrderNumber:T,products:E.products})),console.log("Orden de referencia actualizada",{orderId:E.id,productsCount:E.products.length}))}).catch(E=>{console.error("Error al cargar orden de referencia",{error:E})})},b=T=>{var A;const E=T;console.log("Iniciando cambio de proveedor",{supplierId:E,currentProductsCount:u.length,currentOrderProductsCount:((A=o.products)==null?void 0:A.length)||0}),c(k=>{var D;return console.log("Actualizando estado de la orden",{previousSupplierId:k.supplierId,newSupplierId:E,previousProductsCount:((D=k.products)==null?void 0:D.length)||0}),{...k,supplierId:E,products:[]}}),E?(console.log("Iniciando carga de productos del proveedor",{supplierId:E}),x.findByPrimarySupplierId(E).then(k=>{console.log("Productos cargados exitosamente del proveedor",{supplierId:E,productsCount:k.length,products:k.map(D=>({id:D.id,name:D.name}))}),f(k)}).catch(k=>{console.error("Error al cargar productos del proveedor",{error:k,supplierId:E,errorMessage:k instanceof Error?k.message:"Error desconocido"}),f([])})):(console.log("Limpieza de productos - sin proveedor seleccionado",{previousProductsCount:u.length}),f([]))},S=M.useMemo(()=>t.get("copy")?[{name:"supplierId",label:"Proveedor",type:"select",required:!0,readOnly:!0,relatedService:{service:y,labelField:"commercialName"}},{name:"orderDate",label:"Fecha",type:"date",required:!0,readOnly:!1},{name:"products",label:"Productos",type:"array",visible:()=>!0,arrayConfig:{columns:[{header:"Producto",accessor:"productId",render:T=>{const E=u.find(A=>A.id===T);return(E==null?void 0:E.name)||"Producto no encontrado"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"productId",label:"Producto",type:"select",required:!0,options:u.filter(T=>!new Set((o.products||[]).map(A=>A.productId)).has(T.id||"")).map(T=>({value:T.id||"",label:T.name})),onChange:T=>{const E=u.find(A=>A.id===T);return E!=null&&E.desiredStock?{quantity:E.desiredStock}:{}}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay productos agregados",description:'Haga clic en el botón "Agregar" para comenzar a agregar productos a la orden de compra.'},modalTitles:{add:"Agregar Producto",edit:"Modificar Producto"},addButtonText:"Agregar Producto",editButtonTooltip:"Modificar este producto",deleteButtonTooltip:"Eliminar este producto",dialogDescription:"Complete los detalles del producto para la orden de compra."}}}]:[...s==="calculated"?[{name:"referenceOrderNumber",label:"Orden de Referencia",type:"select",required:!0,options:m.map(T=>({value:T.id||"",label:`Proveedor: ${T.commercialName}`})),onChange:w}]:[],{name:"supplierId",label:"Proveedor",type:"select",required:!0,relatedService:{service:y,labelField:"commercialName"},onChange:b},{name:"orderDate",label:"Fecha",type:"date",required:!0,readOnly:!1},...e?[{name:"status",label:"Estado",type:"select",required:!0,readOnly:!e,options:Object.values(et).map(T=>({value:T,label:T}))}]:[],...s==="manual"?[{name:"products",label:"Productos",type:"array",visible:()=>!0,arrayConfig:{columns:[{header:"Producto",accessor:"productId",render:T=>{const E=u.find(A=>A.id===T);return(E==null?void 0:E.name)||"Producto no encontrado"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"productId",label:"Producto",type:"select",required:!0,options:u.filter(T=>!new Set((o.products||[]).map(A=>A.productId)).has(T.id||"")).map(T=>({value:T.id||"",label:T.name})),onChange:T=>{const E=u.find(A=>A.id===T);return E!=null&&E.desiredStock?{quantity:E.desiredStock}:{}}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay productos agregados",description:'Haga clic en el botón "Agregar" para comenzar a agregar productos a la orden de compra.'},modalTitles:{add:"Agregar Producto",edit:"Modificar Producto"},addButtonText:"Agregar Producto",editButtonTooltip:"Modificar este producto",deleteButtonTooltip:"Eliminar este producto",dialogDescription:"Complete los detalles del producto para la orden de compra."}}}]:[]],[e,s,m,u,w,b,t,y]);return n?h.jsx("div",{children:"Cargando..."}):h.jsx("div",{className:"space-y-4",children:h.jsx(Ra,{title:e?"Editar Orden de Compra":"Nueva Orden de Compra",fields:S,initialValues:o,service:v,backPath:"/purchase-orders",transformValues:T=>{const E=T.orderDate instanceof Date?T.orderDate:new Date(T.orderDate);return E.setHours(12,0,0,0),{...T,orderDate:E}}})})}function Gre(){const{id:e}=Pt(),t=new ni,r=new ua,n=new _r,a=new zr,[s,o]=M.useState({}),[c,u]=M.useState({}),[f,m]=M.useState({});M.useEffect(()=>{(async()=>{const[y,w,b]=await Promise.all([r.findAll(),n.findAll(),a.findAll()]),S=y.reduce((A,k)=>({...A,[k.id]:k.commercialName}),{}),T=w.reduce((A,k)=>({...A,[k.id]:k}),{}),E=b.reduce((A,k)=>({...A,[k.id]:k.name}),{});o(S),u(T),m(E)})()},[]);const g=x=>{const y=[{header:"Producto",accessor:w=>{if(w.productId){const b=c[w.productId];return h.jsx("div",{className:"font-medium",children:(b==null?void 0:b.name)||"Producto no encontrado"})}return"Producto no especificado"}},{header:"Cantidad",accessor:w=>{if(w.productId){const b=c[w.productId],S=b!=null&&b.purchaseUnitId?f[b.purchaseUnitId]:"Unidad no encontrada";return`${w.quantity} ${S}`}return w.quantity}}];return h.jsx(dl,{data:x,columns:y,emptyMessage:"No hay productos"})},v=x=>[{label:"Proveedor",value:s[x.supplierId]||"Proveedor no encontrado"},{label:"Estado",value:As[x.status]},{label:"Fecha",value:new Date(x.orderDate).toLocaleDateString()},{label:"Total de Productos",value:x.totalProducts},{label:"Total de Items",value:x.totalItems},{label:"Productos",value:g(x.products)}];return e?h.jsx(Da,{title:"Pedido de Compra",fields:v,editPath:`/purchase-orders/${e}/edit`,backPath:"/purchase-orders",service:t,id:e}):null}var rd=(e=>(e.RECETA_VENTA="RECETA_VENTA",e.RECETA_INTERNA="RECETA_INTERNA",e))(rd||{});const Yre=e=>{switch(e){case"RECETA_VENTA":return"RECETA EN VENTA";case"RECETA_INTERNA":return"RECETA INTERNA";default:return e}},Xre=()=>[{value:"RECETA_VENTA",label:"RECETA EN VENTA"},{value:"RECETA_INTERNA",label:"RECETA INTERNA"}];class a3 extends Aa{constructor(r){super(r,"recipes");gt(this,"modelProperties",["name","recipeType","yieldUnitId","yield","unitCost","materials","primaryWorkerId","notes","state","desiredProduction","sku","salePrice"])}async findByName(r){return this.findByField("name",r)}}var _t=(e=>(e.PRODUCTO="PRODUCTO",e.RECETA="RECETA",e))(_t||{});class mn extends ka{constructor(){super(a3,"recipes");gt(this,"productService");this.productService=new _r}async calculateTotals(r){r.materials||(r.materials=[]),r.materials=r.materials.filter(s=>s!==null),r.totalMaterial=r.materials.length,r.totalItems=r.materials.reduce((s,o)=>{const c=typeof o.quantity=="number"?o.quantity:0;return s+c},0);let n=0;for(const s of r.materials){if(!s.materialId)continue;s.typeMaterial||(await this.productService.findById(s.materialId)?s.typeMaterial=_t.PRODUCTO:await this.findById(s.materialId)&&(s.typeMaterial=_t.RECETA));const o=typeof s.quantity=="number"?s.quantity:0;if(s.typeMaterial===_t.PRODUCTO){const c=await this.productService.findById(s.materialId);c!=null&&c.materialUnitCost&&(n+=c.materialUnitCost*o)}else if(s.typeMaterial===_t.RECETA){const c=await this.findById(s.materialId);c!=null&&c.unitCost&&(n+=c.unitCost*o)}}const a=typeof r.yield=="number"?r.yield:0;r.unitCost=a>0?n/a:0,r.recipeType===rd.RECETA_VENTA&&r.salePrice&&r.salePrice>0?(r.margin=r.unitCost>0?(r.salePrice-r.unitCost)/r.salePrice*100:0,r.margin=Math.round(r.margin*100)/100):r.margin=0}async create(r){return await this.calculateTotals(r),super.create(r)}async update(r,n){if(n.materials||n.salePrice||n.yield){const s=await this.findById(r);if(!s)throw new Error("Recipe not found");const o={...s,...n};await this.calculateTotals(o),n=o}const a=await super.update(r,n);if(!a)throw new Error("Recipe not found");return a}async findByName(r){return this.repository.findByName(r)}async findByType(r){return(await this.repository.findAll()).filter(a=>a.recipeType===r)}async findByPrimaryWorkerId(r){return(await this.repository.findAll()).filter(a=>a.primaryWorkerId===r)}}function Kre(){const e=cr(),t=new Es,r=new li,n=new _r,a=new mn,s=new zr,[o,c]=M.useState({}),[u,f]=M.useState([]),[m,g]=M.useState([]),[v,x]=M.useState([]),[y,w]=M.useState({}),[b,S]=M.useState(!1);M.useEffect(()=>{(async()=>{try{const[P,I,B,H]=await Promise.all([r.findAll(),n.findAll(),a.findAll(),s.findAll()]),z=P.reduce((ne,se)=>(se.id&&se.name&&(ne[se.id]=se.name),ne),{}),G=H.reduce((ne,se)=>(se.id&&se.name&&(ne[se.id]=se.name),ne),{});c(z),f(P),g(I),x(B),w(G)}catch(P){console.error("Error loading data:",P)}})()},[]);const T=()=>{e("/customer-orders/new")},E=R=>{e(`/customer-orders/new?copy=${R}`)},A=R=>{e(`/customer-orders/new?calculate=${R}`)},k=R=>{if(console.log("Order to print (detailed):",JSON.stringify(R,null,2)),console.log("Order to print:",R),console.log("Order items:",R.items),!R.items||R.items.length===0){console.warn("No hay items para imprimir");return}const P=R.items.map(H=>{console.log("Processing item:",H);let z="",G="Unidad";if(H.typeItem===_t.PRODUCTO){const ne=m.find(L=>L.id===H.itemId);console.log("Found product:",ne);const se=ne==null?void 0:ne.salesUnitId;se&&se in y&&(G=y[se]),z=(ne==null?void 0:ne.name)||"Producto no encontrado"}else if(H.typeItem===_t.RECETA){const ne=v.find(L=>L.id===H.itemId);console.log("Found recipe:",ne);const se=ne==null?void 0:ne.yieldUnitId;se&&se in y&&(G=y[se]),z=(ne==null?void 0:ne.name)||"Receta no encontrada"}return{quantity:H.quantity,unit:G,description:z}}),I=u.find(H=>H.id===R.customerId),B=window.open("","_blank");if(B){B.document.write("<html><head><title>Pedido de Cliente</title></head><body>"),B.document.write('<div id="print-root"></div>'),B.document.write("</body></html>");const H=B.document.getElementById("print-root");H&&(Og.createRoot(H).render(h.jsx(mE,{orderNumber:R.nro,date:new Date(R.orderDate),contactType:"cliente",contactName:(I==null?void 0:I.name)||"Cliente no encontrado",items:P})),setTimeout(()=>{B.print(),B.close()},500))}},D=[{header:"Cliente",accessor:"customerId",render:R=>o[R.customerId]||"Cliente no encontrado"},{header:"Fecha",accessor:"orderDate",type:"date"},{header:"Totales",accessor:"totalProducts",render:R=>`${R.totalProducts}/${R.totalItems}`},{header:"Estado",accessor:"status",type:"tag",tags:Wre()}];return h.jsxs(h.Fragment,{children:[h.jsx(hE,{open:b,onClose:()=>S(!1),onCreateEmpty:T,onCreateFromCopy:E,onCreateCalculated:A,orderType:"customer",customers:u}),h.jsx(Na,{columns:D,title:"Pedidos de Clientes",onAddClick:()=>S(!0),backPath:"/customer-orders",service:t,type:"customer",onPrint:k})]})}function Vk(){const{id:e}=Pt(),[t]=Fg(),r=cr(),[n,a]=M.useState(!0),[s,o]=M.useState({orderDate:new Date(new Date().setHours(0,0,0,0)),status:et.PENDIENTE,items:[]}),[c,u]=M.useState([]),[f,m]=M.useState([]),g=M.useMemo(()=>new Es,[]),v=M.useMemo(()=>new li,[]),x=M.useMemo(()=>new _r,[]),y=M.useMemo(()=>new mn,[]);M.useEffect(()=>{(async()=>{var S,T;try{const[E,A]=await Promise.all([x.findAll(),y.findAll()]),k=t.get("copy");if(k){console.log("Copiando orden existente",{copyNro:k});try{const D=await g.copyOrder(k);o(D),u(E),m(A),console.log("Orden copiada exitosamente",{customerId:D.customerId,itemsCount:((S=D.items)==null?void 0:S.length)||0})}catch(D){console.error("Error al copiar orden",{error:D}),dt.error("La orden no existe o no se puede copiar"),r("/customer-orders");return}return}if(e)try{const D=await g.findById(e);if(D){console.log("Cargando orden existente",{id:e,customerId:D.customerId,itemsCount:((T=D.items)==null?void 0:T.length)||0,orderDate:D.orderDate});let R;try{if(D.orderDate){if(console.log("Fecha recibida del servidor:",{raw:D.orderDate,type:typeof D.orderDate}),R=new Date(D.orderDate),isNaN(R.getTime()))throw new Error("Fecha inválida");R.setUTCHours(12,0,0,0),console.log("Fecha procesada en carga:",{date:R,iso:R.toISOString(),local:R.toLocaleString()})}else R=new Date,R.setUTCHours(12,0,0,0)}catch(P){console.error("Error al procesar la fecha",{error:P,receivedDate:D.orderDate}),R=new Date,R.setUTCHours(12,0,0,0)}o({...D,orderDate:R})}}catch(D){console.error("Error al cargar la orden",{error:D}),dt.error("Error al cargar la orden"),r("/customer-orders");return}u(E),m(A)}catch(E){console.error("Error al cargar datos iniciales",{error:E}),dt.error("Error al cargar los datos")}finally{a(!1)}})()},[e,g,x,y,t,r]);const w=M.useMemo(()=>t.get("copy")?[{name:"customerId",label:"Cliente",type:"select",required:!0,readOnly:!0,relatedService:{service:v,labelField:"name"}},{name:"orderDate",label:"Fecha",type:"date",required:!0,readOnly:!1},{name:"items",label:"Items",type:"array",visible:()=>!0,arrayConfig:{columns:[{header:"Item",accessor:"itemId",render:(b,S)=>{if(S.typeItem===_t.PRODUCTO){const T=c.find(E=>E.id===b);return(T==null?void 0:T.name)||"Producto no encontrado"}else{const T=f.find(E=>E.id===b);return(T==null?void 0:T.name)||"Receta no encontrada"}}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"itemId",label:"Item",type:"select",required:!0,isOptionGroup:!0,options:[{label:"Recetas",options:f.filter(b=>!new Set((s.items||[]).filter(T=>T.typeItem===_t.RECETA).map(T=>T.itemId)).has(b.id||"")).map(b=>({value:`recipe:${b.id}`,label:b.name}))},{label:"Productos",options:c.filter(b=>!new Set((s.items||[]).filter(T=>T.typeItem===_t.PRODUCTO).map(T=>T.itemId)).has(b.id||"")).map(b=>({value:`product:${b.id}`,label:b.name}))}],onChange:b=>{if(!b)return;const[S,T]=b.split(":");return{itemId:T,typeItem:S==="recipe"?_t.RECETA:_t.PRODUCTO,value:b}}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay items agregados",description:'Haga clic en el botón "Agregar" para comenzar a agregar items al pedido.'},modalTitles:{add:"Agregar Item",edit:"Modificar Item"},addButtonText:"Agregar Item",editButtonTooltip:"Modificar este item",deleteButtonTooltip:"Eliminar este item",dialogDescription:"Complete los detalles del item para el pedido."}}}]:[{name:"customerId",label:"Cliente",type:"select",required:!0,relatedService:{service:v,labelField:"name"}},{name:"orderDate",label:"Fecha",type:"date",required:!0,readOnly:!1},...e?[{name:"status",label:"Estado",type:"select",required:!0,readOnly:!e,options:Object.values(et).map(b=>({value:b,label:b}))}]:[],{name:"items",label:"Items",type:"array",visible:()=>!0,arrayConfig:{columns:[{header:"Item",accessor:"itemId",render:(b,S)=>{if(S.typeItem===_t.PRODUCTO){const T=c.find(E=>E.id===b);return(T==null?void 0:T.name)||"Producto no encontrado"}else{const T=f.find(E=>E.id===b);return(T==null?void 0:T.name)||"Receta no encontrada"}}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"itemId",label:"Item",type:"select",required:!0,isOptionGroup:!0,options:[{label:"Recetas",options:f.filter(b=>!new Set((s.items||[]).filter(T=>T.typeItem===_t.RECETA).map(T=>T.itemId)).has(b.id||"")).map(b=>({value:`recipe:${b.id}`,label:b.name}))},{label:"Productos",options:c.filter(b=>!new Set((s.items||[]).filter(T=>T.typeItem===_t.PRODUCTO).map(T=>T.itemId)).has(b.id||"")).map(b=>({value:`product:${b.id}`,label:b.name}))}],onChange:b=>{if(!b)return;const[S,T]=b.split(":");return{itemId:T,typeItem:S==="recipe"?_t.RECETA:_t.PRODUCTO,value:b}}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay items agregados",description:'Haga clic en el botón "Agregar" para comenzar a agregar items al pedido.'},modalTitles:{add:"Agregar Item",edit:"Modificar Item"},addButtonText:"Agregar Item",editButtonTooltip:"Modificar este item",deleteButtonTooltip:"Eliminar este item",dialogDescription:"Complete los detalles del item para el pedido."}}}],[e,c,f,v,t,s.items]);return n?h.jsx("div",{children:"Cargando..."}):h.jsx("div",{className:"space-y-4",children:h.jsx(Ra,{title:e?"Editar Pedido":"Nuevo Pedido",fields:w,initialValues:s,service:g,backPath:"/customer-orders",transformValues:b=>{console.log("Iniciando transformación de valores:",{orderDate:b.orderDate,type:typeof b.orderDate,isDate:b.orderDate instanceof Date});let S;try{typeof b.orderDate=="string"?(console.log("Fecha es string, convirtiendo a Date"),S=new Date(b.orderDate)):b.orderDate instanceof Date?(console.log("Fecha ya es un objeto Date"),S=b.orderDate):(console.log("Fecha no es string ni Date, usando fecha actual"),S=new Date),isNaN(S.getTime())&&(console.log("Fecha inválida, usando fecha actual como fallback"),S=new Date),S.setUTCHours(12,0,0,0),console.log("Fecha procesada:",{original:b.orderDate,processed:S,processedTime:S.getTime(),processedISO:S.toISOString(),processedLocal:S.toLocaleString()});const T={...b,orderDate:S};return console.log("Objeto final a guardar:",{orderDate:T.orderDate,type:typeof T.orderDate,isDate:T.orderDate instanceof Date,completeObject:T}),T}catch(T){console.error("Error procesando la fecha:",T);const E=new Date;return E.setUTCHours(12,0,0,0),{...b,orderDate:E}}}})})}function Qre(){const{id:e}=Pt(),t=new Es,r=new li,n=new _r,a=new mn,s=new zr,[o,c]=M.useState({}),[u,f]=M.useState({}),[m,g]=M.useState({}),[v,x]=M.useState({});M.useEffect(()=>{(async()=>{const[S,T,E,A]=await Promise.all([r.findAll(),n.findAll(),a.findAll(),s.findAll()]),k=S.reduce((I,B)=>({...I,[B.id]:B.name}),{}),D=T.reduce((I,B)=>({...I,[B.id]:B}),{}),R=E.reduce((I,B)=>({...I,[B.id]:B}),{}),P=A.reduce((I,B)=>({...I,[B.id]:B.name}),{});c(k),f(D),g(R),x(P)})()},[]);const y=b=>{const S=[{header:"Item",accessor:T=>{let E="";if(T.typeItem===_t.PRODUCTO){const A=u[T.itemId];E=(A==null?void 0:A.name)||"Producto no encontrado"}else if(T.typeItem===_t.RECETA){const A=m[T.itemId];E=(A==null?void 0:A.name)||"Receta no encontrada"}return h.jsx("div",{className:"font-medium",children:E})}},{header:"Tipo",accessor:T=>T.typeItem===_t.PRODUCTO?"Producto":"Receta"},{header:"Cantidad",accessor:T=>{let E="Unidad";if(T.typeItem===_t.PRODUCTO){const A=u[T.itemId];E=A!=null&&A.salesUnitId&&v[A.salesUnitId]||"Unidad"}else if(T.typeItem===_t.RECETA){const A=m[T.itemId];E=A!=null&&A.yieldUnitId&&v[A.yieldUnitId]||"Unidad"}return`${T.quantity} ${E}`}}];return h.jsx(dl,{data:b,columns:S,emptyMessage:"No hay items"})},w=b=>[{label:"Cliente",value:o[b.customerId]},{label:"Estado",value:As[b.status]},{label:"Fecha",value:new Date(b.orderDate).toLocaleDateString()},{label:"Total de Items",value:b.totalItems},{label:"Total de Productos",value:b.totalProducts},{label:"Items",value:y(b.items)}];return e?h.jsx(Da,{title:"Pedido de Cliente",fields:w,editPath:`/customer-orders/${e}/edit`,backPath:"/customer-orders",service:t,id:e}):null}function Zre(){const e=cr(),t=new ai,r=new Ia,n=new mn,a=new zr,[s,o]=M.useState({}),[c,u]=M.useState([]),[f,m]=M.useState([]),[g,v]=M.useState({}),[x,y]=M.useState(!1);M.useEffect(()=>{(async()=>{try{const[k,D,R]=await Promise.all([r.findAll(),n.findAll(),a.findAll()]),P=k.reduce((B,H)=>(H.id&&(B[H.id]=H.name),B),{}),I=R.reduce((B,H)=>(H.id&&(B[H.id]=H.name),B),{});o(P),u(k),m(D),v(I)}catch(k){console.error("Error loading data:",k)}})()},[]);const w=()=>{e("/production-orders/new")},b=A=>{e(`/production-orders/new?copy=${A}`)},S=A=>{e(`/production-orders/new?calculate=${A}`)},T=A=>{const k=A.recipes.map(P=>{const I=f.find(H=>H.id===P.recipeId),B=g[(I==null?void 0:I.yieldUnitId)||""]||"Unidad";return{quantity:P.quantity,unit:B,description:(I==null?void 0:I.name)||"Receta no encontrada"}}),D=c.find(P=>P.id===A.responsibleWorkerId),R=window.open("","_blank");if(R){R.document.write("<html><head><title>Orden de Producción</title></head><body>"),R.document.write('<div id="print-root"></div>'),R.document.write("</body></html>");const P=R.document.getElementById("print-root");P&&(Og.createRoot(P).render(h.jsx(mE,{orderNumber:A.nro,date:new Date(A.orderDate),contactType:"empleado",contactName:(D==null?void 0:D.name)||"Empleado no encontrado",items:k})),setTimeout(()=>{R.print(),R.close()},500))}},E=[{header:"Trabajador",accessor:"responsibleWorkerId",render:A=>{const k=A.responsibleWorkerId;return k&&s[k]?s[k]:"Trabajador no encontrado"}},{header:"Fecha",accessor:"orderDate",type:"date"},{header:"Totales",accessor:"totalProducts",render:A=>{const k=A.totalProducts||0,D=A.totalItems||0;return`${k} / ${D}`}},{header:"Estado",accessor:"status",type:"tag",tags:[{value:et.PENDIENTE,label:et.PENDIENTE,color:"warning"},{value:et.ENVIADA,label:et.ENVIADA,color:"info"},{value:et.COMPLETADA,label:et.COMPLETADA,color:"success"},{value:et.CANCELADA,label:et.CANCELADA,color:"danger"}]}];return h.jsxs(h.Fragment,{children:[h.jsx(hE,{open:x,onClose:()=>y(!1),onCreateEmpty:w,onCreateFromCopy:b,onCreateCalculated:S,orderType:"production",workers:c}),h.jsx(Na,{columns:E,title:"Órdenes de Producción",onAddClick:()=>y(!0),backPath:"/production-orders",service:t,type:"production",onPrint:T})]})}function Hk(){const{id:e}=Pt(),[t]=Fg(),r=cr(),[n,a]=M.useState(!0),[s,o]=M.useState({orderDate:new Date,status:et.PENDIENTE,recipes:[]}),[c,u]=M.useState([]),f=M.useMemo(()=>new ai,[]),m=M.useMemo(()=>new mn,[]),g=M.useMemo(()=>new Ia,[]);M.useEffect(()=>{(async()=>{var y,w;try{const b=await m.findAll(),S=t.get("copy");if(S){console.log("Copiando orden existente",{copyNro:S});try{const T=await f.copyOrder(S);o(T),u(b),console.log("Orden copiada exitosamente",{recipesCount:((y=T.recipes)==null?void 0:y.length)||0})}catch(T){console.error("Error al copiar orden",{error:T}),dt.error("La orden no existe o no se puede copiar"),r("/production-orders");return}return}if(e){console.log("Cargando orden existente",{id:e});try{const T=await f.findById(e);if(T)console.log("Orden cargada exitosamente",{recipesCount:((w=T.recipes)==null?void 0:w.length)||0}),o(T),u(b);else{console.warn("Orden no encontrada",{id:e}),dt.error("La orden no existe"),r("/production-orders");return}}catch(T){console.error("Error al cargar la orden",{error:T}),dt.error("Error al cargar la orden"),r("/production-orders");return}}u(b)}catch(b){console.error("Error al cargar datos iniciales",{error:b}),dt.error("Error al cargar los datos")}finally{a(!1)}})()},[e,f,m,t,r]);const v=M.useMemo(()=>t.get("copy")?[{name:"responsibleWorkerId",label:"Empleado Responsable",type:"select",required:!0,readOnly:!0,relatedService:{service:g,labelField:"name"}},{name:"orderDate",label:"Fecha",type:"date",required:!0,readOnly:!1},{name:"recipes",label:"Recetas",type:"array",visible:()=>!0,arrayConfig:{columns:[{header:"Receta",accessor:"recipeId",render:x=>{const y=c.find(w=>w.id===x);return(y==null?void 0:y.name)||"Receta no encontrada"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"recipeId",label:"Receta",type:"select",required:!0,options:c.filter(x=>!new Set((s.recipes||[]).map(w=>w.recipeId)).has(x.id||"")).map(x=>({value:x.id||"",label:x.name})),onChange:x=>{const y=c.find(w=>w.id===x);return y!=null&&y.desiredProduction?{quantity:y.desiredProduction}:{}}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay recetas agregadas",description:'Haga clic en el botón "Agregar" para comenzar a agregar recetas a la orden.'},modalTitles:{add:"Agregar Receta",edit:"Modificar Receta"},addButtonText:"Agregar Receta",editButtonTooltip:"Modificar esta receta",deleteButtonTooltip:"Eliminar esta receta",dialogDescription:"Complete los detalles de la receta para la orden."}}}]:[{name:"responsibleWorkerId",label:"Empleado Responsable",type:"select",required:!0,relatedService:{service:g,labelField:"name"}},{name:"orderDate",label:"Fecha",type:"date",required:!0,readOnly:!1},...e?[{name:"status",label:"Estado",type:"select",required:!0,readOnly:!e,options:Object.values(et).map(x=>({value:x,label:x}))}]:[],{name:"recipes",label:"Recetas",type:"array",visible:()=>!0,arrayConfig:{columns:[{header:"Receta",accessor:"recipeId",render:x=>{const y=c.find(w=>w.id===x);return(y==null?void 0:y.name)||"Receta no encontrada"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"recipeId",label:"Receta",type:"select",required:!0,options:c.filter(x=>!new Set((s.recipes||[]).map(w=>w.recipeId)).has(x.id||"")).map(x=>({value:x.id||"",label:x.name})),onChange:x=>{const y=c.find(w=>w.id===x);return y!=null&&y.desiredProduction?{quantity:y.desiredProduction}:{}}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay recetas agregadas",description:'Haga clic en el botón "Agregar" para comenzar a agregar recetas a la orden.'},modalTitles:{add:"Agregar Receta",edit:"Modificar Receta"},addButtonText:"Agregar Receta",editButtonTooltip:"Modificar esta receta",deleteButtonTooltip:"Eliminar esta receta",dialogDescription:"Complete los detalles de la receta para la orden."}}}],[e,c,m,g,t]);return n?h.jsx("div",{children:"Cargando..."}):h.jsx("div",{className:"space-y-4",children:h.jsx(Ra,{title:e?"Editar Orden de Producción":"Nueva Orden de Producción",fields:v,initialValues:s,service:f,backPath:"/production-orders"})})}function Jre(){const{id:e}=Pt(),t=new ai,r=new Ia,n=new mn,[a,s]=M.useState({}),[o,c]=M.useState({});M.useEffect(()=>{(async()=>{const[v,x]=await Promise.all([r.findAll(),n.findAll()]),y=v.reduce((b,S)=>(S.id&&S.name&&(b[S.id]=S.name),b),{}),w=x.reduce((b,S)=>(S.id&&S.name&&(b[S.id]=S.name),b),{});s(y),c(w)})()},[]);const u=g=>{const v=[{header:"Receta",accessor:x=>h.jsx("div",{className:"font-medium",children:o[x.recipeId]||"Receta no encontrada"})},{header:"Cantidad",accessor:x=>`${x.quantity}`}];return h.jsx(dl,{data:g,columns:v,emptyMessage:"No hay recetas"})},f=g=>g!=null&&g.length?h.jsx("table",{className:"w-full",children:h.jsx("tbody",{children:g.map((v,x)=>h.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[h.jsx("td",{className:"p-4 align-middle",children:h.jsx("div",{className:"font-medium",children:v.name})}),h.jsxs("td",{className:"p-4 align-middle text-muted-foreground",children:["Valor: ",v.value||"No especificado"]})]},x))})}):"No hay ratios definidos",m=g=>[{label:"Trabajador Responsable",value:a[g.responsibleWorkerId]||"Trabajador no encontrado"},{label:"Estado",value:As[g.status]},{label:"Fecha",value:new Date(g.orderDate).toLocaleDateString()},{label:"Total de Recetas",value:g.totalProducts},{label:"Total de Items",value:g.totalItems},{label:"Recetas",value:u(g.recipes)},{label:"Ratios de Producción",value:f(g.ratios)}];return e?h.jsx(Da,{title:"Orden de Producción",fields:m,editPath:`/production-orders/${e}/edit`,backPath:"/production-orders",service:t,id:e}):null}function ene(){const e=new mn,t=M.useMemo(()=>new zr,[]),[r,n]=M.useState({});M.useEffect(()=>{(async()=>{try{const c=(await t.findAll()).reduce((u,f)=>({...u,[f.id]:f.name}),{});n(c)}catch(o){console.error("Error loading units:",o)}})()},[t]);const a=[{header:"Nombre",accessor:"name"},{header:"Estado",accessor:"status",type:"tag",tags:no()}];return h.jsx(Na,{columns:a,title:"Recetas",addPath:"/recipes/new",backPath:"/recipes",service:e})}function $k(){const{id:e}=Pt(),[t,r]=M.useState({}),[n,a]=M.useState([]),[s,o]=M.useState({}),c=M.useMemo(()=>new mn,[]),u=M.useMemo(()=>new _r,[]),f=M.useMemo(()=>new zr,[]);M.useEffect(()=>{f.findAll().then(v=>{const x=v.reduce((y,w)=>(y[w.id]=w.name,y),{});o(x)})},[f]),M.useEffect(()=>{e&&c.findById(e).then(v=>{v&&r(v)})},[e,c]),M.useEffect(()=>{Promise.all([u.findAll(),c.findAll()]).then(([v,x])=>{const y=v.filter(b=>b.isMaterial).map(b=>{const S=b.materialUnitId&&s[b.materialUnitId]?s[b.materialUnitId]:"";return{id:b.id,name:b.name,materialType:"Producto",displayName:`P - ${b.name}`,unitName:S,cost:b.materialUnitCost||0,originalData:b}}),w=x.filter(b=>b.id!==e).map(b=>{const S=b.yieldUnitId&&s[b.yieldUnitId]?s[b.yieldUnitId]:"";return{id:b.id,name:b.name,materialType:"Receta",displayName:`R - ${b.name}`,unitName:S,cost:b.unitCost||0,originalData:b}});a([...y,...w])})},[e,s,u,c]);const m=v=>n.find(x=>x.id===v),g=[{title:"Información General",fields:[{name:"name",label:"Nombre",type:"text",required:!0},{name:"recipeType",label:"Tipo",type:"select",required:!0,options:Xre()},{name:"status",label:"Estado",type:"select",required:!0,options:no()},{name:"yieldUnitId",label:"Unidad de Rendimiento",type:"select",required:!0,relatedService:{service:new zr,labelField:"name"}},{name:"yield",label:"Rendimiento",type:"number",required:!0,placeholder:"Ej: 1.5",onChange:v=>{if(v===""||v===null||v===void 0)return;const x=parseFloat(v.toString());if(!(isNaN(x)||x<0))return{yield:x}}},{name:"desiredProduction",label:"Producción Deseada",type:"number",required:!0,placeholder:"Ej: 10",onChange:v=>{if(v===""||v===null||v===void 0)return;const x=parseFloat(v.toString());if(!(isNaN(x)||x<0))return{desiredProduction:x}}},{name:"primaryWorkerId",label:"Trabajador Principal",type:"select",required:!0,relatedService:{service:new Ia,labelField:"name"}}]},{title:"Información de Venta",visible:v=>v.recipeType===rd.RECETA_VENTA,fields:[{name:"nameSale",label:"Nombre de Venta",type:"text",placeholder:"Nombre para mostrar en ventas"},{name:"sku",label:"SKU",type:"text",required:!0},{name:"salePrice",label:"Precio de Venta",type:"number",required:!0,placeholder:"Ej: 1500",onChange:v=>{if(v===""||v===null||v===void 0)return;const x=parseFloat(v.toString());if(!(isNaN(x)||x<0))return{salePrice:x}}}]},{title:"Detalles",fields:[{name:"materials",label:"Materiales",type:"array",arrayConfig:{columns:[{header:"Material",accessor:"materialId",render:v=>{const x=m(v);return x?x.displayName:"N/A"}},{header:"Cantidad",accessor:"quantity",render:(v,x)=>{const y=m(x.materialId);return y&&v?`${v} ${y.unitName}`:String(v||"")}},{header:"Sub Total",accessor:"quantity",render:(v,x)=>{const y=m(x.materialId);return!y||!x.quantity?"":(y.cost*v).toLocaleString("es-UY",{style:"currency",currency:"UYU",currencyDisplay:"symbol",minimumFractionDigits:0,maximumFractionDigits:0})}}],form:{fields:[{name:"materialId",label:"Material",type:"select",required:!0,searchable:!0,options:n.map(v=>({value:v.id,label:`${v.displayName} (${v.cost.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})} por ${v.unitName})`,group:v.materialType==="Producto"?"Productos":"Recetas"})),placeholder:"Buscar material...",isSearchable:!0,isClearable:!0,onChange:v=>{const x=m(v);if(x)return{materialId:v,typeMaterial:x.materialType==="Producto"?_t.PRODUCTO:_t.RECETA}}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 1.5",onChange:v=>{if(v===""||v===null||v===void 0)return;const x=parseFloat(v.toString());if(!(isNaN(x)||x<0))return{quantity:x}}}],emptyState:{title:"No hay materiales agregados",description:'Haga clic en el botón "Agregar" para comenzar a agregar materiales a la receta.'},modalTitles:{add:"Agregar Material",edit:"Modificar Material"},addButtonText:"Agregar Material",editButtonTooltip:"Modificar este material",deleteButtonTooltip:"Eliminar este material"}}},{name:"notes",label:"Notas",type:"textarea"}]}];return h.jsx("div",{className:"space-y-4",children:h.jsx(Ra,{title:e?"Editar Receta":"Nueva Receta",sections:g,initialValues:{...t,materials:t.materials||[]},service:c,backPath:"/recipes",onFieldChange:(v,x)=>{r(y=>({...y,[v]:x}))}})})}function tne(){const{id:e}=Pt(),t=M.useMemo(()=>new mn,[]),r=M.useMemo(()=>new Ia,[]),n=M.useMemo(()=>new zr,[]),a=M.useMemo(()=>new _r,[]),[s,o]=M.useState({}),[c,u]=M.useState({}),[f,m]=M.useState({}),[g,v]=M.useState({});M.useEffect(()=>{(async()=>{const[b,S,T,E]=await Promise.all([r.findAll(),n.findAll(),a.findAll(),t.findAll()]),A=b.reduce((P,I)=>({...P,[I.id]:I.name}),{}),k=S.reduce((P,I)=>({...P,[I.id]:I.name}),{}),D=T.reduce((P,I)=>({...P,[I.id]:I}),{}),R=E.reduce((P,I)=>({...P,[I.id]:I}),{});o(A),u(k),m(D),v(R)})()},[a,t,n,r]);const x=w=>{const b=[{header:"Material",accessor:S=>{let T="Material no encontrado";if(S.materialId){const E=f[S.materialId],A=g[S.materialId];E?T=E.name:A&&(T=`R - ${A.name}`)}return h.jsx("div",{className:"font-medium",children:T})}},{header:"Cantidad",accessor:S=>{let T="Unidad no encontrada";if(S.materialId){const E=f[S.materialId],A=g[S.materialId];E?T=E.materialUnitId?c[E.materialUnitId]:"Unidad no encontrada":A&&(T=c[A.yieldUnitId]||"Unidad no encontrada")}return`${S.quantity} ${T}`}}];return h.jsx(dl,{data:w||[],columns:b,emptyMessage:"No hay materiales"})},y=w=>{var E,A;const b=h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex flex-col space-y-1.5 pb-4 border-b",children:h.jsx("h3",{className:"text-lg font-semibold",children:"Información General"})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("dt",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:"Nombre:"}),h.jsx("dd",{className:"text-base",children:w.name})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("dt",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:"Tipo:"}),h.jsx("dd",{className:"text-base",children:Yre(w.recipeType)})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("dt",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:"Unidad de Rendimiento:"}),h.jsx("dd",{className:"text-base",children:c[w.yieldUnitId]||"Unidad no encontrada"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("dt",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:"Rendimiento:"}),h.jsx("dd",{className:"text-base",children:w.yield})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("dt",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:"Producción Deseada:"}),h.jsx("dd",{className:"text-base",children:w.desiredProduction||"-"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("dt",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:"Trabajador Principal:"}),h.jsx("dd",{className:"text-base",children:s[w.primaryWorkerId]||"Trabajador no encontrado"})]})]})]}),S=w.recipeType===rd.RECETA_VENTA?h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex flex-col space-y-1.5 pb-4 border-b",children:h.jsx("h3",{className:"text-lg font-semibold",children:"Información de Venta"})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("dt",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:"SKU:"}),h.jsx("dd",{className:"text-base",children:w.sku})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("dt",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:"Nombre de Venta:"}),h.jsx("dd",{className:"text-base",children:w.nameSale||"-"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("dt",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:"Precio de Venta:"}),h.jsx("dd",{className:"text-base",children:((E=w.salePrice)==null?void 0:E.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0,maximumFractionDigits:0}))||"-"})]})]})]}):null,T=h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex flex-col space-y-1.5 pb-4 border-b",children:h.jsx("h3",{className:"text-lg font-semibold",children:"Detalles"})}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("dt",{className:"text-base font-bold text-muted-foreground",children:"Materiales"}),h.jsx("dd",{children:x(w.materials)})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("dt",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:"Total de Materiales:"}),h.jsx("dd",{className:"text-base",children:w.totalMaterial})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("dt",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:"Total de Items:"}),h.jsx("dd",{className:"text-base",children:w.totalItems})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("dt",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:"Costo Unitario:"}),h.jsx("dd",{className:"text-base",children:((A=w.unitCost)==null?void 0:A.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0,maximumFractionDigits:0}))||"-"})]}),w.recipeType===rd.RECETA_VENTA&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("dt",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:"Margen:"}),h.jsx("dd",{className:"text-base",children:w.margin?`${w.margin}%`:"-"})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("dt",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:"Notas:"}),h.jsx("dd",{className:"text-base",children:w.notes||"-"})]})]})]});return[{label:"",value:b,colSpan:3},...S?[{label:"",value:S,colSpan:3}]:[],{label:"",value:T,colSpan:3}]};return e?h.jsx(Da,{title:"Receta",fields:y,editPath:`/recipes/${e}/edit`,backPath:"/recipes",service:t,id:e}):null}function rne(){const e=new _r,t=[{header:"SKU",accessor:"sku"},{header:"Nombre",accessor:"name"},{header:"Estado",accessor:"status",type:"tag",tags:no()}];return h.jsx(Na,{columns:t,title:"Productos",addPath:"/products/new",backPath:"/products",service:e})}var s3=(e=>(e.GENERAL="GENERAL",e.ALMACEN="ALMACEN",e.PRODUCCION="PRODUCCION",e.VENTAS="VENTAS",e))(s3||{});const nne=e=>{switch(e){case"GENERAL":return"GENERAL";case"ALMACEN":return"ALMACÉN";case"PRODUCCION":return"PRODUCCIÓN";case"VENTAS":return"VENTAS";default:return e}},ane=()=>[{value:"GENERAL",label:"GENERAL"},{value:"ALMACEN",label:"ALMACÉN"},{value:"PRODUCCION",label:"PRODUCCIÓN"},{value:"VENTAS",label:"VENTAS"}];function zk(){const{id:e}=Pt(),[t,r]=M.useState({}),n=M.useMemo(()=>new _r,[]),a=new zr;M.useEffect(()=>{e&&n.findById(e).then(o=>{o&&r(o)})},[e,n]);const s=[{title:"Información General",icon:h.jsx(iU,{className:"h-5 w-5"}),fields:[{name:"name",label:"Nombre",type:"text",required:!0},{name:"sku",label:"SKU",type:"text",required:!0},{name:"imageUrl",label:"URL de Imagen",type:"text"},{name:"status",label:"Estado",type:"select",required:!0,options:f0()},{name:"isForSale",label:"¿Es para Venta?",type:"boolean",required:!0,placeholder:"Marque si el producto es para venta"},{name:"isMaterial",label:"¿Es Material?",type:"boolean",required:!0,placeholder:"Marque si el producto es un material"}]},{title:"Información de Compra",icon:h.jsx(xh,{className:"h-5 w-5"}),fields:[{name:"purchasePrice",label:"Precio de Compra",type:"number"},{name:"purchaseUnitId",label:"Unidad de Compra",type:"select",relatedService:{service:a,labelKey:"name",valueKey:"id"}},{name:"primarySupplierId",label:"Proveedor Principal",type:"select",relatedService:{service:new ua,labelKey:"commercialName",valueKey:"id"}}]},{title:"Información de Venta",icon:h.jsx(Tp,{className:"h-5 w-5"}),fields:[{name:"nameSale",label:"Nombre de Venta",type:"text",placeholder:"Nombre para mostrar en ventas"},{name:"salePrice",label:"Precio de Venta",type:"number"},{name:"salesUnitId",label:"Unidad de Venta",type:"select",relatedService:{service:a,labelKey:"name",valueKey:"id"}}],visible:o=>o.isForSale===!0},{title:"Información de Material",icon:h.jsx(VD,{className:"h-5 w-5"}),fields:[{name:"materialName",label:"Nombre del Material",type:"text"},{name:"materialCode",label:"Código del Material",type:"text"},{name:"materialUnitId",label:"Unidad de Material",type:"select",relatedService:{service:a,labelKey:"name",valueKey:"id"}}],visible:o=>o.isMaterial===!0},{title:"Información de Inventario",icon:h.jsx(lU,{className:"h-5 w-5"}),fields:[{name:"sector",label:"Sector",type:"select",options:ane()},{name:"sectorOrder",label:"Orden en el Sector",type:"number"},{name:"desiredStock",label:"Stock Deseado",type:"number"}]}];return h.jsx(Ra,{title:e?"Editar Producto":"Nuevo Producto",sections:s,initialValues:t,service:n,backPath:"/products"})}function sne(){const{id:e}=Pt(),t=new _r,r=new zr,n=new ua,[a,s]=M.useState({}),[o,c]=M.useState({});M.useEffect(()=>{(async()=>{const[v,x]=await Promise.all([r.findAll(),n.findAll()]),y=v.reduce((b,S)=>({...b,[S.id]:S.name}),{}),w=x.reduce((b,S)=>({...b,[S.id]:S.commercialName}),{});s(y),c(w)})()},[]);const u=g=>{switch(g){case Ys.ACTIVO:return"Activo";case Ys.INACTIVO:return"Inactivo";default:return g}},f=g=>{const v=[{header:"Código",accessor:x=>x.code},{header:"Nombre",accessor:x=>x.name},{header:"Precio de Venta",accessor:x=>x.salePrice.toLocaleString("es-UY",{style:"currency",currency:"UYU"})}];return h.jsx(dl,{data:g,columns:v,emptyMessage:"No hay canales de venta"})},m=g=>{var v,x,y;return[{label:" ",value:h.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold mb-4",children:[h.jsx(VD,{className:"h-5 w-5"})," Información Básica"]}),colSpan:2},{label:"Nombre",value:g.name},{label:"SKU",value:g.sku},{label:"Estado",value:u(g.status)},{label:"Sector",value:nne(g.sector)},{label:"Orden en Sector",value:g.sectorOrder},{label:"Stock Deseado",value:g.desiredStock},{label:" ",value:h.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold mb-4 mt-6",children:[h.jsx(ZB,{className:"h-5 w-5"})," Información de Costos"]}),colSpan:2},{label:"Nombre de Venta",value:g.nameSale||"-"},{label:"Precio de Venta",value:g.salePrice.toLocaleString("es-UY",{style:"currency",currency:"UYU"})},{label:"Costo Unitario de Venta",value:((v=g.salesUnitCost)==null?void 0:v.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||"-"},{label:"Costo Unitario de Material",value:((x=g.materialUnitCost)==null?void 0:x.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||"-"},{label:"Precio de Compra",value:((y=g.purchasePrice)==null?void 0:y.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||"-"},{label:" ",value:h.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold mb-4 mt-6",children:[h.jsx(xh,{className:"h-5 w-5"})," Unidades"]}),colSpan:2},{label:"Unidad de Venta",value:g.salesUnitId?a[g.salesUnitId]:"-"},{label:"Unidad de Material",value:g.materialUnitId?a[g.materialUnitId]:"-"},{label:"Unidad de Compra",value:g.purchaseUnitId?a[g.purchaseUnitId]:"-"},{label:" ",value:h.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold mb-4 mt-6",children:[h.jsx(Tp,{className:"h-5 w-5"})," Proveedor"]}),colSpan:2},{label:"Proveedor Principal",value:g.primarySupplierId?o[g.primarySupplierId]:"-"},{label:" ",value:h.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold mb-4 mt-6",children:[h.jsx(Tp,{className:"h-5 w-5"})," Canales de Venta"]}),colSpan:2},{label:" ",value:f(g.salesChannels||[]),colSpan:2}]};return e?h.jsx(Da,{title:"Producto",fields:m,editPath:`/products/${e}/edit`,backPath:"/products",service:t,id:e}):null}class ine extends Aa{constructor(r){super(r,"incidents");gt(this,"modelProperties",["type","description","status","taskId","products","recipeId","date"])}async findByType(r){return this.findByField("type",r)}async findByStatus(r){return this.findByField("status",r)}}class pE extends ka{constructor(){super(ine,"incidents")}async findByType(t){return this.repository.findByType(t)}async findByStatus(t){return this.repository.findByStatus(t)}async findByDateRange(t,r){return(await this.repository.findAll()).filter(a=>{const s=new Date(a.createdAt);return s>=t&&s<=r})}async findByTaskId(t){return(await this.repository.findAll()).filter(n=>n.taskId===t)}async findByProductId(t){return(await this.repository.findAll()).filter(n=>{var a;return(a=n.products)==null?void 0:a.some(s=>s.productId===t)})}async findByRecipeId(t){return(await this.repository.findAll()).filter(n=>n.recipeId===t)}}var zs=(e=>(e.PRODUCCIONES="PRODUCCIONES",e.TAREAS="TAREAS",e.INVENTARIOS="INVENTARIOS",e))(zs||{});const one=()=>[{value:"PRODUCCIONES",label:"PRODUCCIONES"},{value:"TAREAS",label:"TAREAS"},{value:"INVENTARIOS",label:"INVENTARIOS"}],lne=e=>{switch(e){case"PRODUCCIONES":return"PRODUCCIONES";case"TAREAS":return"TAREAS";case"INVENTARIOS":return"INVENTARIOS";default:return e}},cne=()=>[{value:"PRODUCCIONES",label:"PRODUCCIONES",color:"info"},{value:"TAREAS",label:"TAREAS",color:"warning"},{value:"INVENTARIOS",label:"INVENTARIOS",color:"success"}];var i3=(e=>(e.PENDIENTE="PENDIENTE",e.RESUELTA="RESUELTA",e))(i3||{});const une=e=>{switch(e){case"PENDIENTE":return"PENDIENTE";case"RESUELTA":return"RESUELTA";default:return e}},o3=()=>[{value:"PENDIENTE",label:"PENDIENTE",color:"warning"},{value:"RESUELTA",label:"RESUELTA",color:"success"}];function dne(){const e=new pE,t=[{header:"Tipo",accessor:"type",type:"tag",tags:cne()},{header:"Fecha",accessor:"date",type:"date"},{header:"Descripción",accessor:"description"},{header:"Estado",accessor:"status",type:"tag",tags:o3()}];return h.jsx(Na,{columns:t,title:"Incidentes",addPath:"/incidents/new",backPath:"/incidents",service:e})}const Wk=()=>[{value:"PERDIDA",label:"PERDIDA"},{value:"DANIO",label:"DAÑO"},{value:"VENCIMIENTO",label:"VENCIMIENTO"},{value:"FACTURACION",label:"FACTURACIÓN"}];function qk(){const{id:e}=Pt(),[t,r]=M.useState({type:void 0,status:i3.PENDIENTE,date:new Date}),[n,a]=M.useState(""),[s,o]=M.useState([]),c=M.useMemo(()=>new pE,[]),u=M.useMemo(()=>new wl,[]);M.useEffect(()=>{e&&c.findById(e).then(x=>{x&&(r(x),a(x.type))})},[e,c]),M.useEffect(()=>{(async()=>{try{const y=await u.findAll();if(console.log("Roles cargados:",y),!y||!Array.isArray(y)){console.error("No se recibieron roles válidos");return}const w=[];for(const b of y)b!=null&&b.id&&(b!=null&&b.name)&&(b!=null&&b.tasks)&&Array.isArray(b.tasks)&&b.tasks.forEach(S=>{S!=null&&S.taskName&&w.push({value:String(b.id),label:`${b.name} - ${S.taskName}`})});console.log("Opciones de tareas generadas:",w),o(w)}catch(y){console.error("Error al cargar las tareas:",y),o([])}})()},[u]);const f=[{name:"type",label:"Tipo",type:"select",required:!0,options:one(),onChange:x=>{const y=x;console.log("Cambiando tipo a:",y),console.log("Opciones de tareas disponibles:",s),a(y),r(w=>({...w,type:y}))}},{name:"date",label:"Fecha",type:"date",required:!0},{name:"status",label:"Estado",type:"select",required:!0,options:o3()}],g=(()=>{switch(n){case zs.PRODUCCIONES:return{name:"recipeId",label:"Receta",type:"select",required:!0,relatedService:{service:new mn,labelField:"name"}};case zs.TAREAS:return{name:"taskId",label:"Tarea",type:"select",required:!0,placeholder:"Seleccione una tarea",options:s,onChange:x=>(console.log("Valor seleccionado:",x),!x||typeof x!="string"?(console.log("Valor inválido"),{taskId:""}):(console.log("RoleId:",x),{taskId:x}))};case zs.INVENTARIOS:return{name:"products",label:"Productos Afectados",type:"array",required:!0,arrayConfig:{columns:[{header:"Producto",accessor:"productId",reference:{field:{name:"productId",label:"Producto",type:"select",required:!0,relatedService:{service:new _r,labelField:"name",transform:async(x,y)=>{const w=(y==null?void 0:y.map(b=>b.productId))||[];return x.filter(b=>b.id&&!w.includes(b.id))}}},displayField:"name"}},{header:"Ajuste de Stock",accessor:"stockAdjustment"},{header:"Tipo de Afectación",accessor:"type",render:x=>{if(typeof x!="string")return"";const y=Wk().find(w=>w.value===x);return(y==null?void 0:y.label)||x}}],form:{fields:[{name:"productId",label:"Producto",type:"select",required:!0,relatedService:{service:new _r,labelField:"name",transform:async(x,y)=>{const w=(y==null?void 0:y.map(b=>b.productId))||[];return x.filter(b=>b.id&&!w.includes(b.id))}}},{name:"stockAdjustment",label:"Ajuste de Stock",type:"number",required:!0},{name:"type",label:"Tipo de Afectación",type:"select",required:!0,options:Wk()}],modalTitles:{add:"Agregar Producto Afectado",edit:"Editar Producto Afectado"},addButtonText:"Agregar Producto",editButtonTooltip:"Editar Producto",deleteButtonTooltip:"Eliminar Producto"}}};default:return null}})(),v=g?[...f,g,{name:"description",label:"Descripción",type:"textarea",required:!0}]:[...f,{name:"description",label:"Descripción",type:"textarea",required:!0}];return h.jsx(Ra,{title:e?"Editar Incidente":"Nuevo Incidente",fields:v,initialValues:t,service:c,backPath:"/incidents"})}function fne(){const{id:e}=Pt(),t=M.useMemo(()=>new pE,[]),r=M.useMemo(()=>new Ia,[]),n=M.useMemo(()=>new wl,[]),a=M.useMemo(()=>new _r,[]),s=M.useMemo(()=>new mn,[]),[o]=M.useState(""),[c,u]=M.useState(""),[f,m]=M.useState(""),[g,v]=M.useState("");M.useEffect(()=>{if(!e)return;(async()=>{var b;const w=await t.findById(e);if(w)switch(w.type){case zs.TAREAS:if(w.taskId){const S=await n.findById(w.taskId);S&&u(S.name)}break;case zs.INVENTARIOS:if((b=w.products)!=null&&b.length){const S=await Promise.all(w.products.map(async T=>{const E=await a.findById(T.productId);return(E==null?void 0:E.name)||""}));m(S.join(", "))}break;case zs.PRODUCCIONES:if(w.recipeId){const S=await s.findById(w.recipeId);S&&v(S.name)}break}})()},[e,t,r,n,a,s]);const x=y=>{const w=[{label:"Tipo",value:lne(y.type)},{label:"Fecha",value:y.date instanceof Date?y.date.toLocaleDateString():"No disponible"},{label:"Descripción",value:y.description},{label:"Reportado Por",value:o||"Cargando..."},{label:"Estado",value:une(y.status)}],b=(()=>{switch(y.type){case zs.TAREAS:return{label:"Tarea",value:c||"Cargando..."};case zs.INVENTARIOS:return{label:"Productos",value:f||"Cargando..."};case zs.PRODUCCIONES:return{label:"Receta",value:g||"Cargando..."};default:return null}})();return b&&w.push(b),w};return e?h.jsx(Da,{title:"Incidente",fields:x,editPath:`/incidents/${e}/edit`,backPath:"/incidents",service:t,id:e}):null}class hne extends Aa{constructor(r){super(r,"daily-closures");gt(this,"modelProperties",["date","totalExpenses","totalIncome","totalDifference","observations","accounts","transactions"])}async findByDate(r){return this.findByField("date",r.toISOString())}}class gE extends ka{constructor(){super(hne)}async findByDate(t){return this.repository.findByDate(t)}async findByDateRange(t,r){return(await this.repository.findAll()).filter(a=>{const s=new Date(a.date);return s>=t&&s<=r})}async findByAccountCode(t){return(await this.repository.findAll()).filter(n=>n.accounts.some(a=>a.accountCode===t))}async findByTransactionCode(t){return(await this.repository.findAll()).filter(n=>{var a;return(a=n.transactions)==null?void 0:a.some(s=>s.transactionCode===t)})}async getTotalsByDate(t){const r=await this.findByDate(t),n={};return r.forEach(a=>{var s;(s=a.transactions)==null||s.forEach(o=>{const c=o.concept;n[c]||(n[c]=0),n[c]+=o.amount})}),n}async getBalanceByDate(t){return(await this.findByDate(t)).reduce((n,a)=>{var s;return n+(((s=a.transactions)==null?void 0:s.reduce((o,c)=>o+c.amount,0))||0)},0)}}function mne(){const e=new gE,t=[{header:"Fecha",accessor:"date",render:r=>new Date(r.date).toLocaleDateString()},{header:"Total Ingresos",accessor:"totalIncome",render:r=>`$${r.totalIncome.toFixed(2)}`},{header:"Total Gastos",accessor:"totalExpenses",render:r=>`$${r.totalExpenses.toFixed(2)}`},{header:"Diferencia Total",accessor:"totalDifference",render:r=>`$${r.totalDifference.toFixed(2)}`},{header:"Cuentas",accessor:"accounts",render:r=>{var n;return((n=r.accounts)==null?void 0:n.length)||0}},{header:"Transacciones",accessor:"transactions",render:r=>{var n;return((n=r.transactions)==null?void 0:n.length)||0}}];return h.jsx(Na,{columns:t,title:"Cierres Diarios",addPath:"/daily-closures/new",backPath:"/daily-closures",service:e})}function Gk(){const{id:e}=Pt(),[t,r]=M.useState({}),n=new gE;M.useEffect(()=>{e&&n.findById(e).then(s=>{s&&r(s)})},[e]);const a=[{name:"date",label:"Fecha",type:"date",required:!0},{name:"totalExpenses",label:"Total de Gastos",type:"number",required:!0},{name:"totalIncome",label:"Total de Ingresos",type:"number",required:!0},{name:"totalDifference",label:"Diferencia Total",type:"number",required:!0},{name:"observations",label:"Observaciones",type:"textarea"},{name:"accounts",label:"Cuentas",type:"array",arrayConfig:{columns:[{header:"Nombre",accessor:"name"},{header:"Saldo",accessor:"balance",render:s=>(s==null?void 0:s.toLocaleString("es-CL",{style:"currency",currency:"CLP"}))||"N/A"}],form:{fields:[{name:"name",label:"Nombre",type:"text",required:!0,placeholder:"Ej: Caja Principal"},{name:"balance",label:"Saldo",type:"number",required:!0,placeholder:"Ej: 100000"}],emptyState:{title:"No hay cuentas registradas",description:'Haga clic en el botón "Agregar" para comenzar a registrar las cuentas del cierre diario.'},modalTitles:{add:"Agregar Cuenta",edit:"Modificar Cuenta"},addButtonText:"Agregar Cuenta",editButtonTooltip:"Modificar esta cuenta",deleteButtonTooltip:"Eliminar esta cuenta"}}},{name:"transactions",label:"Transacciones",type:"array",arrayConfig:{columns:[{header:"Descripción",accessor:"description"},{header:"Monto",accessor:"amount",render:s=>(s==null?void 0:s.toLocaleString("es-CL",{style:"currency",currency:"CLP"}))||"N/A"},{header:"Tipo",accessor:"type"}],form:{fields:[{name:"description",label:"Descripción",type:"text",required:!0,placeholder:"Ej: Venta de pan"},{name:"amount",label:"Monto",type:"number",required:!0,placeholder:"Ej: 5000"},{name:"type",label:"Tipo",type:"select",required:!0,options:[{value:"income",label:"Ingreso"},{value:"expense",label:"Gasto"}]}],emptyState:{title:"No hay transacciones registradas",description:'Haga clic en el botón "Agregar" para comenzar a registrar las transacciones del cierre diario.'},modalTitles:{add:"Agregar Transacción",edit:"Modificar Transacción"},addButtonText:"Agregar Transacción",editButtonTooltip:"Modificar esta transacción",deleteButtonTooltip:"Eliminar esta transacción"}}}];return h.jsx(Ra,{title:e?"Editar Cierre Diario":"Nuevo Cierre Diario",fields:a,initialValues:t,service:n,backPath:"/daily-closures"})}function pne(){const{id:e}=Pt(),t=new gE,r=s=>new Date(s).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),n=s=>s.toLocaleString("es-CL",{style:"currency",currency:"CLP"}),a=s=>{var o,c;return[{label:"Fecha",value:r(s.date)},{label:"Total Ingresos",value:n(s.totalIncome)},{label:"Total Gastos",value:n(s.totalExpenses)},{label:"Diferencia Total",value:n(s.totalDifference)},{label:"Observaciones",value:s.observations||"-"},{label:"Cantidad de Cuentas",value:((o=s.accounts)==null?void 0:o.length)||0},{label:"Cantidad de Transacciones",value:((c=s.transactions)==null?void 0:c.length)||0}]};return e?h.jsx(Da,{title:"Cierre Diario",fields:a,editPath:`/daily-closures/${e}/edit`,backPath:"/daily-closures",service:t,id:e}):null}class gne{constructor(){gt(this,"customerOrderRepo");gt(this,"productionOrderRepo");gt(this,"purchaseOrderRepo");gt(this,"productRepo");gt(this,"customerRepo");gt(this,"supplierRepo");gt(this,"workerRepo");gt(this,"recipeRepo");this.customerOrderRepo=new r3(Vs),this.productionOrderRepo=new n3(Vs),this.purchaseOrderRepo=new e3(Vs),this.productRepo=new t3(Vs),this.customerRepo=new nP(Vs),this.supplierRepo=new ZM(Vs),this.workerRepo=new JM(Vs),this.recipeRepo=new a3(Vs)}async getDashboardData(){const[t,r,n,a,s,o,c,u]=await Promise.all([this.productRepo.findAll(),this.customerOrderRepo.findAll(),this.productionOrderRepo.findAll(),this.purchaseOrderRepo.findAll(),this.customerRepo.findAll(),this.supplierRepo.findAll(),this.workerRepo.findAll(),this.recipeRepo.findAll()]);console.log("Debug - Raw Data:",{products:t,recipes:u,customerOrders:r,productionOrders:n,purchaseOrders:a,customers:s,suppliers:o,workers:c});const f=Array.isArray(t)?t.length:0,m=Array.isArray(u)?u.length:0;console.log("Debug - Counts:",{productsCount:f,recipesCount:m,total:f+m});const g={totalProducts:f,totalRecipes:m,totalInventory:f+m,totalOrders:Array.isArray(r)?r.length:0,totalPurchases:Array.isArray(a)?a.length:0,totalProduction:Array.isArray(n)?n.length:0,totalSuppliers:Array.isArray(o)?o.length:0,totalCustomers:Array.isArray(s)?s.length:0,totalWorkers:Array.isArray(c)?c.length:0};console.log("Debug - Stats:",g);const v=new Map;a.forEach(k=>{var D;(D=k.products)==null||D.forEach(R=>{const P=t.find(I=>I.id===R.productId);if(P){const I=v.get(P.id)||{quantity:0,amount:0,count:0};v.set(P.id,{quantity:I.quantity+(Number(R.quantity)||0),amount:I.amount+(Number(R.quantity)||0)*(Number(P.purchasePrice)||0),count:I.count+1})}})});const x=new Map;n.forEach(k=>{var D;k.status===et.COMPLETADA&&((D=k.recipes)==null||D.forEach(R=>{const P=u.find(I=>I.id===R.recipeId);if(P){const I=x.get(P.id)||{quantity:0,amount:0,count:0};x.set(P.id,{quantity:I.quantity+(Number(R.quantity)||0),amount:I.amount+(Number(R.quantity)||0)*(Number(P.cost)||0),count:I.count+1})}}))});const y=new Map;r.forEach(k=>{var D;(D=k.products)==null||D.forEach(R=>{const P=t.find(I=>I.id===R.productId);if(P){const I=y.get(P.id)||{quantity:0,amount:0,count:0};y.set(P.id,{quantity:I.quantity+(Number(R.quantity)||0),amount:I.amount+(Number(R.quantity)||0)*(Number(P.salePrice)||0),count:I.count+1})}})});const w=k=>`$${k.toLocaleString("es-UY")}`,b=k=>k.toFixed(2),S=(k,D)=>`+${(k/D*100).toFixed(0)}%`,T=Array.from(v.entries()).map(([k,D])=>{const R=t.find(P=>P.id===k);return{name:(R==null?void 0:R.name)||"",quantity:b(D.quantity),amount:w(D.amount),trend:S(D.count,a.length),status:et.COMPLETADA}}).sort((k,D)=>Number(D.amount.slice(1).replace(/,/g,""))-Number(k.amount.slice(1).replace(/,/g,""))).slice(0,3),E=Array.from(x.entries()).map(([k,D])=>{const R=u.find(P=>P.id===k);return{name:(R==null?void 0:R.name)||"",quantity:b(D.quantity),amount:w(D.amount),trend:S(D.count,n.length),status:et.COMPLETADA}}).sort((k,D)=>Number(D.amount.slice(1).replace(/,/g,""))-Number(k.amount.slice(1).replace(/,/g,""))).slice(0,3),A=Array.from(y.entries()).map(([k,D])=>{const R=t.find(P=>P.id===k);return{name:(R==null?void 0:R.name)||"",quantity:b(D.quantity),amount:w(D.amount),trend:S(D.count,r.length),status:et.COMPLETADA}}).sort((k,D)=>Number(D.amount.slice(1).replace(/,/g,""))-Number(k.amount.slice(1).replace(/,/g,""))).slice(0,3);return{stats:g,topPurchased:T,topProduced:E,topOrdered:A}}}var vne=Object.defineProperty,xne=(e,t,r)=>t in e?vne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,I1=(e,t,r)=>(xne(e,typeof t!="symbol"?t+"":t,r),r);let yne=class{constructor(){I1(this,"current",this.detect()),I1(this,"handoffState","pending"),I1(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},fc=new yne;function bv(e){return fc.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function wv(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function _l(){let e=[],t={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),t.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return wv(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=_l();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let a of e.splice(n,1))a()}},dispose(){for(let r of e.splice(0))r()}};return t}function vE(){let[e]=N.useState(_l);return N.useEffect(()=>()=>e.dispose(),[e]),e}let Gn=(e,t)=>{fc.isServer?N.useEffect(e,t):N.useLayoutEffect(e,t)};function Ic(e){let t=N.useRef(e);return Gn(()=>{t.current=e},[e]),t}let wr=function(e){let t=Ic(e);return M.useCallback((...r)=>t.current(...r),[t])},bne=N.createContext(void 0);function wne(){return N.useContext(bne)}function Gb(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function fl(e,t,...r){if(e in t){let a=t[e];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,fl),n}var fg=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(fg||{}),zo=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(zo||{});function as(){let e=Ene();return N.useCallback(t=>_ne({mergeRefs:e,...t}),[e])}function _ne({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:a,visible:s=!0,name:o,mergeRefs:c}){c=c??Sne;let u=l3(t,e);if(s)return Qm(u,r,n,o,c);let f=a??0;if(f&2){let{static:m=!1,...g}=u;if(m)return Qm(g,r,n,o,c)}if(f&1){let{unmount:m=!0,...g}=u;return fl(m?0:1,{0(){return null},1(){return Qm({...g,hidden:!0,style:{display:"none"}},r,n,o,c)}})}return Qm(u,r,n,o,c)}function Qm(e,t={},r,n,a){let{as:s=r,children:o,refName:c="ref",...u}=O1(e,["unmount","static"]),f=e.ref!==void 0?{[c]:e.ref}:{},m=typeof o=="function"?o(t):o;"className"in u&&u.className&&typeof u.className=="function"&&(u.className=u.className(t)),u["aria-labelledby"]&&u["aria-labelledby"]===u.id&&(u["aria-labelledby"]=void 0);let g={};if(t){let v=!1,x=[];for(let[y,w]of Object.entries(t))typeof w=="boolean"&&(v=!0),w===!0&&x.push(y.replace(/([A-Z])/g,b=>`-${b.toLowerCase()}`));if(v){g["data-headlessui-state"]=x.join(" ");for(let y of x)g[`data-${y}`]=""}}if(s===N.Fragment&&(Object.keys(Kl(u)).length>0||Object.keys(Kl(g)).length>0))if(!N.isValidElement(m)||Array.isArray(m)&&m.length>1){if(Object.keys(Kl(u)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Kl(u)).concat(Object.keys(Kl(g))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=m.props,x=v==null?void 0:v.className,y=typeof x=="function"?(...S)=>Gb(x(...S),u.className):Gb(x,u.className),w=y?{className:y}:{},b=l3(m.props,Kl(O1(u,["ref"])));for(let S in g)S in b&&delete g[S];return N.cloneElement(m,Object.assign({},b,g,f,{ref:a(Cne(m),f.ref)},w))}return N.createElement(s,Object.assign({},O1(u,["ref"]),s!==N.Fragment&&f,s!==N.Fragment&&g),m)}function Ene(){let e=N.useRef([]),t=N.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function Sne(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function l3(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[a=>{var s;return(s=a==null?void 0:a.preventDefault)==null?void 0:s.call(a)}]);for(let n in r)Object.assign(t,{[n](a,...s){let o=r[n];for(let c of o){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;c(a,...s)}}});return t}function da(e){var t;return Object.assign(N.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Kl(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function O1(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function Cne(e){return M.version.split(".")[0]>="19"?e.props.ref:e.ref}let Tne="span";var hg=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(hg||{});function Nne(e,t){var r;let{features:n=1,...a}=e,s={ref:t,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return as()({ourProps:s,theirProps:a,slot:{},defaultTag:Tne,name:"Hidden"})}let Yb=da(Nne),c3=Symbol();function Ane(e,t=!0){return Object.assign(e,{[c3]:t})}function ui(...e){let t=N.useRef(e);N.useEffect(()=>{t.current=e},[e]);let r=wr(n=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return e.every(n=>n==null||(n==null?void 0:n[c3]))?void 0:r}let xE=N.createContext(null);xE.displayName="DescriptionContext";function u3(){let e=N.useContext(xE);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,u3),t}return e}function kne(){let[e,t]=N.useState([]);return[e.length>0?e.join(" "):void 0,N.useMemo(()=>function(r){let n=wr(s=>(t(o=>[...o,s]),()=>t(o=>{let c=o.slice(),u=c.indexOf(s);return u!==-1&&c.splice(u,1),c}))),a=N.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return M.createElement(xE.Provider,{value:a},r.children)},[t])]}let Rne="p";function Dne(e,t){let r=N.useId(),n=wne(),{id:a=`headlessui-description-${r}`,...s}=e,o=u3(),c=ui(t);Gn(()=>o.register(a),[a,o.register]);let u=n||!1,f=N.useMemo(()=>({...o.slot,disabled:u}),[o.slot,u]),m={ref:c,...o.props,id:a};return as()({ourProps:m,theirProps:s,slot:f,defaultTag:Rne,name:o.name||"Description"})}let Ine=da(Dne),One=Object.assign(Ine,{});var d3=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(d3||{});let Pne=N.createContext(()=>{});function Mne({value:e,children:t}){return M.createElement(Pne.Provider,{value:e},t)}let Fne=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};function f3(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let o=t[a].call(r,...s);o&&(r=o,n.forEach(c=>c()))}}}function h3(e){return N.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let jne=new Fne(()=>f3(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let r=this.slice();return r.splice(t,1),r}}));function Td(e,t){let r=jne.get(t),n=N.useId(),a=h3(r);if(Gn(()=>{if(e)return r.dispatch("ADD",n),()=>r.dispatch("REMOVE",n)},[r,e]),!e)return!1;let s=a.indexOf(n),o=a.length;return s===-1&&(s=o,o+=1),s===o-1}let Xb=new Map,sh=new Map;function Yk(e){var t;let r=(t=sh.get(e))!=null?t:0;return sh.set(e,r+1),r!==0?()=>Xk(e):(Xb.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Xk(e))}function Xk(e){var t;let r=(t=sh.get(e))!=null?t:1;if(r===1?sh.delete(e):sh.set(e,r-1),r!==1)return;let n=Xb.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,Xb.delete(e))}function Lne(e,{allowed:t,disallowed:r}={}){let n=Td(e,"inert-others");Gn(()=>{var a,s;if(!n)return;let o=_l();for(let u of(a=r==null?void 0:r())!=null?a:[])u&&o.add(Yk(u));let c=(s=t==null?void 0:t())!=null?s:[];for(let u of c){if(!u)continue;let f=bv(u);if(!f)continue;let m=u.parentElement;for(;m&&m!==f.body;){for(let g of m.children)c.some(v=>g.contains(v))||o.add(Yk(g));m=m.parentElement}}return o.dispose},[n,t,r])}function Bne(e,t,r){let n=Ic(a=>{let s=a.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&r()});N.useEffect(()=>{if(!e)return;let a=t===null?null:t instanceof HTMLElement?t:t.current;if(!a)return;let s=_l();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>n.current(a));o.observe(a),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>n.current(a));o.observe(a),s.add(()=>o.disconnect())}return()=>s.dispose()},[t,n,e])}let mg=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Une=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Pi=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Pi||{}),Kb=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Kb||{}),Vne=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Vne||{});function Hne(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(mg)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function $ne(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Une)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var m3=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(m3||{});function zne(e,t=0){var r;return e===((r=bv(e))==null?void 0:r.body)?!1:fl(t,{0(){return e.matches(mg)},1(){let n=e;for(;n!==null;){if(n.matches(mg))return!0;n=n.parentElement}return!1}})}var Wne=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Wne||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function zi(e){e==null||e.focus({preventScroll:!0})}let qne=["textarea","input"].join(",");function Gne(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,qne))!=null?r:!1}function Yne(e,t=r=>r){return e.slice().sort((r,n)=>{let a=t(r),s=t(n);if(a===null||s===null)return 0;let o=a.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ih(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?r?Yne(e):e:t&64?$ne(e):Hne(e);a.length>0&&o.length>1&&(o=o.filter(x=>!a.some(y=>y!=null&&"current"in y?(y==null?void 0:y.current)===x:y===x))),n=n??s.activeElement;let c=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(n))-1;if(t&4)return Math.max(0,o.indexOf(n))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},m=0,g=o.length,v;do{if(m>=g||m+g<=0)return 0;let x=u+m;if(t&16)x=(x+g)%g;else{if(x<0)return 3;if(x>=g)return 1}v=o[x],v==null||v.focus(f),m+=c}while(v!==s.activeElement);return t&6&&Gne(v)&&v.select(),2}function p3(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Xne(){return/Android/gi.test(window.navigator.userAgent)}function Kne(){return p3()||Xne()}function jf(e,t,r,n){let a=Ic(r);N.useEffect(()=>{if(!e)return;function s(o){a.current(o)}return document.addEventListener(t,s,n),()=>document.removeEventListener(t,s,n)},[e,t,n])}function g3(e,t,r,n){let a=Ic(r);N.useEffect(()=>{if(!e)return;function s(o){a.current(o)}return window.addEventListener(t,s,n),()=>window.removeEventListener(t,s,n)},[e,t,n])}const Kk=30;function Qne(e,t,r){let n=Td(e,"outside-click"),a=Ic(r),s=N.useCallback(function(u,f){if(u.defaultPrevented)return;let m=f(u);if(m===null||!m.getRootNode().contains(m)||!m.isConnected)return;let g=function v(x){return typeof x=="function"?v(x()):Array.isArray(x)||x instanceof Set?x:[x]}(t);for(let v of g)if(v!==null&&(v.contains(m)||u.composed&&u.composedPath().includes(v)))return;return!zne(m,m3.Loose)&&m.tabIndex!==-1&&u.preventDefault(),a.current(u,m)},[a,t]),o=N.useRef(null);jf(n,"pointerdown",u=>{var f,m;o.current=((m=(f=u.composedPath)==null?void 0:f.call(u))==null?void 0:m[0])||u.target},!0),jf(n,"mousedown",u=>{var f,m;o.current=((m=(f=u.composedPath)==null?void 0:f.call(u))==null?void 0:m[0])||u.target},!0),jf(n,"click",u=>{Kne()||o.current&&(s(u,()=>o.current),o.current=null)},!0);let c=N.useRef({x:0,y:0});jf(n,"touchstart",u=>{c.current.x=u.touches[0].clientX,c.current.y=u.touches[0].clientY},!0),jf(n,"touchend",u=>{let f={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(f.x-c.current.x)>=Kk||Math.abs(f.y-c.current.y)>=Kk))return s(u,()=>u.target instanceof HTMLElement?u.target:null)},!0),g3(n,"blur",u=>s(u,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function v0(...e){return N.useMemo(()=>bv(...e),[...e])}function v3(e,t,r,n){let a=Ic(r);N.useEffect(()=>{e=e??window;function s(o){a.current(o)}return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)},[e,t,n])}function Zne(){let e;return{before({doc:t}){var r;let n=t.documentElement,a=(r=t.defaultView)!=null?r:window;e=Math.max(0,a.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,a=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,e-a);r.style(n,"paddingRight",`${s}px`)}}}function Jne(){return p3()?{before({doc:e,d:t,meta:r}){function n(a){return r.containers.flatMap(s=>s()).some(s=>s.contains(a))}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let c=_l();c.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>c.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,o=null;t.addEventListener(e,"click",c=>{if(c.target instanceof HTMLElement)try{let u=c.target.closest("a");if(!u)return;let{hash:f}=new URL(u.href),m=e.querySelector(f);m&&!n(m)&&(o=m)}catch{}},!0),t.addEventListener(e,"touchstart",c=>{if(c.target instanceof HTMLElement)if(n(c.target)){let u=c.target;for(;u.parentElement&&n(u.parentElement);)u=u.parentElement;t.style(u,"overscrollBehavior","contain")}else t.style(c.target,"touchAction","none")}),t.addEventListener(e,"touchmove",c=>{if(c.target instanceof HTMLElement){if(c.target.tagName==="INPUT")return;if(n(c.target)){let u=c.target;for(;u.parentElement&&u.dataset.headlessuiPortal!==""&&!(u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth);)u=u.parentElement;u.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),t.add(()=>{var c;let u=(c=window.scrollY)!=null?c:window.pageYOffset;s!==u&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function eae(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function tae(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let cc=f3(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:_l(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:tae(r)},a=[Jne(),Zne(),eae()];a.forEach(({before:s})=>s==null?void 0:s(n)),a.forEach(({after:s})=>s==null?void 0:s(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});cc.subscribe(()=>{let e=cc.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&cc.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&cc.dispatch("TEARDOWN",r)}});function rae(e,t,r=()=>({containers:[]})){let n=h3(cc),a=t?n.get(t):void 0,s=a?a.count>0:!1;return Gn(()=>{if(!(!t||!e))return cc.dispatch("PUSH",t,r),()=>cc.dispatch("POP",t,r)},[e,t]),s}function nae(e,t,r=()=>[document.body]){let n=Td(e,"scroll-lock");rae(n,t,a=>{var s;return{containers:[...(s=a.containers)!=null?s:[],r]}})}function aae(e=0){let[t,r]=N.useState(e),n=N.useCallback(u=>r(u),[t]),a=N.useCallback(u=>r(f=>f|u),[t]),s=N.useCallback(u=>(t&u)===u,[t]),o=N.useCallback(u=>r(f=>f&~u),[r]),c=N.useCallback(u=>r(f=>f^u),[r]);return{flags:t,setFlag:n,addFlag:a,hasFlag:s,removeFlag:o,toggleFlag:c}}var sae={},Qk,Zk;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Qk=process==null?void 0:sae)==null?void 0:Qk.NODE_ENV)==="test"&&typeof((Zk=Element==null?void 0:Element.prototype)==null?void 0:Zk.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var iae=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(iae||{});function oae(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function lae(e,t,r,n){let[a,s]=N.useState(r),{hasFlag:o,addFlag:c,removeFlag:u}=aae(e&&a?3:0),f=N.useRef(!1),m=N.useRef(!1),g=vE();return Gn(()=>{var v;if(e){if(r&&s(!0),!t){r&&c(3);return}return(v=n==null?void 0:n.start)==null||v.call(n,r),cae(t,{inFlight:f,prepare(){m.current?m.current=!1:m.current=f.current,f.current=!0,!m.current&&(r?(c(3),u(4)):(c(4),u(2)))},run(){m.current?r?(u(3),c(4)):(u(4),c(3)):r?u(1):c(1)},done(){var x;m.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(f.current=!1,u(7),r||s(!1),(x=n==null?void 0:n.end)==null||x.call(n,r))}})}},[e,r,t,g]),e?[a,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function cae(e,{prepare:t,run:r,done:n,inFlight:a}){let s=_l();return dae(e,{prepare:t,inFlight:a}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(uae(e,n))})}),s.dispose}function uae(e,t){var r,n;let a=_l();if(!e)return a.dispose;let s=!1;a.add(()=>{s=!0});let o=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(c=>c instanceof CSSTransition))!=null?n:[];return o.length===0?(t(),a.dispose):(Promise.allSettled(o.map(c=>c.finished)).then(()=>{s||t()}),a.dispose)}function dae(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function yE(e,t){let r=N.useRef([]),n=wr(e);N.useEffect(()=>{let a=[...r.current];for(let[s,o]of t.entries())if(r.current[s]!==o){let c=n(t,a);return r.current=t,c}},[n,...t])}let _v=N.createContext(null);_v.displayName="OpenClosedContext";var xs=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(xs||{});function Ev(){return N.useContext(_v)}function fae({value:e,children:t}){return M.createElement(_v.Provider,{value:e},t)}function hae({children:e}){return M.createElement(_v.Provider,{value:null},e)}function mae(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Vo=[];mae(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||Vo[0]===t.target)return;let r=t.target;r=r.closest(mg),Vo.unshift(r??t.target),Vo=Vo.filter(n=>n!=null&&n.isConnected),Vo.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function x3(e){let t=wr(e),r=N.useRef(!1);N.useEffect(()=>(r.current=!1,()=>{r.current=!0,wv(()=>{r.current&&t()})}),[t])}function pae(){let e=typeof document>"u";return"useSyncExternalStore"in gh?(t=>t.useSyncExternalStore)(gh)(()=>()=>{},()=>!1,()=>!e):!1}function x0(){let e=pae(),[t,r]=N.useState(fc.isHandoffComplete);return t&&fc.isHandoffComplete===!1&&r(!1),N.useEffect(()=>{t!==!0&&r(!0)},[t]),N.useEffect(()=>fc.handoff(),[]),e?!1:t}let y3=N.createContext(!1);function gae(){return N.useContext(y3)}function Jk(e){return M.createElement(y3.Provider,{value:e.force},e.children)}function vae(e){let t=gae(),r=N.useContext(w3),n=v0(e),[a,s]=N.useState(()=>{var o;if(!t&&r!==null)return(o=r.current)!=null?o:null;if(fc.isServer)return null;let c=n==null?void 0:n.getElementById("headlessui-portal-root");if(c)return c;if(n===null)return null;let u=n.createElement("div");return u.setAttribute("id","headlessui-portal-root"),n.body.appendChild(u)});return N.useEffect(()=>{a!==null&&(n!=null&&n.body.contains(a)||n==null||n.body.appendChild(a))},[a,n]),N.useEffect(()=>{t||r!==null&&s(r.current)},[r,s,t]),a}let b3=N.Fragment,xae=da(function(e,t){let r=e,n=N.useRef(null),a=ui(Ane(g=>{n.current=g}),t),s=v0(n),o=vae(n),[c]=N.useState(()=>{var g;return fc.isServer?null:(g=s==null?void 0:s.createElement("div"))!=null?g:null}),u=N.useContext(Qb),f=x0();Gn(()=>{!o||!c||o.contains(c)||(c.setAttribute("data-headlessui-portal",""),o.appendChild(c))},[o,c]),Gn(()=>{if(c&&u)return u.register(c)},[u,c]),x3(()=>{var g;!o||!c||(c instanceof Node&&o.contains(c)&&o.removeChild(c),o.childNodes.length<=0&&((g=o.parentElement)==null||g.removeChild(o)))});let m=as();return f?!o||!c?null:Kh.createPortal(m({ourProps:{ref:a},theirProps:r,slot:{},defaultTag:b3,name:"Portal"}),c):null});function yae(e,t){let r=ui(t),{enabled:n=!0,...a}=e,s=as();return n?M.createElement(xae,{...a,ref:r}):s({ourProps:{ref:r},theirProps:a,slot:{},defaultTag:b3,name:"Portal"})}let bae=N.Fragment,w3=N.createContext(null);function wae(e,t){let{target:r,...n}=e,a={ref:ui(t)},s=as();return M.createElement(w3.Provider,{value:r},s({ourProps:a,theirProps:n,defaultTag:bae,name:"Popover.Group"}))}let Qb=N.createContext(null);function _ae(){let e=N.useContext(Qb),t=N.useRef([]),r=wr(s=>(t.current.push(s),e&&e.register(s),()=>n(s))),n=wr(s=>{let o=t.current.indexOf(s);o!==-1&&t.current.splice(o,1),e&&e.unregister(s)}),a=N.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,N.useMemo(()=>function({children:s}){return M.createElement(Qb.Provider,{value:a},s)},[a])]}let Eae=da(yae),_3=da(wae),Sae=Object.assign(Eae,{Group:_3});function Cae(e,t=typeof document<"u"?document.defaultView:null,r){let n=Td(e,"escape");v3(t,"keydown",a=>{n&&(a.defaultPrevented||a.key===d3.Escape&&r(a))})}function Tae(){var e;let[t]=N.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=N.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Gn(()=>{if(!t)return;function a(s){n(s.matches)}return t.addEventListener("change",a),()=>t.removeEventListener("change",a)},[t]),r}function Nae({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=v0(r),a=wr(()=>{var s,o;let c=[];for(let u of e)u!==null&&(u instanceof HTMLElement?c.push(u):"current"in u&&u.current instanceof HTMLElement&&c.push(u.current));if(t!=null&&t.current)for(let u of t.current)c.push(u);for(let u of(s=n==null?void 0:n.querySelectorAll("html > *, body > *"))!=null?s:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(r&&(u.contains(r)||u.contains((o=r==null?void 0:r.getRootNode())==null?void 0:o.host))||c.some(f=>u.contains(f))||c.push(u));return c});return{resolveContainers:a,contains:wr(s=>a().some(o=>o.contains(s)))}}let E3=N.createContext(null);function eR({children:e,node:t}){let[r,n]=N.useState(null),a=S3(t??r);return M.createElement(E3.Provider,{value:a},e,a===null&&M.createElement(Yb,{features:hg.Hidden,ref:s=>{var o,c;if(s){for(let u of(c=(o=bv(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?c:[])if(u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u!=null&&u.contains(s)){n(u);break}}}}))}function S3(e=null){var t;return(t=N.useContext(E3))!=null?t:e}function bE(){let e=N.useRef(!1);return Gn(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var $f=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))($f||{});function Aae(){let e=N.useRef(0);return g3(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function C3(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}let kae="div";var rc=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(rc||{});function Rae(e,t){let r=N.useRef(null),n=ui(r,t),{initialFocus:a,initialFocusFallback:s,containers:o,features:c=15,...u}=e;x0()||(c=0);let f=v0(r);Pae(c,{ownerDocument:f});let m=Mae(c,{ownerDocument:f,container:r,initialFocus:a,initialFocusFallback:s});Fae(c,{ownerDocument:f,container:r,containers:o,previousActiveElement:m});let g=Aae(),v=wr(T=>{let E=r.current;E&&(A=>A())(()=>{fl(g.current,{[$f.Forwards]:()=>{ih(E,Pi.First,{skipElements:[T.relatedTarget,s]})},[$f.Backwards]:()=>{ih(E,Pi.Last,{skipElements:[T.relatedTarget,s]})}})})}),x=Td(!!(c&2),"focus-trap#tab-lock"),y=vE(),w=N.useRef(!1),b={ref:n,onKeyDown(T){T.key=="Tab"&&(w.current=!0,y.requestAnimationFrame(()=>{w.current=!1}))},onBlur(T){if(!(c&4))return;let E=C3(o);r.current instanceof HTMLElement&&E.add(r.current);let A=T.relatedTarget;A instanceof HTMLElement&&A.dataset.headlessuiFocusGuard!=="true"&&(T3(E,A)||(w.current?ih(r.current,fl(g.current,{[$f.Forwards]:()=>Pi.Next,[$f.Backwards]:()=>Pi.Previous})|Pi.WrapAround,{relativeTo:T.target}):T.target instanceof HTMLElement&&zi(T.target)))}},S=as();return M.createElement(M.Fragment,null,x&&M.createElement(Yb,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:hg.Focusable}),S({ourProps:b,theirProps:u,defaultTag:kae,name:"FocusTrap"}),x&&M.createElement(Yb,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:hg.Focusable}))}let Dae=da(Rae),Iae=Object.assign(Dae,{features:rc});function Oae(e=!0){let t=N.useRef(Vo.slice());return yE(([r],[n])=>{n===!0&&r===!1&&wv(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=Vo.slice())},[e,Vo,t]),wr(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function Pae(e,{ownerDocument:t}){let r=!!(e&8),n=Oae(r);yE(()=>{r||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&zi(n())},[r]),x3(()=>{r&&zi(n())})}function Mae(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:a}){let s=N.useRef(null),o=Td(!!(e&1),"focus-trap#initial-focus"),c=bE();return yE(()=>{if(e===0)return;if(!o){a!=null&&a.current&&zi(a.current);return}let u=r.current;u&&wv(()=>{if(!c.current)return;let f=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===f){s.current=f;return}}else if(u.contains(f)){s.current=f;return}if(n!=null&&n.current)zi(n.current);else{if(e&16){if(ih(u,Pi.First|Pi.AutoFocus)!==Kb.Error)return}else if(ih(u,Pi.First)!==Kb.Error)return;if(a!=null&&a.current&&(zi(a.current),(t==null?void 0:t.activeElement)===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=t==null?void 0:t.activeElement})},[a,o,e]),s}function Fae(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:a}){let s=bE(),o=!!(e&4);v3(t==null?void 0:t.defaultView,"focus",c=>{if(!o||!s.current)return;let u=C3(n);r.current instanceof HTMLElement&&u.add(r.current);let f=a.current;if(!f)return;let m=c.target;m&&m instanceof HTMLElement?T3(u,m)?(a.current=m,zi(m)):(c.preventDefault(),c.stopPropagation(),zi(f)):zi(a.current)},!0)}function T3(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function N3(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:k3)!==N.Fragment||M.Children.count(e.children)===1}let Sv=N.createContext(null);Sv.displayName="TransitionContext";var jae=(e=>(e.Visible="visible",e.Hidden="hidden",e))(jae||{});function Lae(){let e=N.useContext(Sv);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Bae(){let e=N.useContext(Cv);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Cv=N.createContext(null);Cv.displayName="NestingContext";function Tv(e){return"children"in e?Tv(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function A3(e,t){let r=Ic(e),n=N.useRef([]),a=bE(),s=vE(),o=wr((x,y=zo.Hidden)=>{let w=n.current.findIndex(({el:b})=>b===x);w!==-1&&(fl(y,{[zo.Unmount](){n.current.splice(w,1)},[zo.Hidden](){n.current[w].state="hidden"}}),s.microTask(()=>{var b;!Tv(n)&&a.current&&((b=r.current)==null||b.call(r))}))}),c=wr(x=>{let y=n.current.find(({el:w})=>w===x);return y?y.state!=="visible"&&(y.state="visible"):n.current.push({el:x,state:"visible"}),()=>o(x,zo.Unmount)}),u=N.useRef([]),f=N.useRef(Promise.resolve()),m=N.useRef({enter:[],leave:[]}),g=wr((x,y,w)=>{u.current.splice(0),t&&(t.chains.current[y]=t.chains.current[y].filter(([b])=>b!==x)),t==null||t.chains.current[y].push([x,new Promise(b=>{u.current.push(b)})]),t==null||t.chains.current[y].push([x,new Promise(b=>{Promise.all(m.current[y].map(([S,T])=>T)).then(()=>b())})]),y==="enter"?f.current=f.current.then(()=>t==null?void 0:t.wait.current).then(()=>w(y)):w(y)}),v=wr((x,y,w)=>{Promise.all(m.current[y].splice(0).map(([b,S])=>S)).then(()=>{var b;(b=u.current.shift())==null||b()}).then(()=>w(y))});return N.useMemo(()=>({children:n,register:c,unregister:o,onStart:g,onStop:v,wait:f,chains:m}),[c,o,n,g,v,m,f])}let k3=N.Fragment,R3=fg.RenderStrategy;function Uae(e,t){var r,n;let{transition:a=!0,beforeEnter:s,afterEnter:o,beforeLeave:c,afterLeave:u,enter:f,enterFrom:m,enterTo:g,entered:v,leave:x,leaveFrom:y,leaveTo:w,...b}=e,[S,T]=N.useState(null),E=N.useRef(null),A=N3(e),k=ui(...A?[E,t,T]:t===null?[]:[t]),D=(r=b.unmount)==null||r?zo.Unmount:zo.Hidden,{show:R,appear:P,initial:I}=Lae(),[B,H]=N.useState(R?"visible":"hidden"),z=Bae(),{register:G,unregister:ne}=z;Gn(()=>G(E),[G,E]),Gn(()=>{if(D===zo.Hidden&&E.current){if(R&&B!=="visible"){H("visible");return}return fl(B,{hidden:()=>ne(E),visible:()=>G(E)})}},[B,E,G,ne,R,D]);let se=x0();Gn(()=>{if(A&&se&&B==="visible"&&E.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[E,B,se,A]);let L=I&&!P,oe=P&&R&&I,le=N.useRef(!1),W=A3(()=>{le.current||(H("hidden"),ne(E))},z),V=wr(be=>{le.current=!0;let Ee=be?"enter":"leave";W.onStart(E,Ee,ue=>{ue==="enter"?s==null||s():ue==="leave"&&(c==null||c())})}),ce=wr(be=>{let Ee=be?"enter":"leave";le.current=!1,W.onStop(E,Ee,ue=>{ue==="enter"?o==null||o():ue==="leave"&&(u==null||u())}),Ee==="leave"&&!Tv(W)&&(H("hidden"),ne(E))});N.useEffect(()=>{A&&a||(V(R),ce(R))},[R,A,a]);let j=!(!a||!A||!se||L),[,ee]=lae(j,S,R,{start:V,end:ce}),K=Kl({ref:k,className:((n=Gb(b.className,oe&&f,oe&&m,ee.enter&&f,ee.enter&&ee.closed&&m,ee.enter&&!ee.closed&&g,ee.leave&&x,ee.leave&&!ee.closed&&y,ee.leave&&ee.closed&&w,!ee.transition&&R&&v))==null?void 0:n.trim())||void 0,...oae(ee)}),Q=0;B==="visible"&&(Q|=xs.Open),B==="hidden"&&(Q|=xs.Closed),ee.enter&&(Q|=xs.Opening),ee.leave&&(Q|=xs.Closing);let re=as();return M.createElement(Cv.Provider,{value:W},M.createElement(fae,{value:Q},re({ourProps:K,theirProps:b,defaultTag:k3,features:R3,visible:B==="visible",name:"Transition.Child"})))}function Vae(e,t){let{show:r,appear:n=!1,unmount:a=!0,...s}=e,o=N.useRef(null),c=N3(e),u=ui(...c?[o,t]:t===null?[]:[t]);x0();let f=Ev();if(r===void 0&&f!==null&&(r=(f&xs.Open)===xs.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[m,g]=N.useState(r?"visible":"hidden"),v=A3(()=>{r||g("hidden")}),[x,y]=N.useState(!0),w=N.useRef([r]);Gn(()=>{x!==!1&&w.current[w.current.length-1]!==r&&(w.current.push(r),y(!1))},[w,r]);let b=N.useMemo(()=>({show:r,appear:n,initial:x}),[r,n,x]);Gn(()=>{r?g("visible"):!Tv(v)&&o.current!==null&&g("hidden")},[r,v]);let S={unmount:a},T=wr(()=>{var k;x&&y(!1),(k=e.beforeEnter)==null||k.call(e)}),E=wr(()=>{var k;x&&y(!1),(k=e.beforeLeave)==null||k.call(e)}),A=as();return M.createElement(Cv.Provider,{value:v},M.createElement(Sv.Provider,{value:b},A({ourProps:{...S,as:N.Fragment,children:M.createElement(D3,{ref:u,...S,...s,beforeEnter:T,beforeLeave:E})},theirProps:{},defaultTag:N.Fragment,features:R3,visible:m==="visible",name:"Transition"})))}function Hae(e,t){let r=N.useContext(Sv)!==null,n=Ev()!==null;return M.createElement(M.Fragment,null,!r&&n?M.createElement(Zb,{ref:t,...e}):M.createElement(D3,{ref:t,...e}))}let Zb=da(Vae),D3=da(Uae),wE=da(Hae),$ae=Object.assign(Zb,{Child:wE,Root:Zb});var zae=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(zae||{}),Wae=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Wae||{});let qae={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},_E=N.createContext(null);_E.displayName="DialogContext";function Nv(e){let t=N.useContext(_E);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Nv),r}return t}function Gae(e,t){return fl(t.type,qae,e,t)}let tR=da(function(e,t){let r=N.useId(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:o,role:c="dialog",autoFocus:u=!0,__demoMode:f=!1,unmount:m=!1,...g}=e,v=N.useRef(!1);c=function(){return c==="dialog"||c==="alertdialog"?c:(v.current||(v.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let x=Ev();a===void 0&&x!==null&&(a=(x&xs.Open)===xs.Open);let y=N.useRef(null),w=ui(y,t),b=v0(y),S=a?0:1,[T,E]=N.useReducer(Gae,{titleId:null,descriptionId:null,panelRef:N.createRef()}),A=wr(()=>s(!1)),k=wr(ce=>E({type:0,id:ce})),D=x0()?S===0:!1,[R,P]=_ae(),I={get current(){var ce;return(ce=T.panelRef.current)!=null?ce:y.current}},B=S3(),{resolveContainers:H}=Nae({mainTreeNode:B,portals:R,defaultContainers:[I]}),z=x!==null?(x&xs.Closing)===xs.Closing:!1;Lne(f||z?!1:D,{allowed:wr(()=>{var ce,j;return[(j=(ce=y.current)==null?void 0:ce.closest("[data-headlessui-portal]"))!=null?j:null]}),disallowed:wr(()=>{var ce;return[(ce=B==null?void 0:B.closest("body > *:not(#headlessui-portal-root)"))!=null?ce:null]})}),Qne(D,H,ce=>{ce.preventDefault(),A()}),Cae(D,b==null?void 0:b.defaultView,ce=>{ce.preventDefault(),ce.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),A()}),nae(f||z?!1:D,b,H),Bne(D,y,A);let[G,ne]=kne(),se=N.useMemo(()=>[{dialogState:S,close:A,setTitleId:k,unmount:m},T],[S,T,A,k,m]),L=N.useMemo(()=>({open:S===0}),[S]),oe={ref:w,id:n,role:c,tabIndex:-1,"aria-modal":f?void 0:S===0?!0:void 0,"aria-labelledby":T.titleId,"aria-describedby":G,unmount:m},le=!Tae(),W=rc.None;D&&!f&&(W|=rc.RestoreFocus,W|=rc.TabLock,u&&(W|=rc.AutoFocus),le&&(W|=rc.InitialFocus));let V=as();return M.createElement(hae,null,M.createElement(Jk,{force:!0},M.createElement(Sae,null,M.createElement(_E.Provider,{value:se},M.createElement(_3,{target:y},M.createElement(Jk,{force:!1},M.createElement(ne,{slot:L},M.createElement(P,null,M.createElement(Iae,{initialFocus:o,initialFocusFallback:y,containers:H,features:W},M.createElement(Mne,{value:A},V({ourProps:oe,theirProps:g,slot:L,defaultTag:Yae,features:Xae,visible:S===0,name:"Dialog"})))))))))))}),Yae="div",Xae=fg.RenderStrategy|fg.Static;function Kae(e,t){let{transition:r=!1,open:n,...a}=e,s=Ev(),o=e.hasOwnProperty("open")||s!==null,c=e.hasOwnProperty("onClose");if(!o&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!a.static?M.createElement(eR,null,M.createElement($ae,{show:n,transition:r,unmount:a.unmount},M.createElement(tR,{ref:t,...a}))):M.createElement(eR,null,M.createElement(tR,{ref:t,open:n,...a}))}let Qae="div";function Zae(e,t){let r=N.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:a=!1,...s}=e,[{dialogState:o,unmount:c},u]=Nv("Dialog.Panel"),f=ui(t,u.panelRef),m=N.useMemo(()=>({open:o===0}),[o]),g=wr(b=>{b.stopPropagation()}),v={ref:f,id:n,onClick:g},x=a?wE:N.Fragment,y=a?{unmount:c}:{},w=as();return M.createElement(x,{...y},w({ourProps:v,theirProps:s,slot:m,defaultTag:Qae,name:"Dialog.Panel"}))}let Jae="div";function ese(e,t){let{transition:r=!1,...n}=e,[{dialogState:a,unmount:s}]=Nv("Dialog.Backdrop"),o=N.useMemo(()=>({open:a===0}),[a]),c={ref:t,"aria-hidden":!0},u=r?wE:N.Fragment,f=r?{unmount:s}:{},m=as();return M.createElement(u,{...f},m({ourProps:c,theirProps:n,slot:o,defaultTag:Jae,name:"Dialog.Backdrop"}))}let tse="h2";function rse(e,t){let r=N.useId(),{id:n=`headlessui-dialog-title-${r}`,...a}=e,[{dialogState:s,setTitleId:o}]=Nv("Dialog.Title"),c=ui(t);N.useEffect(()=>(o(n),()=>o(null)),[n,o]);let u=N.useMemo(()=>({open:s===0}),[s]),f={ref:c,id:n};return as()({ourProps:f,theirProps:a,slot:u,defaultTag:tse,name:"Dialog.Title"})}let nse=da(Kae),ase=da(Zae);da(ese);let sse=da(rse),Hu=Object.assign(nse,{Panel:ase,Title:sse,Description:One});function ise({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const I3=N.forwardRef(ise),ose={EXENTO:0,MINIMO:10,BASICO:22},lse=[{value:"EXENTO",label:"IVA Exento"},{value:"MINIMO",label:"IVA Mínimo (10%)"},{value:"BASICO",label:"IVA Básico (22%)"}],P1="price-calculator-data";function cse({isOpen:e,onClose:t}){const[r,n]=N.useState({totalAmount:"",units:"1",profitPercentage:"25",ivaType:"EXENTO"});N.useEffect(()=>{const c=localStorage.getItem(P1);c&&n(JSON.parse(c))},[]);const a=dse(r),s=c=>u=>{const f=typeof u=="string"?u:u.target.value;if(c==="profitPercentage"&&parseFloat(f)>=100){dt.error("El porcentaje de ganancia debe ser menor a 100%");return}const m={...r,[c]:c==="ivaType"?u:f,lastUsed:new Date().toLocaleString()};n(m),localStorage.setItem(P1,JSON.stringify(m))},o=()=>{const c={totalAmount:"",units:"1",profitPercentage:"25",ivaType:"EXENTO",lastUsed:new Date().toLocaleString()};n(c),localStorage.setItem(P1,JSON.stringify(c))};return h.jsxs(Hu,{open:e,onClose:t,className:"relative z-50",children:[h.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),h.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:h.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:h.jsxs(Hu.Panel,{className:"mx-auto max-w-3xl rounded-xl bg-white dark:bg-gray-800 shadow-2xl w-full",children:[h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 rounded-t-xl",children:[h.jsx(Hu.Title,{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Calculadora de Precios"}),h.jsx("button",{type:"button",onClick:t,className:"rounded-lg p-1.5 text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600",children:h.jsx(I3,{className:"h-5 w-5"})})]}),h.jsx("div",{className:"max-h-[calc(100vh-12rem)] overflow-y-auto",children:h.jsxs("div",{className:"flex flex-col space-y-4 p-4",children:[h.jsxs("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 dark:from-gray-700 dark:to-gray-800 p-4 rounded-lg border border-primary-200 dark:border-gray-600 shadow-sm",children:[h.jsxs("h3",{className:"text-base font-semibold text-primary-900 dark:text-white mb-4 flex items-center",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 0v12h8V4H6z",clipRule:"evenodd"})}),"Datos de Entrada"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx(dn,{label:"$ Importe Total",type:"number",value:r.totalAmount,onChange:s("totalAmount"),placeholder:"0.00",min:"0",step:"0.01",className:"font-bold"}),h.jsx(dn,{label:"Cantidad",type:"number",value:r.units,onChange:s("units"),placeholder:"1",min:"1",className:"font-bold"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(ul,{label:"IVA",value:r.ivaType,onChange:s("ivaType"),options:lse,className:"font-bold"}),h.jsx(dn,{label:"% Ganancia",type:"number",value:r.profitPercentage,onChange:s("profitPercentage"),placeholder:"25",min:"0",max:"100",className:"font-bold"})]})]})]}),h.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-600 shadow-sm",children:[h.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2 flex items-center",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-primary-500",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z",clipRule:"evenodd"})}),"Resultados del Cálculo"]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[h.jsx(Zm,{label:"Costo Unitario",value:a.unitCost}),h.jsx(Zm,{label:"Ganancia por Unidad",value:a.profitPerUnit}),h.jsx(Zm,{label:"IVA",value:r.ivaType==="EXENTO"?"0.00":a.ivaAmount})]}),h.jsx("div",{className:"w-full",children:r.ivaType==="EXENTO"?h.jsx(Zm,{label:"Precio Final",value:a.priceWithoutIVA,className:"bg-primary-50 dark:bg-primary-900/30 border-2 border-primary-200 dark:border-primary-700"}):h.jsx(use,{withoutIVA:a.priceWithoutIVA,withIVA:a.finalPrice})})]})]})]})}),h.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 rounded-b-xl",children:h.jsxs("div",{className:"flex items-center justify-between",children:[r.lastUsed&&h.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Último uso: ",r.lastUsed]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(ze,{variant:"secondary",onClick:o,size:"sm",children:"Limpiar"}),h.jsx(ze,{onClick:t,size:"sm",children:"Cerrar"})]})]})})]})})})]})}function Zm({label:e,value:t,className:r=""}){return h.jsx("div",{className:`bg-white dark:bg-gray-700 rounded-lg p-2 shadow-sm ${r}`,children:h.jsxs("div",{className:"flex flex-col space-y-0.5",children:[h.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:e}),h.jsxs("span",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:["$",t]})]})})}function use({withoutIVA:e,withIVA:t}){return h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-2 shadow-sm",children:h.jsxs("div",{className:"flex flex-col space-y-0.5",children:[h.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Precio sin IVA"}),h.jsxs("span",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:["$",e]})]})}),h.jsx("div",{className:"bg-primary-50 dark:bg-primary-900/30 rounded-lg p-2 shadow-sm border-2 border-primary-200 dark:border-primary-700",children:h.jsxs("div",{className:"flex flex-col space-y-0.5",children:[h.jsx("span",{className:"text-xs font-medium text-primary-700 dark:text-primary-300",children:"Precio con IVA"}),h.jsxs("span",{className:"text-xl font-bold text-primary-700 dark:text-primary-300",children:["$",t]})]})})]})}function dse(e){const t=parseFloat(e.totalAmount)||0,r=parseInt(e.units)||1,n=parseFloat(e.profitPercentage)||0,a=ose[e.ivaType]||0,s=t/r,o=s/(1-n/100),c=o-s,u=o*a/100,f=o+u;return{unitCost:s.toFixed(2),profitPerUnit:c.toFixed(2),priceWithoutIVA:o.toFixed(2),ivaAmount:u.toFixed(2),finalPrice:f.toFixed(2)}}const fse=[{id:"caja-carton",name:"Caja de Cartón",weight:250},{id:"bolsa-plastica",name:"Bolsa Plástica",weight:50},{id:"caja-madera",name:"Caja de Madera",weight:500},{id:"malla",name:"Malla",weight:30}],hse="produce-calculator-data",mse="produce-order-items",pse=fse.map(e=>({value:e.id,label:e.name}));function gse({isOpen:e,onClose:t}){const[r,n]=N.useState({productId:"",totalWeight:"",totalCost:"",packageId:"bolsa-plastica",profitPercentage:"25"}),[a,s]=N.useState([]),[o,c]=N.useState(null),[u,f]=N.useState([]),m=new _r;N.useEffect(()=>{(async()=>{try{const D=await m.findAll();f(D)}catch(D){console.error("Error al cargar productos:",D),dt.error("Error al cargar los productos")}})()},[]);const g=u.map(k=>({value:k.id||"",label:k.name,group:k.isMaterial?"Materiales":"Productos"}));N.useEffect(()=>{const k=localStorage.getItem(hse),D=localStorage.getItem(mse);k&&n(JSON.parse(k)),D&&s(JSON.parse(D))},[]);const v=u.find(k=>k.id===r.productId),x=a.reduce((k,D)=>k+parseFloat(D.results.sellingPrice),0),y=a.reduce((k,D)=>k+parseFloat(D.results.profitAmount),0),w=k=>D=>{const R=typeof D=="string"?D:D.target.value;n(P=>({...P,[k]:R}))},b=()=>{if(!r.productId||!r.totalWeight||!r.totalCost||!r.profitPercentage)return;const k=vse(r),D={id:crypto.randomUUID(),...r,results:k};s(R=>[...R,D]),n({productId:"",totalWeight:"",totalCost:"",packageId:"bolsa-plastica",profitPercentage:"25"})},S=k=>D=>{D.preventDefault();const R=a.find(P=>P.id===k);R&&(n(R),c(k))},T=k=>D=>{D.preventDefault(),s(R=>R.filter(P=>P.id!==k))},E=()=>{s([])},A=()=>{const k=window.open("","_blank");if(!k){dt.error("No se pudo abrir la ventana de impresión");return}const D=a.map(R=>{const P=u.find(I=>I.id===R.productId);return`
        <div style="padding: 5mm 10mm;">
          <div style="font-size: 16pt; font-weight: bold; text-align: left; margin-bottom: 1mm;">
            ${(P==null?void 0:P.name)||"Producto"}
          </div>
          <div style="font-size: 20pt; font-weight: bold; text-align: right;">
            $${R.results.sellingPrice}
          </div>
          <div style="margin-top: 10mm; border-top: 1px dashed #000; height: 1px;"></div>
        </div>
      `}).join("");k.document.write(`
      <html>
        <head>
          <title>Etiquetas de Productos</title>
          <style>
            @page {
              size: 80mm auto;
              margin: 0;
            }
            body {
              font-family: Arial, sans-serif;
              margin: 0;
              padding: 0;
              width: 80mm;
            }
            @media print {
              body {
                width: 80mm;
              }
            }
          </style>
        </head>
        <body>
          ${D}
        </body>
      </html>
    `),k.document.close(),setTimeout(()=>{k.print(),k.close()},250)};return h.jsxs(Hu,{open:e,onClose:t,className:"relative z-50",children:[h.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),h.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:h.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:h.jsxs(Hu.Panel,{className:"mx-auto max-w-5xl rounded-xl bg-white dark:bg-gray-800 shadow-2xl w-full",children:[h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 rounded-t-xl",children:[h.jsx(Hu.Title,{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Calculadora de Productos"}),h.jsx("button",{type:"button",onClick:t,className:"rounded-lg p-1.5 text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600",children:h.jsx(I3,{className:"h-5 w-5"})})]}),h.jsx("div",{className:"max-h-[calc(100vh-12rem)] overflow-y-auto",children:h.jsx("div",{className:"p-3",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[h.jsx("div",{className:"space-y-3",children:h.jsxs("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 dark:from-gray-700 dark:to-gray-800 p-3 rounded-lg border border-primary-200 dark:border-gray-600 shadow-sm",children:[h.jsx("h3",{className:"text-sm font-semibold text-primary-900 dark:text-white mb-3",children:o?"Editar Producto":"Agregar Producto"}),h.jsxs("div",{className:"grid gap-3",children:[h.jsx(ul,{label:"Producto",value:r.productId,onChange:w("productId"),options:g,placeholder:"Seleccionar producto",searchPlaceholder:"Buscar producto...",notFoundText:"No se encontraron productos",className:"font-bold text-lg"}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(dn,{label:"Peso Total (Kg)",type:"number",value:r.totalWeight,onChange:w("totalWeight"),placeholder:"0",min:"0",step:"0.01",className:"font-bold text-lg"}),h.jsx(dn,{label:"Costo Total ($)",type:"number",value:r.totalCost,onChange:w("totalCost"),placeholder:"0.00",min:"0",step:"0.01",className:"font-bold text-lg"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(ul,{label:"Tipo de Empaque",value:r.packageId,onChange:w("packageId"),options:pse,placeholder:"Seleccionar empaque",className:"font-bold text-lg"}),h.jsx(dn,{label:"Ganancia (%)",type:"number",value:r.profitPercentage,onChange:w("profitPercentage"),placeholder:"25",min:"0",max:"100",className:"font-bold text-lg"})]}),h.jsx("div",{className:"flex justify-end space-x-2 pt-2",children:o?h.jsxs(h.Fragment,{children:[h.jsx(ze,{variant:"secondary",onClick:T(a[0].id),size:"sm",children:"Cancelar"}),h.jsx(ze,{onClick:b,size:"sm",disabled:!v||!r.totalWeight||!r.totalCost||!r.profitPercentage,children:"Guardar"})]}):h.jsxs(h.Fragment,{children:[h.jsx(ze,{variant:"secondary",onClick:E,size:"sm",children:"Limpiar"}),h.jsxs(ze,{onClick:b,size:"sm",disabled:!v||!r.totalWeight||!r.totalCost||!r.profitPercentage,children:[h.jsx(Qs,{className:"h-4 w-4 mr-1"}),"Agregar"]})]})})]})]})}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm flex flex-col",children:[h.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Productos"})}),h.jsx("div",{className:"p-3 space-y-2",children:a.length===0?h.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400 py-4",children:"No hay productos"}):a.map(k=>{const D=u.find(R=>R.id===k.productId);return h.jsxs("div",{className:"flex flex-col p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(D==null?void 0:D.name)||"Producto no encontrado"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:S(k.id),className:"text-blue-500 hover:text-blue-700 dark:text-blue-400",disabled:o!==null,children:h.jsx(Qh,{className:"h-4 w-4"})}),h.jsx("button",{onClick:T(k.id),className:"text-red-500 hover:text-red-700 dark:text-red-400",disabled:o===k.id,children:h.jsx(Zh,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-500 dark:text-gray-400",children:[h.jsxs("span",{children:["Peso Unitario: ",k.results.unitWeight," Kg"]}),h.jsxs("span",{children:["Precio Unitario: $",k.results.unitPrice]}),h.jsxs("span",{children:["Ganancia: $",k.results.profitAmount]}),h.jsxs("span",{children:["Precio Venta: $",k.results.sellingPrice]})]})]},k.id)})}),h.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:h.jsxs("div",{className:"space-y-2 mb-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Ganancia Total:"}),h.jsxs("span",{className:"text-base font-semibold text-green-600 dark:text-green-400",children:["$",y.toFixed(2)]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Importe Total:"}),h.jsxs("span",{className:"text-lg font-bold text-primary-600 dark:text-primary-400",children:["$",x.toFixed(2)]})]})]})})]})]})})}),h.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 rounded-b-xl",children:h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx(ze,{variant:"secondary",onClick:E,size:"sm",disabled:a.length===0,children:"Limpiar"}),h.jsxs(ze,{variant:"secondary",onClick:A,size:"sm",disabled:a.length===0,children:[h.jsx(HD,{className:"h-4 w-4 mr-1"}),"Imprimir Etiquetas"]}),h.jsx(ze,{onClick:t,size:"sm",children:"Cerrar"})]})})]})})})]})}const vse=e=>{const t=parseFloat(e.totalWeight)||0,r=parseFloat(e.totalCost)||0,n=parseFloat(e.profitPercentage)||0,a=(t/1e3).toFixed(2),s=(r/t).toFixed(2),o=(r*n/100).toFixed(2),c=(r+parseFloat(o)).toFixed(2);return{unitWeight:a,unitPrice:s,profitAmount:o,sellingPrice:c}};var xse=N.createContext(void 0);function EE(e){const t=N.useContext(xse);return e||t||"ltr"}function yse(e,[t,r]){return Math.min(r,Math.max(t,e))}function bse(e,t){return N.useReducer((r,n)=>t[r][n]??r,e)}var SE="ScrollArea",[O3,Jpe]=oi(SE),[wse,ss]=O3(SE),P3=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...o}=e,[c,u]=N.useState(null),[f,m]=N.useState(null),[g,v]=N.useState(null),[x,y]=N.useState(null),[w,b]=N.useState(null),[S,T]=N.useState(0),[E,A]=N.useState(0),[k,D]=N.useState(!1),[R,P]=N.useState(!1),I=rr(t,H=>u(H)),B=EE(a);return h.jsx(wse,{scope:r,type:n,dir:B,scrollHideDelay:s,scrollArea:c,viewport:f,onViewportChange:m,content:g,onContentChange:v,scrollbarX:x,onScrollbarXChange:y,scrollbarXEnabled:k,onScrollbarXEnabledChange:D,scrollbarY:w,onScrollbarYChange:b,scrollbarYEnabled:R,onScrollbarYEnabledChange:P,onCornerWidthChange:T,onCornerHeightChange:A,children:h.jsx(Ht.div,{dir:B,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});P3.displayName=SE;var M3="ScrollAreaViewport",F3=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,o=ss(M3,r),c=N.useRef(null),u=rr(t,c,o.onViewportChange);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),h.jsx(Ht.div,{"data-radix-scroll-area-viewport":"",...s,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:h.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});F3.displayName=M3;var di="ScrollAreaScrollbar",CE=N.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ss(di,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,c=e.orientation==="horizontal";return N.useEffect(()=>(c?s(!0):o(!0),()=>{c?s(!1):o(!1)}),[c,s,o]),a.type==="hover"?h.jsx(_se,{...n,ref:t,forceMount:r}):a.type==="scroll"?h.jsx(Ese,{...n,ref:t,forceMount:r}):a.type==="auto"?h.jsx(j3,{...n,ref:t,forceMount:r}):a.type==="always"?h.jsx(TE,{...n,ref:t}):null});CE.displayName=di;var _se=N.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ss(di,e.__scopeScrollArea),[s,o]=N.useState(!1);return N.useEffect(()=>{const c=a.scrollArea;let u=0;if(c){const f=()=>{window.clearTimeout(u),o(!0)},m=()=>{u=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return c.addEventListener("pointerenter",f),c.addEventListener("pointerleave",m),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",f),c.removeEventListener("pointerleave",m)}}},[a.scrollArea,a.scrollHideDelay]),h.jsx(Qn,{present:r||s,children:h.jsx(j3,{"data-state":s?"visible":"hidden",...n,ref:t})})}),Ese=N.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ss(di,e.__scopeScrollArea),s=e.orientation==="horizontal",o=kv(()=>u("SCROLL_END"),100),[c,u]=bse("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>u("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,a.scrollHideDelay,u]),N.useEffect(()=>{const f=a.viewport,m=s?"scrollLeft":"scrollTop";if(f){let g=f[m];const v=()=>{const x=f[m];g!==x&&(u("SCROLL"),o()),g=x};return f.addEventListener("scroll",v),()=>f.removeEventListener("scroll",v)}},[a.viewport,s,u,o]),h.jsx(Qn,{present:r||c!=="hidden",children:h.jsx(TE,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:nt(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:nt(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),j3=N.forwardRef((e,t)=>{const r=ss(di,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,o]=N.useState(!1),c=e.orientation==="horizontal",u=kv(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,m=r.viewport.offsetHeight<r.viewport.scrollHeight;o(c?f:m)}},10);return nd(r.viewport,u),nd(r.content,u),h.jsx(Qn,{present:n||s,children:h.jsx(TE,{"data-state":s?"visible":"hidden",...a,ref:t})})}),TE=N.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ss(di,e.__scopeScrollArea),s=N.useRef(null),o=N.useRef(0),[c,u]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=H3(c.viewport,c.content),m={...n,sizes:c,onSizesChange:u,hasThumb:f>0&&f<1,onThumbChange:v=>s.current=v,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:v=>o.current=v};function g(v,x){return kse(v,o.current,c,x)}return r==="horizontal"?h.jsx(Sse,{...m,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const v=a.viewport.scrollLeft,x=rR(v,c,a.dir);s.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollLeft=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollLeft=g(v,a.dir))}}):r==="vertical"?h.jsx(Cse,{...m,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const v=a.viewport.scrollTop,x=rR(v,c);s.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollTop=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollTop=g(v))}}):null}),Sse=N.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=ss(di,e.__scopeScrollArea),[o,c]=N.useState(),u=N.useRef(null),f=rr(t,u,s.onScrollbarXChange);return N.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),h.jsx(B3,{"data-orientation":"horizontal",...a,ref:f,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Av(r)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,g)=>{if(s.viewport){const v=s.viewport.scrollLeft+m.deltaX;e.onWheelScroll(v),z3(v,g)&&m.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:gg(o.paddingLeft),paddingEnd:gg(o.paddingRight)}})}})}),Cse=N.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=ss(di,e.__scopeScrollArea),[o,c]=N.useState(),u=N.useRef(null),f=rr(t,u,s.onScrollbarYChange);return N.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),h.jsx(B3,{"data-orientation":"vertical",...a,ref:f,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Av(r)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,g)=>{if(s.viewport){const v=s.viewport.scrollTop+m.deltaY;e.onWheelScroll(v),z3(v,g)&&m.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:gg(o.paddingTop),paddingEnd:gg(o.paddingBottom)}})}})}),[Tse,L3]=O3(di),B3=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:f,onWheelScroll:m,onResize:g,...v}=e,x=ss(di,r),[y,w]=N.useState(null),b=rr(t,I=>w(I)),S=N.useRef(null),T=N.useRef(""),E=x.viewport,A=n.content-n.viewport,k=un(m),D=un(u),R=kv(g,10);function P(I){if(S.current){const B=I.clientX-S.current.left,H=I.clientY-S.current.top;f({x:B,y:H})}}return N.useEffect(()=>{const I=B=>{const H=B.target;(y==null?void 0:y.contains(H))&&k(B,A)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[E,y,A,k]),N.useEffect(D,[n,D]),nd(y,R),nd(x.content,R),h.jsx(Tse,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:un(s),onThumbPointerUp:un(o),onThumbPositionChange:D,onThumbPointerDown:un(c),children:h.jsx(Ht.div,{...v,ref:b,style:{position:"absolute",...v.style},onPointerDown:nt(e.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),S.current=y.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),P(I))}),onPointerMove:nt(e.onPointerMove,P),onPointerUp:nt(e.onPointerUp,I=>{const B=I.target;B.hasPointerCapture(I.pointerId)&&B.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=T.current,x.viewport&&(x.viewport.style.scrollBehavior=""),S.current=null})})})}),pg="ScrollAreaThumb",U3=N.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=L3(pg,e.__scopeScrollArea);return h.jsx(Qn,{present:r||a.hasThumb,children:h.jsx(Nse,{ref:t,...n})})}),Nse=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=ss(pg,r),o=L3(pg,r),{onThumbPositionChange:c}=o,u=rr(t,g=>o.onThumbChange(g)),f=N.useRef(void 0),m=kv(()=>{f.current&&(f.current(),f.current=void 0)},100);return N.useEffect(()=>{const g=s.viewport;if(g){const v=()=>{if(m(),!f.current){const x=Rse(g,c);f.current=x,c()}};return c(),g.addEventListener("scroll",v),()=>g.removeEventListener("scroll",v)}},[s.viewport,m,c]),h.jsx(Ht.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:nt(e.onPointerDownCapture,g=>{const x=g.target.getBoundingClientRect(),y=g.clientX-x.left,w=g.clientY-x.top;o.onThumbPointerDown({x:y,y:w})}),onPointerUp:nt(e.onPointerUp,o.onThumbPointerUp)})});U3.displayName=pg;var NE="ScrollAreaCorner",V3=N.forwardRef((e,t)=>{const r=ss(NE,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?h.jsx(Ase,{...e,ref:t}):null});V3.displayName=NE;var Ase=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ss(NE,r),[s,o]=N.useState(0),[c,u]=N.useState(0),f=!!(s&&c);return nd(a.scrollbarX,()=>{var g;const m=((g=a.scrollbarX)==null?void 0:g.offsetHeight)||0;a.onCornerHeightChange(m),u(m)}),nd(a.scrollbarY,()=>{var g;const m=((g=a.scrollbarY)==null?void 0:g.offsetWidth)||0;a.onCornerWidthChange(m),o(m)}),f?h.jsx(Ht.div,{...n,ref:t,style:{width:s,height:c,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function gg(e){return e?parseInt(e,10):0}function H3(e,t){const r=e/t;return isNaN(r)?0:r}function Av(e){const t=H3(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function kse(e,t,r,n="ltr"){const a=Av(r),s=a/2,o=t||s,c=a-o,u=r.scrollbar.paddingStart+o,f=r.scrollbar.size-r.scrollbar.paddingEnd-c,m=r.content-r.viewport,g=n==="ltr"?[0,m]:[m*-1,0];return $3([u,f],g)(e)}function rR(e,t,r="ltr"){const n=Av(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,o=t.content-t.viewport,c=s-n,u=r==="ltr"?[0,o]:[o*-1,0],f=yse(e,u);return $3([0,o],[0,c])(f)}function $3(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function z3(e,t){return e>0&&e<t}var Rse=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},o=r.left!==s.left,c=r.top!==s.top;(o||c)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function kv(e,t){const r=un(e),n=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),N.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function nd(e,t){const r=un(t);Zi(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var W3=P3,Dse=F3,Ise=V3;const zf=N.forwardRef(({className:e,children:t,...r},n)=>h.jsxs(W3,{ref:n,className:at("relative overflow-hidden",e),...r,children:[h.jsx(Dse,{className:"h-full w-full rounded-[inherit]",children:t}),h.jsx(q3,{}),h.jsx(Ise,{})]}));zf.displayName=W3.displayName;const q3=N.forwardRef(({className:e,orientation:t="vertical",...r},n)=>h.jsx(CE,{ref:n,orientation:t,className:at("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:h.jsx(U3,{className:"relative flex-1 rounded-full bg-border"})}));q3.displayName=CE.displayName;const nR=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,aR=WD,Ose=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return aR(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(f=>{const m=r==null?void 0:r[f],g=s==null?void 0:s[f];if(m===null)return null;const v=nR(m)||nR(g);return a[f][v]}),c=r&&Object.entries(r).reduce((f,m)=>{let[g,v]=m;return v===void 0||(f[g]=v),f},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,m)=>{let{class:g,className:v,...x}=m;return Object.entries(x).every(y=>{let[w,b]=y;return Array.isArray(b)?b.includes({...s,...c}[w]):{...s,...c}[w]===b})?[...f,g,v]:f},[]);return aR(e,o,u,r==null?void 0:r.class,r==null?void 0:r.className)},Pse=Ose("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ql=N.forwardRef(({className:e,variant:t,...r},n)=>h.jsx("div",{ref:n,role:"alert",className:at(Pse({variant:t}),e),...r}));Ql.displayName="Alert";const Mse=N.forwardRef(({className:e,...t},r)=>h.jsx("h5",{ref:r,className:at("mb-1 font-medium leading-none tracking-tight",e),...t}));Mse.displayName="AlertTitle";const Zl=N.forwardRef(({className:e,...t},r)=>h.jsx("div",{ref:r,className:at("text-sm [&_p]:leading-relaxed",e),...t}));Zl.displayName="AlertDescription";/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var G3=1252,Fse=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],AE={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},kE=function(e){Fse.indexOf(e)!=-1&&(G3=AE[0]=e)};function jse(){kE(1252)}var ys=function(e){kE(e)};function Y3(){ys(1200),jse()}function sR(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Lse(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function X3(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Wf=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Lse(e.slice(2)):t==254&&r==255?X3(e.slice(2)):t==65279?e.slice(1):e},Jm=function(t){return String.fromCharCode(t)},iR=function(t){return String.fromCharCode(t)},Jb,Wo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function oR(e){for(var t="",r=0,n=0,a=0,s=0,o=0,c=0,u=0,f=0;f<e.length;)r=e.charCodeAt(f++),s=r>>2,n=e.charCodeAt(f++),o=(r&3)<<4|n>>4,a=e.charCodeAt(f++),c=(n&15)<<2|a>>6,u=a&63,isNaN(n)?c=u=64:isNaN(a)&&(u=64),t+=Wo.charAt(s)+Wo.charAt(o)+Wo.charAt(c)+Wo.charAt(u);return t}function Ta(e){var t="",r=0,n=0,a=0,s=0,o=0,c=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)s=Wo.indexOf(e.charAt(f++)),o=Wo.indexOf(e.charAt(f++)),r=s<<2|o>>4,t+=String.fromCharCode(r),c=Wo.indexOf(e.charAt(f++)),n=(o&15)<<4|c>>2,c!==64&&(t+=String.fromCharCode(n)),u=Wo.indexOf(e.charAt(f++)),a=(c&3)<<6|u,u!==64&&(t+=String.fromCharCode(a));return t}var Ot=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Oc=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function hl(e){return Ot?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function lR(e){return Ot?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var gs=function(t){return Ot?Oc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Pc(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function RE(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return RE(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Ho=Ot?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Oc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Bse(e){for(var t=[],r=0,n=e.length+250,a=hl(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=e.charCodeAt(++s)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|c>>6&15|(o&3)<<4,a[r++]=128|c&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=hl(65535),n=65530)}return t.push(a.slice(0,r)),Ho(t)}var Yn=/\u0000/g,qf=/[\u0001-\u0006]/g;function $u(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function bs(e,t){var r=""+e;return r.length>=t?r:Nr("0",t-r.length)+r}function DE(e,t){var r=""+e;return r.length>=t?r:Nr(" ",t-r.length)+r}function vg(e,t){var r=""+e;return r.length>=t?r:r+Nr(" ",t-r.length)}function Use(e,t){var r=""+Math.round(e);return r.length>=t?r:Nr("0",t-r.length)+r}function Vse(e,t){var r=""+e;return r.length>=t?r:Nr("0",t-r.length)+r}var cR=Math.pow(2,32);function Nu(e,t){if(e>cR||e<-cR)return Use(e,t);var r=Math.round(e);return Vse(r,t)}function xg(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var uR=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],M1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Hse(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var yt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},dR={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},$se={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function yg(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,o=1,c=0,u=1,f=0,m=0,g=Math.floor(a);f<t&&(g=Math.floor(a),c=g*o+s,m=g*f+u,!(a-g<5e-8));)a=1/(a-g),s=o,o=c,u=f,f=m;if(m>t&&(f>t?(m=u,c=s):(m=f,c=o)),!r)return[0,n*c,m];var v=Math.floor(n*c/m);return[v,n*c-v*m,m]}function uc(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,o=[],c={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),t&&t.date1904&&(n+=1462),c.u>.9999&&(c.u=0,++a==86400&&(c.T=a=0,++n,++c.D)),n===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var u=new Date(1900,0,1);u.setDate(u.getDate()+n-1),o=[u.getFullYear(),u.getMonth()+1,u.getDate()],s=u.getDay(),n<60&&(s=(s+6)%7),r&&(s=Xse(u,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=a%60,a=Math.floor(a/60),c.M=a%60,a=Math.floor(a/60),c.H=a,c.q=s,c}var K3=new Date(1899,11,31,0,0,0),zse=K3.getTime(),Wse=new Date(1900,2,1,0,0,0);function Q3(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Wse&&(r+=24*60*60*1e3),(r-(zse+(e.getTimezoneOffset()-K3.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function IE(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function qse(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Gse(e){var t=e<0?12:11,r=IE(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Yse(e){var t=IE(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Lh(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Gse(e):t===10?r=e.toFixed(10).substr(0,12):r=Yse(e),IE(qse(r.toUpperCase()))}function Cc(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Lh(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return ts(14,Q3(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Xse(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Kse(e,t,r,n){var a="",s=0,o=0,c=r.y,u,f=0;switch(e){case 98:c=r.y+543;case 121:switch(t.length){case 1:case 2:u=c%100,f=2;break;default:u=c%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,f=t.length;break;case 3:return M1[r.m-1][1];case 5:return M1[r.m-1][0];default:return M1[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,f=t.length;break;case 3:return uR[r.q][0];default:return uR[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?bs(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(a=bs(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:u=c,f=1;break}var m=f>0?bs(u,f):"";return m}function qo(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var Z3=/%/g;function Qse(e,t,r){var n=t.replace(Z3,""),a=t.length-n.length;return Wi(e,n,r*Math.pow(10,2*a))+Nr("%",a)}function Zse(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Wi(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function J3(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+J3(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,f,m){return u+f+m.substr(0,(a+s)%a)+"."+m.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var eF=/# (\?+)( ?)\/( ?)(\d+)/;function Jse(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),o=a-s*n,c=n;return r+(s===0?"":""+s)+" "+(o===0?Nr(" ",e[1].length+1+e[4].length):DE(o,e[1].length)+e[2]+"/"+e[3]+bs(c,e[4].length))}function eie(e,t,r){return r+(t===0?"":""+t)+Nr(" ",e[1].length+2+e[4].length)}var tF=/^#*0*\.([0#]+)/,rF=/\).*[0#]/,nF=/\(###\) ###\\?-####/;function Hn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function fR(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function hR(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function tie(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function rie(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ya(e,t,r){if(e.charCodeAt(0)===40&&!t.match(rF)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ya("n",n,r):"("+Ya("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Zse(e,t,r);if(t.indexOf("%")!==-1)return Qse(e,t,r);if(t.indexOf("E")!==-1)return J3(t,r);if(t.charCodeAt(0)===36)return"$"+Ya(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,c,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+Nu(u,t.length);if(t.match(/^[#?]+$/))return a=Nu(r,0),a==="0"&&(a=""),a.length>t.length?a:Hn(t.substr(0,t.length-a.length))+a;if(s=t.match(eF))return Jse(s,u,f);if(t.match(/^#+0+$/))return f+Nu(u,t.length-t.indexOf("0"));if(s=t.match(tF))return a=fR(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Hn(s[1])).replace(/\.$/,"."+Hn(s[1])).replace(/\.(\d*)$/,function(y,w){return"."+w+Nr("0",Hn(s[1]).length-w.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return f+fR(u,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return f+qo(Nu(u,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ya(e,t,-r):qo(""+(Math.floor(r)+tie(r,s[1].length)))+"."+bs(hR(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Ya(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=$u(Ya(e,t.replace(/[\\-]/g,""),r)),o=0,$u($u(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(t.match(nF))return a=Ya(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var m="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=yg(u,Math.pow(10,o)-1,!1),a=""+f,m=Wi("n",s[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),a+=m+s[2]+"/"+s[3],m=vg(c[2],o),m.length<s[4].length&&(m=Hn(s[4].substr(s[4].length-m.length))+m),a+=m,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=yg(u,Math.pow(10,o)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?DE(c[1],o)+s[2]+"/"+s[3]+vg(c[2],o):Nr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Nu(r,0),t.length<=a.length?a:Hn(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var g=t.indexOf(".")-o,v=t.length-a.length-g;return Hn(t.substr(0,g)+a+t.substr(t.length-v))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=hR(r,s[1].length),r<0?"-"+Ya(e,t,-r):qo(rie(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?bs(0,3-y.length):"")+y})+"."+bs(o,s[1].length);switch(t){case"###,##0.00":return Ya(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var x=qo(Nu(u,0));return x!=="0"?f+x:"";case"###,###.00":return Ya(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ya(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function nie(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Wi(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function aie(e,t,r){var n=t.replace(Z3,""),a=t.length-n.length;return Wi(e,n,r*Math.pow(10,2*a))+Nr("%",a)}function aF(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+aF(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,f,m){return u+f+m.substr(0,(a+s)%a)+"."+m.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Us(e,t,r){if(e.charCodeAt(0)===40&&!t.match(rF)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Us("n",n,r):"("+Us("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return nie(e,t,r);if(t.indexOf("%")!==-1)return aie(e,t,r);if(t.indexOf("E")!==-1)return aF(t,r);if(t.charCodeAt(0)===36)return"$"+Us(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,c,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+bs(u,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Hn(t.substr(0,t.length-a.length))+a;if(s=t.match(eF))return eie(s,u,f);if(t.match(/^#+0+$/))return f+bs(u,t.length-t.indexOf("0"));if(s=t.match(tF))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Hn(s[1])).replace(/\.$/,"."+Hn(s[1])),a=a.replace(/\.(\d*)$/,function(y,w){return"."+w+Nr("0",Hn(s[1]).length-w.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return f+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return f+qo(""+u);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Us(e,t,-r):qo(""+r)+"."+Nr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Us(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=$u(Us(e,t.replace(/[\\-]/g,""),r)),o=0,$u($u(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(t.match(nF))return a=Us(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var m="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=yg(u,Math.pow(10,o)-1,!1),a=""+f,m=Wi("n",s[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),a+=m+s[2]+"/"+s[3],m=vg(c[2],o),m.length<s[4].length&&(m=Hn(s[4].substr(s[4].length-m.length))+m),a+=m,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=yg(u,Math.pow(10,o)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?DE(c[1],o)+s[2]+"/"+s[3]+vg(c[2],o):Nr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Hn(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var g=t.indexOf(".")-o,v=t.length-a.length-g;return Hn(t.substr(0,g)+a+t.substr(t.length-v))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Us(e,t,-r):qo(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?bs(0,3-y.length):"")+y})+"."+bs(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=qo(""+u);return x!=="0"?f+x:"";default:if(t.match(/\.[0#?]*$/))return Us(e,t.slice(0,t.lastIndexOf(".")),r)+Hn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Wi(e,t,r){return(r|0)===r?Us(e,t,r):Ya(e,t,r)}function sie(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var sF=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Nd(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":xg(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(sF))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function iie(e,t,r,n){for(var a=[],s="",o=0,c="",u="t",f,m,g,v="H";o<e.length;)switch(c=e.charAt(o)){case"G":if(!xg(e,o))throw new Error("unrecognized character "+c+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(g=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(g);a[a.length]={t:"t",v:s},++o;break;case"\\":var x=e.charAt(++o),y=x==="("||x===")"?x:"t";a[a.length]={t:y,v:x},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(f==null&&(f=uc(t,r,e.charAt(o+1)==="2"),f==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},u=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=uc(t,r),f==null))return"";for(s=c;++o<e.length&&e.charAt(o).toLowerCase()===c;)s+=c;c==="m"&&u.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=v),a[a.length]={t:c,v:s},u=c;break;case"A":case"a":case"上":var w={t:c,v:c};if(f==null&&(f=uc(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(f!=null&&(w.v=f.H>=12?"P":"A"),w.t="T",v="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(f!=null&&(w.v=f.H>=12?"PM":"AM"),w.t="T",o+=5,v="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(f!=null&&(w.v=f.H>=12?"下午":"上午"),w.t="T",o+=5,v="h"):(w.t="t",++o),f==null&&w.t==="T")return"";a[a.length]=w,u=c;break;case"[":for(s=c;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(sF)){if(f==null&&(f=uc(t,r),f==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},u=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Nd(e)||(a[a.length]={t:"t",v:s}));break;case".":if(f!=null){for(s=c;++o<e.length&&(c=e.charAt(o))==="0";)s+=c;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++o<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(o))>-1;)s+=c;a[a.length]={t:"n",v:s};break;case"?":for(s=c;e.charAt(++o)===c;)s+=c;a[a.length]={t:c,v:s},u=c;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:c,v:c},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+e);a[a.length]={t:"t",v:c},++o;break}var b=0,S=0,T;for(o=a.length-1,u="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=v,u="h",b<1&&(b=1);break;case"s":(T=a[o].v.match(/\.0+$/))&&(S=Math.max(S,T[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":u=a[o].t;break;case"m":u==="s"&&(a[o].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&a[o].v.match(/[Hh]/)&&(b=1),b<2&&a[o].v.match(/[Mm]/)&&(b=2),b<3&&a[o].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var E="",A;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=Kse(a[o].t.charCodeAt(0),a[o].v,f,S),a[o].t="t";break;case"n":case"?":for(A=o+1;a[A]!=null&&((c=a[A].t)==="?"||c==="D"||(c===" "||c==="t")&&a[A+1]!=null&&(a[A+1].t==="?"||a[A+1].t==="t"&&a[A+1].v==="/")||a[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(a[A].v==="/"||a[A].v===" "&&a[A+1]!=null&&a[A+1].t=="?"));)a[o].v+=a[A].v,a[A]={v:"",t:";"},++A;E+=a[o].v,o=A-1;break;case"G":a[o].t="t",a[o].v=Cc(t,r);break}var k="",D,R;if(E.length>0){E.charCodeAt(0)==40?(D=t<0&&E.charCodeAt(0)===45?-t:t,R=Wi("n",E,D)):(D=t<0&&n>1?-t:t,R=Wi("n",E,D),D<0&&a[0]&&a[0].t=="t"&&(R=R.substr(1),a[0].v="-"+a[0].v)),A=R.length-1;var P=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){P=o;break}var I=a.length;if(P===a.length&&R.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(A>=a[o].v.length-1?(A-=a[o].v.length,a[o].v=R.substr(A+1,a[o].v.length)):A<0?a[o].v="":(a[o].v=R.substr(0,A+1),A=-1),a[o].t="t",I=o);A>=0&&I<a.length&&(a[I].v=R.substr(0,A+1)+a[I].v)}else if(P!==a.length&&R.indexOf("E")===-1){for(A=R.indexOf(".")-1,o=P;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(m=a[o].v.indexOf(".")>-1&&o===P?a[o].v.indexOf(".")-1:a[o].v.length-1,k=a[o].v.substr(m+1);m>=0;--m)A>=0&&(a[o].v.charAt(m)==="0"||a[o].v.charAt(m)==="#")&&(k=R.charAt(A--)+k);a[o].v=k,a[o].t="t",I=o}for(A>=0&&I<a.length&&(a[I].v=R.substr(0,A+1)+a[I].v),A=R.indexOf(".")+1,o=P;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==P)){for(m=a[o].v.indexOf(".")>-1&&o===P?a[o].v.indexOf(".")+1:0,k=a[o].v.substr(0,m);m<a[o].v.length;++m)A<R.length&&(k+=R.charAt(A++));a[o].v=k,a[o].t="t",I=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(D=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Wi(a[o].t,a[o].v,D),a[o].t="t");var B="";for(o=0;o!==a.length;++o)a[o]!=null&&(B+=a[o].v);return B}var mR=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function pR(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function oie(e,t){var r=sie(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(mR),c=r[1].match(mR);return pR(t,o)?[n,r[0]]:pR(t,c)?[n,r[1]]:[n,r[o!=null&&c!=null?2:1]]}return[n,s]}function ts(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:yt)[e],n==null&&(n=r.table&&r.table[dR[e]]||yt[dR[e]]),n==null&&(n=$se[e]||"General");break}if(xg(n,0))return Cc(t,r);t instanceof Date&&(t=Q3(t,r.date1904));var a=oie(n,t);if(xg(a[1]))return Cc(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return iie(a[1],t,r,a[0])}function hc(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(yt[r]==null){t<0&&(t=r);continue}if(yt[r]==e){t=r;break}}t<0&&(t=391)}return yt[t]=e,t}function iF(){yt=Hse()}var lie={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},oF=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function cie(e){var t=typeof e=="number"?yt[e]:e;return t=t.replace(oF,"(\\d+)"),new RegExp("^"+t+"$")}function uie(e,t,r){var n=-1,a=-1,s=-1,o=-1,c=-1,u=-1;(t.match(oF)||[]).forEach(function(g,v){var x=parseInt(r[v+1],10);switch(g.toLowerCase().charAt(0)){case"y":n=x;break;case"d":s=x;break;case"h":o=x;break;case"s":u=x;break;case"m":o>=0?c=x:a=x;break}}),u>=0&&c==-1&&a>=0&&(c=a,a=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var m=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return o==-1&&c==-1&&u==-1?f:n==-1&&a==-1&&s==-1?m:f+"T"+m}var die=function(){var e={};e.version="1.2.0";function t(){for(var R=0,P=new Array(256),I=0;I!=256;++I)R=I,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,P[I]=R;return typeof Int32Array<"u"?new Int32Array(P):P}var r=t();function n(R){var P=0,I=0,B=0,H=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(B=0;B!=256;++B)H[B]=R[B];for(B=0;B!=256;++B)for(I=R[B],P=256+B;P<4096;P+=256)I=H[P]=I>>>8^R[I&255];var z=[];for(B=1;B!=16;++B)z[B-1]=typeof Int32Array<"u"?H.subarray(B*256,B*256+256):H.slice(B*256,B*256+256);return z}var a=n(r),s=a[0],o=a[1],c=a[2],u=a[3],f=a[4],m=a[5],g=a[6],v=a[7],x=a[8],y=a[9],w=a[10],b=a[11],S=a[12],T=a[13],E=a[14];function A(R,P){for(var I=P^-1,B=0,H=R.length;B<H;)I=I>>>8^r[(I^R.charCodeAt(B++))&255];return~I}function k(R,P){for(var I=P^-1,B=R.length-15,H=0;H<B;)I=E[R[H++]^I&255]^T[R[H++]^I>>8&255]^S[R[H++]^I>>16&255]^b[R[H++]^I>>>24]^w[R[H++]]^y[R[H++]]^x[R[H++]]^v[R[H++]]^g[R[H++]]^m[R[H++]]^f[R[H++]]^u[R[H++]]^c[R[H++]]^o[R[H++]]^s[R[H++]]^r[R[H++]];for(B+=15;H<B;)I=I>>>8^r[(I^R[H++])&255];return~I}function D(R,P){for(var I=P^-1,B=0,H=R.length,z=0,G=0;B<H;)z=R.charCodeAt(B++),z<128?I=I>>>8^r[(I^z)&255]:z<2048?(I=I>>>8^r[(I^(192|z>>6&31))&255],I=I>>>8^r[(I^(128|z&63))&255]):z>=55296&&z<57344?(z=(z&1023)+64,G=R.charCodeAt(B++)&1023,I=I>>>8^r[(I^(240|z>>8&7))&255],I=I>>>8^r[(I^(128|z>>2&63))&255],I=I>>>8^r[(I^(128|G>>6&15|(z&3)<<4))&255],I=I>>>8^r[(I^(128|G&63))&255]):(I=I>>>8^r[(I^(224|z>>12&15))&255],I=I>>>8^r[(I^(128|z>>6&63))&255],I=I>>>8^r[(I^(128|z&63))&255]);return~I}return e.table=r,e.bstr=A,e.buf=k,e.str=D,e}(),Ft=function(){var t={};t.version="1.2.1";function r(F,Z){for(var q=F.split("/"),X=Z.split("/"),J=0,te=0,ye=Math.min(q.length,X.length);J<ye;++J){if(te=q[J].length-X[J].length)return te;if(q[J]!=X[J])return q[J]<X[J]?-1:1}return q.length-X.length}function n(F){if(F.charAt(F.length-1)=="/")return F.slice(0,-1).indexOf("/")===-1?F:n(F.slice(0,-1));var Z=F.lastIndexOf("/");return Z===-1?F:F.slice(0,Z+1)}function a(F){if(F.charAt(F.length-1)=="/")return a(F.slice(0,-1));var Z=F.lastIndexOf("/");return Z===-1?F:F.slice(Z+1)}function s(F,Z){typeof Z=="string"&&(Z=new Date(Z));var q=Z.getHours();q=q<<6|Z.getMinutes(),q=q<<5|Z.getSeconds()>>>1,F.write_shift(2,q);var X=Z.getFullYear()-1980;X=X<<4|Z.getMonth()+1,X=X<<5|Z.getDate(),F.write_shift(2,X)}function o(F){var Z=F.read_shift(2)&65535,q=F.read_shift(2)&65535,X=new Date,J=q&31;q>>>=5;var te=q&15;q>>>=4,X.setMilliseconds(0),X.setFullYear(q+1980),X.setMonth(te-1),X.setDate(J);var ye=Z&31;Z>>>=5;var Ne=Z&63;return Z>>>=6,X.setHours(Z),X.setMinutes(Ne),X.setSeconds(ye<<1),X}function c(F){wn(F,0);for(var Z={},q=0;F.l<=F.length-4;){var X=F.read_shift(2),J=F.read_shift(2),te=F.l+J,ye={};switch(X){case 21589:q=F.read_shift(1),q&1&&(ye.mtime=F.read_shift(4)),J>5&&(q&2&&(ye.atime=F.read_shift(4)),q&4&&(ye.ctime=F.read_shift(4))),ye.mtime&&(ye.mt=new Date(ye.mtime*1e3));break}F.l=te,Z[X]=ye}return Z}var u;function f(){return u||(u={})}function m(F,Z){if(F[0]==80&&F[1]==75)return Vc(F,Z);if((F[0]|32)==109&&(F[1]|32)==105)return en(F,Z);if(F.length<512)throw new Error("CFB file size "+F.length+" < 512");var q=3,X=512,J=0,te=0,ye=0,Ne=0,ve=0,xe=[],we=F.slice(0,512);wn(we,0);var Fe=g(we);switch(q=Fe[0],q){case 3:X=512;break;case 4:X=4096;break;case 0:if(Fe[1]==0)return Vc(F,Z);default:throw new Error("Major Version: Expected 3 or 4 saw "+q)}X!==512&&(we=F.slice(0,X),wn(we,28));var Ve=F.slice(0,X);v(we,q);var Ye=we.read_shift(4,"i");if(q===3&&Ye!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ye);we.l+=4,ye=we.read_shift(4,"i"),we.l+=4,we.chk("00100000","Mini Stream Cutoff Size: "),Ne=we.read_shift(4,"i"),J=we.read_shift(4,"i"),ve=we.read_shift(4,"i"),te=we.read_shift(4,"i");for(var Le=-1,Be=0;Be<109&&(Le=we.read_shift(4,"i"),!(Le<0));++Be)xe[Be]=Le;var pt=x(F,X);b(ve,te,pt,X,xe);var nr=T(pt,ye,xe,X);nr[ye].name="!Directory",J>0&&Ne!==G&&(nr[Ne].name="!MiniFAT"),nr[xe[0]].name="!FAT",nr.fat_addrs=xe,nr.ssz=X;var $t={},gr=[],jn=[],Cl=[];E(ye,nr,pt,gr,J,$t,jn,Ne),y(jn,Cl,gr),gr.shift();var oo={FileIndex:jn,FullPaths:Cl};return Z&&Z.raw&&(oo.raw={header:Ve,sectors:pt}),oo}function g(F){if(F[F.l]==80&&F[F.l+1]==75)return[0,0];F.chk(ne,"Header Signature: "),F.l+=16;var Z=F.read_shift(2,"u");return[F.read_shift(2,"u"),Z]}function v(F,Z){var q=9;switch(F.l+=2,q=F.read_shift(2)){case 9:if(Z!=3)throw new Error("Sector Shift: Expected 9 saw "+q);break;case 12:if(Z!=4)throw new Error("Sector Shift: Expected 12 saw "+q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+q)}F.chk("0600","Mini Sector Shift: "),F.chk("000000000000","Reserved: ")}function x(F,Z){for(var q=Math.ceil(F.length/Z)-1,X=[],J=1;J<q;++J)X[J-1]=F.slice(J*Z,(J+1)*Z);return X[q-1]=F.slice(q*Z),X}function y(F,Z,q){for(var X=0,J=0,te=0,ye=0,Ne=0,ve=q.length,xe=[],we=[];X<ve;++X)xe[X]=we[X]=X,Z[X]=q[X];for(;Ne<we.length;++Ne)X=we[Ne],J=F[X].L,te=F[X].R,ye=F[X].C,xe[X]===X&&(J!==-1&&xe[J]!==J&&(xe[X]=xe[J]),te!==-1&&xe[te]!==te&&(xe[X]=xe[te])),ye!==-1&&(xe[ye]=X),J!==-1&&X!=xe[X]&&(xe[J]=xe[X],we.lastIndexOf(J)<Ne&&we.push(J)),te!==-1&&X!=xe[X]&&(xe[te]=xe[X],we.lastIndexOf(te)<Ne&&we.push(te));for(X=1;X<ve;++X)xe[X]===X&&(te!==-1&&xe[te]!==te?xe[X]=xe[te]:J!==-1&&xe[J]!==J&&(xe[X]=xe[J]));for(X=1;X<ve;++X)if(F[X].type!==0){if(Ne=X,Ne!=xe[Ne])do Ne=xe[Ne],Z[X]=Z[Ne]+"/"+Z[X];while(Ne!==0&&xe[Ne]!==-1&&Ne!=xe[Ne]);xe[X]=-1}for(Z[0]+="/",X=1;X<ve;++X)F[X].type!==2&&(Z[X]+="/")}function w(F,Z,q){for(var X=F.start,J=F.size,te=[],ye=X;q&&J>0&&ye>=0;)te.push(Z.slice(ye*z,ye*z+z)),J-=z,ye=nc(q,ye*4);return te.length===0?Yr(0):Ho(te).slice(0,F.size)}function b(F,Z,q,X,J){var te=G;if(F===G){if(Z!==0)throw new Error("DIFAT chain shorter than expected")}else if(F!==-1){var ye=q[F],Ne=(X>>>2)-1;if(!ye)return;for(var ve=0;ve<Ne&&(te=nc(ye,ve*4))!==G;++ve)J.push(te);b(nc(ye,X-4),Z-1,q,X,J)}}function S(F,Z,q,X,J){var te=[],ye=[];J||(J=[]);var Ne=X-1,ve=0,xe=0;for(ve=Z;ve>=0;){J[ve]=!0,te[te.length]=ve,ye.push(F[ve]);var we=q[Math.floor(ve*4/X)];if(xe=ve*4&Ne,X<4+xe)throw new Error("FAT boundary crossed: "+ve+" 4 "+X);if(!F[we])break;ve=nc(F[we],xe)}return{nodes:te,data:CR([ye])}}function T(F,Z,q,X){var J=F.length,te=[],ye=[],Ne=[],ve=[],xe=X-1,we=0,Fe=0,Ve=0,Ye=0;for(we=0;we<J;++we)if(Ne=[],Ve=we+Z,Ve>=J&&(Ve-=J),!ye[Ve]){ve=[];var Le=[];for(Fe=Ve;Fe>=0;){Le[Fe]=!0,ye[Fe]=!0,Ne[Ne.length]=Fe,ve.push(F[Fe]);var Be=q[Math.floor(Fe*4/X)];if(Ye=Fe*4&xe,X<4+Ye)throw new Error("FAT boundary crossed: "+Fe+" 4 "+X);if(!F[Be]||(Fe=nc(F[Be],Ye),Le[Fe]))break}te[Ve]={nodes:Ne,data:CR([ve])}}return te}function E(F,Z,q,X,J,te,ye,Ne){for(var ve=0,xe=X.length?2:0,we=Z[F].data,Fe=0,Ve=0,Ye;Fe<we.length;Fe+=128){var Le=we.slice(Fe,Fe+128);wn(Le,64),Ve=Le.read_shift(2),Ye=jE(Le,0,Ve-xe),X.push(Ye);var Be={name:Ye,type:Le.read_shift(1),color:Le.read_shift(1),L:Le.read_shift(4,"i"),R:Le.read_shift(4,"i"),C:Le.read_shift(4,"i"),clsid:Le.read_shift(16),state:Le.read_shift(4,"i"),start:0,size:0},pt=Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2);pt!==0&&(Be.ct=A(Le,Le.l-8));var nr=Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2);nr!==0&&(Be.mt=A(Le,Le.l-8)),Be.start=Le.read_shift(4,"i"),Be.size=Le.read_shift(4,"i"),Be.size<0&&Be.start<0&&(Be.size=Be.type=0,Be.start=G,Be.name=""),Be.type===5?(ve=Be.start,J>0&&ve!==G&&(Z[ve].name="!StreamData")):Be.size>=4096?(Be.storage="fat",Z[Be.start]===void 0&&(Z[Be.start]=S(q,Be.start,Z.fat_addrs,Z.ssz)),Z[Be.start].name=Be.name,Be.content=Z[Be.start].data.slice(0,Be.size)):(Be.storage="minifat",Be.size<0?Be.size=0:ve!==G&&Be.start!==G&&Z[ve]&&(Be.content=w(Be,Z[ve].data,(Z[Ne]||{}).data))),Be.content&&wn(Be.content,0),te[Ye]=Be,ye.push(Be)}}function A(F,Z){return new Date((wa(F,Z+4)/1e7*Math.pow(2,32)+wa(F,Z)/1e7-11644473600)*1e3)}function k(F,Z){return f(),m(u.readFileSync(F),Z)}function D(F,Z){var q=Z&&Z.type;switch(q||Ot&&Buffer.isBuffer(F)&&(q="buffer"),q||"base64"){case"file":return k(F,Z);case"base64":return m(gs(Ta(F)),Z);case"binary":return m(gs(F),Z)}return m(F,Z)}function R(F,Z){var q=Z||{},X=q.root||"Root Entry";if(F.FullPaths||(F.FullPaths=[]),F.FileIndex||(F.FileIndex=[]),F.FullPaths.length!==F.FileIndex.length)throw new Error("inconsistent CFB structure");F.FullPaths.length===0&&(F.FullPaths[0]=X+"/",F.FileIndex[0]={name:X,type:5}),q.CLSID&&(F.FileIndex[0].clsid=q.CLSID),P(F)}function P(F){var Z="Sh33tJ5";if(!Ft.find(F,"/"+Z)){var q=Yr(4);q[0]=55,q[1]=q[3]=50,q[2]=54,F.FileIndex.push({name:Z,type:2,content:q,size:4,L:69,R:69,C:69}),F.FullPaths.push(F.FullPaths[0]+Z),I(F)}}function I(F,Z){R(F);for(var q=!1,X=!1,J=F.FullPaths.length-1;J>=0;--J){var te=F.FileIndex[J];switch(te.type){case 0:X?q=!0:(F.FileIndex.pop(),F.FullPaths.pop());break;case 1:case 2:case 5:X=!0,isNaN(te.R*te.L*te.C)&&(q=!0),te.R>-1&&te.L>-1&&te.R==te.L&&(q=!0);break;default:q=!0;break}}if(!(!q&&!Z)){var ye=new Date(1987,1,19),Ne=0,ve=Object.create?Object.create(null):{},xe=[];for(J=0;J<F.FullPaths.length;++J)ve[F.FullPaths[J]]=!0,F.FileIndex[J].type!==0&&xe.push([F.FullPaths[J],F.FileIndex[J]]);for(J=0;J<xe.length;++J){var we=n(xe[J][0]);X=ve[we],X||(xe.push([we,{name:a(we).replace("/",""),type:1,clsid:L,ct:ye,mt:ye,content:null}]),ve[we]=!0)}for(xe.sort(function(Ye,Le){return r(Ye[0],Le[0])}),F.FullPaths=[],F.FileIndex=[],J=0;J<xe.length;++J)F.FullPaths[J]=xe[J][0],F.FileIndex[J]=xe[J][1];for(J=0;J<xe.length;++J){var Fe=F.FileIndex[J],Ve=F.FullPaths[J];if(Fe.name=a(Ve).replace("/",""),Fe.L=Fe.R=Fe.C=-(Fe.color=1),Fe.size=Fe.content?Fe.content.length:0,Fe.start=0,Fe.clsid=Fe.clsid||L,J===0)Fe.C=xe.length>1?1:-1,Fe.size=0,Fe.type=5;else if(Ve.slice(-1)=="/"){for(Ne=J+1;Ne<xe.length&&n(F.FullPaths[Ne])!=Ve;++Ne);for(Fe.C=Ne>=xe.length?-1:Ne,Ne=J+1;Ne<xe.length&&n(F.FullPaths[Ne])!=n(Ve);++Ne);Fe.R=Ne>=xe.length?-1:Ne,Fe.type=1}else n(F.FullPaths[J+1]||"")==n(Ve)&&(Fe.R=J+1),Fe.type=2}}}function B(F,Z){var q=Z||{};if(q.fileType=="mad")return Oa(F,q);switch(I(F),q.fileType){case"zip":return pi(F,q)}var X=function(Ye){for(var Le=0,Be=0,pt=0;pt<Ye.FileIndex.length;++pt){var nr=Ye.FileIndex[pt];if(nr.content){var $t=nr.content.length;$t>0&&($t<4096?Le+=$t+63>>6:Be+=$t+511>>9)}}for(var gr=Ye.FullPaths.length+3>>2,jn=Le+7>>3,Cl=Le+127>>7,oo=jn+Be+gr+Cl,Is=oo+127>>7,Dd=Is<=109?0:Math.ceil((Is-109)/127);oo+Is+Dd+127>>7>Is;)Dd=++Is<=109?0:Math.ceil((Is-109)/127);var Jn=[1,Dd,Is,Cl,gr,Be,Le,0];return Ye.FileIndex[0].size=Le<<6,Jn[7]=(Ye.FileIndex[0].start=Jn[0]+Jn[1]+Jn[2]+Jn[3]+Jn[4]+Jn[5])+(Jn[6]+7>>3),Jn}(F),J=Yr(X[7]<<9),te=0,ye=0;{for(te=0;te<8;++te)J.write_shift(1,se[te]);for(te=0;te<8;++te)J.write_shift(2,0);for(J.write_shift(2,62),J.write_shift(2,3),J.write_shift(2,65534),J.write_shift(2,9),J.write_shift(2,6),te=0;te<3;++te)J.write_shift(2,0);for(J.write_shift(4,0),J.write_shift(4,X[2]),J.write_shift(4,X[0]+X[1]+X[2]+X[3]-1),J.write_shift(4,0),J.write_shift(4,4096),J.write_shift(4,X[3]?X[0]+X[1]+X[2]-1:G),J.write_shift(4,X[3]),J.write_shift(-4,X[1]?X[0]-1:G),J.write_shift(4,X[1]),te=0;te<109;++te)J.write_shift(-4,te<X[2]?X[1]+te:-1)}if(X[1])for(ye=0;ye<X[1];++ye){for(;te<236+ye*127;++te)J.write_shift(-4,te<X[2]?X[1]+te:-1);J.write_shift(-4,ye===X[1]-1?G:ye+1)}var Ne=function(Ye){for(ye+=Ye;te<ye-1;++te)J.write_shift(-4,te+1);Ye&&(++te,J.write_shift(-4,G))};for(ye=te=0,ye+=X[1];te<ye;++te)J.write_shift(-4,oe.DIFSECT);for(ye+=X[2];te<ye;++te)J.write_shift(-4,oe.FATSECT);Ne(X[3]),Ne(X[4]);for(var ve=0,xe=0,we=F.FileIndex[0];ve<F.FileIndex.length;++ve)we=F.FileIndex[ve],we.content&&(xe=we.content.length,!(xe<4096)&&(we.start=ye,Ne(xe+511>>9)));for(Ne(X[6]+7>>3);J.l&511;)J.write_shift(-4,oe.ENDOFCHAIN);for(ye=te=0,ve=0;ve<F.FileIndex.length;++ve)we=F.FileIndex[ve],we.content&&(xe=we.content.length,!(!xe||xe>=4096)&&(we.start=ye,Ne(xe+63>>6)));for(;J.l&511;)J.write_shift(-4,oe.ENDOFCHAIN);for(te=0;te<X[4]<<2;++te){var Fe=F.FullPaths[te];if(!Fe||Fe.length===0){for(ve=0;ve<17;++ve)J.write_shift(4,0);for(ve=0;ve<3;++ve)J.write_shift(4,-1);for(ve=0;ve<12;++ve)J.write_shift(4,0);continue}we=F.FileIndex[te],te===0&&(we.start=we.size?we.start-1:G);var Ve=te===0&&q.root||we.name;if(xe=2*(Ve.length+1),J.write_shift(64,Ve,"utf16le"),J.write_shift(2,xe),J.write_shift(1,we.type),J.write_shift(1,we.color),J.write_shift(-4,we.L),J.write_shift(-4,we.R),J.write_shift(-4,we.C),we.clsid)J.write_shift(16,we.clsid,"hex");else for(ve=0;ve<4;++ve)J.write_shift(4,0);J.write_shift(4,we.state||0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,we.start),J.write_shift(4,we.size),J.write_shift(4,0)}for(te=1;te<F.FileIndex.length;++te)if(we=F.FileIndex[te],we.size>=4096)if(J.l=we.start+1<<9,Ot&&Buffer.isBuffer(we.content))we.content.copy(J,J.l,0,we.size),J.l+=we.size+511&-512;else{for(ve=0;ve<we.size;++ve)J.write_shift(1,we.content[ve]);for(;ve&511;++ve)J.write_shift(1,0)}for(te=1;te<F.FileIndex.length;++te)if(we=F.FileIndex[te],we.size>0&&we.size<4096)if(Ot&&Buffer.isBuffer(we.content))we.content.copy(J,J.l,0,we.size),J.l+=we.size+63&-64;else{for(ve=0;ve<we.size;++ve)J.write_shift(1,we.content[ve]);for(;ve&63;++ve)J.write_shift(1,0)}if(Ot)J.l=J.length;else for(;J.l<J.length;)J.write_shift(1,0);return J}function H(F,Z){var q=F.FullPaths.map(function(ve){return ve.toUpperCase()}),X=q.map(function(ve){var xe=ve.split("/");return xe[xe.length-(ve.slice(-1)=="/"?2:1)]}),J=!1;Z.charCodeAt(0)===47?(J=!0,Z=q[0].slice(0,-1)+Z):J=Z.indexOf("/")!==-1;var te=Z.toUpperCase(),ye=J===!0?q.indexOf(te):X.indexOf(te);if(ye!==-1)return F.FileIndex[ye];var Ne=!te.match(qf);for(te=te.replace(Yn,""),Ne&&(te=te.replace(qf,"!")),ye=0;ye<q.length;++ye)if((Ne?q[ye].replace(qf,"!"):q[ye]).replace(Yn,"")==te||(Ne?X[ye].replace(qf,"!"):X[ye]).replace(Yn,"")==te)return F.FileIndex[ye];return null}var z=64,G=-2,ne="d0cf11e0a1b11ae1",se=[208,207,17,224,161,177,26,225],L="00000000000000000000000000000000",oe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:G,FREESECT:-1,HEADER_SIGNATURE:ne,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:L,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function le(F,Z,q){f();var X=B(F,q);u.writeFileSync(Z,X)}function W(F){for(var Z=new Array(F.length),q=0;q<F.length;++q)Z[q]=String.fromCharCode(F[q]);return Z.join("")}function V(F,Z){var q=B(F,Z);switch(Z&&Z.type||"buffer"){case"file":return f(),u.writeFileSync(Z.filename,q),q;case"binary":return typeof q=="string"?q:W(q);case"base64":return oR(typeof q=="string"?q:W(q));case"buffer":if(Ot)return Buffer.isBuffer(q)?q:Oc(q);case"array":return typeof q=="string"?gs(q):q}return q}var ce;function j(F){try{var Z=F.InflateRaw,q=new Z;if(q._processChunk(new Uint8Array([3,0]),q._finishFlushFlag),q.bytesRead)ce=F;else throw new Error("zlib does not expose bytesRead")}catch(X){console.error("cannot use native zlib: "+(X.message||X))}}function ee(F,Z){if(!ce)return io(F,Z);var q=ce.InflateRaw,X=new q,J=X._processChunk(F.slice(F.l),X._finishFlushFlag);return F.l+=X.bytesRead,J}function K(F){return ce?ce.deflateRawSync(F):ot(F)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],be=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ee(F){var Z=(F<<1|F<<11)&139536|(F<<5|F<<15)&558144;return(Z>>16|Z>>8|Z)&255}for(var ue=typeof Uint8Array<"u",me=ue?new Uint8Array(256):[],Ae=0;Ae<256;++Ae)me[Ae]=Ee(Ae);function Y(F,Z){var q=me[F&255];return Z<=8?q>>>8-Z:(q=q<<8|me[F>>8&255],Z<=16?q>>>16-Z:(q=q<<8|me[F>>16&255],q>>>24-Z))}function He(F,Z){var q=Z&7,X=Z>>>3;return(F[X]|(q<=6?0:F[X+1]<<8))>>>q&3}function Ce(F,Z){var q=Z&7,X=Z>>>3;return(F[X]|(q<=5?0:F[X+1]<<8))>>>q&7}function Ge(F,Z){var q=Z&7,X=Z>>>3;return(F[X]|(q<=4?0:F[X+1]<<8))>>>q&15}function $e(F,Z){var q=Z&7,X=Z>>>3;return(F[X]|(q<=3?0:F[X+1]<<8))>>>q&31}function Oe(F,Z){var q=Z&7,X=Z>>>3;return(F[X]|(q<=1?0:F[X+1]<<8))>>>q&127}function ie(F,Z,q){var X=Z&7,J=Z>>>3,te=(1<<q)-1,ye=F[J]>>>X;return q<8-X||(ye|=F[J+1]<<8-X,q<16-X)||(ye|=F[J+2]<<16-X,q<24-X)||(ye|=F[J+3]<<24-X),ye&te}function fe(F,Z,q){var X=Z&7,J=Z>>>3;return X<=5?F[J]|=(q&7)<<X:(F[J]|=q<<X&255,F[J+1]=(q&7)>>8-X),Z+3}function Se(F,Z,q){var X=Z&7,J=Z>>>3;return q=(q&1)<<X,F[J]|=q,Z+1}function Me(F,Z,q){var X=Z&7,J=Z>>>3;return q<<=X,F[J]|=q&255,q>>>=8,F[J+1]=q,Z+8}function Re(F,Z,q){var X=Z&7,J=Z>>>3;return q<<=X,F[J]|=q&255,q>>>=8,F[J+1]=q&255,F[J+2]=q>>>8,Z+16}function De(F,Z){var q=F.length,X=2*q>Z?2*q:Z+5,J=0;if(q>=Z)return F;if(Ot){var te=lR(X);if(F.copy)F.copy(te);else for(;J<F.length;++J)te[J]=F[J];return te}else if(ue){var ye=new Uint8Array(X);if(ye.set)ye.set(F);else for(;J<q;++J)ye[J]=F[J];return ye}return F.length=X,F}function je(F){for(var Z=new Array(F),q=0;q<F;++q)Z[q]=0;return Z}function Ze(F,Z,q){var X=1,J=0,te=0,ye=0,Ne=0,ve=F.length,xe=ue?new Uint16Array(32):je(32);for(te=0;te<32;++te)xe[te]=0;for(te=ve;te<q;++te)F[te]=0;ve=F.length;var we=ue?new Uint16Array(ve):je(ve);for(te=0;te<ve;++te)xe[J=F[te]]++,X<J&&(X=J),we[te]=0;for(xe[0]=0,te=1;te<=X;++te)xe[te+16]=Ne=Ne+xe[te-1]<<1;for(te=0;te<ve;++te)Ne=F[te],Ne!=0&&(we[te]=xe[Ne+16]++);var Fe=0;for(te=0;te<ve;++te)if(Fe=F[te],Fe!=0)for(Ne=Y(we[te],X)>>X-Fe,ye=(1<<X+4-Fe)-1;ye>=0;--ye)Z[Ne|ye<<Fe]=Fe&15|te<<4;return X}var bt=ue?new Uint16Array(512):je(512),At=ue?new Uint16Array(32):je(32);if(!ue){for(var Dt=0;Dt<512;++Dt)bt[Dt]=0;for(Dt=0;Dt<32;++Dt)At[Dt]=0}(function(){for(var F=[],Z=0;Z<32;Z++)F.push(5);Ze(F,At,32);var q=[];for(Z=0;Z<=143;Z++)q.push(8);for(;Z<=255;Z++)q.push(9);for(;Z<=279;Z++)q.push(7);for(;Z<=287;Z++)q.push(8);Ze(q,bt,288)})();var Jr=function(){for(var Z=ue?new Uint8Array(32768):[],q=0,X=0;q<be.length-1;++q)for(;X<be[q+1];++X)Z[X]=q;for(;X<32768;++X)Z[X]=29;var J=ue?new Uint8Array(259):[];for(q=0,X=0;q<re.length-1;++q)for(;X<re[q+1];++X)J[X]=q;function te(Ne,ve){for(var xe=0;xe<Ne.length;){var we=Math.min(65535,Ne.length-xe),Fe=xe+we==Ne.length;for(ve.write_shift(1,+Fe),ve.write_shift(2,we),ve.write_shift(2,~we&65535);we-- >0;)ve[ve.l++]=Ne[xe++]}return ve.l}function ye(Ne,ve){for(var xe=0,we=0,Fe=ue?new Uint16Array(32768):[];we<Ne.length;){var Ve=Math.min(65535,Ne.length-we);if(Ve<10){for(xe=fe(ve,xe,+(we+Ve==Ne.length)),xe&7&&(xe+=8-(xe&7)),ve.l=xe/8|0,ve.write_shift(2,Ve),ve.write_shift(2,~Ve&65535);Ve-- >0;)ve[ve.l++]=Ne[we++];xe=ve.l*8;continue}xe=fe(ve,xe,+(we+Ve==Ne.length)+2);for(var Ye=0;Ve-- >0;){var Le=Ne[we];Ye=(Ye<<5^Le)&32767;var Be=-1,pt=0;if((Be=Fe[Ye])&&(Be|=we&-32768,Be>we&&(Be-=32768),Be<we))for(;Ne[Be+pt]==Ne[we+pt]&&pt<250;)++pt;if(pt>2){Le=J[pt],Le<=22?xe=Me(ve,xe,me[Le+1]>>1)-1:(Me(ve,xe,3),xe+=5,Me(ve,xe,me[Le-23]>>5),xe+=3);var nr=Le<8?0:Le-4>>2;nr>0&&(Re(ve,xe,pt-re[Le]),xe+=nr),Le=Z[we-Be],xe=Me(ve,xe,me[Le]>>3),xe-=3;var $t=Le<4?0:Le-2>>1;$t>0&&(Re(ve,xe,we-Be-be[Le]),xe+=$t);for(var gr=0;gr<pt;++gr)Fe[Ye]=we&32767,Ye=(Ye<<5^Ne[we])&32767,++we;Ve-=pt-1}else Le<=143?Le=Le+48:xe=Se(ve,xe,1),xe=Me(ve,xe,me[Le]),Fe[Ye]=we&32767,++we}xe=Me(ve,xe,0)-1}return ve.l=(xe+7)/8|0,ve.l}return function(ve,xe){return ve.length<8?te(ve,xe):ye(ve,xe)}}();function ot(F){var Z=Yr(50+Math.floor(F.length*1.1)),q=Jr(F,Z);return Z.slice(0,q)}var qt=ue?new Uint16Array(32768):je(32768),pr=ue?new Uint16Array(32768):je(32768),Gt=ue?new Uint16Array(128):je(128),ur=1,Ds=1;function fa(F,Z){var q=$e(F,Z)+257;Z+=5;var X=$e(F,Z)+1;Z+=5;var J=Ge(F,Z)+4;Z+=4;for(var te=0,ye=ue?new Uint8Array(19):je(19),Ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ve=1,xe=ue?new Uint8Array(8):je(8),we=ue?new Uint8Array(8):je(8),Fe=ye.length,Ve=0;Ve<J;++Ve)ye[Q[Ve]]=te=Ce(F,Z),ve<te&&(ve=te),xe[te]++,Z+=3;var Ye=0;for(xe[0]=0,Ve=1;Ve<=ve;++Ve)we[Ve]=Ye=Ye+xe[Ve-1]<<1;for(Ve=0;Ve<Fe;++Ve)(Ye=ye[Ve])!=0&&(Ne[Ve]=we[Ye]++);var Le=0;for(Ve=0;Ve<Fe;++Ve)if(Le=ye[Ve],Le!=0){Ye=me[Ne[Ve]]>>8-Le;for(var Be=(1<<7-Le)-1;Be>=0;--Be)Gt[Ye|Be<<Le]=Le&7|Ve<<3}var pt=[];for(ve=1;pt.length<q+X;)switch(Ye=Gt[Oe(F,Z)],Z+=Ye&7,Ye>>>=3){case 16:for(te=3+He(F,Z),Z+=2,Ye=pt[pt.length-1];te-- >0;)pt.push(Ye);break;case 17:for(te=3+Ce(F,Z),Z+=3;te-- >0;)pt.push(0);break;case 18:for(te=11+Oe(F,Z),Z+=7;te-- >0;)pt.push(0);break;default:pt.push(Ye),ve<Ye&&(ve=Ye);break}var nr=pt.slice(0,q),$t=pt.slice(q);for(Ve=q;Ve<286;++Ve)nr[Ve]=0;for(Ve=X;Ve<30;++Ve)$t[Ve]=0;return ur=Ze(nr,qt,286),Ds=Ze($t,pr,30),Z}function pn(F,Z){if(F[0]==3&&!(F[1]&3))return[hl(Z),2];for(var q=0,X=0,J=lR(Z||1<<18),te=0,ye=J.length>>>0,Ne=0,ve=0;(X&1)==0;){if(X=Ce(F,q),q+=3,X>>>1)X>>1==1?(Ne=9,ve=5):(q=fa(F,q),Ne=ur,ve=Ds);else{q&7&&(q+=8-(q&7));var xe=F[q>>>3]|F[(q>>>3)+1]<<8;if(q+=32,xe>0)for(!Z&&ye<te+xe&&(J=De(J,te+xe),ye=J.length);xe-- >0;)J[te++]=F[q>>>3],q+=8;continue}for(;;){!Z&&ye<te+32767&&(J=De(J,te+32767),ye=J.length);var we=ie(F,q,Ne),Fe=X>>>1==1?bt[we]:qt[we];if(q+=Fe&15,Fe>>>=4,(Fe>>>8&255)===0)J[te++]=Fe;else{if(Fe==256)break;Fe-=257;var Ve=Fe<8?0:Fe-4>>2;Ve>5&&(Ve=0);var Ye=te+re[Fe];Ve>0&&(Ye+=ie(F,q,Ve),q+=Ve),we=ie(F,q,ve),Fe=X>>>1==1?At[we]:pr[we],q+=Fe&15,Fe>>>=4;var Le=Fe<4?0:Fe-2>>1,Be=be[Fe];for(Le>0&&(Be+=ie(F,q,Le),q+=Le),!Z&&ye<Ye&&(J=De(J,Ye+100),ye=J.length);te<Ye;)J[te]=J[te-Be],++te}}}return Z?[J,q+7>>>3]:[J.slice(0,te),q+7>>>3]}function io(F,Z){var q=F.slice(F.l||0),X=pn(q,Z);return F.l+=X[1],X[0]}function ha(F,Z){if(F)typeof console<"u"&&console.error(Z);else throw new Error(Z)}function Vc(F,Z){var q=F;wn(q,0);var X=[],J=[],te={FileIndex:X,FullPaths:J};R(te,{root:Z.root});for(var ye=q.length-4;(q[ye]!=80||q[ye+1]!=75||q[ye+2]!=5||q[ye+3]!=6)&&ye>=0;)--ye;q.l=ye+4,q.l+=4;var Ne=q.read_shift(2);q.l+=6;var ve=q.read_shift(4);for(q.l=ve,ye=0;ye<Ne;++ye){q.l+=20;var xe=q.read_shift(4),we=q.read_shift(4),Fe=q.read_shift(2),Ve=q.read_shift(2),Ye=q.read_shift(2);q.l+=8;var Le=q.read_shift(4),Be=c(q.slice(q.l+Fe,q.l+Fe+Ve));q.l+=Fe+Ve+Ye;var pt=q.l;q.l=Le+4,mi(q,xe,we,te,Be),q.l=pt}return te}function mi(F,Z,q,X,J){F.l+=2;var te=F.read_shift(2),ye=F.read_shift(2),Ne=o(F);if(te&8257)throw new Error("Unsupported ZIP encryption");for(var ve=F.read_shift(4),xe=F.read_shift(4),we=F.read_shift(4),Fe=F.read_shift(2),Ve=F.read_shift(2),Ye="",Le=0;Le<Fe;++Le)Ye+=String.fromCharCode(F[F.l++]);if(Ve){var Be=c(F.slice(F.l,F.l+Ve));(Be[21589]||{}).mt&&(Ne=Be[21589].mt),((J||{})[21589]||{}).mt&&(Ne=J[21589].mt)}F.l+=Ve;var pt=F.slice(F.l,F.l+xe);switch(ye){case 8:pt=ee(F,we);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ye)}var nr=!1;te&8&&(ve=F.read_shift(4),ve==134695760&&(ve=F.read_shift(4),nr=!0),xe=F.read_shift(4),we=F.read_shift(4)),xe!=Z&&ha(nr,"Bad compressed size: "+Z+" != "+xe),we!=q&&ha(nr,"Bad uncompressed size: "+q+" != "+we),tn(X,Ye,pt,{unsafe:!0,mt:Ne})}function pi(F,Z){var q=Z||{},X=[],J=[],te=Yr(1),ye=q.compression?8:0,Ne=0,ve=0,xe=0,we=0,Fe=0,Ve=F.FullPaths[0],Ye=Ve,Le=F.FileIndex[0],Be=[],pt=0;for(ve=1;ve<F.FullPaths.length;++ve)if(Ye=F.FullPaths[ve].slice(Ve.length),Le=F.FileIndex[ve],!(!Le.size||!Le.content||Ye=="Sh33tJ5")){var nr=we,$t=Yr(Ye.length);for(xe=0;xe<Ye.length;++xe)$t.write_shift(1,Ye.charCodeAt(xe)&127);$t=$t.slice(0,$t.l),Be[Fe]=die.buf(Le.content,0);var gr=Le.content;ye==8&&(gr=K(gr)),te=Yr(30),te.write_shift(4,67324752),te.write_shift(2,20),te.write_shift(2,Ne),te.write_shift(2,ye),Le.mt?s(te,Le.mt):te.write_shift(4,0),te.write_shift(-4,Be[Fe]),te.write_shift(4,gr.length),te.write_shift(4,Le.content.length),te.write_shift(2,$t.length),te.write_shift(2,0),we+=te.length,X.push(te),we+=$t.length,X.push($t),we+=gr.length,X.push(gr),te=Yr(46),te.write_shift(4,33639248),te.write_shift(2,0),te.write_shift(2,20),te.write_shift(2,Ne),te.write_shift(2,ye),te.write_shift(4,0),te.write_shift(-4,Be[Fe]),te.write_shift(4,gr.length),te.write_shift(4,Le.content.length),te.write_shift(2,$t.length),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(4,0),te.write_shift(4,nr),pt+=te.l,J.push(te),pt+=$t.length,J.push($t),++Fe}return te=Yr(22),te.write_shift(4,101010256),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,Fe),te.write_shift(2,Fe),te.write_shift(4,pt),te.write_shift(4,we),te.write_shift(2,0),Ho([Ho(X),Ho(J),te])}var st={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function dr(F,Z){if(F.ctype)return F.ctype;var q=F.name||"",X=q.match(/\.([^\.]+)$/);return X&&st[X[1]]||Z&&(X=(q=Z).match(/[\.\\]([^\.\\])+$/),X&&st[X[1]])?st[X[1]]:"application/octet-stream"}function fr(F){for(var Z=oR(F),q=[],X=0;X<Z.length;X+=76)q.push(Z.slice(X,X+76));return q.join(`\r
`)+`\r
`}function gn(F){var Z=F.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(xe){var we=xe.charCodeAt(0).toString(16).toUpperCase();return"="+(we.length==1?"0"+we:we)});Z=Z.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Z.charAt(0)==`
`&&(Z="=0D"+Z.slice(1)),Z=Z.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var q=[],X=Z.split(`\r
`),J=0;J<X.length;++J){var te=X[J];if(te.length==0){q.push("");continue}for(var ye=0;ye<te.length;){var Ne=76,ve=te.slice(ye,ye+Ne);ve.charAt(Ne-1)=="="?Ne--:ve.charAt(Ne-2)=="="?Ne-=2:ve.charAt(Ne-3)=="="&&(Ne-=3),ve=te.slice(ye,ye+Ne),ye+=Ne,ye<te.length&&(ve+="="),q.push(ve)}}return q.join(`\r
`)}function gi(F){for(var Z=[],q=0;q<F.length;++q){for(var X=F[q];q<=F.length&&X.charAt(X.length-1)=="=";)X=X.slice(0,X.length-1)+F[++q];Z.push(X)}for(var J=0;J<Z.length;++J)Z[J]=Z[J].replace(/[=][0-9A-Fa-f]{2}/g,function(te){return String.fromCharCode(parseInt(te.slice(1),16))});return gs(Z.join(`\r
`))}function Er(F,Z,q){for(var X="",J="",te="",ye,Ne=0;Ne<10;++Ne){var ve=Z[Ne];if(!ve||ve.match(/^\s*$/))break;var xe=ve.match(/^(.*?):\s*([^\s].*)$/);if(xe)switch(xe[1].toLowerCase()){case"content-location":X=xe[2].trim();break;case"content-type":te=xe[2].trim();break;case"content-transfer-encoding":J=xe[2].trim();break}}switch(++Ne,J.toLowerCase()){case"base64":ye=gs(Ta(Z.slice(Ne).join("")));break;case"quoted-printable":ye=gi(Z.slice(Ne));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+J)}var we=tn(F,X.slice(q.length),ye,{unsafe:!0});te&&(we.ctype=te)}function en(F,Z){if(W(F.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var q=Z&&Z.root||"",X=(Ot&&Buffer.isBuffer(F)?F.toString("binary"):W(F)).split(`\r
`),J=0,te="";for(J=0;J<X.length;++J)if(te=X[J],!!/^Content-Location:/i.test(te)&&(te=te.slice(te.indexOf("file")),q||(q=te.slice(0,te.lastIndexOf("/")+1)),te.slice(0,q.length)!=q))for(;q.length>0&&(q=q.slice(0,q.length-1),q=q.slice(0,q.lastIndexOf("/")+1),te.slice(0,q.length)!=q););var ye=(X[1]||"").match(/boundary="(.*?)"/);if(!ye)throw new Error("MAD cannot find boundary");var Ne="--"+(ye[1]||""),ve=[],xe=[],we={FileIndex:ve,FullPaths:xe};R(we);var Fe,Ve=0;for(J=0;J<X.length;++J){var Ye=X[J];Ye!==Ne&&Ye!==Ne+"--"||(Ve++&&Er(we,X.slice(Fe,J),q),Fe=J)}return we}function Oa(F,Z){var q=Z||{},X=q.boundary||"SheetJS";X="------="+X;for(var J=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+X.slice(2)+'"',"","",""],te=F.FullPaths[0],ye=te,Ne=F.FileIndex[0],ve=1;ve<F.FullPaths.length;++ve)if(ye=F.FullPaths[ve].slice(te.length),Ne=F.FileIndex[ve],!(!Ne.size||!Ne.content||ye=="Sh33tJ5")){ye=ye.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(pt){return"_x"+pt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(pt){return"_u"+pt.charCodeAt(0).toString(16)+"_"});for(var xe=Ne.content,we=Ot&&Buffer.isBuffer(xe)?xe.toString("binary"):W(xe),Fe=0,Ve=Math.min(1024,we.length),Ye=0,Le=0;Le<=Ve;++Le)(Ye=we.charCodeAt(Le))>=32&&Ye<128&&++Fe;var Be=Fe>=Ve*4/5;J.push(X),J.push("Content-Location: "+(q.root||"file:///C:/SheetJS/")+ye),J.push("Content-Transfer-Encoding: "+(Be?"quoted-printable":"base64")),J.push("Content-Type: "+dr(Ne,ye)),J.push(""),J.push(Be?gn(we):fr(we))}return J.push(X+`--\r
`),J.join(`\r
`)}function Fn(F){var Z={};return R(Z,F),Z}function tn(F,Z,q,X){var J=X&&X.unsafe;J||R(F);var te=!J&&Ft.find(F,Z);if(!te){var ye=F.FullPaths[0];Z.slice(0,ye.length)==ye?ye=Z:(ye.slice(-1)!="/"&&(ye+="/"),ye=(ye+Z).replace("//","/")),te={name:a(Z),type:2},F.FileIndex.push(te),F.FullPaths.push(ye),J||Ft.utils.cfb_gc(F)}return te.content=q,te.size=q?q.length:0,X&&(X.CLSID&&(te.clsid=X.CLSID),X.mt&&(te.mt=X.mt),X.ct&&(te.ct=X.ct)),te}function Sl(F,Z){R(F);var q=Ft.find(F,Z);if(q){for(var X=0;X<F.FileIndex.length;++X)if(F.FileIndex[X]==q)return F.FileIndex.splice(X,1),F.FullPaths.splice(X,1),!0}return!1}function Pa(F,Z,q){R(F);var X=Ft.find(F,Z);if(X){for(var J=0;J<F.FileIndex.length;++J)if(F.FileIndex[J]==X)return F.FileIndex[J].name=a(q),F.FullPaths[J]=q,!0}return!1}function Rd(F){I(F,!0)}return t.find=H,t.read=D,t.parse=m,t.write=V,t.writeFile=le,t.utils={cfb_new:Fn,cfb_add:tn,cfb_del:Sl,cfb_mov:Pa,cfb_gc:Rd,ReadShift:oh,CheckField:kF,prep_blob:wn,bconcat:Ho,use_zlib:j,_deflateRaw:ot,_inflateRaw:io,consts:oe},t}();function fie(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function si(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function OE(e){for(var t=[],r=si(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var bg=new Date(1899,11,30,0,0,0);function Kn(e,t){var r=e.getTime(),n=bg.getTime()+(e.getTimezoneOffset()-bg.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var lF=new Date,hie=bg.getTime()+(lF.getTimezoneOffset()-bg.getTimezoneOffset())*6e4,gR=lF.getTimezoneOffset();function Rv(e){var t=new Date;return t.setTime(e*24*60*60*1e3+hie),t.getTimezoneOffset()!==gR&&t.setTime(t.getTime()+(t.getTimezoneOffset()-gR)*6e4),t}function mie(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var vR=new Date("2017-02-19T19:06:09.000Z"),cF=isNaN(vR.getFullYear())?new Date("2/19/17"):vR,pie=cF.getFullYear()==2017;function fn(e,t){var r=new Date(e);if(pie)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(cF.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Tc(e,t){if(Ot&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Yf(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Yf(X3(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Yf(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Yf(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function En(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=En(e[r]));return t}function Nr(e,t){for(var r="";r.length<t;)r+=e;return r}function Ss(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var gie=["january","february","march","april","may","june","july","august","september","october","november","december"];function ad(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&gie.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var vie=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),o=[s[0]],c=1;c<s.length;++c)o.push(a),o.push(s[c]);return o}}();function uF(e){return e?e.content&&e.type?Tc(e.content,!0):e.data?Wf(e.data):e.asNodeBuffer&&Ot?Wf(e.asNodeBuffer().toString("binary")):e.asBinary?Wf(e.asBinary()):e._data&&e._data.getContent?Wf(Tc(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function dF(e){if(!e)return null;if(e.data)return sR(e.data);if(e.asNodeBuffer&&Ot)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?sR(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function xie(e){return e&&e.name.slice(-4)===".bin"?dF(e):uF(e)}function Xa(e,t){for(var r=e.FullPaths||si(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var o=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function PE(e,t){var r=Xa(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Ur(e,t,r){if(!r)return xie(PE(e,t));if(!t)return null;try{return Ur(e,t)}catch{return null}}function _a(e,t,r){if(!r)return uF(PE(e,t));if(!t)return null;try{return _a(e,t)}catch{return null}}function yie(e,t,r){return dF(PE(e,t))}function xR(e){for(var t=e.FullPaths||si(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function bie(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Ot?n=Oc(r):n=Bse(r),Ft.utils.cfb_add(e,t,n)}Ft.utils.cfb_add(e,t,r)}else e.file(t,r)}function fF(e,t){switch(t.type){case"base64":return Ft.read(e,{type:"base64"});case"binary":return Ft.read(e,{type:"binary"});case"buffer":case"array":return Ft.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Gf(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var hF=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,wie=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,yR=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,_ie=/<[^>]*>/g,Mn=hF.match(yR)?yR:_ie,Eie=/<\w*:/,Sie=/<(\/?)\w+:/;function mt(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(wie),c=0,u="",f=0,m="",g="",v=1;if(o)for(f=0;f!=o.length;++f){for(g=o[f],s=0;s!=g.length&&g.charCodeAt(s)!==61;++s);for(m=g.slice(0,s).trim();g.charCodeAt(s+1)==32;)++s;for(v=(a=g.charCodeAt(s+1))==34||a==39?1:0,u=g.slice(s+1+v,g.length-v),c=0;c!=m.length&&m.charCodeAt(c)!==58;++c);if(c===m.length)m.indexOf("_")>0&&(m=m.slice(0,m.indexOf("_"))),n[m]=u,n[m.toLowerCase()]=u;else{var x=(c===5&&m.slice(0,5)==="xmlns"?"xmlns":"")+m.slice(c+1);if(n[x]&&m.slice(c-3,c)=="ext")continue;n[x]=u,n[x.toLowerCase()]=u}}return n}function fi(e){return e.replace(Sie,"<$1")}var mF={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Cie=OE(mF),Lt=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(c,u){return mF[c]||String.fromCharCode(parseInt(u,c.indexOf("x")>-1?16:10))||c}).replace(t,function(c,u){return String.fromCharCode(parseInt(u,16))});var o=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,o)+r(a.slice(o+3))}}(),Tie=/[&<>'"]/g,Nie=/[\u0000-\u001f]/g;function ME(e){var t=e+"";return t.replace(Tie,function(r){return Cie[r]}).replace(/\n/g,"<br/>").replace(Nie,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var bR=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function hr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function F1(e){for(var t="",r=0,n=0,a=0,s=0,o=0,c=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}o=e.charCodeAt(r++),c=((n&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(c>>>10&1023)),t+=String.fromCharCode(56320+(c&1023))}return t}function wR(e){var t=hl(2*e.length),r,n,a=1,s=0,o=0,c;for(n=0;n<e.length;n+=a)a=1,(c=e.charCodeAt(n))<128?r=c:c<224?(r=(c&31)*64+(e.charCodeAt(n+1)&63),a=2):c<240?(r=(c&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(c&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function _R(e){return Oc(e,"binary").toString("utf8")}var ep="foo bar bazâð£",lr=Ot&&(_R(ep)==F1(ep)&&_R||wR(ep)==F1(ep)&&wR)||F1,Yf=Ot?function(e){return Oc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Bh=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),pF=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Aie=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),kie=/<\/?(?:vt:)?variant>/g,Rie=/<(?:vt:)([^>]*)>([\s\S]*)</;function ER(e,t){var r=mt(e),n=e.match(Aie(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var o=s.replace(kie,"").match(Rie);o&&a.push({v:lr(o[2]),t:o[1]})}),a}var Die=/(^\s|\s$|\n)/;function Iie(e){return si(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Oie(e,t,r){return"<"+e+(r!=null?Iie(r):"")+(t!=null?(t.match(Die)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function FE(e){if(Ot&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return lr(Pc(RE(e)));throw new Error("Bad input format: expected Buffer or string")}var Uh=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Pie={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},Mie=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Fie(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function jie(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,o=n?-t:t;isFinite(o)?o==0?a=s=0:(a=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var c=0;c<=5;++c,s/=256)e[r+c]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var SR=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},CR=Ot?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Oc(t)})):SR(e)}:SR,TR=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Bi(e,a)));return n.join("").replace(Yn,"")},jE=Ot?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Yn,""):TR(e,t,r)}:TR,NR=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},gF=Ot?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):NR(e,t,r)}:NR,AR=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Au(e,a)));return n.join("")},y0=Ot?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):AR(t,r,n)}:AR,vF=function(e,t){var r=wa(e,t);return r>0?y0(e,t+4,t+4+r-1):""},xF=vF,yF=function(e,t){var r=wa(e,t);return r>0?y0(e,t+4,t+4+r-1):""},bF=yF,wF=function(e,t){var r=2*wa(e,t);return r>0?y0(e,t+4,t+4+r-1):""},_F=wF,EF=function(t,r){var n=wa(t,r);return n>0?jE(t,r+4,r+4+n):""},SF=EF,CF=function(e,t){var r=wa(e,t);return r>0?y0(e,t+4,t+4+r):""},TF=CF,NF=function(e,t){return Fie(e,t)},wg=NF,AF=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Ot&&(xF=function(t,r){if(!Buffer.isBuffer(t))return vF(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},bF=function(t,r){if(!Buffer.isBuffer(t))return yF(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},_F=function(t,r){if(!Buffer.isBuffer(t))return wF(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},SF=function(t,r){if(!Buffer.isBuffer(t))return EF(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},TF=function(t,r){if(!Buffer.isBuffer(t))return CF(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},wg=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):NF(t,r)},AF=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Au=function(e,t){return e[t]},Bi=function(e,t){return e[t+1]*256+e[t]},Lie=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},wa=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},nc=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Bie=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function oh(e,t){var r="",n,a,s=[],o,c,u,f;switch(t){case"dbcs":if(f=this.l,Ot&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(Bi(this,f)),f+=2;e*=2;break;case"utf8":r=y0(this,this.l,this.l+e);break;case"utf16le":e*=2,r=jE(this,this.l,this.l+e);break;case"wstr":return oh.call(this,e,"dbcs");case"lpstr-ansi":r=xF(this,this.l),e=4+wa(this,this.l);break;case"lpstr-cp":r=bF(this,this.l),e=4+wa(this,this.l);break;case"lpwstr":r=_F(this,this.l),e=4+2*wa(this,this.l);break;case"lpp4":e=4+wa(this,this.l),r=SF(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+wa(this,this.l),r=TF(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Au(this,this.l+e++))!==0;)s.push(Jm(o));r=s.join("");break;case"_wstr":for(e=0,r="";(o=Bi(this,this.l+e))!==0;)s.push(Jm(o)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",f=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return o=Au(this,f),this.l=f+1,c=oh.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(Jm(Bi(this,f))),f+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return o=Au(this,f),this.l=f+1,c=oh.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(Jm(Au(this,f))),f+=1}r=s.join("");break;default:switch(e){case 1:return n=Au(this,this.l),this.l++,n;case 2:return n=(t==="i"?Lie:Bi)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?nc:Bie)(this,this.l),this.l+=4,n):(a=wa(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=wg(this,this.l):a=wg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=gF(this,this.l,e);break}}return this.l+=e,r}var Uie=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Vie=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Hie=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function $ie(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Hie(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Uie(this,t,this.l);break;case 8:if(n=8,r==="f"){jie(this,t,this.l);break}case 16:break;case-4:n=4,Vie(this,t,this.l);break}return this.l+=n,this}function kF(e,t){var r=gF(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function wn(e,t){e.l=t,e.read_shift=oh,e.chk=kF,e.write_shift=$ie}function Pn(e,t){e.l+=t}function Yr(e){var t=hl(e);return wn(t,0),t}function so(e,t,r){if(e){var n,a,s;wn(e,e.l||0);for(var o=e.length,c=0,u=0;e.l<o;){c=e.read_shift(1),c&128&&(c=(c&127)+((e.read_shift(1)&127)<<7));var f=Ng[c]||Ng[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;u=e.l+s;var m=f.f&&f.f(e,s,r);if(e.l=u,t(m,f,c))return}}}function ew(){var e=[],t=Ot?256:2048,r=function(f){var m=Yr(f);return wn(m,0),m},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(f){return n&&f<n.length-n.l?n:(a(),n=r(Math.max(f+1,t)))},o=function(){return a(),Ho(e)},c=function(f){a(),n=f,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:c,end:o,_bufs:e}}function lh(e,t,r){var n=En(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function kR(e,t,r){var n=En(e);return n.s=lh(n.s,t.s,r),n.e=lh(n.e,t.s,r),n}function ch(e,t){if(e.cRel&&e.c<0)for(e=En(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=En(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=xt(e);return!e.cRel&&e.cRel!=null&&(r=qie(r)),!e.rRel&&e.rRel!=null&&(r=zie(r)),r}function j1(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Qr(e.s.c)+":"+(e.e.cRel?"":"$")+Qr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Sn(e.s.r)+":"+(e.e.rRel?"":"$")+Sn(e.e.r):ch(e.s,t.biff)+":"+ch(e.e,t.biff)}function LE(e){return parseInt(Wie(e),10)-1}function Sn(e){return""+(e+1)}function zie(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Wie(e){return e.replace(/\$(\d+)$/,"$1")}function BE(e){for(var t=Gie(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Qr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function qie(e){return e.replace(/^([A-Z])/,"$$$1")}function Gie(e){return e.replace(/^\$([A-Z])/,"$1")}function Yie(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Wn(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function xt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ad(e){var t=e.indexOf(":");return t==-1?{s:Wn(e),e:Wn(e)}:{s:Wn(e.slice(0,t)),e:Wn(e.slice(t+1))}}function jt(e,t){return typeof t>"u"||typeof t=="number"?jt(e.s,e.e):(typeof e!="string"&&(e=xt(e)),typeof t!="string"&&(t=xt(t)),e==t?e:e+":"+t)}function Rr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function RR(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=ts(e.z,r?Kn(t):t)}catch{}try{return e.w=ts((e.XF||{}).numFmtId||(r?14:0),r?Kn(t):t)}catch{return""+t}}function to(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?jc[e.v]||e.v:t==null?RR(e,e.v):RR(e,t))}function El(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function RF(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),o=0,c=0;if(s&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var u=typeof n.origin=="string"?Wn(n.origin):n.origin;o=u.r,c=u.c}s["!ref"]||(s["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var m=Rr(s["!ref"]);f.s.c=m.s.c,f.s.r=m.s.r,f.e.c=Math.max(f.e.c,m.e.c),f.e.r=Math.max(f.e.r,m.e.r),o==-1&&(f.e.r=o=m.e.r+1)}for(var g=0;g!=t.length;++g)if(t[g]){if(!Array.isArray(t[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var v=0;v!=t[g].length;++v)if(!(typeof t[g][v]>"u")){var x={v:t[g][v]},y=o+g,w=c+v;if(f.s.r>y&&(f.s.r=y),f.s.c>w&&(f.s.c=w),f.e.r<y&&(f.e.r=y),f.e.c<w&&(f.e.c=w),t[g][v]&&typeof t[g][v]=="object"&&!Array.isArray(t[g][v])&&!(t[g][v]instanceof Date))x=t[g][v];else if(Array.isArray(x.v)&&(x.f=t[g][v][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(n.nullError)x.t="e",x.v=0;else if(n.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=n.dateNF||yt[14],n.cellDates?(x.t="d",x.w=ts(x.z,Kn(x.v))):(x.t="n",x.v=Kn(x.v),x.w=ts(x.z,x.v))):x.t="s";if(a)s[y]||(s[y]=[]),s[y][w]&&s[y][w].z&&(x.z=s[y][w].z),s[y][w]=x;else{var b=xt({c:w,r:y});s[b]&&s[b].z&&(x.z=s[b].z),s[b]=x}}}return f.s.c<1e7&&(s["!ref"]=jt(f)),s}function kd(e,t){return RF(null,e,t)}function Xie(e){return e.read_shift(4,"i")}function On(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Kie(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function UE(e,t){var r=e.l,n=e.read_shift(1),a=On(e),s=[],o={t:a,h:a};if((n&1)!==0){for(var c=e.read_shift(4),u=0;u!=c;++u)s.push(Kie(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}var Qie=UE;function is(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Mc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var Zie=On;function VE(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Jie=On,tw=VE;function HE(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?wg([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):nc(t,0)>>2;return r?a/100:a}function DF(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Fc=DF;function Dn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function eoe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),c=e.read_shift(1),u=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var f=mc[a];f&&(t.rgb=Hh(f));break;case 2:t.rgb=Hh([o,c,u]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function toe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function IF(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function roe(e){return IF(e,1)}function noe(e){return IF(e,2)}var $E=2,sa=3,tp=11,DR=12,_g=19,rp=64,aoe=65,soe=71,ioe=4108,ooe=4126,ln=80,OF=81,loe=[ln,OF],coe={1:{n:"CodePage",t:$E},2:{n:"Category",t:ln},3:{n:"PresentationFormat",t:ln},4:{n:"ByteCount",t:sa},5:{n:"LineCount",t:sa},6:{n:"ParagraphCount",t:sa},7:{n:"SlideCount",t:sa},8:{n:"NoteCount",t:sa},9:{n:"HiddenCount",t:sa},10:{n:"MultimediaClipCount",t:sa},11:{n:"ScaleCrop",t:tp},12:{n:"HeadingPairs",t:ioe},13:{n:"TitlesOfParts",t:ooe},14:{n:"Manager",t:ln},15:{n:"Company",t:ln},16:{n:"LinksUpToDate",t:tp},17:{n:"CharacterCount",t:sa},19:{n:"SharedDoc",t:tp},22:{n:"HyperlinksChanged",t:tp},23:{n:"AppVersion",t:sa,p:"version"},24:{n:"DigSig",t:aoe},26:{n:"ContentType",t:ln},27:{n:"ContentStatus",t:ln},28:{n:"Language",t:ln},29:{n:"Version",t:ln},255:{},2147483648:{n:"Locale",t:_g},2147483651:{n:"Behavior",t:_g},1919054434:{}},uoe={1:{n:"CodePage",t:$E},2:{n:"Title",t:ln},3:{n:"Subject",t:ln},4:{n:"Author",t:ln},5:{n:"Keywords",t:ln},6:{n:"Comments",t:ln},7:{n:"Template",t:ln},8:{n:"LastAuthor",t:ln},9:{n:"RevNumber",t:ln},10:{n:"EditTime",t:rp},11:{n:"LastPrinted",t:rp},12:{n:"CreatedDate",t:rp},13:{n:"ModifiedDate",t:rp},14:{n:"PageCount",t:sa},15:{n:"WordCount",t:sa},16:{n:"CharCount",t:sa},17:{n:"Thumbnail",t:soe},18:{n:"Application",t:ln},19:{n:"DocSecurity",t:sa},255:{},2147483648:{n:"Locale",t:_g},2147483651:{n:"Behavior",t:_g},1919054434:{}},IR={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},doe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function foe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var hoe=foe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),mc=En(hoe),jc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},PF={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},OR={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function moe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function poe(e){var t=moe();if(!e||!e.match)return t;var r={};if((e.match(Mn)||[]).forEach(function(n){var a=mt(n);switch(a[0].replace(Eie,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[OR[a.ContentType]]!==void 0&&t[OR[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Pie.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Iu={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function rw(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function uh(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Mn)||[]).forEach(function(a){var s=mt(a);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var c=s.TargetMode==="External"?s.Target:Gf(s.Target,t);r[c]=o,n[s.Id]=o}}),r["!id"]=n,r}var goe="application/vnd.oasis.opendocument.spreadsheet";function voe(e,t){for(var r=FE(e),n,a;n=Uh.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=mt(n[0],!1),a.path=="/"&&a.type!==goe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var dh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],xoe=function(){for(var e=new Array(dh.length),t=0;t<dh.length;++t){var r=dh[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function MF(e){var t={};e=lr(e);for(var r=0;r<dh.length;++r){var n=dh[r],a=e.match(xoe[r]);a!=null&&a.length>0&&(t[n[1]]=Lt(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=fn(t[n[1]]))}return t}var yoe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function FF(e,t,r,n){var a=[];if(typeof e=="string")a=ER(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(m){return{v:m}}));var o=typeof t=="string"?ER(t,n).map(function(m){return m.v}):t,c=0,u=0;if(o.length>0)for(var f=0;f!==a.length;f+=2){switch(u=+a[f+1].v,a[f].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=u,r.SheetNames=o.slice(c,c+u);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=u,r.DefinedNames=o.slice(c,c+u);break;case"Charts":case"Diagramme":r.Chartsheets=u,r.ChartNames=o.slice(c,c+u);break}c+=u}}function boe(e,t,r){var n={};return t||(t={}),e=lr(e),yoe.forEach(function(a){var s=(e.match(Bh(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=Lt(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&FF(n.HeadingPairs,n.TitlesOfParts,t,r),t}var woe=/<[^>]+>[^<]*/g;function _oe(e,t){var r={},n="",a=e.match(woe);if(a)for(var s=0;s!=a.length;++s){var o=a[s],c=mt(o);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Lt(c.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var u=o.split(">"),f=u[0].slice(4),m=u[1];switch(f){case"lpstr":case"bstr":case"lpwstr":r[n]=Lt(m);break;case"bool":r[n]=hr(m);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(m,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(m);break;case"filetime":case"date":r[n]=fn(m);break;case"cy":case"error":r[n]=Lt(m);break;default:if(f.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,f,u)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}var Eoe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},L1;function Soe(e,t,r){L1||(L1=OE(Eoe)),t=L1[t]||t,e[t]=r}function zE(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function jF(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function LF(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function BF(e,t,r){return t===31?LF(e):jF(e,t,r)}function nw(e,t,r){return BF(e,t,r===!1?0:4)}function Coe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return BF(e,t,0)}function Toe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Yn,""),e.l-a&2&&(e.l+=2)}return r}function Noe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Yn,"");return r}function Aoe(e){var t=e.l,r=Eg(e,OF);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Eg(e,sa);return[r,n]}function koe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Aoe(e));return r}function PR(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),o=e.read_shift(4);n[s]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(Yn,"").replace(qf,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function UF(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Roe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Eg(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==DR&&n!==t&&loe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===DR?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return jF(e,n,4).replace(Yn,"");case 31:return LF(e);case 64:return zE(e);case 65:return UF(e);case 71:return Roe(e);case 80:return nw(e,n,!s.raw).replace(Yn,"");case 81:return Coe(e,n).replace(Yn,"");case 4108:return koe(e);case 4126:case 4127:return n==4127?Toe(e):Noe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function MR(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],o=0,c=0,u=-1,f={};for(o=0;o!=a;++o){var m=e.read_shift(4),g=e.read_shift(4);s[o]=[m,g+r]}s.sort(function(T,E){return T[1]-E[1]});var v={};for(o=0;o!=a;++o){if(e.l!==s[o][1]){var x=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,x=!1);break;case 80:e.l<=s[o][1]&&(e.l=s[o][1],x=!1);break;case 4108:e.l<=s[o][1]&&(e.l=s[o][1],x=!1);break}if((!t||o==0)&&e.l<=s[o][1]&&(x=!1,e.l=s[o][1]),x)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var y=t[s[o][0]];if(v[y.n]=Eg(e,y.t,{raw:!0}),y.p==="version"&&(v[y.n]=String(v[y.n]>>16)+"."+("0000"+String(v[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(v[y.n]){case 0:v[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ys(c=v[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+v[y.n])}}else if(s[o][0]===1){if(c=v.CodePage=Eg(e,$E),ys(c),u!==-1){var w=e.l;e.l=s[u][1],f=PR(e,c),e.l=w}}else if(s[o][0]===0){if(c===0){u=o,e.l=s[o+1][1];continue}f=PR(e,c)}else{var b=f[s[o][0]],S;switch(e[e.l]){case 65:e.l+=4,S=UF(e);break;case 30:e.l+=4,S=nw(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,S=nw(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,S=e.read_shift(4,"i");break;case 19:e.l+=4,S=e.read_shift(4);break;case 5:e.l+=4,S=e.read_shift(8,"f");break;case 11:e.l+=4,S=Ir(e,4);break;case 64:e.l+=4,S=fn(zE(e));break;default:throw new Error("unparsed value: "+e[e.l])}v[b]=S}}return e.l=r+n,v}function FR(e,t,r){var n=e.content;if(!n)return{};wn(n,0);var a,s,o,c,u=0;n.chk("feff","Byte Order: "),n.read_shift(2);var f=n.read_shift(4),m=n.read_shift(16);if(m!==Ft.utils.consts.HEADER_CLSID&&m!==r)throw new Error("Bad PropertySet CLSID "+m);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),c=n.read_shift(4),a===1&&c!==n.l)throw new Error("Length mismatch: "+c+" !== "+n.l);a===2&&(o=n.read_shift(16),u=n.read_shift(4));var g=MR(n,t),v={SystemIdentifier:f};for(var x in g)v[x]=g[x];if(v.FMTID=s,a===1)return v;if(u-n.l==2&&(n.l+=2),n.l!==u)throw new Error("Length mismatch 2: "+n.l+" !== "+u);var y;try{y=MR(n,null)}catch{}for(x in y)v[x]=y[x];return v.FMTID=[s,o],v}function Oo(e,t){return e.read_shift(t),null}function Doe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Ir(e,t){return e.read_shift(t)===1}function Vr(e){return e.read_shift(2,"u")}function VF(e,t){return Doe(e,t,Vr)}function Ioe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function b0(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function Ooe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),o=0,c,u={};a&&(o=e.read_shift(2)),n&&(c=e.read_shift(4));var f=s==2?"dbcs-cont":"sbcs-cont",m=t===0?"":e.read_shift(t,f);return a&&(e.l+=4*o),n&&(e.l+=c),u.t=m,a||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function Nc(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function w0(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Nc(e,n,r)}function Lc(e,t,r){if(r.biff>5)return w0(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Poe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Moe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Yn,"");return n&&(e.l+=24),a}function Foe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(s>>1,"utf16le").replace(Yn,"");return r+o}function joe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Moe(e);case"0303000000000000c000000000000046":return Foe(e);default:throw new Error("Unsupported Moniker "+r)}}function np(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Yn,""):"";return r}function Loe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,o,c,u,f="",m,g;a&16&&(s=np(e,r-e.l)),a&128&&(o=np(e,r-e.l)),(a&257)===257&&(c=np(e,r-e.l)),(a&257)===1&&(u=joe(e,r-e.l)),a&8&&(f=np(e,r-e.l)),a&32&&(m=e.read_shift(16)),a&64&&(g=zE(e)),e.l=r;var v=o||c||u||"";v&&f&&(v+="#"+f),v||(v="#"+f),a&2&&v.charAt(0)=="/"&&v.charAt(1)!="/"&&(v="file://"+v);var x={Target:v};return m&&(x.guid=m),g&&(x.time=g),s&&(x.Tooltip=s),x}function HF(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function $F(e,t){var r=HF(e);return r[3]=0,r}function hi(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Boe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Uoe(e,t,r){return t===0?"":Lc(e,t,r)}function Voe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,s,o]}function zF(e){var t=e.read_shift(2),r=HE(e);return[t,r]}function Hoe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=b0(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function Dv(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function WF(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var $oe=WF;function qF(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function zoe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Woe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function An(e){e.l+=2,e.l+=e.read_shift(2)}var qoe={0:An,4:An,5:An,6:An,7:Woe,8:An,9:An,10:An,11:An,12:An,13:zoe,14:An,15:An,16:An,17:An,18:An,19:An,20:An,21:qF};function Goe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(qoe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function ap(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function Yoe(e,t){return t===0||e.read_shift(2),1200}function Xoe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Lc(e,0,r);return e.read_shift(t+n-e.l),a}function Koe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Qoe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=b0(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:s,name:o}}function Zoe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],o=0;o!=a&&e.l<r;++o)s.push(Ooe(e));return s.Count=n,s.Unique=a,s}function Joe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function ele(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function tle(e){var t=Boe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function rle(e){return e.read_shift(2),e.read_shift(4)}function jR(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function nle(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2),f=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:o,FirstTab:c,Selected:u,TabRatio:f}}function ale(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function sle(){}function ile(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=b0(e,0,r),n}function ole(e){var t=hi(e);return t.isst=e.read_shift(4),t}function lle(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=hi(e);r.biff==2&&e.l++;var s=w0(e,n-e.l,r);return a.val=s,a}function cle(e,t,r){var n=e.read_shift(2),a=Lc(e,0,r);return[n,a]}var ule=Lc;function LR(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),o=e.read_shift(a),c=e.read_shift(2),u=e.read_shift(2);return e.l=n,{s:{r:s,c},e:{r:o,c:u}}}function dle(e){var t=e.read_shift(2),r=e.read_shift(2),n=zF(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function fle(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(zF(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:s}}function hle(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:s}}function mle(e,t,r,n){var a={},s=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(4),u=e.read_shift(2);return a.patternType=doe[c>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=c&127,a.icvBottom=c>>7&127,a.icvDiag=c>>14&127,a.dgDiag=c>>21&15,a.icvFore=u&127,a.icvBack=u>>7&127,a.fsxButton=u>>14&1),a}function ple(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=mle(e,t,n.fStyle,r),n}function gle(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function BR(e,t,r){var n=hi(e);(r.biff==2||t==9)&&++e.l;var a=Ioe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function vle(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=hi(e),a=Dn(e);return n.val=a,n}var UR=Uoe;function xle(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=Nc(e,s),c=[];n>e.l;)c.push(w0(e));return[s,a,o,c]}function VR(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=Hoe(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var yle=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function HR(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(r&&r.biff==2?1:2),u=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),u=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var f=Nc(e,o,r);a&32&&(f=yle[f.charCodeAt(0)]);var m=n-e.l;r&&r.biff==2&&--m;var g=n==e.l||c===0||!(m>0)?[]:efe(e,m,r,c);return{chKey:s,Name:f,itab:u,rgce:g}}function GF(e,t,r){if(r.biff<8)return ble(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(Voe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function ble(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=b0(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function wle(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=Nc(e,n,r),o=Nc(e,a,r);return[s,o]}function _le(e,t,r){var n=WF(e);e.l++;var a=e.read_shift(1);return t-=8,[tfe(e,t,r),a,n]}function $R(e,t,r){var n=$oe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Zde(e,t,r)]}function Ele(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Sle(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),c=Lc(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},c,o,s]}}function Cle(e,t,r){return Sle(e,t,r)}function Tle(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(Dv(e));return r}function Nle(e,t,r){if(r&&r.biff<8)return kle(e,t,r);var n=qF(e),a=Goe(e,t-22,n[1]);return{cmo:n,ft:a}}var Ale={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function kle(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((Ale[n]||Pn)(e,t,r)),{cmo:[a,n,s],ft:o}}function Rle(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:o=Poe(e,6,r);var c=e.read_shift(2);e.read_shift(2),Vr(e,2);var u=e.read_shift(2);e.l+=u;for(var f=1;f<e.lens.length-1;++f){if(e.l-n!=e.lens[f])throw new Error("TxO: bad continue record");var m=e[e.l],g=Nc(e,e.lens[f+1]-e.lens[f]-1);if(a+=g,a.length>=(m?c:2*c))break}if(a.length!==c&&a.length!==c*2)throw new Error("cchText: "+c+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function Dle(e,t){var r=Dv(e);e.l+=16;var n=Loe(e,t-24);return[r,n]}function Ile(e,t){e.read_shift(2);var r=Dv(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Yn,""),[r,n]}function Ole(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=IR[r]||r,r=e.read_shift(2),t[1]=IR[r]||r,t}function Ple(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push($F(e));return r}function Mle(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push($F(e));return r}function Fle(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function YF(e,t,r){if(!r.cellStyles)return Pn(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(n),u=e.read_shift(2);n==2&&(e.l+=2);var f={s:a,e:s,w:o,ixfe:c,flags:u};return(r.biff>=5||!r.biff)&&(f.level=u>>8&7),f}function jle(e,t){var r={};return t<32||(e.l+=16,r.header=Dn(e),r.footer=Dn(e),e.l+=2),r}function Lle(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var Ble=hi,Ule=VF,Vle=w0;function Hle(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function $le(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=hi(e);++e.l;var a=Lc(e,t-7,r);return n.t="str",n.val=a,n}function zle(e){var t=hi(e);++e.l;var r=Dn(e);return t.t="n",t.val=r,t}function Wle(e){var t=hi(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function qle(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Gle(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Yle(e,t,r){var n=e.l+t,a=hi(e),s=e.read_shift(2),o=Nc(e,s,r);return e.l=n,a.t="str",a.val=o,a}var Xle=[2,3,48,49,131,139,140,245],zR=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=OE({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(c,u){var f=[],m=hl(1);switch(u.type){case"base64":m=gs(Ta(c));break;case"binary":m=gs(c);break;case"buffer":case"array":m=c;break}wn(m,0);var g=m.read_shift(1),v=!!(g&136),x=!1,y=!1;switch(g){case 2:break;case 3:break;case 48:x=!0,v=!0;break;case 49:x=!0,v=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var w=0,b=521;g==2&&(w=m.read_shift(2)),m.l+=3,g!=2&&(w=m.read_shift(4)),w>1048576&&(w=1e6),g!=2&&(b=m.read_shift(2));var S=m.read_shift(2),T=u.codepage||1252;g!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(T=e[m[m.l]]),m.l+=1,m.l+=2),y&&(m.l+=36);for(var E=[],A={},k=Math.min(m.length,g==2?521:b-10-(x?264:0)),D=y?32:11;m.l<k&&m[m.l]!=13;)switch(A={},A.name=Jb.utils.decode(T,m.slice(m.l,m.l+D)).replace(/[\u0000\r\n].*$/g,""),m.l+=D,A.type=String.fromCharCode(m.read_shift(1)),g!=2&&!y&&(A.offset=m.read_shift(4)),A.len=m.read_shift(1),g==2&&(A.offset=m.read_shift(2)),A.dec=m.read_shift(1),A.name.length&&E.push(A),g!=2&&(m.l+=y?13:14),A.type){case"B":(!x||A.len!=8)&&u.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(m[m.l]!==13&&(m.l=b-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=b;var R=0,P=0;for(f[0]=[],P=0;P!=E.length;++P)f[0][P]=E[P].name;for(;w-- >0;){if(m[m.l]===42){m.l+=S;continue}for(++m.l,f[++R]=[],P=0,P=0;P!=E.length;++P){var I=m.slice(m.l,m.l+E[P].len);m.l+=E[P].len,wn(I,0);var B=Jb.utils.decode(T,I);switch(E[P].type){case"C":B.trim().length&&(f[R][P]=B.replace(/\s+$/,""));break;case"D":B.length===8?f[R][P]=new Date(+B.slice(0,4),+B.slice(4,6)-1,+B.slice(6,8)):f[R][P]=B;break;case"F":f[R][P]=parseFloat(B.trim());break;case"+":case"I":f[R][P]=y?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(B.trim().toUpperCase()){case"Y":case"T":f[R][P]=!0;break;case"N":case"F":f[R][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+B+"|")}break;case"M":if(!v)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));f[R][P]="##MEMO##"+(y?parseInt(B.trim(),10):I.read_shift(4));break;case"N":B=B.replace(/\u0000/g,"").trim(),B&&B!="."&&(f[R][P]=+B||0);break;case"@":f[R][P]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":f[R][P]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":f[R][P]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[R][P]=-I.read_shift(-8,"f");break;case"B":if(x&&E[P].len==8){f[R][P]=I.read_shift(8,"f");break}case"G":case"P":I.l+=E[P].len;break;case"0":if(E[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[P].type)}}}if(g!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),u.DBF=E,f}function n(c,u){var f=u||{};f.dateNF||(f.dateNF="yyyymmdd");var m=kd(r(c,f),f);return m["!cols"]=f.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete f.DBF,m}function a(c,u){try{return El(n(c,u),u)}catch(f){if(u&&u.WTF)throw f}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,u){var f=u||{};if(+f.codepage>=0&&ys(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var m=ew(),g=cw(c,{header:1,raw:!0,cellDates:!0}),v=g[0],x=g.slice(1),y=c["!cols"]||[],w=0,b=0,S=0,T=1;for(w=0;w<v.length;++w){if(((y[w]||{}).DBF||{}).name){v[w]=y[w].DBF.name,++S;continue}if(v[w]!=null){if(++S,typeof v[w]=="number"&&(v[w]=v[w].toString(10)),typeof v[w]!="string")throw new Error("DBF Invalid column name "+v[w]+" |"+typeof v[w]+"|");if(v.indexOf(v[w])!==w){for(b=0;b<1024;++b)if(v.indexOf(v[w]+"_"+b)==-1){v[w]+="_"+b;break}}}}var E=Rr(c["!ref"]),A=[],k=[],D=[];for(w=0;w<=E.e.c-E.s.c;++w){var R="",P="",I=0,B=[];for(b=0;b<x.length;++b)x[b][w]!=null&&B.push(x[b][w]);if(B.length==0||v[w]==null){A[w]="?";continue}for(b=0;b<B.length;++b){switch(typeof B[b]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=B[b]instanceof Date?"D":"C";break;default:P="C"}I=Math.max(I,String(B[b]).length),R=R&&R!=P?"C":P}I>250&&(I=250),P=((y[w]||{}).DBF||{}).type,P=="C"&&y[w].DBF.len>I&&(I=y[w].DBF.len),R=="B"&&P=="N"&&(R="N",D[w]=y[w].DBF.dec,I=y[w].DBF.len),k[w]=R=="C"||P=="N"?I:s[R]||0,T+=k[w],A[w]=R}var H=m.next(32);for(H.write_shift(4,318902576),H.write_shift(4,x.length),H.write_shift(2,296+32*S),H.write_shift(2,T),w=0;w<4;++w)H.write_shift(4,0);for(H.write_shift(4,0|(+t[G3]||3)<<8),w=0,b=0;w<v.length;++w)if(v[w]!=null){var z=m.next(32),G=(v[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);z.write_shift(1,G,"sbcs"),z.write_shift(1,A[w]=="?"?"C":A[w],"sbcs"),z.write_shift(4,b),z.write_shift(1,k[w]||s[A[w]]||0),z.write_shift(1,D[w]||0),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(1,0),z.write_shift(4,0),z.write_shift(4,0),b+=k[w]||s[A[w]]||0}var ne=m.next(264);for(ne.write_shift(4,13),w=0;w<65;++w)ne.write_shift(4,0);for(w=0;w<x.length;++w){var se=m.next(T);for(se.write_shift(1,0),b=0;b<v.length;++b)if(v[b]!=null)switch(A[b]){case"L":se.write_shift(1,x[w][b]==null?63:x[w][b]?84:70);break;case"B":se.write_shift(8,x[w][b]||0,"f");break;case"N":var L="0";for(typeof x[w][b]=="number"&&(L=x[w][b].toFixed(D[b]||0)),S=0;S<k[b]-L.length;++S)se.write_shift(1,32);se.write_shift(1,L,"sbcs");break;case"D":x[w][b]?(se.write_shift(4,("0000"+x[w][b].getFullYear()).slice(-4),"sbcs"),se.write_shift(2,("00"+(x[w][b].getMonth()+1)).slice(-2),"sbcs"),se.write_shift(2,("00"+x[w][b].getDate()).slice(-2),"sbcs")):se.write_shift(8,"00000000","sbcs");break;case"C":var oe=String(x[w][b]!=null?x[w][b]:"").slice(0,k[b]);for(se.write_shift(1,oe,"sbcs"),S=0;S<k[b]-oe.length;++S)se.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),Kle=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+si(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(v,x){var y=e[x];return typeof y=="number"?iR(y):y},n=function(v,x,y){var w=x.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return w==59?v:iR(w)};e["|"]=254;function a(v,x){switch(x.type){case"base64":return s(Ta(v),x);case"binary":return s(v,x);case"buffer":return s(Ot&&Buffer.isBuffer(v)?v.toString("binary"):Pc(v),x);case"array":return s(Tc(v),x)}throw new Error("Unrecognized type "+x.type)}function s(v,x){var y=v.split(/[\n\r]+/),w=-1,b=-1,S=0,T=0,E=[],A=[],k=null,D={},R=[],P=[],I=[],B=0,H;for(+x.codepage>=0&&ys(+x.codepage);S!==y.length;++S){B=0;var z=y[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),G=z.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),ne=G[0],se;if(z.length>0)switch(ne){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":G[1].charAt(0)=="P"&&A.push(z.slice(3).replace(/;;/g,";"));break;case"C":var L=!1,oe=!1,le=!1,W=!1,V=-1,ce=-1;for(T=1;T<G.length;++T)switch(G[T].charAt(0)){case"A":break;case"X":b=parseInt(G[T].slice(1))-1,oe=!0;break;case"Y":for(w=parseInt(G[T].slice(1))-1,oe||(b=0),H=E.length;H<=w;++H)E[H]=[];break;case"K":se=G[T].slice(1),se.charAt(0)==='"'?se=se.slice(1,se.length-1):se==="TRUE"?se=!0:se==="FALSE"?se=!1:isNaN(Ss(se))?isNaN(ad(se).getDate())||(se=fn(se)):(se=Ss(se),k!==null&&Nd(k)&&(se=Rv(se))),L=!0;break;case"E":W=!0;var j=zu(G[T].slice(1),{r:w,c:b});E[w][b]=[E[w][b],j];break;case"S":le=!0,E[w][b]=[E[w][b],"S5S"];break;case"G":break;case"R":V=parseInt(G[T].slice(1))-1;break;case"C":ce=parseInt(G[T].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+z)}if(L&&(E[w][b]&&E[w][b].length==2?E[w][b][0]=se:E[w][b]=se,k=null),le){if(W)throw new Error("SYLK shared formula cannot have own formula");var ee=V>-1&&E[V][ce];if(!ee||!ee[1])throw new Error("SYLK shared formula cannot find base");E[w][b][1]=aj(ee[1],{r:w-V,c:b-ce})}break;case"F":var K=0;for(T=1;T<G.length;++T)switch(G[T].charAt(0)){case"X":b=parseInt(G[T].slice(1))-1,++K;break;case"Y":for(w=parseInt(G[T].slice(1))-1,H=E.length;H<=w;++H)E[H]=[];break;case"M":B=parseInt(G[T].slice(1))/20;break;case"F":break;case"G":break;case"P":k=A[parseInt(G[T].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=G[T].slice(1).split(" "),H=parseInt(I[0],10);H<=parseInt(I[1],10);++H)B=parseInt(I[2],10),P[H-1]=B===0?{hidden:!0}:{wch:B},sd(P[H-1]);break;case"C":b=parseInt(G[T].slice(1))-1,P[b]||(P[b]={});break;case"R":w=parseInt(G[T].slice(1))-1,R[w]||(R[w]={}),B>0?(R[w].hpt=B,R[w].hpx=$h(B)):B===0&&(R[w].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+z)}K<1&&(k=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+z)}}return R.length>0&&(D["!rows"]=R),P.length>0&&(D["!cols"]=P),x&&x.sheetRows&&(E=E.slice(0,x.sheetRows)),[E,D]}function o(v,x){var y=a(v,x),w=y[0],b=y[1],S=kd(w,x);return si(b).forEach(function(T){S[T]=b[T]}),S}function c(v,x){return El(o(v,x),x)}function u(v,x,y,w){var b="C;Y"+(y+1)+";X"+(w+1)+";K";switch(v.t){case"n":b+=v.v||0,v.f&&!v.F&&(b+=";E"+Fue(v.f,{r:y,c:w}));break;case"b":b+=v.v?"TRUE":"FALSE";break;case"e":b+=v.w||v.v;break;case"d":b+='"'+(v.w||v.v)+'"';break;case"s":b+='"'+v.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function f(v,x){x.forEach(function(y,w){var b="F;W"+(w+1)+" "+(w+1)+" ";y.hidden?b+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=Cg(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=Tg(y.wpx)),typeof y.wch=="number"&&(b+=Math.round(y.wch))),b.charAt(b.length-1)!=" "&&v.push(b)})}function m(v,x){x.forEach(function(y,w){var b="F;";y.hidden?b+="M0;":y.hpt?b+="M"+20*y.hpt+";":y.hpx&&(b+="M"+20*tj(y.hpx)+";"),b.length>2&&v.push(b+"R"+(w+1))})}function g(v,x){var y=["ID;PWXL;N;E"],w=[],b=Rr(v["!ref"]),S,T=Array.isArray(v),E=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),v["!cols"]&&f(y,v["!cols"]),v["!rows"]&&m(y,v["!rows"]),y.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var A=b.s.r;A<=b.e.r;++A)for(var k=b.s.c;k<=b.e.c;++k){var D=xt({r:A,c:k});S=T?(v[A]||[])[k]:v[D],!(!S||S.v==null&&(!S.f||S.F))&&w.push(u(S,v,A,k))}return y.join(E)+E+w.join(E)+E+"E"+E}return{to_workbook:c,to_sheet:o,from_sheet:g}}(),Qle=function(){function e(s,o){switch(o.type){case"base64":return t(Ta(s),o);case"binary":return t(s,o);case"buffer":return t(Ot&&Buffer.isBuffer(s)?s.toString("binary"):Pc(s),o);case"array":return t(Tc(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var c=s.split(`
`),u=-1,f=-1,m=0,g=[];m!==c.length;++m){if(c[m].trim()==="BOT"){g[++u]=[],f=0;continue}if(!(u<0)){var v=c[m].trim().split(","),x=v[0],y=v[1];++m;for(var w=c[m]||"";(w.match(/["]/g)||[]).length&1&&m<c.length-1;)w+=`
`+c[++m];switch(w=w.trim(),+x){case-1:if(w==="BOT"){g[++u]=[],f=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?g[u][f]=!0:w==="FALSE"?g[u][f]=!1:isNaN(Ss(y))?isNaN(ad(y).getDate())?g[u][f]=y:g[u][f]=fn(y):g[u][f]=Ss(y),++f;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),g[u][f++]=w!==""?w:null;break}if(w==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function r(s,o){return kd(e(s,o),o)}function n(s,o){return El(r(s,o),o)}var a=function(){var s=function(u,f,m,g,v){u.push(f),u.push(m+","+g),u.push('"'+v.replace(/"/g,'""')+'"')},o=function(u,f,m,g){u.push(f+","+m),u.push(f==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(u){var f=[],m=Rr(u["!ref"]),g,v=Array.isArray(u);s(f,"TABLE",0,1,"sheetjs"),s(f,"VECTORS",0,m.e.r-m.s.r+1,""),s(f,"TUPLES",0,m.e.c-m.s.c+1,""),s(f,"DATA",0,0,"");for(var x=m.s.r;x<=m.e.r;++x){o(f,-1,0,"BOT");for(var y=m.s.c;y<=m.e.c;++y){var w=xt({r:x,c:y});if(g=v?(u[x]||[])[y]:u[w],!g){o(f,1,0,"");continue}switch(g.t){case"n":var b=g.w;!b&&g.v!=null&&(b=g.v),b==null?g.f&&!g.F?o(f,1,0,"="+g.f):o(f,1,0,""):o(f,0,b,"V");break;case"b":o(f,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(f,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=ts(g.z||yt[14],Kn(fn(g.v)))),o(f,0,g.w,"V");break;default:o(f,1,0,"")}}}o(f,-1,0,"EOD");var S=`\r
`,T=f.join(S);return T}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),Zle=function(){function e(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(g,v){for(var x=g.split(`
`),y=-1,w=-1,b=0,S=[];b!==x.length;++b){var T=x[b].trim().split(":");if(T[0]==="cell"){var E=Wn(T[1]);if(S.length<=E.r)for(y=S.length;y<=E.r;++y)S[y]||(S[y]=[]);switch(y=E.r,w=E.c,T[2]){case"t":S[y][w]=e(T[3]);break;case"v":S[y][w]=+T[3];break;case"vtf":var A=T[T.length-1];case"vtc":switch(T[3]){case"nl":S[y][w]=!!+T[4];break;default:S[y][w]=+T[4];break}T[2]=="vtf"&&(S[y][w]=[S[y][w],A])}}}return v&&v.sheetRows&&(S=S.slice(0,v.sheetRows)),S}function n(g,v){return kd(r(g,v),v)}function a(g,v){return El(n(g,v),v)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function f(g){if(!g||!g["!ref"])return"";for(var v=[],x=[],y,w="",b=Ad(g["!ref"]),S=Array.isArray(g),T=b.s.r;T<=b.e.r;++T)for(var E=b.s.c;E<=b.e.c;++E)if(w=xt({r:T,c:E}),y=S?(g[T]||[])[E]:g[w],!(!y||y.v==null||y.t==="z")){switch(x=["cell",w,"t"],y.t){case"s":case"str":x.push(t(y.v));break;case"n":y.f?(x[2]="vtf",x[3]="n",x[4]=y.v,x[5]=t(y.f)):(x[2]="v",x[3]=y.v);break;case"b":x[2]="vt"+(y.f?"f":"c"),x[3]="nl",x[4]=y.v?"1":"0",x[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var A=Kn(fn(y.v));x[2]="vtc",x[3]="nd",x[4]=""+A,x[5]=y.w||ts(y.z||yt[14],A);break;case"e":continue}v.push(x.join(":"))}return v.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),v.push("valueformat:1:text-wiki"),v.join(`
`)}function m(g){return[s,o,c,o,f(g),u].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:m}}(),Vh=function(){function e(m,g,v,x,y){y.raw?g[v][x]=m:m===""||(m==="TRUE"?g[v][x]=!0:m==="FALSE"?g[v][x]=!1:isNaN(Ss(m))?isNaN(ad(m).getDate())?g[v][x]=m:g[v][x]=fn(m):g[v][x]=Ss(m))}function t(m,g){var v=g||{},x=[];if(!m||m.length===0)return x;for(var y=m.split(/[\r\n]/),w=y.length-1;w>=0&&y[w].length===0;)--w;for(var b=10,S=0,T=0;T<=w;++T)S=y[T].indexOf(" "),S==-1?S=y[T].length:S++,b=Math.max(b,S);for(T=0;T<=w;++T){x[T]=[];var E=0;for(e(y[T].slice(0,b).trim(),x,T,E,v),E=1;E<=(y[T].length-b)/10+1;++E)e(y[T].slice(b+(E-1)*10,b+E*10).trim(),x,T,E,v)}return v.sheetRows&&(x=x.slice(0,v.sheetRows)),x}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(m){for(var g={},v=!1,x=0,y=0;x<m.length;++x)(y=m.charCodeAt(x))==34?v=!v:!v&&y in r&&(g[y]=(g[y]||0)+1);y=[];for(x in g)Object.prototype.hasOwnProperty.call(g,x)&&y.push([g[x],x]);if(!y.length){g=n;for(x in g)Object.prototype.hasOwnProperty.call(g,x)&&y.push([g[x],x])}return y.sort(function(w,b){return w[0]-b[0]||n[w[1]]-n[b[1]]}),r[y.pop()[1]]||44}function s(m,g){var v=g||{},x="",y=v.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(x=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(x=m.charAt(4),m=m.slice(6)):x=a(m.slice(0,1024)):v&&v.FS?x=v.FS:x=a(m.slice(0,1024));var b=0,S=0,T=0,E=0,A=0,k=x.charCodeAt(0),D=!1,R=0,P=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var I=v.dateNF!=null?cie(v.dateNF):null;function B(){var H=m.slice(E,A),z={};if(H.charAt(0)=='"'&&H.charAt(H.length-1)=='"'&&(H=H.slice(1,-1).replace(/""/g,'"')),H.length===0)z.t="z";else if(v.raw)z.t="s",z.v=H;else if(H.trim().length===0)z.t="s",z.v=H;else if(H.charCodeAt(0)==61)H.charCodeAt(1)==34&&H.charCodeAt(H.length-1)==34?(z.t="s",z.v=H.slice(2,-1).replace(/""/g,'"')):Lue(H)?(z.t="n",z.f=H.slice(1)):(z.t="s",z.v=H);else if(H=="TRUE")z.t="b",z.v=!0;else if(H=="FALSE")z.t="b",z.v=!1;else if(!isNaN(T=Ss(H)))z.t="n",v.cellText!==!1&&(z.w=H),z.v=T;else if(!isNaN(ad(H).getDate())||I&&H.match(I)){z.z=v.dateNF||yt[14];var G=0;I&&H.match(I)&&(H=uie(H,v.dateNF,H.match(I)||[]),G=1),v.cellDates?(z.t="d",z.v=fn(H,G)):(z.t="n",z.v=Kn(fn(H,G))),v.cellText!==!1&&(z.w=ts(z.z,z.v instanceof Date?Kn(z.v):z.v)),v.cellNF||delete z.z}else z.t="s",z.v=H;if(z.t=="z"||(v.dense?(y[b]||(y[b]=[]),y[b][S]=z):y[xt({c:S,r:b})]=z),E=A+1,P=m.charCodeAt(E),w.e.c<S&&(w.e.c=S),w.e.r<b&&(w.e.r=b),R==k)++S;else if(S=0,++b,v.sheetRows&&v.sheetRows<=b)return!0}e:for(;A<m.length;++A)switch(R=m.charCodeAt(A)){case 34:P===34&&(D=!D);break;case k:case 10:case 13:if(!D&&B())break e;break}return A-E>0&&B(),y["!ref"]=jt(w),y}function o(m,g){return!(g&&g.PRN)||g.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?s(m,g):kd(t(m,g),g)}function c(m,g){var v="",x=g.type=="string"?[0,0,0,0]:ZE(m,g);switch(g.type){case"base64":v=Ta(m);break;case"binary":v=m;break;case"buffer":g.codepage==65001?v=m.toString("utf8"):(g.codepage,v=Ot&&Buffer.isBuffer(m)?m.toString("binary"):Pc(m));break;case"array":v=Tc(m);break;case"string":v=m;break;default:throw new Error("Unrecognized type "+g.type)}return x[0]==239&&x[1]==187&&x[2]==191?v=lr(v.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?v=lr(v):g.type=="binary",v.slice(0,19)=="socialcalc:version:"?Zle.to_sheet(g.type=="string"?v:lr(v),g):o(v,g)}function u(m,g){return El(c(m,g),g)}function f(m){for(var g=[],v=Rr(m["!ref"]),x,y=Array.isArray(m),w=v.s.r;w<=v.e.r;++w){for(var b=[],S=v.s.c;S<=v.e.c;++S){var T=xt({r:w,c:S});if(x=y?(m[w]||[])[S]:m[T],!x||x.v==null){b.push("          ");continue}for(var E=(x.w||(to(x),x.w)||"").slice(0,10);E.length<10;)E+=" ";b.push(E+(S===0?" ":""))}g.push(b.join(""))}return g.join(`
`)}return{to_workbook:u,to_sheet:c,from_sheet:f}}();function Jle(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=Kle.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return Vh.to_workbook(e,t)}}var fh=function(){function e(j,ee,K){if(j){wn(j,j.l||0);for(var Q=K.Enum||V;j.l<j.length;){var re=j.read_shift(2),be=Q[re]||Q[65535],Ee=j.read_shift(2),ue=j.l+Ee,me=be.f&&be.f(j,Ee,K);if(j.l=ue,ee(me,be,re))return}}}function t(j,ee){switch(ee.type){case"base64":return r(gs(Ta(j)),ee);case"binary":return r(gs(j),ee);case"buffer":case"array":return r(j,ee)}throw"Unsupported type "+ee.type}function r(j,ee){if(!j)return j;var K=ee||{},Q=K.dense?[]:{},re="Sheet1",be="",Ee=0,ue={},me=[],Ae=[],Y={s:{r:0,c:0},e:{r:0,c:0}},He=K.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)K.Enum=V,e(j,function(Oe,ie,fe){switch(fe){case 0:K.vers=Oe,Oe>=4096&&(K.qpro=!0);break;case 6:Y=Oe;break;case 204:Oe&&(be=Oe);break;case 222:be=Oe;break;case 15:case 51:K.qpro||(Oe[1].v=Oe[1].v.slice(1));case 13:case 14:case 16:fe==14&&(Oe[2]&112)==112&&(Oe[2]&15)>1&&(Oe[2]&15)<15&&(Oe[1].z=K.dateNF||yt[14],K.cellDates&&(Oe[1].t="d",Oe[1].v=Rv(Oe[1].v))),K.qpro&&Oe[3]>Ee&&(Q["!ref"]=jt(Y),ue[re]=Q,me.push(re),Q=K.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},Ee=Oe[3],re=be||"Sheet"+(Ee+1),be="");var Se=K.dense?(Q[Oe[0].r]||[])[Oe[0].c]:Q[xt(Oe[0])];if(Se){Se.t=Oe[1].t,Se.v=Oe[1].v,Oe[1].z!=null&&(Se.z=Oe[1].z),Oe[1].f!=null&&(Se.f=Oe[1].f);break}K.dense?(Q[Oe[0].r]||(Q[Oe[0].r]=[]),Q[Oe[0].r][Oe[0].c]=Oe[1]):Q[xt(Oe[0])]=Oe[1];break}},K);else if(j[2]==26||j[2]==14)K.Enum=ce,j[2]==14&&(K.qpro=!0,j.l=0),e(j,function(Oe,ie,fe){switch(fe){case 204:re=Oe;break;case 22:Oe[1].v=Oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Oe[3]>Ee&&(Q["!ref"]=jt(Y),ue[re]=Q,me.push(re),Q=K.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},Ee=Oe[3],re="Sheet"+(Ee+1)),He>0&&Oe[0].r>=He)break;K.dense?(Q[Oe[0].r]||(Q[Oe[0].r]=[]),Q[Oe[0].r][Oe[0].c]=Oe[1]):Q[xt(Oe[0])]=Oe[1],Y.e.c<Oe[0].c&&(Y.e.c=Oe[0].c),Y.e.r<Oe[0].r&&(Y.e.r=Oe[0].r);break;case 27:Oe[14e3]&&(Ae[Oe[14e3][0]]=Oe[14e3][1]);break;case 1537:Ae[Oe[0]]=Oe[1],Oe[0]==Ee&&(re=Oe[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(Q["!ref"]=jt(Y),ue[be||re]=Q,me.push(be||re),!Ae.length)return{SheetNames:me,Sheets:ue};for(var Ce={},Ge=[],$e=0;$e<Ae.length;++$e)ue[me[$e]]?(Ge.push(Ae[$e]||me[$e]),Ce[Ae[$e]]=ue[Ae[$e]]||ue[me[$e]]):(Ge.push(Ae[$e]),Ce[Ae[$e]]={"!ref":"A1"});return{SheetNames:Ge,Sheets:Ce}}function n(j,ee){var K=ee||{};if(+K.codepage>=0&&ys(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=ew(),re=Rr(j["!ref"]),be=Array.isArray(j),Ee=[];fs(Q,0,s(1030)),fs(Q,6,u(re));for(var ue=Math.min(re.e.r,8191),me=re.s.r;me<=ue;++me)for(var Ae=Sn(me),Y=re.s.c;Y<=re.e.c;++Y){me===re.s.r&&(Ee[Y]=Qr(Y));var He=Ee[Y]+Ae,Ce=be?(j[me]||[])[Y]:j[He];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?fs(Q,13,x(me,Y,Ce.v)):fs(Q,14,w(me,Y,Ce.v));else{var Ge=to(Ce);fs(Q,15,g(me,Y,Ge.slice(0,239)))}}return fs(Q,1),Q.end()}function a(j,ee){var K=ee||{};if(+K.codepage>=0&&ys(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=ew();fs(Q,0,o(j));for(var re=0,be=0;re<j.SheetNames.length;++re)(j.Sheets[j.SheetNames[re]]||{})["!ref"]&&fs(Q,27,W(j.SheetNames[re],be++));var Ee=0;for(re=0;re<j.SheetNames.length;++re){var ue=j.Sheets[j.SheetNames[re]];if(!(!ue||!ue["!ref"])){for(var me=Rr(ue["!ref"]),Ae=Array.isArray(ue),Y=[],He=Math.min(me.e.r,8191),Ce=me.s.r;Ce<=He;++Ce)for(var Ge=Sn(Ce),$e=me.s.c;$e<=me.e.c;++$e){Ce===me.s.r&&(Y[$e]=Qr($e));var Oe=Y[$e]+Ge,ie=Ae?(ue[Ce]||[])[$e]:ue[Oe];if(!(!ie||ie.t=="z"))if(ie.t=="n")fs(Q,23,B(Ce,$e,Ee,ie.v));else{var fe=to(ie);fs(Q,22,R(Ce,$e,Ee,fe.slice(0,239)))}}++Ee}}return fs(Q,1),Q.end()}function s(j){var ee=Yr(2);return ee.write_shift(2,j),ee}function o(j){var ee=Yr(26);ee.write_shift(2,4096),ee.write_shift(2,4),ee.write_shift(4,0);for(var K=0,Q=0,re=0,be=0;be<j.SheetNames.length;++be){var Ee=j.SheetNames[be],ue=j.Sheets[Ee];if(!(!ue||!ue["!ref"])){++re;var me=Ad(ue["!ref"]);K<me.e.r&&(K=me.e.r),Q<me.e.c&&(Q=me.e.c)}}return K>8191&&(K=8191),ee.write_shift(2,K),ee.write_shift(1,re),ee.write_shift(1,Q),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(1,1),ee.write_shift(1,2),ee.write_shift(4,0),ee.write_shift(4,0),ee}function c(j,ee,K){var Q={s:{c:0,r:0},e:{c:0,r:0}};return ee==8&&K.qpro?(Q.s.c=j.read_shift(1),j.l++,Q.s.r=j.read_shift(2),Q.e.c=j.read_shift(1),j.l++,Q.e.r=j.read_shift(2),Q):(Q.s.c=j.read_shift(2),Q.s.r=j.read_shift(2),ee==12&&K.qpro&&(j.l+=2),Q.e.c=j.read_shift(2),Q.e.r=j.read_shift(2),ee==12&&K.qpro&&(j.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function u(j){var ee=Yr(8);return ee.write_shift(2,j.s.c),ee.write_shift(2,j.s.r),ee.write_shift(2,j.e.c),ee.write_shift(2,j.e.r),ee}function f(j,ee,K){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(Q[0].c=j.read_shift(1),Q[3]=j.read_shift(1),Q[0].r=j.read_shift(2),j.l+=2):(Q[2]=j.read_shift(1),Q[0].c=j.read_shift(2),Q[0].r=j.read_shift(2)),Q}function m(j,ee,K){var Q=j.l+ee,re=f(j,ee,K);if(re[1].t="s",K.vers==20768){j.l++;var be=j.read_shift(1);return re[1].v=j.read_shift(be,"utf8"),re}return K.qpro&&j.l++,re[1].v=j.read_shift(Q-j.l,"cstr"),re}function g(j,ee,K){var Q=Yr(7+K.length);Q.write_shift(1,255),Q.write_shift(2,ee),Q.write_shift(2,j),Q.write_shift(1,39);for(var re=0;re<Q.length;++re){var be=K.charCodeAt(re);Q.write_shift(1,be>=128?95:be)}return Q.write_shift(1,0),Q}function v(j,ee,K){var Q=f(j,ee,K);return Q[1].v=j.read_shift(2,"i"),Q}function x(j,ee,K){var Q=Yr(7);return Q.write_shift(1,255),Q.write_shift(2,ee),Q.write_shift(2,j),Q.write_shift(2,K,"i"),Q}function y(j,ee,K){var Q=f(j,ee,K);return Q[1].v=j.read_shift(8,"f"),Q}function w(j,ee,K){var Q=Yr(13);return Q.write_shift(1,255),Q.write_shift(2,ee),Q.write_shift(2,j),Q.write_shift(8,K,"f"),Q}function b(j,ee,K){var Q=j.l+ee,re=f(j,ee,K);if(re[1].v=j.read_shift(8,"f"),K.qpro)j.l=Q;else{var be=j.read_shift(2);A(j.slice(j.l,j.l+be),re),j.l+=be}return re}function S(j,ee,K){var Q=ee&32768;return ee&=-32769,ee=(Q?j:0)+(ee>=8192?ee-16384:ee),(Q?"":"$")+(K?Qr(ee):Sn(ee))}var T={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function A(j,ee){wn(j,0);for(var K=[],Q=0,re="",be="",Ee="",ue="";j.l<j.length;){var me=j[j.l++];switch(me){case 0:K.push(j.read_shift(8,"f"));break;case 1:be=S(ee[0].c,j.read_shift(2),!0),re=S(ee[0].r,j.read_shift(2),!1),K.push(be+re);break;case 2:{var Ae=S(ee[0].c,j.read_shift(2),!0),Y=S(ee[0].r,j.read_shift(2),!1);be=S(ee[0].c,j.read_shift(2),!0),re=S(ee[0].r,j.read_shift(2),!1),K.push(Ae+Y+":"+be+re)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(j.read_shift(2));break;case 6:{for(var He="";me=j[j.l++];)He+=String.fromCharCode(me);K.push('"'+He.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:ue=K.pop(),Ee=K.pop(),K.push(["AND","OR"][me-20]+"("+Ee+","+ue+")");break;default:if(me<32&&E[me])ue=K.pop(),Ee=K.pop(),K.push(Ee+E[me]+ue);else if(T[me]){if(Q=T[me][1],Q==69&&(Q=j[j.l++]),Q>K.length){console.error("WK1 bad formula parse 0x"+me.toString(16)+":|"+K.join("|")+"|");return}var Ce=K.slice(-Q);K.length-=Q,K.push(T[me][0]+"("+Ce.join(",")+")")}else return me<=7?console.error("WK1 invalid opcode "+me.toString(16)):me<=24?console.error("WK1 unsupported op "+me.toString(16)):me<=30?console.error("WK1 invalid opcode "+me.toString(16)):me<=115?console.error("WK1 unsupported function opcode "+me.toString(16)):console.error("WK1 unrecognized opcode "+me.toString(16))}}K.length==1?ee[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function k(j){var ee=[{c:0,r:0},{t:"n",v:0},0];return ee[0].r=j.read_shift(2),ee[3]=j[j.l++],ee[0].c=j[j.l++],ee}function D(j,ee){var K=k(j);return K[1].t="s",K[1].v=j.read_shift(ee-4,"cstr"),K}function R(j,ee,K,Q){var re=Yr(6+Q.length);re.write_shift(2,j),re.write_shift(1,K),re.write_shift(1,ee),re.write_shift(1,39);for(var be=0;be<Q.length;++be){var Ee=Q.charCodeAt(be);re.write_shift(1,Ee>=128?95:Ee)}return re.write_shift(1,0),re}function P(j,ee){var K=k(j);K[1].v=j.read_shift(2);var Q=K[1].v>>1;if(K[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return K[1].v=Q,K}function I(j,ee){var K=k(j),Q=j.read_shift(4),re=j.read_shift(4),be=j.read_shift(2);if(be==65535)return Q===0&&re===3221225472?(K[1].t="e",K[1].v=15):Q===0&&re===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var Ee=be&32768;return be=(be&32767)-16446,K[1].v=(1-Ee*2)*(re*Math.pow(2,be+32)+Q*Math.pow(2,be)),K}function B(j,ee,K,Q){var re=Yr(14);if(re.write_shift(2,j),re.write_shift(1,K),re.write_shift(1,ee),Q==0)return re.write_shift(4,0),re.write_shift(4,0),re.write_shift(2,65535),re;var be=0,Ee=0,ue=0,me=0;return Q<0&&(be=1,Q=-Q),Ee=Math.log2(Q)|0,Q/=Math.pow(2,Ee-31),me=Q>>>0,(me&2147483648)==0&&(Q/=2,++Ee,me=Q>>>0),Q-=me,me|=2147483648,me>>>=0,Q*=Math.pow(2,32),ue=Q>>>0,re.write_shift(4,ue),re.write_shift(4,me),Ee+=16383+(be?32768:0),re.write_shift(2,Ee),re}function H(j,ee){var K=I(j);return j.l+=ee-14,K}function z(j,ee){var K=k(j),Q=j.read_shift(4);return K[1].v=Q>>6,K}function G(j,ee){var K=k(j),Q=j.read_shift(8,"f");return K[1].v=Q,K}function ne(j,ee){var K=G(j);return j.l+=ee-10,K}function se(j,ee){return j[j.l+ee-1]==0?j.read_shift(ee,"cstr"):""}function L(j,ee){var K=j[j.l++];K>ee-1&&(K=ee-1);for(var Q="";Q.length<K;)Q+=String.fromCharCode(j[j.l++]);return Q}function oe(j,ee,K){if(!(!K.qpro||ee<21)){var Q=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var re=j.read_shift(ee-21,"cstr");return[Q,re]}}function le(j,ee){for(var K={},Q=j.l+ee;j.l<Q;){var re=j.read_shift(2);if(re==14e3){for(K[re]=[0,""],K[re][0]=j.read_shift(2);j[j.l];)K[re][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return K}function W(j,ee){var K=Yr(5+j.length);K.write_shift(2,14e3),K.write_shift(2,ee);for(var Q=0;Q<j.length;++Q){var re=j.charCodeAt(Q);K[K.l++]=re>127?95:re}return K[K.l++]=0,K}var V={0:{n:"BOF",f:Vr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:se},222:{n:"SHEETNAMELP",f:L},65535:{n:""}},ce={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:H},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:le},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:z},38:{n:"??"},39:{n:"NUMBER27",f:G},40:{n:"FORMULA28",f:ne},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:se},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:oe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function ece(e){var t={},r=e.match(Mn),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=mt(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=AE[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var tce=function(){var e=Bh("t"),t=Bh("rPr");function r(s){var o=s.match(e);if(!o)return{t:"s",v:""};var c={t:"s",v:Lt(o[1])},u=s.match(t);return u&&(c.s=ece(u[1])),c}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(c){return c.v})}}(),rce=function(){var t=/(\r\n|\n)/g;function r(a,s,o){var c=[];a.u&&c.push("text-decoration: underline;"),a.uval&&c.push("text-underline-style:"+a.uval+";"),a.sz&&c.push("font-size:"+a.sz+"pt;"),a.outline&&c.push("text-effect: outline;"),a.shadow&&c.push("text-shadow: auto;"),s.push('<span style="'+c.join("")+'">'),a.b&&(s.push("<b>"),o.push("</b>")),a.i&&(s.push("<i>"),o.push("</i>")),a.strike&&(s.push("<s>"),o.push("</s>"));var u=a.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(s.push("<"+u+">"),o.push("</"+u+">")),o.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),nce=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,ace=/<(?:\w+:)?r>/,sce=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function WE(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Lt(lr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=lr(e),r&&(n.h=ME(n.t))):e.match(ace)&&(n.r=lr(e),n.t=Lt(lr((e.replace(sce,"").match(nce)||[]).join("").replace(Mn,""))),r&&(n.h=rce(tce(n.r)))),n):{t:""}}var ice=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,oce=/<(?:\w+:)?(?:si|sstItem)>/g,lce=/<\/(?:\w+:)?(?:si|sstItem)>/;function cce(e,t){var r=[],n="";if(!e)return r;var a=e.match(ice);if(a){n=a[2].replace(oce,"").split(lce);for(var s=0;s!=n.length;++s){var o=WE(n[s].trim(),t);o!=null&&(r[r.length]=o)}a=mt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function uce(e){return[e.read_shift(4),e.read_shift(4)]}function dce(e,t){var r=[],n=!1;return so(e,function(s,o,c){switch(c){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}function XF(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function qi(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function fce(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=qi(e,4),t.U=qi(e,4),t.W=qi(e,4),t}function hce(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function mce(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(hce(e));return t}function pce(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function gce(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=qi(e,4),t.U=qi(e,4),t.W=qi(e,4),t}function vce(e){var t=gce(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function KF(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function QF(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function xce(e){var t=qi(e);switch(t.Minor){case 2:return[t.Minor,yce(e)];case 3:return[t.Minor,bce()];case 4:return[t.Minor,wce(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function yce(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=KF(e,r),a=QF(e,e.length-e.l);return{t:"Std",h:n,v:a}}function bce(){throw new Error("File is password-protected: ECMA-376 Extensible")}function wce(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Mn,function(s){var o=mt(s);switch(fi(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(c){n[c]=o[c]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function _ce(e,t){var r={},n=r.EncryptionVersionInfo=qi(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=KF(e,a),t-=a,r.EncryptionVerifier=QF(e,t),r}function Ece(e){var t={},r=t.EncryptionVersionInfo=qi(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Sce(e){var t=0,r,n=XF(e),a=n.length+1,s,o,c,u,f;for(r=hl(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)o=r[s],c=(t&16384)===0?0:1,u=t<<1&32767,f=c|u,t=f^o;return t^52811}var ZF=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,c){return n(o^c)},s=function(o){for(var c=t[o.length-1],u=104,f=o.length-1;f>=0;--f)for(var m=o[f],g=0;g!=7;++g)m&64&&(c^=r[u]),m*=2,--u;return c};return function(o){for(var c=XF(o),u=s(c),f=c.length,m=hl(16),g=0;g!=16;++g)m[g]=0;var v,x,y;for((f&1)===1&&(v=u>>8,m[f]=a(e[0],v),--f,v=u&255,x=c[c.length-1],m[f]=a(x,v));f>0;)--f,v=u>>8,m[f]=a(c[f],v),--f,v=u&255,m[f]=a(c[f],v);for(f=15,y=15-c.length;y>0;)v=u>>8,m[f]=a(e[y],v),--f,--y,v=u&255,m[f]=a(c[f],v),--f,--y;return m}}(),Cce=function(e,t,r,n,a){a||(a=t),n||(n=ZF(e));var s,o;for(s=0;s!=t.length;++s)o=t[s],o^=n[r],o=(o>>5|o<<3)&255,a[s]=o,++r;return[a,r,n]},Tce=function(e){var t=0,r=ZF(e);return function(n){var a=Cce("",n,t,r);return t=a[1],a[0]}};function Nce(e,t,r,n){var a={key:Vr(e),verificationBytes:Vr(e)};return r.password&&(a.verifier=Sce(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Tce(r.password)),a}function Ace(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Ece(e):n.Data=_ce(e,t),n}function kce(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Ace(e,t-2,n):Nce(e,r.biff>=8?t:t-2,r,n),n}var Rce=function(){function e(a,s){switch(s.type){case"base64":return t(Ta(a),s);case"binary":return t(a,s);case"buffer":return t(Ot&&Buffer.isBuffer(a)?a.toString("binary"):Pc(a),s);case"array":return t(Tc(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var o=s||{},c=o.dense?[]:{},u=a.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(m,g){Array.isArray(c)&&(c[g]=[]);for(var v=/\\\w+\b/g,x=0,y,w=-1;y=v.exec(m);){switch(y[0]){case"\\cell":var b=m.slice(x,v.lastIndex-y[0].length);if(b[0]==" "&&(b=b.slice(1)),++w,b.length){var S={v:b,t:"s"};Array.isArray(c)?c[g][w]=S:c[xt({r:g,c:w})]=S}break}x=v.lastIndex}w>f.e.c&&(f.e.c=w)}),c["!ref"]=jt(f),c}function r(a,s){return El(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],o=Rr(a["!ref"]),c,u=Array.isArray(a),f=o.s.r;f<=o.e.r;++f){s.push("\\trowd\\trautofit1");for(var m=o.s.c;m<=o.e.c;++m)s.push("\\cellx"+(m+1));for(s.push("\\pard\\intbl"),m=o.s.c;m<=o.e.c;++m){var g=xt({r:f,c:m});c=u?(a[f]||[])[m]:a[g],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(to(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function Dce(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Hh(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Ice(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),o=a-s;if(o===0)return[0,0,t];var c=0,u=0,f=a+s;switch(u=o/(f>1?2-f:f),a){case t:c=((r-n)/o+6)%6;break;case r:c=(n-t)/o+2;break;case n:c=(t-r)/o+4;break}return[c/6,u,f/2]}function Oce(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,o=[s,s,s],c=6*t,u;if(r!==0)switch(c|0){case 0:case 6:u=a*c,o[0]+=a,o[1]+=u;break;case 1:u=a*(2-c),o[0]+=u,o[1]+=a;break;case 2:u=a*(c-2),o[1]+=a,o[2]+=u;break;case 3:u=a*(4-c),o[1]+=u,o[2]+=a;break;case 4:u=a*(c-4),o[2]+=a,o[0]+=u;break;case 5:u=a*(6-c),o[2]+=u,o[0]+=a;break}for(var f=0;f!=3;++f)o[f]=Math.round(o[f]*255);return o}function Sg(e,t){if(t===0)return e;var r=Ice(Dce(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Hh(Oce(r))}var JF=6,Pce=15,Mce=1,$n=JF;function Cg(e){return Math.floor((e+Math.round(128/$n)/256)*$n)}function Tg(e){return Math.floor((e-5)/$n*100+.5)/100}function aw(e){return Math.round((e*$n+5)/$n*256)/256}function B1(e){return aw(Tg(Cg(e)))}function qE(e){var t=Math.abs(e-B1(e)),r=$n;if(t>.005)for($n=Mce;$n<Pce;++$n)Math.abs(e-B1(e))<=t&&(t=Math.abs(e-B1(e)),r=$n);$n=r}function sd(e){e.width?(e.wpx=Cg(e.width),e.wch=Tg(e.wpx),e.MDW=$n):e.wpx?(e.wch=Tg(e.wpx),e.width=aw(e.wch),e.MDW=$n):typeof e.wch=="number"&&(e.width=aw(e.wch),e.wpx=Cg(e.width),e.MDW=$n),e.customWidth&&delete e.customWidth}var Fce=96,ej=Fce;function tj(e){return e*96/ej}function $h(e){return e*ej/96}var jce={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Lce(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Mn)||[]).forEach(function(o){var c=mt(o);switch(fi(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},c.diagonalUp&&(a.diagonalUp=hr(c.diagonalUp)),c.diagonalDown&&(a.diagonalDown=hr(c.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+c[0]+" in borders")}})}function Bce(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Mn)||[]).forEach(function(o){var c=mt(o);switch(fi(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":c.patternType&&(a.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),c.indexed&&(a.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(a.bgColor.theme=parseInt(c.theme,10)),c.tint&&(a.bgColor.tint=parseFloat(c.tint)),c.rgb&&(a.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),c.theme&&(a.fgColor.theme=parseInt(c.theme,10)),c.tint&&(a.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(a.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fills")}})}function Uce(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Mn)||[]).forEach(function(o){var c=mt(o);switch(fi(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":c.val&&(a.name=lr(c.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=c.val?hr(c.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=c.val?hr(c.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(c.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=c.val?hr(c.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=c.val?hr(c.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=c.val?hr(c.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=c.val?hr(c.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=c.val?hr(c.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":c.val&&(a.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(a.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(a.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(a.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=AE[parseInt(c.val,10)];break;case"<color":if(a.color||(a.color={}),c.auto&&(a.color.auto=hr(c.auto)),c.rgb)a.color.rgb=c.rgb.slice(-6);else if(c.indexed){a.color.index=parseInt(c.indexed,10);var u=mc[a.color.index];a.color.index==81&&(u=mc[1]),u||(u=mc[1]),a.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else c.theme&&(a.color.theme=parseInt(c.theme,10),c.tint&&(a.color.tint=parseFloat(c.tint)),c.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Sg(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fonts")}})}function Vce(e,t,r){t.NumberFmt=[];for(var n=si(yt),a=0;a<n.length;++a)t.NumberFmt[n[a]]=yt[n[a]];var s=e[0].match(Mn);if(s)for(a=0;a<s.length;++a){var o=mt(s[a]);switch(fi(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=Lt(lr(o.formatCode)),u=parseInt(o.numFmtId,10);if(t.NumberFmt[u]=c,u>0){if(u>392){for(u=392;u>60&&t.NumberFmt[u]!=null;--u);t.NumberFmt[u]=c}hc(c,u)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var sp=["numFmtId","fillId","fontId","borderId","xfId"],ip=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Hce(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Mn)||[]).forEach(function(s){var o=mt(s),c=0;switch(fi(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],c=0;c<sp.length;++c)n[sp[c]]&&(n[sp[c]]=parseInt(n[sp[c]],10));for(c=0;c<ip.length;++c)n[ip[c]]&&(n[ip[c]]=hr(n[ip[c]]));if(t.NumberFmt&&n.numFmtId>392){for(c=392;c>60;--c)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[c]){n.numFmtId=c;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};o.vertical&&(u.vertical=o.vertical),o.horizontal&&(u.horizontal=o.horizontal),o.textRotation!=null&&(u.textRotation=o.textRotation),o.indent&&(u.indent=o.indent),o.wrapText&&(u.wrapText=hr(o.wrapText)),n.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var $ce=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,u,f){var m={};if(!c)return m;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var g;return(g=c.match(t))&&Vce(g,m,f),(g=c.match(a))&&Uce(g,m,u,f),(g=c.match(n))&&Bce(g,m,u,f),(g=c.match(s))&&Lce(g,m,u,f),(g=c.match(r))&&Hce(g,m,f),m}}();function zce(e,t){var r=e.read_shift(2),n=On(e);return[r,n]}function Wce(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=toe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var c=e.read_shift(1);c>0&&(n.family=c);var u=e.read_shift(1);switch(u>0&&(n.charset=u),e.l++,n.color=eoe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=On(e),n}var qce=Pn;function Gce(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var Yce=Pn;function Xce(e,t,r){var n={};n.NumberFmt=[];for(var a in yt)n.NumberFmt[a]=yt[a];n.CellXf=[],n.Fonts=[];var s=[],o=!1;return so(e,function(u,f,m){switch(m){case 44:n.NumberFmt[u[0]]=u[1],hc(u[1],u[0]);break;case 43:n.Fonts.push(u),u.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(u.color.rgb=Sg(t.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(m),o=!0;break;case 38:s.pop(),o=!1;break;default:if(f.T>0)s.push(m);else if(f.T<0)s.pop();else if(!o||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+m.toString(16))}}),n}var Kce=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Qce(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Mn)||[]).forEach(function(a){var s=mt(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[Kce.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function Zce(){}function Jce(){}var eue=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,tue=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,rue=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function nue(e,t,r){t.themeElements={};var n;[["clrScheme",eue,Qce],["fontScheme",tue,Zce],["fmtScheme",rue,Jce]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var aue=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function rj(e,t){(!e||e.length===0)&&(e=sue());var r,n={};if(!(r=e.match(aue)))throw new Error("themeElements not found in theme");return nue(r[0],n,t),n.raw=e,n}function sue(e,t){var r=[hF];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function iue(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var o;try{o=fF(s,{type:"array"})}catch{return}var c=_a(o,"theme/theme/theme1.xml",!0);if(c)return rj(c,r)}}function oue(e){return e.read_shift(4)}function lue(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=cue(e,4);break;case 2:t.xclrValue=HF(e);break;case 3:t.xclrValue=oue(e);break;case 4:e.l+=4;break}return e.l+=8,t}function cue(e,t){return Pn(e,t)}function uue(e,t){return Pn(e,t)}function due(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=lue(e);break;case 6:n[1]=uue(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function fue(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(due(e,r-e.l));return{ixfe:n,ext:s}}function hue(e,t){t.forEach(function(r){r[0]})}function mue(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:On(e)}}function pue(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function gue(e){return e.l+=4,e.read_shift(4)!=0}function vue(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],o=!1,c=2;return so(e,function(u,f,m){switch(m){case 335:n.Types.push({name:u.name});break;case 51:u.forEach(function(g){c==1?n.Cell.push({type:n.Types[g[0]-1].name,index:g[1]}):c==0&&n.Value.push({type:n.Types[g[0]-1].name,index:g[1]})});break;case 337:c=u?1:0;break;case 338:c=2;break;case 35:s.push(m),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!f.T){if(!o||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}}),n}function xue(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,o;return e.replace(Mn,function(c){var u=mt(c);switch(fi(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<n.Types.length;++f)n.Types[f].name==u.name&&(o=n.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[u.t-1].name,index:+u.v}):s==0&&n.Value.push({type:n.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+u.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return c}),n}function yue(e){var t=[];if(!e)return t;var r=1;return(e.match(Mn)||[]).forEach(function(n){var a=mt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function bue(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=xt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function wue(e,t,r){var n=[];return so(e,function(s,o,c){switch(c){case 63:n.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}function _ue(e,t,r,n){if(!e)return e;var a=n||{},s=!1;so(e,function(c,u,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!u.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},a)}function Eue(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function WR(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(o){var c=Wn(o.ref);if(a?(e[c.r]||(e[c.r]=[]),s=e[c.r][c.c]):s=e[o.ref],!s){s={t:"z"},a?e[c.r][c.c]=s:e[o.ref]=s;var u=Rr(e["!ref"]||"BDWGO1000001:A1");u.s.r>c.r&&(u.s.r=c.r),u.e.r<c.r&&(u.e.r=c.r),u.s.c>c.c&&(u.s.c=c.c),u.e.c<c.c&&(u.e.c=c.c);var f=jt(u);f!==e["!ref"]&&(e["!ref"]=f)}s.c||(s.c=[]);var m={a:o.author,t:o.t,r:o.r,T:r};o.h&&(m.h=o.h);for(var g=s.c.length-1;g>=0;--g){if(!r&&s.c[g].T)return;r&&!s.c[g].T&&s.c.splice(g,1)}if(r&&n){for(g=0;g<n.length;++g)if(m.a==n[g].id){m.a=n[g].name||m.a;break}}s.c.push(m)})}function Sue(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&r.push(c[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?comment[^>]*>/);if(c){var u=mt(c[0]),f={author:u.authorId&&r[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},m=Wn(u.ref);if(!(t.sheetRows&&t.sheetRows<=m.r)){var g=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),v=!!g&&!!g[1]&&WE(g[1])||{r:"",t:"",h:""};f.r=v.r,v.r=="<t></t>"&&(v.t=v.h=""),f.t=(v.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(f.h=v.h),n.push(f)}}}}),n}function Cue(e,t){var r=[],n=!1,a={},s=0;return e.replace(Mn,function(c,u){var f=mt(c);switch(fi(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=u+c.length;break;case"</text>":a.t=e.slice(s,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return c}),r}function Tue(e,t){var r=[],n=!1;return e.replace(Mn,function(s){var o=mt(s);switch(fi(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),r}function Nue(e){var t={};t.iauthor=e.read_shift(4);var r=Fc(e);return t.rfx=r.s,t.ref=xt(r.s),e.l+=16,t}var Aue=On;function kue(e,t){var r=[],n=[],a={},s=!1;return so(e,function(c,u,f){switch(f){case 632:n.push(c);break;case 635:a=c;break;case 637:a.t=c.t,a.h=c.h,a.r=c.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),r}var Rue="application/vnd.ms-office.vbaProject";function Due(e){var t=Ft.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ft.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Ft.write(t)}function Iue(){return{"!type":"dialog"}}function Oue(){return{"!type":"dialog"}}function Pue(){return{"!type":"macro"}}function Mue(){return{"!type":"macro"}}var zu=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,o){var c=!1,u=!1;s.length==0?u=!0:s.charAt(0)=="["&&(u=!0,s=s.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var f=s.length>0?parseInt(s,10)|0:0,m=o.length>0?parseInt(o,10)|0:0;return c?m+=t.c:--m,u?f+=t.r:--f,a+(c?"":"$")+Qr(m)+(u?"":"$")+Sn(f)}return function(a,s){return t=s,a.replace(e,r)}}(),nj=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Fue=function(){return function(t,r){return t.replace(nj,function(n,a,s,o,c,u){var f=BE(o)-(s?0:r.c),m=LE(u)-(c?0:r.r),g=m==0?"":c?m+1:"["+m+"]",v=f==0?"":s?f+1:"["+f+"]";return a+"R"+g+"C"+v})}}();function aj(e,t){return e.replace(nj,function(r,n,a,s,o,c){return n+(a=="$"?a+s:Qr(BE(s)+t.c))+(o=="$"?o+c:Sn(LE(c)+t.r))})}function jue(e,t,r){var n=Ad(t),a=n.s,s=Wn(r),o={r:s.r-a.r,c:s.c-a.c};return aj(e,o)}function Lue(e){return e.length!=1}function qR(e){return e.replace(/_xlfn\./g,"")}function Br(e){e.l+=1}function ml(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function sj(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return ij(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),o=ml(e),c=ml(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function ij(e){var t=ml(e),r=ml(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Bue(e,t,r){if(r.biff<8)return ij(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=ml(e),o=ml(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function oj(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Uue(e);var n=e.read_shift(r&&r.biff==12?4:2),a=ml(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Uue(e){var t=ml(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Vue(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Hue(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return $ue(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;a>524287;)a-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:o,rRel:c}}function $ue(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function zue(e,t,r){var n=(e[e.l++]&96)>>5,a=sj(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Wue(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=sj(e,s,r);return[n,a,o]}function que(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Gue(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function Yue(e,t,r){var n=(e[e.l++]&96)>>5,a=Bue(e,t-1,r);return[n,a]}function Xue(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function GR(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Kue(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Que(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Zue(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Jue(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function ede(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function lj(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function tde(e){return e.read_shift(2),lj(e)}function rde(e){return e.read_shift(2),lj(e)}function nde(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=oj(e,0,r);return[n,a]}function ade(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Hue(e,0,r);return[n,a]}function sde(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=oj(e,0,r);return[n,a,s]}function ide(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[ofe[a],dj[a],n]}function ode(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:lde(e);return[a,(s[0]===0?dj:ife)[s[1]]]}function lde(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function cde(e,t,r){e.l+=r&&r.biff==2?3:4}function ude(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function dde(e){return e.l++,jc[e.read_shift(1)]}function fde(e){return e.l++,e.read_shift(2)}function hde(e){return e.l++,e.read_shift(1)!==0}function mde(e){return e.l++,Dn(e)}function pde(e,t,r){return e.l++,b0(e,t-1,r)}function gde(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ir(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=jc[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Dn(e);break;case 2:r[1]=Lc(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function vde(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?Fc:Dv)(e));return a}function xde(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var c=0;c!=a;++c)o[s][c]=gde(e,r.biff);return o}function yde(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function bde(e,t,r){if(r.biff==5)return wde(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function wde(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function _de(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Ede(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Sde(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Cde(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var Tde=Pn,Nde=Pn,Ade=Pn;function _0(e,t,r){return e.l+=2,[Vue(e)]}function GE(e){return e.l+=6,[]}var kde=_0,Rde=GE,Dde=GE,Ide=_0;function cj(e){return e.l+=2,[Vr(e),e.read_shift(2)&1]}var Ode=_0,Pde=cj,Mde=GE,Fde=_0,jde=_0,Lde=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Bde(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),o=Lde[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:s}}function Ude(e){return e.l+=2,[e.read_shift(4)]}function Vde(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Hde(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function $de(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function zde(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Wde(e){return e.l+=4,[0,0]}var YR={1:{n:"PtgExp",f:ude},2:{n:"PtgTbl",f:Ade},3:{n:"PtgAdd",f:Br},4:{n:"PtgSub",f:Br},5:{n:"PtgMul",f:Br},6:{n:"PtgDiv",f:Br},7:{n:"PtgPower",f:Br},8:{n:"PtgConcat",f:Br},9:{n:"PtgLt",f:Br},10:{n:"PtgLe",f:Br},11:{n:"PtgEq",f:Br},12:{n:"PtgGe",f:Br},13:{n:"PtgGt",f:Br},14:{n:"PtgNe",f:Br},15:{n:"PtgIsect",f:Br},16:{n:"PtgUnion",f:Br},17:{n:"PtgRange",f:Br},18:{n:"PtgUplus",f:Br},19:{n:"PtgUminus",f:Br},20:{n:"PtgPercent",f:Br},21:{n:"PtgParen",f:Br},22:{n:"PtgMissArg",f:Br},23:{n:"PtgStr",f:pde},26:{n:"PtgSheet",f:Vde},27:{n:"PtgEndSheet",f:Hde},28:{n:"PtgErr",f:dde},29:{n:"PtgBool",f:hde},30:{n:"PtgInt",f:fde},31:{n:"PtgNum",f:mde},32:{n:"PtgArray",f:Xue},33:{n:"PtgFunc",f:ide},34:{n:"PtgFuncVar",f:ode},35:{n:"PtgName",f:yde},36:{n:"PtgRef",f:nde},37:{n:"PtgArea",f:zue},38:{n:"PtgMemArea",f:_de},39:{n:"PtgMemErr",f:Tde},40:{n:"PtgMemNoMem",f:Nde},41:{n:"PtgMemFunc",f:Ede},42:{n:"PtgRefErr",f:Sde},43:{n:"PtgAreaErr",f:que},44:{n:"PtgRefN",f:ade},45:{n:"PtgAreaN",f:Yue},46:{n:"PtgMemAreaN",f:$de},47:{n:"PtgMemNoMemN",f:zde},57:{n:"PtgNameX",f:bde},58:{n:"PtgRef3d",f:sde},59:{n:"PtgArea3d",f:Wue},60:{n:"PtgRefErr3d",f:Cde},61:{n:"PtgAreaErr3d",f:Gue},255:{}},qde={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Gde={1:{n:"PtgElfLel",f:cj},2:{n:"PtgElfRw",f:Fde},3:{n:"PtgElfCol",f:kde},6:{n:"PtgElfRwV",f:jde},7:{n:"PtgElfColV",f:Ide},10:{n:"PtgElfRadical",f:Ode},11:{n:"PtgElfRadicalS",f:Mde},13:{n:"PtgElfColS",f:Rde},15:{n:"PtgElfColSV",f:Dde},16:{n:"PtgElfRadicalLel",f:Pde},25:{n:"PtgList",f:Bde},29:{n:"PtgSxName",f:Ude},255:{}},Yde={0:{n:"PtgAttrNoop",f:Wde},1:{n:"PtgAttrSemi",f:ede},2:{n:"PtgAttrIf",f:Zue},4:{n:"PtgAttrChoose",f:Kue},8:{n:"PtgAttrGoto",f:Que},16:{n:"PtgAttrSum",f:cde},32:{n:"PtgAttrBaxcel",f:GR},33:{n:"PtgAttrBaxcel",f:GR},64:{n:"PtgAttrSpace",f:tde},65:{n:"PtgAttrSpaceSemi",f:rde},128:{n:"PtgAttrIfError",f:Jue},255:{}};function E0(e,t,r,n){if(n.biff<8)return Pn(e,t);for(var a=e.l+t,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=xde(e,0,n),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=vde(e,r[o][1],n),s.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&s.push(Pn(e,t)),s}function S0(e,t,r){for(var n=e.l+t,a,s,o=[];n!=e.l;)t=n-e.l,s=e[e.l],a=YR[s]||YR[qde[s]],(s===24||s===25)&&(a=(s===24?Gde:Yde)[e[e.l+1]]),!a||!a.f?Pn(e,t):o.push([a.n,a.f(e,t,r)]);return o}function Xde(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var o=n[s];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Kde={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Qde(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function uj(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function XR(e,t,r){var n=uj(e,t,r);return n=="#REF"?n:Qde(n,r)}function Rn(e,t,r,n,a){var s=a&&a.biff||8,o={s:{c:0,r:0}},c=[],u,f,m,g=0,v=0,x,y="";if(!e[0]||!e[0][0])return"";for(var w=-1,b="",S=0,T=e[0].length;S<T;++S){var E=e[0][S];switch(E[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=c.pop(),f=c.pop(),w>=0){switch(e[0][w][1][0]){case 0:b=Nr(" ",e[0][w][1][1]);break;case 1:b=Nr("\r",e[0][w][1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][w][1][0])}f=f+b,w=-1}c.push(f+Kde[E[0]]+u);break;case"PtgIsect":u=c.pop(),f=c.pop(),c.push(f+" "+u);break;case"PtgUnion":u=c.pop(),f=c.pop(),c.push(f+","+u);break;case"PtgRange":u=c.pop(),f=c.pop(),c.push(f+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=lh(E[1][1],o,a),c.push(ch(m,s));break;case"PtgRefN":m=r?lh(E[1][1],r,a):E[1][1],c.push(ch(m,s));break;case"PtgRef3d":g=E[1][1],m=lh(E[1][2],o,a),y=XR(n,g,a),c.push(y+"!"+ch(m,s));break;case"PtgFunc":case"PtgFuncVar":var A=E[1][0],k=E[1][1];A||(A=0),A&=127;var D=A==0?[]:c.slice(-A);c.length-=A,k==="User"&&(k=D.shift()),c.push(k+"("+D.join(",")+")");break;case"PtgBool":c.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(E[1]);break;case"PtgNum":c.push(String(E[1]));break;case"PtgStr":c.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(E[1]);break;case"PtgAreaN":x=kR(E[1][1],r?{s:r}:o,a),c.push(j1(x,a));break;case"PtgArea":x=kR(E[1][1],o,a),c.push(j1(x,a));break;case"PtgArea3d":g=E[1][1],x=E[1][2],y=XR(n,g,a),c.push(y+"!"+j1(x,a));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":v=E[1][2];var R=(n.names||[])[v-1]||(n[0]||[])[v],P=R?R.Name:"SH33TJSNAME"+String(v);P&&P.slice(0,6)=="_xlfn."&&!a.xlfn&&(P=P.slice(6)),c.push(P);break;case"PtgNameX":var I=E[1][1];v=E[1][2];var B;if(a.biff<=5)I<0&&(I=-I),n[I]&&(B=n[I][v]);else{var H="";if(((n[I]||[])[0]||[])[0]==14849||(((n[I]||[])[0]||[])[0]==1025?n[I][v]&&n[I][v].itab>0&&(H=n.SheetNames[n[I][v].itab-1]+"!"):H=n.SheetNames[v-1]+"!"),n[I]&&n[I][v])H+=n[I][v].Name;else if(n[0]&&n[0][v])H+=n[0][v].Name;else{var z=(uj(n,I,a)||"").split(";;");z[v-1]?H=z[v-1]:H+="SH33TJSERRX"}c.push(H);break}B||(B={Name:"SH33TJSERRY"}),c.push(B.Name);break;case"PtgParen":var G="(",ne=")";if(w>=0){switch(b="",e[0][w][1][0]){case 2:G=Nr(" ",e[0][w][1][1])+G;break;case 3:G=Nr("\r",e[0][w][1][1])+G;break;case 4:ne=Nr(" ",e[0][w][1][1])+ne;break;case 5:ne=Nr("\r",e[0][w][1][1])+ne;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][w][1][0])}w=-1}c.push(G+c.pop()+ne);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":m={c:E[1][1],r:E[1][0]};var se={c:r.c,r:r.r};if(n.sharedf[xt(m)]){var L=n.sharedf[xt(m)];c.push(Rn(L,o,se,n,a))}else{var oe=!1;for(u=0;u!=n.arrayf.length;++u)if(f=n.arrayf[u],!(m.c<f[0].s.c||m.c>f[0].e.c)&&!(m.r<f[0].s.r||m.r>f[0].e.r)){c.push(Rn(f[1],o,se,n,a)),oe=!0;break}oe||c.push(E[1])}break;case"PtgArray":c.push("{"+Xde(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var le=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&w>=0&&le.indexOf(e[0][S][0])==-1){E=e[0][w];var W=!0;switch(E[1][0]){case 4:W=!1;case 0:b=Nr(" ",E[1][1]);break;case 5:W=!1;case 1:b=Nr("\r",E[1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}c.push((W?b:"")+c.pop()+(W?"":b)),w=-1}}if(c.length>1&&a.WTF)throw new Error("bad formula stack");return c[0]}function Zde(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,o=e.read_shift(a);if(o==65535)return[[],Pn(e,t-2)];var c=S0(e,o,r);return t!==o+a&&(s=E0(e,t-o-a,c,r)),e.l=n,[c,s]}function Jde(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,o=e.read_shift(a);if(o==65535)return[[],Pn(e,t-2)];var c=S0(e,o,r);return t!==o+a&&(s=E0(e,t-o-a,c,r)),e.l=n,[c,s]}function efe(e,t,r,n){var a=e.l+t,s=S0(e,n,r),o;return a!==e.l&&(o=E0(e,a-e.l,s,r)),[s,o]}function tfe(e,t,r){var n=e.l+t,a,s=e.read_shift(2),o=S0(e,s,r);return s==65535?[[],Pn(e,t-2)]:(t!==s+2&&(a=E0(e,n-s-2,o,r)),[o,a])}function rfe(e){var t;if(Bi(e,e.l+6)!==65535)return[Dn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function U1(e,t,r){var n=e.l+t,a=hi(e);r.biff==2&&++e.l;var s=rfe(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var c=Jde(e,n-e.l,r);return{cell:a,val:s[0],formula:c,shared:o>>3&1,tt:s[1]}}function Iv(e,t,r){var n=e.read_shift(4),a=S0(e,n,r),s=e.read_shift(4),o=s>0?E0(e,s,a,r):null;return[a,o]}var nfe=Iv,Ov=Iv,afe=Iv,sfe=Iv,ife={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},dj={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ofe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function KR(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function V1(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var hh={},Wu={};function mh(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function fj(e,t,r,n,a,s){try{n.cellNF&&(e.z=yt[t])}catch(c){if(n.WTF)throw c}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=fn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(yt[t]==null&&hc(lie[t]||"General",t),e.t==="e")e.w=e.w||jc[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Lh(e.v);else if(e.t==="d"){var o=Kn(e.v);(o|0)===o?e.w=o.toString(10):e.w=Lh(o)}else{if(e.v===void 0)return"";e.w=Cc(e.v,Wu)}else e.t==="d"?e.w=ts(t,Kn(e.v),Wu):e.w=ts(t,e.v,Wu)}catch(c){if(n.WTF)throw c}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Sg(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Sg(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(c){if(n.WTF&&s.Fills)throw c}}}function lfe(e,t){var r=Rr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=jt(r))}var cfe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,ufe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,dfe=/<(?:\w:)?hyperlink [^>]*>/mg,ffe=/"(\w*:\w*)"/,hfe=/<(?:\w:)?col\b[^>]*[\/]?>/g,mfe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,pfe=/<(?:\w:)?pageMargins[^>]*\/>/g,hj=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,gfe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,vfe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function xfe(e,t,r,n,a,s,o){if(!e)return e;n||(n={"!id":{}});var c=t.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",m="",g=e.match(ufe);g?(f=e.slice(0,g.index),m=e.slice(g.index+g[0].length)):f=m=e;var v=f.match(hj);v?YE(v[0],c,a,r):(v=f.match(gfe))&&yfe(v[0],v[1]||"",c,a,r);var x=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(x>0){var y=f.slice(x,x+50).match(ffe);y&&lfe(c,y[1])}var w=f.match(vfe);w&&w[1]&&Cfe(w[1],a);var b=[];if(t.cellStyles){var S=f.match(hfe);S&&_fe(b,S)}g&&Tfe(g[1],c,t,u,s,o);var T=m.match(mfe);T&&(c["!autofilter"]=Efe(T[0]));var E=[],A=m.match(cfe);if(A)for(x=0;x!=A.length;++x)E[x]=Rr(A[x].slice(A[x].indexOf('"')+1));var k=m.match(dfe);k&&bfe(c,k,n);var D=m.match(pfe);if(D&&(c["!margins"]=wfe(mt(D[0]))),!c["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(c["!ref"]=jt(u)),t.sheetRows>0&&c["!ref"]){var R=Rr(c["!ref"]);t.sheetRows<=+R.e.r&&(R.e.r=t.sheetRows-1,R.e.r>u.e.r&&(R.e.r=u.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>u.e.c&&(R.e.c=u.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),c["!fullref"]=c["!ref"],c["!ref"]=jt(R))}return b.length>0&&(c["!cols"]=b),E.length>0&&(c["!merges"]=E),c}function YE(e,t,r,n){var a=mt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Lt(lr(a.codeName)))}function yfe(e,t,r,n,a){YE(e.slice(0,e.indexOf(">")),r,n,a)}function bfe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=mt(lr(t[a]),!0);if(!s.ref)return;var o=((r||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+Lt(s.location))):(s.Target="#"+Lt(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var c=Rr(s.ref),u=c.s.r;u<=c.e.r;++u)for(var f=c.s.c;f<=c.e.c;++f){var m=xt({c:f,r:u});n?(e[u]||(e[u]=[]),e[u][f]||(e[u][f]={t:"z",v:void 0}),e[u][f].l=s):(e[m]||(e[m]={t:"z",v:void 0}),e[m].l=s)}}}function wfe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function _fe(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=mt(t[n],!0);a.hidden&&(a.hidden=hr(a.hidden));var s=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,qE(a.width)),sd(a);s<=o;)e[s++]=En(a)}}function Efe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Sfe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Cfe(e,t){t.Views||(t.Views=[{}]),(e.match(Sfe)||[]).forEach(function(r,n){var a=mt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),hr(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var Tfe=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=Bh("v"),o=Bh("f");return function(u,f,m,g,v,x){for(var y=0,w="",b=[],S=[],T=0,E=0,A=0,k="",D,R,P=0,I=0,B,H,z=0,G=0,ne=Array.isArray(x.CellXf),se,L=[],oe=[],le=Array.isArray(f),W=[],V={},ce=!1,j=!!m.sheetStubs,ee=u.split(t),K=0,Q=ee.length;K!=Q;++K){w=ee[K].trim();var re=w.length;if(re!==0){var be=0;e:for(y=0;y<re;++y)switch(w[y]){case">":if(w[y-1]!="/"){++y;break e}if(m&&m.cellStyles){if(R=mt(w.slice(be,y),!0),P=R.r!=null?parseInt(R.r,10):P+1,I=-1,m.sheetRows&&m.sheetRows<P)continue;V={},ce=!1,R.ht&&(ce=!0,V.hpt=parseFloat(R.ht),V.hpx=$h(V.hpt)),R.hidden=="1"&&(ce=!0,V.hidden=!0),R.outlineLevel!=null&&(ce=!0,V.level=+R.outlineLevel),ce&&(W[P-1]=V)}break;case"<":be=y;break}if(be>=y)break;if(R=mt(w.slice(be,y),!0),P=R.r!=null?parseInt(R.r,10):P+1,I=-1,!(m.sheetRows&&m.sheetRows<P)){g.s.r>P-1&&(g.s.r=P-1),g.e.r<P-1&&(g.e.r=P-1),m&&m.cellStyles&&(V={},ce=!1,R.ht&&(ce=!0,V.hpt=parseFloat(R.ht),V.hpx=$h(V.hpt)),R.hidden=="1"&&(ce=!0,V.hidden=!0),R.outlineLevel!=null&&(ce=!0,V.level=+R.outlineLevel),ce&&(W[P-1]=V)),b=w.slice(y).split(e);for(var Ee=0;Ee!=b.length&&b[Ee].trim().charAt(0)=="<";++Ee);for(b=b.slice(Ee),y=0;y!=b.length;++y)if(w=b[y].trim(),w.length!==0){if(S=w.match(r),T=y,E=0,A=0,w="<c "+(w.slice(0,1)=="<"?">":"")+w,S!=null&&S.length===2){for(T=0,k=S[1],E=0;E!=k.length&&!((A=k.charCodeAt(E)-64)<1||A>26);++E)T=26*T+A;--T,I=T}else++I;for(E=0;E!=w.length&&w.charCodeAt(E)!==62;++E);if(++E,R=mt(w.slice(0,E),!0),R.r||(R.r=xt({r:P-1,c:I})),k=w.slice(E),D={t:""},(S=k.match(s))!=null&&S[1]!==""&&(D.v=Lt(S[1])),m.cellFormula){if((S=k.match(o))!=null&&S[1]!==""){if(D.f=Lt(lr(S[1])).replace(/\r\n/g,`
`),m.xlfn||(D.f=qR(D.f)),S[0].indexOf('t="array"')>-1)D.F=(k.match(a)||[])[1],D.F.indexOf(":")>-1&&L.push([Rr(D.F),D.F]);else if(S[0].indexOf('t="shared"')>-1){H=mt(S[0]);var ue=Lt(lr(S[1]));m.xlfn||(ue=qR(ue)),oe[parseInt(H.si,10)]=[H,ue,R.r]}}else(S=k.match(/<f[^>]*\/>/))&&(H=mt(S[0]),oe[H.si]&&(D.f=jue(oe[H.si][1],oe[H.si][2],R.r)));var me=Wn(R.r);for(E=0;E<L.length;++E)me.r>=L[E][0].s.r&&me.r<=L[E][0].e.r&&me.c>=L[E][0].s.c&&me.c<=L[E][0].e.c&&(D.F=L[E][1])}if(R.t==null&&D.v===void 0)if(D.f||D.F)D.v=0,D.t="n";else if(j)D.t="z";else continue;else D.t=R.t||"n";switch(g.s.c>I&&(g.s.c=I),g.e.c<I&&(g.e.c=I),D.t){case"n":if(D.v==""||D.v==null){if(!j)continue;D.t="z"}else D.v=parseFloat(D.v);break;case"s":if(typeof D.v>"u"){if(!j)continue;D.t="z"}else B=hh[parseInt(D.v,10)],D.v=B.t,D.r=B.r,m.cellHTML&&(D.h=B.h);break;case"str":D.t="s",D.v=D.v!=null?lr(D.v):"",m.cellHTML&&(D.h=ME(D.v));break;case"inlineStr":S=k.match(n),D.t="s",S!=null&&(B=WE(S[1]))?(D.v=B.t,m.cellHTML&&(D.h=B.h)):D.v="";break;case"b":D.v=hr(D.v);break;case"d":m.cellDates?D.v=fn(D.v,1):(D.v=Kn(fn(D.v,1)),D.t="n");break;case"e":(!m||m.cellText!==!1)&&(D.w=D.v),D.v=PF[D.v];break}if(z=G=0,se=null,ne&&R.s!==void 0&&(se=x.CellXf[R.s],se!=null&&(se.numFmtId!=null&&(z=se.numFmtId),m.cellStyles&&se.fillId!=null&&(G=se.fillId))),fj(D,z,G,m,v,x),m.cellDates&&ne&&D.t=="n"&&Nd(yt[z])&&(D.t="d",D.v=Rv(D.v)),R.cm&&m.xlmeta){var Ae=(m.xlmeta.Cell||[])[+R.cm-1];Ae&&Ae.type=="XLDAPR"&&(D.D=!0)}if(le){var Y=Wn(R.r);f[Y.r]||(f[Y.r]=[]),f[Y.r][Y.c]=D}else f[R.r]=D}}}}W.length>0&&(f["!rows"]=W)}}();function Nfe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var Afe=Fc;function kfe(){}function Rfe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Zie(e),r}function Dfe(e){var t=is(e);return[t]}function Ife(e){var t=Mc(e);return[t]}function Ofe(e){var t=is(e),r=e.read_shift(1);return[t,r,"b"]}function Pfe(e){var t=Mc(e),r=e.read_shift(1);return[t,r,"b"]}function Mfe(e){var t=is(e),r=e.read_shift(1);return[t,r,"e"]}function Ffe(e){var t=Mc(e),r=e.read_shift(1);return[t,r,"e"]}function jfe(e){var t=is(e),r=e.read_shift(4);return[t,r,"s"]}function Lfe(e){var t=Mc(e),r=e.read_shift(4);return[t,r,"s"]}function Bfe(e){var t=is(e),r=Dn(e);return[t,r,"n"]}function mj(e){var t=Mc(e),r=Dn(e);return[t,r,"n"]}function Ufe(e){var t=is(e),r=HE(e);return[t,r,"n"]}function Vfe(e){var t=Mc(e),r=HE(e);return[t,r,"n"]}function Hfe(e){var t=is(e),r=UE(e);return[t,r,"is"]}function $fe(e){var t=is(e),r=On(e);return[t,r,"str"]}function zfe(e){var t=Mc(e),r=On(e);return[t,r,"str"]}function Wfe(e,t,r){var n=e.l+t,a=is(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"b"];if(r.cellFormula){e.l+=2;var c=Ov(e,n-e.l,r);o[3]=Rn(c,null,a,r.supbooks,r)}else e.l=n;return o}function qfe(e,t,r){var n=e.l+t,a=is(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"e"];if(r.cellFormula){e.l+=2;var c=Ov(e,n-e.l,r);o[3]=Rn(c,null,a,r.supbooks,r)}else e.l=n;return o}function Gfe(e,t,r){var n=e.l+t,a=is(e);a.r=r["!row"];var s=Dn(e),o=[a,s,"n"];if(r.cellFormula){e.l+=2;var c=Ov(e,n-e.l,r);o[3]=Rn(c,null,a,r.supbooks,r)}else e.l=n;return o}function Yfe(e,t,r){var n=e.l+t,a=is(e);a.r=r["!row"];var s=On(e),o=[a,s,"str"];if(r.cellFormula){e.l+=2;var c=Ov(e,n-e.l,r);o[3]=Rn(c,null,a,r.supbooks,r)}else e.l=n;return o}var Xfe=Fc;function Kfe(e,t){var r=e.l+t,n=Fc(e),a=VE(e),s=On(e),o=On(e),c=On(e);e.l=r;var u={rfx:n,relId:a,loc:s,display:c};return o&&(u.Tooltip=o),u}function Qfe(){}function Zfe(e,t,r){var n=e.l+t,a=DF(e),s=e.read_shift(1),o=[a];if(o[2]=s,r.cellFormula){var c=nfe(e,n-e.l,r);o[1]=c}else e.l=n;return o}function Jfe(e,t,r){var n=e.l+t,a=Fc(e),s=[a];if(r.cellFormula){var o=sfe(e,n-e.l,r);s[1]=o,e.l=n}else e.l=n;return s}var ehe=["left","right","top","bottom","header","footer"];function the(e){var t={};return ehe.forEach(function(r){t[r]=Dn(e)}),t}function rhe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function nhe(){}function ahe(){}function she(e,t,r,n,a,s,o){if(!e)return e;var c=t||{};n||(n={"!id":{}});var u=c.dense?[]:{},f,m={s:{r:2e6,c:2e6},e:{r:0,c:0}},g=!1,v=!1,x,y,w,b,S,T,E,A,k,D=[];c.biff=12,c["!row"]=0;var R=0,P=!1,I=[],B={},H=c.supbooks||a.supbooks||[[]];if(H.sharedf=B,H.arrayf=I,H.SheetNames=a.SheetNames||a.Sheets.map(function(le){return le.name}),!c.supbooks&&(c.supbooks=H,a.Names))for(var z=0;z<a.Names.length;++z)H[0][z+1]=a.Names[z];var G=[],ne=[],se=!1;Ng[16]={n:"BrtShortReal",f:mj};var L;if(so(e,function(W,V,ce){if(!v)switch(ce){case 148:f=W;break;case 0:x=W,c.sheetRows&&c.sheetRows<=x.r&&(v=!0),A=Sn(b=x.r),c["!row"]=x.r,(W.hidden||W.hpt||W.level!=null)&&(W.hpt&&(W.hpx=$h(W.hpt)),ne[W.r]=W);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:W[2]},W[2]){case"n":y.v=W[1];break;case"s":E=hh[W[1]],y.v=E.t,y.r=E.r;break;case"b":y.v=!!W[1];break;case"e":y.v=W[1],c.cellText!==!1&&(y.w=jc[y.v]);break;case"str":y.t="s",y.v=W[1];break;case"is":y.t="s",y.v=W[1].t;break}if((w=o.CellXf[W[0].iStyleRef])&&fj(y,w.numFmtId,null,c,s,o),S=W[0].c==-1?S+1:W[0].c,c.dense?(u[b]||(u[b]=[]),u[b][S]=y):u[Qr(S)+A]=y,c.cellFormula){for(P=!1,R=0;R<I.length;++R){var j=I[R];x.r>=j[0].s.r&&x.r<=j[0].e.r&&S>=j[0].s.c&&S<=j[0].e.c&&(y.F=jt(j[0]),P=!0)}!P&&W.length>3&&(y.f=W[3])}if(m.s.r>x.r&&(m.s.r=x.r),m.s.c>S&&(m.s.c=S),m.e.r<x.r&&(m.e.r=x.r),m.e.c<S&&(m.e.c=S),c.cellDates&&w&&y.t=="n"&&Nd(yt[w.numFmtId])){var ee=uc(y.v);ee&&(y.t="d",y.v=new Date(ee.y,ee.m-1,ee.d,ee.H,ee.M,ee.S,ee.u))}L&&(L.type=="XLDAPR"&&(y.D=!0),L=void 0);break;case 1:case 12:if(!c.sheetStubs||g)break;y={t:"z",v:void 0},S=W[0].c==-1?S+1:W[0].c,c.dense?(u[b]||(u[b]=[]),u[b][S]=y):u[Qr(S)+A]=y,m.s.r>x.r&&(m.s.r=x.r),m.s.c>S&&(m.s.c=S),m.e.r<x.r&&(m.e.r=x.r),m.e.c<S&&(m.e.c=S),L&&(L.type=="XLDAPR"&&(y.D=!0),L=void 0);break;case 176:D.push(W);break;case 49:L=((c.xlmeta||{}).Cell||[])[W-1];break;case 494:var K=n["!id"][W.relId];for(K?(W.Target=K.Target,W.loc&&(W.Target+="#"+W.loc),W.Rel=K):W.relId==""&&(W.Target="#"+W.loc),b=W.rfx.s.r;b<=W.rfx.e.r;++b)for(S=W.rfx.s.c;S<=W.rfx.e.c;++S)c.dense?(u[b]||(u[b]=[]),u[b][S]||(u[b][S]={t:"z",v:void 0}),u[b][S].l=W):(T=xt({c:S,r:b}),u[T]||(u[T]={t:"z",v:void 0}),u[T].l=W);break;case 426:if(!c.cellFormula)break;I.push(W),k=c.dense?u[b][S]:u[Qr(S)+A],k.f=Rn(W[1],m,{r:x.r,c:S},H,c),k.F=jt(W[0]);break;case 427:if(!c.cellFormula)break;B[xt(W[0].s)]=W[1],k=c.dense?u[b][S]:u[Qr(S)+A],k.f=Rn(W[1],m,{r:x.r,c:S},H,c);break;case 60:if(!c.cellStyles)break;for(;W.e>=W.s;)G[W.e--]={width:W.w/256,hidden:!!(W.flags&1),level:W.level},se||(se=!0,qE(W.w/256)),sd(G[W.e+1]);break;case 161:u["!autofilter"]={ref:jt(W)};break;case 476:u["!margins"]=W;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),W.name&&(a.Sheets[r].CodeName=W.name),(W.above||W.left)&&(u["!outline"]={above:W.above,left:W.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),W.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:g=!0;break;case 36:g=!1;break;case 37:g=!0;break;case 38:g=!1;break;default:if(!V.T){if(!g||c.WTF)throw new Error("Unexpected record 0x"+ce.toString(16))}}},c),delete c.supbooks,delete c["!row"],!u["!ref"]&&(m.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(u["!ref"]=jt(f||m)),c.sheetRows&&u["!ref"]){var oe=Rr(u["!ref"]);c.sheetRows<=+oe.e.r&&(oe.e.r=c.sheetRows-1,oe.e.r>m.e.r&&(oe.e.r=m.e.r),oe.e.r<oe.s.r&&(oe.s.r=oe.e.r),oe.e.c>m.e.c&&(oe.e.c=m.e.c),oe.e.c<oe.s.c&&(oe.s.c=oe.e.c),u["!fullref"]=u["!ref"],u["!ref"]=jt(oe))}return D.length>0&&(u["!merges"]=D),G.length>0&&(u["!cols"]=G),ne.length>0&&(u["!rows"]=ne),u}function ihe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=Lt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function ohe(e,t,r,n,a,s){var o=s||{"!type":"chart"};if(!e)return s;var c=0,u=0,f="A",m={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(g){var v=ihe(g);m.s.r=m.s.c=0,m.e.c=c,f=Qr(c),v[0].forEach(function(x,y){o[f+Sn(y)]={t:"n",v:x,z:v[1]},u=y}),m.e.r<u&&(m.e.r=u),++c}),c>0&&(o["!ref"]=jt(m)),o}function lhe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,c=e.match(hj);return c&&YE(c[0],s,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function che(e,t){e.l+=10;var r=On(e);return{name:r}}function uhe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return so(e,function(u,f,m){switch(m){case 550:s["!rel"]=u;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),u.name&&(a.Sheets[r].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+m.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var pj=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],dhe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],fhe=[],hhe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function QR(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=hr(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function ZR(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=hr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function gj(e){ZR(e.WBProps,pj),ZR(e.CalcPr,hhe),QR(e.WBView,dhe),QR(e.Sheets,fhe),Wu.date1904=hr(e.WBProps.date1904)}var mhe="][*?/\\".split("");function phe(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return mhe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var ghe=/<\w+:workbook/;function vhe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},o=0;if(e.replace(Mn,function(u,f){var m=mt(u);switch(fi(m[0])){case"<?xml":break;case"<workbook":u.match(ghe)&&(a="xmlns"+u.match(/<(\w+):/)[1]),r.xmlns=m[a];break;case"</workbook>":break;case"<fileVersion":delete m[0],r.AppVersion=m;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":pj.forEach(function(g){if(m[g[0]]!=null)switch(g[2]){case"bool":r.WBProps[g[0]]=hr(m[g[0]]);break;case"int":r.WBProps[g[0]]=parseInt(m[g[0]],10);break;default:r.WBProps[g[0]]=m[g[0]]}}),m.codeName&&(r.WBProps.CodeName=lr(m.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete m[0],r.WBView.push(m);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(m.state){case"hidden":m.Hidden=1;break;case"veryHidden":m.Hidden=2;break;default:m.Hidden=0}delete m.state,m.name=Lt(lr(m.name)),delete m[0],r.Sheets.push(m);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=lr(m.name),m.comment&&(s.Comment=m.comment),m.localSheetId&&(s.Sheet=+m.localSheetId),hr(m.hidden||"0")&&(s.Hidden=!0),o=f+u.length;break;case"</definedName>":s.Ref=Lt(lr(e.slice(o,f))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete m[0],r.CalcPr=m;break;case"<calcPr/>":delete m[0],r.CalcPr=m;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+m[0]+" in workbook")}return u}),Mie.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return gj(r),r}function xhe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=tw(e),r.name=On(e),r}function yhe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?On(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function bhe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function whe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=Jie(e),o=afe(e,0,r),c=VE(e);e.l=n;var u={Name:s,Ptg:o};return a<268435455&&(u.Sheet=a),c&&(u.Comment=c),u}function _he(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],Ng[16]={n:"BrtFRTArchID$",f:bhe},so(e,function(u,f,m){switch(m){case 156:o.SheetNames.push(u.name),r.Sheets.push(u);break;case 153:r.WBProps=u;break;case 39:u.Sheet!=null&&(t.SID=u.Sheet),u.Ref=Rn(u.Ptg,null,null,o,t),delete t.SID,delete u.Ptg,s.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([m,u]):o[0]=[m,u],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(u),o.XTI=o.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(m),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(m),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!f.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}},t),gj(r),r.Names=s,r.supbooks=o,r}function Ehe(e,t,r){return t.slice(-4)===".bin"?_he(e,r):vhe(e,r)}function She(e,t,r,n,a,s,o,c){return t.slice(-4)===".bin"?she(e,n,r,a,s,o,c):xfe(e,n,r,a,s,o,c)}function Che(e,t,r,n,a,s,o,c){return t.slice(-4)===".bin"?uhe(e,n,r,a,s):lhe(e,n,r,a,s)}function The(e,t,r,n,a,s,o,c){return t.slice(-4)===".bin"?Pue():Mue()}function Nhe(e,t,r,n,a,s,o,c){return t.slice(-4)===".bin"?Iue():Oue()}function Ahe(e,t,r,n){return t.slice(-4)===".bin"?Xce(e,r,n):$ce(e,r,n)}function khe(e,t,r){return rj(e,r)}function Rhe(e,t,r){return t.slice(-4)===".bin"?dce(e,r):cce(e,r)}function Dhe(e,t,r){return t.slice(-4)===".bin"?kue(e,r):Sue(e,r)}function Ihe(e,t,r){return t.slice(-4)===".bin"?wue(e):yue(e)}function Ohe(e,t,r,n){return r.slice(-4)===".bin"?_ue(e,t,r,n):void 0}function Phe(e,t,r){return t.slice(-4)===".bin"?vue(e,t,r):xue(e,t,r)}var vj=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,xj=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ds(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(vj),s,o,c,u;if(a)for(u=0;u!=a.length;++u)s=a[u].match(xj),(o=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?c="xmlns"+s[1].slice(6):c=s[1].slice(o+1),n[c]=s[2].slice(1,s[2].length-1));return n}function Mhe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(vj),a,s,o,c;if(n)for(c=0;c!=n.length;++c)a=n[c].match(xj),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),r[o]=a[2].slice(1,a[2].length-1));return r}var ph;function Fhe(e,t){var r=ph[e]||Lt(e);return r==="General"?Cc(t):ts(r,t)}function jhe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=hr(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=fn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Lt(t)]=a}function Lhe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||jc[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Lh(e.v):e.w=Cc(e.v):e.w=Fhe(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=ph[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Nd(n)){var a=uc(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function Bhe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=jce[n.Pattern]||n.Pattern)}e[t.ID]=t}function Uhe(e,t,r,n,a,s,o,c,u,f){var m="General",g=n.StyleID,v={};f=f||{};var x=[],y=0;for(g===void 0&&c&&(g=c.StyleID),g===void 0&&o&&(g=o.StyleID);s[g]!==void 0&&(s[g].nf&&(m=s[g].nf),s[g].Interior&&x.push(s[g].Interior),!!s[g].Parent);)g=s[g].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=hr(e);break;case"String":n.t="s",n.r=bR(Lt(e)),n.v=e.indexOf("<")>-1?Lt(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(fn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Lt(e):n.v<60&&(n.v=n.v-1),(!m||m=="General")&&(m="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=PF[e],f.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=bR(t||e));break}if(Lhe(n,m,f),f.cellFormula!==!1)if(n.Formula){var w=Lt(n.Formula);w.charCodeAt(0)==61&&(w=w.slice(1)),n.f=zu(w,a),delete n.Formula,n.ArrayRange=="RC"?n.F=zu("RC:RC",a):n.ArrayRange&&(n.F=zu(n.ArrayRange,a),u.push([Rr(n.F),n.F]))}else for(y=0;y<u.length;++y)a.r>=u[y][0].s.r&&a.r<=u[y][0].e.r&&a.c>=u[y][0].s.c&&a.c<=u[y][0].e.c&&(n.F=u[y][1]);f.cellStyles&&(x.forEach(function(b){!v.patternType&&b.patternType&&(v.patternType=b.patternType)}),n.s=v),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Vhe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function H1(e,t){var r=t||{};iF();var n=Wf(FE(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=lr(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=En(r);return o.type="string",Vh.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ie){a.indexOf("<"+ie)>=0&&(s=!0)}),s)return Khe(n,r);ph={"General Number":"General","General Date":yt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":yt[15],"Short Date":yt[14],"Long Time":yt[19],"Medium Time":yt[18],"Short Time":yt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:yt[2],Standard:yt[4],Percent:yt[10],Scientific:yt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,u=[],f,m={},g=[],v=r.dense?[]:{},x="",y={},w={},b=ds('<Data ss:Type="String">'),S=0,T=0,E=0,A={s:{r:2e6,c:2e6},e:{r:0,c:0}},k={},D={},R="",P=0,I=[],B={},H={},z=0,G=[],ne=[],se={},L=[],oe,le=!1,W=[],V=[],ce={},j=0,ee=0,K={Sheets:[],WBProps:{date1904:!1}},Q={};Uh.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var re="";c=Uh.exec(n);)switch(c[3]=(re=c[3]).toLowerCase()){case"data":if(re=="data"){if(c[1]==="/"){if((f=u.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&u.push([c[3],!0]);break}if(u[u.length-1][1])break;c[1]==="/"?Uhe(n.slice(S,c.index),R,b,u[u.length-1][0]=="comment"?se:y,{c:T,r:E},k,L[T],w,W,r):(R="",b=ds(c[0]),S=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(ne.length>0&&(y.c=ne),(!r.sheetRows||r.sheetRows>E)&&y.v!==void 0&&(r.dense?(v[E]||(v[E]=[]),v[E][T]=y):v[Qr(T)+Sn(E)]=y),y.HRef&&(y.l={Target:Lt(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(j=T+(parseInt(y.MergeAcross,10)|0),ee=E+(parseInt(y.MergeDown,10)|0),I.push({s:{c:T,r:E},e:{c:j,r:ee}})),!r.sheetStubs)y.MergeAcross?T=j+1:++T;else if(y.MergeAcross||y.MergeDown){for(var be=T;be<=j;++be)for(var Ee=E;Ee<=ee;++Ee)(be>T||Ee>E)&&(r.dense?(v[Ee]||(v[Ee]=[]),v[Ee][be]={t:"z"}):v[Qr(be)+Sn(Ee)]={t:"z"});T=j+1}else++T;else y=Mhe(c[0]),y.Index&&(T=+y.Index-1),T<A.s.c&&(A.s.c=T),T>A.e.c&&(A.e.c=T),c[0].slice(-2)==="/>"&&++T,ne=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(E<A.s.r&&(A.s.r=E),E>A.e.r&&(A.e.r=E),c[0].slice(-2)==="/>"&&(w=ds(c[0]),w.Index&&(E=+w.Index-1)),T=0,++E):(w=ds(c[0]),w.Index&&(E=+w.Index-1),ce={},(w.AutoFitHeight=="0"||w.Height)&&(ce.hpx=parseInt(w.Height,10),ce.hpt=tj(ce.hpx),V[E]=ce),w.Hidden=="1"&&(ce.hidden=!0,V[E]=ce));break;case"worksheet":if(c[1]==="/"){if((f=u.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"));g.push(x),A.s.r<=A.e.r&&A.s.c<=A.e.c&&(v["!ref"]=jt(A),r.sheetRows&&r.sheetRows<=A.e.r&&(v["!fullref"]=v["!ref"],A.e.r=r.sheetRows-1,v["!ref"]=jt(A))),I.length&&(v["!merges"]=I),L.length>0&&(v["!cols"]=L),V.length>0&&(v["!rows"]=V),m[x]=v}else A={s:{r:2e6,c:2e6},e:{r:0,c:0}},E=T=0,u.push([c[3],!1]),f=ds(c[0]),x=Lt(f.Name),v=r.dense?[]:{},I=[],W=[],V=[],Q={name:x,Hidden:0},K.Sheets.push(Q);break;case"table":if(c[1]==="/"){if((f=u.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else{if(c[0].slice(-2)=="/>")break;u.push([c[3],!1]),L=[],le=!1}break;case"style":c[1]==="/"?Bhe(k,D,r):D=ds(c[0]);break;case"numberformat":D.nf=Lt(ds(c[0]).Format||"General"),ph[D.nf]&&(D.nf=ph[D.nf]);for(var ue=0;ue!=392&&yt[ue]!=D.nf;++ue);if(ue==392){for(ue=57;ue!=392;++ue)if(yt[ue]==null){hc(D.nf,ue);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(oe=ds(c[0]),oe.Hidden&&(oe.hidden=!0,delete oe.Hidden),oe.Width&&(oe.wpx=parseInt(oe.Width,10)),!le&&oe.wpx>10){le=!0,$n=JF;for(var me=0;me<L.length;++me)L[me]&&sd(L[me])}le&&sd(oe),L[oe.Index-1||L.length]=oe;for(var Ae=0;Ae<+oe.Span;++Ae)L[L.length]=En(oe);break;case"namedrange":if(c[1]==="/")break;K.Names||(K.Names=[]);var Y=mt(c[0]),He={Name:Y.Name,Ref:zu(Y.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(He.Sheet=K.Sheets.length-1),K.Names.push(He);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?R+=n.slice(P,c.index):P=c.index+c[0].length;break;case"interior":if(!r.cellStyles)break;D.Interior=ds(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?Soe(B,re,n.slice(z,c.index)):z=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((f=u.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else u.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((f=u.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"));Vhe(se),ne.push(se)}else u.push([c[3],!1]),f=ds(c[0]),se={a:f.Author};break;case"autofilter":if(c[1]==="/"){if((f=u.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var Ce=ds(c[0]);v["!autofilter"]={ref:zu(Ce.Range).replace(/\$/g,"")},u.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((f=u.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&u.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((f=u.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&u.push([c[3],!0]);break;case"null":break;default:if(u.length==0&&c[3]=="document"||u.length==0&&c[3]=="uof")return aD(n,r);var Ge=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ge=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ge=!1}break;case"excelworkbook":switch(c[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ge=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:Ge=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(n.slice(z,c.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else z=c.index+c[0].length;break;case"header":v["!margins"]||mh(v["!margins"]={},"xlml"),isNaN(+mt(c[0]).Margin)||(v["!margins"].header=+mt(c[0]).Margin);break;case"footer":v["!margins"]||mh(v["!margins"]={},"xlml"),isNaN(+mt(c[0]).Margin)||(v["!margins"].footer=+mt(c[0]).Margin);break;case"pagemargins":var $e=mt(c[0]);v["!margins"]||mh(v["!margins"]={},"xlml"),isNaN(+$e.Top)||(v["!margins"].top=+$e.Top),isNaN(+$e.Left)||(v["!margins"].left=+$e.Left),isNaN(+$e.Right)||(v["!margins"].right=+$e.Right),isNaN(+$e.Bottom)||(v["!margins"].bottom=+$e.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ge=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ge=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ge=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ge=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ge=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ge=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ge=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ge=!1}break;case"smarttags":break;default:Ge=!1;break}if(Ge||c[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?jhe(H,re,G,n.slice(z,c.index)):(G=c,z=c.index+c[0].length);break}if(r.WTF)throw"Unrecognized tag: "+c[3]+"|"+u.join("|")}var Oe={};return!r.bookSheets&&!r.bookProps&&(Oe.Sheets=m),Oe.SheetNames=g,Oe.Workbook=K,Oe.SSF=En(yt),Oe.Props=B,Oe.Custprops=H,Oe}function sw(e,t){switch(QE(t=t||{}),t.type||"base64"){case"base64":return H1(Ta(e),t);case"binary":case"buffer":case"file":return H1(e,t);case"array":return H1(Pc(e),t)}}function Hhe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=roe(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=noe(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var $he=[60,1084,2066,2165,2175];function zhe(e,t,r,n,a){var s=n,o=[],c=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&c.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(c)}o.push(c),r.l+=s;for(var u=Bi(r,r.l),f=iw[u],m=0;f!=null&&$he.indexOf(u)>-1;)s=Bi(r,r.l+2),m=r.l+4,u==2066?m+=4:(u==2165||u==2175)&&(m+=12),c=r.slice(m,r.l+4+s),o.push(c),r.l+=4+s,f=iw[u=Bi(r,r.l)];var g=Ho(o);wn(g,0);var v=0;g.lens=[];for(var x=0;x<o.length;++x)g.lens.push(v),v+=o[x].length;if(g.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+g.length+" < "+n;return t.f(g,g.length,a)}function Bs(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=yt[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||jc[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Lh(e.v):e.w=Cc(e.v):e.w=ts(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&Nd(yt[n]||String(n))){var a=uc(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function op(e,t,r){return{v:e,ixfe:t,t:r}}function Whe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},o={},c=null,u=[],f="",m={},g,v="",x,y,w,b,S={},T=[],E,A,k=[],D=[],R={Sheets:[],WBProps:{date1904:!1},Views:[{}]},P={},I=function(ot){return ot<8?mc[ot]:ot<64&&D[ot-8]||mc[ot]},B=function(ot,qt,pr){var Gt=qt.XF.data;if(!(!Gt||!Gt.patternType||!pr||!pr.cellStyles)){qt.s={},qt.s.patternType=Gt.patternType;var ur;(ur=Hh(I(Gt.icvFore)))&&(qt.s.fgColor={rgb:ur}),(ur=Hh(I(Gt.icvBack)))&&(qt.s.bgColor={rgb:ur})}},H=function(ot,qt,pr){if(!(ce>1)&&!(pr.sheetRows&&ot.r>=pr.sheetRows)){if(pr.cellStyles&&qt.XF&&qt.XF.data&&B(ot,qt,pr),delete qt.ixfe,delete qt.XF,g=ot,v=xt(ot),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),ot.r<o.s.r&&(o.s.r=ot.r),ot.c<o.s.c&&(o.s.c=ot.c),ot.r+1>o.e.r&&(o.e.r=ot.r+1),ot.c+1>o.e.c&&(o.e.c=ot.c+1),pr.cellFormula&&qt.f){for(var Gt=0;Gt<T.length;++Gt)if(!(T[Gt][0].s.c>ot.c||T[Gt][0].s.r>ot.r)&&!(T[Gt][0].e.c<ot.c||T[Gt][0].e.r<ot.r)){qt.F=jt(T[Gt][0]),(T[Gt][0].s.c!=ot.c||T[Gt][0].s.r!=ot.r)&&delete qt.f,qt.f&&(qt.f=""+Rn(T[Gt][1],o,ot,W,z));break}}pr.dense?(a[ot.r]||(a[ot.r]=[]),a[ot.r][ot.c]=qt):a[v]=qt}},z={enc:!1,sbcch:0,snames:[],sharedf:S,arrayf:T,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(z.password=t.password);var G,ne=[],se=[],L=[],oe=[],le=!1,W=[];W.SheetNames=z.snames,W.sharedf=z.sharedf,W.arrayf=z.arrayf,W.names=[],W.XTI=[];var V=0,ce=0,j=0,ee=[],K=[],Q;z.codepage=1200,ys(1200);for(var re=!1;e.l<e.length-1;){var be=e.l,Ee=e.read_shift(2);if(Ee===0&&V===10)break;var ue=e.l===e.length?0:e.read_shift(2),me=iw[Ee];if(me&&me.f){if(t.bookSheets&&V===133&&Ee!==133)break;if(V=Ee,me.r===2||me.r==12){var Ae=e.read_shift(2);if(ue-=2,!z.enc&&Ae!==Ee&&((Ae&255)<<8|Ae>>8)!==Ee)throw new Error("rt mismatch: "+Ae+"!="+Ee);me.r==12&&(e.l+=10,ue-=10)}var Y={};if(Ee===10?Y=me.f(e,ue,z):Y=zhe(Ee,me,e,ue,z),ce==0&&[9,521,1033,2057].indexOf(V)===-1)continue;switch(Ee){case 34:r.opts.Date1904=R.WBProps.date1904=Y;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(z.enc||(e.l=0),z.enc=Y,!t.password)throw new Error("File is password-protected");if(Y.valid==null)throw new Error("Encryption scheme unsupported");if(!Y.valid)throw new Error("Password is incorrect");break;case 92:z.lastuser=Y;break;case 66:var He=Number(Y);switch(He){case 21010:He=1200;break;case 32768:He=1e4;break;case 32769:He=1252;break}ys(z.codepage=He),re=!0;break;case 317:z.rrtabid=Y;break;case 25:z.winlocked=Y;break;case 439:r.opts.RefreshAll=Y;break;case 12:r.opts.CalcCount=Y;break;case 16:r.opts.CalcDelta=Y;break;case 17:r.opts.CalcIter=Y;break;case 13:r.opts.CalcMode=Y;break;case 14:r.opts.CalcPrecision=Y;break;case 95:r.opts.CalcSaveRecalc=Y;break;case 15:z.CalcRefMode=Y;break;case 2211:r.opts.FullCalc=Y;break;case 129:Y.fDialog&&(a["!type"]="dialog"),Y.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),Y.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:k.push(Y);break;case 430:W.push([Y]),W[W.length-1].XTI=[];break;case 35:case 547:W[W.length-1].push(Y);break;case 24:case 536:Q={Name:Y.Name,Ref:Rn(Y.rgce,o,null,W,z)},Y.itab>0&&(Q.Sheet=Y.itab-1),W.names.push(Q),W[0]||(W[0]=[],W[0].XTI=[]),W[W.length-1].push(Y),Y.Name=="_xlnm._FilterDatabase"&&Y.itab>0&&Y.rgce&&Y.rgce[0]&&Y.rgce[0][0]&&Y.rgce[0][0][0]=="PtgArea3d"&&(K[Y.itab-1]={ref:jt(Y.rgce[0][0][1][2])});break;case 22:z.ExternCount=Y;break;case 23:W.length==0&&(W[0]=[],W[0].XTI=[]),W[W.length-1].XTI=W[W.length-1].XTI.concat(Y),W.XTI=W.XTI.concat(Y);break;case 2196:if(z.biff<8)break;Q!=null&&(Q.Comment=Y[1]);break;case 18:a["!protect"]=Y;break;case 19:Y!==0&&z.WTF&&console.error("Password verifier: "+Y);break;case 133:s[Y.pos]=Y,z.snames.push(Y.name);break;case 10:{if(--ce)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=jt(o),t.sheetRows&&t.sheetRows<=o.e.r){var Ce=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=jt(o),o.e.r=Ce}o.e.r++,o.e.c++}ne.length>0&&(a["!merges"]=ne),se.length>0&&(a["!objects"]=se),L.length>0&&(a["!cols"]=L),oe.length>0&&(a["!rows"]=oe),R.Sheets.push(P)}f===""?m=a:n[f]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(z.biff===8&&(z.biff={9:2,521:3,1033:4}[Ee]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Y.BIFFVer]||8),z.biffguess=Y.BIFFVer==0,Y.BIFFVer==0&&Y.dt==4096&&(z.biff=5,re=!0,ys(z.codepage=28591)),z.biff==8&&Y.BIFFVer==0&&Y.dt==16&&(z.biff=2),ce++)break;if(a=t.dense?[]:{},z.biff<8&&!re&&(re=!0,ys(z.codepage=t.codepage||1252)),z.biff<5||Y.BIFFVer==0&&Y.dt==4096){f===""&&(f="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ge={pos:e.l-ue,name:f};s[Ge.pos]=Ge,z.snames.push(f)}else f=(s[be]||{name:""}).name;Y.dt==32&&(a["!type"]="chart"),Y.dt==64&&(a["!type"]="macro"),ne=[],se=[],z.arrayf=T=[],L=[],oe=[],le=!1,P={Hidden:(s[be]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[Y.r]||[])[Y.c]:a[xt({c:Y.c,r:Y.r})])&&++Y.c,E={ixfe:Y.ixfe,XF:k[Y.ixfe]||{},v:Y.val,t:"n"},j>0&&(E.z=ee[E.ixfe>>8&63]),Bs(E,t,r.opts.Date1904),H({c:Y.c,r:Y.r},E,t);break;case 5:case 517:E={ixfe:Y.ixfe,XF:k[Y.ixfe],v:Y.val,t:Y.t},j>0&&(E.z=ee[E.ixfe>>8&63]),Bs(E,t,r.opts.Date1904),H({c:Y.c,r:Y.r},E,t);break;case 638:E={ixfe:Y.ixfe,XF:k[Y.ixfe],v:Y.rknum,t:"n"},j>0&&(E.z=ee[E.ixfe>>8&63]),Bs(E,t,r.opts.Date1904),H({c:Y.c,r:Y.r},E,t);break;case 189:for(var $e=Y.c;$e<=Y.C;++$e){var Oe=Y.rkrec[$e-Y.c][0];E={ixfe:Oe,XF:k[Oe],v:Y.rkrec[$e-Y.c][1],t:"n"},j>0&&(E.z=ee[E.ixfe>>8&63]),Bs(E,t,r.opts.Date1904),H({c:$e,r:Y.r},E,t)}break;case 6:case 518:case 1030:{if(Y.val=="String"){c=Y;break}if(E=op(Y.val,Y.cell.ixfe,Y.tt),E.XF=k[E.ixfe],t.cellFormula){var ie=Y.formula;if(ie&&ie[0]&&ie[0][0]&&ie[0][0][0]=="PtgExp"){var fe=ie[0][0][1][0],Se=ie[0][0][1][1],Me=xt({r:fe,c:Se});S[Me]?E.f=""+Rn(Y.formula,o,Y.cell,W,z):E.F=((t.dense?(a[fe]||[])[Se]:a[Me])||{}).F}else E.f=""+Rn(Y.formula,o,Y.cell,W,z)}j>0&&(E.z=ee[E.ixfe>>8&63]),Bs(E,t,r.opts.Date1904),H(Y.cell,E,t),c=Y}break;case 7:case 519:if(c)c.val=Y,E=op(Y,c.cell.ixfe,"s"),E.XF=k[E.ixfe],t.cellFormula&&(E.f=""+Rn(c.formula,o,c.cell,W,z)),j>0&&(E.z=ee[E.ixfe>>8&63]),Bs(E,t,r.opts.Date1904),H(c.cell,E,t),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{T.push(Y);var Re=xt(Y[0].s);if(x=t.dense?(a[Y[0].s.r]||[])[Y[0].s.c]:a[Re],t.cellFormula&&x){if(!c||!Re||!x)break;x.f=""+Rn(Y[1],o,Y[0],W,z),x.F=jt(Y[0])}}break;case 1212:{if(!t.cellFormula)break;if(v){if(!c)break;S[xt(c.cell)]=Y[0],x=t.dense?(a[c.cell.r]||[])[c.cell.c]:a[xt(c.cell)],(x||{}).f=""+Rn(Y[0],o,g,W,z)}}break;case 253:E=op(u[Y.isst].t,Y.ixfe,"s"),u[Y.isst].h&&(E.h=u[Y.isst].h),E.XF=k[E.ixfe],j>0&&(E.z=ee[E.ixfe>>8&63]),Bs(E,t,r.opts.Date1904),H({c:Y.c,r:Y.r},E,t);break;case 513:t.sheetStubs&&(E={ixfe:Y.ixfe,XF:k[Y.ixfe],t:"z"},j>0&&(E.z=ee[E.ixfe>>8&63]),Bs(E,t,r.opts.Date1904),H({c:Y.c,r:Y.r},E,t));break;case 190:if(t.sheetStubs)for(var De=Y.c;De<=Y.C;++De){var je=Y.ixfe[De-Y.c];E={ixfe:je,XF:k[je],t:"z"},j>0&&(E.z=ee[E.ixfe>>8&63]),Bs(E,t,r.opts.Date1904),H({c:De,r:Y.r},E,t)}break;case 214:case 516:case 4:E=op(Y.val,Y.ixfe,"s"),E.XF=k[E.ixfe],j>0&&(E.z=ee[E.ixfe>>8&63]),Bs(E,t,r.opts.Date1904),H({c:Y.c,r:Y.r},E,t);break;case 0:case 512:ce===1&&(o=Y);break;case 252:u=Y;break;case 1054:if(z.biff==4){ee[j++]=Y[1];for(var Ze=0;Ze<j+163&&yt[Ze]!=Y[1];++Ze);Ze>=163&&hc(Y[1],j+163)}else hc(Y[1],Y[0]);break;case 30:{ee[j++]=Y;for(var bt=0;bt<j+163&&yt[bt]!=Y;++bt);bt>=163&&hc(Y,j+163)}break;case 229:ne=ne.concat(Y);break;case 93:se[Y.cmo[0]]=z.lastobj=Y;break;case 438:z.lastobj.TxO=Y;break;case 127:z.lastobj.ImData=Y;break;case 440:for(b=Y[0].s.r;b<=Y[0].e.r;++b)for(w=Y[0].s.c;w<=Y[0].e.c;++w)x=t.dense?(a[b]||[])[w]:a[xt({c:w,r:b})],x&&(x.l=Y[1]);break;case 2048:for(b=Y[0].s.r;b<=Y[0].e.r;++b)for(w=Y[0].s.c;w<=Y[0].e.c;++w)x=t.dense?(a[b]||[])[w]:a[xt({c:w,r:b})],x&&x.l&&(x.l.Tooltip=Y[1]);break;case 28:{if(z.biff<=5&&z.biff>=2)break;x=t.dense?(a[Y[0].r]||[])[Y[0].c]:a[xt(Y[0])];var At=se[Y[2]];x||(t.dense?(a[Y[0].r]||(a[Y[0].r]=[]),x=a[Y[0].r][Y[0].c]={t:"z"}):x=a[xt(Y[0])]={t:"z"},o.e.r=Math.max(o.e.r,Y[0].r),o.s.r=Math.min(o.s.r,Y[0].r),o.e.c=Math.max(o.e.c,Y[0].c),o.s.c=Math.min(o.s.c,Y[0].c)),x.c||(x.c=[]),y={a:Y[1],t:At.TxO.t},x.c.push(y)}break;case 2173:hue(k[Y.ixfe],Y.ext);break;case 125:{if(!z.cellStyles)break;for(;Y.e>=Y.s;)L[Y.e--]={width:Y.w/256,level:Y.level||0,hidden:!!(Y.flags&1)},le||(le=!0,qE(Y.w/256)),sd(L[Y.e+1])}break;case 520:{var Dt={};Y.level!=null&&(oe[Y.r]=Dt,Dt.level=Y.level),Y.hidden&&(oe[Y.r]=Dt,Dt.hidden=!0),Y.hpt&&(oe[Y.r]=Dt,Dt.hpt=Y.hpt,Dt.hpx=$h(Y.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||mh(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ee]]=Y;break;case 161:a["!margins"]||mh(a["!margins"]={}),a["!margins"].header=Y.header,a["!margins"].footer=Y.footer;break;case 574:Y.RTL&&(R.Views[0].RTL=!0);break;case 146:D=Y;break;case 2198:G=Y;break;case 140:A=Y;break;case 442:f?P.CodeName=Y||P.name:R.WBProps.CodeName=Y||"ThisWorkbook";break}}else me||console.error("Missing Info for XLS Record 0x"+Ee.toString(16)),e.l+=ue}return r.SheetNames=si(s).sort(function(Jr,ot){return Number(Jr)-Number(ot)}).map(function(Jr){return s[Jr].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&m["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=m)):r.Preamble=m,r.Sheets&&K.forEach(function(Jr,ot){r.Sheets[r.SheetNames[ot]]["!autofilter"]=Jr}),r.Strings=u,r.SSF=En(yt),z.enc&&(r.Encryption=z.enc),G&&(r.Themes=G),r.Metadata={},A!==void 0&&(r.Metadata.Country=A),W.names.length>0&&(R.Names=W.names),r.Workbook=R,r}var JR={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function qhe(e,t,r){var n=Ft.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=FR(n,coe,JR.DSI);for(var s in a)t[s]=a[s]}catch(f){if(r.WTF)throw f}var o=Ft.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var c=FR(o,uoe,JR.SI);for(var u in c)t[u]==null&&(t[u]=c[u])}catch(f){if(r.WTF)throw f}t.HeadingPairs&&t.TitlesOfParts&&(FF(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function yj(e,t){t||(t={}),QE(t),Y3(),t.codepage&&kE(t.codepage);var r,n;if(e.FullPaths){if(Ft.find(e,"/encryption"))throw new Error("File is password-protected");r=Ft.find(e,"!CompObj"),n=Ft.find(e,"/Workbook")||Ft.find(e,"/Book")}else{switch(t.type){case"base64":e=gs(Ta(e));break;case"binary":e=gs(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}wn(e,0),n={content:e}}var a,s;if(r&&Hhe(r),t.bookProps&&!t.bookSheets)a={};else{var o=Ot?"buffer":"array";if(n&&n.content)a=Whe(n.content,t);else if((s=Ft.find(e,"PerfectOffice_MAIN"))&&s.content)a=fh.to_workbook(s.content,(t.type=o,t));else if((s=Ft.find(e,"NativeContent_MAIN"))&&s.content)a=fh.to_workbook(s.content,(t.type=o,t));else throw(s=Ft.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Ft.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Due(e))}var c={};return e.FullPaths&&qhe(e,c,t),a.Props=a.Custprops=c,t.bookFiles&&(a.cfb=e),a}var Ng={0:{f:Nfe},1:{f:Dfe},2:{f:Ufe},3:{f:Mfe},4:{f:Ofe},5:{f:Bfe},6:{f:$fe},7:{f:jfe},8:{f:Yfe},9:{f:Gfe},10:{f:Wfe},11:{f:qfe},12:{f:Ife},13:{f:Vfe},14:{f:Ffe},15:{f:Pfe},16:{f:mj},17:{f:zfe},18:{f:Lfe},19:{f:UE},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:whe},40:{},42:{},43:{f:Wce},44:{f:zce},45:{f:qce},46:{f:Yce},47:{f:Gce},48:{},49:{f:Xie},50:{},51:{f:pue},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:YF},62:{f:Hfe},63:{f:bue},64:{f:nhe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Pn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:rhe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Rfe},148:{f:Afe,p:16},151:{f:Qfe},152:{},153:{f:yhe},154:{},155:{},156:{f:xhe},157:{},158:{},159:{T:1,f:uce},160:{T:-1},161:{T:1,f:Fc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Xfe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:mue},336:{T:-1},337:{f:gue,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:tw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:GF},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Zfe},427:{f:Jfe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:the},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:kfe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Kfe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:tw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Aue},633:{T:1},634:{T:-1},635:{T:1,f:Nue},636:{T:-1},637:{f:Qie},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:che},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:ahe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},iw={6:{f:U1},10:{f:Oo},12:{f:Vr},13:{f:Vr},14:{f:Ir},15:{f:Ir},16:{f:Dn},17:{f:Ir},18:{f:Ir},19:{f:Vr},20:{f:UR},21:{f:UR},23:{f:GF},24:{f:HR},25:{f:Ir},26:{},27:{},28:{f:Cle},29:{},34:{f:Ir},35:{f:VR},38:{f:Dn},39:{f:Dn},40:{f:Dn},41:{f:Dn},42:{f:Ir},43:{f:Ir},47:{f:kce},49:{f:ile},51:{f:Vr},60:{},61:{f:nle},64:{f:Ir},65:{f:sle},66:{f:Vr},77:{},80:{},81:{},82:{},85:{f:Vr},89:{},90:{},91:{},92:{f:Xoe},93:{f:Nle},94:{},95:{f:Ir},96:{},97:{},99:{f:Ir},125:{f:YF},128:{f:gle},129:{f:Koe},130:{f:Vr},131:{f:Ir},132:{f:Ir},133:{f:Qoe},134:{},140:{f:Ole},141:{f:Vr},144:{},146:{f:Mle},151:{},152:{},153:{},154:{},155:{},156:{f:Vr},157:{},158:{},160:{f:Ule},161:{f:jle},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:fle},190:{f:hle},193:{f:Oo},197:{},198:{},199:{},200:{},201:{},202:{f:Ir},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Vr},220:{},221:{f:Ir},222:{},224:{f:ple},225:{f:Yoe},226:{f:Oo},227:{},229:{f:Tle},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Zoe},253:{f:ole},255:{f:Joe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:VF},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ir},353:{f:Oo},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:xle},431:{f:Ir},432:{},433:{},434:{},437:{},438:{f:Rle},439:{f:Ir},440:{f:Dle},441:{},442:{f:w0},443:{},444:{f:Vr},445:{},446:{},448:{f:Oo},449:{f:rle,r:2},450:{f:Oo},512:{f:LR},513:{f:Ble},515:{f:vle},516:{f:lle},517:{f:BR},519:{f:Vle},520:{f:ele},523:{},545:{f:$R},549:{f:jR},566:{},574:{f:ale},638:{f:dle},659:{},1048:{},1054:{f:cle},1084:{},1212:{f:_le},2048:{f:Ile},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:ap},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Oo},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Fle,r:12},2173:{f:fue,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ir,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:wle,r:12},2197:{},2198:{f:iue,r:12},2199:{},2200:{},2201:{},2202:{f:Ele,r:12},2203:{f:Oo},2204:{},2205:{},2206:{},2207:{},2211:{f:tle},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Vr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Lle},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Ple},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:LR},1:{},2:{f:Wle},3:{f:zle},4:{f:$le},5:{f:BR},7:{f:qle},8:{},9:{f:ap},11:{},22:{f:Vr},30:{f:ule},31:{},32:{},33:{f:$R},36:{},37:{f:jR},50:{f:Gle},62:{},52:{},67:{},68:{f:Vr},69:{},86:{},126:{},127:{f:Hle},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Yle},223:{},234:{},354:{},421:{},518:{f:U1},521:{f:ap},536:{f:HR},547:{f:VR},561:{},579:{},1030:{f:U1},1033:{f:ap},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function fs(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,s),s>0&&AF(r)&&e.push(r)}}function eD(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=a.index,c=s&&s.index||e.length,u=vie(e.slice(o,c),/(:?<tr[^>]*>)/i,"<tr>"),f=-1,m=0,g=0,v=0,x={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<u.length;++o){var w=u[o].trim(),b=w.slice(0,3).toLowerCase();if(b=="<tr"){if(++f,r.sheetRows&&r.sheetRows<=f){--f;break}m=0;continue}if(!(b!="<td"&&b!="<th")){var S=w.split(/<\/t[dh]>/i);for(c=0;c<S.length;++c){var T=S[c].trim();if(T.match(/<t[dh]/i)){for(var E=T,A=0;E.charAt(0)=="<"&&(A=E.indexOf(">"))>-1;)E=E.slice(A+1);for(var k=0;k<y.length;++k){var D=y[k];D.s.c==m&&D.s.r<f&&f<=D.e.r&&(m=D.e.c+1,k=-1)}var R=mt(T.slice(0,T.indexOf(">")));v=R.colspan?+R.colspan:1,((g=+R.rowspan)>1||v>1)&&y.push({s:{r:f,c:m},e:{r:f+(g||1)-1,c:m+v-1}});var P=R.t||R["data-t"]||"";if(!E.length){m+=v;continue}if(E=pF(E),x.s.r>f&&(x.s.r=f),x.e.r<f&&(x.e.r=f),x.s.c>m&&(x.s.c=m),x.e.c<m&&(x.e.c=m),!E.length){m+=v;continue}var I={t:"s",v:E};r.raw||!E.trim().length||P=="s"||(E==="TRUE"?I={t:"b",v:!0}:E==="FALSE"?I={t:"b",v:!1}:isNaN(Ss(E))?isNaN(ad(E).getDate())||(I={t:"d",v:fn(E)},r.cellDates||(I={t:"n",v:Kn(I.v)}),I.z=r.dateNF||yt[14]):I={t:"n",v:Ss(E)}),r.dense?(n[f]||(n[f]=[]),n[f][m]=I):n[xt({r:f,c:m})]=I,m+=v}}}}return n["!ref"]=jt(x),y.length&&(n["!merges"]=y),n}function Ghe(e,t,r,n){for(var a=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var c=0,u=0,f=0;f<a.length;++f)if(!(a[f].s.r>r||a[f].s.c>o)&&!(a[f].e.r<r||a[f].e.c<o)){if(a[f].s.r<r||a[f].s.c<o){c=-1;break}c=a[f].e.r-a[f].s.r+1,u=a[f].e.c-a[f].s.c+1;break}if(!(c<0)){var m=xt({r,c:o}),g=n.dense?(e[r]||[])[o]:e[m],v=g&&g.v!=null&&(g.h||ME(g.w||(to(g),g.w)||""))||"",x={};c>1&&(x.rowspan=c),u>1&&(x.colspan=u),n.editable?v='<span contenteditable="true">'+v+"</span>":g&&(x["data-t"]=g&&g.t||"z",g.v!=null&&(x["data-v"]=g.v),g.z!=null&&(x["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(v='<a href="'+g.l.Target+'">'+v+"</a>")),x.id=(n.id||"sjs")+"-"+m,s.push(Oie("td",v,x))}}var y="<tr>";return y+s.join("")+"</tr>"}var Yhe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Xhe="</body></html>";function Khe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return El(eD(r[0],t),t);var n=JE();return r.forEach(function(a,s){e2(n,eD(a,t),"Sheet"+(s+1))}),n}function Qhe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Zhe(e,t){var r=t||{},n=r.header!=null?r.header:Yhe,a=r.footer!=null?r.footer:Xhe,s=[n],o=Ad(e["!ref"]);r.dense=Array.isArray(e),s.push(Qhe(e,o,r));for(var c=o.s.r;c<=o.e.r;++c)s.push(Ghe(e,o,c,r));return s.push("</table>"+a),s.join("")}function bj(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?Wn(n.origin):n.origin;a=o.r,s=o.c}var c=t.getElementsByTagName("tr"),u=Math.min(n.sheetRows||1e7,c.length),f={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var m=Ad(e["!ref"]);f.s.r=Math.min(f.s.r,m.s.r),f.s.c=Math.min(f.s.c,m.s.c),f.e.r=Math.max(f.e.r,m.e.r),f.e.c=Math.max(f.e.c,m.e.c),a==-1&&(f.e.r=a=m.e.r+1)}var g=[],v=0,x=e["!rows"]||(e["!rows"]=[]),y=0,w=0,b=0,S=0,T=0,E=0;for(e["!cols"]||(e["!cols"]=[]);y<c.length&&w<u;++y){var A=c[y];if(tD(A)){if(n.display)continue;x[w]={hidden:!0}}var k=A.children;for(b=S=0;b<k.length;++b){var D=k[b];if(!(n.display&&tD(D))){var R=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):pF(D.innerHTML),P=D.getAttribute("data-z")||D.getAttribute("z");for(v=0;v<g.length;++v){var I=g[v];I.s.c==S+s&&I.s.r<w+a&&w+a<=I.e.r&&(S=I.e.c+1-s,v=-1)}E=+D.getAttribute("colspan")||1,((T=+D.getAttribute("rowspan")||1)>1||E>1)&&g.push({s:{r:w+a,c:S+s},e:{r:w+a+(T||1)-1,c:S+s+(E||1)-1}});var B={t:"s",v:R},H=D.getAttribute("data-t")||D.getAttribute("t")||"";R!=null&&(R.length==0?B.t=H||"z":n.raw||R.trim().length==0||H=="s"||(R==="TRUE"?B={t:"b",v:!0}:R==="FALSE"?B={t:"b",v:!1}:isNaN(Ss(R))?isNaN(ad(R).getDate())||(B={t:"d",v:fn(R)},n.cellDates||(B={t:"n",v:Kn(B.v)}),B.z=n.dateNF||yt[14]):B={t:"n",v:Ss(R)})),B.z===void 0&&P!=null&&(B.z=P);var z="",G=D.getElementsByTagName("A");if(G&&G.length)for(var ne=0;ne<G.length&&!(G[ne].hasAttribute("href")&&(z=G[ne].getAttribute("href"),z.charAt(0)!="#"));++ne);z&&z.charAt(0)!="#"&&(B.l={Target:z}),n.dense?(e[w+a]||(e[w+a]=[]),e[w+a][S+s]=B):e[xt({c:S+s,r:w+a})]=B,f.e.c<S+s&&(f.e.c=S+s),S+=E}}++w}return g.length&&(e["!merges"]=(e["!merges"]||[]).concat(g)),f.e.r=Math.max(f.e.r,w-1+a),e["!ref"]=jt(f),w>=u&&(e["!fullref"]=jt((f.e.r=c.length-y+w-1+a,f))),e}function wj(e,t){var r=t||{},n=r.dense?[]:{};return bj(n,e,t)}function Jhe(e,t){return El(wj(e,t),t)}function tD(e){var t="",r=e0e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function e0e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function t0e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Lt(t.replace(/<[^>]*>/g,""));return[r]}var rD={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function _j(e,t){var r=t||{},n=FE(e),a=[],s,o,c={name:""},u="",f=0,m,g,v={},x=[],y=r.dense?[]:{},w,b,S={value:""},T="",E=0,A=[],k=-1,D=-1,R={s:{r:1e6,c:1e7},e:{r:0,c:0}},P=0,I={},B=[],H={},z=0,G=0,ne=[],se=1,L=1,oe=[],le={Names:[]},W={},V=["",""],ce=[],j={},ee="",K=0,Q=!1,re=!1,be=0;for(Uh.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");w=Uh.exec(n);)switch(w[3]=w[3].replace(/_.*$/,"")){case"table":case"工作表":w[1]==="/"?(R.e.c>=R.s.c&&R.e.r>=R.s.r?y["!ref"]=jt(R):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=R.e.r&&(y["!fullref"]=y["!ref"],R.e.r=r.sheetRows-1,y["!ref"]=jt(R)),B.length&&(y["!merges"]=B),ne.length&&(y["!rows"]=ne),m.name=m.名称||m.name,typeof JSON<"u"&&JSON.stringify(m),x.push(m.name),v[m.name]=y,re=!1):w[0].charAt(w[0].length-2)!=="/"&&(m=mt(w[0],!1),k=D=-1,R.s.r=R.s.c=1e7,R.e.r=R.e.c=0,y=r.dense?[]:{},B=[],ne=[],re=!0);break;case"table-row-group":w[1]==="/"?--P:++P;break;case"table-row":case"行":if(w[1]==="/"){k+=se,se=1;break}if(g=mt(w[0],!1),g.行号?k=g.行号-1:k==-1&&(k=0),se=+g["number-rows-repeated"]||1,se<10)for(be=0;be<se;++be)P>0&&(ne[k+be]={level:P});D=-1;break;case"covered-table-cell":w[1]!=="/"&&++D,r.sheetStubs&&(r.dense?(y[k]||(y[k]=[]),y[k][D]={t:"z"}):y[xt({r:k,c:D})]={t:"z"}),T="",A=[];break;case"table-cell":case"数据":if(w[0].charAt(w[0].length-2)==="/")++D,S=mt(w[0],!1),L=parseInt(S["number-columns-repeated"]||"1",10),b={t:"z",v:null},S.formula&&r.cellFormula!=!1&&(b.f=KR(Lt(S.formula))),(S.数据类型||S["value-type"])=="string"&&(b.t="s",b.v=Lt(S["string-value"]||""),r.dense?(y[k]||(y[k]=[]),y[k][D]=b):y[xt({r:k,c:D})]=b),D+=L-1;else if(w[1]!=="/"){++D,T="",E=0,A=[],L=1;var Ee=se?k+se-1:k;if(D>R.e.c&&(R.e.c=D),D<R.s.c&&(R.s.c=D),k<R.s.r&&(R.s.r=k),Ee>R.e.r&&(R.e.r=Ee),S=mt(w[0],!1),ce=[],j={},b={t:S.数据类型||S["value-type"],v:null},r.cellFormula)if(S.formula&&(S.formula=Lt(S.formula)),S["number-matrix-columns-spanned"]&&S["number-matrix-rows-spanned"]&&(z=parseInt(S["number-matrix-rows-spanned"],10)||0,G=parseInt(S["number-matrix-columns-spanned"],10)||0,H={s:{r:k,c:D},e:{r:k+z-1,c:D+G-1}},b.F=jt(H),oe.push([H,b.F])),S.formula)b.f=KR(S.formula);else for(be=0;be<oe.length;++be)k>=oe[be][0].s.r&&k<=oe[be][0].e.r&&D>=oe[be][0].s.c&&D<=oe[be][0].e.c&&(b.F=oe[be][1]);switch((S["number-columns-spanned"]||S["number-rows-spanned"])&&(z=parseInt(S["number-rows-spanned"],10)||0,G=parseInt(S["number-columns-spanned"],10)||0,H={s:{r:k,c:D},e:{r:k+z-1,c:D+G-1}},B.push(H)),S["number-columns-repeated"]&&(L=parseInt(S["number-columns-repeated"],10)),b.t){case"boolean":b.t="b",b.v=hr(S["boolean-value"]);break;case"float":b.t="n",b.v=parseFloat(S.value);break;case"percentage":b.t="n",b.v=parseFloat(S.value);break;case"currency":b.t="n",b.v=parseFloat(S.value);break;case"date":b.t="d",b.v=fn(S["date-value"]),r.cellDates||(b.t="n",b.v=Kn(b.v)),b.z="m/d/yy";break;case"time":b.t="n",b.v=mie(S["time-value"])/86400,r.cellDates&&(b.t="d",b.v=Rv(b.v)),b.z="HH:MM:SS";break;case"number":b.t="n",b.v=parseFloat(S.数据数值);break;default:if(b.t==="string"||b.t==="text"||!b.t)b.t="s",S["string-value"]!=null&&(T=Lt(S["string-value"]),A=[]);else throw new Error("Unsupported value type "+b.t)}}else{if(Q=!1,b.t==="s"&&(b.v=T||"",A.length&&(b.R=A),Q=E==0),W.Target&&(b.l=W),ce.length>0&&(b.c=ce,ce=[]),T&&r.cellText!==!1&&(b.w=T),Q&&(b.t="z",delete b.v),(!Q||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=k))for(var ue=0;ue<se;++ue){if(L=parseInt(S["number-columns-repeated"]||"1",10),r.dense)for(y[k+ue]||(y[k+ue]=[]),y[k+ue][D]=ue==0?b:En(b);--L>0;)y[k+ue][D+L]=En(b);else for(y[xt({r:k+ue,c:D})]=b;--L>0;)y[xt({r:k+ue,c:D+L})]=En(b);R.e.c<=D&&(R.e.c=D)}L=parseInt(S["number-columns-repeated"]||"1",10),D+=L-1,L=0,b={},T="",A=[]}W={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(w[1]==="/"){if((s=a.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&a.push([w[3],!0]);break;case"annotation":if(w[1]==="/"){if((s=a.pop())[0]!==w[3])throw"Bad state: "+s;j.t=T,A.length&&(j.R=A),j.a=ee,ce.push(j)}else w[0].charAt(w[0].length-2)!=="/"&&a.push([w[3],!1]);ee="",K=0,T="",E=0,A=[];break;case"creator":w[1]==="/"?ee=n.slice(K,w.index):K=w.index+w[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(w[1]==="/"){if((s=a.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&a.push([w[3],!1]);T="",E=0,A=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(w[1]==="/"){if(I[c.name]=u,(s=a.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&(u="",c=mt(w[0],!1),a.push([w[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=mt(w[0],!1),u+=rD[w[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=mt(w[0],!1),u+=rD[w[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(w[0].slice(-2)==="/>")break;if(w[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":u+=n.slice(f,w.index);break}else f=w.index+w[0].length;break;case"named-range":o=mt(w[0],!1),V=V1(o["cell-range-address"]);var me={Name:o.name,Ref:V[0]+"!"+V[1]};re&&(me.Sheet=x.length),le.Names.push(me);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(w[1]==="/"&&(!S||!S["string-value"])){var Ae=t0e(n.slice(E,w.index));T=(T.length>0?T+`
`:"")+Ae[0]}else mt(w[0],!1),E=w.index+w[0].length;break;case"s":break;case"database-range":if(w[1]==="/")break;try{V=V1(mt(w[0])["target-range-address"]),v[V[0]]["!autofilter"]={ref:V[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(w[1]!=="/"){if(W=mt(w[0],!1),!W.href)break;W.Target=Lt(W.href),delete W.href,W.Target.charAt(0)=="#"&&W.Target.indexOf(".")>-1?(V=V1(W.Target.slice(1)),W.Target="#"+V[0]+"!"+V[1]):W.Target.match(/^\.\.[\\\/]/)&&(W.Target=W.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(w[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(w)}}var Y={Sheets:v,SheetNames:x,Workbook:le};return r.bookSheets&&delete Y.Sheets,Y}function nD(e,t){t=t||{},Xa(e,"META-INF/manifest.xml")&&voe(Ur(e,"META-INF/manifest.xml"),t);var r=_a(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=_j(lr(r),t);return Xa(e,"meta.xml")&&(n.Props=MF(Ur(e,"meta.xml"))),n}function aD(e,t){return _j(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function XE(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ow(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):lr(Pc(e))}function lw(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function sD(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function r0e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function zh(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Zr(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function In(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=zh(e,r),s=a&7;a=Math.floor(a/8);var o=0,c;if(a==0)break;switch(s){case 0:{for(var u=r[0];e[r[0]++]>=128;);c=e.slice(u,r[0])}break;case 5:o=4,c=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,c=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=zh(e,r),c=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var f={data:c,type:s};t[a]==null?t[a]=[f]:t[a].push(f)}return t}function KE(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function n0e(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=zh(e,n),s=In(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Zr(s[1][0].data),messages:[]};s[2].forEach(function(c){var u=In(c.data),f=Zr(u[3][0].data);o.messages.push({meta:u,data:e.slice(n[0],n[0]+f)}),n[0]+=f}),(t=s[3])!=null&&t[0]&&(o.merge=Zr(s[3][0].data)>>>0>0),r.push(o)}return r}function a0e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=zh(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var c=o-59;o=t[r[0]],c>1&&(o|=t[r[0]+1]<<8),c>2&&(o|=t[r[0]+2]<<16),c>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=c}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var u=0,f=0;if(s==1?(f=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(f=(t[r[0]++]>>2)+1,s==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[lw(a)],u==0)throw new Error("Invalid offset 0");if(u>a[0].length)throw new Error("Invalid offset beyond length");if(f>=u)for(a.push(a[0].slice(-u)),f-=u;f>=a[a.length-1].length;)a.push(a[a.length-1]),f-=a[a.length-1].length;a.push(a[0].slice(-u,-u+f))}}var m=lw(a);if(m.length!=n)throw new Error("Unexpected length: ".concat(m.length," != ").concat(n));return m}function s0e(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(a0e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return lw(t)}function i0e(e,t,r,n){var a=XE(e),s=a.getUint32(4,!0),o=(n>1?12:8)+sD(s&(n>1?3470:398))*4,c=-1,u=-1,f=NaN,m=new Date(2001,0,1);s&512&&(c=a.getUint32(o,!0),o+=4),o+=sD(s&(n>1?12288:4096))*4,s&16&&(u=a.getUint32(o,!0),o+=4),s&32&&(f=a.getFloat64(o,!0),o+=8),s&64&&(m.setTime(m.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var g;switch(e[2]){case 0:break;case 2:g={t:"n",v:f};break;case 3:g={t:"s",v:t[u]};break;case 5:g={t:"d",v:m};break;case 6:g={t:"b",v:f>0};break;case 7:g={t:"n",v:f/86400};break;case 8:g={t:"e",v:0};break;case 9:if(c>-1)g={t:"s",v:r[c]};else if(u>-1)g={t:"s",v:t[u]};else if(!isNaN(f))g={t:"n",v:f};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return g}function o0e(e,t,r){var n=XE(e),a=n.getUint32(8,!0),s=12,o=-1,c=-1,u=NaN,f=NaN,m=new Date(2001,0,1);a&1&&(u=r0e(e,s),s+=16),a&2&&(f=n.getFloat64(s,!0),s+=8),a&4&&(m.setTime(m.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(c=n.getUint32(s,!0),s+=4),a&16&&(o=n.getUint32(s,!0),s+=4);var g;switch(e[1]){case 0:break;case 2:g={t:"n",v:u};break;case 3:g={t:"s",v:t[c]};break;case 5:g={t:"d",v:m};break;case 6:g={t:"b",v:f>0};break;case 7:g={t:"n",v:f/86400};break;case 8:g={t:"e",v:0};break;case 9:if(o>-1)g={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:g={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return g}function l0e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return i0e(e,t,r,e[0]);case 5:return o0e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function tl(e){var t=In(e);return zh(t[1][0].data)}function iD(e,t){var r=In(t.data),n=Zr(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(o){var c=In(o.data),u=Zr(c[1][0].data)>>>0;switch(n){case 1:s[u]=ow(c[3][0].data);break;case 8:{var f=e[tl(c[9][0].data)][0],m=In(f.data),g=e[tl(m[1][0].data)][0],v=Zr(g.meta[1][0].data);if(v!=2001)throw new Error("2000 unexpected reference to ".concat(v));var x=In(g.data);s[u]=x[3].map(function(y){return ow(y.data)}).join("")}break}}),s}function c0e(e,t){var r,n,a,s,o,c,u,f,m,g,v,x,y,w,b=In(e),S=Zr(b[1][0].data)>>>0,T=Zr(b[2][0].data)>>>0,E=((n=(r=b[8])==null?void 0:r[0])==null?void 0:n.data)&&Zr(b[8][0].data)>0||!1,A,k;if((s=(a=b[7])==null?void 0:a[0])!=null&&s.data&&t!=0)A=(c=(o=b[7])==null?void 0:o[0])==null?void 0:c.data,k=(f=(u=b[6])==null?void 0:u[0])==null?void 0:f.data;else if((g=(m=b[4])==null?void 0:m[0])!=null&&g.data&&t!=1)A=(x=(v=b[4])==null?void 0:v[0])==null?void 0:x.data,k=(w=(y=b[3])==null?void 0:y[0])==null?void 0:w.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var D=E?4:1,R=XE(A),P=[],I=0;I<A.length/2;++I){var B=R.getUint16(I*2,!0);B<65535&&P.push([I,B])}if(P.length!=T)throw"Expected ".concat(T," cells, found ").concat(P.length);var H=[];for(I=0;I<P.length-1;++I)H[P[I][0]]=k.subarray(P[I][1]*D,P[I+1][1]*D);return P.length>=1&&(H[P[P.length-1][0]]=k.subarray(P[P.length-1][1]*D)),{R:S,cells:H}}function u0e(e,t){var r,n=In(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Zr(n[7][0].data)>>>0>0?1:0:-1,s=KE(n[5],function(o){return c0e(o,a)});return{nrows:Zr(n[4][0].data)>>>0,data:s.reduce(function(o,c){return o[c.R]||(o[c.R]=[]),c.cells.forEach(function(u,f){if(o[c.R][f])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(f));o[c.R][f]=u}),o},[])}}function d0e(e,t,r){var n,a=In(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Zr(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(Zr(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=jt(s);var o=In(a[4][0].data),c=iD(e,e[tl(o[4][0].data)][0]),u=(n=o[17])!=null&&n[0]?iD(e,e[tl(o[17][0].data)][0]):[],f=In(o[3][0].data),m=0;f[1].forEach(function(g){var v=In(g.data),x=e[tl(v[2][0].data)][0],y=Zr(x.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var w=u0e(e,x);w.data.forEach(function(b,S){b.forEach(function(T,E){var A=xt({r:m+S,c:E}),k=l0e(T,c,u);k&&(r[A]=k)})}),m+=w.nrows})}function f0e(e,t){var r=In(t.data),n={"!ref":"A1"},a=e[tl(r[2][0].data)],s=Zr(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return d0e(e,a[0],n),n}function h0e(e,t){var r,n=In(t.data),a={name:(r=n[1])!=null&&r[0]?ow(n[1][0].data):"",sheets:[]},s=KE(n[2],tl);return s.forEach(function(o){e[o].forEach(function(c){var u=Zr(c.meta[1][0].data);u==6e3&&a.sheets.push(f0e(e,c))})}),a}function m0e(e,t){var r=JE(),n=In(t.data),a=KE(n[1],tl);if(a.forEach(function(s){e[s].forEach(function(o){var c=Zr(o.meta[1][0].data);if(c==2){var u=h0e(e,o);u.sheets.forEach(function(f,m){e2(r,f,m==0?u.name:u.name+"_"+m,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function $1(e){var t,r,n,a,s={},o=[];if(e.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var f;try{f=s0e(u.content)}catch(g){return console.log("?? "+u.content.length+" "+(g.message||g))}var m;try{m=n0e(f)}catch(g){return console.log("## "+(g.message||g))}m.forEach(function(g){s[g.id]=g.messages,o.push(g.id)})}}),!o.length)throw new Error("File has no messages");var c=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Zr(s[1][0].meta[1][0].data)==1&&s[1][0];if(c||o.forEach(function(u){s[u].forEach(function(f){var m=Zr(f.meta[1][0].data)>>>0;if(m==1)if(!c)c=f;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return m0e(s,c)}function p0e(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function QE(e){p0e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function g0e(e){return Iu.WS.indexOf(e)>-1?"sheet":e==Iu.CS?"chart":e==Iu.DS?"dialog":e==Iu.MS?"macro":e&&e.length?e:"sheet"}function v0e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,g0e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function x0e(e,t,r,n,a,s,o,c,u,f,m,g){try{s[n]=uh(_a(e,r,!0),t);var v=Ur(e,t),x;switch(c){case"sheet":x=She(v,t,a,u,s[n],f,m,g);break;case"chart":if(x=Che(v,t,a,u,s[n],f,m,g),!x||!x["!drawel"])break;var y=Gf(x["!drawel"].Target,t),w=rw(y),b=Eue(_a(e,y,!0),uh(_a(e,w,!0),y)),S=Gf(b,y),T=rw(S);x=ohe(_a(e,S,!0),S,u,uh(_a(e,T,!0),S),f,x);break;case"macro":x=The(v,t,a,u,s[n],f,m,g);break;case"dialog":x=Nhe(v,t,a,u,s[n],f,m,g);break;default:throw new Error("Unrecognized sheet type "+c)}o[n]=x;var E=[];s&&s[n]&&si(s[n]).forEach(function(A){var k="";if(s[n][A].Type==Iu.CMNT){k=Gf(s[n][A].Target,t);var D=Dhe(Ur(e,k,!0),k,u);if(!D||!D.length)return;WR(x,D,!1)}s[n][A].Type==Iu.TCMNT&&(k=Gf(s[n][A].Target,t),E=E.concat(Cue(Ur(e,k,!0),u)))}),E&&E.length&&WR(x,E,!0,u.people||[])}catch(A){if(u.WTF)throw A}}function Ga(e){return e.charAt(0)=="/"?e.slice(1):e}function y0e(e,t){if(iF(),t=t||{},QE(t),Xa(e,"META-INF/manifest.xml")||Xa(e,"objectdata.xml"))return nD(e,t);if(Xa(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof $1<"u"){if(e.FileIndex)return $1(e);var r=Ft.utils.cfb_new();return xR(e).forEach(function(ne){bie(r,ne,yie(e,ne))}),$1(r)}throw new Error("Unsupported NUMBERS file")}if(!Xa(e,"[Content_Types].xml"))throw Xa(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Xa(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=xR(e),a=poe(_a(e,"[Content_Types].xml")),s=!1,o,c;if(a.workbooks.length===0&&(c="xl/workbook.xml",Ur(e,c,!0)&&a.workbooks.push(c)),a.workbooks.length===0){if(c="xl/workbook.bin",!Ur(e,c,!0))throw new Error("Could not find workbook");a.workbooks.push(c),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var u={},f={};if(!t.bookSheets&&!t.bookProps){if(hh=[],a.sst)try{hh=Rhe(Ur(e,Ga(a.sst)),a.sst,t)}catch(ne){if(t.WTF)throw ne}t.cellStyles&&a.themes.length&&(u=khe(_a(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(f=Ahe(Ur(e,Ga(a.style)),a.style,u,t))}a.links.map(function(ne){try{var se=uh(_a(e,rw(Ga(ne))),ne);return Ohe(Ur(e,Ga(ne)),se,ne,t)}catch{}});var m=Ehe(Ur(e,Ga(a.workbooks[0])),a.workbooks[0],t),g={},v="";a.coreprops.length&&(v=Ur(e,Ga(a.coreprops[0]),!0),v&&(g=MF(v)),a.extprops.length!==0&&(v=Ur(e,Ga(a.extprops[0]),!0),v&&boe(v,g,t)));var x={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(v=_a(e,Ga(a.custprops[0]),!0),v&&(x=_oe(v,t)));var y={};if((t.bookSheets||t.bookProps)&&(m.Sheets?o=m.Sheets.map(function(se){return se.name}):g.Worksheets&&g.SheetNames.length>0&&(o=g.SheetNames),t.bookProps&&(y.Props=g,y.Custprops=x),t.bookSheets&&typeof o<"u"&&(y.SheetNames=o),t.bookSheets?y.SheetNames:t.bookProps))return y;o={};var w={};t.bookDeps&&a.calcchain&&(w=Ihe(Ur(e,Ga(a.calcchain)),a.calcchain));var b=0,S={},T,E;{var A=m.Sheets;g.Worksheets=A.length,g.SheetNames=[];for(var k=0;k!=A.length;++k)g.SheetNames[k]=A[k].name}var D=s?"bin":"xml",R=a.workbooks[0].lastIndexOf("/"),P=(a.workbooks[0].slice(0,R+1)+"_rels/"+a.workbooks[0].slice(R+1)+".rels").replace(/^\//,"");Xa(e,P)||(P="xl/_rels/workbook."+D+".rels");var I=uh(_a(e,P,!0),P.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Phe(Ur(e,Ga(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Tue(Ur(e,Ga(a.people[0])),t)),I&&(I=v0e(I,m.Sheets));var B=Ur(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=g.Worksheets;++b){var H="sheet";if(I&&I[b]?(T="xl/"+I[b][1].replace(/[\/]?xl\//,""),Xa(e,T)||(T=I[b][1]),Xa(e,T)||(T=P.replace(/_rels\/.*$/,"")+I[b][1]),H=I[b][2]):(T="xl/worksheets/sheet"+(b+1-B)+"."+D,T=T.replace(/sheet0\./,"sheet.")),E=T.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(b!=t.sheets)continue e;break;case"string":if(g.SheetNames[b].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var z=!1,G=0;G!=t.sheets.length;++G)typeof t.sheets[G]=="number"&&t.sheets[G]==b&&(z=1),typeof t.sheets[G]=="string"&&t.sheets[G].toLowerCase()==g.SheetNames[b].toLowerCase()&&(z=1);if(!z)continue e}}x0e(e,T,E,g.SheetNames[b],b,S,o,H,t,m,u,f)}return y={Directory:a,Workbook:m,Props:g,Custprops:x,Deps:w,Sheets:o,SheetNames:g.SheetNames,Strings:hh,Styles:f,Themes:u,SSF:En(yt)},t&&t.bookFiles&&(e.files?(y.keys=n,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(ne,se){ne=ne.replace(/^Root Entry[\/]/,""),y.keys.push(ne),y.files[ne]=e.FileIndex[se]}))),t&&t.bookVBA&&(a.vba.length>0?y.vbaraw=Ur(e,Ga(a.vba[0]),!0):a.defaults&&a.defaults.bin===Rue&&(y.vbaraw=Ur(e,"xl/vbaProject.bin",!0))),y}function b0e(e,t){var r=t||{},n="Workbook",a=Ft.find(e,n);try{if(n="/!DataSpaces/Version",a=Ft.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(fce(a.content),n="/!DataSpaces/DataSpaceMap",a=Ft.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=mce(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Ft.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=pce(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Ft.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);vce(a.content)}catch{}if(n="/EncryptionInfo",a=Ft.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var c=xce(a.content);if(n="/EncryptedPackage",a=Ft.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],a.content,r.password||"",r);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function ZE(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ta(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function w0e(e,t){return Ft.find(e,"EncryptedPackage")?b0e(e,t):yj(e,t)}function _0e(e,t){var r,n=e,a=t||{};return a.type||(a.type=Ot&&Buffer.isBuffer(e)?"buffer":"base64"),r=fF(n,a),y0e(r,a)}function Ej(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return sw(e.slice(r),t);default:break e}return Vh.to_workbook(e,t)}function E0e(e,t){var r="",n=ZE(e,t);switch(t.type){case"base64":r=Ta(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Tc(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=lr(r)),t.type="binary",Ej(r,t)}function S0e(e,t){var r=e;return t.type=="base64"&&(r=Ta(r)),r=Jb.utils.decode(1200,r.slice(2),"str"),t.type="binary",Ej(r,t)}function C0e(e){return e.match(/[^\x00-\x7F]/)?Yf(e):e}function z1(e,t,r,n){return n?(r.type="string",Vh.to_workbook(e,r)):Vh.to_workbook(t,r)}function Ag(e,t){Y3();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Ag(new Uint8Array(e),(r=En(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Wu={},r.dateNF&&(Wu.dateNF=r.dateNF),r.type||(r.type=Ot&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Ot?"buffer":"binary",n=fie(e),typeof Uint8Array<"u"&&!Ot&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=C0e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),c=new Uint8Array(o);if(c.foo="bar",!c.foo)return r=En(r),r.type="array",Ag(RE(n),r)}switch((a=ZE(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return w0e(Ft.read(n,r),r);break;case 9:if(a[1]<=8)return yj(n,r);break;case 60:return sw(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return Jle(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return Qle.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?_0e(n,r):z1(e,n,r,s);case 239:return a[3]===60?sw(n,r):z1(e,n,r,s);case 255:if(a[1]===254)return S0e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return fh.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return fh.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return zR.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Rce.to_workbook(n,r);break;case 10:case 13:case 32:return E0e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Xle.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?zR.to_workbook(n,r):z1(e,n,r,s)}function T0e(e,t,r,n,a,s,o,c){var u=Sn(r),f=c.defval,m=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),g=!0,v=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(v,"__rowNum__",{value:r,enumerable:!1})}catch{v.__rowNum__=r}else v.__rowNum__=r;if(!o||e[r])for(var x=t.s.c;x<=t.e.c;++x){var y=o?e[r][x]:e[n[x]+u];if(y===void 0||y.t===void 0){if(f===void 0)continue;s[x]!=null&&(v[s[x]]=f);continue}var w=y.v;switch(y.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[x]!=null){if(w==null)if(y.t=="e"&&w===null)v[s[x]]=null;else if(f!==void 0)v[s[x]]=f;else if(m&&w===null)v[s[x]]=null;else continue;else v[s[x]]=m&&(y.t!=="n"||y.t==="n"&&c.rawNumbers!==!1)?w:to(y,w,c);w!=null&&(g=!1)}}return{row:v,isempty:g}}function cw(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],o=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},m=f.range!=null?f.range:e["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof m){case"string":u=Rr(m);break;case"number":u=Rr(e["!ref"]),u.s.r=m;break;default:u=m}n>0&&(a=0);var g=Sn(u.s.r),v=[],x=[],y=0,w=0,b=Array.isArray(e),S=u.s.r,T=0,E={};b&&!e[S]&&(e[S]=[]);var A=f.skipHidden&&e["!cols"]||[],k=f.skipHidden&&e["!rows"]||[];for(T=u.s.c;T<=u.e.c;++T)if(!(A[T]||{}).hidden)switch(v[T]=Qr(T),r=b?e[S][T]:e[v[T]+g],n){case 1:s[T]=T-u.s.c;break;case 2:s[T]=v[T];break;case 3:s[T]=f.header[T-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),c=o=to(r,null,f),w=E[o]||0,!w)E[o]=1;else{do c=o+"_"+w++;while(E[c]);E[o]=w,E[c]=1}s[T]=c}for(S=u.s.r+a;S<=u.e.r;++S)if(!(k[S]||{}).hidden){var D=T0e(e,u,S,v,n,s,b,f);(D.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(x[y++]=D.row)}return x.length=y,x}var oD=/"/g;function N0e(e,t,r,n,a,s,o,c){for(var u=!0,f=[],m="",g=Sn(r),v=t.s.c;v<=t.e.c;++v)if(n[v]){var x=c.dense?(e[r]||[])[v]:e[n[v]+g];if(x==null)m="";else if(x.v!=null){u=!1,m=""+(c.rawNumbers&&x.t=="n"?x.v:to(x,null,c));for(var y=0,w=0;y!==m.length;++y)if((w=m.charCodeAt(y))===a||w===s||w===34||c.forceQuotes){m='"'+m.replace(oD,'""')+'"';break}m=="ID"&&(m='"ID"')}else x.f!=null&&!x.F?(u=!1,m="="+x.f,m.indexOf(",")>=0&&(m='"'+m.replace(oD,'""')+'"')):m="";f.push(m)}return c.blankrows===!1&&u?null:f.join(o)}function Sj(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Rr(e["!ref"]),s=n.FS!==void 0?n.FS:",",o=s.charCodeAt(0),c=n.RS!==void 0?n.RS:`
`,u=c.charCodeAt(0),f=new RegExp((s=="|"?"\\|":s)+"+$"),m="",g=[];n.dense=Array.isArray(e);for(var v=n.skipHidden&&e["!cols"]||[],x=n.skipHidden&&e["!rows"]||[],y=a.s.c;y<=a.e.c;++y)(v[y]||{}).hidden||(g[y]=Qr(y));for(var w=0,b=a.s.r;b<=a.e.r;++b)(x[b]||{}).hidden||(m=N0e(e,a,b,g,o,u,s,n),m!=null&&(n.strip&&(m=m.replace(f,"")),(m||n.blankrows!==!1)&&r.push((w++?c:"")+m)));return delete n.dense,r.join("")}function A0e(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Sj(e,t);return r}function k0e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Rr(e["!ref"]),s="",o=[],c,u=[],f=Array.isArray(e);for(c=a.s.c;c<=a.e.c;++c)o[c]=Qr(c);for(var m=a.s.r;m<=a.e.r;++m)for(s=Sn(m),c=a.s.c;c<=a.e.c;++c)if(t=o[c]+s,r=f?(e[m]||[])[c]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}u[u.length]=t+"="+n}return u}function Cj(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},o=0,c=0;if(s&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var u=typeof n.origin=="string"?Wn(n.origin):n.origin;o=u.r,c=u.c}var f,m={s:{c:0,r:0},e:{c,r:o+t.length-1+a}};if(s["!ref"]){var g=Rr(s["!ref"]);m.e.c=Math.max(m.e.c,g.e.c),m.e.r=Math.max(m.e.r,g.e.r),o==-1&&(o=g.e.r+1,m.e.r=o+t.length-1+a)}else o==-1&&(o=0,m.e.r=t.length-1+a);var v=n.header||[],x=0;t.forEach(function(w,b){si(w).forEach(function(S){(x=v.indexOf(S))==-1&&(v[x=v.length]=S);var T=w[S],E="z",A="",k=xt({c:c+x,r:o+b+a});f=Wh(s,k),T&&typeof T=="object"&&!(T instanceof Date)?s[k]=T:(typeof T=="number"?E="n":typeof T=="boolean"?E="b":typeof T=="string"?E="s":T instanceof Date?(E="d",n.cellDates||(E="n",T=Kn(T)),A=n.dateNF||yt[14]):T===null&&n.nullError&&(E="e",T=0),f?(f.t=E,f.v=T,delete f.w,delete f.R,A&&(f.z=A)):s[k]=f={t:E,v:T},A&&(f.z=A))})}),m.e.c=Math.max(m.e.c,c+v.length-1);var y=Sn(o);if(a)for(x=0;x<v.length;++x)s[Qr(x+c)+y]={t:"s",v:v[x]};return s["!ref"]=jt(m),s}function R0e(e,t){return Cj(null,e,t)}function Wh(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Wn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Wh(e,xt(t)):Wh(e,xt({r:t,c:r||0}))}function D0e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function JE(){return{SheetNames:[],Sheets:{}}}function e2(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var o=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(phe(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function I0e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=D0e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function O0e(e,t){return e.z=t,e}function Tj(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function P0e(e,t,r){return Tj(e,"#"+t,r)}function M0e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function F0e(e,t,r,n){for(var a=typeof t!="string"?t:Rr(t),s=typeof t=="string"?t:jt(t),o=a.s.r;o<=a.e.r;++o)for(var c=a.s.c;c<=a.e.c;++c){var u=Wh(e,o,c);u.t="n",u.F=s,delete u.v,o==a.s.r&&c==a.s.c&&(u.f=r,n&&(u.D=!0))}return e}var lD={encode_col:Qr,encode_row:Sn,encode_cell:xt,encode_range:jt,decode_col:BE,decode_row:LE,split_cell:Yie,decode_cell:Wn,decode_range:Ad,format_cell:to,sheet_add_aoa:RF,sheet_add_json:Cj,sheet_add_dom:bj,aoa_to_sheet:kd,json_to_sheet:R0e,table_to_sheet:wj,table_to_book:Jhe,sheet_to_csv:Sj,sheet_to_txt:A0e,sheet_to_json:cw,sheet_to_html:Zhe,sheet_to_formulae:k0e,sheet_to_row_object_array:cw,sheet_get_cell:Wh,book_new:JE,book_append_sheet:e2,book_set_sheet_visibility:I0e,cell_set_number_format:O0e,cell_set_hyperlink:Tj,cell_set_internal_link:P0e,cell_add_comment:M0e,sheet_set_array_formula:F0e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const cD=[{title:"Importar Inventario",description:"Importa productos y recetas desde un archivo Excel",type:"inventory",icon:Bf,specifications:["Código","Nombre","Tipo Padre"]},{title:"Importar Precios de Venta",description:"Actualiza los precios de venta de productos",type:"sale-prices",icon:Bf,specifications:["Código del producto","Nuevo precio de venta","Fecha de vigencia"]},{title:"Importar Precios de Compra",description:"Actualiza los precios de compra de productos",type:"purchase-prices",icon:Bf,specifications:["Código del producto","Nuevo precio de compra","Proveedor (opcional)","Fecha de vigencia"]},{title:"Importar Contactos",description:"Importa clientes, proveedores y colaboradores desde un archivo Excel",type:"contacts",icon:Bf,specifications:["Contacto","Nombre/Razón Social","Apellido/Nombre Fantasía","Categoría","Dirección","Identificador","Teléfono 1","Teléfono 2","Teléfono 3","Email 1","Email 2","Email 3"]}],j0e=[{title:"Exportar Inventario Completo",description:"Exporta todos los productos y recetas con sus detalles",type:"full-inventory",icon:Bf}],uD={"select-operation":{title:"Seleccionar Operación",description:"Elige si deseas importar o exportar datos"},"select-file":{title:"Seleccionar Archivo",description:"Selecciona el archivo Excel con los datos a importar"},preview:{title:"Vista Previa",description:"Revisa los datos antes de proceder"},results:{title:"Resultados",description:"Resultado de la operación"}},L0e=({isOpen:e,onClose:t})=>{const[r,n]=N.useState("select-operation"),[a,s]=N.useState(null),[o,c]=N.useState(null),[u,f]=N.useState(null),[m,g]=N.useState([]),[v,x]=N.useState("ALL"),[y,w]=N.useState(!1),[b,S]=N.useState({success:0,errors:0}),[T,E]=N.useState([]),A=N.useRef(null),k=new _r,D=new mn,R=new li,P=new ua,I=new Ia,[B,H]=N.useState(null),z=(Q,re)=>{s(Q),c(re),n("select-file")},G=async()=>{A.current&&A.current.click()},ne=async Q=>{const re=new FileReader;re.onload=async be=>{var Ee;try{E([]);const ue=new Uint8Array((Ee=be.target)==null?void 0:Ee.result),me=Ag(ue,{type:"array"}),Ae=me.Sheets[me.SheetNames[0]],Y=lD.sheet_to_json(Ae),He=[],Ce=["Código","Nombre","Tipo Padre"],Ge=Object.keys(Y[0]||{}),$e=Ce.filter(Me=>!Ge.includes(Me));if($e.length>0){He.push({row:0,message:`Columnas faltantes: ${$e.join(", ")}`}),E(He);return}const[Oe,ie]=await Promise.all([k.findAll(),D.findAll()]),fe=Y.filter((Me,Re)=>{var At,Dt;const De=(At=Me.Código)==null?void 0:At.toString(),je=Me.Nombre,Ze=(Dt=Me["Tipo Padre"])==null?void 0:Dt.toString().trim();if(!De||!je||!Ze)return He.push({row:Re+2,message:`Fila ${Re+2}: Datos incompletos - Código, Nombre y Tipo Padre son obligatorios`}),!1;const bt=Ze.toUpperCase().split("\\")[0].trim();return!bt.startsWith("PRODUCCIÓN")&&!bt.startsWith("MERCADERÍA")?(He.push({row:Re+2,message:`Fila ${Re+2}: Tipo Padre inválido "${Ze}" - Debe comenzar con "PRODUCCIÓN" o "MERCADERÍA"`}),!1):!0});if(E(He),fe.length===0)return;const Se=await Promise.all(fe.map(async Me=>{const Re=Me.Código.toString(),De=Me.Nombre,Ze=Me["Tipo Padre"].toString().trim().toUpperCase().split("\\")[0].startsWith("PRODUCCIÓN")?"RECETA":"PRODUCTO",bt=Ze==="PRODUCTO"?Oe.find(At=>At.sku===Re):ie.find(At=>At.sku===Re);return{code:Re,name:De,type:Ze,isNew:!bt,originalItem:bt}}));g(Se),He.length===0&&n("preview")}catch(ue){console.error("Error processing file:",ue),E([{row:0,message:"Error al procesar el archivo. Verifique que sea un archivo Excel válido."}])}},re.readAsArrayBuffer(Q)},se=async Q=>{const re=new FileReader;re.onload=async be=>{var Ee;try{E([]);const ue=new Uint8Array((Ee=be.target)==null?void 0:Ee.result),me=Ag(ue,{type:"array",codepage:65001,raw:!0}),Ae=me.Sheets[me.SheetNames[0]],Y=lD.sheet_to_json(Ae,{raw:!1,defval:""}),He=[],[Ce,Ge,$e]=await Promise.all([R.findAll(),P.findAll(),I.findAll()]),Oe=Y.filter((fe,Se)=>{var Re;return((Re=fe.Contacto)==null?void 0:Re.toString().trim())?!0:(He.push({row:Se+2,message:`Fila ${Se+2}: El campo Contacto es obligatorio`}),!1)});if(E(He),Oe.length===0)return;const ie=Oe.map(fe=>{const Se=fe.Contacto.toString().trim(),Me=fe.Categoría==="Cliente"?"CLIENTE":fe.Categoría==="Proveedor"?"PROVEEDOR":"COLABORADOR",Re=Se.toLowerCase().replace(/\s+/g," ").trim();console.log("Buscando contacto:",{contactName:Re,type:Me,existingCustomers:Ce.map(je=>({id:je.id,name:je.name.toLowerCase().replace(/\s+/g," ").trim()})),existingSuppliers:Ge.map(je=>({id:je.id,name:je.commercialName.toLowerCase().replace(/\s+/g," ").trim()})),existingWorkers:$e.map(je=>({id:je.id,name:je.name.toLowerCase().replace(/\s+/g," ").trim()}))});let De=null;switch(Me){case"CLIENTE":De=Ce.find(je=>je.name.toLowerCase().replace(/\s+/g," ").trim()===Re);break;case"PROVEEDOR":De=Ge.find(je=>je.commercialName.toLowerCase().replace(/\s+/g," ").trim()===Re);break;case"COLABORADOR":De=$e.find(je=>je.name.toLowerCase().replace(/\s+/g," ").trim()===Re);break}return console.log("Resultado de búsqueda:",{contactName:Re,found:!!De,existingContact:De}),{code:fe.Identificador||fe.Contacto,name:Se,type:Me,isNew:!De,originalItem:De,originalData:fe}});g(ie),He.length===0&&n("preview")}catch(ue){console.error("Error processing file:",ue),E([{row:0,message:"Error al procesar el archivo. Verifique que sea un archivo Excel válido."}])}},re.readAsArrayBuffer(Q)},L=Q=>{var be;const re=(be=Q.target.files)==null?void 0:be[0];re&&o&&(f(re),o==="inventory"?ne(re):o==="contacts"?se(re):n("preview"))},oe=async()=>{var be,Ee,ue,me,Ae;if(!o||!m.length)return;w(!0);let Q=0,re=0;try{if(o==="contacts"){const Y=m.length;H({current:0,total:Y});for(let He=0;He<m.length;He++){try{const Ce=m[He];if(!Ce.originalData)continue;const Ge={name:Ce.name,phone:Ce.originalData["Teléfono 1"],email:Ce.originalData["Email 1"],status:Ys.ACTIVO},$e={name:Ce.name,phone:Ce.originalData["Teléfono 1"],status:Ys.ACTIVO,hireDate:new Date,monthlySalary:0,primaryRoleId:"",leaveBalance:0,leaveSalaryBalance:0,vacationSalaryBalance:0,bonusSalaryBalance:0};switch(Ce.type){case"CLIENTE":Ce.isNew?await R.create(Ge):(be=Ce.originalItem)!=null&&be.id&&await R.update(Ce.originalItem.id,Ge);break;case"PROVEEDOR":Ce.isNew?await P.create({commercialName:Ce.name,phone:Ce.originalData["Teléfono 1"],email:Ce.originalData["Email 1"],status:Ys.ACTIVO,rut:Ce.originalData.Identificador}):(Ee=Ce.originalItem)!=null&&Ee.id&&await P.update(Ce.originalItem.id,{commercialName:Ce.name,phone:Ce.originalData["Teléfono 1"],email:Ce.originalData["Email 1"],rut:Ce.originalData.Identificador});break;case"COLABORADOR":Ce.isNew?await I.create($e):(ue=Ce.originalItem)!=null&&ue.id&&await I.update(Ce.originalItem.id,$e);break}Q++}catch(Ce){console.error("Error importing contact:",Ce),re++}H({current:He+1,total:Y})}}else if(o==="inventory"){const Y=m.length;H({current:0,total:Y});for(let He=0;He<m.length;He++){const Ce=m[He];try{Ce.type==="PRODUCTO"?Ce.isNew?await k.create({sku:Ce.code,name:Ce.name,nameSale:Ce.name,isForSale:!0,status:Ys.ACTIVO,sector:s3.GENERAL,isMaterial:!1,desiredStock:1,salePrice:0}):(me=Ce.originalItem)!=null&&me.id&&await k.update(Ce.originalItem.id,{...Ce.originalItem,nameSale:Ce.name}):Ce.isNew?await D.create({sku:Ce.code,name:Ce.name,nameSale:Ce.name,recipeType:rd.RECETA_VENTA,yieldUnitId:"",yield:1,unitCost:0,totalMaterial:0,totalItems:0,margin:0,materials:[],primaryWorkerId:"",state:Ys.ACTIVO,desiredProduction:1,salePrice:0}):(Ae=Ce.originalItem)!=null&&Ae.id&&await D.update(Ce.originalItem.id,{...Ce.originalItem,nameSale:Ce.name}),Q++}catch(Ge){console.error("Error importing item:",Ge),re++}H({current:He+1,total:Y})}}}finally{w(!1),H(null),S({success:Q,errors:re}),n("results"),A.current&&(A.current.value="")}},le=async()=>{w(!0);try{await new Promise(Q=>setTimeout(Q,1e3)),S({success:10,errors:0}),n("results")}catch(Q){console.error("Error exporting:",Q),S({success:0,errors:1})}finally{w(!1)}},W=()=>{n("select-operation"),s(null),c(null),f(null),g([]),S({success:0,errors:0}),A.current&&(A.current.value=""),t()},V=()=>{switch(r){case"preview":n("select-file");break;case"select-file":n("select-operation"),s(null),c(null),f(null),A.current&&(A.current.value="");break;default:n("select-operation"),s(null),c(null),f(null),A.current&&(A.current.value="")}},ce=()=>{const Q=cD.find(re=>re.type===o);switch(r){case"select-operation":return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Importar Datos"}),h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:cD.map(re=>h.jsx(yr,{className:"overflow-hidden border bg-card",children:h.jsxs("div",{className:"flex h-full",children:[h.jsx("div",{className:"flex items-center px-4 bg-muted/30",children:h.jsx("div",{className:"p-2",children:h.jsx(re.icon,{className:"h-6 w-6 text-primary"})})}),h.jsxs("div",{className:"flex-1 p-4",children:[h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("h3",{className:"font-semibold leading-none",children:re.title}),h.jsx("p",{className:"text-sm text-muted-foreground",children:re.description})]}),h.jsxs(ze,{className:"w-full mt-4",variant:"secondary",onClick:()=>z("import",re.type),children:[h.jsx(aN,{className:"h-4 w-4 mr-2"}),"Importar"]})]})]})},re.type))})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Exportar Datos"}),h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:j0e.map(re=>h.jsx(yr,{className:"overflow-hidden border bg-card",children:h.jsxs("div",{className:"flex h-full",children:[h.jsx("div",{className:"flex items-center px-4 bg-muted/30",children:h.jsx("div",{className:"p-2",children:h.jsx(re.icon,{className:"h-6 w-6 text-primary"})})}),h.jsxs("div",{className:"flex-1 p-4",children:[h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("h3",{className:"font-semibold leading-none",children:re.title}),h.jsx("p",{className:"text-sm text-muted-foreground",children:re.description})]}),h.jsxs(ze,{className:"w-full mt-4",variant:"secondary",onClick:()=>z("export",re.type),children:[h.jsx(rN,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]})},re.type))})]})]});case"select-file":return h.jsxs("div",{className:"space-y-4",children:[h.jsxs(Ql,{children:[h.jsx(Mo,{className:"h-4 w-4"}),h.jsx(Zl,{children:a==="import"?"Selecciona el archivo Excel (.xlsx) que contiene los datos a importar.":"Confirma la exportación de datos."})]}),a==="import"&&Q&&h.jsxs("div",{className:"rounded-lg border bg-card p-4 mb-6",children:[h.jsx("h3",{className:"font-semibold mb-2",children:"Columnas Requeridas:"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Q.specifications.map((re,be)=>h.jsxs("div",{className:"flex items-center text-sm",children:[h.jsx("span",{className:"mr-2",children:"•"}),re]},be))})]}),h.jsx("div",{className:"flex flex-col items-center justify-center h-[300px] space-y-4",children:a==="import"?h.jsxs(h.Fragment,{children:[h.jsxs(ze,{size:"lg",onClick:G,className:"w-64",variant:u?"ghost":"secondary",children:[h.jsx(aN,{className:"h-4 w-4 mr-2"}),u?"Cambiar Archivo":"Seleccionar Archivo"]}),u&&h.jsx("div",{className:"text-center space-y-4",children:h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-sm",children:u.name}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:[(u.size/1024).toFixed(2)," KB"]})]})}),T.length>0&&h.jsxs("div",{className:"w-full max-w-md mt-4",children:[h.jsxs(Ql,{variant:"destructive",children:[h.jsx(Mo,{className:"h-4 w-4"}),h.jsx(Zl,{children:"Se encontraron errores en el archivo:"})]}),h.jsx(zf,{className:"h-[200px] w-full mt-2 rounded-md border p-4",children:h.jsx("div",{className:"space-y-2",children:T.map((re,be)=>h.jsx("div",{className:"text-sm text-destructive",children:re.message},be))})})]})]}):h.jsxs(ze,{size:"lg",onClick:le,className:"w-64",children:[h.jsx(rN,{className:"h-4 w-4 mr-2"}),"Comenzar Exportación"]})})]});case"preview":if(o==="inventory"){const re=m.filter(Ae=>v==="ALL"?!0:Ae.type===v),be=m.filter(Ae=>Ae.isNew).length,Ee=m.filter(Ae=>!Ae.isNew).length,ue=re.filter(Ae=>Ae.isNew).length,me=re.filter(Ae=>!Ae.isNew).length;return h.jsxs("div",{className:"space-y-4",children:[h.jsxs(Ql,{children:[h.jsx(Mo,{className:"h-4 w-4"}),h.jsxs(Zl,{children:["Se encontraron ",m.length," elementos en total.",be," serán creados y ",Ee," serán actualizados."]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs(ze,{variant:v==="ALL"?"primary":"ghost",onClick:()=>x("ALL"),size:"sm",children:["Todos (",m.length,")"]}),h.jsxs(ze,{variant:v==="PRODUCTO"?"primary":"ghost",onClick:()=>x("PRODUCTO"),size:"sm",children:["Productos (",m.filter(Ae=>Ae.type==="PRODUCTO").length,")"]}),h.jsxs(ze,{variant:v==="RECETA"?"primary":"ghost",onClick:()=>x("RECETA"),size:"sm",children:["Recetas (",m.filter(Ae=>Ae.type==="RECETA").length,")"]})]}),v!=="ALL"&&h.jsxs(Ql,{children:[h.jsx(Mo,{className:"h-4 w-4"}),h.jsxs(Zl,{children:["Mostrando ",re.length," elementos filtrados.",ue," serán creados y ",me," serán actualizados."]})]}),h.jsx(zf,{className:"h-[400px] w-full rounded-md border p-4",children:h.jsx("div",{className:"space-y-4",children:re.map((Ae,Y)=>h.jsxs("div",{className:"flex items-center space-x-4 p-2 border rounded",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-medium",children:Ae.name}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:["SKU: ",Ae.code," | Tipo: ",Ae.type]})]}),h.jsx("span",{className:`px-2 py-1 rounded text-sm ${Ae.isNew?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Ae.isNew?"Nuevo":"Actualizar"})]},Y))})})]})}else if(o==="contacts")return h.jsxs("div",{className:"space-y-4",children:[h.jsxs(Ql,{children:[h.jsx(Mo,{className:"h-4 w-4"}),h.jsxs(Zl,{children:["Se encontraron ",m.length," contactos para importar."]})]}),h.jsx(zf,{className:"h-[400px] w-full rounded-md border p-4",children:h.jsx("div",{className:"space-y-4",children:m.map((re,be)=>{var Ee,ue;return h.jsxs("div",{className:"flex items-center space-x-4 p-2 border rounded",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-medium",children:re.name}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:[((Ee=re.originalData)==null?void 0:Ee["Teléfono 1"])&&`Tel: ${re.originalData["Teléfono 1"]} | `,((ue=re.originalData)==null?void 0:ue["Email 1"])&&`Email: ${re.originalData["Email 1"]} | `,"Tipo: ",re.type==="CLIENTE"?"Cliente":re.type==="PROVEEDOR"?"Proveedor":"Colaborador"]})]}),h.jsx("span",{className:"px-2 py-1 rounded text-sm bg-green-100 text-green-800",children:"Nuevo"})]},be)})})})]});return h.jsx("div",{className:"space-y-4",children:h.jsxs(Ql,{children:[h.jsx(Mo,{className:"h-4 w-4"}),h.jsx(Zl,{children:"Vista previa no disponible para este tipo de importación."})]})});case"results":return h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[h.jsx("div",{className:"rounded-full bg-green-100 p-3 mb-4",children:h.jsx(Nw,{className:"h-8 w-8 text-green-600"})}),h.jsx("h3",{className:"text-lg font-semibold mb-2",children:a==="import"?"Importación Completada":"Exportación Completada"}),h.jsxs("p",{className:"text-sm text-muted-foreground text-center max-w-md",children:["Se procesaron exitosamente ",b.success," elementos.",b.errors>0&&` Hubo ${b.errors} errores durante el proceso.`]})]})})}},j=r!=="select-operation",ee=r==="preview",K=r!=="select-operation"&&r!=="results";return h.jsxs(h.Fragment,{children:[h.jsx("input",{type:"file",ref:A,className:"hidden",accept:".xlsx,.xls",onChange:L}),h.jsx(Dc,{open:e,onOpenChange:W,children:h.jsxs(xl,{className:"sm:max-w-[90vw] md:max-w-[85vw] lg:max-w-[80vw] xl:max-w-[1100px] h-[90vh] p-0",children:[h.jsx(yl,{className:"px-6 py-2 border-b",children:h.jsxs(bl,{className:"text-lg flex items-center space-x-2",children:[h.jsx("span",{children:uD[r].title}),r!=="select-operation"&&h.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["— ",uD[r].description]})]})}),h.jsx(zf,{className:"flex-1 h-full max-h-[calc(90vh-8rem)]",children:h.jsx("div",{className:"px-6 py-4",children:ce()})}),K&&h.jsxs("div",{className:"px-6 py-4 border-t flex justify-between",children:[h.jsxs(ze,{variant:"ghost",onClick:V,disabled:!j||y,children:[h.jsx(jg,{className:"h-4 w-4 mr-2"}),"Volver"]}),ee&&h.jsxs("div",{className:"flex items-center gap-4",children:[B&&h.jsxs("div",{className:"text-sm text-muted-foreground",children:["Procesando ",B.current," de ",B.total," elementos..."]}),h.jsxs(ze,{onClick:oe,disabled:y,children:[y?"Procesando...":"Confirmar Importación",h.jsx(kB,{className:"h-4 w-4 ml-2"})]})]})]}),r==="results"&&h.jsx("div",{className:"px-6 py-4 border-t flex justify-end",children:h.jsx(ze,{variant:"ghost",onClick:()=>n("select-operation"),children:"Realizar Otra Operación"})})]})})]})},B0e=()=>{const[e,t]=N.useState(null),[r,n]=N.useState(!0),[a,s]=N.useState(null),[o,c]=N.useState(!1),[u,f]=N.useState(!1),[m,g]=N.useState(!1);N.useEffect(()=>{(async()=>{try{n(!0),s(null);const b=await new gne().getDashboardData();console.log("Debug - Dashboard Data:",b),t(b)}catch(w){console.error("Error loading dashboard data:",w),s("Error al cargar los datos del dashboard")}finally{n(!1)}})()},[]);const v=[{name:"Calculadora de Precios",icon:Lg,color:"bg-blue-500/10 text-blue-500",onClick:()=>c(!0)},{name:"Frutas y Verduras",icon:TB,color:"bg-green-500/10 text-green-500",onClick:()=>f(!0)},{name:"Actualización de Datos",icon:TU,color:"bg-purple-500/10 text-purple-500",onClick:()=>g(!0)}],x=[{title:"Inventarios",icon:Z1,color:"bg-blue-500/10 text-blue-500",total:((e==null?void 0:e.stats.totalProducts)||0)+((e==null?void 0:e.stats.totalRecipes)||0),items:[{name:"Productos",value:(e==null?void 0:e.stats.totalProducts)||0,icon:Z1,color:"text-blue-500"},{name:"Recetas",value:(e==null?void 0:e.stats.totalRecipes)||0,icon:Lf,color:"text-blue-500"}]},{title:"Órdenes",icon:Yy,color:"bg-green-500/10 text-green-500",total:((e==null?void 0:e.stats.totalOrders)||0)+((e==null?void 0:e.stats.totalPurchases)||0)+((e==null?void 0:e.stats.totalProduction)||0),items:[{name:"Pedidos",value:(e==null?void 0:e.stats.totalOrders)||0,icon:Yy,color:"text-green-500"},{name:"Compras",value:(e==null?void 0:e.stats.totalPurchases)||0,icon:xh,color:"text-green-500"},{name:"Producción",value:(e==null?void 0:e.stats.totalProduction)||0,icon:Lf,color:"text-green-500"}]},{title:"Contactos",icon:eb,color:"bg-purple-500/10 text-purple-500",total:((e==null?void 0:e.stats.totalCustomers)||0)+((e==null?void 0:e.stats.totalSuppliers)||0)+((e==null?void 0:e.stats.totalWorkers)||0),items:[{name:"Clientes",value:(e==null?void 0:e.stats.totalCustomers)||0,icon:eb,color:"text-purple-500"},{name:"Proveedores",value:(e==null?void 0:e.stats.totalSuppliers)||0,icon:UU,color:"text-purple-500"},{name:"Colaboradores",value:(e==null?void 0:e.stats.totalWorkers)||0,icon:aU,color:"text-purple-500"}]}];return r?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):a?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4",children:[h.jsx("p",{className:"text-destructive text-lg",children:a}),h.jsx(ze,{onClick:()=>window.location.reload(),variant:"secondary",children:"Reintentar"})]}):h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:v.map(y=>h.jsx(yr,{className:"backdrop-blur-sm bg-card/80 hover:bg-card/90 transition-colors cursor-pointer",onClick:y.onClick,children:h.jsx($r,{className:"p-6",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:`p-3 rounded-lg ${y.color}`,children:h.jsx(y.icon,{className:"h-6 w-6"})}),h.jsx("h3",{className:"text-lg font-semibold",children:y.name})]})})},y.name))}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:x.map(y=>h.jsxs(yr,{className:"backdrop-blur-sm bg-card/80",children:[h.jsx(ia,{className:"pb-0 pt-4 px-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:`p-1.5 rounded-lg ${y.color}`,children:h.jsx(y.icon,{className:"h-4 w-4"})}),h.jsx(oa,{className:"text-lg font-semibold",children:y.title})]}),h.jsx("p",{className:"text-xl font-bold",children:y.total})]})}),h.jsx($r,{className:"pt-2 pb-3 px-4",children:h.jsx("div",{className:"space-y-1",children:y.items.map(w=>h.jsxs("div",{className:"flex items-center justify-between py-1",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(w.icon,{className:`h-3.5 w-3.5 ${w.color}`}),h.jsx("span",{className:"text-sm",children:w.name})]}),h.jsx("span",{className:"text-sm font-medium",children:w.value})]},w.name))})})]},y.title))}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs(yr,{className:"backdrop-blur-sm bg-card/80",children:[h.jsx(ia,{children:h.jsx(oa,{className:"text-xl font-semibold",children:"Más Comprados"})}),h.jsx($r,{className:"space-y-1",children:e==null?void 0:e.topPurchased.map((y,w)=>h.jsxs("div",{className:"flex items-center justify-between py-1 px-2 rounded-lg bg-background/50",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:`p-1.5 rounded-lg ${y.status===et.PENDIENTE?"bg-yellow-500/10":y.status===et.ENVIADA?"bg-blue-500/10":y.status===et.COMPLETADA?"bg-green-500/10":"bg-red-500/10"}`,children:h.jsx(xh,{className:`h-5 w-5 ${y.status===et.PENDIENTE?"text-yellow-500":y.status===et.ENVIADA?"text-blue-500":y.status===et.COMPLETADA?"text-green-500":"text-red-500"}`})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:y.name}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Cantidad: ",y.quantity]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-sm font-medium",children:y.amount}),h.jsx("p",{className:"text-xs text-green-500",children:y.trend})]})]},w))})]}),h.jsxs(yr,{className:"backdrop-blur-sm bg-card/80",children:[h.jsx(ia,{children:h.jsx(oa,{className:"text-xl font-semibold",children:"Más Producidos"})}),h.jsx($r,{className:"space-y-1",children:e!=null&&e.topProduced&&e.topProduced.length>0?e.topProduced.map((y,w)=>h.jsxs("div",{className:"flex items-center justify-between py-1 px-2 rounded-lg bg-background/50",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"p-1.5 bg-green-500/10 rounded-lg",children:h.jsx(Lf,{className:"h-5 w-5 text-green-500"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:y.name}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Cantidad: ",y.quantity]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-sm font-medium",children:y.amount}),h.jsx("p",{className:"text-xs text-green-500",children:y.trend})]})]},w)):h.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[h.jsx(Lf,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay datos de producción disponibles"})]})})]}),h.jsxs(yr,{className:"backdrop-blur-sm bg-card/80",children:[h.jsx(ia,{children:h.jsx(oa,{className:"text-xl font-semibold",children:"Más Pedidos"})}),h.jsx($r,{className:"space-y-1",children:e==null?void 0:e.topOrdered.map((y,w)=>h.jsxs("div",{className:"flex items-center justify-between py-1 px-2 rounded-lg bg-background/50",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:`p-1.5 rounded-lg ${y.status===et.PENDIENTE?"bg-yellow-500/10":y.status===et.ENVIADA?"bg-blue-500/10":y.status===et.COMPLETADA?"bg-green-500/10":"bg-red-500/10"}`,children:h.jsx(Yy,{className:`h-5 w-5 ${y.status===et.PENDIENTE?"text-yellow-500":y.status===et.ENVIADA?"text-blue-500":y.status===et.COMPLETADA?"text-green-500":"text-red-500"}`})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:y.name}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Cantidad: ",y.quantity]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-sm font-medium",children:y.amount}),h.jsx("p",{className:"text-xs text-green-500",children:y.trend})]})]},w))})]})]}),h.jsx(cse,{isOpen:o,onClose:()=>c(!1)}),h.jsx(gse,{isOpen:u,onClose:()=>f(!1)}),h.jsx(L0e,{isOpen:m,onClose:()=>g(!1)})]})},U0e=h.jsxs(h.Fragment,{children:[h.jsx(We,{path:"dashboard",element:h.jsx(B0e,{})}),h.jsx(We,{path:"customers",element:h.jsx(KK,{})}),h.jsx(We,{path:"customers/new",element:h.jsx(Ok,{})}),h.jsx(We,{path:"customers/:id",element:h.jsx(Dre,{})}),h.jsx(We,{path:"customers/:id/edit",element:h.jsx(Ok,{})}),h.jsx(We,{path:"suppliers",element:h.jsx(Ire,{})}),h.jsx(We,{path:"suppliers/new",element:h.jsx(Pk,{})}),h.jsx(We,{path:"suppliers/:id",element:h.jsx(Ore,{})}),h.jsx(We,{path:"suppliers/:id/edit",element:h.jsx(Pk,{})}),h.jsx(We,{path:"workers",element:h.jsx(Mre,{})}),h.jsx(We,{path:"workers/new",element:h.jsx(Mk,{})}),h.jsx(We,{path:"workers/:id",element:h.jsx(Fre,{})}),h.jsx(We,{path:"workers/:id/edit",element:h.jsx(Mk,{})}),h.jsx(We,{path:"roles",element:h.jsx(jre,{})}),h.jsx(We,{path:"roles/new",element:h.jsx(jk,{})}),h.jsx(We,{path:"roles/:id",element:h.jsx(Lre,{})}),h.jsx(We,{path:"roles/:id/edit",element:h.jsx(jk,{})}),h.jsx(We,{path:"units",element:h.jsx(Ure,{})}),h.jsx(We,{path:"units/new",element:h.jsx(Lk,{})}),h.jsx(We,{path:"units/:id",element:h.jsx(Vre,{})}),h.jsx(We,{path:"units/:id/edit",element:h.jsx(Lk,{})}),h.jsx(We,{path:"parameters",element:h.jsx($re,{})}),h.jsx(We,{path:"parameters/new",element:h.jsx(Bk,{})}),h.jsx(We,{path:"parameters/:id",element:h.jsx(zre,{})}),h.jsx(We,{path:"parameters/:id/edit",element:h.jsx(Bk,{})}),h.jsx(We,{path:"purchase-orders",element:h.jsx(qre,{})}),h.jsx(We,{path:"purchase-orders/new",element:h.jsx(Uk,{})}),h.jsx(We,{path:"purchase-orders/:id",element:h.jsx(Gre,{})}),h.jsx(We,{path:"purchase-orders/:id/edit",element:h.jsx(Uk,{})}),h.jsx(We,{path:"customer-orders",element:h.jsx(Kre,{})}),h.jsx(We,{path:"customer-orders/new",element:h.jsx(Vk,{})}),h.jsx(We,{path:"customer-orders/:id",element:h.jsx(Qre,{})}),h.jsx(We,{path:"customer-orders/:id/edit",element:h.jsx(Vk,{})}),h.jsx(We,{path:"production-orders",element:h.jsx(Zre,{})}),h.jsx(We,{path:"production-orders/new",element:h.jsx(Hk,{})}),h.jsx(We,{path:"production-orders/:id",element:h.jsx(Jre,{})}),h.jsx(We,{path:"production-orders/:id/edit",element:h.jsx(Hk,{})}),h.jsx(We,{path:"recipes",element:h.jsx(ene,{})}),h.jsx(We,{path:"recipes/new",element:h.jsx($k,{})}),h.jsx(We,{path:"recipes/:id",element:h.jsx(tne,{})}),h.jsx(We,{path:"recipes/:id/edit",element:h.jsx($k,{})}),h.jsx(We,{path:"products",element:h.jsx(rne,{})}),h.jsx(We,{path:"products/new",element:h.jsx(zk,{})}),h.jsx(We,{path:"products/:id",element:h.jsx(sne,{})}),h.jsx(We,{path:"products/:id/edit",element:h.jsx(zk,{})}),h.jsx(We,{path:"incidents",element:h.jsx(dne,{})}),h.jsx(We,{path:"incidents/new",element:h.jsx(qk,{})}),h.jsx(We,{path:"incidents/:id",element:h.jsx(fne,{})}),h.jsx(We,{path:"incidents/:id/edit",element:h.jsx(qk,{})}),h.jsx(We,{path:"daily-closures",element:h.jsx(mne,{})}),h.jsx(We,{path:"daily-closures/new",element:h.jsx(Gk,{})}),h.jsx(We,{path:"daily-closures/:id",element:h.jsx(pne,{})}),h.jsx(We,{path:"daily-closures/:id/edit",element:h.jsx(Gk,{})})]});var Nj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dD=M.createContext&&M.createContext(Nj),V0e=["attr","size","title"];function H0e(e,t){if(e==null)return{};var r=$0e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kg.apply(this,arguments)}function fD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(r),!0).forEach(function(n){z0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z0e(e,t,r){return t=W0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W0e(e){var t=q0e(e,"string");return typeof t=="symbol"?t:t+""}function q0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aj(e){return e&&e.map((t,r)=>M.createElement(t.tag,Rg({key:r},t.attr),Aj(t.child)))}function C0(e){return t=>M.createElement(G0e,kg({attr:Rg({},e.attr)},t),Aj(e.child))}function G0e(e){var t=r=>{var{attr:n,size:a,title:s}=e,o=H0e(e,V0e),c=a||r.size||"1em",u;return r.className&&(u=r.className),e.className&&(u=(u?u+" ":"")+e.className),M.createElement("svg",kg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:u,style:Rg(Rg({color:e.color||r.color},r.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&M.createElement("title",null,s),e.children)};return dD!==void 0?M.createElement(dD.Consumer,null,r=>t(r)):t(Nj)}function Y0e(e){return C0({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function Jl(e){return C0({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function W1(e){return C0({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function ec(e){return C0({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M475.115 163.781L336 252.309v-68.28c0-18.916-20.931-30.399-36.885-20.248L160 252.309V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h464c13.255 0 24-10.745 24-24V184.029c0-18.917-20.931-30.399-36.885-20.248z"},child:[]}]})(e)}function tc(e){return C0({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}const uw=()=>{const e=cr(),[t,r]=M.useState({purchases:0,customerOrders:0,production:0}),[n,a]=M.useState(!0);M.useEffect(()=>{s()},[]);const s=async()=>{try{const c=new Es,u=new ai,f=new ni,[m,g,v]=await Promise.all([c.findByStatus(et.PENDIENTE),u.findByStatus(et.PENDIENTE),f.findByStatus(et.PENDIENTE)]);r({purchases:v.length,customerOrders:m.length,production:g.length})}catch(c){console.error("Error loading order counts:",c)}finally{a(!1)}},o=[{title:"Compras",icon:tc,path:"/mobile/purchases",description:"Gestión de órdenes de compra",count:t.purchases,status:"Pendientes"},{title:"Pedidos",icon:Jl,path:"/mobile/orders",description:"Gestión de pedidos de clientes",count:t.customerOrders,status:"Pendientes"},{title:"Producción",icon:ec,path:"/mobile/production",description:"Gestión de órdenes de producción",count:t.production,status:"Pendientes"}];return n?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):h.jsx("div",{className:"p-4 space-y-4",children:h.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map((c,u)=>h.jsxs(yr,{className:"hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>e(c.path),children:[h.jsxs(ia,{className:"flex flex-row items-center space-y-0 pb-2",children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[h.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary/10",children:M.createElement(c.icon,{className:"w-5 h-5 text-primary"})}),h.jsx(oa,{className:"text-xl",children:c.title})]}),c.count>0&&h.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10",children:h.jsx("span",{className:"text-sm font-medium text-primary",children:c.count})})]}),h.jsx($r,{children:h.jsxs("div",{className:"space-y-1",children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:c.description}),c.count>0&&h.jsxs("p",{className:"text-sm font-medium text-primary",children:[c.count," ",c.status]})]})})]},u))})})};class X0e{constructor(t){gt(this,"order");gt(this,"type");gt(this,"products");gt(this,"recipes");gt(this,"outputFormat");gt(this,"units");gt(this,"customerName");this.order=t.order,this.type=t.type,this.products=t.products,this.recipes=t.recipes,this.outputFormat=t.outputFormat||"whatsapp",this.units=t.units,this.customerName=t.customerName}wrap(t,r=!1){return this.outputFormat==="print"&&r?`<div style="font-size: 14px;"><b>${t}</b></div>`:t}formatDate(t){try{const r=t instanceof Date?t:new Date(t);return Pr(r,"dd/MM/yyyy",{locale:Yi})}catch(r){return console.error("Error formatting date:",r),"Fecha no disponible"}}getUnitName(t){if(!t||!this.units)return"Unidad";const r=this.units.find(n=>n.id===t);return(r==null?void 0:r.name)||"Unidad"}formatWhatsAppHeader(t,r){return`${t} #${r}
Fecha: ${this.formatDate(this.order.orderDate)}
--------------------------------`}formatPrintHeader(t,r){return`<div style="font-size: 14px;"><b>${t} #${r}</b></div><br>Fecha: ${this.formatDate(this.order.orderDate)}<br><div style="border-bottom: 1px solid black; margin: 2px 0;"></div>`}getHeader(){const t=this.order.id.slice(-4).toUpperCase();let r="";switch(this.type){case"customer":r="PEDIDO";break;case"production":r="PRODUCCIÓN";break;case"purchase":r="COMPRA";break}return this.outputFormat==="print"?this.formatPrintHeader(r,t):this.formatWhatsAppHeader(r,t)}formatWhatsAppItem(t,r,n){const s=`${t.toString().padStart(2," ")} ${n} `,o=" ".repeat(s.length);if(r.length>35){const c=r.split(" "),u=[];let f="";return c.forEach(m=>{(f+" "+m).length<=35?f+=(f?" ":"")+m:(f&&u.push(f),f=m)}),f&&u.push(f),s+u.join(`
`+o)}return`${s}${r}`}formatPrintItem(t,r,n){const a=t.toString().padStart(2," "),s=r.split(" "),o=[];let c="";return s.forEach(u=>{(c+" "+u).length<=35?c+=(c?" ":"")+u:(c&&o.push(c),c=u)}),c&&o.push(c),`<tr>
      <td style="text-align: right; white-space: nowrap; padding: 0;"><b>${a}</b></td>
      <td style="white-space: nowrap; padding: 0 4px;"><b>${n}</b></td>
      <td style="text-align: left; padding: 0;"><b>${o.join("<br>")}</b></td>
    </tr>`}formatItem(t,r,n){return this.outputFormat==="print"?this.formatPrintItem(t,r,n):this.formatWhatsAppItem(t,r,n)}formatWhatsAppItems(t){return t.length>0?`
`+t.join(`
`):""}formatPrintItems(t){return t.length===0?"":'<br><table style="border-collapse: collapse; width: 100%;"><tbody>'+t.join("")+"</tbody></table>"}getItems(){return this.type==="customer"?this.order.items.map(r=>{var s,o;let n="",a="Unidad";if(r.typeItem==="product"){const c=(s=this.products)==null?void 0:s.find(u=>u.id===r.itemId);a=this.getUnitName(c==null?void 0:c.salesUnitId),n=(c==null?void 0:c.name)||"Producto no encontrado"}else if(r.typeItem==="recipe"){const c=(o=this.recipes)==null?void 0:o.find(u=>u.id===r.itemId);a=this.getUnitName(c==null?void 0:c.yieldUnitId),n=(c==null?void 0:c.name)||"Receta no encontrada"}return`${r.quantity} ${a} - ${n}`}).join(this.outputFormat==="print"?"<br>":`
`):""}formatWhatsAppTotal(t){return t?`

`+t:""}formatPrintTotal(t){return t?"<br><br>"+t:""}getTotal(){var a,s,o,c,u,f;let t=0,r="und",n="";if(this.type==="customer"){const m=this.order,g=m.items.map(v=>{var w,b;let x="",y="Unidad";if(v.typeItem==="product"){const S=(w=this.products)==null?void 0:w.find(T=>T.id===v.itemId);y=this.getUnitName(S==null?void 0:S.salesUnitId),x=(S==null?void 0:S.name)||"Producto no encontrado"}else if(v.typeItem==="recipe"){const S=(b=this.recipes)==null?void 0:b.find(T=>T.id===v.itemId);y=this.getUnitName(S==null?void 0:S.yieldUnitId),x=(S==null?void 0:S.name)||"Receta no encontrada"}return{quantity:v.quantity,unit:y,description:x}});if(g.length>0){const v=g[0];n=`Total Items: ${m.totalItems} ${v.unit}`}}else if(this.type==="production"){const m=this.order;t=((a=m.recipes)==null?void 0:a.reduce((v,x)=>v+x.quantity,0))||0;const g=(s=m.recipes)==null?void 0:s[0];if(g){const v=(o=this.recipes)==null?void 0:o.find(x=>x.id===g.recipeId);r=this.getUnitName(v==null?void 0:v.yieldUnitId)}t>0&&(n=`Total Items: ${t} ${r}`)}else if(this.type==="purchase"){const m=this.order;t=((c=m.products)==null?void 0:c.reduce((v,x)=>v+x.quantity,0))||0;const g=(u=m.products)==null?void 0:u[0];if(g){const v=(f=this.products)==null?void 0:f.find(x=>x.id===g.productId);r=this.getUnitName(v==null?void 0:v.purchaseUnitId)}t>0&&(n=`Total Productos: ${t} ${r}`)}return this.outputFormat==="print"?this.formatPrintTotal(n):this.formatWhatsAppTotal(n)}toString(){const t=Pr(new Date(this.order.orderDate),"dd/MM/yyyy",{locale:Yi}),r=this.getItems(),n=this.getTotal();let a="";this.type==="customer"&&(a=`Pedido de Cliente #${this.order.id}
`,a+=`Cliente: ${this.customerName||"No especificado"}
`);const s=`
Fecha: ${t}
${r}
${n}
`;return a+s}}const t2=({onView:e,onEdit:t,onDelete:r,order:n,type:a,customerName:s,customerPhone:o,workerName:c,workerPhone:u,supplierName:f,supplierPhone:m,products:g,recipes:v})=>{const x=()=>{let y="";switch(a){case"customer":y=o||"";break;case"production":y=u||"";break;case"purchase":y=m||"";break}const w=new X0e({order:n,type:a,customerName:s,workerName:c,supplierName:f,products:g,recipes:v}).toString();let b=y.replace(/\D/g,"");b&&(b.startsWith("0")&&(b=b.slice(1)),b.startsWith("598")||(b="598"+b));const S=b?`https://api.whatsapp.com/send?phone=${b}&text=${encodeURIComponent(w)}`:`https://api.whatsapp.com/send?text=${encodeURIComponent(w)}`;window.open(S,"_blank")};return h.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4",children:[h.jsxs(ze,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px]",onClick:e,children:[h.jsx(BD,{className:"h-8 w-8"}),h.jsx("span",{className:"text-base",children:"Ver"})]}),h.jsxs(ze,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px] bg-orange-500 hover:bg-orange-600 text-white border-orange-500",onClick:t,children:[h.jsx(Qh,{className:"h-8 w-8"}),h.jsx("span",{className:"text-base",children:"Editar"})]}),h.jsxs(ze,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px] bg-green-500 hover:bg-green-600 text-white border-green-500",onClick:x,children:[h.jsx(xU,{className:"h-8 w-8"}),h.jsx("span",{className:"text-base",children:"WhatsApp"})]}),h.jsxs(ze,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px] bg-red-500 hover:bg-red-600 text-white border-red-500",onClick:r,children:[h.jsx(Zh,{className:"h-8 w-8"}),h.jsx("span",{className:"text-base",children:"Eliminar"})]})]})};function r2({open:e,onClose:t,onCreateEmpty:r,onCreateFromCopy:n,onCreateCalculated:a,orderType:s,suppliers:o=[],customers:c=[],workers:u=[]}){const[f,m]=M.useState(null),[g,v]=M.useState(""),[x,y]=M.useState(""),w=()=>{switch(f){case"empty":r();break;case"copy":g&&n(g);break;case"calculated":x&&a(x);break}b()},b=()=>{m(null),v(""),y(""),t()},S=()=>{switch(s){case"customer":return{label:"Cliente",placeholder:"Seleccione un cliente",options:c.map(A=>({value:A.id,label:A.name}))};case"purchase":return{label:"Proveedor",placeholder:"Seleccione un proveedor",options:o.map(A=>({value:A.id,label:A.commercialName}))};case"production":return{label:"Trabajador",placeholder:"Seleccione un trabajador",options:u.map(A=>({value:A.id,label:A.name}))}}},T=new Intl.DateTimeFormat("es",{day:"numeric",month:"long",year:"numeric"}).format(new Date),E=S();return h.jsx(Dc,{open:e,onOpenChange:b,children:h.jsxs(xl,{className:"sm:max-w-[425px] p-0",children:[h.jsxs(yl,{className:"p-4 pb-0",children:[h.jsx(bl,{children:"Orden: Nueva"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:T})]}),h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsxs("button",{className:`aspect-square rounded-lg transition-colors flex flex-col items-center justify-center gap-2 ${f==="empty"?"bg-blue-600 text-white":"bg-blue-100 hover:bg-blue-200 text-blue-700"}`,onClick:()=>{f==="empty"?m(null):(m("empty"),r())},children:[h.jsx(jD,{className:"h-8 w-8"}),h.jsx("span",{className:"font-medium",children:"Vacía"})]}),h.jsxs("button",{className:`aspect-square rounded-lg transition-colors flex flex-col items-center justify-center gap-2 ${f==="copy"?"bg-orange-600 text-white":"bg-orange-100 hover:bg-orange-200 text-orange-700"}`,onClick:()=>m(f==="copy"?null:"copy"),children:[h.jsx(LD,{className:"h-8 w-8"}),h.jsx("span",{className:"font-medium",children:"Copiada"})]}),h.jsxs("button",{className:`aspect-square rounded-lg transition-colors flex flex-col items-center justify-center gap-2 ${f==="calculated"?"bg-red-600 text-white":"bg-red-100 hover:bg-red-200 text-red-700"}`,onClick:()=>m(f==="calculated"?null:"calculated"),children:[h.jsx(Lg,{className:"h-8 w-8"}),h.jsx("span",{className:"font-medium",children:"Calculada"})]})]}),f==="copy"&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Número de Orden"}),h.jsx(dn,{placeholder:"Ingrese el número de la orden a copiar",value:g,onChange:A=>v(A.target.value)})]}),h.jsx(ze,{variant:"primary",className:"w-full",onClick:w,disabled:!g,children:"Copiar Orden"})]}),f==="calculated"&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:E.label}),h.jsx(ul,{value:x,onChange:A=>y(A),options:E.options,placeholder:E.placeholder})]}),h.jsx(ze,{variant:"primary",className:"w-full",onClick:w,disabled:!x,children:"Crear Orden Calculada"})]})]})]})})}const K0e=()=>{const[e,t]=M.useState([]),[r,n]=M.useState([]),[a,s]=M.useState([]),[o,c]=M.useState(!0),[u,f]=M.useState(!1),m=cr(),g=new ni;M.useEffect(()=>{v()},[]);const v=async()=>{try{const[E,A,k]=await Promise.all([g.findAll(),new ua().findAll(),new _r().findAll()]),D=E.sort((R,P)=>new Date(P.orderDate).getTime()-new Date(R.orderDate).getTime());t(D),n(A),s(k)}catch(E){console.error("Error loading data:",E)}finally{c(!1)}},x=E=>{try{if(!E)return"Fecha no disponible";let A;if(E instanceof Date)A=E;else if(typeof E=="string")A=pl(E);else if(typeof E=="object"&&"seconds"in E)A=new Date(E.seconds*1e3);else throw new Error("Invalid date format");return isNaN(A.getTime())?"Fecha inválida":Pr(A,"PPP",{locale:Yi})}catch(A){return console.error("Error formatting date:",A),"Fecha no disponible"}},y=E=>{const A=r.find(k=>k.id===E);return(A==null?void 0:A.commercialName)||"No asignado"},w=(E,A)=>{const k=document.querySelector('[role="dialog"]');if(k){const D=k.querySelector('button[data-state="open"]');D&&D instanceof HTMLButtonElement&&D.click()}switch(E){case"view":m(`/mobile/purchases/${A.id}/view`);break;case"edit":m(`/mobile/purchases/${A.id}/edit`);break;case"delete":m(`/mobile/purchases/${A.id}/delete`);break}},b=()=>{m("/mobile/purchases/new")},S=E=>{m(`/mobile/purchases/new?copy=${E}`)},T=E=>{m(`/mobile/purchases/new?calculate=${E}`)};return o?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):h.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs(ze,{className:"w-full flex items-center gap-2",onClick:()=>f(!0),children:[h.jsx(Qs,{className:"h-4 w-4"}),"Nueva Orden de Compra"]}),h.jsx(r2,{open:u,onClose:()=>f(!1),onCreateEmpty:b,onCreateFromCopy:S,onCreateCalculated:T,orderType:"purchase",suppliers:r}),h.jsxs("div",{className:"space-y-4",children:[e.map(E=>{var A;return h.jsxs(Dc,{children:[h.jsx(j_,{asChild:!0,children:h.jsx(yr,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:h.jsx($r,{className:"p-4",children:h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("span",{className:"font-medium",children:["Compra #",E.nro]}),h.jsx("span",{className:"text-sm text-muted-foreground",children:x(E.orderDate)})]}),h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Cd(E.status)}`,children:As[E.status]})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Proveedor:"}),h.jsx("span",{className:"font-medium",children:y(E.supplierId)})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Totales:"}),h.jsxs("span",{className:"font-medium",children:[E.totalProducts," / ",E.totalItems]})]})]})]})})})}),h.jsxs(xl,{className:"sm:max-w-[425px]",children:[h.jsx(yl,{children:h.jsx(bl,{children:h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("span",{children:["Compra #",E.nro]}),h.jsx("span",{className:"text-sm font-normal text-gray-500",children:x(E.orderDate)})]})})}),h.jsx(t2,{onView:()=>w("view",E),onEdit:()=>w("edit",E),onDelete:()=>w("delete",E),onShare:()=>{},order:E,type:"purchase",supplierName:y(E.supplierId),supplierPhone:(A=r.find(k=>k.id===E.supplierId))==null?void 0:A.phone,products:a})]})]},E.id)}),e.length===0&&h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h.jsx("p",{children:"No hay órdenes de compra"})})]})]})})},Q0e=()=>{const{id:e}=Pt(),[t,r]=M.useState(null),[n,a]=M.useState([]),[s,o]=M.useState([]),[c,u]=M.useState(!0);M.useEffect(()=>{(async()=>{if(e)try{const[x,y,w]=await Promise.all([new ni().findById(e),new ua().findAll(),new _r().findAll()]);r(x),a(y),o(w)}catch(x){console.error("Error loading data:",x)}finally{u(!1)}})()},[e]);const f=v=>{try{if(!v)return"Fecha no disponible";let x;if(v instanceof Date)x=v;else if(typeof v=="string")x=pl(v);else if(typeof v=="object"&&"seconds"in v)x=new Date(v.seconds*1e3);else throw new Error("Invalid date format");return isNaN(x.getTime())?"Fecha inválida":Pr(x,"PPP",{locale:Yi})}catch(x){return console.error("Error formatting date:",x),"Fecha no disponible"}},m=v=>{const x=n.find(y=>y.id===v);return(x==null?void 0:x.commercialName)||"No asignado"},g=v=>{const x=s.find(y=>y.id===v);return(x==null?void 0:x.name)||"Producto no encontrado"};return c?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):t?h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs(yr,{children:[h.jsx(ia,{children:h.jsx(oa,{children:"Información General"})}),h.jsxs($r,{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Compra"}),h.jsxs("span",{className:"font-medium",children:["#",t.nro]})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-muted-foreground",children:"Estado"}),h.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${Cd(t.status)}`,children:As[t.status]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Fecha de Compra"}),h.jsx("span",{children:f(t.orderDate)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Proveedor"}),h.jsx("span",{children:m(t.supplierId)})]})]})]}),t.products&&t.products.length>0&&h.jsxs(yr,{children:[h.jsx(ia,{children:h.jsx(oa,{children:"Productos"})}),h.jsx($r,{children:h.jsx("div",{className:"space-y-4",children:t.products.map((v,x)=>h.jsx("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"font-medium",children:g(v.productId)}),h.jsxs("div",{className:"text-sm text-muted-foreground",children:["Cantidad: ",v.quantity]})]})},x))})})]})]}):h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Orden no encontrada"})})};var n2="Collapsible",[Z0e,ege]=oi(n2),[J0e,a2]=Z0e(n2),kj=N.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:s,onOpenChange:o,...c}=e,[u=!1,f]=bd({prop:n,defaultProp:a,onChange:o});return h.jsx(J0e,{scope:r,disabled:s,contentId:Jo(),open:u,onOpenToggle:N.useCallback(()=>f(m=>!m),[f]),children:h.jsx(Ht.div,{"data-state":i2(u),"data-disabled":s?"":void 0,...c,ref:t})})});kj.displayName=n2;var Rj="CollapsibleTrigger",Dj=N.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=a2(Rj,r);return h.jsx(Ht.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":i2(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:nt(e.onClick,a.onOpenToggle)})});Dj.displayName=Rj;var s2="CollapsibleContent",Ij=N.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=a2(s2,e.__scopeCollapsible);return h.jsx(Qn,{present:r||a.open,children:({present:s})=>h.jsx(eme,{...n,ref:t,present:s})})});Ij.displayName=s2;var eme=N.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...s}=e,o=a2(s2,r),[c,u]=N.useState(n),f=N.useRef(null),m=rr(t,f),g=N.useRef(0),v=g.current,x=N.useRef(0),y=x.current,w=o.open||c,b=N.useRef(w),S=N.useRef(void 0);return N.useEffect(()=>{const T=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(T)},[]),Zi(()=>{const T=f.current;if(T){S.current=S.current||{transitionDuration:T.style.transitionDuration,animationName:T.style.animationName},T.style.transitionDuration="0s",T.style.animationName="none";const E=T.getBoundingClientRect();g.current=E.height,x.current=E.width,b.current||(T.style.transitionDuration=S.current.transitionDuration,T.style.animationName=S.current.animationName),u(n)}},[o.open,n]),h.jsx(Ht.div,{"data-state":i2(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!w,...s,ref:m,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:w&&a})});function i2(e){return e?"open":"closed"}var tme=kj;const o2=tme,l2=Dj,c2=Ij,Oj=({value:e,unit:t,onQuantityChange:r,onClick:n})=>{const[a,s]=M.useState(!1),o=M.useRef(null);return M.useEffect(()=>{a&&o.current&&o.current.focus()},[a]),a?h.jsxs("div",{className:"flex items-center bg-transparent",children:[h.jsx(dn,{ref:o,type:"number",min:"1",className:"h-10 w-20 text-left pl-0 border-0 text-lg font-bold text-blue-600 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0",defaultValue:"",onBlur:c=>{const u=Number(c.target.value);u>0&&r(u),s(!1)},onKeyDown:c=>{c.key==="Enter"&&c.target.blur(),c.key==="Escape"&&s(!1)},onClick:c=>c.stopPropagation()}),h.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(t==null?void 0:t.name)||(t==null?void 0:t.symbol)})]}):h.jsxs("button",{type:"button",className:"flex items-center gap-2 text-left",onClick:c=>{c.stopPropagation(),s(!0),n==null||n(c)},children:[h.jsx("span",{className:"text-lg font-bold text-blue-600",children:e}),h.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(t==null?void 0:t.name)||(t==null?void 0:t.symbol)})]})},hD=()=>{var ne,se;const{id:e}=Pt(),t=cr(),[r,n]=M.useState(!0),[a,s]=M.useState(!1),[o,c]=M.useState(!e),[u,f]=M.useState([]),[m,g]=M.useState([]),[v,x]=M.useState([]),[y,w]=M.useState(""),[b,S]=M.useState(1),[T,E]=M.useState([]),[A,k]=M.useState(""),[D,R]=M.useState({orderDate:new Date,supplierId:"",products:[]}),P=M.useCallback(L=>{if(!D.supplierId){E([]);return}const oe=m.filter(le=>le.primarySupplierId===D.supplierId&&le.name.toLowerCase().includes(L.toLowerCase())).sort((le,W)=>le.name.localeCompare(W.name));E(oe)},[m,D.supplierId]);M.useEffect(()=>{P(A)},[P,A,D.supplierId]),M.useEffect(()=>{I()},[e]);const I=async()=>{try{const[L,oe,le]=await Promise.all([new ua().findAll(),new _r().findAll(),new zr().findAll()]);if(f(L.map(W=>({id:W.id,commercialName:W.commercialName}))),g(oe),x(le),e){const V=await new ni().findById(e);if(V){const ce=V.orderDate instanceof Date?V.orderDate:new Date(V.orderDate);R({...V,orderDate:isNaN(ce.getTime())?new Date:ce})}}}catch(L){console.error("Error loading data:",L),dt.error("Error al cargar los datos")}finally{n(!1)}},B=()=>{var oe;if(!y)return;if(b<=0){dt.error("La cantidad debe ser mayor a 0");return}const L=(oe=D.products)==null?void 0:oe.findIndex(le=>le.productId===y);if(L!==void 0&&L>=0){const le=[...D.products||[]];le[L].quantity+=b,R(W=>({...W,products:le}))}else R(le=>({...le,products:[...le.products||[],{productId:y,quantity:b}]}));w(""),S(1)},H=L=>{R(oe=>{var le;return{...oe,products:(le=oe.products)==null?void 0:le.filter((W,V)=>V!==L)}})},z=async L=>{var oe;if(L.preventDefault(),!D.supplierId){dt.error("Debe seleccionar un proveedor");return}if(!((oe=D.products)!=null&&oe.length)){dt.error("Debe agregar al menos un producto");return}s(!0);try{const le=new ni,W={...D,orderDate:D.orderDate||new Date};e?(await le.update(e,W),dt.success("Orden actualizada correctamente")):(await le.create(W),dt.success("Orden creada correctamente")),t("/mobile/purchases")}catch(le){console.error("Error saving order:",le),dt.error("Error al guardar la orden")}finally{s(!1)}},G=()=>{try{if(!D.orderDate)return Pr(new Date,"yyyy-MM-dd");const L=D.orderDate instanceof Date?D.orderDate:new Date(D.orderDate);return isNaN(L.getTime())?Pr(new Date,"yyyy-MM-dd"):Pr(L,"yyyy-MM-dd")}catch(L){return console.error("Error formatting date:",L),Pr(new Date,"yyyy-MM-dd")}};return r?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):h.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:h.jsxs("form",{onSubmit:z,className:"p-4 space-y-4 max-w-lg mx-auto",children:[h.jsx(o2,{open:o,onOpenChange:c,children:h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>c(!o),children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-sm font-bold uppercase",children:"INFORMACIÓN GENERAL"}),!o&&h.jsx("span",{className:"text-xs text-gray-500",children:D.supplierId?(ne=u.find(L=>L.id===D.supplierId))==null?void 0:ne.commercialName:"Sin asignar"})]}),h.jsx(l2,{asChild:!0,children:h.jsx(ze,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:o?h.jsx(kw,{className:"h-4 w-4"}):h.jsx(Aw,{className:"h-4 w-4"})})})]}),h.jsx(c2,{children:h.jsxs("div",{className:"p-4 space-y-4 border-t",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(_s,{htmlFor:"orderDate",className:"text-sm text-gray-600",children:"Fecha de Orden"}),h.jsx(p0,{value:G(),onChange:L=>{if(!L)return;const oe=new Date(L);R(le=>({...le,orderDate:oe}))},className:"w-full"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(_s,{htmlFor:"supplierId",className:"text-sm text-gray-600",children:"Proveedor"}),h.jsxs("select",{id:"supplierId",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:D.supplierId,onChange:L=>R(oe=>({...oe,supplierId:L.target.value})),children:[h.jsx("option",{value:"",children:"Seleccionar proveedor"}),u.map(L=>h.jsx("option",{value:L.id,children:L.commercialName},L.id))]})]})]})})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow-sm border px-4 py-2",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs("span",{className:"text-sm text-gray-500",children:[((se=D.products)==null?void 0:se.length)||0," productos • ",(D.products||[]).reduce((L,oe)=>L+oe.quantity,0)," items"]})}),h.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(D.products||[]).reduce((L,oe)=>{const le=m.find(W=>W.id===oe.productId);return L+((le==null?void 0:le.purchasePrice)||0)*oe.quantity},0).toFixed(2)]})]})}),h.jsx("div",{className:"space-y-4",children:D.supplierId?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative",children:[h.jsx(dn,{type:"text",placeholder:"Buscar productos...",className:"w-full pl-9",value:A,onChange:L=>k(L.target.value)}),h.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("path",{d:"m21 21-4.3-4.3"})]})]}),h.jsx("div",{className:"grid grid-cols-1 gap-2",children:T.map(L=>{var le;const oe=(le=D.products)==null?void 0:le.find(W=>W.productId===L.id);return h.jsx("div",{className:`w-full bg-white rounded-lg border shadow-sm cursor-pointer transition-all relative ${oe?"border-primary ring-1 ring-primary":"hover:bg-gray-50/50"}`,onClick:W=>{W.target.tagName},onDoubleClick:()=>{var W;oe?H(((W=D.products)==null?void 0:W.findIndex(V=>V.productId===L.id))||0):(w(L.id),S(1),B())},children:h.jsxs("div",{className:"p-4",children:[h.jsx("span",{className:"absolute top-0 right-0 w-6 h-6 flex items-center justify-center text-xs font-medium text-white rounded-bl-lg bg-purple-500",children:"P"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Sd,{checked:oe!==void 0,onCheckedChange:W=>{var V;W?(w(L.id),S(1),B()):H(((V=D.products)==null?void 0:V.findIndex(ce=>ce.productId===L.id))||0)},className:"h-5 w-5"}),h.jsx("div",{className:"flex-1",children:h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("span",{className:"font-medium text-base",children:L.name})})})]}),oe&&h.jsx("div",{className:"mt-3",children:h.jsxs("div",{className:"ml-8 space-y-2",children:[h.jsx(Oj,{value:oe.quantity,unit:v.find(W=>W.id===L.purchaseUnitId),onQuantityChange:W=>{const V=[...D.products||[]],ce=V.findIndex(j=>j.productId===L.id);ce>=0&&(V[ce].quantity=W,R(j=>({...j,products:V})))}}),h.jsxs("div",{className:"flex justify-between items-center text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Costo unitario:"}),h.jsxs("span",{className:"font-medium",children:["$",Number(L.purchasePrice||0).toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600",children:"Total:"}),h.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(Number(L.purchasePrice||0)*oe.quantity).toFixed(2)]})]})]})})]})},L.id)})}),T.length===0&&h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h.jsx("p",{children:"No hay productos disponibles para este proveedor"})})]}):h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h.jsx("p",{children:"Seleccione un proveedor para ver los productos disponibles"})})}),h.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:h.jsxs("div",{className:"flex flex-col gap-2 max-w-lg mx-auto",children:[h.jsx(ze,{type:"submit",disabled:a,className:"h-11",children:a?"Guardando...":e?"Guardar Cambios":"Crear Orden"}),h.jsx(ze,{type:"button",variant:"secondary",onClick:()=>t(-1),disabled:a,className:"h-11",children:"Cancelar"})]})})]})})},rme=()=>{const{id:e}=Pt(),t=cr(),r=async()=>{if(e)try{await new ni().delete(e),t("/mobile/purchases")}catch(a){console.error("Error deleting order:",a)}},n=()=>{t(-1)};return h.jsx("div",{className:"p-4",children:h.jsx(yr,{children:h.jsx($r,{className:"pt-6",children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-center",children:"¿Está seguro que desea eliminar esta orden de compra?"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx(ze,{variant:"destructive",onClick:r,className:"w-full",children:"Eliminar"}),h.jsx(ze,{variant:"outline",onClick:n,className:"w-full",children:"Cancelar"})]})]})})})})},nme=()=>{const[e,t]=M.useState([]),[r,n]=M.useState([]),[a,s]=M.useState([]),[o,c]=M.useState([]),[u,f]=M.useState([]),[m,g]=M.useState(!0),[v,x]=M.useState(!1),y=cr(),w=new Es;M.useEffect(()=>{b()},[]);const b=async()=>{try{const[R,P,I,B,H]=await Promise.all([w.findAll(),new li().findAll(),new _r().findAll(),new mn().findAll(),new ua().findAll()]),z=R.sort((G,ne)=>{const se=new Date(G.orderDate).getTime();return new Date(ne.orderDate).getTime()-se});t(z),n(P),s(I),c(B),f(H)}catch(R){console.error("Error loading data:",R)}finally{g(!1)}},S=R=>{try{if(!R)return"Fecha no disponible";let P;if(R instanceof Date)P=R;else if(typeof R=="string")P=pl(R);else if(typeof R=="object"&&"seconds"in R)P=new Date(R.seconds*1e3);else throw new Error("Invalid date format");return isNaN(P.getTime())?"Fecha inválida":Pr(P,"PPP",{locale:Yi})}catch(P){return console.error("Error formatting date:",P),"Fecha no disponible"}},T=R=>{const P=r.find(I=>I.id===R);return(P==null?void 0:P.name)||"No asignado"},E=(R,P)=>{const I=document.querySelector('[role="dialog"]');if(I){const B=I.querySelector('button[data-state="open"]');B&&B instanceof HTMLButtonElement&&B.click()}switch(R){case"view":y(`/mobile/orders/${P.id}/view`);break;case"edit":y(`/mobile/orders/${P.id}/edit`);break;case"delete":y(`/mobile/orders/${P.id}/delete`);break}},A=()=>{y("/mobile/orders/new")},k=R=>{y(`/mobile/orders/new?copy=${R}`)},D=R=>{y(`/mobile/orders/new?calculate=${R}`)};return m?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):h.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs(ze,{className:"w-full flex items-center gap-2",onClick:()=>x(!0),children:[h.jsx(Qs,{className:"h-4 w-4"}),"Nuevo Pedido"]}),h.jsx(r2,{open:v,onClose:()=>x(!1),onCreateEmpty:A,onCreateFromCopy:k,onCreateCalculated:D,orderType:"customer",customers:r}),h.jsxs("div",{className:"space-y-4",children:[e.map(R=>{var P;return h.jsxs(Dc,{children:[h.jsx(j_,{asChild:!0,children:h.jsx(yr,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:h.jsx($r,{className:"p-4",children:h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("span",{className:"font-medium",children:["Pedido #",R.nro]}),h.jsx("span",{className:"text-sm text-muted-foreground",children:S(R.orderDate)})]}),h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Cd(R.status)}`,children:As[R.status]})]}),h.jsxs("div",{className:"text-sm text-muted-foreground",children:["Cliente: ",T(R.customerId)]}),h.jsxs("div",{className:"text-sm text-muted-foreground",children:["Totales: ",R.totalProducts," / ",R.totalItems]})]})})})}),h.jsxs(xl,{className:"sm:max-w-[425px]",children:[h.jsx(yl,{children:h.jsx(bl,{children:h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("span",{children:["Pedido #",R.nro]}),h.jsx("span",{className:"text-sm font-normal text-gray-500",children:S(R.orderDate)})]})})}),h.jsx(t2,{onView:()=>E("view",R),onEdit:()=>E("edit",R),onDelete:()=>E("delete",R),onShare:()=>{},order:R,type:"customer",customerName:T(R.customerId),customerPhone:(P=r.find(I=>I.id===R.customerId))==null?void 0:P.phone,products:a,recipes:o})]})]},R.id)}),e.length===0&&h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h.jsx("p",{children:"No hay pedidos"})})]})]})})},ame=()=>{const{id:e}=Pt(),[t,r]=M.useState(null),[n,a]=M.useState([]),[s,o]=M.useState([]),[c,u]=M.useState([]),[f,m]=M.useState(!0);M.useEffect(()=>{(async()=>{if(e)try{const[w,b,S,T]=await Promise.all([new Es().findById(e),new li().findAll(),new _r().findAll(),new mn().findAll()]);r(w),a(b),o(S),u(T)}catch(w){console.error("Error loading data:",w)}finally{m(!1)}})()},[e]);const g=y=>{try{if(!y)return"Fecha no disponible";let w;if(y instanceof Date)w=y;else if(typeof y=="string")w=pl(y);else if(typeof y=="object"&&"seconds"in y)w=new Date(y.seconds*1e3);else throw new Error("Invalid date format");return isNaN(w.getTime())?"Fecha inválida":Pr(w,"PPP",{locale:Yi})}catch(w){return console.error("Error formatting date:",w),"Fecha no disponible"}},v=y=>{const w=n.find(b=>b.id===y);return(w==null?void 0:w.name)||"No asignado"},x=(y,w)=>{if(w===_t.PRODUCTO){const b=s.find(S=>S.id===y);return(b==null?void 0:b.name)||"Producto no encontrado"}else{const b=c.find(S=>S.id===y);return(b==null?void 0:b.name)||"Receta no encontrada"}};return f?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):t?h.jsxs("div",{className:"p-2 space-y-3 max-w-full",children:[h.jsxs(yr,{className:"w-full",children:[h.jsx(ia,{className:"pb-2",children:h.jsx(oa,{className:"text-lg",children:"Información General"})}),h.jsxs($r,{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Pedido"}),h.jsxs("span",{className:"text-sm font-medium",children:["#",t.nro]})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Estado"}),h.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Cd(t.status)}`,children:As[t.status]})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Fecha del Pedido"}),h.jsx("span",{className:"text-sm",children:g(t.orderDate)})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Cliente"}),h.jsx("span",{className:"text-sm text-right",children:v(t.customerId)})]})]})]}),t.items&&t.items.length>0&&h.jsxs(yr,{className:"w-full",children:[h.jsx(ia,{className:"pb-2",children:h.jsx(oa,{className:"text-lg",children:"Items"})}),h.jsx($r,{children:h.jsx("div",{className:"space-y-3",children:t.items.map((y,w)=>h.jsx("div",{className:"p-3 rounded-lg bg-muted/30",children:h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"font-medium text-base break-words",children:x(y.itemId,y.typeItem)}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Cantidad:"}),h.jsx("span",{className:"text-sm font-medium",children:y.quantity})]})]})},w))})})]})]}):h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Pedido no encontrado"})})},sme=({value:e,unit:t,onQuantityChange:r,onClick:n})=>{const[a,s]=M.useState(!1),o=M.useRef(null);return M.useEffect(()=>{a&&o.current&&o.current.focus()},[a]),a?h.jsxs("div",{className:"flex items-center bg-transparent",children:[h.jsx(dn,{ref:o,type:"number",min:"1",className:"h-10 w-20 text-left pl-0 border-0 text-lg font-bold text-blue-600 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0",defaultValue:"",onBlur:c=>{const u=Number(c.target.value);u>0&&r(u),s(!1)},onKeyDown:c=>{c.key==="Enter"&&c.target.blur(),c.key==="Escape"&&s(!1)},onClick:c=>c.stopPropagation()}),h.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(t==null?void 0:t.name)||(t==null?void 0:t.symbol)})]}):h.jsxs("button",{type:"button",className:"flex items-center gap-2 text-left",onClick:c=>{c.stopPropagation(),s(!0),n==null||n(c)},children:[h.jsx("span",{className:"text-lg font-bold text-blue-600",children:e}),h.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(t==null?void 0:t.name)||(t==null?void 0:t.symbol)})]})},mD=()=>{var Q,re,be,Ee;const{id:e}=Pt(),[t]=Fg(),r=t.get("copy"),n=t.get("calculate"),a=cr(),[s,o]=M.useState(!0),[c,u]=M.useState(!1),[f,m]=M.useState(!e),[g,v]=M.useState([]),[x,y]=M.useState([]),[w,b]=M.useState([]),[S,T]=M.useState([]),[E,A]=M.useState(""),[k,D]=M.useState(""),[R,P]=M.useState(1),[I,B]=M.useState(1),[H,z]=M.useState({orderDate:new Date,customerId:"",items:[],totalItems:0,totalProducts:0,status:et.PENDIENTE}),[G,ne]=M.useState([]),[se,L]=M.useState(""),oe=M.useCallback(ue=>{if(!H.customerId){ne([]);return}const me=w.filter(Y=>Y.name.toLowerCase().includes(ue.toLowerCase())).map(Y=>({...Y,type:"recipe"})),Ae=x.filter(Y=>Y.name.toLowerCase().includes(ue.toLowerCase())).map(Y=>({...Y,type:"product"}));ne([...me,...Ae])},[w,x,H.customerId]);M.useEffect(()=>{oe(se)},[oe,se,H.customerId]);const le=M.useCallback(async()=>{try{const[ue,me,Ae,Y]=await Promise.all([new li().findAll(),new _r().findAll(),new mn().findAll(),new zr().findAll()]);if(v(ue),y(me),b(Ae),T(Y),ne([...Ae.map(He=>({...He,type:"recipe"})),...me.map(He=>({...He,type:"product"}))]),e){const Ce=await new Es().findById(e);Ce&&z({...Ce,orderDate:Ce.orderDate instanceof Date?Ce.orderDate:new Date(Ce.orderDate)})}else if(r){const Ce=await new Es().findById(r);Ce&&z({...Ce,id:void 0,orderDate:new Date,status:et.PENDIENTE,items:[],totalItems:0,totalProducts:0})}else if(n&&await new ua().findById(n)){const Ge=x.filter($e=>$e.primarySupplierId===n);z({orderDate:new Date,status:et.PENDIENTE,items:Ge.filter($e=>$e.id).map($e=>({itemId:$e.id,quantity:0,typeItem:_t.PRODUCTO})),totalItems:0,totalProducts:Ge.length})}}catch(ue){console.error("Error loading data:",ue),dt.error("Error al cargar los datos")}finally{o(!1)}},[e,r,n]);M.useEffect(()=>{le()},[le]);const W=()=>{var Ae;if(!E)return;if(R<=0){dt.error("La cantidad debe ser mayor a 0");return}const ue={itemId:E,quantity:R,typeItem:_t.PRODUCTO},me=((Ae=H.items)==null?void 0:Ae.findIndex(Y=>Y.itemId===E&&Y.typeItem===_t.PRODUCTO))??-1;if(me>=0){const Y=[...H.items||[]];Y[me].quantity+=R,z(He=>({...He,items:Y}))}else z(Y=>({...Y,items:[...Y.items||[],ue]}));A(""),P(1)},V=()=>{var Ae;if(!k)return;if(I<=0){dt.error("La cantidad debe ser mayor a 0");return}const ue={itemId:k,quantity:I,typeItem:_t.RECETA},me=((Ae=H.items)==null?void 0:Ae.findIndex(Y=>Y.itemId===k&&Y.typeItem===_t.RECETA))??-1;if(me>=0){const Y=[...H.items||[]];Y[me].quantity+=I,z(He=>({...He,items:Y}))}else z(Y=>({...Y,items:[...Y.items||[],ue]}));D(""),B(1)},ce=ue=>{z(me=>{var Ae;return{...me,items:(Ae=me.items)==null?void 0:Ae.filter((Y,He)=>He!==ue)}})},j=ue=>{z(me=>{var Ae;return{...me,items:(Ae=me.items)==null?void 0:Ae.filter((Y,He)=>He!==ue)}})},ee=async ue=>{var me;if(ue.preventDefault(),!H.customerId){dt.error("Debe seleccionar un cliente");return}if(!((me=H.items)!=null&&me.length)){dt.error("Debe agregar al menos un producto o receta");return}u(!0);try{const Ae=new Es,Y=H.items||[],He=Y.reduce(($e,Oe)=>$e+Oe.quantity,0),Ce=Y.length,Ge={customerId:H.customerId,orderDate:H.orderDate instanceof Date?H.orderDate:new Date(H.orderDate||new Date),status:H.status,items:Y,totalItems:He,totalProducts:Ce};e?(await Ae.update(e,Ge),dt.success("Pedido actualizado correctamente")):(await Ae.create(Ge),dt.success("Pedido creado correctamente")),a("/mobile/orders")}catch(Ae){console.error("Error saving order:",Ae),dt.error("Error al guardar el pedido")}finally{u(!1)}},K=()=>{try{if(!H.orderDate)return Pr(new Date,"yyyy-MM-dd");const ue=H.orderDate instanceof Date?H.orderDate:new Date(H.orderDate);return isNaN(ue.getTime())?Pr(new Date,"yyyy-MM-dd"):Pr(ue,"yyyy-MM-dd")}catch(ue){return console.error("Error formatting date:",ue),Pr(new Date,"yyyy-MM-dd")}};return s?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):h.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:h.jsxs("form",{onSubmit:ee,className:"p-4 space-y-4 max-w-lg mx-auto",children:[h.jsx(o2,{open:f,onOpenChange:m,children:h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>m(!f),children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-sm font-bold uppercase",children:"INFORMACIÓN GENERAL"}),!f&&h.jsxs("span",{className:"text-xs text-gray-500",children:[H.customerId?(Q=g.find(ue=>ue.id===H.customerId))==null?void 0:Q.name:"Sin asignar"," • ",H.orderDate?(()=>{try{const ue=H.orderDate instanceof Date?H.orderDate:new Date(H.orderDate);return isNaN(ue.getTime())?"":Pr(ue,"dd/MM/yyyy")}catch(ue){return console.error("Error formatting date:",ue),""}})():""]})]}),h.jsx(l2,{asChild:!0,children:h.jsx(ze,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:f?h.jsx(kw,{className:"h-4 w-4"}):h.jsx(Aw,{className:"h-4 w-4"})})})]}),h.jsx(c2,{children:h.jsxs("div",{className:"p-4 space-y-4 border-t",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(_s,{htmlFor:"orderDate",className:"text-sm text-gray-600",children:"FECHA DEL PEDIDO"}),h.jsx(p0,{value:K(),onChange:ue=>{if(!ue)return;const me=new Date(ue);z(Ae=>({...Ae,orderDate:me}))},className:"w-full"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(_s,{htmlFor:"customerId",className:"text-sm text-gray-600",children:"CLIENTE"}),h.jsxs("select",{id:"customerId",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:H.customerId,onChange:ue=>z(me=>({...me,customerId:ue.target.value})),children:[h.jsx("option",{value:"",children:"Seleccionar cliente"}),g.map(ue=>h.jsx("option",{value:ue.id,children:ue.name},ue.id))]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(_s,{htmlFor:"status",className:"text-sm text-gray-600",children:"ESTADO"}),h.jsxs("select",{id:"status",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:H.status,onChange:ue=>z(me=>({...me,status:ue.target.value})),children:[h.jsx("option",{value:et.PENDIENTE,children:"Pendiente"}),h.jsx("option",{value:et.ENVIADA,children:"Enviada"}),h.jsx("option",{value:et.COMPLETADA,children:"Completada"}),h.jsx("option",{value:et.CANCELADA,children:"Cancelada"})]})]})]})})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow-sm border px-4 py-2",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs("span",{className:"text-sm text-gray-500",children:[((re=H.items)==null?void 0:re.length)||0," productos • ",((be=H.items)==null?void 0:be.filter(ue=>ue.typeItem===_t.RECETA).length)||0," recetas • ",H.totalItems," items"]})}),h.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(Ee=H.items)==null?void 0:Ee.reduce((ue,me)=>{if(me.typeItem===_t.RECETA){const Ae=w.find(Y=>Y.id===me.itemId);return ue+me.quantity*((Ae==null?void 0:Ae.unitCost)??0)}else{const Ae=x.find(Y=>Y.id===me.itemId);return ue+me.quantity*((Ae==null?void 0:Ae.purchasePrice)??0)}},0).toFixed(2)]})]})}),h.jsx("div",{className:"space-y-4",children:H.customerId?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative",children:[h.jsx(dn,{type:"text",placeholder:"Buscar productos o recetas...",className:"w-full pl-9",value:se,onChange:ue=>L(ue.target.value)}),h.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("path",{d:"m21 21-4.3-4.3"})]})]}),h.jsx("div",{className:"grid grid-cols-1 gap-2",children:G.map(ue=>{var Y,He;const me=ue.type==="recipe",Ae=ue.type==="recipe"?(Y=H.items)==null?void 0:Y.find(Ce=>Ce.itemId===ue.id&&Ce.typeItem===_t.RECETA):(He=H.items)==null?void 0:He.find(Ce=>Ce.itemId===ue.id&&Ce.typeItem===_t.PRODUCTO);return h.jsx("div",{className:`w-full bg-white rounded-lg border shadow-sm cursor-pointer transition-all relative ${Ae?"border-primary ring-1 ring-primary":"hover:bg-gray-50/50"}`,onClick:Ce=>{Ce.target.tagName},onDoubleClick:()=>{var Ce,Ge;Ae?me?j(((Ce=H.items)==null?void 0:Ce.findIndex($e=>$e.itemId===ue.id&&$e.typeItem===_t.RECETA))||0):ce(((Ge=H.items)==null?void 0:Ge.findIndex($e=>$e.itemId===ue.id&&$e.typeItem===_t.PRODUCTO))||0):me?ue.id&&(D(ue.id),B(1),V()):ue.id&&(A(ue.id),P(1),W())},children:h.jsxs("div",{className:"p-4",children:[h.jsx("span",{className:`absolute top-0 right-0 w-6 h-6 flex items-center justify-center text-xs font-medium text-white rounded-bl-lg ${me?"bg-blue-500":"bg-purple-500"}`,children:me?"R":"P"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Sd,{checked:Ae!==void 0,onCheckedChange:Ce=>{var Ge,$e;Ce?me?ue.id&&(D(ue.id),B(1),V()):ue.id&&(A(ue.id),P(1),W()):me?j(((Ge=H.items)==null?void 0:Ge.findIndex(Oe=>Oe.itemId===ue.id&&Oe.typeItem===_t.RECETA))||0):ce((($e=H.items)==null?void 0:$e.findIndex(Oe=>Oe.itemId===ue.id&&Oe.typeItem===_t.PRODUCTO))||0)},className:"h-5 w-5"}),h.jsx("div",{className:"flex-1",children:h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("span",{className:"font-medium text-base",children:ue.name})})})]}),Ae&&h.jsx("div",{className:"mt-3",children:h.jsxs("div",{className:"ml-8 space-y-2",children:[h.jsx(sme,{value:Ae.quantity,unit:(()=>{const Ce=me?S.find(Ge=>Ge.id===ue.yieldUnitId):S.find(Ge=>Ge.id===ue.salesUnitId);return Ce&&{id:String(Ce.id),symbol:String(Ce.symbol),name:String(Ce.name)}})(),onQuantityChange:Ce=>{if(me){const Ge=[...H.items||[]],$e=Ge.findIndex(Oe=>Oe.itemId===ue.id&&Oe.typeItem===_t.RECETA);$e>=0&&(Ge[$e].quantity=Ce,z(Oe=>({...Oe,items:Ge})))}else{const Ge=[...H.items||[]],$e=Ge.findIndex(Oe=>Oe.itemId===ue.id&&Oe.typeItem===_t.PRODUCTO);$e>=0&&(Ge[$e].quantity=Ce,z(Oe=>({...Oe,items:Ge})))}}}),h.jsxs("div",{className:"flex justify-between items-center text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Costo unitario:"}),h.jsxs("span",{className:"font-medium",children:["$",me?Number(ue.unitCost||0).toFixed(2):Number(ue.purchasePrice||0).toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600",children:"Total:"}),h.jsxs("span",{className:"font-semibold text-blue-600",children:["$",me?Number((ue.unitCost||0)*Ae.quantity).toFixed(2):Number((ue.purchasePrice||0)*Ae.quantity).toFixed(2)]})]})]})})]})},`${ue.type}-${ue.id}`)})}),G.length===0&&h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h.jsx("p",{children:"No hay items disponibles que coincidan con la búsqueda"})})]}):h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h.jsx("p",{children:"Seleccione un cliente para ver los productos y recetas disponibles"})})}),h.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:h.jsxs("div",{className:"flex flex-col gap-2 max-w-lg mx-auto",children:[h.jsx(ze,{type:"submit",disabled:c,className:"h-11",children:c?"Guardando...":e?"Guardar Cambios":"Crear Pedido"}),h.jsx(ze,{type:"button",variant:"secondary",onClick:()=>a(-1),disabled:c,className:"h-11",children:"Cancelar"})]})})]})})},ime=()=>{const{id:e}=Pt(),t=cr(),r=async()=>{if(e)try{await new Es().delete(e),t("/mobile/orders")}catch(a){console.error("Error deleting order:",a)}},n=()=>{t(-1)};return h.jsx("div",{className:"p-4",children:h.jsx(yr,{children:h.jsx($r,{className:"pt-6",children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-center",children:"¿Está seguro que desea eliminar este pedido?"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx(ze,{variant:"destructive",onClick:r,className:"w-full",children:"Eliminar"}),h.jsx(ze,{variant:"outline",onClick:n,className:"w-full",children:"Cancelar"})]})]})})})})},ome=()=>{const[e,t]=M.useState([]),[r,n]=M.useState(!0),[a,s]=M.useState([]),[o,c]=M.useState([]),[u,f]=M.useState(!1),m=cr(),g=new ai,v=new Ia;M.useEffect(()=>{x()},[]);const x=async()=>{try{const[E,A,k]=await Promise.all([g.findAll(),v.findAll(),new mn().findAll()]),D=E.sort((R,P)=>{const I=R.orderDate instanceof Date?R.orderDate:new Date(R.orderDate);return(P.orderDate instanceof Date?P.orderDate:new Date(P.orderDate)).getTime()-I.getTime()});t(D),s(A),c(k)}catch(E){console.error("Error loading data:",E)}finally{n(!1)}},y=E=>{try{if(!E)return"Fecha no disponible";let A;if(E instanceof Date)A=E;else if(typeof E=="string")A=pl(E);else if(typeof E=="object"&&"seconds"in E)A=new Date(E.seconds*1e3);else throw new Error("Invalid date format");return isNaN(A.getTime())?"Fecha inválida":Pr(A,"PPP",{locale:Yi})}catch(A){return console.error("Error formatting date:",A),"Fecha no disponible"}},w=(E,A)=>{const k=document.querySelector('[role="dialog"]');if(k){const D=k.querySelector('button[data-state="open"]');D&&D instanceof HTMLButtonElement&&D.click()}switch(E){case"view":m(`/mobile/production/${A.id}/view`);break;case"edit":m(`/mobile/production/${A.id}/edit`);break;case"delete":m(`/mobile/production/${A.id}/delete`);break}},b=()=>{m("/mobile/production/new")},S=E=>{m(`/mobile/production/new?copy=${E}`)},T=E=>{m(`/mobile/production/new?calculate=${E}`)};return r?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):h.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs(ze,{className:"w-full flex items-center gap-2",onClick:()=>f(!0),children:[h.jsx(Qs,{className:"h-4 w-4"}),"Nueva Orden de Producción"]}),h.jsx(r2,{open:u,onClose:()=>f(!1),onCreateEmpty:b,onCreateFromCopy:S,onCreateCalculated:T,orderType:"production",workers:a}),h.jsxs("div",{className:"space-y-4",children:[e.map(E=>{var A,k,D,R,P;return h.jsxs(Dc,{children:[h.jsx(j_,{asChild:!0,children:h.jsx(yr,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:h.jsx($r,{className:"p-4",children:h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("span",{className:"font-medium",children:["Producción #",E.nro]}),h.jsx("span",{className:"text-sm text-muted-foreground",children:y(E.orderDate)})]}),h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Cd(E.status)}`,children:As[E.status]})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Responsable:"}),h.jsx("span",{className:"font-medium",children:((A=a.find(I=>I.id===E.responsibleWorkerId))==null?void 0:A.name)||"No asignado"})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Recetas:"}),h.jsx("span",{className:"font-medium",children:((k=E.recipes)==null?void 0:k.length)||0})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Total:"}),h.jsx("span",{className:"font-medium",children:((D=E.recipes)==null?void 0:D.reduce((I,B)=>I+(B.quantity||0),0))||0})]})]})]})})})}),h.jsxs(xl,{className:"sm:max-w-[425px]",children:[h.jsx(yl,{children:h.jsx(bl,{children:h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("span",{children:["Producción #",E.nro]}),h.jsx("span",{className:"text-sm font-normal text-gray-500",children:y(E.orderDate)})]})})}),h.jsx(t2,{onView:()=>w("view",E),onEdit:()=>w("edit",E),onDelete:()=>w("delete",E),onShare:()=>{},order:E,type:"production",workerName:(R=a.find(I=>I.id===E.responsibleWorkerId))==null?void 0:R.name,workerPhone:(P=a.find(I=>I.id===E.responsibleWorkerId))==null?void 0:P.phone,recipes:o})]})]},E.id)}),e.length===0&&h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h.jsx("p",{children:"No hay órdenes de producción"})})]})]})})},lme=()=>{var m;const{id:e}=Pt(),[t,r]=M.useState(null),[n,a]=M.useState({}),[s,o]=M.useState({}),[c,u]=M.useState(!0);M.useEffect(()=>{(async()=>{if(e)try{const v=new ai,x=new Ia,y=new mn,[w,b,S]=await Promise.all([v.findById(e),x.findAll(),y.findAll()]);r(w),a(b.reduce((T,E)=>({...T,[E.id]:E.name}),{})),o(S.reduce((T,E)=>({...T,[E.id]:E.name}),{}))}catch(v){console.error("Error loading data:",v)}finally{u(!1)}})()},[e]);const f=g=>{try{if(!g)return"Fecha no disponible";let v;if(g instanceof Date)v=g;else if(typeof g=="string")v=pl(g);else if(typeof g=="object"&&"seconds"in g)v=new Date(g.seconds*1e3);else throw new Error("Invalid date format");return isNaN(v.getTime())?"Fecha inválida":Pr(v,"PPP",{locale:Yi})}catch(v){return console.error("Error formatting date:",v),"Fecha no disponible"}};return c?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):t?h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs(yr,{children:[h.jsx(ia,{children:h.jsx(oa,{children:"Información General"})}),h.jsxs($r,{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Producción"}),h.jsxs("span",{className:"font-medium",children:["#",t.nro]})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-muted-foreground",children:"Estado"}),h.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${Cd(t.status)}`,children:As[t.status]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Fecha de Producción"}),h.jsx("span",{children:f(t.orderDate)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Responsable"}),h.jsx("span",{children:n[t.responsibleWorkerId]||"No asignado"})]})]})]}),h.jsxs(yr,{children:[h.jsx(ia,{children:h.jsx(oa,{children:"Recetas"})}),h.jsx($r,{children:h.jsxs("div",{className:"space-y-4",children:[(m=t.recipes)==null?void 0:m.map((g,v)=>h.jsx("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"font-medium",children:s[g.recipeId]||"Receta no encontrada"}),h.jsxs("div",{className:"text-sm text-muted-foreground",children:["Cantidad: ",g.quantity]})]})},v)),(!t.recipes||t.recipes.length===0)&&h.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No hay recetas asignadas"})]})})]})]}):h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Orden no encontrada"})})},cme=()=>{const{id:e}=Pt(),t=cr(),[r,n]=M.useState(null),[a,s]=M.useState(!0),[o,c]=M.useState(!1),u=new ai;M.useEffect(()=>{(async()=>{if(e)try{const g=await u.findById(e);n(g)}catch(g){console.error("Error loading order:",g),dt.error("Error al cargar la orden")}finally{s(!1)}})()},[e]);const f=async()=>{if(e)try{c(!0),await u.delete(e),dt.success("Orden eliminada correctamente"),t("/mobile/production")}catch(m){console.error("Error deleting order:",m),dt.error("Error al eliminar la orden")}finally{c(!1)}};return a?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):r?h.jsx("div",{className:"p-4",children:h.jsxs(yr,{children:[h.jsx(ia,{children:h.jsx(oa,{className:"text-center text-red-500",children:"¿Estás seguro de eliminar esta orden?"})}),h.jsx($r,{className:"space-y-4",children:h.jsxs("p",{className:"text-center text-muted-foreground",children:["Esta acción no se puede deshacer. Se eliminará la Orden #",r.nro," y todos sus datos asociados."]})}),h.jsxs(uI,{className:"flex flex-col gap-2",children:[h.jsx(ze,{variant:"danger",className:"w-full",onClick:f,disabled:o,children:o?"Eliminando...":"Sí, eliminar"}),h.jsx(ze,{variant:"secondary",className:"w-full",onClick:()=>t(-1),disabled:o,children:"Cancelar"})]})]})}):h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Orden no encontrada"})})},pD=()=>{var z;const{id:e}=Pt(),t=cr(),[r,n]=M.useState(!0),[a,s]=M.useState(!1),[o,c]=M.useState(!e),[u,f]=M.useState([]),[m,g]=M.useState([]),[v,x]=M.useState([]),[y,w]=M.useState(new Set),[b,S]=M.useState([]),[T,E]=M.useState(""),[A,k]=M.useState({orderDate:new Date,status:et.PENDIENTE,responsibleWorkerId:"",recipes:[]}),D=M.useCallback(G=>{if(!A.responsibleWorkerId){S([]);return}const ne=m.filter(se=>se.primaryWorkerId===A.responsibleWorkerId&&se.name.toLowerCase().includes(G.toLowerCase())).sort((se,L)=>se.name.localeCompare(L.name));S(ne)},[m,A.responsibleWorkerId]);M.useEffect(()=>{D(T)},[D,T,A.responsibleWorkerId]),M.useEffect(()=>{R()},[e]);const R=async()=>{var G;try{const[ne,se,L]=await Promise.all([new Ia().findAll(),new mn().findAll(),new zr().findAll()]);if(f(ne),g(se),x(L),S(se),e){const le=await new ai().findById(e);if(le){k({...le,orderDate:le.orderDate instanceof Date?le.orderDate:new Date(le.orderDate)});const W=new Set((G=le.recipes)==null?void 0:G.map(V=>V.recipeId));w(W)}}}catch(ne){console.error("Error loading data:",ne),dt.error("Error al cargar los datos")}finally{n(!1)}},P=async G=>{if(G.preventDefault(),y.size===0){dt.error("Debe seleccionar al menos una receta");return}s(!0);try{const ne=new ai,se={...A,orderDate:A.orderDate};e?(await ne.update(e,se),dt.success("Orden actualizada correctamente")):(await ne.create(se),dt.success("Orden creada correctamente")),t("/mobile/production")}catch(ne){console.error("Error saving order:",ne),dt.error("Error al guardar la orden")}finally{s(!1)}},I=(G,ne)=>{G&&k(se=>({...se,recipes:[...(se.recipes||[]).filter(L=>L.recipeId!==G),...ne>0?[{recipeId:G,quantity:ne}]:[]]}))},B=(G,ne=1)=>{w(se=>{const L=new Set(se);return L.has(G)?(L.delete(G),I(G,0)):(L.add(G),I(G,ne)),L})},H=()=>{try{return A.orderDate?Pr(A.orderDate,"yyyy-MM-dd"):Pr(new Date,"yyyy-MM-dd")}catch(G){return console.error("Error formatting date:",G),Pr(new Date,"yyyy-MM-dd")}};return r?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):h.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:h.jsxs("form",{onSubmit:P,className:"p-4 space-y-4 max-w-lg mx-auto",children:[h.jsx(o2,{open:o,onOpenChange:c,children:h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>c(!o),children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-sm font-bold uppercase",children:"INFORMACIÓN GENERAL"}),!o&&h.jsx("span",{className:"text-xs text-gray-500",children:A.responsibleWorkerId?(z=u.find(G=>G.id===A.responsibleWorkerId))==null?void 0:z.name:"Sin asignar"})]}),h.jsx(l2,{asChild:!0,children:h.jsx(ze,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:o?h.jsx(kw,{className:"h-4 w-4"}):h.jsx(Aw,{className:"h-4 w-4"})})})]}),h.jsx(c2,{children:h.jsxs("div",{className:"p-4 space-y-4 border-t",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(_s,{htmlFor:"orderDate",className:"text-sm text-gray-600",children:"Fecha de Orden"}),h.jsx(p0,{value:H(),onChange:G=>{if(!G)return;const ne=new Date(G);k(se=>({...se,orderDate:ne}))},className:"w-full"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(_s,{htmlFor:"responsibleWorkerId",className:"text-sm text-gray-600",children:"Responsable"}),h.jsxs("select",{id:"responsibleWorkerId",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:A.responsibleWorkerId,onChange:G=>k(ne=>({...ne,responsibleWorkerId:G.target.value})),children:[h.jsx("option",{value:"",children:"Seleccionar responsable"}),u.map(G=>h.jsx("option",{value:G.id,children:G.name},G.id))]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(_s,{htmlFor:"status",className:"text-sm text-gray-600",children:"Estado"}),h.jsx("select",{id:"status",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:A.status,onChange:G=>k(ne=>({...ne,status:G.target.value})),disabled:!e,children:e?Object.values(et).map(G=>h.jsx("option",{value:G,children:As[G]},G)):h.jsx("option",{value:et.PENDIENTE,children:As[et.PENDIENTE]})})]})]})})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow-sm border px-4 py-2",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs("span",{className:"text-sm text-gray-500",children:[y.size," recetas • ",(A.recipes||[]).reduce((G,ne)=>G+ne.quantity,0)," items"]})}),h.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(A.recipes||[]).reduce((G,ne)=>{const se=m.find(L=>L.id===ne.recipeId);return G+((se==null?void 0:se.cost)||0)*ne.quantity},0).toFixed(2)]})]})}),h.jsx("div",{className:"space-y-4",children:A.responsibleWorkerId?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative",children:[h.jsx(dn,{type:"text",placeholder:"Buscar recetas...",className:"w-full pl-9",value:T,onChange:G=>E(G.target.value)}),h.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("path",{d:"m21 21-4.3-4.3"})]})]}),h.jsx("div",{className:"grid grid-cols-1 gap-3",children:b.map(G=>{var L;const ne=y.has(G.id),se=(L=A.recipes)==null?void 0:L.find(oe=>oe.recipeId===G.id);return h.jsx("div",{className:`w-full bg-white rounded-lg border shadow-sm cursor-pointer transition-all relative ${ne?"border-primary ring-1 ring-primary":"hover:bg-gray-50/50"}`,onClick:oe=>{oe.target.tagName},onDoubleClick:()=>{ne?(I(G.id,0),w(oe=>{const le=new Set(oe);return le.delete(G.id),le})):B(G.id,1)},children:h.jsxs("div",{className:"p-4",children:[h.jsx("span",{className:"absolute top-0 right-0 w-6 h-6 flex items-center justify-center text-xs font-medium text-white rounded-bl-lg bg-blue-500",children:"R"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Sd,{checked:ne,onCheckedChange:oe=>{oe?B(G.id,1):(I(G.id,0),w(le=>{const W=new Set(le);return W.delete(G.id),W}))},className:"h-5 w-5"}),h.jsx("div",{className:"flex-1",children:h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("span",{className:"font-medium text-base",children:G.name})})})]}),se&&h.jsx("div",{className:"mt-3",children:h.jsxs("div",{className:"ml-8 space-y-2",children:[h.jsx(Oj,{value:se.quantity,unit:v.find(oe=>oe.id===G.yieldUnitId),onQuantityChange:oe=>{const le=[...A.recipes||[]],W=le.findIndex(V=>V.recipeId===G.id);W>=0&&(le[W].quantity=oe,k(V=>({...V,recipes:le})))}}),h.jsxs("div",{className:"flex justify-between items-center text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Costo unitario:"}),h.jsxs("span",{className:"font-medium",children:["$",(G.cost||0).toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600",children:"Total:"}),h.jsxs("span",{className:"font-semibold text-blue-600",children:["$",((G.cost||0)*se.quantity).toFixed(2)]})]})]})})]})},G.id)})}),b.length===0&&h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h.jsx("p",{children:"No hay recetas disponibles para este trabajador"})})]}):h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h.jsx("p",{children:"Seleccione un trabajador para ver las recetas disponibles"})})}),h.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:h.jsxs("div",{className:"flex flex-col gap-2 max-w-lg mx-auto",children:[h.jsx(ze,{type:"submit",disabled:a||y.size===0,className:"h-11",children:a?"Guardando...":e?"Guardar Cambios":"Crear Orden"}),h.jsx(ze,{type:"button",variant:"secondary",onClick:()=>t(-1),disabled:a,className:"h-11",children:"Cancelar"})]})})]})})},ume=h.jsxs(h.Fragment,{children:[h.jsx(We,{path:"/mobile",element:h.jsx(uw,{})}),h.jsx(We,{path:"/mobile/dashboard",element:h.jsx(uw,{})}),h.jsx(We,{path:"/mobile/purchases",element:h.jsx(K0e,{})}),h.jsx(We,{path:"/mobile/purchases/new",element:h.jsx(hD,{})}),h.jsx(We,{path:"/mobile/purchases/:id/view",element:h.jsx(Q0e,{})}),h.jsx(We,{path:"/mobile/purchases/:id/edit",element:h.jsx(hD,{})}),h.jsx(We,{path:"/mobile/purchases/:id/delete",element:h.jsx(rme,{})}),h.jsx(We,{path:"/mobile/orders",element:h.jsx(nme,{})}),h.jsx(We,{path:"/mobile/orders/new",element:h.jsx(mD,{})}),h.jsx(We,{path:"/mobile/orders/:id/view",element:h.jsx(ame,{})}),h.jsx(We,{path:"/mobile/orders/:id/edit",element:h.jsx(mD,{})}),h.jsx(We,{path:"/mobile/orders/:id/delete",element:h.jsx(ime,{})}),h.jsx(We,{path:"/mobile/production",element:h.jsx(ome,{})}),h.jsx(We,{path:"/mobile/production/new",element:h.jsx(pD,{})}),h.jsx(We,{path:"/mobile/production/:id/view",element:h.jsx(lme,{})}),h.jsx(We,{path:"/mobile/production/:id/edit",element:h.jsx(pD,{})}),h.jsx(We,{path:"/mobile/production/:id/delete",element:h.jsx(cme,{})})]});function Pj(e){const t=e+"CollectionProvider",[r,n]=oi(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:y,children:w}=x,b=M.useRef(null),S=M.useRef(new Map).current;return h.jsx(a,{scope:y,itemMap:S,collectionRef:b,children:w})};o.displayName=t;const c=e+"CollectionSlot",u=M.forwardRef((x,y)=>{const{scope:w,children:b}=x,S=s(c,w),T=rr(y,S.collectionRef);return h.jsx(wc,{ref:T,children:b})});u.displayName=c;const f=e+"CollectionItemSlot",m="data-radix-collection-item",g=M.forwardRef((x,y)=>{const{scope:w,children:b,...S}=x,T=M.useRef(null),E=rr(y,T),A=s(f,w);return M.useEffect(()=>(A.itemMap.set(T,{ref:T,...S}),()=>void A.itemMap.delete(T))),h.jsx(wc,{[m]:"",ref:E,children:b})});g.displayName=f;function v(x){const y=s(e+"CollectionConsumer",x);return M.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const S=Array.from(b.querySelectorAll(`[${m}]`));return Array.from(y.itemMap.values()).sort((A,k)=>S.indexOf(A.ref.current)-S.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},v,n]}var q1="rovingFocusGroup.onEntryFocus",dme={bubbles:!1,cancelable:!0},Pv="RovingFocusGroup",[dw,Mj,fme]=Pj(Pv),[hme,Fj]=oi(Pv,[fme]),[mme,pme]=hme(Pv),jj=N.forwardRef((e,t)=>h.jsx(dw.Provider,{scope:e.__scopeRovingFocusGroup,children:h.jsx(dw.Slot,{scope:e.__scopeRovingFocusGroup,children:h.jsx(gme,{...e,ref:t})})}));jj.displayName=Pv;var gme=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...g}=e,v=N.useRef(null),x=rr(t,v),y=EE(s),[w=null,b]=bd({prop:o,defaultProp:c,onChange:u}),[S,T]=N.useState(!1),E=un(f),A=Mj(r),k=N.useRef(!1),[D,R]=N.useState(0);return N.useEffect(()=>{const P=v.current;if(P)return P.addEventListener(q1,E),()=>P.removeEventListener(q1,E)},[E]),h.jsx(mme,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:w,onItemFocus:N.useCallback(P=>b(P),[b]),onItemShiftTab:N.useCallback(()=>T(!0),[]),onFocusableItemAdd:N.useCallback(()=>R(P=>P+1),[]),onFocusableItemRemove:N.useCallback(()=>R(P=>P-1),[]),children:h.jsx(Ht.div,{tabIndex:S||D===0?-1:0,"data-orientation":n,...g,ref:x,style:{outline:"none",...e.style},onMouseDown:nt(e.onMouseDown,()=>{k.current=!0}),onFocus:nt(e.onFocus,P=>{const I=!k.current;if(P.target===P.currentTarget&&I&&!S){const B=new CustomEvent(q1,dme);if(P.currentTarget.dispatchEvent(B),!B.defaultPrevented){const H=A().filter(L=>L.focusable),z=H.find(L=>L.active),G=H.find(L=>L.id===w),se=[z,G,...H].filter(Boolean).map(L=>L.ref.current);Uj(se,m)}}k.current=!1}),onBlur:nt(e.onBlur,()=>T(!1))})})}),Lj="RovingFocusGroupItem",Bj=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,...o}=e,c=Jo(),u=s||c,f=pme(Lj,r),m=f.currentTabStopId===u,g=Mj(r),{onFocusableItemAdd:v,onFocusableItemRemove:x}=f;return N.useEffect(()=>{if(n)return v(),()=>x()},[n,v,x]),h.jsx(dw.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:h.jsx(Ht.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...o,ref:t,onMouseDown:nt(e.onMouseDown,y=>{n?f.onItemFocus(u):y.preventDefault()}),onFocus:nt(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:nt(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){f.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=yme(y,f.orientation,f.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let S=g().filter(T=>T.focusable).map(T=>T.ref.current);if(w==="last")S.reverse();else if(w==="prev"||w==="next"){w==="prev"&&S.reverse();const T=S.indexOf(y.currentTarget);S=f.loop?bme(S,T+1):S.slice(T+1)}setTimeout(()=>Uj(S))}})})})});Bj.displayName=Lj;var vme={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xme(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function yme(e,t,r){const n=xme(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return vme[n]}function Uj(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function bme(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var wme=jj,_me=Bj,fw=["Enter"," "],Eme=["ArrowDown","PageUp","Home"],Vj=["ArrowUp","PageDown","End"],Sme=[...Eme,...Vj],Cme={ltr:[...fw,"ArrowRight"],rtl:[...fw,"ArrowLeft"]},Tme={ltr:["ArrowLeft"],rtl:["ArrowRight"]},T0="Menu",[qh,Nme,Ame]=Pj(T0),[Bc,Hj]=oi(T0,[Ame,fv,Fj]),Mv=fv(),$j=Fj(),[kme,Uc]=Bc(T0),[Rme,N0]=Bc(T0),zj=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:o=!0}=e,c=Mv(t),[u,f]=N.useState(null),m=N.useRef(!1),g=un(s),v=EE(a);return N.useEffect(()=>{const x=()=>{m.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>m.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),h.jsx(fM,{...c,children:h.jsx(kme,{scope:t,open:r,onOpenChange:g,content:u,onContentChange:f,children:h.jsx(Rme,{scope:t,onClose:N.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:v,modal:o,children:n})})})};zj.displayName=T0;var Dme="MenuAnchor",u2=N.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Mv(r);return h.jsx(hM,{...a,...n,ref:t})});u2.displayName=Dme;var d2="MenuPortal",[Ime,Wj]=Bc(d2,{forceMount:void 0}),qj=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=Uc(d2,t);return h.jsx(Ime,{scope:t,forceMount:r,children:h.jsx(Qn,{present:r||s.open,children:h.jsx(D_,{asChild:!0,container:a,children:n})})})};qj.displayName=d2;var Za="MenuContent",[Ome,f2]=Bc(Za),Gj=N.forwardRef((e,t)=>{const r=Wj(Za,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Uc(Za,e.__scopeMenu),o=N0(Za,e.__scopeMenu);return h.jsx(qh.Provider,{scope:e.__scopeMenu,children:h.jsx(Qn,{present:n||s.open,children:h.jsx(qh.Slot,{scope:e.__scopeMenu,children:o.modal?h.jsx(Pme,{...a,ref:t}):h.jsx(Mme,{...a,ref:t})})})})}),Pme=N.forwardRef((e,t)=>{const r=Uc(Za,e.__scopeMenu),n=N.useRef(null),a=rr(t,n);return N.useEffect(()=>{const s=n.current;if(s)return O4(s)},[]),h.jsx(h2,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:nt(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Mme=N.forwardRef((e,t)=>{const r=Uc(Za,e.__scopeMenu);return h.jsx(h2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),h2=N.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:v,onDismiss:x,disableOutsideScroll:y,...w}=e,b=Uc(Za,r),S=N0(Za,r),T=Mv(r),E=$j(r),A=Nme(r),[k,D]=N.useState(null),R=N.useRef(null),P=rr(t,R,b.onContentChange),I=N.useRef(0),B=N.useRef(""),H=N.useRef(0),z=N.useRef(null),G=N.useRef("right"),ne=N.useRef(0),se=y?I_:N.Fragment,L=y?{as:wc,allowPinchZoom:!0}:void 0,oe=W=>{var be,Ee;const V=B.current+W,ce=A().filter(ue=>!ue.disabled),j=document.activeElement,ee=(be=ce.find(ue=>ue.ref.current===j))==null?void 0:be.textValue,K=ce.map(ue=>ue.textValue),Q=Gme(K,V,ee),re=(Ee=ce.find(ue=>ue.textValue===Q))==null?void 0:Ee.ref.current;(function ue(me){B.current=me,window.clearTimeout(I.current),me!==""&&(I.current=window.setTimeout(()=>ue(""),1e3))})(V),re&&setTimeout(()=>re.focus())};N.useEffect(()=>()=>window.clearTimeout(I.current),[]),C4();const le=N.useCallback(W=>{var ce,j;return G.current===((ce=z.current)==null?void 0:ce.side)&&Xme(W,(j=z.current)==null?void 0:j.area)},[]);return h.jsx(Ome,{scope:r,searchRef:B,onItemEnter:N.useCallback(W=>{le(W)&&W.preventDefault()},[le]),onItemLeave:N.useCallback(W=>{var V;le(W)||((V=R.current)==null||V.focus(),D(null))},[le]),onTriggerLeave:N.useCallback(W=>{le(W)&&W.preventDefault()},[le]),pointerGraceTimerRef:H,onPointerGraceIntentChange:N.useCallback(W=>{z.current=W},[]),children:h.jsx(se,{...L,children:h.jsx(R_,{asChild:!0,trapped:a,onMountAutoFocus:nt(s,W=>{var V;W.preventDefault(),(V=R.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:h.jsx(nv,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:v,onDismiss:x,children:h.jsx(wme,{asChild:!0,...E,dir:S.dir,orientation:"vertical",loop:n,currentTabStopId:k,onCurrentTabStopIdChange:D,onEntryFocus:nt(u,W=>{S.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(mM,{role:"menu","aria-orientation":"vertical","data-state":cL(b.open),"data-radix-menu-content":"",dir:S.dir,...T,...w,ref:P,style:{outline:"none",...w.style},onKeyDown:nt(w.onKeyDown,W=>{const ce=W.target.closest("[data-radix-menu-content]")===W.currentTarget,j=W.ctrlKey||W.altKey||W.metaKey,ee=W.key.length===1;ce&&(W.key==="Tab"&&W.preventDefault(),!j&&ee&&oe(W.key));const K=R.current;if(W.target!==K||!Sme.includes(W.key))return;W.preventDefault();const re=A().filter(be=>!be.disabled).map(be=>be.ref.current);Vj.includes(W.key)&&re.reverse(),Wme(re)}),onBlur:nt(e.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(I.current),B.current="")}),onPointerMove:nt(e.onPointerMove,Gh(W=>{const V=W.target,ce=ne.current!==W.clientX;if(W.currentTarget.contains(V)&&ce){const j=W.clientX>ne.current?"right":"left";G.current=j,ne.current=W.clientX}}))})})})})})})});Gj.displayName=Za;var Fme="MenuGroup",m2=N.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return h.jsx(Ht.div,{role:"group",...n,ref:t})});m2.displayName=Fme;var jme="MenuLabel",Yj=N.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return h.jsx(Ht.div,{...n,ref:t})});Yj.displayName=jme;var Dg="MenuItem",gD="menu.itemSelect",Fv=N.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=N.useRef(null),o=N0(Dg,e.__scopeMenu),c=f2(Dg,e.__scopeMenu),u=rr(t,s),f=N.useRef(!1),m=()=>{const g=s.current;if(!r&&g){const v=new CustomEvent(gD,{bubbles:!0,cancelable:!0});g.addEventListener(gD,x=>n==null?void 0:n(x),{once:!0}),w4(g,v),v.defaultPrevented?f.current=!1:o.onClose()}};return h.jsx(Xj,{...a,ref:u,disabled:r,onClick:nt(e.onClick,m),onPointerDown:g=>{var v;(v=e.onPointerDown)==null||v.call(e,g),f.current=!0},onPointerUp:nt(e.onPointerUp,g=>{var v;f.current||(v=g.currentTarget)==null||v.click()}),onKeyDown:nt(e.onKeyDown,g=>{const v=c.searchRef.current!=="";r||v&&g.key===" "||fw.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Fv.displayName=Dg;var Xj=N.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,o=f2(Dg,r),c=$j(r),u=N.useRef(null),f=rr(t,u),[m,g]=N.useState(!1),[v,x]=N.useState("");return N.useEffect(()=>{const y=u.current;y&&x((y.textContent??"").trim())},[s.children]),h.jsx(qh.ItemSlot,{scope:r,disabled:n,textValue:a??v,children:h.jsx(_me,{asChild:!0,...c,focusable:!n,children:h.jsx(Ht.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:f,onPointerMove:nt(e.onPointerMove,Gh(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:nt(e.onPointerLeave,Gh(y=>o.onItemLeave(y))),onFocus:nt(e.onFocus,()=>g(!0)),onBlur:nt(e.onBlur,()=>g(!1))})})})}),Lme="MenuCheckboxItem",Kj=N.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return h.jsx(tL,{scope:e.__scopeMenu,checked:r,children:h.jsx(Fv,{role:"menuitemcheckbox","aria-checked":Ig(r)?"mixed":r,...a,ref:t,"data-state":g2(r),onSelect:nt(a.onSelect,()=>n==null?void 0:n(Ig(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Kj.displayName=Lme;var Qj="MenuRadioGroup",[Bme,Ume]=Bc(Qj,{value:void 0,onValueChange:()=>{}}),Zj=N.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=un(n);return h.jsx(Bme,{scope:e.__scopeMenu,value:r,onValueChange:s,children:h.jsx(m2,{...a,ref:t})})});Zj.displayName=Qj;var Jj="MenuRadioItem",eL=N.forwardRef((e,t)=>{const{value:r,...n}=e,a=Ume(Jj,e.__scopeMenu),s=r===a.value;return h.jsx(tL,{scope:e.__scopeMenu,checked:s,children:h.jsx(Fv,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":g2(s),onSelect:nt(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});eL.displayName=Jj;var p2="MenuItemIndicator",[tL,Vme]=Bc(p2,{checked:!1}),rL=N.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=Vme(p2,r);return h.jsx(Qn,{present:n||Ig(s.checked)||s.checked===!0,children:h.jsx(Ht.span,{...a,ref:t,"data-state":g2(s.checked)})})});rL.displayName=p2;var Hme="MenuSeparator",nL=N.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return h.jsx(Ht.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});nL.displayName=Hme;var $me="MenuArrow",aL=N.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Mv(r);return h.jsx(pM,{...a,...n,ref:t})});aL.displayName=$me;var zme="MenuSub",[tge,sL]=Bc(zme),Xf="MenuSubTrigger",iL=N.forwardRef((e,t)=>{const r=Uc(Xf,e.__scopeMenu),n=N0(Xf,e.__scopeMenu),a=sL(Xf,e.__scopeMenu),s=f2(Xf,e.__scopeMenu),o=N.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=s,f={__scopeMenu:e.__scopeMenu},m=N.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return N.useEffect(()=>m,[m]),N.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),u(null)}},[c,u]),h.jsx(u2,{asChild:!0,...f,children:h.jsx(Xj,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":cL(r.open),...e,ref:rv(t,a.onTriggerChange),onClick:g=>{var v;(v=e.onClick)==null||v.call(e,g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:nt(e.onPointerMove,Gh(g=>{s.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:nt(e.onPointerLeave,Gh(g=>{var x,y;m();const v=(x=r.content)==null?void 0:x.getBoundingClientRect();if(v){const w=(y=r.content)==null?void 0:y.dataset.side,b=w==="right",S=b?-5:5,T=v[b?"left":"right"],E=v[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:g.clientX+S,y:g.clientY},{x:T,y:v.top},{x:E,y:v.top},{x:E,y:v.bottom},{x:T,y:v.bottom}],side:w}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(g),g.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:nt(e.onKeyDown,g=>{var x;const v=s.searchRef.current!=="";e.disabled||v&&g.key===" "||Cme[n.dir].includes(g.key)&&(r.onOpenChange(!0),(x=r.content)==null||x.focus(),g.preventDefault())})})})});iL.displayName=Xf;var oL="MenuSubContent",lL=N.forwardRef((e,t)=>{const r=Wj(Za,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Uc(Za,e.__scopeMenu),o=N0(Za,e.__scopeMenu),c=sL(oL,e.__scopeMenu),u=N.useRef(null),f=rr(t,u);return h.jsx(qh.Provider,{scope:e.__scopeMenu,children:h.jsx(Qn,{present:n||s.open,children:h.jsx(qh.Slot,{scope:e.__scopeMenu,children:h.jsx(h2,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:f,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var g;o.isUsingKeyboardRef.current&&((g=u.current)==null||g.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:nt(e.onFocusOutside,m=>{m.target!==c.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:nt(e.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:nt(e.onKeyDown,m=>{var x;const g=m.currentTarget.contains(m.target),v=Tme[o.dir].includes(m.key);g&&v&&(s.onOpenChange(!1),(x=c.trigger)==null||x.focus(),m.preventDefault())})})})})})});lL.displayName=oL;function cL(e){return e?"open":"closed"}function Ig(e){return e==="indeterminate"}function g2(e){return Ig(e)?"indeterminate":e?"checked":"unchecked"}function Wme(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function qme(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Gme(e,t,r){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=qme(e,Math.max(s,0));a.length===1&&(o=o.filter(f=>f!==r));const u=o.find(f=>f.toLowerCase().startsWith(a.toLowerCase()));return u!==r?u:void 0}function Yme(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const c=t[s].x,u=t[s].y,f=t[o].x,m=t[o].y;u>n!=m>n&&r<(f-c)*(n-u)/(m-u)+c&&(a=!a)}return a}function Xme(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Yme(r,t)}function Gh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Kme=zj,Qme=u2,Zme=qj,Jme=Gj,epe=m2,tpe=Yj,rpe=Fv,npe=Kj,ape=Zj,spe=eL,ipe=rL,ope=nL,lpe=aL,cpe=iL,upe=lL,v2="DropdownMenu",[dpe,rge]=oi(v2,[Hj]),Zn=Hj(),[fpe,uL]=dpe(v2),dL=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:o,modal:c=!0}=e,u=Zn(t),f=N.useRef(null),[m=!1,g]=bd({prop:a,defaultProp:s,onChange:o});return h.jsx(fpe,{scope:t,triggerId:Jo(),triggerRef:f,contentId:Jo(),open:m,onOpenChange:g,onOpenToggle:N.useCallback(()=>g(v=>!v),[g]),modal:c,children:h.jsx(Kme,{...u,open:m,onOpenChange:g,dir:n,modal:c,children:r})})};dL.displayName=v2;var fL="DropdownMenuTrigger",hL=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=uL(fL,r),o=Zn(r);return h.jsx(Qme,{asChild:!0,...o,children:h.jsx(Ht.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:rv(t,s.triggerRef),onPointerDown:nt(e.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(s.onOpenToggle(),s.open||c.preventDefault())}),onKeyDown:nt(e.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&s.onOpenToggle(),c.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});hL.displayName=fL;var hpe="DropdownMenuPortal",mL=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Zn(t);return h.jsx(Zme,{...n,...r})};mL.displayName=hpe;var pL="DropdownMenuContent",gL=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=uL(pL,r),s=Zn(r),o=N.useRef(!1);return h.jsx(Jme,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:nt(e.onCloseAutoFocus,c=>{var u;o.current||(u=a.triggerRef.current)==null||u.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:nt(e.onInteractOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,m=u.button===2||f;(!a.modal||m)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gL.displayName=pL;var mpe="DropdownMenuGroup",ppe=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zn(r);return h.jsx(epe,{...a,...n,ref:t})});ppe.displayName=mpe;var gpe="DropdownMenuLabel",vL=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zn(r);return h.jsx(tpe,{...a,...n,ref:t})});vL.displayName=gpe;var vpe="DropdownMenuItem",xL=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zn(r);return h.jsx(rpe,{...a,...n,ref:t})});xL.displayName=vpe;var xpe="DropdownMenuCheckboxItem",yL=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zn(r);return h.jsx(npe,{...a,...n,ref:t})});yL.displayName=xpe;var ype="DropdownMenuRadioGroup",bpe=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zn(r);return h.jsx(ape,{...a,...n,ref:t})});bpe.displayName=ype;var wpe="DropdownMenuRadioItem",bL=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zn(r);return h.jsx(spe,{...a,...n,ref:t})});bL.displayName=wpe;var _pe="DropdownMenuItemIndicator",wL=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zn(r);return h.jsx(ipe,{...a,...n,ref:t})});wL.displayName=_pe;var Epe="DropdownMenuSeparator",_L=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zn(r);return h.jsx(ope,{...a,...n,ref:t})});_L.displayName=Epe;var Spe="DropdownMenuArrow",Cpe=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zn(r);return h.jsx(lpe,{...a,...n,ref:t})});Cpe.displayName=Spe;var Tpe="DropdownMenuSubTrigger",EL=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zn(r);return h.jsx(cpe,{...a,...n,ref:t})});EL.displayName=Tpe;var Npe="DropdownMenuSubContent",SL=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Zn(r);return h.jsx(upe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SL.displayName=Npe;var Ape=dL,kpe=hL,Rpe=mL,CL=gL,TL=vL,NL=xL,AL=yL,kL=bL,RL=wL,DL=_L,IL=EL,OL=SL;const vD=Ape,xD=kpe,Dpe=N.forwardRef(({className:e,inset:t,children:r,...n},a)=>h.jsxs(IL,{ref:a,className:at("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,h.jsx(HB,{className:"ml-auto h-4 w-4"})]}));Dpe.displayName=IL.displayName;const Ipe=N.forwardRef(({className:e,...t},r)=>h.jsx(OL,{ref:r,className:at("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Ipe.displayName=OL.displayName;const hw=N.forwardRef(({className:e,sideOffset:t=4,...r},n)=>h.jsx(Rpe,{children:h.jsx(CL,{ref:n,sideOffset:t,className:at("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));hw.displayName=CL.displayName;const Kf=N.forwardRef(({className:e,inset:t,...r},n)=>h.jsx(NL,{ref:n,className:at("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Kf.displayName=NL.displayName;const Ope=N.forwardRef(({className:e,children:t,checked:r,...n},a)=>h.jsxs(AL,{ref:a,className:at("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(RL,{children:h.jsx(Nw,{className:"h-4 w-4"})})}),t]}));Ope.displayName=AL.displayName;const Ppe=N.forwardRef(({className:e,children:t,...r},n)=>h.jsxs(kL,{ref:n,className:at("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(RL,{children:h.jsx(YB,{className:"h-2 w-2 fill-current"})})}),t]}));Ppe.displayName=kL.displayName;const mw=N.forwardRef(({className:e,inset:t,...r},n)=>h.jsx(TL,{ref:n,className:at("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));mw.displayName=TL.displayName;const pw=N.forwardRef(({className:e,...t},r)=>h.jsx(DL,{ref:r,className:at("-mx-1 my-1 h-px bg-muted",e),...t}));pw.displayName=DL.displayName;const yD=[{label:"Administración",icon:nN,submenu:[{label:"Clientes",path:"/customers",icon:eb},{label:"Proveedores",path:"/suppliers",icon:OB},{label:"Colaboradores",path:"/workers",icon:K1},{label:"Roles",path:"/roles",icon:RU},{label:"Unidades",path:"/units",icon:AU},{label:"Parámetros",path:"/parameters",icon:nN},{label:"Incidentes",path:"/incidents",icon:Mo}]},{label:"Operación",icon:Tp,submenu:[{label:"Compras",path:"/purchase-orders",icon:xh},{label:"Pedidos",path:"/customer-orders",icon:ya},{label:"Producción",path:"/production-orders",icon:Lf},{label:"Cierres Diarios",path:"/daily-closures",icon:Lg}]},{label:"Inventario",icon:Z1,submenu:[{label:"Productos",path:"/products",icon:DB},{label:"Recetas",path:"/recipes",icon:BB}]}],Mpe=({children:e})=>{const t=cr(),[r,n]=N.useState(!1),[a,s]=N.useState(null),[o,c]=N.useState(document.documentElement.classList.contains("dark")),[u,f]=N.useState(null);N.useEffect(()=>{const y=Du.onAuthStateChanged(w=>{f((w==null?void 0:w.email)||null)});return()=>y()},[]);const m=()=>{const y=!o;c(y),y?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")},g=()=>{localStorage.removeItem("token"),t("/login",{replace:!0})},v=y=>{s(a===y?null:y)},x=()=>{n(!1),s(null)};return h.jsxs("div",{className:"min-h-screen bg-background",onClick:()=>s(null),children:[h.jsx("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:h.jsx("div",{className:"absolute -top-[40rem] left-1/2 -z-10 transform -translate-x-1/2",children:h.jsx("div",{className:"aspect-[1200/800] w-[80rem] bg-gradient-to-tr from-primary/20 to-primary-foreground/20 opacity-30 blur-3xl"})})}),h.jsxs("nav",{className:"sticky top-0 z-40 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[h.jsx("div",{className:"container mx-auto px-1",children:h.jsxs("div",{className:"flex h-14 items-center justify-between",children:[h.jsxs(Vi,{to:"/dashboard",className:"flex items-center space-x-3 cursor-pointer",onClick:x,children:[h.jsx("img",{src:y4,alt:"Logo",className:"h-8 w-8 rounded-lg object-cover"}),h.jsx("span",{className:"text-base sm:text-lg md:text-xl font-bold truncate",children:"Sistema de Gestión Operativa"})]}),h.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[h.jsx("div",{className:"flex items-center gap-1",children:yD.map((y,w)=>h.jsxs("div",{className:"relative group px-3",children:[h.jsxs("button",{onClick:b=>{b.stopPropagation(),v(w)},className:"flex items-center space-x-2 text-sm font-medium transition-colors hover:text-primary py-2",children:[y.icon&&h.jsx(y.icon,{className:"h-4 w-4"}),h.jsx("span",{children:y.label})]}),y.submenu&&a===w&&h.jsx("div",{className:"absolute right-0 top-full w-56 pt-2 z-50",onClick:b=>b.stopPropagation(),children:h.jsx(yr,{className:"p-2 shadow-lg",children:h.jsx("nav",{className:"grid gap-1",children:y.submenu.map((b,S)=>h.jsxs(Vi,{to:b.path||"#",onClick:x,className:"flex w-full items-center space-x-2 rounded-md p-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground cursor-pointer",children:[b.icon&&h.jsx(b.icon,{className:"h-4 w-4"}),h.jsx("span",{children:b.label})]},S))})})})]},w))}),h.jsx("div",{className:"flex items-center space-x-2 border-l border-border/40 pl-4 ml-2",children:h.jsxs(vD,{children:[h.jsx(xD,{asChild:!0,children:h.jsx(ze,{variant:"ghost",size:"sm",className:"rounded-full",children:h.jsx(K1,{className:"h-5 w-5"})})}),h.jsxs(hw,{align:"end",className:"w-56",children:[h.jsx(mw,{className:"font-normal",children:h.jsxs("div",{className:"flex flex-col space-y-1",children:[h.jsx("p",{className:"text-sm font-medium leading-none",children:"Mi Perfil"}),h.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:u})]})}),h.jsx(pw,{}),h.jsxs(Kf,{onClick:m,children:[o?h.jsx(J1,{className:"mr-2 h-4 w-4"}):h.jsx(Q1,{className:"mr-2 h-4 w-4"}),h.jsxs("span",{children:["Tema ",o?"Claro":"Oscuro"]})]}),h.jsxs(Kf,{onClick:g,children:[h.jsx(Gy,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Cerrar Sesión"})]})]})]})})]}),h.jsxs("div",{className:"flex md:hidden items-center space-x-2",children:[h.jsxs(vD,{children:[h.jsx(xD,{asChild:!0,children:h.jsx(ze,{variant:"ghost",size:"sm",className:"rounded-full",children:h.jsx(K1,{className:"h-5 w-5"})})}),h.jsxs(hw,{align:"end",className:"w-56",children:[h.jsx(mw,{className:"font-normal",children:h.jsxs("div",{className:"flex flex-col space-y-1",children:[h.jsx("p",{className:"text-sm font-medium leading-none",children:"Mi Perfil"}),h.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:u})]})}),h.jsx(pw,{}),h.jsxs(Kf,{onClick:m,children:[o?h.jsx(J1,{className:"mr-2 h-4 w-4"}):h.jsx(Q1,{className:"mr-2 h-4 w-4"}),h.jsxs("span",{children:["Tema ",o?"Claro":"Oscuro"]})]}),h.jsxs(Kf,{onClick:g,children:[h.jsx(Gy,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Cerrar Sesión"})]})]})]}),h.jsx(ze,{variant:"secondary",size:"sm",className:"md:hidden",onClick:()=>n(!r),children:r?h.jsx($D,{className:"h-6 w-6"}):h.jsx(gU,{className:"h-6 w-6"})})]})]})}),r&&h.jsx("div",{className:"md:hidden border-t border-border/40",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[yD.map((y,w)=>h.jsxs("div",{className:"py-2",children:[h.jsxs("button",{onClick:b=>{b.stopPropagation(),v(w)},className:"flex items-center space-x-2 font-medium mb-1 w-full text-left",children:[y.icon&&h.jsx(y.icon,{className:"h-4 w-4"}),h.jsx("span",{children:y.label})]}),y.submenu&&a===w&&h.jsx("div",{className:"pl-4 space-y-1",children:y.submenu.map((b,S)=>h.jsxs(Vi,{to:b.path||"#",onClick:x,className:"flex items-center space-x-2 py-2 text-sm text-muted-foreground hover:text-primary cursor-pointer",children:[b.icon&&h.jsx(b.icon,{className:"h-4 w-4"}),h.jsx("span",{children:b.label})]},S))})]},w)),h.jsx("div",{className:"pt-4 border-t border-border/40",children:h.jsxs(ze,{variant:"ghost",className:"w-full justify-start text-sm text-muted-foreground hover:text-primary",onClick:g,children:[h.jsx(Gy,{className:"h-4 w-4 mr-2"}),"Cerrar sesión"]})})]})})]}),h.jsx("main",{className:"flex-1",children:h.jsx("div",{className:"container mx-auto px-1",children:h.jsx("div",{className:"fade-in pt-2",children:e})})})]})},Fpe=({children:e})=>{const t=ns(),r=cr(),n=t.pathname==="/mobile"||t.pathname==="/mobile/dashboard";N.useEffect(()=>((async()=>{try{const c=document.documentElement;c.requestFullscreen?await c.requestFullscreen():c.webkitRequestFullscreen?await c.webkitRequestFullscreen():c.msRequestFullscreen&&await c.msRequestFullscreen()}catch(c){console.log("No se pudo activar el modo pantalla completa:",c)}})(),()=>{document.fullscreenElement&&document.exitFullscreen().catch(c=>{console.log("Error al salir de pantalla completa:",c)})}),[]);const s=(()=>{const o=t.pathname;return n?{title:"Inicio",icon:W1,showBack:!1,action:null}:o.includes("/mobile/production")?o.includes("/new")?{title:"Nueva Producción",icon:ec,showBack:!0,action:()=>null,actionIcon:ya}:o.includes("/edit")?{title:"Editar Producción",icon:ec,showBack:!0,action:()=>null,actionIcon:ya}:o.includes("/view")?{title:"Ver Producción",icon:ec,showBack:!0,action:()=>null,actionIcon:ya}:o.includes("/delete")?{title:"Eliminar Producción",icon:ec,showBack:!0,action:()=>null,actionIcon:ya}:{title:"Producciones",icon:ec,showBack:!1,action:()=>r("/mobile/production/new"),actionIcon:Qs}:o.includes("/mobile/purchases")?o.includes("/new")?{title:"Nueva Compra",icon:tc,showBack:!0,action:()=>null,actionIcon:ya}:o.includes("/edit")?{title:"Editar Compra",icon:tc,showBack:!0,action:()=>null,actionIcon:ya}:o.includes("/view")?{title:"Ver Compra",icon:tc,showBack:!0,action:()=>null,actionIcon:ya}:o.includes("/delete")?{title:"Eliminar Compra",icon:tc,showBack:!0,action:()=>null,actionIcon:ya}:{title:"Compras",icon:tc,showBack:!1,action:()=>r("/mobile/purchases/new"),actionIcon:Qs}:o.includes("/mobile/orders")?o.includes("/new")?{title:"Nuevo Pedido",icon:Jl,showBack:!0,action:()=>null,actionIcon:ya}:o.includes("/edit")?{title:"Editar Pedido",icon:Jl,showBack:!0,action:()=>null,actionIcon:ya}:o.includes("/view")?{title:"Ver Pedido",icon:Jl,showBack:!0,action:()=>null,actionIcon:ya}:o.includes("/delete")?{title:"Eliminar Pedido",icon:Jl,showBack:!0,action:()=>null,actionIcon:ya}:{title:"Pedidos",icon:Jl,showBack:!1,action:()=>r("/mobile/orders/new"),actionIcon:Qs}:{title:"SGO",icon:W1,showBack:!1,action:null}})();return h.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[h.jsx("div",{className:"h-[env(safe-area-inset-top)] bg-background"}),h.jsx("header",{className:at("sticky top-0 z-40 w-full bg-background/80 backdrop-blur-xl","transition-all duration-200 ease-in-out","border-b border-border/40"),children:h.jsxs("div",{className:"flex items-center justify-between px-2 h-14",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[s.showBack&&h.jsx(ze,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>r(-1),children:h.jsx(Y0e,{className:"h-4 w-4"})}),h.jsxs("div",{className:"flex items-center gap-2",children:[M.createElement(s.icon,{className:at("h-5 w-5",t.pathname.includes("/mobile/production")?"text-primary":"",t.pathname.includes("/mobile/purchases")?"text-primary":"",t.pathname.includes("/mobile/orders")?"text-primary":"",n?"text-primary":"")}),h.jsx("h1",{className:"text-lg font-medium",children:s.title})]})]}),s.action&&s.actionIcon&&h.jsx(ze,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:s.action,children:M.createElement(s.actionIcon,{className:"h-5 w-5"})})]})}),h.jsx("main",{className:"flex-1",children:n?h.jsx(uw,{}):h.jsx(Sw,{})}),h.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-t border-border/40",children:h.jsxs("div",{className:"flex justify-around items-center h-14",children:[h.jsxs(ze,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${n?"text-primary":"text-muted-foreground"}`,onClick:()=>r("/mobile"),children:[h.jsx(W1,{className:"h-5 w-5"}),h.jsx("span",{className:"text-[10px] font-medium",children:"Inicio"}),n&&h.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]}),h.jsxs(ze,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${t.pathname.includes("/mobile/purchases")?"text-primary":"text-muted-foreground"}`,onClick:()=>r("/mobile/purchases"),children:[h.jsx(tc,{className:"h-5 w-5"}),h.jsx("span",{className:"text-[10px] font-medium",children:"Compras"}),t.pathname.includes("/mobile/purchases")&&h.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]}),h.jsxs(ze,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${t.pathname.includes("/mobile/orders")?"text-primary":"text-muted-foreground"}`,onClick:()=>r("/mobile/orders"),children:[h.jsx(Jl,{className:"h-5 w-5"}),h.jsx("span",{className:"text-[10px] font-medium",children:"Pedidos"}),t.pathname.includes("/mobile/orders")&&h.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]}),h.jsxs(ze,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${t.pathname.includes("/mobile/production")?"text-primary":"text-muted-foreground"}`,onClick:()=>r("/mobile/production"),children:[h.jsx(ec,{className:"h-5 w-5"}),h.jsx("span",{className:"text-[10px] font-medium",children:"Producción"}),t.pathname.includes("/mobile/production")&&h.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]})]})}),h.jsx("div",{className:"h-[calc(env(safe-area-inset-bottom)+3.5rem)]"})]})};class jpe extends M.Component{constructor(){super(...arguments);gt(this,"resizeObserver",null);gt(this,"state",{isMobile:window.innerWidth<=768})}componentDidMount(){this.resizeObserver=new ResizeObserver(r=>{for(const n of r){const s=n.contentRect.width<=768;this.state.isMobile!==s&&this.setState({isMobile:s},()=>{const o=s?"/mobile":"/dashboard";this.props.navigate(o)})}}),this.resizeObserver.observe(document.body)}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}render(){const{isMobile:r}=this.state,n=r?Fpe:Mpe;return h.jsx(RD,{children:h.jsxs(We,{element:h.jsx(n,{children:h.jsx(Sw,{})}),children:[r&&ume,!r&&U0e,h.jsx(We,{path:"*",element:h.jsx(Ew,{to:r?"/mobile":"/dashboard",replace:!0})})]})})}}const Lpe=()=>{const e=cr();return h.jsx(jpe,{navigate:e})},Bpe=()=>h.jsx("div",{className:"fixed inset-0 bg-gray-50 dark:bg-gray-900 z-50 flex items-center justify-center",children:h.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Cargando..."})]})}),Upe=({children:e})=>{const t=ns(),[r,n]=M.useState(!0),[a,s]=M.useState(null);return M.useEffect(()=>{let o=!0;const c=Du.onAuthStateChanged(u=>{o&&(s(u),n(!1))});return()=>{o=!1,c()}},[]),r?h.jsx(Bpe,{}):a?e||h.jsx(Sw,{}):h.jsx(Ew,{to:"/login",state:{from:t.pathname},replace:!0})},Vpe=()=>{M.useEffect(()=>{new Xp},[]);const e=window.innerWidth<=768;return h.jsx(fB,{basename:"/nrd-sgo",children:h.jsxs(RD,{children:[h.jsx(We,{path:"login",element:h.jsx(_X,{})}),h.jsx(We,{element:h.jsx(Upe,{}),children:h.jsx(We,{path:"/*",element:h.jsx(Lpe,{})})}),h.jsx(We,{path:"",element:h.jsx(Ew,{to:"/dashboard",replace:!0})})]})})};function Hpe(){return h.jsxs(h.Fragment,{children:[h.jsx(Vpe,{}),h.jsx(wX,{richColors:!0,position:"top-right",closeButton:!0,duration:4e3})]})}class $pe extends N.Component{constructor(){super(...arguments);gt(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Error caught by error boundary:",r,n)}render(){return this.state.hasError?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:h.jsx("div",{className:"max-w-md w-full space-y-8",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(Mo,{className:"h-12 w-12 text-red-500 mb-4"}),h.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Algo salió mal"}),h.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Ha ocurrido un error inesperado. Por favor, intente recargar la página."}),h.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Recargar página"}),!1]})})}):this.props.children}}K6.createRoot(document.getElementById("root")).render(h.jsx(M.StrictMode,{children:h.jsx($pe,{children:h.jsx(Hpe,{})})}));
//# sourceMappingURL=index-CFrdwyc5.js.map
