var bA=Object.defineProperty;var xA=(t,e,n)=>e in t?bA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $e=(t,e,n)=>xA(t,typeof e!="symbol"?e+"":e,n);function _A(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function Yg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hp={exports:{}},sc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function wA(){if(v_)return sc;v_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var f in i)f!=="key"&&(l[f]=i[f])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:u,ref:i!==void 0?i:null,props:l}}return sc.Fragment=e,sc.jsx=n,sc.jsxs=n,sc}var b_;function EA(){return b_||(b_=1,hp.exports=wA()),hp.exports}var d=EA(),mp={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function SA(){if(x_)return De;x_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=y&&P[y]||P["@@iterator"],typeof P=="function"?P:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,N={};function C(P,K,k){this.props=P,this.context=K,this.refs=N,this.updater=k||x}C.prototype.isReactComponent={},C.prototype.setState=function(P,K){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,K,"setState")},C.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function S(){}S.prototype=C.prototype;function T(P,K,k){this.props=P,this.context=K,this.refs=N,this.updater=k||x}var R=T.prototype=new S;R.constructor=T,_(R,C.prototype),R.isPureReactComponent=!0;var j=Array.isArray,M={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function F(P,K,k,H,V,ae){return k=ae.ref,{$$typeof:t,type:P,key:K,ref:k!==void 0?k:null,props:ae}}function Q(P,K){return F(P.type,K,void 0,void 0,void 0,P.props)}function U(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function W(P){var K={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(k){return K[k]})}var oe=/\/+/g;function G(P,K){return typeof P=="object"&&P!==null&&P.key!=null?W(""+P.key):K.toString(36)}function ne(){}function X(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ne,ne):(P.status="pending",P.then(function(K){P.status==="pending"&&(P.status="fulfilled",P.value=K)},function(K){P.status==="pending"&&(P.status="rejected",P.reason=K)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Z(P,K,k,H,V){var ae=typeof P;(ae==="undefined"||ae==="boolean")&&(P=null);var re=!1;if(P===null)re=!0;else switch(ae){case"bigint":case"string":case"number":re=!0;break;case"object":switch(P.$$typeof){case t:case e:re=!0;break;case v:return re=P._init,Z(re(P._payload),K,k,H,V)}}if(re)return V=V(P),re=H===""?"."+G(P,0):H,j(V)?(k="",re!=null&&(k=re.replace(oe,"$&/")+"/"),Z(V,K,k,"",function(we){return we})):V!=null&&(U(V)&&(V=Q(V,k+(V.key==null||P&&P.key===V.key?"":(""+V.key).replace(oe,"$&/")+"/")+re)),K.push(V)),1;re=0;var de=H===""?".":H+":";if(j(P))for(var he=0;he<P.length;he++)H=P[he],ae=de+G(H,he),re+=Z(H,K,k,ae,V);else if(he=b(P),typeof he=="function")for(P=he.call(P),he=0;!(H=P.next()).done;)H=H.value,ae=de+G(H,he++),re+=Z(H,K,k,ae,V);else if(ae==="object"){if(typeof P.then=="function")return Z(X(P),K,k,H,V);throw K=String(P),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return re}function L(P,K,k){if(P==null)return P;var H=[],V=0;return Z(P,H,"","",function(ae){return K.call(k,ae,V++)}),H}function le(P){if(P._status===-1){var K=P._result;K=K(),K.then(function(k){(P._status===0||P._status===-1)&&(P._status=1,P._result=k)},function(k){(P._status===0||P._status===-1)&&(P._status=2,P._result=k)}),P._status===-1&&(P._status=0,P._result=K)}if(P._status===1)return P._result.default;throw P._result}var te=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function ue(){}return De.Children={map:L,forEach:function(P,K,k){L(P,function(){K.apply(this,arguments)},k)},count:function(P){var K=0;return L(P,function(){K++}),K},toArray:function(P){return L(P,function(K){return K})||[]},only:function(P){if(!U(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},De.Component=C,De.Fragment=n,De.Profiler=i,De.PureComponent=T,De.StrictMode=a,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,De.act=function(){throw Error("act(...) is not supported in production builds of React.")},De.cache=function(P){return function(){return P.apply(null,arguments)}},De.cloneElement=function(P,K,k){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var H=_({},P.props),V=P.key,ae=void 0;if(K!=null)for(re in K.ref!==void 0&&(ae=void 0),K.key!==void 0&&(V=""+K.key),K)!A.call(K,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&K.ref===void 0||(H[re]=K[re]);var re=arguments.length-2;if(re===1)H.children=k;else if(1<re){for(var de=Array(re),he=0;he<re;he++)de[he]=arguments[he+2];H.children=de}return F(P.type,V,void 0,void 0,ae,H)},De.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},De.createElement=function(P,K,k){var H,V={},ae=null;if(K!=null)for(H in K.key!==void 0&&(ae=""+K.key),K)A.call(K,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(V[H]=K[H]);var re=arguments.length-2;if(re===1)V.children=k;else if(1<re){for(var de=Array(re),he=0;he<re;he++)de[he]=arguments[he+2];V.children=de}if(P&&P.defaultProps)for(H in re=P.defaultProps,re)V[H]===void 0&&(V[H]=re[H]);return F(P,ae,void 0,void 0,null,V)},De.createRef=function(){return{current:null}},De.forwardRef=function(P){return{$$typeof:f,render:P}},De.isValidElement=U,De.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:le}},De.memo=function(P,K){return{$$typeof:p,type:P,compare:K===void 0?null:K}},De.startTransition=function(P){var K=M.T,k={};M.T=k;try{var H=P(),V=M.S;V!==null&&V(k,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(ue,te)}catch(ae){te(ae)}finally{M.T=K}},De.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},De.use=function(P){return M.H.use(P)},De.useActionState=function(P,K,k){return M.H.useActionState(P,K,k)},De.useCallback=function(P,K){return M.H.useCallback(P,K)},De.useContext=function(P){return M.H.useContext(P)},De.useDebugValue=function(){},De.useDeferredValue=function(P,K){return M.H.useDeferredValue(P,K)},De.useEffect=function(P,K){return M.H.useEffect(P,K)},De.useId=function(){return M.H.useId()},De.useImperativeHandle=function(P,K,k){return M.H.useImperativeHandle(P,K,k)},De.useInsertionEffect=function(P,K){return M.H.useInsertionEffect(P,K)},De.useLayoutEffect=function(P,K){return M.H.useLayoutEffect(P,K)},De.useMemo=function(P,K){return M.H.useMemo(P,K)},De.useOptimistic=function(P,K){return M.H.useOptimistic(P,K)},De.useReducer=function(P,K,k){return M.H.useReducer(P,K,k)},De.useRef=function(P){return M.H.useRef(P)},De.useState=function(P){return M.H.useState(P)},De.useSyncExternalStore=function(P,K,k){return M.H.useSyncExternalStore(P,K,k)},De.useTransition=function(){return M.H.useTransition()},De.version="19.0.0",De}var __;function Cf(){return __||(__=1,mp.exports=SA()),mp.exports}var w=Cf();const I=Yg(w),NA=_A({__proto__:null,default:I},[w]);var pp={exports:{}},ic={},gp={exports:{}},yp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function CA(){return w_||(w_=1,function(t){function e(L,le){var te=L.length;L.push(le);e:for(;0<te;){var ue=te-1>>>1,P=L[ue];if(0<i(P,le))L[ue]=le,L[te]=P,te=ue;else break e}}function n(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var le=L[0],te=L.pop();if(te!==le){L[0]=te;e:for(var ue=0,P=L.length,K=P>>>1;ue<K;){var k=2*(ue+1)-1,H=L[k],V=k+1,ae=L[V];if(0>i(H,te))V<P&&0>i(ae,H)?(L[ue]=ae,L[V]=te,ue=V):(L[ue]=H,L[k]=te,ue=k);else if(V<P&&0>i(ae,te))L[ue]=ae,L[V]=te,ue=V;else break e}}return le}function i(L,le){var te=L.sortIndex-le.sortIndex;return te!==0?te:L.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],p=[],v=1,y=null,b=3,x=!1,_=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(L){for(var le=n(p);le!==null;){if(le.callback===null)a(p);else if(le.startTime<=L)a(p),le.sortIndex=le.expirationTime,e(m,le);else break;le=n(p)}}function j(L){if(N=!1,R(L),!_)if(n(m)!==null)_=!0,X();else{var le=n(p);le!==null&&Z(j,le.startTime-L)}}var M=!1,A=-1,F=5,Q=-1;function U(){return!(t.unstable_now()-Q<F)}function W(){if(M){var L=t.unstable_now();Q=L;var le=!0;try{e:{_=!1,N&&(N=!1,S(A),A=-1),x=!0;var te=b;try{t:{for(R(L),y=n(m);y!==null&&!(y.expirationTime>L&&U());){var ue=y.callback;if(typeof ue=="function"){y.callback=null,b=y.priorityLevel;var P=ue(y.expirationTime<=L);if(L=t.unstable_now(),typeof P=="function"){y.callback=P,R(L),le=!0;break t}y===n(m)&&a(m),R(L)}else a(m);y=n(m)}if(y!==null)le=!0;else{var K=n(p);K!==null&&Z(j,K.startTime-L),le=!1}}break e}finally{y=null,b=te,x=!1}le=void 0}}finally{le?oe():M=!1}}}var oe;if(typeof T=="function")oe=function(){T(W)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ne=G.port2;G.port1.onmessage=W,oe=function(){ne.postMessage(null)}}else oe=function(){C(W,0)};function X(){M||(M=!0,oe())}function Z(L,le){A=C(function(){L(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){_||x||(_=!0,X())},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(m)},t.unstable_next=function(L){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var te=b;b=le;try{return L()}finally{b=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,le){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var te=b;b=L;try{return le()}finally{b=te}},t.unstable_scheduleCallback=function(L,le,te){var ue=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ue+te:ue):te=ue,L){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=te+P,L={id:v++,callback:le,priorityLevel:L,startTime:te,expirationTime:P,sortIndex:-1},te>ue?(L.sortIndex=te,e(p,L),n(m)===null&&L===n(p)&&(N?(S(A),A=-1):N=!0,Z(j,te-ue))):(L.sortIndex=P,e(m,L),_||x||(_=!0,X())),L},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(L){var le=b;return function(){var te=b;b=le;try{return L.apply(this,arguments)}finally{b=te}}}}(yp)),yp}var E_;function TA(){return E_||(E_=1,gp.exports=CA()),gp.exports}var vp={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function RA(){if(S_)return Qt;S_=1;var t=Cf();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(m,p,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:m,containerInfo:p,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qt.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},Qt.flushSync=function(m){var p=u.T,v=a.p;try{if(u.T=null,a.p=2,m)return m()}finally{u.T=p,a.p=v,a.d.f()}},Qt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(m,p))},Qt.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Qt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,y=f(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:x}):v==="script"&&a.d.X(m,{crossOrigin:y,integrity:b,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Qt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);a.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(m)},Qt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,y=f(v,p.crossOrigin);a.d.L(m,v,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Qt.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=f(p.as,p.crossOrigin);a.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(m)},Qt.requestFormReset=function(m){a.d.r(m)},Qt.unstable_batchedUpdates=function(m,p){return m(p)},Qt.useFormState=function(m,p,v){return u.H.useFormState(m,p,v)},Qt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Qt.version="19.0.0",Qt}var N_;function ZE(){if(N_)return vp.exports;N_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vp.exports=RA(),vp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function DA(){if(C_)return ic;C_=1;var t=TA(),e=Cf(),n=ZE();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),x=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),j=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function A(r){return r===null||typeof r!="object"?null:(r=M&&r[M]||r["@@iterator"],typeof r=="function"?r:null)}var F=Symbol.for("react.client.reference");function Q(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===F?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case m:return"Fragment";case f:return"Portal";case v:return"Profiler";case p:return"StrictMode";case N:return"Suspense";case C:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case x:return(r.displayName||"Context")+".Provider";case b:return(r._context.displayName||"Context")+".Consumer";case _:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case S:return s=r.displayName||null,s!==null?s:Q(r.type)||"Memo";case T:s=r._payload,r=r._init;try{return Q(r(s))}catch{}}return null}var U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=Object.assign,oe,G;function ne(r){if(oe===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);oe=s&&s[1]||"",G=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+r+G}var X=!1;function Z(r,s){if(!r||X)return"";X=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(J){var Y=J}Reflect.construct(r,[],ie)}else{try{ie.call()}catch(J){Y=J}r.call(ie.prototype)}}else{try{throw Error()}catch(J){Y=J}(ie=r())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(J){if(J&&Y&&typeof J.stack=="string")return[J.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),E=g[0],D=g[1];if(E&&D){var O=E.split(`
`),z=D.split(`
`);for(h=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(c===O.length||h===z.length)for(c=O.length-1,h=z.length-1;1<=c&&0<=h&&O[c]!==z[h];)h--;for(;1<=c&&0<=h;c--,h--)if(O[c]!==z[h]){if(c!==1||h!==1)do if(c--,h--,0>h||O[c]!==z[h]){var ee=`
`+O[c].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),ee}while(1<=c&&0<=h);break}}}finally{X=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ne(o):""}function L(r){switch(r.tag){case 26:case 27:case 5:return ne(r.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 15:return r=Z(r.type,!1),r;case 11:return r=Z(r.type.render,!1),r;case 1:return r=Z(r.type,!0),r;default:return""}}function le(r){try{var s="";do s+=L(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function te(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function ue(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function P(r){if(te(r)!==r)throw Error(a(188))}function K(r){var s=r.alternate;if(!s){if(s=te(r),s===null)throw Error(a(188));return s!==r?null:r}for(var o=r,c=s;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return P(h),r;if(g===c)return P(h),s;g=g.sibling}throw Error(a(188))}if(o.return!==c.return)o=h,c=g;else{for(var E=!1,D=h.child;D;){if(D===o){E=!0,o=h,c=g;break}if(D===c){E=!0,c=h,o=g;break}D=D.sibling}if(!E){for(D=g.child;D;){if(D===o){E=!0,o=g,c=h;break}if(D===c){E=!0,c=g,o=h;break}D=D.sibling}if(!E)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?r:s}function k(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=k(r),s!==null)return s;r=r.sibling}return null}var H=Array.isArray,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},re=[],de=-1;function he(r){return{current:r}}function we(r){0>de||(r.current=re[de],re[de]=null,de--)}function ve(r,s){de++,re[de]=r.current,r.current=s}var wt=he(null),Xt=he(null),Gt=he(null),Zn=he(null);function wa(r,s){switch(ve(Gt,s),ve(Xt,r),ve(wt,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Yx(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=Yx(r),s=Wx(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}we(wt),ve(wt,s)}function Jn(){we(wt),we(Xt),we(Gt)}function er(r){r.memoizedState!==null&&ve(Zn,r);var s=wt.current,o=Wx(s,r.type);s!==o&&(ve(Xt,r),ve(wt,o))}function Lr(r){Xt.current===r&&(we(wt),we(Xt)),Zn.current===r&&(we(Zn),ec._currentValue=ae)}var jt=Object.prototype.hasOwnProperty,ol=t.unstable_scheduleCallback,ll=t.unstable_cancelCallback,ln=t.unstable_shouldYield,Ea=t.unstable_requestPaint,kn=t.unstable_now,ih=t.unstable_getCurrentPriorityLevel,Ns=t.unstable_ImmediatePriority,pu=t.unstable_UserBlockingPriority,Cs=t.unstable_NormalPriority,cl=t.unstable_LowPriority,Ur=t.unstable_IdlePriority,gu=t.log,Sa=t.unstable_setDisableYieldValue,Ts=null,Zt=null;function yu(r){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Ts,r,void 0,(r.current.flags&128)===128)}catch{}}function tr(r){if(typeof gu=="function"&&Sa(r),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Ts,r)}catch{}}var Jt=Math.clz32?Math.clz32:oh,ul=Math.log,br=Math.LN2;function oh(r){return r>>>=0,r===0?32:31-(ul(r)/br|0)|0}var Rs=128,Ds=4194304;function Ce(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function st(r,s){var o=r.pendingLanes;if(o===0)return 0;var c=0,h=r.suspendedLanes,g=r.pingedLanes,E=r.warmLanes;r=r.finishedLanes!==0;var D=o&134217727;return D!==0?(o=D&~h,o!==0?c=Ce(o):(g&=D,g!==0?c=Ce(g):r||(E=D&~E,E!==0&&(c=Ce(E))))):(D=o&~h,D!==0?c=Ce(D):g!==0?c=Ce(g):r||(E=o&~E,E!==0&&(c=Ce(E)))),c===0?0:s!==0&&s!==c&&(s&h)===0&&(h=c&-c,E=s&-s,h>=E||h===32&&(E&4194176)!==0)?s:c}function ct(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function en(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function As(){var r=Rs;return Rs<<=1,(Rs&4194176)===0&&(Rs=128),r}function vt(){var r=Ds;return Ds<<=1,(Ds&62914560)===0&&(Ds=4194304),r}function Yt(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function xr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function bn(r,s,o,c,h,g){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var D=r.entanglements,O=r.expirationTimes,z=r.hiddenUpdates;for(o=E&~o;0<o;){var ee=31-Jt(o),ie=1<<ee;D[ee]=0,O[ee]=-1;var Y=z[ee];if(Y!==null)for(z[ee]=null,ee=0;ee<Y.length;ee++){var J=Y[ee];J!==null&&(J.lane&=-536870913)}o&=~ie}c!==0&&cn(r,c,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(E&~s))}function cn(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Jt(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194218}function dl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Jt(o),h=1<<c;h&s|r[c]&s&&(r[c]|=s),o&=~h}}function _r(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function lh(){var r=V.p;return r!==0?r:(r=window.event,r===void 0?32:f_(r.type))}function cR(r,s){var o=V.p;try{return V.p=r,s()}finally{V.p=o}}var Na=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Na,un="__reactProps$"+Na,Ri="__reactContainer$"+Na,ch="__reactEvents$"+Na,uR="__reactListeners$"+Na,dR="__reactHandles$"+Na,$v="__reactResources$"+Na,fl="__reactMarker$"+Na;function uh(r){delete r[Wt],delete r[un],delete r[ch],delete r[uR],delete r[dR]}function Is(r){var s=r[Wt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Ri]||o[Wt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Xx(r);r!==null;){if(o=r[Wt])return o;r=Xx(r)}return s}r=o,o=r.parentNode}return null}function Di(r){if(r=r[Wt]||r[Ri]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function hl(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function Ai(r){var s=r[$v];return s||(s=r[$v]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ot(r){r[fl]=!0}var Gv=new Set,Yv={};function js(r,s){Ii(r,s),Ii(r+"Capture",s)}function Ii(r,s){for(Yv[r]=s,r=0;r<s.length;r++)Gv.add(s[r])}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wv={},Kv={};function hR(r){return jt.call(Kv,r)?!0:jt.call(Wv,r)?!1:fR.test(r)?Kv[r]=!0:(Wv[r]=!0,!1)}function vu(r,s,o){if(hR(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function bu(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function zr(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}function Mn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Qv(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function mR(r){var s=Qv(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(E){c=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function xu(r){r._valueTracker||(r._valueTracker=mR(r))}function Xv(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=Qv(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function _u(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var pR=/[\n"\\]/g;function Pn(r){return r.replace(pR,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function dh(r,s,o,c,h,g,E,D){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Mn(s)):r.value!==""+Mn(s)&&(r.value=""+Mn(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?fh(r,E,Mn(s)):o!=null?fh(r,E,Mn(o)):c!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+Mn(D):r.removeAttribute("name")}function Zv(r,s,o,c,h,g,E,D){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+Mn(o):"",s=s!=null?""+Mn(s):o,D||s===r.value||(r.value=s),r.defaultValue=s}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=D?r.checked:!!c,r.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function fh(r,s,o){s==="number"&&_u(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ji(r,s,o,c){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Mn(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function Jv(r,s,o){if(s!=null&&(s=""+Mn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Mn(o):""}function eb(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(a(92));if(H(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Mn(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function Oi(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var gR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tb(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||gR.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function nb(r,s,o){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var h in s)c=s[h],s.hasOwnProperty(h)&&o[h]!==c&&tb(r,h,c)}else for(var g in s)s.hasOwnProperty(g)&&tb(r,g,s[g])}function hh(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wu(r){return vR.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var mh=null;function ph(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ki=null,Mi=null;function rb(r){var s=Di(r);if(s&&(r=s.stateNode)){var o=r[un]||null;e:switch(r=s.stateNode,s.type){case"input":if(dh(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Pn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var h=c[un]||null;if(!h)throw Error(a(90));dh(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&Xv(c)}break e;case"textarea":Jv(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ji(r,!!o.multiple,s,!1)}}}var gh=!1;function ab(r,s,o){if(gh)return r(s,o);gh=!0;try{var c=r(s);return c}finally{if(gh=!1,(ki!==null||Mi!==null)&&(sd(),ki&&(s=ki,r=Mi,Mi=ki=null,rb(s),r)))for(s=0;s<r.length;s++)rb(r[s])}}function ml(r,s){var o=r.stateNode;if(o===null)return null;var c=o[un]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(a(231,s,typeof o));return o}var yh=!1;if(Br)try{var pl={};Object.defineProperty(pl,"passive",{get:function(){yh=!0}}),window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{yh=!1}var Ca=null,vh=null,Eu=null;function sb(){if(Eu)return Eu;var r,s=vh,o=s.length,c,h="value"in Ca?Ca.value:Ca.textContent,g=h.length;for(r=0;r<o&&s[r]===h[r];r++);var E=o-r;for(c=1;c<=E&&s[o-c]===h[g-c];c++);return Eu=h.slice(r,1<c?1-c:void 0)}function Su(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Nu(){return!0}function ib(){return!1}function dn(r){function s(o,c,h,g,E){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(o=r[D],this[D]=o?o(g):g[D]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Nu:ib,this.isPropagationStopped=ib,this}return W(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),s}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cu=dn(Os),gl=W({},Os,{view:0,detail:0}),bR=dn(gl),bh,xh,yl,Tu=W({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wh,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==yl&&(yl&&r.type==="mousemove"?(bh=r.screenX-yl.screenX,xh=r.screenY-yl.screenY):xh=bh=0,yl=r),bh)},movementY:function(r){return"movementY"in r?r.movementY:xh}}),ob=dn(Tu),xR=W({},Tu,{dataTransfer:0}),_R=dn(xR),wR=W({},gl,{relatedTarget:0}),_h=dn(wR),ER=W({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),SR=dn(ER),NR=W({},Os,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),CR=dn(NR),TR=W({},Os,{data:0}),lb=dn(TR),RR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IR(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=AR[r])?!!s[r]:!1}function wh(){return IR}var jR=W({},gl,{key:function(r){if(r.key){var s=RR[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Su(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?DR[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wh,charCode:function(r){return r.type==="keypress"?Su(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Su(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),OR=dn(jR),kR=W({},Tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cb=dn(kR),MR=W({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wh}),PR=dn(MR),LR=W({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),UR=dn(LR),BR=W({},Tu,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),zR=dn(BR),FR=W({},Os,{newState:0,oldState:0}),HR=dn(FR),qR=[9,13,27,32],Eh=Br&&"CompositionEvent"in window,vl=null;Br&&"documentMode"in document&&(vl=document.documentMode);var VR=Br&&"TextEvent"in window&&!vl,ub=Br&&(!Eh||vl&&8<vl&&11>=vl),db=" ",fb=!1;function hb(r,s){switch(r){case"keyup":return qR.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mb(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Pi=!1;function $R(r,s){switch(r){case"compositionend":return mb(s);case"keypress":return s.which!==32?null:(fb=!0,db);case"textInput":return r=s.data,r===db&&fb?null:r;default:return null}}function GR(r,s){if(Pi)return r==="compositionend"||!Eh&&hb(r,s)?(r=sb(),Eu=vh=Ca=null,Pi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ub&&s.locale!=="ko"?null:s.data;default:return null}}var YR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pb(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!YR[r.type]:s==="textarea"}function gb(r,s,o,c){ki?Mi?Mi.push(c):Mi=[c]:ki=c,s=ud(s,"onChange"),0<s.length&&(o=new Cu("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var bl=null,xl=null;function WR(r){Hx(r,0)}function Ru(r){var s=hl(r);if(Xv(s))return r}function yb(r,s){if(r==="change")return s}var vb=!1;if(Br){var Sh;if(Br){var Nh="oninput"in document;if(!Nh){var bb=document.createElement("div");bb.setAttribute("oninput","return;"),Nh=typeof bb.oninput=="function"}Sh=Nh}else Sh=!1;vb=Sh&&(!document.documentMode||9<document.documentMode)}function xb(){bl&&(bl.detachEvent("onpropertychange",_b),xl=bl=null)}function _b(r){if(r.propertyName==="value"&&Ru(xl)){var s=[];gb(s,xl,r,ph(r)),ab(WR,s)}}function KR(r,s,o){r==="focusin"?(xb(),bl=s,xl=o,bl.attachEvent("onpropertychange",_b)):r==="focusout"&&xb()}function QR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ru(xl)}function XR(r,s){if(r==="click")return Ru(s)}function ZR(r,s){if(r==="input"||r==="change")return Ru(s)}function JR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var xn=typeof Object.is=="function"?Object.is:JR;function _l(r,s){if(xn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!jt.call(s,h)||!xn(r[h],s[h]))return!1}return!0}function wb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Eb(r,s){var o=wb(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=wb(o)}}function Sb(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Sb(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Nb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=_u(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=_u(r.document)}return s}function Ch(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function eD(r,s){var o=Nb(s);s=r.focusedElem;var c=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&Sb(s.ownerDocument.documentElement,s)){if(c!==null&&Ch(s)){if(r=c.start,o=c.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var h=s.textContent.length,g=Math.min(c.start,h);c=c.end===void 0?g:Math.min(c.end,h),!o.extend&&g>c&&(h=c,c=g,g=h),h=Eb(s,g);var E=Eb(s,c);h&&E&&(o.rangeCount!==1||o.anchorNode!==h.node||o.anchorOffset!==h.offset||o.focusNode!==E.node||o.focusOffset!==E.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),o.removeAllRanges(),g>c?(o.addRange(r),o.extend(E.node,E.offset)):(r.setEnd(E.node,E.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var tD=Br&&"documentMode"in document&&11>=document.documentMode,Li=null,Th=null,wl=null,Rh=!1;function Cb(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Rh||Li==null||Li!==_u(c)||(c=Li,"selectionStart"in c&&Ch(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),wl&&_l(wl,c)||(wl=c,c=ud(Th,"onSelect"),0<c.length&&(s=new Cu("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=Li)))}function ks(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Ui={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Dh={},Tb={};Br&&(Tb=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function Ms(r){if(Dh[r])return Dh[r];if(!Ui[r])return r;var s=Ui[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Tb)return Dh[r]=s[o];return r}var Rb=Ms("animationend"),Db=Ms("animationiteration"),Ab=Ms("animationstart"),nD=Ms("transitionrun"),rD=Ms("transitionstart"),aD=Ms("transitioncancel"),Ib=Ms("transitionend"),jb=new Map,Ob="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function nr(r,s){jb.set(r,s),js(s,[r])}var Ln=[],Bi=0,Ah=0;function Du(){for(var r=Bi,s=Ah=Bi=0;s<r;){var o=Ln[s];Ln[s++]=null;var c=Ln[s];Ln[s++]=null;var h=Ln[s];Ln[s++]=null;var g=Ln[s];if(Ln[s++]=null,c!==null&&h!==null){var E=c.pending;E===null?h.next=h:(h.next=E.next,E.next=h),c.pending=h}g!==0&&kb(o,h,g)}}function Au(r,s,o,c){Ln[Bi++]=r,Ln[Bi++]=s,Ln[Bi++]=o,Ln[Bi++]=c,Ah|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Ih(r,s,o,c){return Au(r,s,o,c),Iu(r)}function Ta(r,s){return Au(r,null,null,s),Iu(r)}function kb(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;h&&s!==null&&r.tag===3&&(g=r.stateNode,h=31-Jt(o),g=g.hiddenUpdates,r=g[h],r===null?g[h]=[s]:r.push(s),s.lane=o|536870912)}function Iu(r){if(50<Yl)throw Yl=0,Lm=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var zi={},Mb=new WeakMap;function Un(r,s){if(typeof r=="object"&&r!==null){var o=Mb.get(r);return o!==void 0?o:(s={value:r,source:s,stack:le(s)},Mb.set(r,s),s)}return{value:r,source:s,stack:le(s)}}var Fi=[],Hi=0,ju=null,Ou=0,Bn=[],zn=0,Ps=null,Fr=1,Hr="";function Ls(r,s){Fi[Hi++]=Ou,Fi[Hi++]=ju,ju=r,Ou=s}function Pb(r,s,o){Bn[zn++]=Fr,Bn[zn++]=Hr,Bn[zn++]=Ps,Ps=r;var c=Fr;r=Hr;var h=32-Jt(c)-1;c&=~(1<<h),o+=1;var g=32-Jt(s)+h;if(30<g){var E=h-h%5;g=(c&(1<<E)-1).toString(32),c>>=E,h-=E,Fr=1<<32-Jt(s)+h|o<<h|c,Hr=g+r}else Fr=1<<g|o<<h|c,Hr=r}function jh(r){r.return!==null&&(Ls(r,1),Pb(r,1,0))}function Oh(r){for(;r===ju;)ju=Fi[--Hi],Fi[Hi]=null,Ou=Fi[--Hi],Fi[Hi]=null;for(;r===Ps;)Ps=Bn[--zn],Bn[zn]=null,Hr=Bn[--zn],Bn[zn]=null,Fr=Bn[--zn],Bn[zn]=null}var tn=null,Ft=null,He=!1,rr=null,wr=!1,kh=Error(a(519));function Us(r){var s=Error(a(418,""));throw Nl(Un(s,r)),kh}function Lb(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[Wt]=r,s[un]=c,o){case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":case"embed":Be("load",s);break;case"video":case"audio":for(o=0;o<Kl.length;o++)Be(Kl[o],s);break;case"source":Be("error",s);break;case"img":case"image":case"link":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"input":Be("invalid",s),Zv(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),xu(s);break;case"select":Be("invalid",s);break;case"textarea":Be("invalid",s),eb(s,c.value,c.defaultValue,c.children),xu(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||Gx(s.textContent,o)?(c.popover!=null&&(Be("beforetoggle",s),Be("toggle",s)),c.onScroll!=null&&Be("scroll",s),c.onScrollEnd!=null&&Be("scrollend",s),c.onClick!=null&&(s.onclick=dd),s=!0):s=!1,s||Us(r)}function Ub(r){for(tn=r.return;tn;)switch(tn.tag){case 3:case 27:wr=!0;return;case 5:case 13:wr=!1;return;default:tn=tn.return}}function El(r){if(r!==tn)return!1;if(!He)return Ub(r),He=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||ep(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&Ft&&Us(r),Ub(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Ft=sr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Ft=null}}else Ft=tn?sr(r.stateNode.nextSibling):null;return!0}function Sl(){Ft=tn=null,He=!1}function Nl(r){rr===null?rr=[r]:rr.push(r)}var Cl=Error(a(460)),Bb=Error(a(474)),Mh={then:function(){}};function zb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ku(){}function Fb(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(ku,ku),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Cl?Error(a(483)):r;default:if(typeof s.status=="string")s.then(ku,ku);else{if(r=Je,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=c}},function(c){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Cl?Error(a(483)):r}throw Tl=s,Cl}}var Tl=null;function Hb(){if(Tl===null)throw Error(a(459));var r=Tl;return Tl=null,r}var qi=null,Rl=0;function Mu(r){var s=Rl;return Rl+=1,qi===null&&(qi=[]),Fb(qi,r,s)}function Dl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Pu(r,s){throw s.$$typeof===l?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function qb(r){var s=r._init;return s(r._payload)}function Vb(r){function s(q,B){if(r){var $=q.deletions;$===null?(q.deletions=[B],q.flags|=16):$.push(B)}}function o(q,B){if(!r)return null;for(;B!==null;)s(q,B),B=B.sibling;return null}function c(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function h(q,B){return q=Ba(q,B),q.index=0,q.sibling=null,q}function g(q,B,$){return q.index=$,r?($=q.alternate,$!==null?($=$.index,$<B?(q.flags|=33554434,B):$):(q.flags|=33554434,B)):(q.flags|=1048576,B)}function E(q){return r&&q.alternate===null&&(q.flags|=33554434),q}function D(q,B,$,se){return B===null||B.tag!==6?(B=Dm($,q.mode,se),B.return=q,B):(B=h(B,$),B.return=q,B)}function O(q,B,$,se){var me=$.type;return me===m?ee(q,B,$.props.children,se,$.key):B!==null&&(B.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===T&&qb(me)===B.type)?(B=h(B,$.props),Dl(B,$),B.return=q,B):(B=ed($.type,$.key,$.props,null,q.mode,se),Dl(B,$),B.return=q,B)}function z(q,B,$,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==$.containerInfo||B.stateNode.implementation!==$.implementation?(B=Am($,q.mode,se),B.return=q,B):(B=h(B,$.children||[]),B.return=q,B)}function ee(q,B,$,se,me){return B===null||B.tag!==7?(B=Ws($,q.mode,se,me),B.return=q,B):(B=h(B,$),B.return=q,B)}function ie(q,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Dm(""+B,q.mode,$),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case u:return $=ed(B.type,B.key,B.props,null,q.mode,$),Dl($,B),$.return=q,$;case f:return B=Am(B,q.mode,$),B.return=q,B;case T:var se=B._init;return B=se(B._payload),ie(q,B,$)}if(H(B)||A(B))return B=Ws(B,q.mode,$,null),B.return=q,B;if(typeof B.then=="function")return ie(q,Mu(B),$);if(B.$$typeof===x)return ie(q,Xu(q,B),$);Pu(q,B)}return null}function Y(q,B,$,se){var me=B!==null?B.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return me!==null?null:D(q,B,""+$,se);if(typeof $=="object"&&$!==null){switch($.$$typeof){case u:return $.key===me?O(q,B,$,se):null;case f:return $.key===me?z(q,B,$,se):null;case T:return me=$._init,$=me($._payload),Y(q,B,$,se)}if(H($)||A($))return me!==null?null:ee(q,B,$,se,null);if(typeof $.then=="function")return Y(q,B,Mu($),se);if($.$$typeof===x)return Y(q,B,Xu(q,$),se);Pu(q,$)}return null}function J(q,B,$,se,me){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return q=q.get($)||null,D(B,q,""+se,me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case u:return q=q.get(se.key===null?$:se.key)||null,O(B,q,se,me);case f:return q=q.get(se.key===null?$:se.key)||null,z(B,q,se,me);case T:var je=se._init;return se=je(se._payload),J(q,B,$,se,me)}if(H(se)||A(se))return q=q.get($)||null,ee(B,q,se,me,null);if(typeof se.then=="function")return J(q,B,$,Mu(se),me);if(se.$$typeof===x)return J(q,B,$,Xu(B,se),me);Pu(B,se)}return null}function ye(q,B,$,se){for(var me=null,je=null,xe=B,Ee=B=0,Pt=null;xe!==null&&Ee<$.length;Ee++){xe.index>Ee?(Pt=xe,xe=null):Pt=xe.sibling;var qe=Y(q,xe,$[Ee],se);if(qe===null){xe===null&&(xe=Pt);break}r&&xe&&qe.alternate===null&&s(q,xe),B=g(qe,B,Ee),je===null?me=qe:je.sibling=qe,je=qe,xe=Pt}if(Ee===$.length)return o(q,xe),He&&Ls(q,Ee),me;if(xe===null){for(;Ee<$.length;Ee++)xe=ie(q,$[Ee],se),xe!==null&&(B=g(xe,B,Ee),je===null?me=xe:je.sibling=xe,je=xe);return He&&Ls(q,Ee),me}for(xe=c(xe);Ee<$.length;Ee++)Pt=J(xe,q,Ee,$[Ee],se),Pt!==null&&(r&&Pt.alternate!==null&&xe.delete(Pt.key===null?Ee:Pt.key),B=g(Pt,B,Ee),je===null?me=Pt:je.sibling=Pt,je=Pt);return r&&xe.forEach(function(Ga){return s(q,Ga)}),He&&Ls(q,Ee),me}function Te(q,B,$,se){if($==null)throw Error(a(151));for(var me=null,je=null,xe=B,Ee=B=0,Pt=null,qe=$.next();xe!==null&&!qe.done;Ee++,qe=$.next()){xe.index>Ee?(Pt=xe,xe=null):Pt=xe.sibling;var Ga=Y(q,xe,qe.value,se);if(Ga===null){xe===null&&(xe=Pt);break}r&&xe&&Ga.alternate===null&&s(q,xe),B=g(Ga,B,Ee),je===null?me=Ga:je.sibling=Ga,je=Ga,xe=Pt}if(qe.done)return o(q,xe),He&&Ls(q,Ee),me;if(xe===null){for(;!qe.done;Ee++,qe=$.next())qe=ie(q,qe.value,se),qe!==null&&(B=g(qe,B,Ee),je===null?me=qe:je.sibling=qe,je=qe);return He&&Ls(q,Ee),me}for(xe=c(xe);!qe.done;Ee++,qe=$.next())qe=J(xe,q,Ee,qe.value,se),qe!==null&&(r&&qe.alternate!==null&&xe.delete(qe.key===null?Ee:qe.key),B=g(qe,B,Ee),je===null?me=qe:je.sibling=qe,je=qe);return r&&xe.forEach(function(vA){return s(q,vA)}),He&&Ls(q,Ee),me}function ft(q,B,$,se){if(typeof $=="object"&&$!==null&&$.type===m&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case u:e:{for(var me=$.key;B!==null;){if(B.key===me){if(me=$.type,me===m){if(B.tag===7){o(q,B.sibling),se=h(B,$.props.children),se.return=q,q=se;break e}}else if(B.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===T&&qb(me)===B.type){o(q,B.sibling),se=h(B,$.props),Dl(se,$),se.return=q,q=se;break e}o(q,B);break}else s(q,B);B=B.sibling}$.type===m?(se=Ws($.props.children,q.mode,se,$.key),se.return=q,q=se):(se=ed($.type,$.key,$.props,null,q.mode,se),Dl(se,$),se.return=q,q=se)}return E(q);case f:e:{for(me=$.key;B!==null;){if(B.key===me)if(B.tag===4&&B.stateNode.containerInfo===$.containerInfo&&B.stateNode.implementation===$.implementation){o(q,B.sibling),se=h(B,$.children||[]),se.return=q,q=se;break e}else{o(q,B);break}else s(q,B);B=B.sibling}se=Am($,q.mode,se),se.return=q,q=se}return E(q);case T:return me=$._init,$=me($._payload),ft(q,B,$,se)}if(H($))return ye(q,B,$,se);if(A($)){if(me=A($),typeof me!="function")throw Error(a(150));return $=me.call($),Te(q,B,$,se)}if(typeof $.then=="function")return ft(q,B,Mu($),se);if($.$$typeof===x)return ft(q,B,Xu(q,$),se);Pu(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,B!==null&&B.tag===6?(o(q,B.sibling),se=h(B,$),se.return=q,q=se):(o(q,B),se=Dm($,q.mode,se),se.return=q,q=se),E(q)):o(q,B)}return function(q,B,$,se){try{Rl=0;var me=ft(q,B,$,se);return qi=null,me}catch(xe){if(xe===Cl)throw xe;var je=Vn(29,xe,null,q.mode);return je.lanes=se,je.return=q,je}finally{}}}var Bs=Vb(!0),$b=Vb(!1),Vi=he(null),Lu=he(0);function Gb(r,s){r=Jr,ve(Lu,r),ve(Vi,s),Jr=r|s.baseLanes}function Ph(){ve(Lu,Jr),ve(Vi,Vi.current)}function Lh(){Jr=Lu.current,we(Vi),we(Lu)}var Fn=he(null),Er=null;function Ra(r){var s=r.alternate;ve(Et,Et.current&1),ve(Fn,r),Er===null&&(s===null||Vi.current!==null||s.memoizedState!==null)&&(Er=r)}function Yb(r){if(r.tag===22){if(ve(Et,Et.current),ve(Fn,r),Er===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Er=r)}}else Da()}function Da(){ve(Et,Et.current),ve(Fn,Fn.current)}function qr(r){we(Fn),Er===r&&(Er=null),we(Et)}var Et=he(0);function Uu(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var sD=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},iD=t.unstable_scheduleCallback,oD=t.unstable_NormalPriority,St={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uh(){return{controller:new sD,data:new Map,refCount:0}}function Al(r){r.refCount--,r.refCount===0&&iD(oD,function(){r.controller.abort()})}var Il=null,Bh=0,$i=0,Gi=null;function lD(r,s){if(Il===null){var o=Il=[];Bh=0,$i=$m(),Gi={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Bh++,s.then(Wb,Wb),s}function Wb(){if(--Bh===0&&Il!==null){Gi!==null&&(Gi.status="fulfilled");var r=Il;Il=null,$i=0,Gi=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function cD(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var Kb=U.S;U.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&lD(r,s),Kb!==null&&Kb(r,s)};var zs=he(null);function zh(){var r=zs.current;return r!==null?r:Je.pooledCache}function Bu(r,s){s===null?ve(zs,zs.current):ve(zs,s.pool)}function Qb(){var r=zh();return r===null?null:{parent:St._currentValue,pool:r}}var Aa=0,Ie=null,Ke=null,bt=null,zu=!1,Yi=!1,Fs=!1,Fu=0,jl=0,Wi=null,uD=0;function pt(){throw Error(a(321))}function Fh(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!xn(r[o],s[o]))return!1;return!0}function Hh(r,s,o,c,h,g){return Aa=g,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=r===null||r.memoizedState===null?Hs:Ia,Fs=!1,g=o(c,h),Fs=!1,Yi&&(g=Zb(s,o,c,h)),Xb(r),g}function Xb(r){U.H=Sr;var s=Ke!==null&&Ke.next!==null;if(Aa=0,bt=Ke=Ie=null,zu=!1,jl=0,Wi=null,s)throw Error(a(300));r===null||kt||(r=r.dependencies,r!==null&&Qu(r)&&(kt=!0))}function Zb(r,s,o,c){Ie=r;var h=0;do{if(Yi&&(Wi=null),jl=0,Yi=!1,25<=h)throw Error(a(301));if(h+=1,bt=Ke=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}U.H=qs,g=s(o,c)}while(Yi);return g}function dD(){var r=U.H,s=r.useState()[0];return s=typeof s.then=="function"?Ol(s):s,r=r.useState()[0],(Ke!==null?Ke.memoizedState:null)!==r&&(Ie.flags|=1024),s}function qh(){var r=Fu!==0;return Fu=0,r}function Vh(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function $h(r){if(zu){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}zu=!1}Aa=0,bt=Ke=Ie=null,Yi=!1,jl=Fu=0,Wi=null}function fn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ie.memoizedState=bt=r:bt=bt.next=r,bt}function xt(){if(Ke===null){var r=Ie.alternate;r=r!==null?r.memoizedState:null}else r=Ke.next;var s=bt===null?Ie.memoizedState:bt.next;if(s!==null)bt=s,Ke=r;else{if(r===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));Ke=r,r={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},bt===null?Ie.memoizedState=bt=r:bt=bt.next=r}return bt}var Hu;Hu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ol(r){var s=jl;return jl+=1,Wi===null&&(Wi=[]),r=Fb(Wi,r,s),s=Ie,(bt===null?s.memoizedState:bt.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?Hs:Ia),r}function qu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ol(r);if(r.$$typeof===x)return Kt(r)}throw Error(a(438,String(r)))}function Gh(r){var s=null,o=Ie.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ie.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Hu(),Ie.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=j;return s.index++,o}function Vr(r,s){return typeof s=="function"?s(r):s}function Vu(r){var s=xt();return Yh(s,Ke,r)}function Yh(r,s,o){var c=r.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var h=r.baseQueue,g=c.pending;if(g!==null){if(h!==null){var E=h.next;h.next=g.next,g.next=E}s.baseQueue=h=g,c.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{s=h.next;var D=E=null,O=null,z=s,ee=!1;do{var ie=z.lane&-536870913;if(ie!==z.lane?(Fe&ie)===ie:(Aa&ie)===ie){var Y=z.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),ie===$i&&(ee=!0);else if((Aa&Y)===Y){z=z.next,Y===$i&&(ee=!0);continue}else ie={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},O===null?(D=O=ie,E=g):O=O.next=ie,Ie.lanes|=Y,za|=Y;ie=z.action,Fs&&o(g,ie),g=z.hasEagerState?z.eagerState:o(g,ie)}else Y={lane:ie,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},O===null?(D=O=Y,E=g):O=O.next=Y,Ie.lanes|=ie,za|=ie;z=z.next}while(z!==null&&z!==s);if(O===null?E=g:O.next=D,!xn(g,r.memoizedState)&&(kt=!0,ee&&(o=Gi,o!==null)))throw o;r.memoizedState=g,r.baseState=E,r.baseQueue=O,c.lastRenderedState=g}return h===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Wh(r){var s=xt(),o=s.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var c=o.dispatch,h=o.pending,g=s.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do g=r(g,E.action),E=E.next;while(E!==h);xn(g,s.memoizedState)||(kt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function Jb(r,s,o){var c=Ie,h=xt(),g=He;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=s();var E=!xn((Ke||h).memoizedState,o);if(E&&(h.memoizedState=o,kt=!0),h=h.queue,Xh(n0.bind(null,c,h,r),[r]),h.getSnapshot!==s||E||bt!==null&&bt.memoizedState.tag&1){if(c.flags|=2048,Ki(9,t0.bind(null,c,h,o,s),{destroy:void 0},null),Je===null)throw Error(a(349));g||(Aa&60)!==0||e0(c,s,o)}return o}function e0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ie.updateQueue,s===null?(s=Hu(),Ie.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function t0(r,s,o,c){s.value=o,s.getSnapshot=c,r0(s)&&a0(r)}function n0(r,s,o){return o(function(){r0(s)&&a0(r)})}function r0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!xn(r,o)}catch{return!0}}function a0(r){var s=Ta(r,2);s!==null&&nn(s,r,2)}function Kh(r){var s=fn();if(typeof r=="function"){var o=r;if(r=o(),Fs){tr(!0);try{o()}finally{tr(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:r},s}function s0(r,s,o,c){return r.baseState=o,Yh(r,Ke,typeof c=="function"?c:Vr)}function fD(r,s,o,c,h){if(Yu(r))throw Error(a(485));if(r=s.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};U.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,i0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function i0(r,s){var o=s.action,c=s.payload,h=r.state;if(s.isTransition){var g=U.T,E={};U.T=E;try{var D=o(h,c),O=U.S;O!==null&&O(E,D),o0(r,s,D)}catch(z){Qh(r,s,z)}finally{U.T=g}}else try{g=o(h,c),o0(r,s,g)}catch(z){Qh(r,s,z)}}function o0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){l0(r,s,c)},function(c){return Qh(r,s,c)}):l0(r,s,o)}function l0(r,s,o){s.status="fulfilled",s.value=o,c0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,i0(r,o)))}function Qh(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,c0(s),s=s.next;while(s!==c)}r.action=null}function c0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function u0(r,s){return s}function d0(r,s){if(He){var o=Je.formState;if(o!==null){e:{var c=Ie;if(He){if(Ft){t:{for(var h=Ft,g=wr;h.nodeType!==8;){if(!g){h=null;break t}if(h=sr(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Ft=sr(h.nextSibling),c=h.data==="F!";break e}}Us(c)}c=!1}c&&(s=o[0])}}return o=fn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u0,lastRenderedState:s},o.queue=c,o=D0.bind(null,Ie,c),c.dispatch=o,c=Kh(!1),g=nm.bind(null,Ie,!1,c.queue),c=fn(),h={state:s,dispatch:null,action:r,pending:null},c.queue=h,o=fD.bind(null,Ie,h,g,o),h.dispatch=o,c.memoizedState=r,[s,o,!1]}function f0(r){var s=xt();return h0(s,Ke,r)}function h0(r,s,o){s=Yh(r,s,u0)[0],r=Vu(Vr)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Ol(s):s;var c=xt(),h=c.queue,g=h.dispatch;return o!==c.memoizedState&&(Ie.flags|=2048,Ki(9,hD.bind(null,h,o),{destroy:void 0},null)),[s,g,r]}function hD(r,s){r.action=s}function m0(r){var s=xt(),o=Ke;if(o!==null)return h0(s,o,r);xt(),s=s.memoizedState,o=xt();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Ki(r,s,o,c){return r={tag:r,create:s,inst:o,deps:c,next:null},s=Ie.updateQueue,s===null&&(s=Hu(),Ie.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function p0(){return xt().memoizedState}function $u(r,s,o,c){var h=fn();Ie.flags|=r,h.memoizedState=Ki(1|s,o,{destroy:void 0},c===void 0?null:c)}function Gu(r,s,o,c){var h=xt();c=c===void 0?null:c;var g=h.memoizedState.inst;Ke!==null&&c!==null&&Fh(c,Ke.memoizedState.deps)?h.memoizedState=Ki(s,o,g,c):(Ie.flags|=r,h.memoizedState=Ki(1|s,o,g,c))}function g0(r,s){$u(8390656,8,r,s)}function Xh(r,s){Gu(2048,8,r,s)}function y0(r,s){return Gu(4,2,r,s)}function v0(r,s){return Gu(4,4,r,s)}function b0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function x0(r,s,o){o=o!=null?o.concat([r]):null,Gu(4,4,b0.bind(null,s,r),o)}function Zh(){}function _0(r,s){var o=xt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Fh(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function w0(r,s){var o=xt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Fh(s,c[1]))return c[0];if(c=r(),Fs){tr(!0);try{r()}finally{tr(!1)}}return o.memoizedState=[c,s],c}function Jh(r,s,o){return o===void 0||(Aa&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Sx(),Ie.lanes|=r,za|=r,o)}function E0(r,s,o,c){return xn(o,s)?o:Vi.current!==null?(r=Jh(r,o,c),xn(r,s)||(kt=!0),r):(Aa&42)===0?(kt=!0,r.memoizedState=o):(r=Sx(),Ie.lanes|=r,za|=r,s)}function S0(r,s,o,c,h){var g=V.p;V.p=g!==0&&8>g?g:8;var E=U.T,D={};U.T=D,nm(r,!1,s,o);try{var O=h(),z=U.S;if(z!==null&&z(D,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ee=cD(O,c);kl(r,s,ee,Sn(r))}else kl(r,s,c,Sn(r))}catch(ie){kl(r,s,{then:function(){},status:"rejected",reason:ie},Sn())}finally{V.p=g,U.T=E}}function mD(){}function em(r,s,o,c){if(r.tag!==5)throw Error(a(476));var h=N0(r).queue;S0(r,h,s,ae,o===null?mD:function(){return C0(r),o(c)})}function N0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:ae},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function C0(r){var s=N0(r).next.queue;kl(r,s,{},Sn())}function tm(){return Kt(ec)}function T0(){return xt().memoizedState}function R0(){return xt().memoizedState}function pD(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Sn();r=ka(o);var c=Ma(s,r,o);c!==null&&(nn(c,s,o),Ll(c,s,o)),s={cache:Uh()},r.payload=s;return}s=s.return}}function gD(r,s,o){var c=Sn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(r)?A0(s,o):(o=Ih(r,s,o,c),o!==null&&(nn(o,r,c),I0(o,s,c)))}function D0(r,s,o){var c=Sn();kl(r,s,o,c)}function kl(r,s,o,c){var h={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Yu(r))A0(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,D=g(E,o);if(h.hasEagerState=!0,h.eagerState=D,xn(D,E))return Au(r,s,h,0),Je===null&&Du(),!1}catch{}finally{}if(o=Ih(r,s,h,c),o!==null)return nn(o,r,c),I0(o,s,c),!0}return!1}function nm(r,s,o,c){if(c={lane:2,revertLane:$m(),action:c,hasEagerState:!1,eagerState:null,next:null},Yu(r)){if(s)throw Error(a(479))}else s=Ih(r,o,c,2),s!==null&&nn(s,r,2)}function Yu(r){var s=r.alternate;return r===Ie||s!==null&&s===Ie}function A0(r,s){Yi=zu=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function I0(r,s,o){if((o&4194176)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,dl(r,o)}}var Sr={readContext:Kt,use:qu,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt};Sr.useCacheRefresh=pt,Sr.useMemoCache=pt,Sr.useHostTransitionStatus=pt,Sr.useFormState=pt,Sr.useActionState=pt,Sr.useOptimistic=pt;var Hs={readContext:Kt,use:qu,useCallback:function(r,s){return fn().memoizedState=[r,s===void 0?null:s],r},useContext:Kt,useEffect:g0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,$u(4194308,4,b0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return $u(4194308,4,r,s)},useInsertionEffect:function(r,s){$u(4,2,r,s)},useMemo:function(r,s){var o=fn();s=s===void 0?null:s;var c=r();if(Fs){tr(!0);try{r()}finally{tr(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=fn();if(o!==void 0){var h=o(s);if(Fs){tr(!0);try{o(s)}finally{tr(!1)}}}else h=s;return c.memoizedState=c.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},c.queue=r,r=r.dispatch=gD.bind(null,Ie,r),[c.memoizedState,r]},useRef:function(r){var s=fn();return r={current:r},s.memoizedState=r},useState:function(r){r=Kh(r);var s=r.queue,o=D0.bind(null,Ie,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Zh,useDeferredValue:function(r,s){var o=fn();return Jh(o,r,s)},useTransition:function(){var r=Kh(!1);return r=S0.bind(null,Ie,r.queue,!0,!1),fn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Ie,h=fn();if(He){if(o===void 0)throw Error(a(407));o=o()}else{if(o=s(),Je===null)throw Error(a(349));(Fe&60)!==0||e0(c,s,o)}h.memoizedState=o;var g={value:o,getSnapshot:s};return h.queue=g,g0(n0.bind(null,c,g,r),[r]),c.flags|=2048,Ki(9,t0.bind(null,c,g,o,s),{destroy:void 0},null),o},useId:function(){var r=fn(),s=Je.identifierPrefix;if(He){var o=Hr,c=Fr;o=(c&~(1<<32-Jt(c)-1)).toString(32)+o,s=":"+s+"R"+o,o=Fu++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=uD++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return fn().memoizedState=pD.bind(null,Ie)}};Hs.useMemoCache=Gh,Hs.useHostTransitionStatus=tm,Hs.useFormState=d0,Hs.useActionState=d0,Hs.useOptimistic=function(r){var s=fn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=nm.bind(null,Ie,!0,o),o.dispatch=s,[r,s]};var Ia={readContext:Kt,use:qu,useCallback:_0,useContext:Kt,useEffect:Xh,useImperativeHandle:x0,useInsertionEffect:y0,useLayoutEffect:v0,useMemo:w0,useReducer:Vu,useRef:p0,useState:function(){return Vu(Vr)},useDebugValue:Zh,useDeferredValue:function(r,s){var o=xt();return E0(o,Ke.memoizedState,r,s)},useTransition:function(){var r=Vu(Vr)[0],s=xt().memoizedState;return[typeof r=="boolean"?r:Ol(r),s]},useSyncExternalStore:Jb,useId:T0};Ia.useCacheRefresh=R0,Ia.useMemoCache=Gh,Ia.useHostTransitionStatus=tm,Ia.useFormState=f0,Ia.useActionState=f0,Ia.useOptimistic=function(r,s){var o=xt();return s0(o,Ke,r,s)};var qs={readContext:Kt,use:qu,useCallback:_0,useContext:Kt,useEffect:Xh,useImperativeHandle:x0,useInsertionEffect:y0,useLayoutEffect:v0,useMemo:w0,useReducer:Wh,useRef:p0,useState:function(){return Wh(Vr)},useDebugValue:Zh,useDeferredValue:function(r,s){var o=xt();return Ke===null?Jh(o,r,s):E0(o,Ke.memoizedState,r,s)},useTransition:function(){var r=Wh(Vr)[0],s=xt().memoizedState;return[typeof r=="boolean"?r:Ol(r),s]},useSyncExternalStore:Jb,useId:T0};qs.useCacheRefresh=R0,qs.useMemoCache=Gh,qs.useHostTransitionStatus=tm,qs.useFormState=m0,qs.useActionState=m0,qs.useOptimistic=function(r,s){var o=xt();return Ke!==null?s0(o,Ke,r,s):(o.baseState=r,[r,o.queue.dispatch])};function rm(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:W({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var am={isMounted:function(r){return(r=r._reactInternals)?te(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Sn(),h=ka(c);h.payload=s,o!=null&&(h.callback=o),s=Ma(r,h,c),s!==null&&(nn(s,r,c),Ll(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Sn(),h=ka(c);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=Ma(r,h,c),s!==null&&(nn(s,r,c),Ll(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Sn(),c=ka(o);c.tag=2,s!=null&&(c.callback=s),s=Ma(r,c,o),s!==null&&(nn(s,r,o),Ll(s,r,o))}};function j0(r,s,o,c,h,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,E):s.prototype&&s.prototype.isPureReactComponent?!_l(o,c)||!_l(h,g):!0}function O0(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&am.enqueueReplaceState(s,s.state,null)}function Vs(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=W({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Wu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function k0(r){Wu(r)}function M0(r){console.error(r)}function P0(r){Wu(r)}function Ku(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function L0(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sm(r,s,o){return o=ka(o),o.tag=3,o.payload={element:null},o.callback=function(){Ku(r,s)},o}function U0(r){return r=ka(r),r.tag=3,r}function B0(r,s,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=c.value;r.payload=function(){return h(g)},r.callback=function(){L0(s,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){L0(s,o,c),typeof h!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function yD(r,s,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Pl(s,o,h,!0),o=Fn.current,o!==null){switch(o.tag){case 13:return Er===null?zm():o.alternate===null&&dt===0&&(dt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===Mh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Hm(r,c,h)),!1;case 22:return o.flags|=65536,c===Mh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Hm(r,c,h)),!1}throw Error(a(435,o.tag))}return Hm(r,c,h),zm(),!1}if(He)return s=Fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,c!==kh&&(r=Error(a(422),{cause:c}),Nl(Un(r,o)))):(c!==kh&&(s=Error(a(423),{cause:c}),Nl(Un(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,c=Un(c,o),h=sm(r.stateNode,c,h),xm(r,h),dt!==4&&(dt=2)),!1;var g=Error(a(520),{cause:c});if(g=Un(g,o),$l===null?$l=[g]:$l.push(g),dt!==4&&(dt=2),s===null)return!0;c=Un(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=sm(o.stateNode,c,r),xm(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Fa===null||!Fa.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=U0(h),B0(h,r,o,c),xm(o,h),!1}o=o.return}while(o!==null);return!1}var z0=Error(a(461)),kt=!1;function Ht(r,s,o,c){s.child=r===null?$b(s,null,o,c):Bs(s,r.child,o,c)}function F0(r,s,o,c,h){o=o.render;var g=s.ref;if("ref"in c){var E={};for(var D in c)D!=="ref"&&(E[D]=c[D])}else E=c;return Gs(s),c=Hh(r,s,o,E,g,h),D=qh(),r!==null&&!kt?(Vh(r,s,h),$r(r,s,h)):(He&&D&&jh(s),s.flags|=1,Ht(r,s,c,h),s.child)}function H0(r,s,o,c,h){if(r===null){var g=o.type;return typeof g=="function"&&!Rm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,q0(r,s,g,c,h)):(r=ed(o.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!mm(r,h)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:_l,o(E,c)&&r.ref===s.ref)return $r(r,s,h)}return s.flags|=1,r=Ba(g,c),r.ref=s.ref,r.return=s,s.child=r}function q0(r,s,o,c,h){if(r!==null){var g=r.memoizedProps;if(_l(g,c)&&r.ref===s.ref)if(kt=!1,s.pendingProps=c=g,mm(r,h))(r.flags&131072)!==0&&(kt=!0);else return s.lanes=r.lanes,$r(r,s,h)}return im(r,s,o,c,h)}function V0(r,s,o){var c=s.pendingProps,h=c.children,g=(s.stateNode._pendingVisibility&2)!==0,E=r!==null?r.memoizedState:null;if(Ml(r,s),c.mode==="hidden"||g){if((s.flags&128)!==0){if(c=E!==null?E.baseLanes|o:o,r!==null){for(h=s.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return $0(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Bu(s,E!==null?E.cachePool:null),E!==null?Gb(s,E):Ph(),Yb(s);else return s.lanes=s.childLanes=536870912,$0(r,s,E!==null?E.baseLanes|o:o,o)}else E!==null?(Bu(s,E.cachePool),Gb(s,E),Da(),s.memoizedState=null):(r!==null&&Bu(s,null),Ph(),Da());return Ht(r,s,h,o),s.child}function $0(r,s,o,c){var h=zh();return h=h===null?null:{parent:St._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&Bu(s,null),Ph(),Yb(s),r!==null&&Pl(r,s,c,!0),null}function Ml(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function im(r,s,o,c,h){return Gs(s),o=Hh(r,s,o,c,void 0,h),c=qh(),r!==null&&!kt?(Vh(r,s,h),$r(r,s,h)):(He&&c&&jh(s),s.flags|=1,Ht(r,s,o,h),s.child)}function G0(r,s,o,c,h,g){return Gs(s),s.updateQueue=null,o=Zb(s,c,o,h),Xb(r),c=qh(),r!==null&&!kt?(Vh(r,s,g),$r(r,s,g)):(He&&c&&jh(s),s.flags|=1,Ht(r,s,o,g),s.child)}function Y0(r,s,o,c,h){if(Gs(s),s.stateNode===null){var g=zi,E=o.contextType;typeof E=="object"&&E!==null&&(g=Kt(E)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=am,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},vm(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?Kt(E):zi,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(rm(s,o,E,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&am.enqueueReplaceState(g,g.state,null),Bl(s,c,g,h),Ul(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){g=s.stateNode;var D=s.memoizedProps,O=Vs(o,D);g.props=O;var z=g.context,ee=o.contextType;E=zi,typeof ee=="object"&&ee!==null&&(E=Kt(ee));var ie=o.getDerivedStateFromProps;ee=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(D||z!==E)&&O0(s,g,c,E),Oa=!1;var Y=s.memoizedState;g.state=Y,Bl(s,c,g,h),Ul(),z=s.memoizedState,D||Y!==z||Oa?(typeof ie=="function"&&(rm(s,o,ie,c),z=s.memoizedState),(O=Oa||j0(s,o,O,c,Y,z,E))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=z),g.props=c,g.state=z,g.context=E,c=O):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,bm(r,s),E=s.memoizedProps,ee=Vs(o,E),g.props=ee,ie=s.pendingProps,Y=g.context,z=o.contextType,O=zi,typeof z=="object"&&z!==null&&(O=Kt(z)),D=o.getDerivedStateFromProps,(z=typeof D=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ie||Y!==O)&&O0(s,g,c,O),Oa=!1,Y=s.memoizedState,g.state=Y,Bl(s,c,g,h),Ul();var J=s.memoizedState;E!==ie||Y!==J||Oa||r!==null&&r.dependencies!==null&&Qu(r.dependencies)?(typeof D=="function"&&(rm(s,o,D,c),J=s.memoizedState),(ee=Oa||j0(s,o,ee,c,Y,J,O)||r!==null&&r.dependencies!==null&&Qu(r.dependencies))?(z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,J,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,J,O)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=J),g.props=c,g.state=J,g.context=O,c=ee):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),c=!1)}return g=c,Ml(r,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&c?(s.child=Bs(s,r.child,null,h),s.child=Bs(s,null,o,h)):Ht(r,s,o,h),s.memoizedState=g.state,r=s.child):r=$r(r,s,h),r}function W0(r,s,o,c){return Sl(),s.flags|=256,Ht(r,s,o,c),s.child}var om={dehydrated:null,treeContext:null,retryLane:0};function lm(r){return{baseLanes:r,cachePool:Qb()}}function cm(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=$n),r}function K0(r,s,o){var c=s.pendingProps,h=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=r!==null&&r.memoizedState===null?!1:(Et.current&2)!==0),E&&(h=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(He){if(h?Ra(s):Da(),He){var D=Ft,O;if(O=D){e:{for(O=D,D=wr;O.nodeType!==8;){if(!D){D=null;break e}if(O=sr(O.nextSibling),O===null){D=null;break e}}D=O}D!==null?(s.memoizedState={dehydrated:D,treeContext:Ps!==null?{id:Fr,overflow:Hr}:null,retryLane:536870912},O=Vn(18,null,null,0),O.stateNode=D,O.return=s,s.child=O,tn=s,Ft=null,O=!0):O=!1}O||Us(s)}if(D=s.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return D.data==="$!"?s.lanes=16:s.lanes=536870912,null;qr(s)}return D=c.children,c=c.fallback,h?(Da(),h=s.mode,D=dm({mode:"hidden",children:D},h),c=Ws(c,h,o,null),D.return=s,c.return=s,D.sibling=c,s.child=D,h=s.child,h.memoizedState=lm(o),h.childLanes=cm(r,E,o),s.memoizedState=om,c):(Ra(s),um(s,D))}if(O=r.memoizedState,O!==null&&(D=O.dehydrated,D!==null)){if(g)s.flags&256?(Ra(s),s.flags&=-257,s=fm(r,s,o)):s.memoizedState!==null?(Da(),s.child=r.child,s.flags|=128,s=null):(Da(),h=c.fallback,D=s.mode,c=dm({mode:"visible",children:c.children},D),h=Ws(h,D,o,null),h.flags|=2,c.return=s,h.return=s,c.sibling=h,s.child=c,Bs(s,r.child,null,o),c=s.child,c.memoizedState=lm(o),c.childLanes=cm(r,E,o),s.memoizedState=om,s=h);else if(Ra(s),D.data==="$!"){if(E=D.nextSibling&&D.nextSibling.dataset,E)var z=E.dgst;E=z,c=Error(a(419)),c.stack="",c.digest=E,Nl({value:c,source:null,stack:null}),s=fm(r,s,o)}else if(kt||Pl(r,s,o,!1),E=(o&r.childLanes)!==0,kt||E){if(E=Je,E!==null){if(c=o&-o,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(E.suspendedLanes|o))!==0?0:c,c!==0&&c!==O.retryLane)throw O.retryLane=c,Ta(r,c),nn(E,r,c),z0}D.data==="$?"||zm(),s=fm(r,s,o)}else D.data==="$?"?(s.flags|=128,s.child=r.child,s=jD.bind(null,r),D._reactRetry=s,s=null):(r=O.treeContext,Ft=sr(D.nextSibling),tn=s,He=!0,rr=null,wr=!1,r!==null&&(Bn[zn++]=Fr,Bn[zn++]=Hr,Bn[zn++]=Ps,Fr=r.id,Hr=r.overflow,Ps=s),s=um(s,c.children),s.flags|=4096);return s}return h?(Da(),h=c.fallback,D=s.mode,O=r.child,z=O.sibling,c=Ba(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&31457280,z!==null?h=Ba(z,h):(h=Ws(h,D,o,null),h.flags|=2),h.return=s,c.return=s,c.sibling=h,s.child=c,c=h,h=s.child,D=r.child.memoizedState,D===null?D=lm(o):(O=D.cachePool,O!==null?(z=St._currentValue,O=O.parent!==z?{parent:z,pool:z}:O):O=Qb(),D={baseLanes:D.baseLanes|o,cachePool:O}),h.memoizedState=D,h.childLanes=cm(r,E,o),s.memoizedState=om,c):(Ra(s),o=r.child,r=o.sibling,o=Ba(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=o,s.memoizedState=null,o)}function um(r,s){return s=dm({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function dm(r,s){return _x(r,s,0,null)}function fm(r,s,o){return Bs(s,r.child,null,o),r=um(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Q0(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),gm(r.return,s,o)}function hm(r,s,o,c,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=h)}function X0(r,s,o){var c=s.pendingProps,h=c.revealOrder,g=c.tail;if(Ht(r,s,c.children,o),c=Et.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Q0(r,o,s);else if(r.tag===19)Q0(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(ve(Et,c),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&Uu(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),hm(s,!1,h,o,g);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Uu(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}hm(s,!0,o,null,g);break;case"together":hm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function $r(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),za|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Pl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,o=Ba(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ba(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function mm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Qu(r)))}function vD(r,s,o){switch(s.tag){case 3:wa(s,s.stateNode.containerInfo),ja(s,St,r.memoizedState.cache),Sl();break;case 27:case 5:er(s);break;case 4:wa(s,s.stateNode.containerInfo);break;case 10:ja(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ra(s),s.flags|=128,null):(o&s.child.childLanes)!==0?K0(r,s,o):(Ra(s),r=$r(r,s,o),r!==null?r.sibling:null);Ra(s);break;case 19:var h=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Pl(r,s,o,!1),c=(o&s.childLanes)!==0),h){if(c)return X0(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ve(Et,Et.current),c)break;return null;case 22:case 23:return s.lanes=0,V0(r,s,o);case 24:ja(s,St,r.memoizedState.cache)}return $r(r,s,o)}function Z0(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)kt=!0;else{if(!mm(r,o)&&(s.flags&128)===0)return kt=!1,vD(r,s,o);kt=(r.flags&131072)!==0}else kt=!1,He&&(s.flags&1048576)!==0&&Pb(s,Ou,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,h=c._init;if(c=h(c._payload),s.type=c,typeof c=="function")Rm(c)?(r=Vs(c,r),s.tag=1,s=Y0(null,s,c,r,o)):(s.tag=0,s=im(null,s,c,r,o));else{if(c!=null){if(h=c.$$typeof,h===_){s.tag=11,s=F0(null,s,c,r,o);break e}else if(h===S){s.tag=14,s=H0(null,s,c,r,o);break e}}throw s=Q(c)||c,Error(a(306,s,""))}}return s;case 0:return im(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,h=Vs(c,s.pendingProps),Y0(r,s,c,h,o);case 3:e:{if(wa(s,s.stateNode.containerInfo),r===null)throw Error(a(387));var g=s.pendingProps;h=s.memoizedState,c=h.element,bm(r,s),Bl(s,g,null,o);var E=s.memoizedState;if(g=E.cache,ja(s,St,g),g!==h.cache&&ym(s,[St],o,!0),Ul(),g=E.element,h.isDehydrated)if(h={element:g,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=W0(r,s,g,o);break e}else if(g!==c){c=Un(Error(a(424)),s),Nl(c),s=W0(r,s,g,o);break e}else for(Ft=sr(s.stateNode.containerInfo.firstChild),tn=s,He=!0,rr=null,wr=!0,o=$b(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Sl(),g===c){s=$r(r,s,o);break e}Ht(r,s,g,o)}s=s.child}return s;case 26:return Ml(r,s),r===null?(o=t_(s.type,null,s.pendingProps,null))?s.memoizedState=o:He||(o=s.type,r=s.pendingProps,c=fd(Gt.current).createElement(o),c[Wt]=s,c[un]=r,qt(c,o,r),Ot(c),s.stateNode=c):s.memoizedState=t_(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return er(s),r===null&&He&&(c=s.stateNode=Zx(s.type,s.pendingProps,Gt.current),tn=s,wr=!0,Ft=sr(c.firstChild)),c=s.pendingProps.children,r!==null||He?Ht(r,s,c,o):s.child=Bs(s,null,c,o),Ml(r,s),s.child;case 5:return r===null&&He&&((h=c=Ft)&&(c=WD(c,s.type,s.pendingProps,wr),c!==null?(s.stateNode=c,tn=s,Ft=sr(c.firstChild),wr=!1,h=!0):h=!1),h||Us(s)),er(s),h=s.type,g=s.pendingProps,E=r!==null?r.memoizedProps:null,c=g.children,ep(h,g)?c=null:E!==null&&ep(h,E)&&(s.flags|=32),s.memoizedState!==null&&(h=Hh(r,s,dD,null,null,o),ec._currentValue=h),Ml(r,s),Ht(r,s,c,o),s.child;case 6:return r===null&&He&&((r=o=Ft)&&(o=KD(o,s.pendingProps,wr),o!==null?(s.stateNode=o,tn=s,Ft=null,r=!0):r=!1),r||Us(s)),null;case 13:return K0(r,s,o);case 4:return wa(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Bs(s,null,c,o):Ht(r,s,c,o),s.child;case 11:return F0(r,s,s.type,s.pendingProps,o);case 7:return Ht(r,s,s.pendingProps,o),s.child;case 8:return Ht(r,s,s.pendingProps.children,o),s.child;case 12:return Ht(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,ja(s,s.type,c.value),Ht(r,s,c.children,o),s.child;case 9:return h=s.type._context,c=s.pendingProps.children,Gs(s),h=Kt(h),c=c(h),s.flags|=1,Ht(r,s,c,o),s.child;case 14:return H0(r,s,s.type,s.pendingProps,o);case 15:return q0(r,s,s.type,s.pendingProps,o);case 19:return X0(r,s,o);case 22:return V0(r,s,o);case 24:return Gs(s),c=Kt(St),r===null?(h=zh(),h===null&&(h=Je,g=Uh(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),s.memoizedState={parent:c,cache:h},vm(s),ja(s,St,h)):((r.lanes&o)!==0&&(bm(r,s),Bl(s,null,null,o),Ul()),h=r.memoizedState,g=s.memoizedState,h.parent!==c?(h={parent:c,cache:c},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),ja(s,St,c)):(c=g.cache,ja(s,St,c),c!==h.cache&&ym(s,[St],o,!0))),Ht(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}var pm=he(null),$s=null,Gr=null;function ja(r,s,o){ve(pm,s._currentValue),s._currentValue=o}function Yr(r){r._currentValue=pm.current,we(pm)}function gm(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function ym(r,s,o,c){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var E=h.child;g=g.firstContext;e:for(;g!==null;){var D=g;g=h;for(var O=0;O<s.length;O++)if(D.context===s[O]){g.lanes|=o,D=g.alternate,D!==null&&(D.lanes|=o),gm(g.return,o,r),c||(E=null);break e}g=D.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(a(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),gm(E,o,r),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===r){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Pl(r,s,o,c){r=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var D=h.type;xn(h.pendingProps.value,E.value)||(r!==null?r.push(D):r=[D])}}else if(h===Zn.current){if(E=h.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(ec):r=[ec])}h=h.return}r!==null&&ym(s,r,o,c),s.flags|=262144}function Qu(r){for(r=r.firstContext;r!==null;){if(!xn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Gs(r){$s=r,Gr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Kt(r){return J0($s,r)}function Xu(r,s){return $s===null&&Gs(r),J0(r,s)}function J0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Gr===null){if(r===null)throw Error(a(308));Gr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Gr=Gr.next=s;return o}var Oa=!1;function vm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ka(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ma(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ot&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,s=Iu(r),kb(r,null,o),s}return Au(r,c,s,o),Iu(r)}function Ll(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,dl(r,o)}}function xm(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?h=g=s:g=g.next=s}else h=g=s;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var _m=!1;function Ul(){if(_m){var r=Gi;if(r!==null)throw r}}function Bl(r,s,o,c){_m=!1;var h=r.updateQueue;Oa=!1;var g=h.firstBaseUpdate,E=h.lastBaseUpdate,D=h.shared.pending;if(D!==null){h.shared.pending=null;var O=D,z=O.next;O.next=null,E===null?g=z:E.next=z,E=O;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,D=ee.lastBaseUpdate,D!==E&&(D===null?ee.firstBaseUpdate=z:D.next=z,ee.lastBaseUpdate=O))}if(g!==null){var ie=h.baseState;E=0,ee=z=O=null,D=g;do{var Y=D.lane&-536870913,J=Y!==D.lane;if(J?(Fe&Y)===Y:(c&Y)===Y){Y!==0&&Y===$i&&(_m=!0),ee!==null&&(ee=ee.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var ye=r,Te=D;Y=s;var ft=o;switch(Te.tag){case 1:if(ye=Te.payload,typeof ye=="function"){ie=ye.call(ft,ie,Y);break e}ie=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Te.payload,Y=typeof ye=="function"?ye.call(ft,ie,Y):ye,Y==null)break e;ie=W({},ie,Y);break e;case 2:Oa=!0}}Y=D.callback,Y!==null&&(r.flags|=64,J&&(r.flags|=8192),J=h.callbacks,J===null?h.callbacks=[Y]:J.push(Y))}else J={lane:Y,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ee===null?(z=ee=J,O=ie):ee=ee.next=J,E|=Y;if(D=D.next,D===null){if(D=h.shared.pending,D===null)break;J=D,D=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);ee===null&&(O=ie),h.baseState=O,h.firstBaseUpdate=z,h.lastBaseUpdate=ee,g===null&&(h.shared.lanes=0),za|=E,r.lanes=E,r.memoizedState=ie}}function ex(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function tx(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)ex(o[r],s)}function zl(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&r)===r){c=void 0;var g=o.create,E=o.inst;c=g(),E.destroy=c}o=o.next}while(o!==h)}}catch(D){Ze(s,s.return,D)}}function Pa(r,s,o){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&r)===r){var E=c.inst,D=E.destroy;if(D!==void 0){E.destroy=void 0,h=s;var O=o;try{D()}catch(z){Ze(h,O,z)}}}c=c.next}while(c!==g)}}catch(z){Ze(s,s.return,z)}}function nx(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{tx(s,o)}catch(c){Ze(r,r.return,c)}}}function rx(r,s,o){o.props=Vs(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){Ze(r,s,c)}}function Ys(r,s){try{var o=r.ref;if(o!==null){var c=r.stateNode;switch(r.tag){case 26:case 27:case 5:var h=c;break;default:h=c}typeof o=="function"?r.refCleanup=o(h):o.current=h}}catch(g){Ze(r,s,g)}}function _n(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){Ze(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){Ze(r,s,h)}else o.current=null}function ax(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){Ze(r,r.return,h)}}function sx(r,s,o){try{var c=r.stateNode;qD(c,r.type,o,s),c[un]=s}catch(h){Ze(r,r.return,h)}}function ix(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function wm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ix(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Em(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=dd));else if(c!==4&&c!==27&&(r=r.child,r!==null))for(Em(r,s,o),r=r.sibling;r!==null;)Em(r,s,o),r=r.sibling}function Zu(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&c!==27&&(r=r.child,r!==null))for(Zu(r,s,o),r=r.sibling;r!==null;)Zu(r,s,o),r=r.sibling}var Wr=!1,ut=!1,Sm=!1,ox=typeof WeakSet=="function"?WeakSet:Set,Mt=null,lx=!1;function bD(r,s){if(r=r.containerInfo,Zm=vd,r=Nb(r),Ch(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,D=-1,O=-1,z=0,ee=0,ie=r,Y=null;t:for(;;){for(var J;ie!==o||h!==0&&ie.nodeType!==3||(D=E+h),ie!==g||c!==0&&ie.nodeType!==3||(O=E+c),ie.nodeType===3&&(E+=ie.nodeValue.length),(J=ie.firstChild)!==null;)Y=ie,ie=J;for(;;){if(ie===r)break t;if(Y===o&&++z===h&&(D=E),Y===g&&++ee===c&&(O=E),(J=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=J}o=D===-1||O===-1?null:{start:D,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Jm={focusedElem:r,selectionRange:o},vd=!1,Mt=s;Mt!==null;)if(s=Mt,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Mt=r;else for(;Mt!==null;){switch(s=Mt,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,h=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var ye=Vs(o.type,h,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(ye,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Te){Ze(o,o.return,Te)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)rp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":rp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,Mt=r;break}Mt=s.return}return ye=lx,lx=!1,ye}function cx(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Qr(r,o),c&4&&zl(5,o);break;case 1:if(Qr(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(D){Ze(o,o.return,D)}else{var h=Vs(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(D){Ze(o,o.return,D)}}c&64&&nx(o),c&512&&Ys(o,o.return);break;case 3:if(Qr(r,o),c&64&&(c=o.updateQueue,c!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{tx(c,r)}catch(D){Ze(o,o.return,D)}}break;case 26:Qr(r,o),c&512&&Ys(o,o.return);break;case 27:case 5:Qr(r,o),s===null&&c&4&&ax(o),c&512&&Ys(o,o.return);break;case 12:Qr(r,o);break;case 13:Qr(r,o),c&4&&fx(r,o);break;case 22:if(h=o.memoizedState!==null||Wr,!h){s=s!==null&&s.memoizedState!==null||ut;var g=Wr,E=ut;Wr=h,(ut=s)&&!E?La(r,o,(o.subtreeFlags&8772)!==0):Qr(r,o),Wr=g,ut=E}c&512&&(o.memoizedProps.mode==="manual"?Ys(o,o.return):_n(o,o.return));break;default:Qr(r,o)}}function ux(r){var s=r.alternate;s!==null&&(r.alternate=null,ux(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&uh(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _t=null,wn=!1;function Kr(r,s,o){for(o=o.child;o!==null;)dx(r,s,o),o=o.sibling}function dx(r,s,o){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Ts,o)}catch{}switch(o.tag){case 26:ut||_n(o,s),Kr(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ut||_n(o,s);var c=_t,h=wn;for(_t=o.stateNode,Kr(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);uh(o),_t=c,wn=h;break;case 5:ut||_n(o,s);case 6:h=_t;var g=wn;if(_t=null,Kr(r,s,o),_t=h,wn=g,_t!==null)if(wn)try{r=_t,c=o.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)}catch(E){Ze(o,s,E)}else try{_t.removeChild(o.stateNode)}catch(E){Ze(o,s,E)}break;case 18:_t!==null&&(wn?(s=_t,o=o.stateNode,s.nodeType===8?np(s.parentNode,o):s.nodeType===1&&np(s,o),ac(s)):np(_t,o.stateNode));break;case 4:c=_t,h=wn,_t=o.stateNode.containerInfo,wn=!0,Kr(r,s,o),_t=c,wn=h;break;case 0:case 11:case 14:case 15:ut||Pa(2,o,s),ut||Pa(4,o,s),Kr(r,s,o);break;case 1:ut||(_n(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&rx(o,s,c)),Kr(r,s,o);break;case 21:Kr(r,s,o);break;case 22:ut||_n(o,s),ut=(c=ut)||o.memoizedState!==null,Kr(r,s,o),ut=c;break;default:Kr(r,s,o)}}function fx(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ac(r)}catch(o){Ze(s,s.return,o)}}function xD(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new ox),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new ox),s;default:throw Error(a(435,r.tag))}}function Nm(r,s){var o=xD(r);s.forEach(function(c){var h=OD.bind(null,r,c);o.has(c)||(o.add(c),c.then(h,h))})}function Hn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],g=r,E=s,D=E;e:for(;D!==null;){switch(D.tag){case 27:case 5:_t=D.stateNode,wn=!1;break e;case 3:_t=D.stateNode.containerInfo,wn=!0;break e;case 4:_t=D.stateNode.containerInfo,wn=!0;break e}D=D.return}if(_t===null)throw Error(a(160));dx(g,E,h),_t=null,wn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)hx(s,r),s=s.sibling}var ar=null;function hx(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Hn(s,r),qn(r),c&4&&(Pa(3,r,r.return),zl(3,r),Pa(5,r,r.return));break;case 1:Hn(s,r),qn(r),c&512&&(ut||o===null||_n(o,o.return)),c&64&&Wr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=ar;if(Hn(s,r),qn(r),c&512&&(ut||o===null||_n(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":g=h.getElementsByTagName("title")[0],(!g||g[fl]||g[Wt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(c),h.head.insertBefore(g,h.querySelector("head > title"))),qt(g,c,o),g[Wt]=r,Ot(g),c=g;break e;case"link":var E=a_("link","href",h).get(c+(o.href||""));if(E){for(var D=0;D<E.length;D++)if(g=E[D],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(D,1);break t}}g=h.createElement(c),qt(g,c,o),h.head.appendChild(g);break;case"meta":if(E=a_("meta","content",h).get(c+(o.content||""))){for(D=0;D<E.length;D++)if(g=E[D],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(D,1);break t}}g=h.createElement(c),qt(g,c,o),h.head.appendChild(g);break;default:throw Error(a(468,c))}g[Wt]=r,Ot(g),c=g}r.stateNode=c}else s_(h,r.type,r.stateNode);else r.stateNode=r_(h,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?s_(h,r.type,r.stateNode):r_(h,c,r.memoizedProps)):c===null&&r.stateNode!==null&&sx(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&r.alternate===null){h=r.stateNode,g=r.memoizedProps;try{for(var O=h.firstChild;O;){var z=O.nextSibling,ee=O.nodeName;O[fl]||ee==="HEAD"||ee==="BODY"||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&O.rel.toLowerCase()==="stylesheet"||h.removeChild(O),O=z}for(var ie=r.type,Y=h.attributes;Y.length;)h.removeAttributeNode(Y[0]);qt(h,ie,g),h[Wt]=r,h[un]=g}catch(ye){Ze(r,r.return,ye)}}case 5:if(Hn(s,r),qn(r),c&512&&(ut||o===null||_n(o,o.return)),r.flags&32){h=r.stateNode;try{Oi(h,"")}catch(ye){Ze(r,r.return,ye)}}c&4&&r.stateNode!=null&&(h=r.memoizedProps,sx(r,h,o!==null?o.memoizedProps:h)),c&1024&&(Sm=!0);break;case 6:if(Hn(s,r),qn(r),c&4){if(r.stateNode===null)throw Error(a(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(ye){Ze(r,r.return,ye)}}break;case 3:if(pd=null,h=ar,ar=hd(s.containerInfo),Hn(s,r),ar=h,qn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ac(s.containerInfo)}catch(ye){Ze(r,r.return,ye)}Sm&&(Sm=!1,mx(r));break;case 4:c=ar,ar=hd(r.stateNode.containerInfo),Hn(s,r),qn(r),ar=c;break;case 12:Hn(s,r),qn(r);break;case 13:Hn(s,r),qn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(km=kn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Nm(r,c)));break;case 22:if(c&512&&(ut||o===null||_n(o,o.return)),O=r.memoizedState!==null,z=o!==null&&o.memoizedState!==null,ee=Wr,ie=ut,Wr=ee||O,ut=ie||z,Hn(s,r),ut=ie,Wr=ee,qn(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,c&8192&&(s._visibility=O?s._visibility&-2:s._visibility|1,O&&(s=Wr||ut,o===null||z||s||Qi(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){z=o=s;try{if(h=z.stateNode,O)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=z.stateNode,D=z.memoizedProps.style;var J=D!=null&&D.hasOwnProperty("display")?D.display:null;E.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ye){Ze(z,z.return,ye)}}}else if(s.tag===6){if(o===null){z=s;try{z.stateNode.nodeValue=O?"":z.memoizedProps}catch(ye){Ze(z,z.return,ye)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Nm(r,o))));break;case 19:Hn(s,r),qn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Nm(r,c)));break;case 21:break;default:Hn(s,r),qn(r)}}function qn(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(ix(o)){var c=o;break e}o=o.return}throw Error(a(160))}switch(c.tag){case 27:var h=c.stateNode,g=wm(r);Zu(r,g,h);break;case 5:var E=c.stateNode;c.flags&32&&(Oi(E,""),c.flags&=-33);var D=wm(r);Zu(r,D,E);break;case 3:case 4:var O=c.stateNode.containerInfo,z=wm(r);Em(r,z,O);break;default:throw Error(a(161))}}}catch(ee){Ze(r,r.return,ee)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function mx(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;mx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Qr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)cx(r,s.alternate,s),s=s.sibling}function Qi(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Pa(4,s,s.return),Qi(s);break;case 1:_n(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&rx(s,s.return,o),Qi(s);break;case 26:case 27:case 5:_n(s,s.return),Qi(s);break;case 22:_n(s,s.return),s.memoizedState===null&&Qi(s);break;default:Qi(s)}r=r.sibling}}function La(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,h=r,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:La(h,g,o),zl(4,g);break;case 1:if(La(h,g,o),c=g,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Ze(c,c.return,z)}if(c=g,h=c.updateQueue,h!==null){var D=c.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)ex(O[h],D)}catch(z){Ze(c,c.return,z)}}o&&E&64&&nx(g),Ys(g,g.return);break;case 26:case 27:case 5:La(h,g,o),o&&c===null&&E&4&&ax(g),Ys(g,g.return);break;case 12:La(h,g,o);break;case 13:La(h,g,o),o&&E&4&&fx(h,g);break;case 22:g.memoizedState===null&&La(h,g,o),Ys(g,g.return);break;default:La(h,g,o)}s=s.sibling}}function Cm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Al(o))}function Tm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Al(r))}function Ua(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)px(r,s,o,c),s=s.sibling}function px(r,s,o,c){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Ua(r,s,o,c),h&2048&&zl(9,s);break;case 3:Ua(r,s,o,c),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Al(r)));break;case 12:if(h&2048){Ua(r,s,o,c),r=s.stateNode;try{var g=s.memoizedProps,E=g.id,D=g.onPostCommit;typeof D=="function"&&D(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){Ze(s,s.return,O)}}else Ua(r,s,o,c);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?Ua(r,s,o,c):Fl(r,s):g._visibility&4?Ua(r,s,o,c):(g._visibility|=4,Xi(r,s,o,c,(s.subtreeFlags&10256)!==0)),h&2048&&Cm(s.alternate,s);break;case 24:Ua(r,s,o,c),h&2048&&Tm(s.alternate,s);break;default:Ua(r,s,o,c)}}function Xi(r,s,o,c,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,E=s,D=o,O=c,z=E.flags;switch(E.tag){case 0:case 11:case 15:Xi(g,E,D,O,h),zl(8,E);break;case 23:break;case 22:var ee=E.stateNode;E.memoizedState!==null?ee._visibility&4?Xi(g,E,D,O,h):Fl(g,E):(ee._visibility|=4,Xi(g,E,D,O,h)),h&&z&2048&&Cm(E.alternate,E);break;case 24:Xi(g,E,D,O,h),h&&z&2048&&Tm(E.alternate,E);break;default:Xi(g,E,D,O,h)}s=s.sibling}}function Fl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,h=c.flags;switch(c.tag){case 22:Fl(o,c),h&2048&&Cm(c.alternate,c);break;case 24:Fl(o,c),h&2048&&Tm(c.alternate,c);break;default:Fl(o,c)}s=s.sibling}}var Hl=8192;function Zi(r){if(r.subtreeFlags&Hl)for(r=r.child;r!==null;)gx(r),r=r.sibling}function gx(r){switch(r.tag){case 26:Zi(r),r.flags&Hl&&r.memoizedState!==null&&lA(ar,r.memoizedState,r.memoizedProps);break;case 5:Zi(r);break;case 3:case 4:var s=ar;ar=hd(r.stateNode.containerInfo),Zi(r),ar=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Hl,Hl=16777216,Zi(r),Hl=s):Zi(r));break;default:Zi(r)}}function yx(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function ql(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Mt=c,bx(c,r)}yx(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)vx(r),r=r.sibling}function vx(r){switch(r.tag){case 0:case 11:case 15:ql(r),r.flags&2048&&Pa(9,r,r.return);break;case 3:ql(r);break;case 12:ql(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Ju(r)):ql(r);break;default:ql(r)}}function Ju(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Mt=c,bx(c,r)}yx(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Pa(8,s,s.return),Ju(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Ju(s));break;default:Ju(s)}r=r.sibling}}function bx(r,s){for(;Mt!==null;){var o=Mt;switch(o.tag){case 0:case 11:case 15:Pa(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Al(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Mt=c;else e:for(o=r;Mt!==null;){c=Mt;var h=c.sibling,g=c.return;if(ux(c),c===o){Mt=null;break e}if(h!==null){h.return=g,Mt=h;break e}Mt=g}}}function _D(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(r,s,o,c){return new _D(r,s,o,c)}function Rm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ba(r,s){var o=r.alternate;return o===null?(o=Vn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function xx(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function ed(r,s,o,c,h,g){var E=0;if(c=r,typeof r=="function")Rm(r)&&(E=1);else if(typeof r=="string")E=iA(r,o,wt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case m:return Ws(o.children,h,g,s);case p:E=8,h|=24;break;case v:return r=Vn(12,o,s,h|2),r.elementType=v,r.lanes=g,r;case N:return r=Vn(13,o,s,h),r.elementType=N,r.lanes=g,r;case C:return r=Vn(19,o,s,h),r.elementType=C,r.lanes=g,r;case R:return _x(o,h,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case y:case x:E=10;break e;case b:E=9;break e;case _:E=11;break e;case S:E=14;break e;case T:E=16,c=null;break e}E=29,o=Error(a(130,r===null?"null":typeof r,"")),c=null}return s=Vn(E,o,s,h),s.elementType=r,s.type=c,s.lanes=g,s}function Ws(r,s,o,c){return r=Vn(7,r,c,s),r.lanes=o,r}function _x(r,s,o,c){r=Vn(22,r,c,s),r.elementType=R,r.lanes=o;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=h._current;if(g===null)throw Error(a(456));if((h._pendingVisibility&2)===0){var E=Ta(g,2);E!==null&&(h._pendingVisibility|=2,nn(E,g,2))}},attach:function(){var g=h._current;if(g===null)throw Error(a(456));if((h._pendingVisibility&2)!==0){var E=Ta(g,2);E!==null&&(h._pendingVisibility&=-3,nn(E,g,2))}}};return r.stateNode=h,r}function Dm(r,s,o){return r=Vn(6,r,null,s),r.lanes=o,r}function Am(r,s,o){return s=Vn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Xr(r){r.flags|=4}function wx(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!i_(s)){if(s=Fn.current,s!==null&&((Fe&4194176)===Fe?Er!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||s!==Er))throw Tl=Mh,Bb;r.flags|=8192}}function td(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?vt():536870912,r.lanes|=s,eo|=s)}function Vl(r,s){if(!He)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function it(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&31457280,c|=h.flags&31457280,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function wD(r,s,o){var c=s.pendingProps;switch(Oh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(s),null;case 1:return it(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Yr(St),Jn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(El(s)?Xr(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,rr!==null&&(Um(rr),rr=null))),it(s),null;case 26:return o=s.memoizedState,r===null?(Xr(s),o!==null?(it(s),wx(s,o)):(it(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Xr(s),it(s),wx(s,o)):(it(s),s.flags&=-16777217):(r.memoizedProps!==c&&Xr(s),it(s),s.flags&=-16777217),null;case 27:Lr(s),o=Gt.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Xr(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return it(s),null}r=wt.current,El(s)?Lb(s):(r=Zx(h,c,o),s.stateNode=r,Xr(s))}return it(s),null;case 5:if(Lr(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Xr(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return it(s),null}if(r=wt.current,El(s))Lb(s);else{switch(h=fd(Gt.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?h.createElement(o,{is:c.is}):h.createElement(o)}}r[Wt]=s,r[un]=c;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(qt(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Xr(s)}}return it(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Xr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(a(166));if(r=Gt.current,El(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,h=tn,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}r[Wt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Gx(r.nodeValue,o)),r||Us(s)}else r=fd(r).createTextNode(c),r[Wt]=s,s.stateNode=r}return it(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=El(s),c!==null&&c.dehydrated!==null){if(r===null){if(!h)throw Error(a(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Wt]=s}else Sl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),h=!1}else rr!==null&&(Um(rr),rr=null),h=!0;if(!h)return s.flags&256?(qr(s),s):(qr(s),null)}if(qr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),td(s,s.updateQueue),it(s),null;case 4:return Jn(),r===null&&Km(s.stateNode.containerInfo),it(s),null;case 10:return Yr(s.type),it(s),null;case 19:if(we(Et),h=s.memoizedState,h===null)return it(s),null;if(c=(s.flags&128)!==0,g=h.rendering,g===null)if(c)Vl(h,!1);else{if(dt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=Uu(r),g!==null){for(s.flags|=128,Vl(h,!1),r=g.updateQueue,s.updateQueue=r,td(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)xx(o,r),o=o.sibling;return ve(Et,Et.current&1|2),s.child}r=r.sibling}h.tail!==null&&kn()>nd&&(s.flags|=128,c=!0,Vl(h,!1),s.lanes=4194304)}else{if(!c)if(r=Uu(g),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,td(s,r),Vl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!He)return it(s),null}else 2*kn()-h.renderingStartTime>nd&&o!==536870912&&(s.flags|=128,c=!0,Vl(h,!1),s.lanes=4194304);h.isBackwards?(g.sibling=s.child,s.child=g):(r=h.last,r!==null?r.sibling=g:s.child=g,h.last=g)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=kn(),s.sibling=null,r=Et.current,ve(Et,c?r&1|2:r&1),s):(it(s),null);case 22:case 23:return qr(s),Lh(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(it(s),s.subtreeFlags&6&&(s.flags|=8192)):it(s),o=s.updateQueue,o!==null&&td(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&we(zs),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Yr(St),it(s),null;case 25:return null}throw Error(a(156,s.tag))}function ED(r,s){switch(Oh(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Yr(St),Jn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Lr(s),null;case 13:if(qr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Sl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return we(Et),null;case 4:return Jn(),null;case 10:return Yr(s.type),null;case 22:case 23:return qr(s),Lh(),r!==null&&we(zs),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Yr(St),null;case 25:return null;default:return null}}function Ex(r,s){switch(Oh(s),s.tag){case 3:Yr(St),Jn();break;case 26:case 27:case 5:Lr(s);break;case 4:Jn();break;case 13:qr(s);break;case 19:we(Et);break;case 10:Yr(s.type);break;case 22:case 23:qr(s),Lh(),r!==null&&we(zs);break;case 24:Yr(St)}}var SD={getCacheForType:function(r){var s=Kt(St),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},ND=typeof WeakMap=="function"?WeakMap:Map,ot=0,Je=null,Me=null,Fe=0,et=0,En=null,Zr=!1,Ji=!1,Im=!1,Jr=0,dt=0,za=0,Ks=0,jm=0,$n=0,eo=0,$l=null,Nr=null,Om=!1,km=0,nd=1/0,rd=null,Fa=null,ad=!1,Qs=null,Gl=0,Mm=0,Pm=null,Yl=0,Lm=null;function Sn(){if((ot&2)!==0&&Fe!==0)return Fe&-Fe;if(U.T!==null){var r=$i;return r!==0?r:$m()}return lh()}function Sx(){$n===0&&($n=(Fe&536870912)===0||He?As():536870912);var r=Fn.current;return r!==null&&(r.flags|=32),$n}function nn(r,s,o){(r===Je&&et===2||r.cancelPendingCommit!==null)&&(to(r,0),ea(r,Fe,$n,!1)),xr(r,o),((ot&2)===0||r!==Je)&&(r===Je&&((ot&2)===0&&(Ks|=o),dt===4&&ea(r,Fe,$n,!1)),Cr(r))}function Nx(r,s,o){if((ot&6)!==0)throw Error(a(327));var c=!o&&(s&60)===0&&(s&r.expiredLanes)===0||ct(r,s),h=c?RD(r,s):Fm(r,s,!0),g=c;do{if(h===0){Ji&&!c&&ea(r,s,0,!1);break}else if(h===6)ea(r,s,0,!Zr);else{if(o=r.current.alternate,g&&!CD(o)){h=Fm(r,s,!1),g=!1;continue}if(h===2){if(g=s,r.errorRecoveryDisabledLanes&g)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var D=r;h=$l;var O=D.current.memoizedState.isDehydrated;if(O&&(to(D,E).flags|=256),E=Fm(D,E,!1),E!==2){if(Im&&!O){D.errorRecoveryDisabledLanes|=g,Ks|=g,h=4;break e}g=Nr,Nr=h,g!==null&&Um(g)}h=E}if(g=!1,h!==2)continue}}if(h===1){to(r,0),ea(r,s,0,!0);break}e:{switch(c=r,h){case 0:case 1:throw Error(a(345));case 4:if((s&4194176)===s){ea(c,s,$n,!Zr);break e}break;case 2:Nr=null;break;case 3:case 5:break;default:throw Error(a(329))}if(c.finishedWork=o,c.finishedLanes=s,(s&62914560)===s&&(g=km+300-kn(),10<g)){if(ea(c,s,$n,!Zr),st(c,0)!==0)break e;c.timeoutHandle=Kx(Cx.bind(null,c,o,Nr,rd,Om,s,$n,Ks,eo,Zr,2,-0,0),g);break e}Cx(c,o,Nr,rd,Om,s,$n,Ks,eo,Zr,0,-0,0)}}break}while(!0);Cr(r)}function Um(r){Nr===null?Nr=r:Nr.push.apply(Nr,r)}function Cx(r,s,o,c,h,g,E,D,O,z,ee,ie,Y){var J=s.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(Jl={stylesheets:null,count:0,unsuspend:oA},gx(s),s=cA(),s!==null)){r.cancelPendingCommit=s(Ox.bind(null,r,o,c,h,E,D,O,1,ie,Y)),ea(r,g,E,!z);return}Ox(r,o,c,h,E,D,O,ee,ie,Y)}function CD(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],g=h.getSnapshot;h=h.value;try{if(!xn(g(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ea(r,s,o,c){s&=~jm,s&=~Ks,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var h=s;0<h;){var g=31-Jt(h),E=1<<g;c[g]=-1,h&=~E}o!==0&&cn(r,o,s)}function sd(){return(ot&6)===0?(Wl(0),!1):!0}function Bm(){if(Me!==null){if(et===0)var r=Me.return;else r=Me,Gr=$s=null,$h(r),qi=null,Rl=0,r=Me;for(;r!==null;)Ex(r.alternate,r),r=r.return;Me=null}}function to(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,$D(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Bm(),Je=r,Me=o=Ba(r.current,null),Fe=s,et=0,En=null,Zr=!1,Ji=ct(r,s),Im=!1,eo=$n=jm=Ks=za=dt=0,Nr=$l=null,Om=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var h=31-Jt(c),g=1<<h;s|=r[h],c&=~g}return Jr=s,Du(),o}function Tx(r,s){Ie=null,U.H=Sr,s===Cl?(s=Hb(),et=3):s===Bb?(s=Hb(),et=4):et=s===z0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,En=s,Me===null&&(dt=1,Ku(r,Un(s,r.current)))}function Rx(){var r=U.H;return U.H=Sr,r===null?Sr:r}function Dx(){var r=U.A;return U.A=SD,r}function zm(){dt=4,Zr||(Fe&4194176)!==Fe&&Fn.current!==null||(Ji=!0),(za&134217727)===0&&(Ks&134217727)===0||Je===null||ea(Je,Fe,$n,!1)}function Fm(r,s,o){var c=ot;ot|=2;var h=Rx(),g=Dx();(Je!==r||Fe!==s)&&(rd=null,to(r,s)),s=!1;var E=dt;e:do try{if(et!==0&&Me!==null){var D=Me,O=En;switch(et){case 8:Bm(),E=6;break e;case 3:case 2:case 6:Fn.current===null&&(s=!0);var z=et;if(et=0,En=null,no(r,D,O,z),o&&Ji){E=0;break e}break;default:z=et,et=0,En=null,no(r,D,O,z)}}TD(),E=dt;break}catch(ee){Tx(r,ee)}while(!0);return s&&r.shellSuspendCounter++,Gr=$s=null,ot=c,U.H=h,U.A=g,Me===null&&(Je=null,Fe=0,Du()),E}function TD(){for(;Me!==null;)Ax(Me)}function RD(r,s){var o=ot;ot|=2;var c=Rx(),h=Dx();Je!==r||Fe!==s?(rd=null,nd=kn()+500,to(r,s)):Ji=ct(r,s);e:do try{if(et!==0&&Me!==null){s=Me;var g=En;t:switch(et){case 1:et=0,En=null,no(r,s,g,1);break;case 2:if(zb(g)){et=0,En=null,Ix(s);break}s=function(){et===2&&Je===r&&(et=7),Cr(r)},g.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:zb(g)?(et=0,En=null,Ix(s)):(et=0,En=null,no(r,s,g,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var D=Me;if(!E||i_(E)){et=0,En=null;var O=D.sibling;if(O!==null)Me=O;else{var z=D.return;z!==null?(Me=z,id(z)):Me=null}break t}}et=0,En=null,no(r,s,g,5);break;case 6:et=0,En=null,no(r,s,g,6);break;case 8:Bm(),dt=6;break e;default:throw Error(a(462))}}DD();break}catch(ee){Tx(r,ee)}while(!0);return Gr=$s=null,U.H=c,U.A=h,ot=o,Me!==null?0:(Je=null,Fe=0,Du(),dt)}function DD(){for(;Me!==null&&!ln();)Ax(Me)}function Ax(r){var s=Z0(r.alternate,r,Jr);r.memoizedProps=r.pendingProps,s===null?id(r):Me=s}function Ix(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=G0(o,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=G0(o,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:$h(s);default:Ex(o,s),s=Me=xx(s,Jr),s=Z0(o,s,Jr)}r.memoizedProps=r.pendingProps,s===null?id(r):Me=s}function no(r,s,o,c){Gr=$s=null,$h(s),qi=null,Rl=0;var h=s.return;try{if(yD(r,h,s,o,Fe)){dt=1,Ku(r,Un(o,r.current)),Me=null;return}}catch(g){if(h!==null)throw Me=h,g;dt=1,Ku(r,Un(o,r.current)),Me=null;return}s.flags&32768?(He||c===1?r=!0:Ji||(Fe&536870912)!==0?r=!1:(Zr=r=!0,(c===2||c===3||c===6)&&(c=Fn.current,c!==null&&c.tag===13&&(c.flags|=16384))),jx(s,r)):id(s)}function id(r){var s=r;do{if((s.flags&32768)!==0){jx(s,Zr);return}r=s.return;var o=wD(s.alternate,s,Jr);if(o!==null){Me=o;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=r}while(s!==null);dt===0&&(dt=5)}function jx(r,s){do{var o=ED(r.alternate,r);if(o!==null){o.flags&=32767,Me=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Me=r;return}Me=r=o}while(r!==null);dt=6,Me=null}function Ox(r,s,o,c,h,g,E,D,O,z){var ee=U.T,ie=V.p;try{V.p=2,U.T=null,AD(r,s,o,c,ie,h,g,E,D,O,z)}finally{U.T=ee,V.p=ie}}function AD(r,s,o,c,h,g,E,D){do ro();while(Qs!==null);if((ot&6)!==0)throw Error(a(327));var O=r.finishedWork;if(c=r.finishedLanes,O===null)return null;if(r.finishedWork=null,r.finishedLanes=0,O===r.current)throw Error(a(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var z=O.lanes|O.childLanes;if(z|=Ah,bn(r,c,z,g,E,D),r===Je&&(Me=Je=null,Fe=0),(O.subtreeFlags&10256)===0&&(O.flags&10256)===0||ad||(ad=!0,Mm=z,Pm=o,kD(Cs,function(){return ro(),null})),o=(O.flags&15990)!==0,(O.subtreeFlags&15990)!==0||o?(o=U.T,U.T=null,g=V.p,V.p=2,E=ot,ot|=4,bD(r,O),hx(O,r),eD(Jm,r.containerInfo),vd=!!Zm,Jm=Zm=null,r.current=O,cx(r,O.alternate,O),Ea(),ot=E,V.p=g,U.T=o):r.current=O,ad?(ad=!1,Qs=r,Gl=c):kx(r,z),z=r.pendingLanes,z===0&&(Fa=null),yu(O.stateNode),Cr(r),s!==null)for(h=r.onRecoverableError,O=0;O<s.length;O++)z=s[O],h(z.value,{componentStack:z.stack});return(Gl&3)!==0&&ro(),z=r.pendingLanes,(c&4194218)!==0&&(z&42)!==0?r===Lm?Yl++:(Yl=0,Lm=r):Yl=0,Wl(0),null}function kx(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Al(s)))}function ro(){if(Qs!==null){var r=Qs,s=Mm;Mm=0;var o=_r(Gl),c=U.T,h=V.p;try{if(V.p=32>o?32:o,U.T=null,Qs===null)var g=!1;else{o=Pm,Pm=null;var E=Qs,D=Gl;if(Qs=null,Gl=0,(ot&6)!==0)throw Error(a(331));var O=ot;if(ot|=4,vx(E.current),px(E,E.current,D,o),ot=O,Wl(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Ts,E)}catch{}g=!0}return g}finally{V.p=h,U.T=c,kx(r,s)}}return!1}function Mx(r,s,o){s=Un(o,s),s=sm(r.stateNode,s,2),r=Ma(r,s,2),r!==null&&(xr(r,2),Cr(r))}function Ze(r,s,o){if(r.tag===3)Mx(r,r,o);else for(;s!==null;){if(s.tag===3){Mx(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Fa===null||!Fa.has(c))){r=Un(o,r),o=U0(2),c=Ma(s,o,2),c!==null&&(B0(o,c,s,r),xr(c,2),Cr(c));break}}s=s.return}}function Hm(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new ND;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(o)||(Im=!0,h.add(o),r=ID.bind(null,r,s,o),s.then(r,r))}function ID(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Je===r&&(Fe&o)===o&&(dt===4||dt===3&&(Fe&62914560)===Fe&&300>kn()-km?(ot&2)===0&&to(r,0):jm|=o,eo===Fe&&(eo=0)),Cr(r)}function Px(r,s){s===0&&(s=vt()),r=Ta(r,s),r!==null&&(xr(r,s),Cr(r))}function jD(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Px(r,o)}function OD(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(s),Px(r,o)}function kD(r,s){return ol(r,s)}var od=null,ao=null,qm=!1,ld=!1,Vm=!1,Xs=0;function Cr(r){r!==ao&&r.next===null&&(ao===null?od=ao=r:ao=ao.next=r),ld=!0,qm||(qm=!0,PD(MD))}function Wl(r,s){if(!Vm&&ld){Vm=!0;do for(var o=!1,c=od;c!==null;){if(r!==0){var h=c.pendingLanes;if(h===0)var g=0;else{var E=c.suspendedLanes,D=c.pingedLanes;g=(1<<31-Jt(42|r)+1)-1,g&=h&~(E&~D),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,Bx(c,g))}else g=Fe,g=st(c,c===Je?g:0),(g&3)===0||ct(c,g)||(o=!0,Bx(c,g));c=c.next}while(o);Vm=!1}}function MD(){ld=qm=!1;var r=0;Xs!==0&&(VD()&&(r=Xs),Xs=0);for(var s=kn(),o=null,c=od;c!==null;){var h=c.next,g=Lx(c,s);g===0?(c.next=null,o===null?od=h:o.next=h,h===null&&(ao=o)):(o=c,(r!==0||(g&3)!==0)&&(ld=!0)),c=h}Wl(r)}function Lx(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var E=31-Jt(g),D=1<<E,O=h[E];O===-1?((D&o)===0||(D&c)!==0)&&(h[E]=en(D,s)):O<=s&&(r.expiredLanes|=D),g&=~D}if(s=Je,o=Fe,o=st(r,r===s?o:0),c=r.callbackNode,o===0||r===s&&et===2||r.cancelPendingCommit!==null)return c!==null&&c!==null&&ll(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ct(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&ll(c),_r(o)){case 2:case 8:o=pu;break;case 32:o=Cs;break;case 268435456:o=Ur;break;default:o=Cs}return c=Ux.bind(null,r),o=ol(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&ll(c),r.callbackPriority=2,r.callbackNode=null,2}function Ux(r,s){var o=r.callbackNode;if(ro()&&r.callbackNode!==o)return null;var c=Fe;return c=st(r,r===Je?c:0),c===0?null:(Nx(r,c,s),Lx(r,kn()),r.callbackNode!=null&&r.callbackNode===o?Ux.bind(null,r):null)}function Bx(r,s){if(ro())return null;Nx(r,s,!0)}function PD(r){GD(function(){(ot&6)!==0?ol(Ns,r):r()})}function $m(){return Xs===0&&(Xs=As()),Xs}function zx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:wu(""+r)}function Fx(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function LD(r,s,o,c,h){if(s==="submit"&&o&&o.stateNode===h){var g=zx((h[un]||null).action),E=c.submitter;E&&(s=(s=E[un]||null)?zx(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var D=new Cu("action","action",null,c,h);r.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Xs!==0){var O=E?Fx(h,E):new FormData(h);em(o,{pending:!0,data:O,method:h.method,action:g},null,O)}}else typeof g=="function"&&(D.preventDefault(),O=E?Fx(h,E):new FormData(h),em(o,{pending:!0,data:O,method:h.method,action:g},g,O))},currentTarget:h}]})}}for(var Gm=0;Gm<Ob.length;Gm++){var Ym=Ob[Gm],UD=Ym.toLowerCase(),BD=Ym[0].toUpperCase()+Ym.slice(1);nr(UD,"on"+BD)}nr(Rb,"onAnimationEnd"),nr(Db,"onAnimationIteration"),nr(Ab,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(nD,"onTransitionRun"),nr(rD,"onTransitionStart"),nr(aD,"onTransitionCancel"),nr(Ib,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),js("onBeforeInput",["compositionend","keypress","textInput","paste"]),js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function Hx(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],h=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var E=c.length-1;0<=E;E--){var D=c[E],O=D.instance,z=D.currentTarget;if(D=D.listener,O!==g&&h.isPropagationStopped())break e;g=D,h.currentTarget=z;try{g(h)}catch(ee){Wu(ee)}h.currentTarget=null,g=O}else for(E=0;E<c.length;E++){if(D=c[E],O=D.instance,z=D.currentTarget,D=D.listener,O!==g&&h.isPropagationStopped())break e;g=D,h.currentTarget=z;try{g(h)}catch(ee){Wu(ee)}h.currentTarget=null,g=O}}}}function Be(r,s){var o=s[ch];o===void 0&&(o=s[ch]=new Set);var c=r+"__bubble";o.has(c)||(qx(s,r,2,!1),o.add(c))}function Wm(r,s,o){var c=0;s&&(c|=4),qx(o,r,c,s)}var cd="_reactListening"+Math.random().toString(36).slice(2);function Km(r){if(!r[cd]){r[cd]=!0,Gv.forEach(function(o){o!=="selectionchange"&&(zD.has(o)||Wm(o,!1,r),Wm(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[cd]||(s[cd]=!0,Wm("selectionchange",!1,s))}}function qx(r,s,o,c){switch(f_(s)){case 2:var h=fA;break;case 8:h=hA;break;default:h=lp}o=h.bind(null,s,o,r),h=void 0,!yh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function Qm(r,s,o,c,h){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var D=c.stateNode.containerInfo;if(D===h||D.nodeType===8&&D.parentNode===h)break;if(E===4)for(E=c.return;E!==null;){var O=E.tag;if((O===3||O===4)&&(O=E.stateNode.containerInfo,O===h||O.nodeType===8&&O.parentNode===h))return;E=E.return}for(;D!==null;){if(E=Is(D),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){c=g=E;continue e}D=D.parentNode}}c=c.return}ab(function(){var z=g,ee=ph(o),ie=[];e:{var Y=jb.get(r);if(Y!==void 0){var J=Cu,ye=r;switch(r){case"keypress":if(Su(o)===0)break e;case"keydown":case"keyup":J=OR;break;case"focusin":ye="focus",J=_h;break;case"focusout":ye="blur",J=_h;break;case"beforeblur":case"afterblur":J=_h;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=ob;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=_R;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=PR;break;case Rb:case Db:case Ab:J=SR;break;case Ib:J=UR;break;case"scroll":case"scrollend":J=bR;break;case"wheel":J=zR;break;case"copy":case"cut":case"paste":J=CR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=cb;break;case"toggle":case"beforetoggle":J=HR}var Te=(s&4)!==0,ft=!Te&&(r==="scroll"||r==="scrollend"),q=Te?Y!==null?Y+"Capture":null:Y;Te=[];for(var B=z,$;B!==null;){var se=B;if($=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||$===null||q===null||(se=ml(B,q),se!=null&&Te.push(Ql(B,se,$))),ft)break;B=B.return}0<Te.length&&(Y=new J(Y,ye,null,o,ee),ie.push({event:Y,listeners:Te}))}}if((s&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",Y&&o!==mh&&(ye=o.relatedTarget||o.fromElement)&&(Is(ye)||ye[Ri]))break e;if((J||Y)&&(Y=ee.window===ee?ee:(Y=ee.ownerDocument)?Y.defaultView||Y.parentWindow:window,J?(ye=o.relatedTarget||o.toElement,J=z,ye=ye?Is(ye):null,ye!==null&&(ft=te(ye),Te=ye.tag,ye!==ft||Te!==5&&Te!==27&&Te!==6)&&(ye=null)):(J=null,ye=z),J!==ye)){if(Te=ob,se="onMouseLeave",q="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Te=cb,se="onPointerLeave",q="onPointerEnter",B="pointer"),ft=J==null?Y:hl(J),$=ye==null?Y:hl(ye),Y=new Te(se,B+"leave",J,o,ee),Y.target=ft,Y.relatedTarget=$,se=null,Is(ee)===z&&(Te=new Te(q,B+"enter",ye,o,ee),Te.target=$,Te.relatedTarget=ft,se=Te),ft=se,J&&ye)t:{for(Te=J,q=ye,B=0,$=Te;$;$=so($))B++;for($=0,se=q;se;se=so(se))$++;for(;0<B-$;)Te=so(Te),B--;for(;0<$-B;)q=so(q),$--;for(;B--;){if(Te===q||q!==null&&Te===q.alternate)break t;Te=so(Te),q=so(q)}Te=null}else Te=null;J!==null&&Vx(ie,Y,J,Te,!1),ye!==null&&ft!==null&&Vx(ie,ft,ye,Te,!0)}}e:{if(Y=z?hl(z):window,J=Y.nodeName&&Y.nodeName.toLowerCase(),J==="select"||J==="input"&&Y.type==="file")var me=yb;else if(pb(Y))if(vb)me=ZR;else{me=QR;var je=KR}else J=Y.nodeName,!J||J.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?z&&hh(z.elementType)&&(me=yb):me=XR;if(me&&(me=me(r,z))){gb(ie,me,o,ee);break e}je&&je(r,Y,z),r==="focusout"&&z&&Y.type==="number"&&z.memoizedProps.value!=null&&fh(Y,"number",Y.value)}switch(je=z?hl(z):window,r){case"focusin":(pb(je)||je.contentEditable==="true")&&(Li=je,Th=z,wl=null);break;case"focusout":wl=Th=Li=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,Cb(ie,o,ee);break;case"selectionchange":if(tD)break;case"keydown":case"keyup":Cb(ie,o,ee)}var xe;if(Eh)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Pi?hb(r,o)&&(Ee="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(ub&&o.locale!=="ko"&&(Pi||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Pi&&(xe=sb()):(Ca=ee,vh="value"in Ca?Ca.value:Ca.textContent,Pi=!0)),je=ud(z,Ee),0<je.length&&(Ee=new lb(Ee,r,null,o,ee),ie.push({event:Ee,listeners:je}),xe?Ee.data=xe:(xe=mb(o),xe!==null&&(Ee.data=xe)))),(xe=VR?$R(r,o):GR(r,o))&&(Ee=ud(z,"onBeforeInput"),0<Ee.length&&(je=new lb("onBeforeInput","beforeinput",null,o,ee),ie.push({event:je,listeners:Ee}),je.data=xe)),LD(ie,r,z,o,ee)}Hx(ie,s)})}function Ql(r,s,o){return{instance:r,listener:s,currentTarget:o}}function ud(r,s){for(var o=s+"Capture",c=[];r!==null;){var h=r,g=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=ml(r,o),h!=null&&c.unshift(Ql(r,h,g)),h=ml(r,s),h!=null&&c.push(Ql(r,h,g))),r=r.return}return c}function so(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Vx(r,s,o,c,h){for(var g=s._reactName,E=[];o!==null&&o!==c;){var D=o,O=D.alternate,z=D.stateNode;if(D=D.tag,O!==null&&O===c)break;D!==5&&D!==26&&D!==27||z===null||(O=z,h?(z=ml(o,g),z!=null&&E.unshift(Ql(o,z,O))):h||(z=ml(o,g),z!=null&&E.push(Ql(o,z,O)))),o=o.return}E.length!==0&&r.push({event:s,listeners:E})}var FD=/\r\n?/g,HD=/\u0000|\uFFFD/g;function $x(r){return(typeof r=="string"?r:""+r).replace(FD,`
`).replace(HD,"")}function Gx(r,s){return s=$x(s),$x(r)===s}function dd(){}function Qe(r,s,o,c,h,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Oi(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Oi(r,""+c);break;case"className":bu(r,"class",c);break;case"tabIndex":bu(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":bu(r,o,c);break;case"style":nb(r,c,g);break;case"data":if(s!=="object"){bu(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=wu(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Qe(r,s,"name",h.name,h,null),Qe(r,s,"formEncType",h.formEncType,h,null),Qe(r,s,"formMethod",h.formMethod,h,null),Qe(r,s,"formTarget",h.formTarget,h,null)):(Qe(r,s,"encType",h.encType,h,null),Qe(r,s,"method",h.method,h,null),Qe(r,s,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=wu(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=dd);break;case"onScroll":c!=null&&Be("scroll",r);break;case"onScrollEnd":c!=null&&Be("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=wu(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Be("beforetoggle",r),Be("toggle",r),vu(r,"popover",c);break;case"xlinkActuate":zr(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":zr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":zr(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":zr(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":zr(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":zr(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":zr(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":zr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":zr(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":vu(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=yR.get(o)||o,vu(r,o,c))}}function Xm(r,s,o,c,h,g){switch(o){case"style":nb(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Oi(r,c):(typeof c=="number"||typeof c=="bigint")&&Oi(r,""+c);break;case"onScroll":c!=null&&Be("scroll",r);break;case"onScrollEnd":c!=null&&Be("scrollend",r);break;case"onClick":c!=null&&(r.onclick=dd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yv.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),g=r[un]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,h),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,h);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):vu(r,o,c)}}}function qt(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",r),Be("load",r);var c=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Qe(r,s,g,E,o,null)}}h&&Qe(r,s,"srcSet",o.srcSet,o,null),c&&Qe(r,s,"src",o.src,o,null);return;case"input":Be("invalid",r);var D=g=E=h=null,O=null,z=null;for(c in o)if(o.hasOwnProperty(c)){var ee=o[c];if(ee!=null)switch(c){case"name":h=ee;break;case"type":E=ee;break;case"checked":O=ee;break;case"defaultChecked":z=ee;break;case"value":g=ee;break;case"defaultValue":D=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,s));break;default:Qe(r,s,c,ee,o,null)}}Zv(r,g,D,O,z,E,h,!1),xu(r);return;case"select":Be("invalid",r),c=E=g=null;for(h in o)if(o.hasOwnProperty(h)&&(D=o[h],D!=null))switch(h){case"value":g=D;break;case"defaultValue":E=D;break;case"multiple":c=D;default:Qe(r,s,h,D,o,null)}s=g,o=E,r.multiple=!!c,s!=null?ji(r,!!c,s,!1):o!=null&&ji(r,!!c,o,!0);return;case"textarea":Be("invalid",r),g=h=c=null;for(E in o)if(o.hasOwnProperty(E)&&(D=o[E],D!=null))switch(E){case"value":c=D;break;case"defaultValue":h=D;break;case"children":g=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(91));break;default:Qe(r,s,E,D,o,null)}eb(r,c,h,g),xu(r);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(c=o[O],c!=null))switch(O){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Qe(r,s,O,c,o,null)}return;case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":Be("load",r);break;case"video":case"audio":for(c=0;c<Kl.length;c++)Be(Kl[c],r);break;case"image":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"embed":case"source":case"link":Be("error",r),Be("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in o)if(o.hasOwnProperty(z)&&(c=o[z],c!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Qe(r,s,z,c,o,null)}return;default:if(hh(s)){for(ee in o)o.hasOwnProperty(ee)&&(c=o[ee],c!==void 0&&Xm(r,s,ee,c,o,void 0));return}}for(D in o)o.hasOwnProperty(D)&&(c=o[D],c!=null&&Qe(r,s,D,c,o,null))}function qD(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,E=null,D=null,O=null,z=null,ee=null;for(J in o){var ie=o[J];if(o.hasOwnProperty(J)&&ie!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":O=ie;default:c.hasOwnProperty(J)||Qe(r,s,J,null,c,ie)}}for(var Y in c){var J=c[Y];if(ie=o[Y],c.hasOwnProperty(Y)&&(J!=null||ie!=null))switch(Y){case"type":g=J;break;case"name":h=J;break;case"checked":z=J;break;case"defaultChecked":ee=J;break;case"value":E=J;break;case"defaultValue":D=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,s));break;default:J!==ie&&Qe(r,s,Y,J,c,ie)}}dh(r,E,D,O,z,ee,g,h);return;case"select":J=E=D=Y=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":J=O;default:c.hasOwnProperty(g)||Qe(r,s,g,null,c,O)}for(h in c)if(g=c[h],O=o[h],c.hasOwnProperty(h)&&(g!=null||O!=null))switch(h){case"value":Y=g;break;case"defaultValue":D=g;break;case"multiple":E=g;default:g!==O&&Qe(r,s,h,g,c,O)}s=D,o=E,c=J,Y!=null?ji(r,!!o,Y,!1):!!c!=!!o&&(s!=null?ji(r,!!o,s,!0):ji(r,!!o,o?[]:"",!1));return;case"textarea":J=Y=null;for(D in o)if(h=o[D],o.hasOwnProperty(D)&&h!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Qe(r,s,D,null,c,h)}for(E in c)if(h=c[E],g=o[E],c.hasOwnProperty(E)&&(h!=null||g!=null))switch(E){case"value":Y=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==g&&Qe(r,s,E,h,c,g)}Jv(r,Y,J);return;case"option":for(var ye in o)if(Y=o[ye],o.hasOwnProperty(ye)&&Y!=null&&!c.hasOwnProperty(ye))switch(ye){case"selected":r.selected=!1;break;default:Qe(r,s,ye,null,c,Y)}for(O in c)if(Y=c[O],J=o[O],c.hasOwnProperty(O)&&Y!==J&&(Y!=null||J!=null))switch(O){case"selected":r.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Qe(r,s,O,Y,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)Y=o[Te],o.hasOwnProperty(Te)&&Y!=null&&!c.hasOwnProperty(Te)&&Qe(r,s,Te,null,c,Y);for(z in c)if(Y=c[z],J=o[z],c.hasOwnProperty(z)&&Y!==J&&(Y!=null||J!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,s));break;default:Qe(r,s,z,Y,c,J)}return;default:if(hh(s)){for(var ft in o)Y=o[ft],o.hasOwnProperty(ft)&&Y!==void 0&&!c.hasOwnProperty(ft)&&Xm(r,s,ft,void 0,c,Y);for(ee in c)Y=c[ee],J=o[ee],!c.hasOwnProperty(ee)||Y===J||Y===void 0&&J===void 0||Xm(r,s,ee,Y,c,J);return}}for(var q in o)Y=o[q],o.hasOwnProperty(q)&&Y!=null&&!c.hasOwnProperty(q)&&Qe(r,s,q,null,c,Y);for(ie in c)Y=c[ie],J=o[ie],!c.hasOwnProperty(ie)||Y===J||Y==null&&J==null||Qe(r,s,ie,Y,c,J)}var Zm=null,Jm=null;function fd(r){return r.nodeType===9?r:r.ownerDocument}function Yx(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wx(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function ep(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var tp=null;function VD(){var r=window.event;return r&&r.type==="popstate"?r===tp?!1:(tp=r,!0):(tp=null,!1)}var Kx=typeof setTimeout=="function"?setTimeout:void 0,$D=typeof clearTimeout=="function"?clearTimeout:void 0,Qx=typeof Promise=="function"?Promise:void 0,GD=typeof queueMicrotask=="function"?queueMicrotask:typeof Qx<"u"?function(r){return Qx.resolve(null).then(r).catch(YD)}:Kx;function YD(r){setTimeout(function(){throw r})}function np(r,s){var o=s,c=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(c===0){r.removeChild(h),ac(s);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=h}while(o);ac(s)}function rp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":rp(o),uh(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function WD(r,s,o,c){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[fl])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=sr(r.nextSibling),r===null)break}return null}function KD(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=sr(r.nextSibling),r===null))return null;return r}function sr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function Xx(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Zx(r,s,o){switch(s=fd(o),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}var Gn=new Map,Jx=new Set;function hd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var ta=V.d;V.d={f:QD,r:XD,D:ZD,C:JD,L:eA,m:tA,X:rA,S:nA,M:aA};function QD(){var r=ta.f(),s=sd();return r||s}function XD(r){var s=Di(r);s!==null&&s.tag===5&&s.type==="form"?C0(s):ta.r(r)}var io=typeof document>"u"?null:document;function e_(r,s,o){var c=io;if(c&&typeof s=="string"&&s){var h=Pn(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),Jx.has(h)||(Jx.add(h),r={rel:r,crossOrigin:o,href:s},c.querySelector(h)===null&&(s=c.createElement("link"),qt(s,"link",r),Ot(s),c.head.appendChild(s)))}}function ZD(r){ta.D(r),e_("dns-prefetch",r,null)}function JD(r,s){ta.C(r,s),e_("preconnect",r,s)}function eA(r,s,o){ta.L(r,s,o);var c=io;if(c&&r&&s){var h='link[rel="preload"][as="'+Pn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Pn(o.imageSizes)+'"]')):h+='[href="'+Pn(r)+'"]';var g=h;switch(s){case"style":g=oo(r);break;case"script":g=lo(r)}Gn.has(g)||(r=W({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Gn.set(g,r),c.querySelector(h)!==null||s==="style"&&c.querySelector(Xl(g))||s==="script"&&c.querySelector(Zl(g))||(s=c.createElement("link"),qt(s,"link",r),Ot(s),c.head.appendChild(s)))}}function tA(r,s){ta.m(r,s);var o=io;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Pn(c)+'"][href="'+Pn(r)+'"]',g=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=lo(r)}if(!Gn.has(g)&&(r=W({rel:"modulepreload",href:r},s),Gn.set(g,r),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Zl(g)))return}c=o.createElement("link"),qt(c,"link",r),Ot(c),o.head.appendChild(c)}}}function nA(r,s,o){ta.S(r,s,o);var c=io;if(c&&r){var h=Ai(c).hoistableStyles,g=oo(r);s=s||"default";var E=h.get(g);if(!E){var D={loading:0,preload:null};if(E=c.querySelector(Xl(g)))D.loading=5;else{r=W({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Gn.get(g))&&ap(r,o);var O=E=c.createElement("link");Ot(O),qt(O,"link",r),O._p=new Promise(function(z,ee){O.onload=z,O.onerror=ee}),O.addEventListener("load",function(){D.loading|=1}),O.addEventListener("error",function(){D.loading|=2}),D.loading|=4,md(E,s,c)}E={type:"stylesheet",instance:E,count:1,state:D},h.set(g,E)}}}function rA(r,s){ta.X(r,s);var o=io;if(o&&r){var c=Ai(o).hoistableScripts,h=lo(r),g=c.get(h);g||(g=o.querySelector(Zl(h)),g||(r=W({src:r,async:!0},s),(s=Gn.get(h))&&sp(r,s),g=o.createElement("script"),Ot(g),qt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function aA(r,s){ta.M(r,s);var o=io;if(o&&r){var c=Ai(o).hoistableScripts,h=lo(r),g=c.get(h);g||(g=o.querySelector(Zl(h)),g||(r=W({src:r,async:!0,type:"module"},s),(s=Gn.get(h))&&sp(r,s),g=o.createElement("script"),Ot(g),qt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function t_(r,s,o,c){var h=(h=Gt.current)?hd(h):null;if(!h)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=oo(o.href),o=Ai(h).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=oo(o.href);var g=Ai(h).hoistableStyles,E=g.get(r);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,E),(g=h.querySelector(Xl(r)))&&!g._p&&(E.instance=g,E.state.loading=5),Gn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Gn.set(r,o),g||sA(h,r,o,E.state))),s&&c===null)throw Error(a(528,""));return E}if(s&&c!==null)throw Error(a(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=lo(o),o=Ai(h).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function oo(r){return'href="'+Pn(r)+'"'}function Xl(r){return'link[rel="stylesheet"]['+r+"]"}function n_(r){return W({},r,{"data-precedence":r.precedence,precedence:null})}function sA(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),qt(s,"link",o),Ot(s),r.head.appendChild(s))}function lo(r){return'[src="'+Pn(r)+'"]'}function Zl(r){return"script[async]"+r}function r_(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Pn(o.href)+'"]');if(c)return s.instance=c,Ot(c),c;var h=W({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Ot(c),qt(c,"style",h),md(c,o.precedence,r),s.instance=c;case"stylesheet":h=oo(o.href);var g=r.querySelector(Xl(h));if(g)return s.state.loading|=4,s.instance=g,Ot(g),g;c=n_(o),(h=Gn.get(h))&&ap(c,h),g=(r.ownerDocument||r).createElement("link"),Ot(g);var E=g;return E._p=new Promise(function(D,O){E.onload=D,E.onerror=O}),qt(g,"link",c),s.state.loading|=4,md(g,o.precedence,r),s.instance=g;case"script":return g=lo(o.src),(h=r.querySelector(Zl(g)))?(s.instance=h,Ot(h),h):(c=o,(h=Gn.get(g))&&(c=W({},o),sp(c,h)),r=r.ownerDocument||r,h=r.createElement("script"),Ot(h),qt(h,"link",c),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,md(c,o.precedence,r));return s.instance}function md(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,g=h,E=0;E<c.length;E++){var D=c[E];if(D.dataset.precedence===s)g=D;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function ap(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function sp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var pd=null;function a_(r,s,o){if(pd===null){var c=new Map,h=pd=new Map;h.set(o,c)}else h=pd,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[fl]||g[Wt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=r+E;var D=c.get(E);D?D.push(g):c.set(E,[g])}}return c}function s_(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function iA(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function i_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Jl=null;function oA(){}function lA(r,s,o){if(Jl===null)throw Error(a(475));var c=Jl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=oo(o.href),g=r.querySelector(Xl(h));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=gd.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=g,Ot(g);return}g=r.ownerDocument||r,o=n_(o),(h=Gn.get(h))&&ap(o,h),g=g.createElement("link"),Ot(g);var E=g;E._p=new Promise(function(D,O){E.onload=D,E.onerror=O}),qt(g,"link",o),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=gd.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function cA(){if(Jl===null)throw Error(a(475));var r=Jl;return r.stylesheets&&r.count===0&&ip(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&ip(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function gd(){if(this.count--,this.count===0){if(this.stylesheets)ip(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var yd=null;function ip(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,yd=new Map,s.forEach(uA,r),yd=null,gd.call(r))}function uA(r,s){if(!(s.state.loading&4)){var o=yd.get(r);if(o)var c=o.get(null);else{o=new Map,yd.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var E=h[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}h=s.instance,E=h.getAttribute("data-precedence"),g=o.get(E)||c,g===c&&o.set(null,h),o.set(E,h),this.count++,c=gd.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var ec={$$typeof:x,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function dA(r,s,o,c,h,g,E,D){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yt(0),this.hiddenUpdates=Yt(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function o_(r,s,o,c,h,g,E,D,O,z,ee,ie){return r=new dA(r,s,o,E,D,O,z,ie),s=1,g===!0&&(s|=24),g=Vn(3,null,null,s),r.current=g,g.stateNode=r,s=Uh(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},vm(g),r}function l_(r){return r?(r=zi,r):zi}function c_(r,s,o,c,h,g){h=l_(h),c.context===null?c.context=h:c.pendingContext=h,c=ka(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Ma(r,c,s),o!==null&&(nn(o,r,s),Ll(o,r,s))}function u_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function op(r,s){u_(r,s),(r=r.alternate)&&u_(r,s)}function d_(r){if(r.tag===13){var s=Ta(r,67108864);s!==null&&nn(s,r,67108864),op(r,67108864)}}var vd=!0;function fA(r,s,o,c){var h=U.T;U.T=null;var g=V.p;try{V.p=2,lp(r,s,o,c)}finally{V.p=g,U.T=h}}function hA(r,s,o,c){var h=U.T;U.T=null;var g=V.p;try{V.p=8,lp(r,s,o,c)}finally{V.p=g,U.T=h}}function lp(r,s,o,c){if(vd){var h=cp(c);if(h===null)Qm(r,s,c,bd,o),h_(r,c);else if(pA(h,r,s,o,c))c.stopPropagation();else if(h_(r,c),s&4&&-1<mA.indexOf(r)){for(;h!==null;){var g=Di(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Ce(g.pendingLanes);if(E!==0){var D=g;for(D.pendingLanes|=2,D.entangledLanes|=2;E;){var O=1<<31-Jt(E);D.entanglements[1]|=O,E&=~O}Cr(g),(ot&6)===0&&(nd=kn()+500,Wl(0))}}break;case 13:D=Ta(g,2),D!==null&&nn(D,g,2),sd(),op(g,2)}if(g=cp(c),g===null&&Qm(r,s,c,bd,o),g===h)break;h=g}h!==null&&c.stopPropagation()}else Qm(r,s,c,null,o)}}function cp(r){return r=ph(r),up(r)}var bd=null;function up(r){if(bd=null,r=Is(r),r!==null){var s=te(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=ue(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return bd=r,null}function f_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ih()){case Ns:return 2;case pu:return 8;case Cs:case cl:return 32;case Ur:return 268435456;default:return 32}default:return 32}}var dp=!1,Ha=null,qa=null,Va=null,tc=new Map,nc=new Map,$a=[],mA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(r,s){switch(r){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":tc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(s.pointerId)}}function rc(r,s,o,c,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},s!==null&&(s=Di(s),s!==null&&d_(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function pA(r,s,o,c,h){switch(s){case"focusin":return Ha=rc(Ha,r,s,o,c,h),!0;case"dragenter":return qa=rc(qa,r,s,o,c,h),!0;case"mouseover":return Va=rc(Va,r,s,o,c,h),!0;case"pointerover":var g=h.pointerId;return tc.set(g,rc(tc.get(g)||null,r,s,o,c,h)),!0;case"gotpointercapture":return g=h.pointerId,nc.set(g,rc(nc.get(g)||null,r,s,o,c,h)),!0}return!1}function m_(r){var s=Is(r.target);if(s!==null){var o=te(s);if(o!==null){if(s=o.tag,s===13){if(s=ue(o),s!==null){r.blockedOn=s,cR(r.priority,function(){if(o.tag===13){var c=Sn(),h=Ta(o,c);h!==null&&nn(h,o,c),op(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function xd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=cp(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);mh=c,o.target.dispatchEvent(c),mh=null}else return s=Di(o),s!==null&&d_(s),r.blockedOn=o,!1;s.shift()}return!0}function p_(r,s,o){xd(r)&&o.delete(s)}function gA(){dp=!1,Ha!==null&&xd(Ha)&&(Ha=null),qa!==null&&xd(qa)&&(qa=null),Va!==null&&xd(Va)&&(Va=null),tc.forEach(p_),nc.forEach(p_)}function _d(r,s){r.blockedOn===s&&(r.blockedOn=null,dp||(dp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gA)))}var wd=null;function g_(r){wd!==r&&(wd=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wd===r&&(wd=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],h=r[s+2];if(typeof c!="function"){if(up(c||o)===null)continue;break}var g=Di(o);g!==null&&(r.splice(s,3),s-=3,em(g,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function ac(r){function s(O){return _d(O,r)}Ha!==null&&_d(Ha,r),qa!==null&&_d(qa,r),Va!==null&&_d(Va,r),tc.forEach(s),nc.forEach(s);for(var o=0;o<$a.length;o++){var c=$a[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<$a.length&&(o=$a[0],o.blockedOn===null);)m_(o),o.blockedOn===null&&$a.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],E=h[un]||null;if(typeof g=="function")E||g_(o);else if(E){var D=null;if(g&&g.hasAttribute("formAction")){if(h=g,E=g[un]||null)D=E.formAction;else if(up(h)!==null)continue}else D=E.action;typeof D=="function"?o[c+1]=D:(o.splice(c,3),c-=3),g_(o)}}}function fp(r){this._internalRoot=r}Ed.prototype.render=fp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var o=s.current,c=Sn();c_(o,c,r,s,null,null)},Ed.prototype.unmount=fp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&ro(),c_(r.current,2,null,r,null,null),sd(),s[Ri]=null}};function Ed(r){this._internalRoot=r}Ed.prototype.unstable_scheduleHydration=function(r){if(r){var s=lh();r={blockedOn:null,target:r,priority:s};for(var o=0;o<$a.length&&s!==0&&s<$a[o].priority;o++);$a.splice(o,0,r),o===0&&m_(r)}};var y_=e.version;if(y_!=="19.0.0")throw Error(a(527,y_,"19.0.0"));V.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=K(s),r=r!==null?k(r):null,r=r===null?null:r.stateNode,r};var yA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:U,findFiberByHostInstance:Is,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{Ts=Sd.inject(yA),Zt=Sd}catch{}}return ic.createRoot=function(r,s){if(!i(r))throw Error(a(299));var o=!1,c="",h=k0,g=M0,E=P0,D=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks)),s=o_(r,1,!1,null,null,o,c,h,g,E,D,null),r[Ri]=s.current,Km(r.nodeType===8?r.parentNode:r),new fp(s)},ic.hydrateRoot=function(r,s,o){if(!i(r))throw Error(a(299));var c=!1,h="",g=k0,E=M0,D=P0,O=null,z=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(z=o.formState)),s=o_(r,1,!0,s,o??null,c,h,g,E,D,O,z),s.context=l_(null),o=s.current,c=Sn(),h=ka(c),h.callback=null,Ma(o,h,c),s.current.lanes=c,xr(s,c),Cr(s),r[Ri]=s.current,Km(r),new Ed(s)},ic.version="19.0.0",ic}var T_;function AA(){if(T_)return pp.exports;T_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pp.exports=DA(),pp.exports}var IA=AA();const jA=Yg(IA);var oc={},R_;function OA(){if(R_)return oc;R_=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.parse=u,oc.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,x){const _=new l,N=b.length;if(N<2)return _;const C=(x==null?void 0:x.decode)||v;let S=0;do{const T=b.indexOf("=",S);if(T===-1)break;const R=b.indexOf(";",S),j=R===-1?N:R;if(T>j){S=b.lastIndexOf(";",T-1)+1;continue}const M=f(b,S,T),A=m(b,T,M),F=b.slice(M,A);if(_[F]===void 0){let Q=f(b,T+1,j),U=m(b,j,Q);const W=C(b.slice(Q,U));_[F]=W}S=j+1}while(S<N);return _}function f(b,x,_){do{const N=b.charCodeAt(x);if(N!==32&&N!==9)return x}while(++x<_);return _}function m(b,x,_){for(;x>_;){const N=b.charCodeAt(--x);if(N!==32&&N!==9)return x+1}return _}function p(b,x,_){const N=(_==null?void 0:_.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const C=N(x);if(!e.test(C))throw new TypeError(`argument val is invalid: ${x}`);let S=b+"="+C;if(!_)return S;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);S+="; Max-Age="+_.maxAge}if(_.domain){if(!n.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);S+="; Domain="+_.domain}if(_.path){if(!a.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);S+="; Path="+_.path}if(_.expires){if(!y(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);S+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(S+="; HttpOnly"),_.secure&&(S+="; Secure"),_.partitioned&&(S+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return S}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return i.call(b)==="[object Date]"}return oc}OA();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var D_="popstate";function kA(t={}){function e(a,i){let{pathname:l,search:u,hash:f}=a.location;return Zp("",{pathname:l,search:u,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){return typeof i=="string"?i:Tc(i)}return PA(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ur(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MA(){return Math.random().toString(36).substring(2,10)}function A_(t,e){return{usr:t.state,key:t.key,idx:e}}function Zp(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Fo(e):e,state:n,key:e&&e.key||a||MA()}}function Tc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function PA(t,e,n,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,u=i.history,f="POP",m=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function y(){f="POP";let C=v(),S=C==null?null:C-p;p=C,m&&m({action:f,location:N.location,delta:S})}function b(C,S){f="PUSH";let T=Zp(N.location,C,S);p=v()+1;let R=A_(T,p),j=N.createHref(T);try{u.pushState(R,"",j)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(j)}l&&m&&m({action:f,location:N.location,delta:1})}function x(C,S){f="REPLACE";let T=Zp(N.location,C,S);p=v();let R=A_(T,p),j=N.createHref(T);u.replaceState(R,"",j),l&&m&&m({action:f,location:N.location,delta:0})}function _(C){let S=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof C=="string"?C:Tc(C);return T=T.replace(/ $/,"%20"),at(S,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,S)}let N={get action(){return f},get location(){return t(i,u)},listen(C){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(D_,y),m=C,()=>{i.removeEventListener(D_,y),m=null}},createHref(C){return e(i,C)},createURL:_,encodeLocation(C){let S=_(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:b,replace:x,go(C){return u.go(C)}};return N}function JE(t,e,n="/"){return LA(t,e,n,!1)}function LA(t,e,n,a){let i=typeof e=="string"?Fo(e):e,l=us(i.pathname||"/",n);if(l==null)return null;let u=eS(t);UA(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=KA(l);f=YA(u[m],p,a)}return f}function eS(t,e=[],n=[],a=""){let i=(l,u,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};m.relativePath.startsWith("/")&&(at(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let p=ia([a,m.relativePath]),v=n.concat(m);l.children&&l.children.length>0&&(at(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),eS(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:$A(p,l.index),routesMeta:v})};return t.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))i(l,u);else for(let m of tS(l.path))i(l,u,m)}),e}function tS(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let u=tS(a.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),i&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function UA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GA(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var BA=/^:[\w-]+$/,zA=3,FA=2,HA=1,qA=10,VA=-2,I_=t=>t==="*";function $A(t,e){let n=t.split("/"),a=n.length;return n.some(I_)&&(a+=VA),e&&(a+=FA),n.filter(i=>!I_(i)).reduce((i,l)=>i+(BA.test(l)?zA:l===""?HA:qA),a)}function GA(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function YA(t,e,n=!1){let{routesMeta:a}=t,i={},l="/",u=[];for(let f=0;f<a.length;++f){let m=a[f],p=f===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",y=Wd({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),b=m.route;if(!y&&p&&n&&!a[a.length-1].route.index&&(y=Wd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!y)return null;Object.assign(i,y.params),u.push({params:i,pathname:ia([l,y.pathname]),pathnameBase:JA(ia([l,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(l=ia([l,y.pathnameBase]))}return u}function Wd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=WA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:a.reduce((p,{paramName:v,isOptional:y},b)=>{if(v==="*"){let _=f[b]||"";u=l.slice(0,l.length-_.length).replace(/(.)\/+$/,"$1")}const x=f[b];return y&&!x?p[v]=void 0:p[v]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function WA(t,e=!1,n=!0){ur(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(a.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function KA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ur(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function us(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function QA(t,e="/"){let{pathname:n,search:a="",hash:i=""}=typeof t=="string"?Fo(t):t;return{pathname:n?n.startsWith("/")?n:XA(n,e):e,search:e2(a),hash:t2(i)}}function XA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bp(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wg(t){let e=ZA(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Kg(t,e,n,a=!1){let i;typeof t=="string"?i=Fo(t):(i={...t},at(!i.pathname||!i.pathname.includes("?"),bp("?","pathname","search",i)),at(!i.pathname||!i.pathname.includes("#"),bp("#","pathname","hash",i)),at(!i.search||!i.search.includes("#"),bp("#","search","hash",i)));let l=t===""||i.pathname==="",u=l?"/":i.pathname,f;if(u==null)f=n;else{let y=e.length-1;if(!a&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;i.pathname=b.join("/")}f=y>=0?e[y]:"/"}let m=QA(i,f),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var ia=t=>t.join("/").replace(/\/\/+/g,"/"),JA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),e2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,t2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function n2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var nS=["POST","PUT","PATCH","DELETE"];new Set(nS);var r2=["GET",...nS];new Set(r2);var Ho=w.createContext(null);Ho.displayName="DataRouter";var Tf=w.createContext(null);Tf.displayName="DataRouterState";var rS=w.createContext({isTransitioning:!1});rS.displayName="ViewTransition";var a2=w.createContext(new Map);a2.displayName="Fetchers";var s2=w.createContext(null);s2.displayName="Await";var pr=w.createContext(null);pr.displayName="Navigation";var Gc=w.createContext(null);Gc.displayName="Location";var Xn=w.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var Qg=w.createContext(null);Qg.displayName="RouteError";function i2(t,{relative:e}={}){at(qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=w.useContext(pr),{hash:i,pathname:l,search:u}=Yc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:ia([n,l])),a.createHref({pathname:f,search:u,hash:i})}function qo(){return w.useContext(Gc)!=null}function gr(){return at(qo(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Gc).location}var aS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sS(t){w.useContext(pr).static||w.useLayoutEffect(t)}function It(){let{isDataRoute:t}=w.useContext(Xn);return t?_2():o2()}function o2(){at(qo(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Ho),{basename:e,navigator:n}=w.useContext(pr),{matches:a}=w.useContext(Xn),{pathname:i}=gr(),l=JSON.stringify(Wg(a)),u=w.useRef(!1);return sS(()=>{u.current=!0}),w.useCallback((m,p={})=>{if(ur(u.current,aS),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=Kg(m,JSON.parse(l),i,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ia([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,i,t])}var l2=w.createContext(null);function c2(t){let e=w.useContext(Xn).outlet;return e&&w.createElement(l2.Provider,{value:t},e)}function ze(){let{matches:t}=w.useContext(Xn),e=t[t.length-1];return e?e.params:{}}function Yc(t,{relative:e}={}){let{matches:n}=w.useContext(Xn),{pathname:a}=gr(),i=JSON.stringify(Wg(n));return w.useMemo(()=>Kg(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function u2(t,e){return iS(t,e)}function iS(t,e,n,a){var T;at(qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:l}=w.useContext(pr),{matches:u}=w.useContext(Xn),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",y=f&&f.route;{let R=y&&y.path||"";oS(p,!y||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let b=gr(),x;if(e){let R=typeof e=="string"?Fo(e):e;at(v==="/"||((T=R.pathname)==null?void 0:T.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${R.pathname}" was given in the \`location\` prop.`),x=R}else x=b;let _=x.pathname||"/",N=_;if(v!=="/"){let R=v.replace(/^\//,"").split("/");N="/"+_.replace(/^\//,"").split("/").slice(R.length).join("/")}let C=!l&&n&&n.matches&&n.matches.length>0?n.matches:JE(t,{pathname:N});ur(y||C!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ur(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=p2(C&&C.map(R=>Object.assign({},R,{params:Object.assign({},m,R.params),pathname:ia([v,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?v:ia([v,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),u,n,a);return e&&S?w.createElement(Gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},S):S}function d2(){let t=x2(),e=n2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,u)}var f2=w.createElement(d2,null),h2=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?w.createElement(Xn.Provider,{value:this.props.routeContext},w.createElement(Qg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m2({routeContext:t,match:e,children:n}){let a=w.useContext(Ho);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Xn.Provider,{value:t},n)}function p2(t,e=[],n=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,l=n==null?void 0:n.errors;if(l!=null){let m=i.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);at(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let u=!1,f=-1;if(n)for(let m=0;m<i.length;m++){let p=i[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:v,errors:y}=n,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){u=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((m,p,v)=>{let y,b=!1,x=null,_=null;n&&(y=l&&p.route.id?l[p.route.id]:void 0,x=p.route.errorElement||f2,u&&(f<0&&v===0?(oS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):f===v&&(b=!0,_=p.route.hydrateFallbackElement||null)));let N=e.concat(i.slice(0,v+1)),C=()=>{let S;return y?S=x:b?S=_:p.route.Component?S=w.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=m,w.createElement(m2,{match:p,routeContext:{outlet:m,matches:N,isDataRoute:n!=null},children:S})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?w.createElement(h2,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):C()},null)}function Xg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g2(t){let e=w.useContext(Ho);return at(e,Xg(t)),e}function y2(t){let e=w.useContext(Tf);return at(e,Xg(t)),e}function v2(t){let e=w.useContext(Xn);return at(e,Xg(t)),e}function Zg(t){let e=v2(t),n=e.matches[e.matches.length-1];return at(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function b2(){return Zg("useRouteId")}function x2(){var a;let t=w.useContext(Qg),e=y2("useRouteError"),n=Zg("useRouteError");return t!==void 0?t:(a=e.errors)==null?void 0:a[n]}function _2(){let{router:t}=g2("useNavigate"),e=Zg("useNavigate"),n=w.useRef(!1);return sS(()=>{n.current=!0}),w.useCallback(async(i,l={})=>{ur(n.current,aS),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var j_={};function oS(t,e,n){!e&&!j_[t]&&(j_[t]=!0,ur(!1,n))}w.memo(w2);function w2({routes:t,future:e,state:n}){return iS(t,void 0,n,e)}function Jg({to:t,replace:e,state:n,relative:a}){at(qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(pr);ur(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(Xn),{pathname:u}=gr(),f=It(),m=Kg(t,Wg(l),u,a==="path"),p=JSON.stringify(m);return w.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:a})},[f,p,a,e,n]),null}function ey(t){return c2(t.context)}function fe(t){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function E2({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:i,static:l=!1}){at(!qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=w.useMemo(()=>({basename:u,navigator:i,static:l,future:{}}),[u,i,l]);typeof n=="string"&&(n=Fo(n));let{pathname:m="/",search:p="",hash:v="",state:y=null,key:b="default"}=n,x=w.useMemo(()=>{let _=us(m,u);return _==null?null:{location:{pathname:_,search:p,hash:v,state:y,key:b},navigationType:a}},[u,m,p,v,y,b,a]);return ur(x!=null,`<Router basename="${u}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:w.createElement(pr.Provider,{value:f},w.createElement(Gc.Provider,{children:e,value:x}))}function lS({children:t,location:e}){return u2(Jp(t),e)}function Jp(t,e=[]){let n=[];return w.Children.forEach(t,(a,i)=>{if(!w.isValidElement(a))return;let l=[...e,i];if(a.type===w.Fragment){n.push.apply(n,Jp(a.props.children,l));return}at(a.type===fe,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=Jp(a.props.children,l)),n.push(u)}),n}var Ud="get",Bd="application/x-www-form-urlencoded";function Rf(t){return t!=null&&typeof t.tagName=="string"}function S2(t){return Rf(t)&&t.tagName.toLowerCase()==="button"}function N2(t){return Rf(t)&&t.tagName.toLowerCase()==="form"}function C2(t){return Rf(t)&&t.tagName.toLowerCase()==="input"}function T2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function R2(t,e){return t.button===0&&(!e||e==="_self")&&!T2(t)}var Nd=null;function D2(){if(Nd===null)try{new FormData(document.createElement("form"),0),Nd=!1}catch{Nd=!0}return Nd}var A2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xp(t){return t!=null&&!A2.has(t)?(ur(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bd}"`),null):t}function I2(t,e){let n,a,i,l,u;if(N2(t)){let f=t.getAttribute("action");a=f?us(f,e):null,n=t.getAttribute("method")||Ud,i=xp(t.getAttribute("enctype"))||Bd,l=new FormData(t)}else if(S2(t)||C2(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(a=m?us(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Ud,i=xp(t.getAttribute("formenctype"))||xp(f.getAttribute("enctype"))||Bd,l=new FormData(f,t),!D2()){let{name:p,type:v,value:y}=t;if(v==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,y)}}else{if(Rf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ud,a=null,i=Bd,u=t}return l&&i==="text/plain"&&(u=l,l=void 0),{action:a,method:n.toLowerCase(),encType:i,formData:l,body:u}}function ty(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function j2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function k2(t,e,n){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let u=await j2(l,n);return u.links?u.links():[]}return[]}));return U2(a.flat(1).filter(O2).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function O_(t,e,n,a,i,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var v;return n[p].pathname!==m.pathname||((v=n[p].route.path)==null?void 0:v.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>u(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{var y;let v=a.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function M2(t,e,{includeHydrateFallback:n}={}){return P2(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function P2(t){return[...new Set(t)]}function L2(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function U2(t,e){let n=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify(L2(i));return n.has(l)||(n.add(l),a.push({key:l,link:i})),a},[])}function B2(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function z2(){let t=w.useContext(Ho);return ty(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function F2(){let t=w.useContext(Tf);return ty(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ny=w.createContext(void 0);ny.displayName="FrameworkContext";function cS(){let t=w.useContext(ny);return ty(t,"You must render this element inside a <HydratedRouter> element"),t}function H2(t,e){let n=w.useContext(ny),[a,i]=w.useState(!1),[l,u]=w.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:y}=e,b=w.useRef(null);w.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let N=S=>{S.forEach(T=>{u(T.isIntersecting)})},C=new IntersectionObserver(N,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[t]),w.useEffect(()=>{if(a){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[a]);let x=()=>{i(!0)},_=()=>{i(!1),u(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:lc(f,x),onBlur:lc(m,_),onMouseEnter:lc(p,x),onMouseLeave:lc(v,_),onTouchStart:lc(y,x)}]:[!1,b,{}]}function lc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function q2({page:t,...e}){let{router:n}=z2(),a=w.useMemo(()=>JE(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?w.createElement($2,{page:t,matches:a,...e}):null}function V2(t){let{manifest:e,routeModules:n}=cS(),[a,i]=w.useState([]);return w.useEffect(()=>{let l=!1;return k2(t,e,n).then(u=>{l||i(u)}),()=>{l=!0}},[t,e,n]),a}function $2({page:t,matches:e,...n}){let a=gr(),{manifest:i,routeModules:l}=cS(),{loaderData:u,matches:f}=F2(),m=w.useMemo(()=>O_(t,e,f,i,a,"data"),[t,e,f,i,a]),p=w.useMemo(()=>O_(t,e,f,i,a,"assets"),[t,e,f,i,a]),v=w.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let x=new Set,_=!1;if(e.forEach(C=>{var T;let S=i.routes[C.route.id];!S||!S.hasLoader||(!m.some(R=>R.route.id===C.route.id)&&C.route.id in u&&((T=l[C.route.id])!=null&&T.shouldRevalidate)||S.hasClientLoader?_=!0:x.add(C.route.id))}),x.size===0)return[];let N=B2(t);return _&&x.size>0&&N.searchParams.set("_routes",e.filter(C=>x.has(C.route.id)).map(C=>C.route.id).join(",")),[N.pathname+N.search]},[u,a,i,m,e,t,l]),y=w.useMemo(()=>M2(p,i),[p,i]),b=V2(p);return w.createElement(w.Fragment,null,v.map(x=>w.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),y.map(x=>w.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),b.map(({key:x,link:_})=>w.createElement("link",{key:x,..._})))}function G2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uS&&(window.__reactRouterVersion="7.2.0")}catch{}function Y2({basename:t,children:e,window:n}){let a=w.useRef();a.current==null&&(a.current=kA({window:n,v5Compat:!0}));let i=a.current,[l,u]=w.useState({action:i.action,location:i.location}),f=w.useCallback(m=>{w.startTransition(()=>u(m))},[u]);return w.useLayoutEffect(()=>i.listen(f),[i,f]),w.createElement(E2,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:i})}var dS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oa=w.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:i,reloadDocument:l,replace:u,state:f,target:m,to:p,preventScrollReset:v,viewTransition:y,...b},x){let{basename:_}=w.useContext(pr),N=typeof p=="string"&&dS.test(p),C,S=!1;if(typeof p=="string"&&N&&(C=p,uS))try{let U=new URL(window.location.href),W=p.startsWith("//")?new URL(U.protocol+p):new URL(p),oe=us(W.pathname,_);W.origin===U.origin&&oe!=null?p=oe+W.search+W.hash:S=!0}catch{ur(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=i2(p,{relative:i}),[R,j,M]=H2(a,b),A=X2(p,{replace:u,state:f,target:m,preventScrollReset:v,relative:i,viewTransition:y});function F(U){e&&e(U),U.defaultPrevented||A(U)}let Q=w.createElement("a",{...b,...M,href:C||T,onClick:S||l?e:F,ref:G2(x,j),target:m,"data-discover":!N&&n==="render"?"true":void 0});return R&&!N?w.createElement(w.Fragment,null,Q,w.createElement(q2,{page:T})):Q});oa.displayName="Link";var W2=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:i=!1,style:l,to:u,viewTransition:f,children:m,...p},v){let y=Yc(u,{relative:p.relative}),b=gr(),x=w.useContext(Tf),{navigator:_,basename:N}=w.useContext(pr),C=x!=null&&nI(y)&&f===!0,S=_.encodeLocation?_.encodeLocation(y).pathname:y.pathname,T=b.pathname,R=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(T=T.toLowerCase(),R=R?R.toLowerCase():null,S=S.toLowerCase()),R&&N&&(R=us(R,N)||R);const j=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let M=T===S||!i&&T.startsWith(S)&&T.charAt(j)==="/",A=R!=null&&(R===S||!i&&R.startsWith(S)&&R.charAt(S.length)==="/"),F={isActive:M,isPending:A,isTransitioning:C},Q=M?e:void 0,U;typeof a=="function"?U=a(F):U=[a,M?"active":null,A?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let W=typeof l=="function"?l(F):l;return w.createElement(oa,{...p,"aria-current":Q,className:U,ref:v,style:W,to:u,viewTransition:f},typeof m=="function"?m(F):m)});W2.displayName="NavLink";var K2=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:i,state:l,method:u=Ud,action:f,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:y,...b},x)=>{let _=eI(),N=tI(f,{relative:p}),C=u.toLowerCase()==="get"?"get":"post",S=typeof f=="string"&&dS.test(f),T=R=>{if(m&&m(R),R.defaultPrevented)return;R.preventDefault();let j=R.nativeEvent.submitter,M=(j==null?void 0:j.getAttribute("formmethod"))||u;_(j||R.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:l,relative:p,preventScrollReset:v,viewTransition:y})};return w.createElement("form",{ref:x,method:C,action:N,onSubmit:a?m:T,...b,"data-discover":!S&&t==="render"?"true":void 0})});K2.displayName="Form";function Q2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fS(t){let e=w.useContext(Ho);return at(e,Q2(t)),e}function X2(t,{target:e,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:u}={}){let f=It(),m=gr(),p=Yc(t,{relative:l});return w.useCallback(v=>{if(R2(v,e)){v.preventDefault();let y=n!==void 0?n:Tc(m)===Tc(p);f(t,{replace:y,state:a,preventScrollReset:i,relative:l,viewTransition:u})}},[m,f,p,n,a,e,t,i,l,u])}var Z2=0,J2=()=>`__${String(++Z2)}__`;function eI(){let{router:t}=fS("useSubmit"),{basename:e}=w.useContext(pr),n=b2();return w.useCallback(async(a,i={})=>{let{action:l,method:u,encType:f,formData:m,body:p}=I2(a,e);if(i.navigate===!1){let v=i.fetcherKey||J2();await t.fetch(v,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:m,body:p,formMethod:i.method||u,formEncType:i.encType||f,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:m,body:p,formMethod:i.method||u,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function tI(t,{relative:e}={}){let{basename:n}=w.useContext(pr),a=w.useContext(Xn);at(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...Yc(t||".",{relative:e})},u=gr();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(y=>y).forEach(y=>f.append("index",y));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ia([n,l.pathname])),Tc(l)}function nI(t,e={}){let n=w.useContext(rS);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=fS("useViewTransitionState"),i=Yc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=us(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=us(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Wd(i.pathname,u)!=null||Wd(i.pathname,l)!=null}new TextEncoder;var ry=ZE();const hS=Yg(ry);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mS=(...t)=>t.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:u,...f},m)=>w.createElement("svg",{ref:m,...aI,width:e,height:e,stroke:t,strokeWidth:a?Number(n)*24/Number(e):n,className:mS("lucide",i),...f},[...u.map(([p,v])=>w.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(t,e)=>{const n=w.forwardRef(({className:a,...i},l)=>w.createElement(sI,{ref:l,iconNode:e,className:mS(`lucide-${rI(t)}`,a),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],oI=Ae("Apple",iI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pS=Ae("ArrowLeft",lI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],uI=Ae("Boxes",cI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],gS=Ae("Building2",dI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],yS=Ae("Calculator",fI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mI=Ae("Calendar",hI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vS=Ae("Check",pI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],yI=Ae("ChefHat",gI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ay=Ae("ChevronDown",vI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],sy=Ae("ChevronUp",bI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],_I=Ae("ChevronsUpDown",xI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bS=Ae("CircleAlert",wI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],SI=Ae("CircleUser",EI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Nn=Ae("ClipboardList",NI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xS=Ae("Eye",CI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],_S=Ae("Factory",TI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],DI=Ae("Lock",RI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],II=Ae("LogIn",AI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],k_=Ae("LogOut",jI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],kI=Ae("Menu",OI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],PI=Ae("MessageCircle",MI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],eg=Ae("Moon",LI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],wS=Ae("Package",UI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Df=Ae("Pencil",BI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ns=Ae("Plus",zI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],HI=Ae("Printer",FI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],VI=Ae("RefreshCcw",qI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],GI=Ae("Ruler",$I);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],WI=Ae("Save",YI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],QI=Ae("ScrollText",KI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ES=Ae("Search",XI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],M_=Ae("Settings",ZI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],P_=Ae("ShoppingBag",JI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],tg=Ae("ShoppingCart",ej);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],nj=Ae("Store",tj);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ng=Ae("Sun",rj);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Af=Ae("Trash2",aj);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ij=Ae("Truck",sj);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lj=Ae("User",oj);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],SS=Ae("Users",cj);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],NS=Ae("X",uj);function CS(t){var e,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CS(t[e]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}function dj(){for(var t,e,n=0,a="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CS(t))&&(a&&(a+=" "),a+=e);return a}const iy="-",fj=t=>{const e=mj(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:u=>{const f=u.split(iy);return f[0]===""&&f.length!==1&&f.shift(),TS(f,e)||hj(u)},getConflictingClassGroupIds:(u,f)=>{const m=n[u]||[];return f&&a[u]?[...m,...a[u]]:m}}},TS=(t,e)=>{var u;if(t.length===0)return e.classGroupId;const n=t[0],a=e.nextPart.get(n),i=a?TS(t.slice(1),a):void 0;if(i)return i;if(e.validators.length===0)return;const l=t.join(iy);return(u=e.validators.find(({validator:f})=>f(l)))==null?void 0:u.classGroupId},L_=/^\[(.+)\]$/,hj=t=>{if(L_.test(t)){const e=L_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},mj=t=>{const{theme:e,classGroups:n}=t,a={nextPart:new Map,validators:[]};for(const i in n)rg(n[i],a,i,e);return a},rg=(t,e,n,a)=>{t.forEach(i=>{if(typeof i=="string"){const l=i===""?e:U_(e,i);l.classGroupId=n;return}if(typeof i=="function"){if(pj(i)){rg(i(a),e,n,a);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([l,u])=>{rg(u,U_(e,l),n,a)})})},U_=(t,e)=>{let n=t;return e.split(iy).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},pj=t=>t.isThemeGetter,gj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,a=new Map;const i=(l,u)=>{n.set(l,u),e++,e>t&&(e=0,a=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=a.get(l))!==void 0)return i(l,u),u},set(l,u){n.has(l)?n.set(l,u):i(l,u)}}},ag="!",sg=":",yj=sg.length,vj=t=>{const{prefix:e,experimentalParseClassName:n}=t;let a=i=>{const l=[];let u=0,f=0,m=0,p;for(let _=0;_<i.length;_++){let N=i[_];if(u===0&&f===0){if(N===sg){l.push(i.slice(m,_)),m=_+yj;continue}if(N==="/"){p=_;continue}}N==="["?u++:N==="]"?u--:N==="("?f++:N===")"&&f--}const v=l.length===0?i:i.substring(m),y=bj(v),b=y!==v,x=p&&p>m?p-m:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:y,maybePostfixModifierPosition:x}};if(e){const i=e+sg,l=a;a=u=>u.startsWith(i)?l(u.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const i=a;a=l=>n({className:l,parseClassName:i})}return a},bj=t=>t.endsWith(ag)?t.substring(0,t.length-1):t.startsWith(ag)?t.substring(1):t,xj=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const i=[];let l=[];return a.forEach(u=>{u[0]==="["||e[u]?(i.push(...l.sort(),u),l=[]):l.push(u)}),i.push(...l.sort()),i}},_j=t=>({cache:gj(t.cacheSize),parseClassName:vj(t),sortModifiers:xj(t),...fj(t)}),wj=/\s+/,Ej=(t,e)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:i,sortModifiers:l}=e,u=[],f=t.trim().split(wj);let m="";for(let p=f.length-1;p>=0;p-=1){const v=f[p],{isExternal:y,modifiers:b,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:N}=n(v);if(y){m=v+(m.length>0?" "+m:m);continue}let C=!!N,S=a(C?_.substring(0,N):_);if(!S){if(!C){m=v+(m.length>0?" "+m:m);continue}if(S=a(_),!S){m=v+(m.length>0?" "+m:m);continue}C=!1}const T=l(b).join(":"),R=x?T+ag:T,j=R+S;if(u.includes(j))continue;u.push(j);const M=i(S,C);for(let A=0;A<M.length;++A){const F=M[A];u.push(R+F)}m=v+(m.length>0?" "+m:m)}return m};function Sj(){let t=0,e,n,a="";for(;t<arguments.length;)(e=arguments[t++])&&(n=RS(e))&&(a&&(a+=" "),a+=n);return a}const RS=t=>{if(typeof t=="string")return t;let e,n="";for(let a=0;a<t.length;a++)t[a]&&(e=RS(t[a]))&&(n&&(n+=" "),n+=e);return n};function Nj(t,...e){let n,a,i,l=u;function u(m){const p=e.reduce((v,y)=>y(v),t());return n=_j(p),a=n.cache.get,i=n.cache.set,l=f,f(m)}function f(m){const p=a(m);if(p)return p;const v=Ej(m,n);return i(m,v),v}return function(){return l(Sj.apply(null,arguments))}}const Lt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},DS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,AS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Cj=/^\d+\/\d+$/,Tj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Rj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Aj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ij=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,co=t=>Cj.test(t),Le=t=>!!t&&!Number.isNaN(Number(t)),Zs=t=>!!t&&Number.isInteger(Number(t)),B_=t=>t.endsWith("%")&&Le(t.slice(0,-1)),Ya=t=>Tj.test(t),jj=()=>!0,Oj=t=>Rj.test(t)&&!Dj.test(t),oy=()=>!1,kj=t=>Aj.test(t),Mj=t=>Ij.test(t),Pj=t=>!pe(t)&&!ge(t),Lj=t=>Vo(t,OS,oy),pe=t=>DS.test(t),Js=t=>Vo(t,kS,Oj),_p=t=>Vo(t,Wj,Le),Uj=t=>Vo(t,IS,oy),Bj=t=>Vo(t,jS,Mj),zj=t=>Vo(t,oy,kj),ge=t=>AS.test(t),Cd=t=>$o(t,kS),Fj=t=>$o(t,Kj),Hj=t=>$o(t,IS),qj=t=>$o(t,OS),Vj=t=>$o(t,jS),$j=t=>$o(t,Qj,!0),Vo=(t,e,n)=>{const a=DS.exec(t);return a?a[1]?e(a[1]):n(a[2]):!1},$o=(t,e,n=!1)=>{const a=AS.exec(t);return a?a[1]?e(a[1]):n:!1},IS=t=>t==="position",Gj=new Set(["image","url"]),jS=t=>Gj.has(t),Yj=new Set(["length","size","percentage"]),OS=t=>Yj.has(t),kS=t=>t==="length",Wj=t=>t==="number",Kj=t=>t==="family-name",Qj=t=>t==="shadow",Xj=()=>{const t=Lt("color"),e=Lt("font"),n=Lt("text"),a=Lt("font-weight"),i=Lt("tracking"),l=Lt("leading"),u=Lt("breakpoint"),f=Lt("container"),m=Lt("spacing"),p=Lt("radius"),v=Lt("shadow"),y=Lt("inset-shadow"),b=Lt("drop-shadow"),x=Lt("blur"),_=Lt("perspective"),N=Lt("aspect"),C=Lt("ease"),S=Lt("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],A=()=>[ge,pe,m],F=()=>[co,"full","auto",...A()],Q=()=>[Zs,"none","subgrid",ge,pe],U=()=>["auto",{span:["full",Zs,ge,pe]},ge,pe],W=()=>[Zs,"auto",ge,pe],oe=()=>["auto","min","max","fr",ge,pe],G=()=>["start","end","center","between","around","evenly","stretch","baseline"],ne=()=>["start","end","center","stretch"],X=()=>["auto",...A()],Z=()=>[co,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],L=()=>[t,ge,pe],le=()=>[B_,Js],te=()=>["","none","full",p,ge,pe],ue=()=>["",Le,Cd,Js],P=()=>["solid","dashed","dotted","double"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["","none",x,ge,pe],H=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge,pe],V=()=>["none",Le,ge,pe],ae=()=>["none",Le,ge,pe],re=()=>[Le,ge,pe],de=()=>[co,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ya],breakpoint:[Ya],color:[jj],container:[Ya],"drop-shadow":[Ya],ease:["in","out","in-out"],font:[Pj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ya],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ya],shadow:[Ya],spacing:["px",Le],text:[Ya],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",co,pe,ge,N]}],container:["container"],columns:[{columns:[Le,pe,ge,f]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),pe,ge]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[Zs,"auto",ge,pe]}],basis:[{basis:[co,"full","auto",f,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Le,co,"auto","initial","none",pe]}],grow:[{grow:["",Le,ge,pe]}],shrink:[{shrink:["",Le,ge,pe]}],order:[{order:[Zs,"first","last","none",ge,pe]}],"grid-cols":[{"grid-cols":Q()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":Q()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":oe()}],"auto-rows":[{"auto-rows":oe()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...ne()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...ne(),"baseline"]}],"align-self":[{self:["auto",...ne(),"baseline"]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...ne(),"baseline"]}],"place-self":[{"place-self":["auto",...ne()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[f,"screen",...Z()]}],"min-w":[{"min-w":[f,"screen","none",...Z()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...Z()]}],h:[{h:["screen",...Z()]}],"min-h":[{"min-h":["screen","none",...Z()]}],"max-h":[{"max-h":["screen",...Z()]}],"font-size":[{text:["base",n,Cd,Js]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,ge,_p]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",B_,pe]}],"font-family":[{font:[Fj,pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ge,pe]}],"line-clamp":[{"line-clamp":[Le,"none",ge,_p]}],leading:[{leading:[l,...A()]}],"list-image":[{"list-image":["none",ge,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:[Le,"from-font","auto",ge,Js]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[Le,"auto",ge,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),Hj,Uj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",qj,Lj]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Zs,ge,pe],radial:["",ge,pe],conic:[Zs,ge,pe]},Vj,Bj]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:le()}],"gradient-via-pos":[{via:le()}],"gradient-to-pos":[{to:le()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...P(),"hidden","none"]}],"divide-style":[{divide:[...P(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...P(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Le,ge,pe]}],"outline-w":[{outline:["",Le,Cd,Js]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",v,$j,zj]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",ge,pe,y]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[Le,Js]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":L()}],opacity:[{opacity:[Le,ge,pe]}],"mix-blend":[{"mix-blend":[...K(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none",ge,pe]}],blur:[{blur:k()}],brightness:[{brightness:[Le,ge,pe]}],contrast:[{contrast:[Le,ge,pe]}],"drop-shadow":[{"drop-shadow":["","none",b,ge,pe]}],grayscale:[{grayscale:["",Le,ge,pe]}],"hue-rotate":[{"hue-rotate":[Le,ge,pe]}],invert:[{invert:["",Le,ge,pe]}],saturate:[{saturate:[Le,ge,pe]}],sepia:[{sepia:["",Le,ge,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,pe]}],"backdrop-blur":[{"backdrop-blur":k()}],"backdrop-brightness":[{"backdrop-brightness":[Le,ge,pe]}],"backdrop-contrast":[{"backdrop-contrast":[Le,ge,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Le,ge,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Le,ge,pe]}],"backdrop-invert":[{"backdrop-invert":["",Le,ge,pe]}],"backdrop-opacity":[{"backdrop-opacity":[Le,ge,pe]}],"backdrop-saturate":[{"backdrop-saturate":[Le,ge,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Le,ge,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Le,"initial",ge,pe]}],ease:[{ease:["linear","initial",C,ge,pe]}],delay:[{delay:[Le,ge,pe]}],animate:[{animate:["none",S,ge,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,ge,pe]}],"perspective-origin":[{"perspective-origin":H()}],rotate:[{rotate:V()}],"rotate-x":[{"rotate-x":V()}],"rotate-y":[{"rotate-y":V()}],"rotate-z":[{"rotate-z":V()}],scale:[{scale:ae()}],"scale-x":[{"scale-x":ae()}],"scale-y":[{"scale-y":ae()}],"scale-z":[{"scale-z":ae()}],"scale-3d":["scale-3d"],skew:[{skew:re()}],"skew-x":[{"skew-x":re()}],"skew-y":[{"skew-y":re()}],transform:[{transform:[ge,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:H()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:de()}],"translate-x":[{"translate-x":de()}],"translate-y":[{"translate-y":de()}],"translate-z":[{"translate-z":de()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,pe]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[Le,Cd,Js,_p]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},Zj=Nj(Xj),MS=6048e5,Jj=864e5,PS=6e4,LS=36e5,z_=Symbol.for("constructDateFrom");function ca(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&z_ in t?t[z_](e):t instanceof Date?new t.constructor(e):new Date(e)}function Rn(t,e){return ca(e||t,t)}let eO={};function If(){return eO}function Rc(t,e){var f,m,p,v;const n=If(),a=(e==null?void 0:e.weekStartsOn)??((m=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((v=(p=n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,i=Rn(t,e==null?void 0:e.in),l=i.getDay(),u=(l<a?7:0)+l-a;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function Kd(t,e){return Rc(t,{...e,weekStartsOn:1})}function US(t,e){const n=Rn(t,e==null?void 0:e.in),a=n.getFullYear(),i=ca(n,0);i.setFullYear(a+1,0,4),i.setHours(0,0,0,0);const l=Kd(i),u=ca(n,0);u.setFullYear(a,0,4),u.setHours(0,0,0,0);const f=Kd(u);return n.getTime()>=l.getTime()?a+1:n.getTime()>=f.getTime()?a:a-1}function F_(t){const e=Rn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function tO(t,...e){const n=ca.bind(null,e.find(a=>typeof a=="object"));return e.map(n)}function H_(t,e){const n=Rn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function nO(t,e,n){const[a,i]=tO(n==null?void 0:n.in,t,e),l=H_(a),u=H_(i),f=+l-F_(l),m=+u-F_(u);return Math.round((f-m)/Jj)}function rO(t,e){const n=US(t,e),a=ca(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Kd(a)}function aO(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function sO(t){return!(!aO(t)&&typeof t!="number"||isNaN(+Rn(t)))}function iO(t,e){const n=Rn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const oO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lO=(t,e,n)=>{let a;const i=oO[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function _o(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const cO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fO={date:_o({formats:cO,defaultWidth:"full"}),time:_o({formats:uO,defaultWidth:"full"}),dateTime:_o({formats:dO,defaultWidth:"full"})},hO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mO=(t,e,n,a)=>hO[t];function Rr(t){return(e,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let i;if(a==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,f=n!=null&&n.width?String(n.width):u;i=t.formattingValues[f]||t.formattingValues[u]}else{const u=t.defaultWidth,f=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[f]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return i[l]}}const pO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_O=(t,e)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},wO={ordinalNumber:_O,era:Rr({values:pO,defaultWidth:"wide"}),quarter:Rr({values:gO,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Rr({values:yO,defaultWidth:"wide"}),day:Rr({values:vO,defaultWidth:"wide"}),dayPeriod:Rr({values:bO,defaultWidth:"wide",formattingValues:xO,defaultFormattingWidth:"wide"})};function Dr(t){return(e,n={})=>{const a=n.width,i=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],l=e.match(i);if(!l)return null;const u=l[0],f=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(f)?SO(f,y=>y.test(u)):EO(f,y=>y.test(u));let p;p=t.valueCallback?t.valueCallback(m):m,p=n.valueCallback?n.valueCallback(p):p;const v=e.slice(u.length);return{value:p,rest:v}}}function EO(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function SO(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function BS(t){return(e,n={})=>{const a=e.match(t.matchPattern);if(!a)return null;const i=a[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const f=e.slice(i.length);return{value:u,rest:f}}}const NO=/^(\d+)(th|st|nd|rd)?/i,CO=/\d+/i,TO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},RO={any:[/^b/i,/^(a|c)/i]},DO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},AO={any:[/1/i,/2/i,/3/i,/4/i]},IO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},OO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},MO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},PO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},LO={ordinalNumber:BS({matchPattern:NO,parsePattern:CO,valueCallback:t=>parseInt(t,10)}),era:Dr({matchPatterns:TO,defaultMatchWidth:"wide",parsePatterns:RO,defaultParseWidth:"any"}),quarter:Dr({matchPatterns:DO,defaultMatchWidth:"wide",parsePatterns:AO,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Dr({matchPatterns:IO,defaultMatchWidth:"wide",parsePatterns:jO,defaultParseWidth:"any"}),day:Dr({matchPatterns:OO,defaultMatchWidth:"wide",parsePatterns:kO,defaultParseWidth:"any"}),dayPeriod:Dr({matchPatterns:MO,defaultMatchWidth:"any",parsePatterns:PO,defaultParseWidth:"any"})},UO={code:"en-US",formatDistance:lO,formatLong:fO,formatRelative:mO,localize:wO,match:LO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function BO(t,e){const n=Rn(t,e==null?void 0:e.in);return nO(n,iO(n))+1}function zO(t,e){const n=Rn(t,e==null?void 0:e.in),a=+Kd(n)-+rO(n);return Math.round(a/MS)+1}function zS(t,e){var v,y,b,x;const n=Rn(t,e==null?void 0:e.in),a=n.getFullYear(),i=If(),l=(e==null?void 0:e.firstWeekContainsDate)??((y=(v=e==null?void 0:e.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(b=i.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??1,u=ca((e==null?void 0:e.in)||t,0);u.setFullYear(a+1,0,l),u.setHours(0,0,0,0);const f=Rc(u,e),m=ca((e==null?void 0:e.in)||t,0);m.setFullYear(a,0,l),m.setHours(0,0,0,0);const p=Rc(m,e);return+n>=+f?a+1:+n>=+p?a:a-1}function FO(t,e){var f,m,p,v;const n=If(),a=(e==null?void 0:e.firstWeekContainsDate)??((m=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(p=n.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,i=zS(t,e),l=ca((e==null?void 0:e.in)||t,0);return l.setFullYear(i,0,a),l.setHours(0,0,0,0),Rc(l,e)}function HO(t,e){const n=Rn(t,e==null?void 0:e.in),a=+Rc(n,e)-+FO(n,e);return Math.round(a/MS)+1}function Ye(t,e){const n=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return n+a}const Wa={y(t,e){const n=t.getFullYear(),a=n>0?n:1-n;return Ye(e==="yy"?a%100:a,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ye(n+1,2)},d(t,e){return Ye(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ye(t.getHours()%12||12,e.length)},H(t,e){return Ye(t.getHours(),e.length)},m(t,e){return Ye(t.getMinutes(),e.length)},s(t,e){return Ye(t.getSeconds(),e.length)},S(t,e){const n=e.length,a=t.getMilliseconds(),i=Math.trunc(a*Math.pow(10,n-3));return Ye(i,e.length)}},uo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},q_={G:function(t,e,n){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const a=t.getFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Wa.y(t,e)},Y:function(t,e,n,a){const i=zS(t,a),l=i>0?i:1-i;if(e==="YY"){const u=l%100;return Ye(u,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):Ye(l,e.length)},R:function(t,e){const n=US(t);return Ye(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ye(n,e.length)},Q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Ye(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Ye(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,n){const a=t.getMonth();switch(e){case"M":case"MM":return Wa.M(t,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,n){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return Ye(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,n,a){const i=HO(t,a);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ye(i,e.length)},I:function(t,e,n){const a=zO(t);return e==="Io"?n.ordinalNumber(a,{unit:"week"}):Ye(a,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Wa.d(t,e)},D:function(t,e,n){const a=BO(t);return e==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Ye(a,e.length)},E:function(t,e,n){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,n,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Ye(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Ye(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const a=t.getDay(),i=a===0?7:a;switch(e){case"i":return String(i);case"ii":return Ye(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const a=t.getHours();let i;switch(a===12?i=uo.noon:a===0?i=uo.midnight:i=a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const a=t.getHours();let i;switch(a>=17?i=uo.evening:a>=12?i=uo.afternoon:a>=4?i=uo.morning:i=uo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let a=t.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Wa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Wa.H(t,e)},K:function(t,e,n){const a=t.getHours()%12;return e==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Ye(a,e.length)},k:function(t,e,n){let a=t.getHours();return a===0&&(a=24),e==="ko"?n.ordinalNumber(a,{unit:"hour"}):Ye(a,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Wa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Wa.s(t,e)},S:function(t,e){return Wa.S(t,e)},X:function(t,e,n){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return $_(a);case"XXXX":case"XX":return ei(a);case"XXXXX":case"XXX":default:return ei(a,":")}},x:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"x":return $_(a);case"xxxx":case"xx":return ei(a);case"xxxxx":case"xxx":default:return ei(a,":")}},O:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+V_(a,":");case"OOOO":default:return"GMT"+ei(a,":")}},z:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+V_(a,":");case"zzzz":default:return"GMT"+ei(a,":")}},t:function(t,e,n){const a=Math.trunc(+t/1e3);return Ye(a,e.length)},T:function(t,e,n){return Ye(+t,e.length)}};function V_(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),i=Math.trunc(a/60),l=a%60;return l===0?n+String(i):n+String(i)+e+Ye(l,2)}function $_(t,e){return t%60===0?(t>0?"-":"+")+Ye(Math.abs(t)/60,2):ei(t,e)}function ei(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),i=Ye(Math.trunc(a/60),2),l=Ye(a%60,2);return n+i+e+l}const G_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},FS=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},qO=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return G_(t,e);let l;switch(a){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",G_(a,e)).replace("{{time}}",FS(i,e))},VO={p:FS,P:qO},$O=/^D+$/,GO=/^Y+$/,YO=["D","DD","YY","YYYY"];function WO(t){return $O.test(t)}function KO(t){return GO.test(t)}function QO(t,e,n){const a=XO(t,e,n);if(console.warn(a),YO.includes(t))throw new RangeError(a)}function XO(t,e,n){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ZO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ek=/^'([^]*?)'?$/,tk=/''/g,nk=/[a-zA-Z]/;function Rt(t,e,n){var v,y,b,x,_,N,C,S;const a=If(),i=(n==null?void 0:n.locale)??a.locale??UO,l=(n==null?void 0:n.firstWeekContainsDate)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??a.firstWeekContainsDate??((x=(b=a.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??1,u=(n==null?void 0:n.weekStartsOn)??((N=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:N.weekStartsOn)??a.weekStartsOn??((S=(C=a.locale)==null?void 0:C.options)==null?void 0:S.weekStartsOn)??0,f=Rn(t,n==null?void 0:n.in);if(!sO(f))throw new RangeError("Invalid time value");let m=e.match(JO).map(T=>{const R=T[0];if(R==="p"||R==="P"){const j=VO[R];return j(T,i.formatLong)}return T}).join("").match(ZO).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const R=T[0];if(R==="'")return{isToken:!1,value:rk(T)};if(q_[R])return{isToken:!0,value:T};if(R.match(nk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:T}});i.localize.preprocessor&&(m=i.localize.preprocessor(f,m));const p={firstWeekContainsDate:l,weekStartsOn:u,locale:i};return m.map(T=>{if(!T.isToken)return T.value;const R=T.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&KO(R)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&WO(R))&&QO(R,e,String(t));const j=q_[R[0]];return j(f,R,i.localize,p)}).join("")}function rk(t){const e=t.match(ek);return e?e[1].replace(tk,"'"):t}function va(t,e){const n=()=>ca(e==null?void 0:e.in,NaN),i=ok(t);let l;if(i.date){const p=lk(i.date,2);l=ck(p.restDateString,p.year)}if(!l||isNaN(+l))return n();const u=+l;let f=0,m;if(i.time&&(f=uk(i.time),isNaN(f)))return n();if(i.timezone){if(m=dk(i.timezone),isNaN(m))return n()}else{const p=new Date(u+f),v=Rn(0,e==null?void 0:e.in);return v.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),v.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),v}return Rn(u+f+m,e==null?void 0:e.in)}const Td={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ak=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,sk=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ik=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ok(t){const e={},n=t.split(Td.dateTimeDelimiter);let a;if(n.length>2)return e;if(/:/.test(n[0])?a=n[0]:(e.date=n[0],a=n[1],Td.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Td.timeZoneDelimiter)[0],a=t.substr(e.date.length,t.length))),a){const i=Td.timezone.exec(a);i?(e.time=a.replace(i[1],""),e.timezone=i[1]):e.time=a}return e}function lk(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=t.match(n);if(!a)return{year:NaN,restDateString:""};const i=a[1]?parseInt(a[1]):null,l=a[2]?parseInt(a[2]):null;return{year:l===null?i:l*100,restDateString:t.slice((a[1]||a[2]).length)}}function ck(t,e){if(e===null)return new Date(NaN);const n=t.match(ak);if(!n)return new Date(NaN);const a=!!n[4],i=cc(n[1]),l=cc(n[2])-1,u=cc(n[3]),f=cc(n[4]),m=cc(n[5])-1;if(a)return gk(e,f,m)?fk(e,f,m):new Date(NaN);{const p=new Date(0);return!mk(e,l,u)||!pk(e,i)?new Date(NaN):(p.setUTCFullYear(e,l,Math.max(i,u)),p)}}function cc(t){return t?parseInt(t):1}function uk(t){const e=t.match(sk);if(!e)return NaN;const n=wp(e[1]),a=wp(e[2]),i=wp(e[3]);return yk(n,a,i)?n*LS+a*PS+i*1e3:NaN}function wp(t){return t&&parseFloat(t.replace(",","."))||0}function dk(t){if(t==="Z")return 0;const e=t.match(ik);if(!e)return 0;const n=e[1]==="+"?-1:1,a=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return vk(a,i)?n*(a*LS+i*PS):NaN}function fk(t,e,n){const a=new Date(0);a.setUTCFullYear(t,0,4);const i=a.getUTCDay()||7,l=(e-1)*7+n+1-i;return a.setUTCDate(a.getUTCDate()+l),a}const hk=[31,null,31,30,31,30,31,31,30,31,30,31];function HS(t){return t%400===0||t%4===0&&t%100!==0}function mk(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(hk[e]||(HS(t)?29:28))}function pk(t,e){return e>=1&&e<=(HS(t)?366:365)}function gk(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function yk(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function vk(t,e){return e>=0&&e<=59}const bk={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},xk=(t,e,n)=>{let a;const i=bk[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+a:"hace "+a:a},_k={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},wk={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Ek={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Sk={date:_o({formats:_k,defaultWidth:"full"}),time:_o({formats:wk,defaultWidth:"full"}),dateTime:_o({formats:Ek,defaultWidth:"full"})},Nk={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Ck={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Tk=(t,e,n,a)=>e.getHours()!==1?Ck[t]:Nk[t],Rk={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},Dk={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Ak={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Ik={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},jk={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},Ok={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},kk=(t,e)=>Number(t)+"º",Mk={ordinalNumber:kk,era:Rr({values:Rk,defaultWidth:"wide"}),quarter:Rr({values:Dk,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Rr({values:Ak,defaultWidth:"wide"}),day:Rr({values:Ik,defaultWidth:"wide"}),dayPeriod:Rr({values:jk,defaultWidth:"wide",formattingValues:Ok,defaultFormattingWidth:"wide"})},Pk=/^(\d+)(º)?/i,Lk=/\d+/i,Uk={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},Bk={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},zk={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Fk={any:[/1/i,/2/i,/3/i,/4/i]},Hk={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},qk={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Vk={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},$k={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Gk={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},Yk={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Wk={ordinalNumber:BS({matchPattern:Pk,parsePattern:Lk,valueCallback:function(t){return parseInt(t,10)}}),era:Dr({matchPatterns:Uk,defaultMatchWidth:"wide",parsePatterns:Bk,defaultParseWidth:"any"}),quarter:Dr({matchPatterns:zk,defaultMatchWidth:"wide",parsePatterns:Fk,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Dr({matchPatterns:Hk,defaultMatchWidth:"wide",parsePatterns:qk,defaultParseWidth:"any"}),day:Dr({matchPatterns:Vk,defaultMatchWidth:"wide",parsePatterns:$k,defaultParseWidth:"any"}),dayPeriod:Dr({matchPatterns:Gk,defaultMatchWidth:"any",parsePatterns:Yk,defaultParseWidth:"any"})},xs={code:"es",formatDistance:xk,formatLong:Sk,formatRelative:Tk,localize:Mk,match:Wk,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Re(...t){return Zj(dj(t))}const Kk="dd/MM/yyyy";function Qk(t){if(!t)return"";try{return(typeof t=="string"?va(t):t).toISOString()}catch{return""}}function qS(t){if(!t)return"";try{const e=typeof t=="string"?va(t):t;return Rt(e,Kk,{locale:xs})}catch{return""}}function Xk(t){if(!t)return null;try{return typeof t=="string"?va(t):t}catch{return null}}const _e=w.forwardRef(({className:t,variant:e="default",size:n="default",...a},i)=>{const l="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",u={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},f={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"};return d.jsx("button",{className:Re(l,u[e],f[n],t),ref:i,...a})});_e.displayName="Button";const dr=w.forwardRef(({className:t,type:e,...n},a)=>d.jsx("input",{type:e,className:Re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...n}));dr.displayName="Input";const rt=w.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Re("rounded-lg border border-border bg-card text-card-foreground shadow-sm",t),...e}));rt.displayName="Card";const pn=w.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Re("flex flex-col space-y-1.5 p-6",t),...e}));pn.displayName="CardHeader";const gn=w.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:Re("text-2xl font-semibold leading-none tracking-tight",t),...e}));gn.displayName="CardTitle";const VS=w.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));VS.displayName="CardDescription";const gt=w.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Re("p-6 pt-0",t),...e}));gt.displayName="CardContent";const $S=w.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Re("flex items-center p-6 pt-0",t),...e}));$S.displayName="CardFooter";const Zk=()=>{};var Y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce=function(t,e){if(!t)throw Go(e)},Go=function(t){return new Error("Firebase Database ("+GS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=function(t){const e=[];let n=0;for(let a=0;a<t.length;a++){let i=t.charCodeAt(a);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&a+1<t.length&&(t.charCodeAt(a+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++a)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Jk=function(t){const e=[];let n=0,a=0;for(;n<t.length;){const i=t[n++];if(i<128)e[a++]=String.fromCharCode(i);else if(i>191&&i<224){const l=t[n++];e[a++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=t[n++],u=t[n++],f=t[n++],m=((i&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[a++]=String.fromCharCode((i&15)<<12|(l&63)<<6|u&63)}}return e.join("")},ly={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let i=0;i<t.length;i+=3){const l=t[i],u=i+1<t.length,f=u?t[i+1]:0,m=i+2<t.length,p=m?t[i+2]:0,v=l>>2,y=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,x=p&63;m||(x=64,u||(b=64)),a.push(n[v],n[y],n[b],n[x])}return a.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Jk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let i=0;i<t.length;){const l=n[t.charAt(i++)],f=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,l==null||f==null||p==null||y==null)throw new eM;const b=l<<2|f>>4;if(a.push(b),p!==64){const x=f<<4&240|p>>2;if(a.push(x),y!==64){const _=p<<6&192|y;a.push(_)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WS=function(t){const e=YS(t);return ly.encodeByteArray(e,!0)},Qd=function(t){return WS(t).replace(/\./g,"")},Xd=function(t){try{return ly.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t){return KS(void 0,t)}function KS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!nM(n)||(t[n]=KS(t[n],e[n]));return t}function nM(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=()=>rM().__FIREBASE_DEFAULTS__,sM=()=>{if(typeof process>"u"||typeof Y_>"u")return;const t=Y_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xd(t[1]);return e&&JSON.parse(e)},cy=()=>{try{return Zk()||aM()||sM()||iM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QS=t=>{var e,n;return(n=(e=cy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oM=t=>{const e=QS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},XS=()=>{var t;return(t=cy())===null||t===void 0?void 0:t.config},ZS=t=>{var e;return(e=cy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",i=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qd(JSON.stringify(n)),Qd(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function cM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dM(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fM(){return GS.NODE_ADMIN===!0}function hM(){try{return typeof indexedDB=="object"}catch{return!1}}function mM(){return new Promise((t,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(a);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(a),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var l;e(((l=i.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="FirebaseError";class _s extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=pM,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kc.prototype.create)}}class Kc{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},i=`${this.service}/${e}`,l=this.errors[e],u=l?gM(l,a):"Error",f=`${this.serviceName}: ${u} (${i}).`;return new _s(i,f,a)}}function gM(t,e){return t.replace(yM,(n,a)=>{const i=e[a];return i!=null?String(i):`<${a}?>`})}const yM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t){return JSON.parse(t)}function Tt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=function(t){let e={},n={},a={},i="";try{const l=t.split(".");e=Dc(Xd(l[0])||""),n=Dc(Xd(l[1])||""),i=l[2],a=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:a,signature:i}},vM=function(t){const e=e1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},bM=function(t){const e=e1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ro(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ig(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zd(t,e,n){const a={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=e.call(n,t[i],i,t));return a}function fi(t,e){if(t===e)return!0;const n=Object.keys(t),a=Object.keys(e);for(const i of n){if(!a.includes(i))return!1;const l=t[i],u=e[i];if(W_(l)&&W_(u)){if(!fi(l,u))return!1}else if(l!==u)return!1}for(const i of a)if(!n.includes(i))return!1;return!0}function W_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(t){const e=[];for(const[n,a]of Object.entries(t))Array.isArray(a)?a.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function pc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[i,l]=a.split("=");e[decodeURIComponent(i)]=decodeURIComponent(l)}}),e}function gc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const a=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)a[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)a[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const b=a[y-3]^a[y-8]^a[y-14]^a[y-16];a[y]=(b<<1|b>>>31)&4294967295}let i=this.chain_[0],l=this.chain_[1],u=this.chain_[2],f=this.chain_[3],m=this.chain_[4],p,v;for(let y=0;y<80;y++){y<40?y<20?(p=f^l&(u^f),v=1518500249):(p=l^u^f,v=1859775393):y<60?(p=l&u|f&(l|u),v=2400959708):(p=l^u^f,v=3395469782);const b=(i<<5|i>>>27)+p+m+v+a[y]&4294967295;m=f,f=u,u=(l<<30|l>>>2)&4294967295,l=i,i=b}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const a=n-this.blockSize;let i=0;const l=this.buf_;let u=this.inbuf_;for(;i<n;){if(u===0)for(;i<=a;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(l[u]=e.charCodeAt(i),++u,++i,u===this.blockSize){this.compress_(l),u=0;break}}else for(;i<n;)if(l[u]=e[i],++u,++i,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let a=0;for(let i=0;i<5;i++)for(let l=24;l>=0;l-=8)e[a]=this.chain_[i]>>l&255,++a;return e}}function _M(t,e){const n=new wM(t,e);return n.subscribe.bind(n)}class wM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let i;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");EM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:a},i.next===void 0&&(i.next=Ep),i.error===void 0&&(i.error=Ep),i.complete===void 0&&(i.complete=Ep);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ep(){}function jf(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=function(t){const e=[];let n=0;for(let a=0;a<t.length;a++){let i=t.charCodeAt(a);if(i>=55296&&i<=56319){const l=i-55296;a++,ce(a<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(a)-56320;i=65536+(l<<10)+u}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Of=function(t){let e=0;for(let n=0;n<t.length;n++){const a=t.charCodeAt(n);a<128?e++:a<2048?e+=2:a>=55296&&a<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t){return t&&t._delegate?t._delegate:t}class hi{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NM=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new Wc;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&a.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TM(e))try{this.getOrInitializeService({instanceIdentifier:ti})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:i});a.resolve(l)}catch{}}}}clearInstance(e=ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ti){return this.instances.has(e)}getOptions(e=ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);a===f&&u.resolve(i)}return i}onInit(e,n){var a;const i=this.normalizeInstanceIdentifier(n),l=(a=this.onInitCallbacks.get(i))!==null&&a!==void 0?a:new Set;l.add(e),this.onInitCallbacks.set(i,l);const u=this.instances.get(i);return u&&e(u,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const i of a)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:CM(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ti){return this.component?this.component.multipleInstances?e:ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function CM(t){return t===ti?void 0:t}function TM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const DM={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},AM=Xe.INFO,IM={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},jM=(t,e,...n)=>{if(e<t.logLevel)return;const a=new Date().toISOString(),i=IM[e];if(i)console[i](`[${a}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dy{constructor(e){this.name=e,this._logLevel=AM,this._logHandler=jM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const OM=(t,e)=>e.some(n=>t instanceof n);let K_,Q_;function kM(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MM(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t1=new WeakMap,og=new WeakMap,n1=new WeakMap,Sp=new WeakMap,fy=new WeakMap;function PM(t){const e=new Promise((n,a)=>{const i=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(rs(t.result)),i()},u=()=>{a(t.error),i()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&t1.set(n,t)}).catch(()=>{}),fy.set(e,t),e}function LM(t){if(og.has(t))return;const e=new Promise((n,a)=>{const i=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),i()},u=()=>{a(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});og.set(t,e)}let lg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return og.get(t);if(e==="objectStoreNames")return t.objectStoreNames||n1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UM(t){lg=t(lg)}function BM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=t.call(Np(this),e,...n);return n1.set(a,e.sort?e.sort():[e]),rs(a)}:MM().includes(t)?function(...e){return t.apply(Np(this),e),rs(t1.get(this))}:function(...e){return rs(t.apply(Np(this),e))}}function zM(t){return typeof t=="function"?BM(t):(t instanceof IDBTransaction&&LM(t),OM(t,kM())?new Proxy(t,lg):t)}function rs(t){if(t instanceof IDBRequest)return PM(t);if(Sp.has(t))return Sp.get(t);const e=zM(t);return e!==t&&(Sp.set(t,e),fy.set(e,t)),e}const Np=t=>fy.get(t);function FM(t,e,{blocked:n,upgrade:a,blocking:i,terminated:l}={}){const u=indexedDB.open(t,e),f=rs(u);return a&&u.addEventListener("upgradeneeded",m=>{a(rs(u.result),m.oldVersion,m.newVersion,rs(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),i&&m.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const HM=["get","getKey","getAll","getAllKeys","count"],qM=["put","add","delete","clear"],Cp=new Map;function X_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cp.get(e))return Cp.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,i=qM.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(i||HM.includes(n)))return;const l=async function(u,...f){const m=this.transaction(u,i?"readwrite":"readonly");let p=m.store;return a&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),i&&m.done]))[0]};return Cp.set(e,l),l}UM(t=>({...t,get:(e,n,a)=>X_(e,n)||t.get(e,n,a),has:(e,n)=>!!X_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($M(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function $M(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cg="@firebase/app",Z_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new dy("@firebase/app"),GM="@firebase/app-compat",YM="@firebase/analytics-compat",WM="@firebase/analytics",KM="@firebase/app-check-compat",QM="@firebase/app-check",XM="@firebase/auth",ZM="@firebase/auth-compat",JM="@firebase/database",eP="@firebase/data-connect",tP="@firebase/database-compat",nP="@firebase/functions",rP="@firebase/functions-compat",aP="@firebase/installations",sP="@firebase/installations-compat",iP="@firebase/messaging",oP="@firebase/messaging-compat",lP="@firebase/performance",cP="@firebase/performance-compat",uP="@firebase/remote-config",dP="@firebase/remote-config-compat",fP="@firebase/storage",hP="@firebase/storage-compat",mP="@firebase/firestore",pP="@firebase/vertexai",gP="@firebase/firestore-compat",yP="firebase",vP="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="[DEFAULT]",bP={[cg]:"fire-core",[GM]:"fire-core-compat",[WM]:"fire-analytics",[YM]:"fire-analytics-compat",[QM]:"fire-app-check",[KM]:"fire-app-check-compat",[XM]:"fire-auth",[ZM]:"fire-auth-compat",[JM]:"fire-rtdb",[eP]:"fire-data-connect",[tP]:"fire-rtdb-compat",[nP]:"fire-fn",[rP]:"fire-fn-compat",[aP]:"fire-iid",[sP]:"fire-iid-compat",[iP]:"fire-fcm",[oP]:"fire-fcm-compat",[lP]:"fire-perf",[cP]:"fire-perf-compat",[uP]:"fire-rc",[dP]:"fire-rc-compat",[fP]:"fire-gcs",[hP]:"fire-gcs-compat",[mP]:"fire-fst",[gP]:"fire-fst-compat",[pP]:"fire-vertex","fire-js":"fire-js",[yP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new Map,xP=new Map,dg=new Map;function J_(t,e){try{t.container.addComponent(e)}catch(n){ua.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Do(t){const e=t.name;if(dg.has(e))return ua.debug(`There were multiple attempts to register component ${e}.`),!1;dg.set(e,t);for(const n of Jd.values())J_(n,t);for(const n of xP.values())J_(n,t);return!0}function hy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ir(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new Kc("app","Firebase",_P);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=vP;function r1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const a=Object.assign({name:ug,automaticDataCollectionEnabled:!1},e),i=a.name;if(typeof i!="string"||!i)throw as.create("bad-app-name",{appName:String(i)});if(n||(n=XS()),!n)throw as.create("no-options");const l=Jd.get(i);if(l){if(fi(n,l.options)&&fi(a,l.config))return l;throw as.create("duplicate-app",{appName:i})}const u=new RM(i);for(const m of dg.values())u.addComponent(m);const f=new wP(n,a,u);return Jd.set(i,f),f}function a1(t=ug){const e=Jd.get(t);if(!e&&t===ug&&XS())return r1();if(!e)throw as.create("no-app",{appName:t});return e}function ss(t,e,n){var a;let i=(a=bP[t])!==null&&a!==void 0?a:t;n&&(i+=`-${n}`);const l=i.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${i}" with version "${e}":`];l&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ua.warn(f.join(" "));return}Do(new hi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="firebase-heartbeat-database",SP=1,Ac="firebase-heartbeat-store";let Tp=null;function s1(){return Tp||(Tp=FM(EP,SP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ac)}catch(n){console.warn(n)}}}}).catch(t=>{throw as.create("idb-open",{originalErrorMessage:t.message})})),Tp}async function NP(t){try{const n=(await s1()).transaction(Ac),a=await n.objectStore(Ac).get(i1(t));return await n.done,a}catch(e){if(e instanceof _s)ua.warn(e.message);else{const n=as.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ua.warn(n.message)}}}async function ew(t,e){try{const a=(await s1()).transaction(Ac,"readwrite");await a.objectStore(Ac).put(e,i1(t)),await a.done}catch(n){if(n instanceof _s)ua.warn(n.message);else{const a=as.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ua.warn(a.message)}}}function i1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=1024,TP=30;class RP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AP(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=tw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>TP){const u=IP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ua.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tw(),{heartbeatsToSend:a,unsentEntries:i}=DP(this._heartbeatsCache.heartbeats),l=Qd(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return ua.warn(n),""}}}function tw(){return new Date().toISOString().substring(0,10)}function DP(t,e=CP){const n=[];let a=t.slice();for(const i of t){const l=n.find(u=>u.agent===i.agent);if(l){if(l.dates.push(i.date),nw(n)>e){l.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nw(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class AP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hM()?mM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ew(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ew(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nw(t){return Qd(JSON.stringify({version:2,heartbeats:t})).length}function IP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let a=1;a<t.length;a++)t[a].date<n&&(n=t[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t){Do(new hi("platform-logger",e=>new VM(e),"PRIVATE")),Do(new hi("heartbeat",e=>new RP(e),"PRIVATE")),ss(cg,Z_,t),ss(cg,Z_,"esm2017"),ss("fire-js","")}jP("");var Ar=function(){return Ar=Object.assign||function(e){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Ar.apply(this,arguments)};function Qc(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n}function OP(t,e,n){if(n||arguments.length===2)for(var a=0,i=e.length,l;a<i;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return t.concat(l||Array.prototype.slice.call(e))}function o1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kP=o1,l1=new Kc("auth","Firebase",o1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new dy("@firebase/auth");function MP(t,...e){ef.logLevel<=Xe.WARN&&ef.warn(`Auth (${Wo}): ${t}`,...e)}function zd(t,...e){ef.logLevel<=Xe.ERROR&&ef.error(`Auth (${Wo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t,...e){throw my(t,...e)}function Ir(t,...e){return my(t,...e)}function c1(t,e,n){const a=Object.assign(Object.assign({},kP()),{[e]:n});return new Kc("auth","Firebase",a).create(e,{appName:t.name})}function is(t){return c1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function my(t,...e){if(typeof t!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=t.name),t._errorFactory.create(n,...a)}return l1.create(t,...e)}function Se(t,e,...n){if(!t)throw my(e,...n)}function na(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zd(e),new Error(e)}function da(t,e){t||na(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PP(){return rw()==="http:"||rw()==="https:"}function rw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PP()||uM()||"connection"in navigator)?navigator.onLine:!0}function UP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){this.shortDelay=e,this.longDelay=n,da(n>e,"Short delay should be less than long delay!"),this.isMobile=uy()||JS()}get(){return LP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t,e){da(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=new Xc(3e4,6e4);function Ni(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ws(t,e,n,a,i={}){return d1(t,i,async()=>{let l={},u={};a&&(e==="GET"?u=a:l={body:JSON.stringify(a)});const f=Yo(Object.assign({key:t.config.apiKey},u)).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:m},l);return cM()||(p.referrerPolicy="no-referrer"),u1.fetch()(f1(t,t.config.apiHost,n,f),p)})}async function d1(t,e,n){t._canInitEmulator=!1;const a=Object.assign(Object.assign({},BP),e);try{const i=new HP(t),l=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Rd(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rd(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Rd(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw Rd(t,"user-disabled",u);const v=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw c1(t,v,p);fr(t,v)}}catch(i){if(i instanceof _s)throw i;fr(t,"network-request-failed",{message:String(i)})}}async function kf(t,e,n,a,i={}){const l=await ws(t,e,n,a,i);return"mfaPendingCredential"in l&&fr(t,"multi-factor-auth-required",{_serverResponse:l}),l}function f1(t,e,n,a){const i=`${e}${n}?${a}`;return t.config.emulator?py(t.config,i):`${t.config.apiScheme}://${i}`}function FP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Ir(this.auth,"network-request-failed")),zP.get())})}}function Rd(t,e,n){const a={appName:t.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const i=Ir(t,e,a);return i.customData._tokenResponse=n,i}function aw(t){return t!==void 0&&t.enterprise!==void 0}class qP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VP(t,e){return ws(t,"GET","/v2/recaptchaConfig",Ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P(t,e){return ws(t,"POST","/v1/accounts:delete",e)}async function h1(t,e){return ws(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GP(t,e=!1){const n=zt(t),a=await n.getIdToken(e),i=gy(a);Se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:i,token:a,authTime:_c(Rp(i.auth_time)),issuedAtTime:_c(Rp(i.iat)),expirationTime:_c(Rp(i.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Rp(t){return Number(t)*1e3}function gy(t){const[e,n,a]=t.split(".");if(e===void 0||n===void 0||a===void 0)return zd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Xd(n);return i?JSON.parse(i):(zd("Failed to decode base64 JWT payload"),null)}catch(i){return zd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sw(t){const e=gy(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(t,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof _s&&YP(a)&&t.auth.currentUser===t&&await t.auth.signOut(),a}}function YP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(t){var e;const n=t.auth,a=await t.getIdToken(),i=await Ic(t,h1(n,{idToken:a}));Se(i==null?void 0:i.users.length,n,"internal-error");const l=i.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?m1(l.providerUserInfo):[],f=QP(t.providerData,u),m=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),v=m?p:!1,y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new hg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(t,y)}async function KP(t){const e=zt(t);await tf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QP(t,e){return[...t.filter(a=>!e.some(i=>i.providerId===a.providerId)),...e]}function m1(t){return t.map(e=>{var{providerId:n}=e,a=Qc(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(t,e){const n=await d1(t,{},async()=>{const a=Yo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=t.config,u=f1(t,i,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",u1.fetch()(u,{method:"POST",headers:f,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZP(t,e){return ws(t,"POST","/v2/accounts:revokeToken",Ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=sw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:i,expiresIn:l}=await XP(e,n);this.updateTokensAndExpiration(a,i,Number(l))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:i,expirationTime:l}=n,u=new wo;return a&&(Se(typeof a=="string","internal-error",{appName:e}),u.refreshToken=a),i&&(Se(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),l&&(Se(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ra{constructor(e){var{uid:n,auth:a,stsTokenManager:i}=e,l=Qc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new hg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Ic(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GP(this,e)}reload(){return KP(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ra(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await tf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await Ic(this,$P(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,i,l,u,f,m,p,v;const y=(a=n.displayName)!==null&&a!==void 0?a:void 0,b=(i=n.email)!==null&&i!==void 0?i:void 0,x=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,_=(u=n.photoURL)!==null&&u!==void 0?u:void 0,N=(f=n.tenantId)!==null&&f!==void 0?f:void 0,C=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,S=(p=n.createdAt)!==null&&p!==void 0?p:void 0,T=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:R,emailVerified:j,isAnonymous:M,providerData:A,stsTokenManager:F}=n;Se(R&&F,e,"internal-error");const Q=wo.fromJSON(this.name,F);Se(typeof R=="string",e,"internal-error"),Ka(y,e.name),Ka(b,e.name),Se(typeof j=="boolean",e,"internal-error"),Se(typeof M=="boolean",e,"internal-error"),Ka(x,e.name),Ka(_,e.name),Ka(N,e.name),Ka(C,e.name),Ka(S,e.name),Ka(T,e.name);const U=new ra({uid:R,auth:e,email:b,emailVerified:j,displayName:y,isAnonymous:M,photoURL:_,phoneNumber:x,tenantId:N,stsTokenManager:Q,createdAt:S,lastLoginAt:T});return A&&Array.isArray(A)&&(U.providerData=A.map(W=>Object.assign({},W))),C&&(U._redirectEventId=C),U}static async _fromIdTokenResponse(e,n,a=!1){const i=new wo;i.updateFromServerResponse(n);const l=new ra({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:a});return await tf(l),l}static async _fromGetAccountInfoResponse(e,n,a){const i=n.users[0];Se(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?m1(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(l!=null&&l.length),f=new wo;f.updateFromIdToken(a);const m=new ra({uid:i.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new hg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new Map;function aa(t){da(t instanceof Function,"Expected a class definition");let e=iw.get(t);return e?(da(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}p1.type="NONE";const ow=p1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t,e,n){return`firebase:${t}:${e}:${n}`}class Eo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:i,name:l}=this.auth;this.fullUserKey=Fd(this.userKey,i.apiKey,l),this.fullPersistenceKey=Fd("persistence",i.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ra._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Eo(aa(ow),e,a);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=i[0]||aa(ow);const u=Fd(a,e.config.apiKey,e.name);let f=null;for(const p of n)try{const v=await p._get(u);if(v){const y=ra._fromJSON(e,v);p!==l&&(f=y),l=p;break}}catch{}const m=i.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Eo(l,e,a):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Eo(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(b1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_1(e))return"Blackberry";if(w1(e))return"Webos";if(y1(e))return"Safari";if((e.includes("chrome/")||v1(e))&&!e.includes("edge/"))return"Chrome";if(x1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=t.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function g1(t=sn()){return/firefox\//i.test(t)}function y1(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v1(t=sn()){return/crios\//i.test(t)}function b1(t=sn()){return/iemobile/i.test(t)}function x1(t=sn()){return/android/i.test(t)}function _1(t=sn()){return/blackberry/i.test(t)}function w1(t=sn()){return/webos/i.test(t)}function yy(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function JP(t=sn()){var e;return yy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function e4(){return dM()&&document.documentMode===10}function E1(t=sn()){return yy(t)||x1(t)||w1(t)||_1(t)||/windows phone/i.test(t)||b1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t,e=[]){let n;switch(t){case"Browser":n=lw(sn());break;case"Worker":n=`${lw(sn())}-${t}`;break;default:n=t}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});a.onAbort=n,this.queue.push(a);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(t,e={}){return ws(t,"GET","/v2/passwordPolicy",Ni(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=6;class a4{constructor(e){var n,a,i,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:r4,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,i,l,u,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(a=m.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(i=m.containsLowercaseLetter)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(u=m.containsNumericCharacter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let i=0;i<e.length;i++)a=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n,a,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cw(this),this.idTokenSubscription=new cw(this),this.beforeStateQueue=new t4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=aa(n)),this._initializationPromise=this.queue(async()=>{var a,i;if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await h1(this,{idToken:e}),a=await ra._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ir(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let i=a,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=i==null?void 0:i._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&(m!=null&&m.user)&&(i=m.user,l=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(is(this));const n=e?zt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(aa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await n4(this),n=new a4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kc("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await ZP(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&aa(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[aa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,i){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,a,i);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=S1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&MP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ko(t){return zt(t)}class cw{constructor(e){this.auth=e,this.observer=null,this.addObserver=_M(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i4(t){Mf=t}function N1(t){return Mf.loadJS(t)}function o4(){return Mf.recaptchaEnterpriseScript}function l4(){return Mf.gapiScript}function c4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class u4{constructor(){this.enterprise=new d4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class d4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const f4="recaptcha-enterprise",C1="NO_RECAPTCHA";class h4{constructor(e){this.type=f4,this.auth=Ko(e)}async verify(e="verify",n=!1){async function a(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{VP(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new qP(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{f(m)})})}function i(l,u,f){const m=window.grecaptcha;aw(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(C1)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new u4().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{a(this.auth).then(f=>{if(!n&&aw(window.grecaptcha))i(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=o4();m.length!==0&&(m+=f),N1(m).then(()=>{i(f,l,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function uw(t,e,n,a=!1,i=!1){const l=new h4(t);let u;if(i)u=C1;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return a?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function dw(t,e,n,a,i){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await uw(t,e,n,n==="getOobCode");return a(t,u)}else return a(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await uw(t,e,n,n==="getOobCode");return a(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t,e){const n=hy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),l=n.getOptions();if(fi(l,e??{}))return i;fr(i,"already-initialized")}return n.initialize({options:e})}function p4(t,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(aa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function g4(t,e,n){const a=Ko(t);Se(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const i=!1,l=T1(e),{host:u,port:f}=y4(e),m=f===null?"":`:${f}`,p={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!a._canInitEmulator){Se(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Se(fi(p,a.config.emulator)&&fi(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,v4()}function T1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function y4(t){const e=T1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(a);if(i){const l=i[1];return{host:l,port:fw(a.substr(l.length+1))}}else{const[l,u]=a.split(":");return{host:l,port:fw(u)}}}function fw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function v4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return na("not implemented")}_getIdTokenResponse(e){return na("not implemented")}_linkToIdToken(e,n){return na("not implemented")}_getReauthenticationResolver(e){return na("not implemented")}}async function b4(t,e){return ws(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t,e){return kf(t,"POST","/v1/accounts:signInWithPassword",Ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4(t,e){return kf(t,"POST","/v1/accounts:signInWithEmailLink",Ni(t,e))}async function w4(t,e){return kf(t,"POST","/v1/accounts:signInWithEmailLink",Ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends vy{constructor(e,n,a,i=null){super("password",a),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new jc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new jc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dw(e,n,"signInWithPassword",x4);case"emailLink":return _4(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dw(e,a,"signUpPassword",b4);case"emailLink":return w4(e,{idToken:n,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t,e){return kf(t,"POST","/v1/accounts:signInWithIdp",Ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="http://localhost";class mi extends vy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:i}=n,l=Qc(n,["providerId","signInMethod"]);if(!a||!i)return null;const u=new mi(a,i);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return So(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,So(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,So(e,n)}buildRequest(){const e={requestUri:E4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N4(t){const e=pc(gc(t)).link,n=e?pc(gc(e)).deep_link_id:null,a=pc(gc(t)).deep_link_id;return(a?pc(gc(a)).link:null)||a||n||e||t}class by{constructor(e){var n,a,i,l,u,f;const m=pc(gc(e)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,v=(a=m.oobCode)!==null&&a!==void 0?a:null,y=S4((i=m.mode)!==null&&i!==void 0?i:null);Se(p&&v&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=m.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=N4(e);try{return new by(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.providerId=Qo.PROVIDER_ID}static credential(e,n){return jc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=by.parseLink(n);return Se(a,"argument-error"),jc._fromEmailAndCode(e,a.code,a.tenantId)}}Qo.PROVIDER_ID="password";Qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends R1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Zc{constructor(){super("facebook.com")}static credential(e){return mi._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xa.credential(e.oauthAccessToken)}catch{return null}}}Xa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends Zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mi._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Za.credential(n,a)}catch{return null}}}Za.GOOGLE_SIGN_IN_METHOD="google.com";Za.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends Zc{constructor(){super("github.com")}static credential(e){return mi._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ja.credential(e.oauthAccessToken)}catch{return null}}}Ja.GITHUB_SIGN_IN_METHOD="github.com";Ja.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Zc{constructor(){super("twitter.com")}static credential(e,n){return mi._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return es.credential(n,a)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,i=!1){const l=await ra._fromIdTokenResponse(e,a,i),u=hw(a);return new Ao({user:l,providerId:u,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const i=hw(a);return new Ao({user:e,providerId:i,_tokenResponse:a,operationType:n})}}function hw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends _s{constructor(e,n,a,i){var l;super(n.code,n.message),this.operationType=a,this.user=i,Object.setPrototypeOf(this,nf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,i){return new nf(e,n,a,i)}}function D1(t,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?nf._fromErrorAndOperation(t,l,e,a):l})}async function C4(t,e,n=!1){const a=await Ic(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ao._forOperation(t,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(t,e,n=!1){const{auth:a}=t;if(ir(a.app))return Promise.reject(is(a));const i="reauthenticate";try{const l=await Ic(t,D1(a,i,e,t),n);Se(l.idToken,a,"internal-error");const u=gy(l.idToken);Se(u,a,"internal-error");const{sub:f}=u;return Se(t.uid===f,a,"user-mismatch"),Ao._forOperation(t,i,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&fr(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(t,e,n=!1){if(ir(t.app))return Promise.reject(is(t));const a="signIn",i=await D1(t,a,e),l=await Ao._fromIdTokenResponse(t,a,i);return n||await t._updateCurrentUser(l.user),l}async function R4(t,e){return A1(Ko(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(t){const e=Ko(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function A4(t,e,n){return ir(t.app)?Promise.reject(is(t)):R4(zt(t),Qo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&D4(t),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t,e){return zt(t).setPersistence(e)}function j4(t,e,n,a){return zt(t).onIdTokenChanged(e,n,a)}function O4(t,e,n){return zt(t).beforeAuthStateChanged(e,n)}function k4(t,e,n,a){return zt(t).onAuthStateChanged(e,n,a)}function M4(t){return zt(t).signOut()}const rf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rf,"1"),this.storage.removeItem(rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=1e3,L4=10;class j1 extends I1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),i=this.localCache[n];a!==i&&e(n,i,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const a=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(a);!n&&this.localCache[a]===u||this.notifyListeners(a,u)},l=this.storage.getItem(a);e4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,L4):i()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const i of Array.from(a))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},P4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}j1.type="LOCAL";const O1=j1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1 extends I1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}k1.type="SESSION";const xy=k1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const a=new Pf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:i,data:l}=n.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:i});const f=Array.from(u).map(async p=>p(n.origin,l)),m=await U4(f);n.ports[0].postMessage({status:"done",eventId:a,eventType:i,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=_y("",20);i.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},a);u={messageChannel:i,onMessage(y){const b=y;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return window}function z4(t){jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function F4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function q4(){return M1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="firebaseLocalStorageDb",V4=1,af="firebaseLocalStorage",L1="fbase_key";class Jc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lf(t,e){return t.transaction([af],e?"readwrite":"readonly").objectStore(af)}function $4(){const t=indexedDB.deleteDatabase(P1);return new Jc(t).toPromise()}function mg(){const t=indexedDB.open(P1,V4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const a=t.result;try{a.createObjectStore(af,{keyPath:L1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const a=t.result;a.objectStoreNames.contains(af)?e(a):(a.close(),await $4(),e(await mg()))})})}async function mw(t,e,n){const a=Lf(t,!0).put({[L1]:e,value:n});return new Jc(a).toPromise()}async function G4(t,e){const n=Lf(t,!1).get(e),a=await new Jc(n).toPromise();return a===void 0?null:a.value}function pw(t,e){const n=Lf(t,!0).delete(e);return new Jc(n).toPromise()}const Y4=800,W4=3;class U1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>W4)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pf._getInstance(q4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await F4(),!this.activeServiceWorker)return;this.sender=new B4(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mg();return await mw(e,rf,"1"),await pw(e,rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>mw(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>G4(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=Lf(i,!1).getAll();return new Jc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)a.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!a.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const i of Array.from(a))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}U1.type="LOCAL";const K4=U1;new Xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t,e){return e?aa(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy extends vy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,n){return So(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X4(t){return A1(t.auth,new wy(t),t.bypassAuthState)}function Z4(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),T4(n,new wy(t),t.bypassAuthState)}async function J4(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),C4(n,new wy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n,a,i,l=!1){this.auth=e,this.resolver=a,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:i,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:a,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X4;case"linkViaPopup":case"linkViaRedirect":return J4;case"reauthViaPopup":case"reauthViaRedirect":return Z4;default:fr(this.auth,"internal-error")}}resolve(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=new Xc(2e3,1e4);class yo extends B1{constructor(e,n,a,i,l){super(e,n,i,l),this.provider=a,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){da(this.filter.length===1,"Popup operations only handle one event");const e=_y();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eL.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL="pendingRedirect",Hd=new Map;class nL extends B1{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Hd.get(this.auth._key());if(!e){try{const a=await rL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Hd.set(this.auth._key(),e)}return this.bypassAuthState||Hd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rL(t,e){const n=iL(e),a=sL(t);if(!await a._isAvailable())return!1;const i=await a._get(n)==="true";return await a._remove(n),i}function aL(t,e){Hd.set(t._key(),e)}function sL(t){return aa(t._redirectPersistence)}function iL(t){return Fd(tL,t.config.apiKey,t.name)}async function oL(t,e,n=!1){if(ir(t.app))return Promise.reject(is(t));const a=Ko(t),i=Q4(a,e),u=await new nL(a,i,n).execute();return u&&!n&&(delete u.user._redirectEventId,await a._persistUserIfCurrent(u.user),await a._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=10*60*1e3;class cL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!z1(e)){const i=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Ir(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lL&&this.cachedEventUids.clear(),this.cachedEventUids.has(gw(e))}saveEventToCache(e){this.cachedEventUids.add(gw(e)),this.lastProcessedEventTime=Date.now()}}function gw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function z1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dL(t,e={}){return ws(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hL=/^https?/;async function mL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dL(t);for(const n of e)try{if(pL(n))return}catch{}fr(t,"unauthorized-domain")}function pL(t){const e=fg(),{protocol:n,hostname:a}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&a===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===a}if(!hL.test(n))return!1;if(fL.test(t))return a===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=new Xc(3e4,6e4);function yw(){const t=jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yL(t){return new Promise((e,n)=>{var a,i,l;function u(){yw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yw(),n(Ir(t,"network-request-failed"))},timeout:gL.get()})}if(!((i=(a=jr().gapi)===null||a===void 0?void 0:a.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((l=jr().gapi)===null||l===void 0)&&l.load)u();else{const f=c4("iframefcb");return jr()[f]=()=>{gapi.load?u():n(Ir(t,"network-request-failed"))},N1(`${l4()}?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw qd=null,e})}let qd=null;function vL(t){return qd=qd||yL(t),qd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=new Xc(5e3,15e3),xL="__/auth/iframe",_L="emulator/auth/iframe",wL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SL(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?py(e,_L):`https://${t.config.authDomain}/${xL}`,a={apiKey:e.apiKey,appName:t.name,v:Wo},i=EL.get(t.config.apiHost);i&&(a.eid=i);const l=t._getFrameworks();return l.length&&(a.fw=l.join(",")),`${n}?${Yo(a).slice(1)}`}async function NL(t){const e=await vL(t),n=jr().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:SL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wL,dontclear:!0},a=>new Promise(async(i,l)=>{await a.restyle({setHideOnLeave:!1});const u=Ir(t,"network-request-failed"),f=jr().setTimeout(()=>{l(u)},bL.get());function m(){jr().clearTimeout(f),i(a)}a.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TL=500,RL=600,DL="_blank",AL="http://localhost";class vw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IL(t,e,n,a=TL,i=RL){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-a)/2,0).toString();let f="";const m=Object.assign(Object.assign({},CL),{width:a.toString(),height:i.toString(),top:l,left:u}),p=sn().toLowerCase();n&&(f=v1(p)?DL:n),g1(p)&&(e=e||AL,m.scrollbars="yes");const v=Object.entries(m).reduce((b,[x,_])=>`${b}${x}=${_},`,"");if(JP(p)&&f!=="_self")return jL(e||"",f),new vw(null);const y=window.open(e||"",f,v);Se(y,t,"popup-blocked");try{y.focus()}catch{}return new vw(y)}function jL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="__/auth/handler",kL="emulator/auth/handler",ML=encodeURIComponent("fac");async function bw(t,e,n,a,i,l){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:a,v:Wo,eventId:i};if(e instanceof R1){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",ig(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,y]of Object.entries({}))u[v]=y}if(e instanceof Zc){const v=e.getScopes().filter(y=>y!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await t._getAppCheckToken(),p=m?`#${ML}=${encodeURIComponent(m)}`:"";return`${PL(t)}?${Yo(f).slice(1)}${p}`}function PL({config:t}){return t.emulator?py(t,kL):`https://${t.authDomain}/${OL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="webStorageSupport";class LL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xy,this._completeRedirectFn=oL,this._overrideRedirectResult=aL}async _openPopup(e,n,a,i){var l;da((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await bw(e,n,a,fg(),i);return IL(e,u,_y())}async _openRedirect(e,n,a,i){await this._originValidation(e);const l=await bw(e,n,a,fg(),i);return z4(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:l}=this.eventManagers[n];return i?Promise.resolve(i):(da(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await NL(e),a=new cL(e);return n.register("authEvent",i=>(Se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:a.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dp,{type:Dp},i=>{var l;const u=(l=i==null?void 0:i[0])===null||l===void 0?void 0:l[Dp];u!==void 0&&n(!!u),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return E1()||y1()||yy()}}const UL=LL;var xw="@firebase/auth",_w="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FL(t){Do(new hi("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=a.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S1(t)},p=new s4(a,i,l,m);return p4(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Do(new hi("auth-internal",e=>{const n=Ko(e.getProvider("auth").getImmediate());return(a=>new BL(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(xw,_w,zL(t)),ss(xw,_w,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=5*60,qL=ZS("authIdTokenMaxAge")||HL;let ww=null;const VL=t=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>qL)return;const i=n==null?void 0:n.token;ww!==i&&(ww=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $L(t=a1()){const e=hy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=m4(t,{popupRedirectResolver:UL,persistence:[K4,O1,xy]}),a=ZS("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const u=VL(l.toString());O4(n,u,()=>u(n.currentUser)),j4(n,f=>u(f))}}const i=QS("auth");return i&&g4(n,`http://${i}`),n}function GL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}i4({loadJS(t){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",t),a.onload=e,a.onerror=i=>{const l=Ir("internal-error");l.customData=i,n(l)},a.type="text/javascript",a.charset="UTF-8",GL().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FL("Browser");var YL="firebase",WL="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss(YL,WL,"app");var Ew={};const Sw="@firebase/database",Nw="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F1="";function KL(t){F1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Tt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Dc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Mr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new QL(e)}}catch{}return new XL},li=H1("localStorage"),ZL=H1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new dy("@firebase/database"),JL=function(){let t=1;return function(){return t++}}(),q1=function(t){const e=SM(t),n=new xM;n.update(e);const a=n.digest();return ly.encodeByteArray(a)},eu=function(...t){let e="";for(let n=0;n<t.length;n++){const a=t[n];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?e+=eu.apply(null,a):typeof a=="object"?e+=Tt(a):e+=a,e+=" "}return e};let wc=null,Cw=!0;const e5=function(t,e){ce(!0,"Can't turn on custom loggers persistently."),No.logLevel=Xe.VERBOSE,wc=No.log.bind(No)},Vt=function(...t){if(Cw===!0&&(Cw=!1,wc===null&&ZL.get("logging_enabled")===!0&&e5()),wc){const e=eu.apply(null,t);wc(e)}},tu=function(t){return function(...e){Vt(t,...e)}},pg=function(...t){const e="FIREBASE INTERNAL ERROR: "+eu(...t);No.error(e)},fa=function(...t){const e=`FIREBASE FATAL ERROR: ${eu(...t)}`;throw No.error(e),new Error(e)},an=function(...t){const e="FIREBASE WARNING: "+eu(...t);No.warn(e)},t5=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&an("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ey=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},n5=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},pi="[MIN_NAME]",ds="[MAX_NAME]",Ci=function(t,e){if(t===e)return 0;if(t===pi||e===ds)return-1;if(e===pi||t===ds)return 1;{const n=Tw(t),a=Tw(e);return n!==null?a!==null?n-a===0?t.length-e.length:n-a:-1:a!==null?1:t<e?-1:1}},r5=function(t,e){return t===e?0:t<e?-1:1},uc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Tt(e))},Sy=function(t){if(typeof t!="object"||t===null)return Tt(t);const e=[];for(const a in t)e.push(a);e.sort();let n="{";for(let a=0;a<e.length;a++)a!==0&&(n+=","),n+=Tt(e[a]),n+=":",n+=Sy(t[e[a]]);return n+="}",n},V1=function(t,e){const n=t.length;if(n<=e)return[t];const a=[];for(let i=0;i<n;i+=e)i+e>n?a.push(t.substring(i,n)):a.push(t.substring(i,i+e));return a};function $t(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const $1=function(t){ce(!Ey(t),"Invalid JSON number");const e=11,n=52,a=(1<<e-1)-1;let i,l,u,f,m;t===0?(l=0,u=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-a)?(f=Math.min(Math.floor(Math.log(t)/Math.LN2),a),l=f+a,u=Math.round(t*Math.pow(2,n-f)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-a-n))));const p=[];for(m=n;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);for(m=e;m;m-=1)p.push(l%2?1:0),l=Math.floor(l/2);p.push(i?1:0),p.reverse();const v=p.join("");let y="";for(m=0;m<64;m+=8){let b=parseInt(v.substr(m,8),2).toString(16);b.length===1&&(b="0"+b),y=y+b}return y.toLowerCase()},a5=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},s5=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function i5(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const a=new Error(t+" at "+e._path.toString()+": "+n);return a.code=t.toUpperCase(),a}const o5=new RegExp("^-?(0*)\\d{1,10}$"),l5=-2147483648,c5=2147483647,Tw=function(t){if(o5.test(t)){const e=Number(t);if(e>=l5&&e<=c5)return e}return null},Xo=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw an("Exception was thrown by user callback.",n),e},Math.floor(0))}},u5=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ec=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,ir(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(a=>this.appCheck=a)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,a):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(a=>a.addTokenListener(e))}notifyForInvalidToken(){an(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n,a){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,a):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',an(e)}}class Vd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Vd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="5",G1="v",Y1="s",W1="r",K1="f",Q1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,X1="ls",Z1="p",gg="ac",J1="websocket",eN="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n,a,i,l=!1,u="",f=!1,m=!1,p=null){this.secure=n,this.namespace=a,this.webSocketOnly=i,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=li.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&li.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function h5(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function nN(t,e,n){ce(typeof e=="string","typeof type must == string"),ce(typeof n=="object","typeof params must == object");let a;if(e===J1)a=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===eN)a=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);h5(t)&&(n.ns=t.namespace);const i=[];return $t(n,(l,u)=>{i.push(l+"="+u)}),a+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this.counters_={}}incrementCounter(e,n=1){Mr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return tM(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap={},Ip={};function Cy(t){const e=t.toString();return Ap[e]||(Ap[e]=new m5),Ap[e]}function p5(t,e){const n=t.toString();return Ip[n]||(Ip[n]=e()),Ip[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<a.length;++i)a[i]&&Xo(()=>{this.onMessage_(a[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="start",y5="close",v5="pLPCommand",b5="pRTLPCB",rN="id",aN="pw",sN="ser",x5="cb",_5="seg",w5="ts",E5="d",S5="dframe",iN=1870,oN=30,N5=iN-oN,C5=25e3,T5=3e4;class vo{constructor(e,n,a,i,l,u,f){this.connId=e,this.repoInfo=n,this.applicationId=a,this.appCheckToken=i,this.authToken=l,this.transportSessionId=u,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tu(e),this.stats_=Cy(n),this.urlFn=m=>(this.appCheckToken&&(m[gg]=this.appCheckToken),nN(n,eN,m))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new g5(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(T5)),n5(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ty((...l)=>{const[u,f,m,p,v]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===Rw)this.id=f,this.password=m;else if(u===y5)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,f]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,f)},()=>{this.onClosed_()},this.urlFn);const a={};a[Rw]="t",a[sN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[x5]=this.scriptTagHolder.uniqueCallbackIdentifier),a[G1]=Ny,this.transportSessionId&&(a[Y1]=this.transportSessionId),this.lastSessionId&&(a[X1]=this.lastSessionId),this.applicationId&&(a[Z1]=this.applicationId),this.appCheckToken&&(a[gg]=this.appCheckToken),typeof location<"u"&&location.hostname&&Q1.test(location.hostname)&&(a[W1]=K1);const i=this.urlFn(a);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){vo.forceAllow_=!0}static forceDisallow(){vo.forceDisallow_=!0}static isAvailable(){return vo.forceAllow_?!0:!vo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!a5()&&!s5()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const a=WS(n),i=V1(a,N5);for(let l=0;l<i.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const a={};a[S5]="t",a[rN]=e,a[aN]=n,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Tt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ty{constructor(e,n,a,i){this.onDisconnect=a,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=JL(),window[v5+this.uniqueCallbackIdentifier]=e,window[b5+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ty.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(f){Vt("frame writing exception"),f.stack&&Vt(f.stack),Vt(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Vt("No IE domain setting required")}catch{const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[rN]=this.myID,e[aN]=this.myPW,e[sN]=this.currentSerial;let n=this.urlFn(e),a="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+oN+a.length<=iN;){const u=this.pendingSegs.shift();a=a+"&"+_5+i+"="+u.seg+"&"+w5+i+"="+u.ts+"&"+E5+i+"="+u.d,i++}return n=n+a,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,a){this.pendingSegs.push({seg:e,ts:n,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const a=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(a,Math.floor(C5)),l=()=>{clearTimeout(i),a()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const i=a.readyState;(!i||i==="loaded"||i==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),n())},a.onerror=()=>{Vt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=16384,D5=45e3;let sf=null;typeof MozWebSocket<"u"?sf=MozWebSocket:typeof WebSocket<"u"&&(sf=WebSocket);class or{constructor(e,n,a,i,l,u,f){this.connId=e,this.applicationId=a,this.appCheckToken=i,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tu(this.connId),this.stats_=Cy(n),this.connURL=or.connectionURL_(n,u,f,i,a),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,a,i,l){const u={};return u[G1]=Ny,typeof location<"u"&&location.hostname&&Q1.test(location.hostname)&&(u[W1]=K1),n&&(u[Y1]=n),a&&(u[X1]=a),i&&(u[gg]=i),l&&(u[Z1]=l),nN(e,J1,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,li.set("previous_websocket_failure",!0);try{let a;fM(),this.mySock=new sf(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const i=a.message||a.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const i=a.message||a.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){or.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(n);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&sf!==null&&!or.forceDisallow_}static previouslyFailed(){return li.isInMemoryStorage||li.get("previous_websocket_failure")===!0}markConnectionHealthy(){li.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const a=Dc(n);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ce(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const a=this.extractFrameCount_(n);a!==null&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const n=Tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const a=V1(n,R5);a.length>1&&this.sendString_(String(a.length));for(let i=0;i<a.length;i++)this.sendString_(a[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(D5))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}or.responsesRequiredToBeHealthy=2;or.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{static get ALL_TRANSPORTS(){return[vo,or]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=or&&or.isAvailable();let a=n&&!or.previouslyFailed();if(e.webSocketOnly&&(n||an("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[or];else{const i=this.transports_=[];for(const l of Oc.ALL_TRANSPORTS)l&&l.isAvailable()&&i.push(l);Oc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Oc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=6e4,I5=5e3,j5=10*1024,O5=100*1024,jp="t",Dw="d",k5="s",Aw="r",M5="e",Iw="o",jw="a",Ow="n",kw="p",P5="h";class L5{constructor(e,n,a,i,l,u,f,m,p,v){this.id=e,this.repoInfo_=n,this.applicationId_=a,this.appCheckToken_=i,this.authToken_=l,this.onMessage_=u,this.onReady_=f,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tu("c:"+this.id+":"),this.transportManager_=new Oc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,a)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ec(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>O5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>j5?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(jp in e){const n=e[jp];n===jw?this.upgradeIfSecondaryHealthy_():n===Aw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Iw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=uc("t",e),a=uc("d",e);if(n==="c")this.onSecondaryControl_(a);else if(n==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:kw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:jw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ow,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=uc("t",e),a=uc("d",e);n==="c"?this.onControl_(a):n==="d"&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=uc(jp,e);if(Dw in e){const a=e[Dw];if(n===P5){const i=Object.assign({},a);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Ow){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===k5?this.onConnectionShutdown_(a):n===Aw?this.onReset_(a):n===M5?pg("Server Error: "+a):n===Iw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pg("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,a=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ny!==a&&an("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,a),Ec(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(A5))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ec(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(I5))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:kw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(li.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{put(e,n,a,i){}merge(e,n,a,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,a){}onDisconnectMerge(e,n,a){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.allowedEvents_=e,this.listeners_={},ce(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let i=0;i<a.length;i++)a[i].callback.apply(a[i].context,n)}}on(e,n,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:a});const i=this.getInitialEvent(e);i&&n.apply(a,i)}off(e,n,a){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let l=0;l<i.length;l++)if(i[l].callback===n&&(!a||a===i[l].context)){i.splice(l,1);return}}validateEventType_(e){ce(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends cN{static getInstance(){return new of}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!uy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ce(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=32,Pw=768;class We{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let a=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[a]=this.pieces_[i],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ve(){return new We("")}function Ue(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function fs(t){return t.pieces_.length-t.pieceNum_}function nt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new We(t.pieces_,e)}function Ry(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function U5(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function kc(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function uN(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new We(e,0)}function mt(t,e){const n=[];for(let a=t.pieceNum_;a<t.pieces_.length;a++)n.push(t.pieces_[a]);if(e instanceof We)for(let a=e.pieceNum_;a<e.pieces_.length;a++)n.push(e.pieces_[a]);else{const a=e.split("/");for(let i=0;i<a.length;i++)a[i].length>0&&n.push(a[i])}return new We(n,0)}function Oe(t){return t.pieceNum_>=t.pieces_.length}function rn(t,e){const n=Ue(t),a=Ue(e);if(n===null)return e;if(n===a)return rn(nt(t),nt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function B5(t,e){const n=kc(t,0),a=kc(e,0);for(let i=0;i<n.length&&i<a.length;i++){const l=Ci(n[i],a[i]);if(l!==0)return l}return n.length===a.length?0:n.length<a.length?-1:1}function dN(t,e){if(fs(t)!==fs(e))return!1;for(let n=t.pieceNum_,a=e.pieceNum_;n<=t.pieces_.length;n++,a++)if(t.pieces_[n]!==e.pieces_[a])return!1;return!0}function Yn(t,e){let n=t.pieceNum_,a=e.pieceNum_;if(fs(t)>fs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[a])return!1;++n,++a}return!0}class z5{constructor(e,n){this.errorPrefix_=n,this.parts_=kc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=Of(this.parts_[a]);fN(this)}}function F5(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Of(e),fN(t)}function H5(t){const e=t.parts_.pop();t.byteLength_-=Of(e),t.parts_.length>0&&(t.byteLength_-=1)}function fN(t){if(t.byteLength_>Pw)throw new Error(t.errorPrefix_+"has a key path longer than "+Pw+" bytes ("+t.byteLength_+").");if(t.parts_.length>Mw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Mw+") or object contains a cycle "+ni(t))}function ni(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy extends cN{static getInstance(){return new Dy}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const a=!document[e];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(e){return ce(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=1e3,q5=60*5*1e3,Lw=30*1e3,V5=1.3,$5=3e4,G5="server_kill",Uw=3;class la extends lN{constructor(e,n,a,i,l,u,f,m){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=a,this.onConnectStatus_=i,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.authOverride_=m,this.id=la.nextPersistentConnectionId_++,this.log_=tu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=dc,this.maxReconnectDelay_=q5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Dy.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&of.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,a){const i=++this.requestNumber_,l={r:i,a:e,b:n};this.log_(Tt(l)),ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),a&&(this.requestCBHash_[i]=a)}get(e){this.initConnection_();const n=new Wc,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const f=u.d;u.s==="ok"?n.resolve(f):n.reject(f)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,a,i){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ce(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const f={onComplete:i,hashFn:n,query:e,tag:a};this.listens.get(u).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(a)})}sendListen_(e){const n=e.query,a=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+a+" for "+i);const l={p:a},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,f=>{const m=f.d,p=f.s;la.warnOnListenWarnings_(m,n),(this.listens.get(a)&&this.listens.get(a).get(i))===e&&(this.log_("listen response",f),p!=="ok"&&this.removeListen_(a,i),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Mr(e,"w")){const a=Ro(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();an(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||bM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Lw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=vM(e)?"auth":"gauth",a={cred:e};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(n,a,i=>{const l=i.s,u=i.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,a=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,a)})}unlisten(e,n){const a=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+i),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,i)&&this.connected_&&this.sendUnlisten_(a,i,e._queryObject,n)}sendUnlisten_(e,n,a,i){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";i&&(l.q=a,l.t=i),this.sendRequest(u,l)}onDisconnectPut(e,n,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:a})}onDisconnectMerge(e,n,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:a})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,a,i){const l={p:n,d:a};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{i&&setTimeout(()=>{i(u.s,u.d)},Math.floor(0))})}put(e,n,a,i){this.putInternal("p",e,n,a,i)}merge(e,n,a,i){this.putInternal("m",e,n,a,i)}putInternal(e,n,a,i,l){this.initConnection_();const u={p:n,d:a};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:i}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,a,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,a=>{if(a.s!=="ok"){const l=a.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Tt(e));const n=e.r,a=this.requestCBHash_[n];a&&(delete this.requestCBHash_[n],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):pg("Unrecognized action received from server: "+Tt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=dc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=dc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>$5&&(this.reconnectDelay_=dc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*V5)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+la.nextConnectionId_++,l=this.lastSessionId;let u=!1,f=null;const m=function(){f?f.close():(u=!0,a())},p=function(y){ce(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(y)};this.realtime_={close:m,sendRequest:p};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,b]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);u?Vt("getToken() completed but was canceled"):(Vt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=b&&b.token,f=new L5(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,a,x=>{an(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(G5)},l))}catch(y){this.log_("Failed to get token: "+y),u||(this.repoInfo_.nodeAdmin&&an(y),m())}}}interrupt(e){Vt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Vt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ig(this.interruptReasons_)&&(this.reconnectDelay_=dc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let a;n?a=n.map(l=>Sy(l)).join("$"):a="default";const i=this.removeListen_(e,a);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const a=new We(e).toString();let i;if(this.listens.has(a)){const l=this.listens.get(a);i=l.get(n),l.delete(n),l.size===0&&this.listens.delete(a)}else i=void 0;return i}onAuthRevoked_(e,n){Vt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Uw&&(this.reconnectDelay_=Lw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Vt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Uw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+F1.replace(/\./g,"-")]=1,uy()?e["framework.cordova"]=1:JS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=of.getInstance().currentlyOnline();return ig(this.interruptReasons_)&&e}}la.nextPersistentConnectionId_=0;la.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ke(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const a=new ke(pi,e),i=new ke(pi,n);return this.compare(a,i)!==0}minPost(){return ke.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd;class hN extends Uf{static get __EMPTY_NODE(){return Dd}static set __EMPTY_NODE(e){Dd=e}compare(e,n){return Ci(e.name,n.name)}isDefinedOn(e){throw Go("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ke.MIN}maxPost(){return new ke(ds,Dd)}makePost(e,n){return ce(typeof e=="string","KeyIndex indexValue must always be a string."),new ke(e,Dd)}toString(){return".key"}}const di=new hN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n,a,i,l=null){this.isReverse_=i,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?a(e.key,n):1,i&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Bt{constructor(e,n,a,i,l){this.key=e,this.value=n,this.color=a??Bt.RED,this.left=i??mn.EMPTY_NODE,this.right=l??mn.EMPTY_NODE}copy(e,n,a,i,l){return new Bt(e??this.key,n??this.value,a??this.color,i??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let i=this;const l=a(e,i.key);return l<0?i=i.copy(null,null,null,i.left.insert(e,n,a),null):l===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,a)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return mn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let a,i;if(a=this,n(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),n(e,a.key)===0){if(a.right.isEmpty())return mn.EMPTY_NODE;i=a.right.min_(),a=a.copy(i.key,i.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Bt.RED=!0;Bt.BLACK=!1;class Y5{copy(e,n,a,i,l){return this}insert(e,n,a){return new Bt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class mn{constructor(e,n=mn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new mn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Bt.BLACK,null,null))}remove(e){return new mn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Bt.BLACK,null,null))}get(e){let n,a=this.root_;for(;!a.isEmpty();){if(n=this.comparator_(e,a.key),n===0)return a.value;n<0?a=a.left:n>0&&(a=a.right)}return null}getPredecessorKey(e){let n,a=this.root_,i=null;for(;!a.isEmpty();)if(n=this.comparator_(e,a.key),n===0){if(a.left.isEmpty())return i?i.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else n<0?a=a.left:n>0&&(i=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ad(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ad(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ad(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ad(this.root_,null,this.comparator_,!0,e)}}mn.EMPTY_NODE=new Y5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t,e){return Ci(t.name,e.name)}function Ay(t,e){return Ci(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yg;function K5(t){yg=t}const mN=function(t){return typeof t=="number"?"number:"+$1(t):"string:"+t},pN=function(t){if(t.isLeafNode()){const e=t.val();ce(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Mr(e,".sv"),"Priority must be a string or number.")}else ce(t===yg||t.isEmpty(),"priority of unexpected type.");ce(t===yg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bw;class Ut{static set __childrenNodeConstructor(e){Bw=e}static get __childrenNodeConstructor(){return Bw}constructor(e,n=Ut.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ce(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),pN(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ut(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ut.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Oe(e)?this:Ue(e)===".priority"?this.priorityNode_:Ut.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ut.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const a=Ue(e);return a===null?n:n.isEmpty()&&a!==".priority"?this:(ce(a!==".priority"||fs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,Ut.__childrenNodeConstructor.EMPTY_NODE.updateChild(nt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+mN(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=$1(this.value_):e+=this.value_,this.lazyHash_=q1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ut.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ut.__childrenNodeConstructor?-1:(ce(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,a=typeof this.value_,i=Ut.VALUE_TYPE_ORDER.indexOf(n),l=Ut.VALUE_TYPE_ORDER.indexOf(a);return ce(i>=0,"Unknown leaf type: "+n),ce(l>=0,"Unknown leaf type: "+a),i===l?a==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ut.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gN,yN;function Q5(t){gN=t}function X5(t){yN=t}class Z5 extends Uf{compare(e,n){const a=e.node.getPriority(),i=n.node.getPriority(),l=a.compareTo(i);return l===0?Ci(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ke.MIN}maxPost(){return new ke(ds,new Ut("[PRIORITY-POST]",yN))}makePost(e,n){const a=gN(e);return new ke(n,new Ut("[PRIORITY-POST]",a))}toString(){return".priority"}}const lt=new Z5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=Math.log(2);class e3{constructor(e){const n=l=>parseInt(Math.log(l)/J5,10),a=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=a(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const lf=function(t,e,n,a){t.sort(e);const i=function(m,p){const v=p-m;let y,b;if(v===0)return null;if(v===1)return y=t[m],b=n?n(y):y,new Bt(b,y.node,Bt.BLACK,null,null);{const x=parseInt(v/2,10)+m,_=i(m,x),N=i(x+1,p);return y=t[x],b=n?n(y):y,new Bt(b,y.node,Bt.BLACK,_,N)}},l=function(m){let p=null,v=null,y=t.length;const b=function(_,N){const C=y-_,S=y;y-=_;const T=i(C+1,S),R=t[C],j=n?n(R):R;x(new Bt(j,R.node,N,null,T))},x=function(_){p?(p.left=_,p=_):(v=_,p=_)};for(let _=0;_<m.count;++_){const N=m.nextBitIsOne(),C=Math.pow(2,m.count-(_+1));N?b(C,Bt.BLACK):(b(C,Bt.BLACK),b(C,Bt.RED))}return v},u=new e3(t.length),f=l(u);return new mn(a||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op;const fo={};class sa{static get Default(){return ce(fo&&lt,"ChildrenNode.ts has not been loaded"),Op=Op||new sa({".priority":fo},{".priority":lt}),Op}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Ro(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof mn?n:null}hasIndex(e){return Mr(this.indexSet_,e.toString())}addIndex(e,n){ce(e!==di,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let i=!1;const l=n.getIterator(ke.Wrap);let u=l.getNext();for(;u;)i=i||e.isDefinedOn(u.node),a.push(u),u=l.getNext();let f;i?f=lf(a,e.getCompare()):f=fo;const m=e.toString(),p=Object.assign({},this.indexSet_);p[m]=e;const v=Object.assign({},this.indexes_);return v[m]=f,new sa(v,p)}addToIndexes(e,n){const a=Zd(this.indexes_,(i,l)=>{const u=Ro(this.indexSet_,l);if(ce(u,"Missing index implementation for "+l),i===fo)if(u.isDefinedOn(e.node)){const f=[],m=n.getIterator(ke.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&f.push(p),p=m.getNext();return f.push(e),lf(f,u.getCompare())}else return fo;else{const f=n.get(e.name);let m=i;return f&&(m=m.remove(new ke(e.name,f))),m.insert(e,e.node)}});return new sa(a,this.indexSet_)}removeFromIndexes(e,n){const a=Zd(this.indexes_,i=>{if(i===fo)return i;{const l=n.get(e.name);return l?i.remove(new ke(e.name,l)):i}});return new sa(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc;class Ne{static get EMPTY_NODE(){return fc||(fc=new Ne(new mn(Ay),null,sa.Default))}constructor(e,n,a){this.children_=e,this.priorityNode_=n,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&pN(this.priorityNode_),this.children_.isEmpty()&&ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fc}updatePriority(e){return this.children_.isEmpty()?this:new Ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?fc:n}}getChild(e){const n=Ue(e);return n===null?this:this.getImmediateChild(n).getChild(nt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ce(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const a=new ke(e,n);let i,l;n.isEmpty()?(i=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(a,this.children_)):(i=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(a,this.children_));const u=i.isEmpty()?fc:this.priorityNode_;return new Ne(i,u,l)}}updateChild(e,n){const a=Ue(e);if(a===null)return n;{ce(Ue(e)!==".priority"||fs(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(a).updateChild(nt(e),n);return this.updateImmediateChild(a,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let a=0,i=0,l=!0;if(this.forEachChild(lt,(u,f)=>{n[u]=f.val(e),a++,l&&Ne.INTEGER_REGEXP_.test(u)?i=Math.max(i,Number(u)):l=!1}),!e&&l&&i<2*a){const u=[];for(const f in n)u[f]=n[f];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+mN(this.getPriority().val())+":"),this.forEachChild(lt,(n,a)=>{const i=a.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":q1(e)}return this.lazyHash_}getPredecessorChildName(e,n,a){const i=this.resolveIndex_(a);if(i){const l=i.getPredecessorKey(new ke(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const a=n.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ke(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const a=n.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ke(n,this.children_.get(n)):null}forEachChild(e,n){const a=this.resolveIndex_(e);return a?a.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const a=this.resolveIndex_(n);if(a)return a.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ke.Wrap);let l=i.peek();for(;l!=null&&n.compare(l,e)<0;)i.getNext(),l=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const a=this.resolveIndex_(n);if(a)return a.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ke.Wrap);let l=i.peek();for(;l!=null&&n.compare(l,e)>0;)i.getNext(),l=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nu?-1:0}withIndex(e){if(e===di||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ne(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===di||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const a=this.getIterator(lt),i=n.getIterator(lt);let l=a.getNext(),u=i.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=a.getNext(),u=i.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===di?null:this.indexMap_.get(e.toString())}}Ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class t3 extends Ne{constructor(){super(new mn(Ay),Ne.EMPTY_NODE,sa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ne.EMPTY_NODE}isEmpty(){return!1}}const nu=new t3;Object.defineProperties(ke,{MIN:{value:new ke(pi,Ne.EMPTY_NODE)},MAX:{value:new ke(ds,nu)}});hN.__EMPTY_NODE=Ne.EMPTY_NODE;Ut.__childrenNodeConstructor=Ne;K5(nu);X5(nu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=!0;function Ct(t,e=null){if(t===null)return Ne.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ce(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ut(n,Ct(e))}if(!(t instanceof Array)&&n3){const n=[];let a=!1;if($t(t,(u,f)=>{if(u.substring(0,1)!=="."){const m=Ct(f);m.isEmpty()||(a=a||!m.getPriority().isEmpty(),n.push(new ke(u,m)))}}),n.length===0)return Ne.EMPTY_NODE;const l=lf(n,W5,u=>u.name,Ay);if(a){const u=lf(n,lt.getCompare());return new Ne(l,Ct(e),new sa({".priority":u},{".priority":lt}))}else return new Ne(l,Ct(e),sa.Default)}else{let n=Ne.EMPTY_NODE;return $t(t,(a,i)=>{if(Mr(t,a)&&a.substring(0,1)!=="."){const l=Ct(i);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(a,l))}}),n.updatePriority(Ct(e))}}Q5(Ct);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy extends Uf{constructor(e){super(),this.indexPath_=e,ce(!Oe(e)&&Ue(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const a=this.extractChild(e.node),i=this.extractChild(n.node),l=a.compareTo(i);return l===0?Ci(e.name,n.name):l}makePost(e,n){const a=Ct(e),i=Ne.EMPTY_NODE.updateChild(this.indexPath_,a);return new ke(n,i)}maxPost(){const e=Ne.EMPTY_NODE.updateChild(this.indexPath_,nu);return new ke(ds,e)}toString(){return kc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3 extends Uf{compare(e,n){const a=e.node.compareTo(n.node);return a===0?Ci(e.name,n.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ke.MIN}maxPost(){return ke.MAX}makePost(e,n){const a=Ct(e);return new ke(n,a)}toString(){return".value"}}const vN=new r3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t){return{type:"value",snapshotNode:t}}function Io(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Mc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Pc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function a3(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this.index_=e}updateChild(e,n,a,i,l,u){ce(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(n);return f.getChild(i).equals(a.getChild(i))&&f.isEmpty()===a.isEmpty()||(u!=null&&(a.isEmpty()?e.hasChild(n)?u.trackChildChange(Mc(n,f)):ce(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?u.trackChildChange(Io(n,a)):u.trackChildChange(Pc(n,a,f))),e.isLeafNode()&&a.isEmpty())?e:e.updateImmediateChild(n,a).withIndex(this.index_)}updateFullNode(e,n,a){return a!=null&&(e.isLeafNode()||e.forEachChild(lt,(i,l)=>{n.hasChild(i)||a.trackChildChange(Mc(i,l))}),n.isLeafNode()||n.forEachChild(lt,(i,l)=>{if(e.hasChild(i)){const u=e.getImmediateChild(i);u.equals(l)||a.trackChildChange(Pc(i,l,u))}else a.trackChildChange(Io(i,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ne.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e){this.indexedFilter_=new jy(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Lc.getStartPost_(e),this.endPost_=Lc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&a}updateChild(e,n,a,i,l,u){return this.matches(new ke(n,a))||(a=Ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,a,i,l,u)}updateFullNode(e,n,a){n.isLeafNode()&&(n=Ne.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ne.EMPTY_NODE);const l=this;return n.forEachChild(lt,(u,f)=>{l.matches(new ke(u,f))||(i=i.updateImmediateChild(u,Ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,a)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=n=>{const a=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new Lc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,a,i,l,u){return this.rangedFilter_.matches(new ke(n,a))||(a=Ne.EMPTY_NODE),e.getImmediateChild(n).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,a,i,l,u):this.fullLimitUpdateChild_(e,n,a,l,u)}updateFullNode(e,n,a){let i;if(n.isLeafNode()||n.isEmpty())i=Ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ne.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const f=l.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))i=i.updateImmediateChild(f.name,f.node),u++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ne.EMPTY_NODE);let l;this.reverse_?l=i.getReverseIterator(this.index_):l=i.getIterator(this.index_);let u=0;for(;l.hasNext();){const f=l.getNext();u<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?u++:i=i.updateImmediateChild(f.name,Ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,a)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,a,i,l){let u;if(this.reverse_){const y=this.index_.getCompare();u=(b,x)=>y(x,b)}else u=this.index_.getCompare();const f=e;ce(f.numChildren()===this.limit_,"");const m=new ke(n,a),p=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),v=this.rangedFilter_.matches(m);if(f.hasChild(n)){const y=f.getImmediateChild(n);let b=i.getChildAfterChild(this.index_,p,this.reverse_);for(;b!=null&&(b.name===n||f.hasChild(b.name));)b=i.getChildAfterChild(this.index_,b,this.reverse_);const x=b==null?1:u(b,m);if(v&&!a.isEmpty()&&x>=0)return l!=null&&l.trackChildChange(Pc(n,a,y)),f.updateImmediateChild(n,a);{l!=null&&l.trackChildChange(Mc(n,y));const N=f.updateImmediateChild(n,Ne.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(l!=null&&l.trackChildChange(Io(b.name,b.node)),N.updateImmediateChild(b.name,b.node)):N}}else return a.isEmpty()?e:v&&u(p,m)>=0?(l!=null&&(l.trackChildChange(Mc(p.name,p.node)),l.trackChildChange(Io(n,a))),f.updateImmediateChild(n,a).updateImmediateChild(p.name,Ne.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pi}hasEnd(){return this.endSet_}getIndexEndValue(){return ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ds}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===lt}copy(){const e=new Oy;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function i3(t){return t.loadsAllData()?new jy(t.getIndex()):t.hasLimit()?new s3(t):new Lc(t)}function o3(t,e,n){const a=t.copy();return a.startSet_=!0,e===void 0&&(e=null),a.indexStartValue_=e,n!=null?(a.startNameSet_=!0,a.indexStartName_=n):(a.startNameSet_=!1,a.indexStartName_=""),a}function l3(t,e,n){const a=t.copy();return a.endSet_=!0,e===void 0&&(e=null),a.indexEndValue_=e,n!==void 0?(a.endNameSet_=!0,a.indexEndName_=n):(a.endNameSet_=!1,a.indexEndName_=""),a}function c3(t,e){const n=t.copy();return n.index_=e,n}function zw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===lt?n="$priority":t.index_===vN?n="$value":t.index_===di?n="$key":(ce(t.index_ instanceof Iy,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Tt(n),t.startSet_){const a=t.startAfterSet_?"startAfter":"startAt";e[a]=Tt(t.indexStartValue_),t.startNameSet_&&(e[a]+=","+Tt(t.indexStartName_))}if(t.endSet_){const a=t.endBeforeSet_?"endBefore":"endAt";e[a]=Tt(t.indexEndValue_),t.endNameSet_&&(e[a]+=","+Tt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Fw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==lt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends lN{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ce(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,a,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=a,this.appCheckTokenProvider_=i,this.log_=tu("p:rest:"),this.listens_={}}listen(e,n,a,i){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=cf.getListenId_(e,a),f={};this.listens_[u]=f;const m=zw(e._queryParams);this.restRequest_(l+".json",m,(p,v)=>{let y=v;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(l,y,!1,a),Ro(this.listens_,u)===f){let b;p?p===401?b="permission_denied":b="rest_error:"+p:b="ok",i(b,null)}})}unlisten(e,n){const a=cf.getListenId_(e,n);delete this.listens_[a]}get(e){const n=zw(e._queryParams),a=e._path.toString(),i=new Wc;return this.restRequest_(a+".json",n,(l,u)=>{let f=u;l===404&&(f=null,l=null),l===null?(this.onDataUpdate_(a,f,!1,null),i.resolve(f)):i.reject(new Error(f))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},a){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,l])=>{i&&i.accessToken&&(n.auth=i.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Yo(n);this.log_("Sending REST request for "+u);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(a&&f.readyState===4){this.log_("REST Response for "+u+" received. status:",f.status,"response:",f.responseText);let m=null;if(f.status>=200&&f.status<300){try{m=Dc(f.responseText)}catch{an("Failed to parse JSON response for "+u+": "+f.responseText)}a(null,m)}else f.status!==401&&f.status!==404&&an("Got unsuccessful REST response for "+u+" Status: "+f.status),a(f.status);a=null}},f.open("GET",u,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(){this.rootNode_=Ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(){return{value:null,children:new Map}}function xN(t,e,n){if(Oe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const a=Ue(e);t.children.has(a)||t.children.set(a,uf());const i=t.children.get(a);e=nt(e),xN(i,e,n)}}function vg(t,e,n){t.value!==null?n(e,t.value):d3(t,(a,i)=>{const l=new We(e.toString()+"/"+a);vg(i,l,n)})}function d3(t,e){t.children.forEach((n,a)=>{e(a,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&$t(this.last_,(a,i)=>{n[a]=n[a]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=10*1e3,h3=30*1e3,m3=5*60*1e3;class p3{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new f3(e);const a=Hw+(h3-Hw)*Math.random();Ec(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),n={};let a=!1;$t(e,(i,l)=>{l>0&&Mr(this.statsToReport_,i)&&(n[i]=l,a=!0)}),a&&this.server_.reportStats(n),Ec(this.reportStats_.bind(this),Math.floor(Math.random()*2*m3))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(lr||(lr={}));function ky(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function My(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Py(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,a){this.path=e,this.affectedTree=n,this.revert=a,this.type=lr.ACK_USER_WRITE,this.source=ky()}operationForChild(e){if(Oe(this.path)){if(this.affectedTree.value!=null)return ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new We(e));return new df(Ve(),n,this.revert)}}else return ce(Ue(this.path)===e,"operationForChild called for unrelated child."),new df(nt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this.source=e,this.path=n,this.type=lr.LISTEN_COMPLETE}operationForChild(e){return Oe(this.path)?new Uc(this.source,Ve()):new Uc(this.source,nt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,a){this.source=e,this.path=n,this.snap=a,this.type=lr.OVERWRITE}operationForChild(e){return Oe(this.path)?new gi(this.source,Ve(),this.snap.getImmediateChild(e)):new gi(this.source,nt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,a){this.source=e,this.path=n,this.children=a,this.type=lr.MERGE}operationForChild(e){if(Oe(this.path)){const n=this.children.subtree(new We(e));return n.isEmpty()?null:n.value?new gi(this.source,Ve(),n.value):new jo(this.source,Ve(),n)}else return ce(Ue(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new jo(this.source,nt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,a){this.node_=e,this.fullyInitialized_=n,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Oe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ue(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function y3(t,e,n,a){const i=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(a3(u.childName,u.snapshotNode))}),hc(t,i,"child_removed",e,a,n),hc(t,i,"child_added",e,a,n),hc(t,i,"child_moved",l,a,n),hc(t,i,"child_changed",e,a,n),hc(t,i,"value",e,a,n),i}function hc(t,e,n,a,i,l){const u=a.filter(f=>f.type===n);u.sort((f,m)=>b3(t,f,m)),u.forEach(f=>{const m=v3(t,f,l);i.forEach(p=>{p.respondsTo(f.type)&&e.push(p.createEvent(m,t.query_))})})}function v3(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function b3(t,e,n){if(e.childName==null||n.childName==null)throw Go("Should only compare child_ events.");const a=new ke(e.childName,e.snapshotNode),i=new ke(n.childName,n.snapshotNode);return t.index_.compare(a,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(t,e){return{eventCache:t,serverCache:e}}function Sc(t,e,n,a){return Bf(new hs(e,n,a),t.serverCache)}function _N(t,e,n,a){return Bf(t.eventCache,new hs(e,n,a))}function ff(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function yi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp;const x3=()=>(kp||(kp=new mn(r5)),kp);class tt{static fromObject(e){let n=new tt(null);return $t(e,(a,i)=>{n=n.set(new We(a),i)}),n}constructor(e,n=x3()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ve(),value:this.value};if(Oe(e))return null;{const a=Ue(e),i=this.children.get(a);if(i!==null){const l=i.findRootMostMatchingPathAndValue(nt(e),n);return l!=null?{path:mt(new We(a),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Oe(e))return this;{const n=Ue(e),a=this.children.get(n);return a!==null?a.subtree(nt(e)):new tt(null)}}set(e,n){if(Oe(e))return new tt(n,this.children);{const a=Ue(e),l=(this.children.get(a)||new tt(null)).set(nt(e),n),u=this.children.insert(a,l);return new tt(this.value,u)}}remove(e){if(Oe(e))return this.children.isEmpty()?new tt(null):new tt(null,this.children);{const n=Ue(e),a=this.children.get(n);if(a){const i=a.remove(nt(e));let l;return i.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,i),this.value===null&&l.isEmpty()?new tt(null):new tt(this.value,l)}else return this}}get(e){if(Oe(e))return this.value;{const n=Ue(e),a=this.children.get(n);return a?a.get(nt(e)):null}}setTree(e,n){if(Oe(e))return n;{const a=Ue(e),l=(this.children.get(a)||new tt(null)).setTree(nt(e),n);let u;return l.isEmpty()?u=this.children.remove(a):u=this.children.insert(a,l),new tt(this.value,u)}}fold(e){return this.fold_(Ve(),e)}fold_(e,n){const a={};return this.children.inorderTraversal((i,l)=>{a[i]=l.fold_(mt(e,i),n)}),n(e,this.value,a)}findOnPath(e,n){return this.findOnPath_(e,Ve(),n)}findOnPath_(e,n,a){const i=this.value?a(n,this.value):!1;if(i)return i;if(Oe(e))return null;{const l=Ue(e),u=this.children.get(l);return u?u.findOnPath_(nt(e),mt(n,l),a):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ve(),n)}foreachOnPath_(e,n,a){if(Oe(e))return this;{this.value&&a(n,this.value);const i=Ue(e),l=this.children.get(i);return l?l.foreachOnPath_(nt(e),mt(n,i),a):new tt(null)}}foreach(e){this.foreach_(Ve(),e)}foreach_(e,n){this.children.inorderTraversal((a,i)=>{i.foreach_(mt(e,a),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,a)=>{a.value&&e(n,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.writeTree_=e}static empty(){return new cr(new tt(null))}}function Nc(t,e,n){if(Oe(e))return new cr(new tt(n));{const a=t.writeTree_.findRootMostValueAndPath(e);if(a!=null){const i=a.path;let l=a.value;const u=rn(i,e);return l=l.updateChild(u,n),new cr(t.writeTree_.set(i,l))}else{const i=new tt(n),l=t.writeTree_.setTree(e,i);return new cr(l)}}}function bg(t,e,n){let a=t;return $t(n,(i,l)=>{a=Nc(a,mt(e,i),l)}),a}function qw(t,e){if(Oe(e))return cr.empty();{const n=t.writeTree_.setTree(e,new tt(null));return new cr(n)}}function xg(t,e){return Ti(t,e)!=null}function Ti(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(rn(n.path,e)):null}function Vw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(lt,(a,i)=>{e.push(new ke(a,i))}):t.writeTree_.children.inorderTraversal((a,i)=>{i.value!=null&&e.push(new ke(a,i.value))}),e}function os(t,e){if(Oe(e))return t;{const n=Ti(t,e);return n!=null?new cr(new tt(n)):new cr(t.writeTree_.subtree(e))}}function _g(t){return t.writeTree_.isEmpty()}function Oo(t,e){return wN(Ve(),t.writeTree_,e)}function wN(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let a=null;return e.children.inorderTraversal((i,l)=>{i===".priority"?(ce(l.value!==null,"Priority writes must always be leaf nodes"),a=l.value):n=wN(mt(t,i),l,n)}),!n.getChild(t).isEmpty()&&a!==null&&(n=n.updateChild(mt(t,".priority"),a)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t,e){return CN(e,t)}function _3(t,e,n,a,i){ce(a>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:a,visible:i}),i&&(t.visibleWrites=Nc(t.visibleWrites,e,n)),t.lastWriteId=a}function w3(t,e,n,a){ce(a>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:a,visible:!0}),t.visibleWrites=bg(t.visibleWrites,e,n),t.lastWriteId=a}function E3(t,e){for(let n=0;n<t.allWrites.length;n++){const a=t.allWrites[n];if(a.writeId===e)return a}return null}function S3(t,e){const n=t.allWrites.findIndex(f=>f.writeId===e);ce(n>=0,"removeWrite called with nonexistent writeId.");const a=t.allWrites[n];t.allWrites.splice(n,1);let i=a.visible,l=!1,u=t.allWrites.length-1;for(;i&&u>=0;){const f=t.allWrites[u];f.visible&&(u>=n&&N3(f,a.path)?i=!1:Yn(a.path,f.path)&&(l=!0)),u--}if(i){if(l)return C3(t),!0;if(a.snap)t.visibleWrites=qw(t.visibleWrites,a.path);else{const f=a.children;$t(f,m=>{t.visibleWrites=qw(t.visibleWrites,mt(a.path,m))})}return!0}else return!1}function N3(t,e){if(t.snap)return Yn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Yn(mt(t.path,n),e))return!0;return!1}function C3(t){t.visibleWrites=EN(t.allWrites,T3,Ve()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function T3(t){return t.visible}function EN(t,e,n){let a=cr.empty();for(let i=0;i<t.length;++i){const l=t[i];if(e(l)){const u=l.path;let f;if(l.snap)Yn(n,u)?(f=rn(n,u),a=Nc(a,f,l.snap)):Yn(u,n)&&(f=rn(u,n),a=Nc(a,Ve(),l.snap.getChild(f)));else if(l.children){if(Yn(n,u))f=rn(n,u),a=bg(a,f,l.children);else if(Yn(u,n))if(f=rn(u,n),Oe(f))a=bg(a,Ve(),l.children);else{const m=Ro(l.children,Ue(f));if(m){const p=m.getChild(nt(f));a=Nc(a,Ve(),p)}}}else throw Go("WriteRecord should have .snap or .children")}}return a}function SN(t,e,n,a,i){if(!a&&!i){const l=Ti(t.visibleWrites,e);if(l!=null)return l;{const u=os(t.visibleWrites,e);if(_g(u))return n;if(n==null&&!xg(u,Ve()))return null;{const f=n||Ne.EMPTY_NODE;return Oo(u,f)}}}else{const l=os(t.visibleWrites,e);if(!i&&_g(l))return n;if(!i&&n==null&&!xg(l,Ve()))return null;{const u=function(p){return(p.visible||i)&&(!a||!~a.indexOf(p.writeId))&&(Yn(p.path,e)||Yn(e,p.path))},f=EN(t.allWrites,u,e),m=n||Ne.EMPTY_NODE;return Oo(f,m)}}}function R3(t,e,n){let a=Ne.EMPTY_NODE;const i=Ti(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(lt,(l,u)=>{a=a.updateImmediateChild(l,u)}),a;if(n){const l=os(t.visibleWrites,e);return n.forEachChild(lt,(u,f)=>{const m=Oo(os(l,new We(u)),f);a=a.updateImmediateChild(u,m)}),Vw(l).forEach(u=>{a=a.updateImmediateChild(u.name,u.node)}),a}else{const l=os(t.visibleWrites,e);return Vw(l).forEach(u=>{a=a.updateImmediateChild(u.name,u.node)}),a}}function D3(t,e,n,a,i){ce(a||i,"Either existingEventSnap or existingServerSnap must exist");const l=mt(e,n);if(xg(t.visibleWrites,l))return null;{const u=os(t.visibleWrites,l);return _g(u)?i.getChild(n):Oo(u,i.getChild(n))}}function A3(t,e,n,a){const i=mt(e,n),l=Ti(t.visibleWrites,i);if(l!=null)return l;if(a.isCompleteForChild(n)){const u=os(t.visibleWrites,i);return Oo(u,a.getNode().getImmediateChild(n))}else return null}function I3(t,e){return Ti(t.visibleWrites,e)}function j3(t,e,n,a,i,l,u){let f;const m=os(t.visibleWrites,e),p=Ti(m,Ve());if(p!=null)f=p;else if(n!=null)f=Oo(m,n);else return[];if(f=f.withIndex(u),!f.isEmpty()&&!f.isLeafNode()){const v=[],y=u.getCompare(),b=l?f.getReverseIteratorFrom(a,u):f.getIteratorFrom(a,u);let x=b.getNext();for(;x&&v.length<i;)y(x,a)!==0&&v.push(x),x=b.getNext();return v}else return[]}function O3(){return{visibleWrites:cr.empty(),allWrites:[],lastWriteId:-1}}function hf(t,e,n,a){return SN(t.writeTree,t.treePath,e,n,a)}function Ly(t,e){return R3(t.writeTree,t.treePath,e)}function $w(t,e,n,a){return D3(t.writeTree,t.treePath,e,n,a)}function mf(t,e){return I3(t.writeTree,mt(t.treePath,e))}function k3(t,e,n,a,i,l){return j3(t.writeTree,t.treePath,e,n,a,i,l)}function Uy(t,e,n){return A3(t.writeTree,t.treePath,e,n)}function NN(t,e){return CN(mt(t.treePath,e),t.writeTree)}function CN(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,a=e.childName;ce(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ce(a!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(a);if(i){const l=i.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(a,Pc(a,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(a);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(a,Mc(a,i.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(a,Io(a,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(a,Pc(a,e.snapshotNode,i.oldSnap));else throw Go("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{getCompleteChild(e){return null}getChildAfterChild(e,n,a){return null}}const TN=new P3;class By{constructor(e,n,a=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=a}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const a=this.optCompleteServerCache_!=null?new hs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Uy(this.writes_,e,a)}}getChildAfterChild(e,n,a){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:yi(this.viewCache_),l=k3(this.writes_,i,n,1,a,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t){return{filter:t}}function U3(t,e){ce(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ce(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function B3(t,e,n,a,i){const l=new M3;let u,f;if(n.type===lr.OVERWRITE){const p=n;p.source.fromUser?u=wg(t,e,p.path,p.snap,a,i,l):(ce(p.source.fromServer,"Unknown source."),f=p.source.tagged||e.serverCache.isFiltered()&&!Oe(p.path),u=pf(t,e,p.path,p.snap,a,i,f,l))}else if(n.type===lr.MERGE){const p=n;p.source.fromUser?u=F3(t,e,p.path,p.children,a,i,l):(ce(p.source.fromServer,"Unknown source."),f=p.source.tagged||e.serverCache.isFiltered(),u=Eg(t,e,p.path,p.children,a,i,f,l))}else if(n.type===lr.ACK_USER_WRITE){const p=n;p.revert?u=V3(t,e,p.path,a,i,l):u=H3(t,e,p.path,p.affectedTree,a,i,l)}else if(n.type===lr.LISTEN_COMPLETE)u=q3(t,e,n.path,a,l);else throw Go("Unknown operation type: "+n.type);const m=l.getChanges();return z3(e,u,m),{viewCache:u,changes:m}}function z3(t,e,n){const a=e.eventCache;if(a.isFullyInitialized()){const i=a.getNode().isLeafNode()||a.getNode().isEmpty(),l=ff(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!a.getNode().equals(l)||!a.getNode().getPriority().equals(l.getPriority()))&&n.push(bN(ff(e)))}}function RN(t,e,n,a,i,l){const u=e.eventCache;if(mf(a,n)!=null)return e;{let f,m;if(Oe(n))if(ce(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=yi(e),v=p instanceof Ne?p:Ne.EMPTY_NODE,y=Ly(a,v);f=t.filter.updateFullNode(e.eventCache.getNode(),y,l)}else{const p=hf(a,yi(e));f=t.filter.updateFullNode(e.eventCache.getNode(),p,l)}else{const p=Ue(n);if(p===".priority"){ce(fs(n)===1,"Can't have a priority with additional path components");const v=u.getNode();m=e.serverCache.getNode();const y=$w(a,n,v,m);y!=null?f=t.filter.updatePriority(v,y):f=u.getNode()}else{const v=nt(n);let y;if(u.isCompleteForChild(p)){m=e.serverCache.getNode();const b=$w(a,n,u.getNode(),m);b!=null?y=u.getNode().getImmediateChild(p).updateChild(v,b):y=u.getNode().getImmediateChild(p)}else y=Uy(a,p,e.serverCache);y!=null?f=t.filter.updateChild(u.getNode(),p,y,v,i,l):f=u.getNode()}}return Sc(e,f,u.isFullyInitialized()||Oe(n),t.filter.filtersNodes())}}function pf(t,e,n,a,i,l,u,f){const m=e.serverCache;let p;const v=u?t.filter:t.filter.getIndexedFilter();if(Oe(n))p=v.updateFullNode(m.getNode(),a,null);else if(v.filtersNodes()&&!m.isFiltered()){const x=m.getNode().updateChild(n,a);p=v.updateFullNode(m.getNode(),x,null)}else{const x=Ue(n);if(!m.isCompleteForPath(n)&&fs(n)>1)return e;const _=nt(n),C=m.getNode().getImmediateChild(x).updateChild(_,a);x===".priority"?p=v.updatePriority(m.getNode(),C):p=v.updateChild(m.getNode(),x,C,_,TN,null)}const y=_N(e,p,m.isFullyInitialized()||Oe(n),v.filtersNodes()),b=new By(i,y,l);return RN(t,y,n,i,b,f)}function wg(t,e,n,a,i,l,u){const f=e.eventCache;let m,p;const v=new By(i,e,l);if(Oe(n))p=t.filter.updateFullNode(e.eventCache.getNode(),a,u),m=Sc(e,p,!0,t.filter.filtersNodes());else{const y=Ue(n);if(y===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),a),m=Sc(e,p,f.isFullyInitialized(),f.isFiltered());else{const b=nt(n),x=f.getNode().getImmediateChild(y);let _;if(Oe(b))_=a;else{const N=v.getCompleteChild(y);N!=null?Ry(b)===".priority"&&N.getChild(uN(b)).isEmpty()?_=N:_=N.updateChild(b,a):_=Ne.EMPTY_NODE}if(x.equals(_))m=e;else{const N=t.filter.updateChild(f.getNode(),y,_,b,v,u);m=Sc(e,N,f.isFullyInitialized(),t.filter.filtersNodes())}}}return m}function Gw(t,e){return t.eventCache.isCompleteForChild(e)}function F3(t,e,n,a,i,l,u){let f=e;return a.foreach((m,p)=>{const v=mt(n,m);Gw(e,Ue(v))&&(f=wg(t,f,v,p,i,l,u))}),a.foreach((m,p)=>{const v=mt(n,m);Gw(e,Ue(v))||(f=wg(t,f,v,p,i,l,u))}),f}function Yw(t,e,n){return n.foreach((a,i)=>{e=e.updateChild(a,i)}),e}function Eg(t,e,n,a,i,l,u,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;Oe(n)?p=a:p=new tt(null).setTree(n,a);const v=e.serverCache.getNode();return p.children.inorderTraversal((y,b)=>{if(v.hasChild(y)){const x=e.serverCache.getNode().getImmediateChild(y),_=Yw(t,x,b);m=pf(t,m,new We(y),_,i,l,u,f)}}),p.children.inorderTraversal((y,b)=>{const x=!e.serverCache.isCompleteForChild(y)&&b.value===null;if(!v.hasChild(y)&&!x){const _=e.serverCache.getNode().getImmediateChild(y),N=Yw(t,_,b);m=pf(t,m,new We(y),N,i,l,u,f)}}),m}function H3(t,e,n,a,i,l,u){if(mf(i,n)!=null)return e;const f=e.serverCache.isFiltered(),m=e.serverCache;if(a.value!=null){if(Oe(n)&&m.isFullyInitialized()||m.isCompleteForPath(n))return pf(t,e,n,m.getNode().getChild(n),i,l,f,u);if(Oe(n)){let p=new tt(null);return m.getNode().forEachChild(di,(v,y)=>{p=p.set(new We(v),y)}),Eg(t,e,n,p,i,l,f,u)}else return e}else{let p=new tt(null);return a.foreach((v,y)=>{const b=mt(n,v);m.isCompleteForPath(b)&&(p=p.set(v,m.getNode().getChild(b)))}),Eg(t,e,n,p,i,l,f,u)}}function q3(t,e,n,a,i){const l=e.serverCache,u=_N(e,l.getNode(),l.isFullyInitialized()||Oe(n),l.isFiltered());return RN(t,u,n,a,TN,i)}function V3(t,e,n,a,i,l){let u;if(mf(a,n)!=null)return e;{const f=new By(a,e,i),m=e.eventCache.getNode();let p;if(Oe(n)||Ue(n)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=hf(a,yi(e));else{const y=e.serverCache.getNode();ce(y instanceof Ne,"serverChildren would be complete if leaf node"),v=Ly(a,y)}v=v,p=t.filter.updateFullNode(m,v,l)}else{const v=Ue(n);let y=Uy(a,v,e.serverCache);y==null&&e.serverCache.isCompleteForChild(v)&&(y=m.getImmediateChild(v)),y!=null?p=t.filter.updateChild(m,v,y,nt(n),f,l):e.eventCache.getNode().hasChild(v)?p=t.filter.updateChild(m,v,Ne.EMPTY_NODE,nt(n),f,l):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=hf(a,yi(e)),u.isLeafNode()&&(p=t.filter.updateFullNode(p,u,l)))}return u=e.serverCache.isFullyInitialized()||mf(a,Ve())!=null,Sc(e,p,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,i=new jy(a.getIndex()),l=i3(a);this.processor_=L3(l);const u=n.serverCache,f=n.eventCache,m=i.updateFullNode(Ne.EMPTY_NODE,u.getNode(),null),p=l.updateFullNode(Ne.EMPTY_NODE,f.getNode(),null),v=new hs(m,u.isFullyInitialized(),i.filtersNodes()),y=new hs(p,f.isFullyInitialized(),l.filtersNodes());this.viewCache_=Bf(y,v),this.eventGenerator_=new g3(this.query_)}get query(){return this.query_}}function G3(t){return t.viewCache_.serverCache.getNode()}function Y3(t){return ff(t.viewCache_)}function W3(t,e){const n=yi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Oe(e)&&!n.getImmediateChild(Ue(e)).isEmpty())?n.getChild(e):null}function Ww(t){return t.eventRegistrations_.length===0}function K3(t,e){t.eventRegistrations_.push(e)}function Kw(t,e,n){const a=[];if(n){ce(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,i);u&&a.push(u)})}if(e){let i=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))i.push(u);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return a}function Qw(t,e,n,a){e.type===lr.MERGE&&e.source.queryId!==null&&(ce(yi(t.viewCache_),"We should always have a full cache before handling merges"),ce(ff(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,l=B3(t.processor_,i,e,n,a);return U3(t.processor_,l.viewCache),ce(l.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,DN(t,l.changes,l.viewCache.eventCache.getNode(),null)}function Q3(t,e){const n=t.viewCache_.eventCache,a=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(lt,(l,u)=>{a.push(Io(l,u))}),n.isFullyInitialized()&&a.push(bN(n.getNode())),DN(t,a,n.getNode(),e)}function DN(t,e,n,a){const i=a?[a]:t.eventRegistrations_;return y3(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf;class AN{constructor(){this.views=new Map}}function X3(t){ce(!gf,"__referenceConstructor has already been defined"),gf=t}function Z3(){return ce(gf,"Reference.ts has not been loaded"),gf}function J3(t){return t.views.size===0}function zy(t,e,n,a){const i=e.source.queryId;if(i!==null){const l=t.views.get(i);return ce(l!=null,"SyncTree gave us an op for an invalid query."),Qw(l,e,n,a)}else{let l=[];for(const u of t.views.values())l=l.concat(Qw(u,e,n,a));return l}}function IN(t,e,n,a,i){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let f=hf(n,i?a:null),m=!1;f?m=!0:a instanceof Ne?(f=Ly(n,a),m=!1):(f=Ne.EMPTY_NODE,m=!1);const p=Bf(new hs(f,m,!1),new hs(a,i,!1));return new $3(e,p)}return u}function eU(t,e,n,a,i,l){const u=IN(t,e,a,i,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),K3(u,n),Q3(u,n)}function tU(t,e,n,a){const i=e._queryIdentifier,l=[];let u=[];const f=ms(t);if(i==="default")for(const[m,p]of t.views.entries())u=u.concat(Kw(p,n,a)),Ww(p)&&(t.views.delete(m),p.query._queryParams.loadsAllData()||l.push(p.query));else{const m=t.views.get(i);m&&(u=u.concat(Kw(m,n,a)),Ww(m)&&(t.views.delete(i),m.query._queryParams.loadsAllData()||l.push(m.query)))}return f&&!ms(t)&&l.push(new(Z3())(e._repo,e._path)),{removed:l,events:u}}function jN(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ls(t,e){let n=null;for(const a of t.views.values())n=n||W3(a,e);return n}function ON(t,e){if(e._queryParams.loadsAllData())return Ff(t);{const a=e._queryIdentifier;return t.views.get(a)}}function kN(t,e){return ON(t,e)!=null}function ms(t){return Ff(t)!=null}function Ff(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf;function nU(t){ce(!yf,"__referenceConstructor has already been defined"),yf=t}function rU(){return ce(yf,"Reference.ts has not been loaded"),yf}let aU=1;class Xw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new tt(null),this.pendingWriteTree_=O3(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function MN(t,e,n,a,i){return _3(t.pendingWriteTree_,e,n,a,i),i?Zo(t,new gi(ky(),e,n)):[]}function sU(t,e,n,a){w3(t.pendingWriteTree_,e,n,a);const i=tt.fromObject(n);return Zo(t,new jo(ky(),e,i))}function ts(t,e,n=!1){const a=E3(t.pendingWriteTree_,e);if(S3(t.pendingWriteTree_,e)){let l=new tt(null);return a.snap!=null?l=l.set(Ve(),!0):$t(a.children,u=>{l=l.set(new We(u),!0)}),Zo(t,new df(a.path,l,n))}else return[]}function ru(t,e,n){return Zo(t,new gi(My(),e,n))}function iU(t,e,n){const a=tt.fromObject(n);return Zo(t,new jo(My(),e,a))}function oU(t,e){return Zo(t,new Uc(My(),e))}function lU(t,e,n){const a=Hy(t,n);if(a){const i=qy(a),l=i.path,u=i.queryId,f=rn(l,e),m=new Uc(Py(u),f);return Vy(t,l,m)}else return[]}function PN(t,e,n,a,i=!1){const l=e._path,u=t.syncPointTree_.get(l);let f=[];if(u&&(e._queryIdentifier==="default"||kN(u,e))){const m=tU(u,e,n,a);J3(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const p=m.removed;if(f=m.events,!i){const v=p.findIndex(b=>b._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(l,(b,x)=>ms(x));if(v&&!y){const b=t.syncPointTree_.subtree(l);if(!b.isEmpty()){const x=fU(b);for(let _=0;_<x.length;++_){const N=x[_],C=N.query,S=zN(t,N);t.listenProvider_.startListening(Cc(C),Bc(t,C),S.hashFn,S.onComplete)}}}!y&&p.length>0&&!a&&(v?t.listenProvider_.stopListening(Cc(e),null):p.forEach(b=>{const x=t.queryToTagMap.get(Hf(b));t.listenProvider_.stopListening(Cc(b),x)}))}hU(t,p)}return f}function LN(t,e,n,a){const i=Hy(t,a);if(i!=null){const l=qy(i),u=l.path,f=l.queryId,m=rn(u,e),p=new gi(Py(f),m,n);return Vy(t,u,p)}else return[]}function cU(t,e,n,a){const i=Hy(t,a);if(i){const l=qy(i),u=l.path,f=l.queryId,m=rn(u,e),p=tt.fromObject(n),v=new jo(Py(f),m,p);return Vy(t,u,v)}else return[]}function uU(t,e,n,a=!1){const i=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(i,(b,x)=>{const _=rn(b,i);l=l||ls(x,_),u=u||ms(x)});let f=t.syncPointTree_.get(i);f?(u=u||ms(f),l=l||ls(f,Ve())):(f=new AN,t.syncPointTree_=t.syncPointTree_.set(i,f));let m;l!=null?m=!0:(m=!1,l=Ne.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((x,_)=>{const N=ls(_,Ve());N&&(l=l.updateImmediateChild(x,N))}));const p=kN(f,e);if(!p&&!e._queryParams.loadsAllData()){const b=Hf(e);ce(!t.queryToTagMap.has(b),"View does not exist, but we have a tag");const x=mU();t.queryToTagMap.set(b,x),t.tagToQueryMap.set(x,b)}const v=zf(t.pendingWriteTree_,i);let y=eU(f,e,n,v,l,m);if(!p&&!u&&!a){const b=ON(f,e);y=y.concat(pU(t,e,b))}return y}function Fy(t,e,n){const i=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,f)=>{const m=rn(u,e),p=ls(f,m);if(p)return p});return SN(i,e,l,n,!0)}function dU(t,e){const n=e._path;let a=null;t.syncPointTree_.foreachOnPath(n,(p,v)=>{const y=rn(p,n);a=a||ls(v,y)});let i=t.syncPointTree_.get(n);i?a=a||ls(i,Ve()):(i=new AN,t.syncPointTree_=t.syncPointTree_.set(n,i));const l=a!=null,u=l?new hs(a,!0,!1):null,f=zf(t.pendingWriteTree_,e._path),m=IN(i,e,f,l?u.getNode():Ne.EMPTY_NODE,l);return Y3(m)}function Zo(t,e){return UN(e,t.syncPointTree_,null,zf(t.pendingWriteTree_,Ve()))}function UN(t,e,n,a){if(Oe(t.path))return BN(t,e,n,a);{const i=e.get(Ve());n==null&&i!=null&&(n=ls(i,Ve()));let l=[];const u=Ue(t.path),f=t.operationForChild(u),m=e.children.get(u);if(m&&f){const p=n?n.getImmediateChild(u):null,v=NN(a,u);l=l.concat(UN(f,m,p,v))}return i&&(l=l.concat(zy(i,t,a,n))),l}}function BN(t,e,n,a){const i=e.get(Ve());n==null&&i!=null&&(n=ls(i,Ve()));let l=[];return e.children.inorderTraversal((u,f)=>{const m=n?n.getImmediateChild(u):null,p=NN(a,u),v=t.operationForChild(u);v&&(l=l.concat(BN(v,f,m,p)))}),i&&(l=l.concat(zy(i,t,a,n))),l}function zN(t,e){const n=e.query,a=Bc(t,n);return{hashFn:()=>(G3(e)||Ne.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return a?lU(t,n._path,a):oU(t,n._path);{const l=i5(i,n);return PN(t,n,null,l)}}}}function Bc(t,e){const n=Hf(e);return t.queryToTagMap.get(n)}function Hf(t){return t._path.toString()+"$"+t._queryIdentifier}function Hy(t,e){return t.tagToQueryMap.get(e)}function qy(t){const e=t.indexOf("$");return ce(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new We(t.substr(0,e))}}function Vy(t,e,n){const a=t.syncPointTree_.get(e);ce(a,"Missing sync point for query tag that we're tracking");const i=zf(t.pendingWriteTree_,e);return zy(a,n,i,null)}function fU(t){return t.fold((e,n,a)=>{if(n&&ms(n))return[Ff(n)];{let i=[];return n&&(i=jN(n)),$t(a,(l,u)=>{i=i.concat(u)}),i}})}function Cc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(rU())(t._repo,t._path):t}function hU(t,e){for(let n=0;n<e.length;++n){const a=e[n];if(!a._queryParams.loadsAllData()){const i=Hf(a),l=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(l)}}}function mU(){return aU++}function pU(t,e,n){const a=e._path,i=Bc(t,e),l=zN(t,n),u=t.listenProvider_.startListening(Cc(e),i,l.hashFn,l.onComplete),f=t.syncPointTree_.subtree(a);if(i)ce(!ms(f.value),"If we're adding a query, it shouldn't be shadowed");else{const m=f.fold((p,v,y)=>{if(!Oe(p)&&v&&ms(v))return[Ff(v).query];{let b=[];return v&&(b=b.concat(jN(v).map(x=>x.query))),$t(y,(x,_)=>{b=b.concat(_)}),b}});for(let p=0;p<m.length;++p){const v=m[p];t.listenProvider_.stopListening(Cc(v),Bc(t,v))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new $y(n)}node(){return this.node_}}class Gy{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=mt(this.path_,e);return new Gy(this.syncTree_,n)}node(){return Fy(this.syncTree_,this.path_)}}const gU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Zw=function(t,e,n){if(!t||typeof t!="object")return t;if(ce(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return yU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return vU(t[".sv"],e);ce(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},yU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ce(!1,"Unexpected server value: "+t)}},vU=function(t,e,n){t.hasOwnProperty("increment")||ce(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const a=t.increment;typeof a!="number"&&ce(!1,"Unexpected increment value: "+a);const i=e.node();if(ce(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return a;const u=i.getValue();return typeof u!="number"?a:u+a},FN=function(t,e,n,a){return Yy(e,new Gy(n,t),a)},HN=function(t,e,n){return Yy(t,new $y(e),n)};function Yy(t,e,n){const a=t.getPriority().val(),i=Zw(a,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,f=Zw(u.getValue(),e,n);return f!==u.getValue()||i!==u.getPriority().val()?new Ut(f,Ct(i)):t}else{const u=t;return l=u,i!==u.getPriority().val()&&(l=l.updatePriority(new Ut(i))),u.forEachChild(lt,(f,m)=>{const p=Yy(m,e.getImmediateChild(f),n);p!==m&&(l=l.updateImmediateChild(f,p))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e="",n=null,a={children:{},childCount:0}){this.name=e,this.parent=n,this.node=a}}function Ky(t,e){let n=e instanceof We?e:new We(e),a=t,i=Ue(n);for(;i!==null;){const l=Ro(a.node.children,i)||{children:{},childCount:0};a=new Wy(i,a,l),n=nt(n),i=Ue(n)}return a}function Jo(t){return t.node.value}function qN(t,e){t.node.value=e,Sg(t)}function VN(t){return t.node.childCount>0}function bU(t){return Jo(t)===void 0&&!VN(t)}function qf(t,e){$t(t.node.children,(n,a)=>{e(new Wy(n,t,a))})}function $N(t,e,n,a){n&&e(t),qf(t,i=>{$N(i,e,!0)})}function xU(t,e,n){let a=t.parent;for(;a!==null;){if(e(a))return!0;a=a.parent}return!1}function au(t){return new We(t.parent===null?t.name:au(t.parent)+"/"+t.name)}function Sg(t){t.parent!==null&&_U(t.parent,t.name,t)}function _U(t,e,n){const a=bU(n),i=Mr(t.node.children,e);a&&i?(delete t.node.children[e],t.node.childCount--,Sg(t)):!a&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Sg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=/[\[\].#$\/\u0000-\u001F\u007F]/,EU=/[\[\].#$\u0000-\u001F\u007F]/,Mp=10*1024*1024,Qy=function(t){return typeof t=="string"&&t.length!==0&&!wU.test(t)},GN=function(t){return typeof t=="string"&&t.length!==0&&!EU.test(t)},SU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),GN(t)},Ng=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Ey(t)||t&&typeof t=="object"&&Mr(t,".sv")},su=function(t,e,n,a){a&&e===void 0||Vf(jf(t,"value"),e,n)},Vf=function(t,e,n){const a=n instanceof We?new z5(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ni(a));if(typeof e=="function")throw new Error(t+"contains a function "+ni(a)+" with contents = "+e.toString());if(Ey(e))throw new Error(t+"contains "+e.toString()+" "+ni(a));if(typeof e=="string"&&e.length>Mp/3&&Of(e)>Mp)throw new Error(t+"contains a string greater than "+Mp+" utf8 bytes "+ni(a)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,l=!1;if($t(e,(u,f)=>{if(u===".value")i=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!Qy(u)))throw new Error(t+" contains an invalid key ("+u+") "+ni(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);F5(a,u),Vf(t,f,a),H5(a)}),i&&l)throw new Error(t+' contains ".value" child '+ni(a)+" in addition to actual children.")}},NU=function(t,e){let n,a;for(n=0;n<e.length;n++){a=e[n];const l=kc(a);for(let u=0;u<l.length;u++)if(!(l[u]===".priority"&&u===l.length-1)){if(!Qy(l[u]))throw new Error(t+"contains an invalid key ("+l[u]+") in path "+a.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(B5);let i=null;for(n=0;n<e.length;n++){if(a=e[n],i!==null&&Yn(i,a))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+a.toString());i=a}},CU=function(t,e,n,a){const i=jf(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const l=[];$t(e,(u,f)=>{const m=new We(u);if(Vf(i,f,mt(n,m)),Ry(m)===".priority"&&!Ng(f))throw new Error(i+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(m)}),NU(i,l)},Xy=function(t,e,n,a){if(!GN(n))throw new Error(jf(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},TU=function(t,e,n,a){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Xy(t,e,n)},Zy=function(t,e){if(Ue(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},RU=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Qy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!SU(n))throw new Error(jf(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Jy(t,e){let n=null;for(let a=0;a<e.length;a++){const i=e[a],l=i.getPath();n!==null&&!dN(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(i)}n&&t.eventLists_.push(n)}function Qn(t,e,n){Jy(t,n),AU(t,a=>Yn(a,e)||Yn(e,a))}function AU(t,e){t.recursionDepth_++;let n=!0;for(let a=0;a<t.eventLists_.length;a++){const i=t.eventLists_[a];if(i){const l=i.path;e(l)?(IU(t.eventLists_[a]),t.eventLists_[a]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function IU(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const a=n.getEventRunner();wc&&Vt("event: "+n.toString()),Xo(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="repo_interrupt",OU=25;class kU{constructor(e,n,a,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=a,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new DU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uf(),this.transactionQueueTree_=new Wy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function MU(t,e,n){if(t.stats_=Cy(t.repoInfo_),t.forceRestClient_||u5())t.server_=new cf(t.repoInfo_,(a,i,l,u)=>{Jw(t,a,i,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>eE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Tt(n)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}t.persistentConnection_=new la(t.repoInfo_,e,(a,i,l,u)=>{Jw(t,a,i,l,u)},a=>{eE(t,a)},a=>{PU(t,a)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(a=>{t.server_.refreshAuthToken(a)}),t.appCheckProvider_.addTokenChangeListener(a=>{t.server_.refreshAppCheckToken(a.token)}),t.statsReporter_=p5(t.repoInfo_,()=>new p3(t.stats_,t.server_)),t.infoData_=new u3,t.infoSyncTree_=new Xw({startListening:(a,i,l,u)=>{let f=[];const m=t.infoData_.getNode(a._path);return m.isEmpty()||(f=ru(t.infoSyncTree_,a._path,m),setTimeout(()=>{u("ok")},0)),f},stopListening:()=>{}}),ev(t,"connected",!1),t.serverSyncTree_=new Xw({startListening:(a,i,l,u)=>(t.server_.listen(a,l,i,(f,m)=>{const p=u(f,m);Qn(t.eventQueue_,a._path,p)}),[]),stopListening:(a,i)=>{t.server_.unlisten(a,i)}})}function YN(t){const n=t.infoData_.getNode(new We(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $f(t){return gU({timestamp:YN(t)})}function Jw(t,e,n,a,i){t.dataUpdateCount++;const l=new We(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(i)if(a){const m=Zd(n,p=>Ct(p));u=cU(t.serverSyncTree_,l,m,i)}else{const m=Ct(n);u=LN(t.serverSyncTree_,l,m,i)}else if(a){const m=Zd(n,p=>Ct(p));u=iU(t.serverSyncTree_,l,m)}else{const m=Ct(n);u=ru(t.serverSyncTree_,l,m)}let f=l;u.length>0&&(f=ko(t,l)),Qn(t.eventQueue_,f,u)}function eE(t,e){ev(t,"connected",e),e===!1&&zU(t)}function PU(t,e){$t(e,(n,a)=>{ev(t,n,a)})}function ev(t,e,n){const a=new We("/.info/"+e),i=Ct(n);t.infoData_.updateSnapshot(a,i);const l=ru(t.infoSyncTree_,a,i);Qn(t.eventQueue_,a,l)}function tv(t){return t.nextWriteId_++}function LU(t,e,n){const a=dU(t.serverSyncTree_,e);return a!=null?Promise.resolve(a):t.server_.get(e).then(i=>{const l=Ct(i).withIndex(e._queryParams.getIndex());uU(t.serverSyncTree_,e,n,!0);let u;if(e._queryParams.loadsAllData())u=ru(t.serverSyncTree_,e._path,l);else{const f=Bc(t.serverSyncTree_,e);u=LN(t.serverSyncTree_,e._path,l,f)}return Qn(t.eventQueue_,e._path,u),PN(t.serverSyncTree_,e,n,null,!0),l},i=>(iu(t,"get for query "+Tt(e)+" failed: "+i),Promise.reject(new Error(i))))}function UU(t,e,n,a,i){iu(t,"set",{path:e.toString(),value:n,priority:a});const l=$f(t),u=Ct(n,a),f=Fy(t.serverSyncTree_,e),m=HN(u,f,l),p=tv(t),v=MN(t.serverSyncTree_,e,m,p,!0);Jy(t.eventQueue_,v),t.server_.put(e.toString(),u.val(!0),(b,x)=>{const _=b==="ok";_||an("set at "+e+" failed: "+b);const N=ts(t.serverSyncTree_,p,!_);Qn(t.eventQueue_,e,N),Cg(t,i,b,x)});const y=rv(t,e);ko(t,y),Qn(t.eventQueue_,y,[])}function BU(t,e,n,a){iu(t,"update",{path:e.toString(),value:n});let i=!0;const l=$f(t),u={};if($t(n,(f,m)=>{i=!1,u[f]=FN(mt(e,f),Ct(m),t.serverSyncTree_,l)}),i)Vt("update() called with empty data.  Don't do anything."),Cg(t,a,"ok",void 0);else{const f=tv(t),m=sU(t.serverSyncTree_,e,u,f);Jy(t.eventQueue_,m),t.server_.merge(e.toString(),n,(p,v)=>{const y=p==="ok";y||an("update at "+e+" failed: "+p);const b=ts(t.serverSyncTree_,f,!y),x=b.length>0?ko(t,e):e;Qn(t.eventQueue_,x,b),Cg(t,a,p,v)}),$t(n,p=>{const v=rv(t,mt(e,p));ko(t,v)}),Qn(t.eventQueue_,e,[])}}function zU(t){iu(t,"onDisconnectEvents");const e=$f(t),n=uf();vg(t.onDisconnect_,Ve(),(i,l)=>{const u=FN(i,l,t.serverSyncTree_,e);xN(n,i,u)});let a=[];vg(n,Ve(),(i,l)=>{a=a.concat(ru(t.serverSyncTree_,i,l));const u=rv(t,i);ko(t,u)}),t.onDisconnect_=uf(),Qn(t.eventQueue_,Ve(),a)}function FU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(jU)}function iu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Vt(n,...e)}function Cg(t,e,n,a){e&&Xo(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let l=i;a&&(l+=": "+a);const u=new Error(l);u.code=i,e(u)}})}function WN(t,e,n){return Fy(t.serverSyncTree_,e,n)||Ne.EMPTY_NODE}function nv(t,e=t.transactionQueueTree_){if(e||Gf(t,e),Jo(e)){const n=QN(t,e);ce(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&HU(t,au(e),n)}else VN(e)&&qf(e,n=>{nv(t,n)})}function HU(t,e,n){const a=n.map(p=>p.currentWriteId),i=WN(t,e,a);let l=i;const u=i.hash();for(let p=0;p<n.length;p++){const v=n[p];ce(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const y=rn(e,v.path);l=l.updateChild(y,v.currentOutputSnapshotRaw)}const f=l.val(!0),m=e;t.server_.put(m.toString(),f,p=>{iu(t,"transaction put response",{path:m.toString(),status:p});let v=[];if(p==="ok"){const y=[];for(let b=0;b<n.length;b++)n[b].status=2,v=v.concat(ts(t.serverSyncTree_,n[b].currentWriteId)),n[b].onComplete&&y.push(()=>n[b].onComplete(null,!0,n[b].currentOutputSnapshotResolved)),n[b].unwatcher();Gf(t,Ky(t.transactionQueueTree_,e)),nv(t,t.transactionQueueTree_),Qn(t.eventQueue_,e,v);for(let b=0;b<y.length;b++)Xo(y[b])}else{if(p==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{an("transaction at "+m.toString()+" failed: "+p);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=p}ko(t,e)}},u)}function ko(t,e){const n=KN(t,e),a=au(n),i=QN(t,n);return qU(t,i,a),a}function qU(t,e,n){if(e.length===0)return;const a=[];let i=[];const u=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const m=e[f],p=rn(n,m.path);let v=!1,y;if(ce(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)v=!0,y=m.abortReason,i=i.concat(ts(t.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=OU)v=!0,y="maxretry",i=i.concat(ts(t.serverSyncTree_,m.currentWriteId,!0));else{const b=WN(t,m.path,u);m.currentInputSnapshot=b;const x=e[f].update(b.val());if(x!==void 0){Vf("transaction failed: Data returned ",x,m.path);let _=Ct(x);typeof x=="object"&&x!=null&&Mr(x,".priority")||(_=_.updatePriority(b.getPriority()));const C=m.currentWriteId,S=$f(t),T=HN(_,b,S);m.currentOutputSnapshotRaw=_,m.currentOutputSnapshotResolved=T,m.currentWriteId=tv(t),u.splice(u.indexOf(C),1),i=i.concat(MN(t.serverSyncTree_,m.path,T,m.currentWriteId,m.applyLocally)),i=i.concat(ts(t.serverSyncTree_,C,!0))}else v=!0,y="nodata",i=i.concat(ts(t.serverSyncTree_,m.currentWriteId,!0))}Qn(t.eventQueue_,n,i),i=[],v&&(e[f].status=2,function(b){setTimeout(b,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(y==="nodata"?a.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):a.push(()=>e[f].onComplete(new Error(y),!1,null))))}Gf(t,t.transactionQueueTree_);for(let f=0;f<a.length;f++)Xo(a[f]);nv(t,t.transactionQueueTree_)}function KN(t,e){let n,a=t.transactionQueueTree_;for(n=Ue(e);n!==null&&Jo(a)===void 0;)a=Ky(a,n),e=nt(e),n=Ue(e);return a}function QN(t,e){const n=[];return XN(t,e,n),n.sort((a,i)=>a.order-i.order),n}function XN(t,e,n){const a=Jo(e);if(a)for(let i=0;i<a.length;i++)n.push(a[i]);qf(e,i=>{XN(t,i,n)})}function Gf(t,e){const n=Jo(e);if(n){let a=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[a]=n[i],a++);n.length=a,qN(e,n.length>0?n:void 0)}qf(e,a=>{Gf(t,a)})}function rv(t,e){const n=au(KN(t,e)),a=Ky(t.transactionQueueTree_,e);return xU(a,i=>{Pp(t,i)}),Pp(t,a),$N(a,i=>{Pp(t,i)}),n}function Pp(t,e){const n=Jo(e);if(n){const a=[];let i=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(ce(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(ce(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),i=i.concat(ts(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&a.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?qN(e,void 0):n.length=l+1,Qn(t.eventQueue_,au(e),i);for(let u=0;u<a.length;u++)Xo(a[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(t){let e="";const n=t.split("/");for(let a=0;a<n.length;a++)if(n[a].length>0){let i=n[a];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function $U(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const a=n.split("=");a.length===2?e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):an(`Invalid query segment '${n}' in query '${t}'`)}return e}const tE=function(t,e){const n=GU(t),a=n.namespace;n.domain==="firebase.com"&&fa(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&n.domain!=="localhost"&&fa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||t5();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new tN(n.host,n.secure,a,i,e,"",a!==n.subdomain),path:new We(n.pathString)}},GU=function(t){let e="",n="",a="",i="",l="",u=!0,f="https",m=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(f=t.substring(0,p-1),t=t.substring(p+2));let v=t.indexOf("/");v===-1&&(v=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(v,y)),v<y&&(i=VU(t.substring(v,y)));const b=$U(t.substring(Math.min(t.length,y)));p=e.indexOf(":"),p>=0?(u=f==="https"||f==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const x=e.slice(0,p);if(x.toLowerCase()==="localhost")n="localhost";else if(x.split(".").length<=2)n=x;else{const _=e.indexOf(".");a=e.substring(0,_).toLowerCase(),n=e.substring(_+1),l=a}"ns"in b&&(l=b.ns)}return{host:e,port:m,domain:n,subdomain:a,secure:u,scheme:f,pathString:i,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",YU=function(){let t=0;const e=[];return function(n){const a=n===t;t=n;let i;const l=new Array(8);for(i=7;i>=0;i--)l[i]=nE.charAt(n%64),n=Math.floor(n/64);ce(n===0,"Cannot push at time == 0");let u=l.join("");if(a){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)u+=nE.charAt(e[i]);return ce(u.length===20,"nextPushId: Length should be 20."),u}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n,a,i){this.eventType=e,this.eventRegistration=n,this.snapshot=a,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Tt(this.snapshot.exportVal())}}class KU{constructor(e,n,a){this.eventRegistration=e,this.error=n,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ce(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n,a,i){this._repo=e,this._path=n,this._queryParams=a,this._orderByCalled=i}get key(){return Oe(this._path)?null:Ry(this._path)}get ref(){return new ba(this._repo,this._path)}get _queryIdentifier(){const e=Fw(this._queryParams),n=Sy(e);return n==="{}"?"default":n}get _queryObject(){return Fw(this._queryParams)}isEqual(e){if(e=zt(e),!(e instanceof el))return!1;const n=this._repo===e._repo,a=dN(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&a&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+U5(this._path)}}function XU(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function av(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===di){const a="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==pi)throw new Error(a);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==ds)throw new Error(a);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===lt){if(e!=null&&!Ng(e)||n!=null&&!Ng(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ce(t.getIndex()instanceof Iy||t.getIndex()===vN,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ZN(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ba extends el{constructor(e,n){super(e,n,new Oy,!1)}get parent(){const e=uN(this._path);return e===null?null:new ba(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class zc{constructor(e,n,a){this._node=e,this.ref=n,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new We(e),a=Fc(this.ref,e);return new zc(this._node.getChild(n),a,lt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,i)=>e(new zc(i,Fc(this.ref,a),lt)))}hasChild(e){const n=new We(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function yc(t,e){return t=zt(t),t._checkNotDeleted("ref"),e!==void 0?Fc(t._root,e):t._root}function Fc(t,e){return t=zt(t),Ue(t._path)===null?TU("child","path",e):Xy("child","path",e),new ba(t._repo,mt(t._path,e))}function ZU(t,e){t=zt(t),Zy("push",t._path),su("push",e,t._path,!0);const n=YN(t._repo),a=YU(n),i=Fc(t,a),l=Fc(t,a);let u;return u=Promise.resolve(l),i.then=u.then.bind(u),i.catch=u.then.bind(u,void 0),i}function JU(t){return Zy("remove",t._path),Tg(t,null)}function Tg(t,e){t=zt(t),Zy("set",t._path),su("set",e,t._path,!1);const n=new Wc;return UU(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function eB(t,e){CU("update",e,t._path);const n=new Wc;return BU(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function bo(t){t=zt(t);const e=new QU(()=>{}),n=new sv(e);return LU(t._repo,t,n).then(a=>new zc(a,new ba(t._repo,t._path),t._queryParams.getIndex()))}class sv{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const a=n._queryParams.getIndex();return new WU("value",this,new zc(e.snapshotNode,new ba(n._repo,n._path),a))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new KU(this,e,n):null}matches(e){return e instanceof sv?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Yf{}class tB extends Yf{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){su("endAt",this._value,e._path,!0);const n=l3(e._queryParams,this._value,this._key);if(ZN(n),av(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new el(e._repo,e._path,n,e._orderByCalled)}}class nB extends Yf{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){su("startAt",this._value,e._path,!0);const n=o3(e._queryParams,this._value,this._key);if(ZN(n),av(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new el(e._repo,e._path,n,e._orderByCalled)}}class rB extends Yf{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){XU(e,"orderByChild");const n=new We(this._path);if(Oe(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const a=new Iy(n),i=c3(e._queryParams,a);return av(i),new el(e._repo,e._path,i,!0)}}function vc(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Xy("orderByChild","path",t),new rB(t)}class aB extends Yf{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(su("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new tB(this._value,this._key)._apply(new nB(this._value,this._key)._apply(e))}}function JN(t,e){return new aB(t,e)}function bc(t,...e){let n=zt(t);for(const a of e)n=a._apply(n);return n}X3(ba);nU(ba);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB="FIREBASE_DATABASE_EMULATOR_HOST",Rg={};let iB=!1;function oB(t,e,n,a){t.repoInfo_=new tN(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),a&&(t.authTokenProvider_=a)}function lB(t,e,n,a,i){let l=a||t.options.databaseURL;l===void 0&&(t.options.projectId||fa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vt("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=tE(l,i),f=u.repoInfo,m;typeof process<"u"&&Ew&&(m=Ew[sB]),m?(l=`http://${m}?ns=${f.namespace}`,u=tE(l,i),f=u.repoInfo):u.repoInfo.secure;const p=new f5(t.name,t.options,e);RU("Invalid Firebase Database URL",u),Oe(u.path)||fa("Database URL must point to the root of a Firebase Database (not including a child path).");const v=uB(f,t,p,new d5(t,n));return new dB(v,t)}function cB(t,e){const n=Rg[e];(!n||n[t.key]!==t)&&fa(`Database ${e}(${t.repoInfo_}) has already been deleted.`),FU(t),delete n[t.key]}function uB(t,e,n,a){let i=Rg[e.name];i||(i={},Rg[e.name]=i);let l=i[t.toURLString()];return l&&fa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new kU(t,iB,n,a),i[t.toURLString()]=l,l}class dB{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(MU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ba(this._repo,Ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(cB(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fa("Cannot call "+e+" on a deleted database.")}}function fB(t=a1(),e){const n=hy(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const a=oM("database");a&&hB(n,...a)}return n}function hB(t,e,n,a={}){t=zt(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,l=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&fi(a,l.repoInfo_.emulatorOptions))return;fa("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(l.repoInfo_.nodeAdmin)a.mockUserToken&&fa('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Vd(Vd.OWNER);else if(a.mockUserToken){const f=typeof a.mockUserToken=="string"?a.mockUserToken:lM(a.mockUserToken,t.app.options.projectId);u=new Vd(f)}oB(l,i,a,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(t){KL(Wo),Do(new hi("database",(e,{instanceIdentifier:n})=>{const a=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return lB(a,i,l,n)},"PUBLIC").setMultipleInstances(!0)),ss(Sw,Nw,t),ss(Sw,Nw,"esm2017")}la.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};la.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};mB();const pB={apiKey:"AIzaSyCrq7Am9kiE3levq6hOGBuh_wb3lGxfdT0",authDomain:"nrd-sgo.firebaseapp.com",databaseURL:"https://nrd-sgo-default-rtdb.firebaseio.com",projectId:"nrd-sgo",storageBucket:"nrd-sgo.appspot.com",messagingSenderId:"386786255981",appId:"1:386786255981:web:95cabd428cf0ca17c58b64"},eC=r1(pB),gB=fB(eC),xc=$L(eC),xo=class xo{constructor(){$e(this,"currentUser",null);$e(this,"authStateReady");$e(this,"authStateResolver");if(xo.instance)return xo.instance;this.authStateReady=new Promise(e=>{this.authStateResolver=e}),k4(xc,e=>{this.currentUser=e,console.log("Auth state initialized:",{user:e==null?void 0:e.email,isAuthenticated:!!e}),this.authStateResolver()}),xo.instance=this}async login(e,n,a=!1){try{await I4(xc,a?O1:xy),await A4(xc,e,n),a?localStorage.setItem("rememberMe","true"):localStorage.removeItem("rememberMe")}catch(i){throw console.error("Login error:",i),i}}async logout(){try{await M4(xc),localStorage.removeItem("rememberMe")}catch(e){throw console.error("Logout error:",e),e}}getCurrentUser(){return this.currentUser}async isAuthenticated(){return await this.authStateReady,!!this.currentUser}async waitForAuthReady(){return this.authStateReady}wasRemembered(){return localStorage.getItem("rememberMe")==="true"}};$e(xo,"instance");let vf=xo;function yB(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const vB=t=>{switch(t){case"success":return _B;case"info":return EB;case"warning":return wB;case"error":return SB;default:return null}},bB=Array(12).fill(0),xB=({visible:t,className:e})=>I.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},I.createElement("div",{className:"sonner-spinner"},bB.map((n,a)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),_B=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),wB=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),EB=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),SB=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),NB=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),CB=()=>{const[t,e]=I.useState(document.hidden);return I.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Dg=1;class TB{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:a,...i}=e,l=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Dg++,u=this.toasts.find(m=>m.id===l),f=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(m=>m.id===l?(this.publish({...m,...e,id:l,title:a}),{...m,...e,id:l,dismissible:f,title:a}):m):this.addToast({title:a,...i,dismissible:f,id:l}),l},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(a=>a({id:n.id,dismiss:!0}))}),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0}))),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let a;n.loading!==void 0&&(a=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let l=a!==void 0,u;const f=i.then(async p=>{if(u=["resolve",p],I.isValidElement(p))l=!1,this.create({id:a,type:"default",message:p});else if(DB(p)&&!p.ok){l=!1;const y=typeof n.error=="function"?await n.error(`HTTP error! status: ${p.status}`):n.error,b=typeof n.description=="function"?await n.description(`HTTP error! status: ${p.status}`):n.description,x=typeof y=="object"?y:{message:y};this.create({id:a,type:"error",description:b,...x})}else if(p instanceof Error){l=!1;const y=typeof n.error=="function"?await n.error(p):n.error,b=typeof n.description=="function"?await n.description(p):n.description,x=typeof y=="object"?y:{message:y};this.create({id:a,type:"error",description:b,...x})}else if(n.success!==void 0){l=!1;const y=typeof n.success=="function"?await n.success(p):n.success,b=typeof n.description=="function"?await n.description(p):n.description,x=typeof y=="object"?y:{message:y};this.create({id:a,type:"success",description:b,...x})}}).catch(async p=>{if(u=["reject",p],n.error!==void 0){l=!1;const v=typeof n.error=="function"?await n.error(p):n.error,y=typeof n.description=="function"?await n.description(p):n.description,b=typeof v=="object"?v:{message:v};this.create({id:a,type:"error",description:y,...b})}}).finally(()=>{l&&(this.dismiss(a),a=void 0),n.finally==null||n.finally.call(n)}),m=()=>new Promise((p,v)=>f.then(()=>u[0]==="reject"?v(u[1]):p(u[1])).catch(v));return typeof a!="string"&&typeof a!="number"?{unwrap:m}:Object.assign(a,{unwrap:m})},this.custom=(e,n)=>{const a=(n==null?void 0:n.id)||Dg++;return this.create({jsx:e(a),id:a,...n}),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const hn=new TB,RB=(t,e)=>{const n=(e==null?void 0:e.id)||Dg++;return hn.addToast({title:t,...e,id:n}),n},DB=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",AB=RB,IB=()=>hn.toasts,jB=()=>hn.getActiveToasts(),Pe=Object.assign(AB,{success:hn.success,info:hn.info,warning:hn.warning,error:hn.error,custom:hn.custom,message:hn.message,promise:hn.promise,dismiss:hn.dismiss,loading:hn.loading},{getHistory:IB,getToasts:jB});yB("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Id(t){return t.label!==void 0}const OB=3,kB="24px",MB="16px",rE=4e3,PB=356,LB=14,UB=45,BB=200;function Tr(...t){return t.filter(Boolean).join(" ")}function zB(t){const[e,n]=t.split("-"),a=[];return e&&a.push(e),n&&a.push(n),a}const FB=t=>{var e,n,a,i,l,u,f,m,p;const{invert:v,toast:y,unstyled:b,interacting:x,setHeights:_,visibleToasts:N,heights:C,index:S,toasts:T,expanded:R,removeToast:j,defaultRichColors:M,closeButton:A,style:F,cancelButtonStyle:Q,actionButtonStyle:U,className:W="",descriptionClassName:oe="",duration:G,position:ne,gap:X,expandByDefault:Z,classNames:L,icons:le,closeButtonAriaLabel:te="Close toast"}=t,[ue,P]=I.useState(null),[K,k]=I.useState(null),[H,V]=I.useState(!1),[ae,re]=I.useState(!1),[de,he]=I.useState(!1),[we,ve]=I.useState(!1),[wt,Xt]=I.useState(!1),[Gt,Zn]=I.useState(0),[wa,Jn]=I.useState(0),er=I.useRef(y.duration||G||rE),Lr=I.useRef(null),jt=I.useRef(null),ol=S===0,ll=S+1<=N,ln=y.type,Ea=y.dismissible!==!1,kn=y.className||"",ih=y.descriptionClassName||"",Ns=I.useMemo(()=>C.findIndex(Ce=>Ce.toastId===y.id)||0,[C,y.id]),pu=I.useMemo(()=>{var Ce;return(Ce=y.closeButton)!=null?Ce:A},[y.closeButton,A]),Cs=I.useMemo(()=>y.duration||G||rE,[y.duration,G]),cl=I.useRef(0),Ur=I.useRef(0),gu=I.useRef(0),Sa=I.useRef(null),[Ts,Zt]=ne.split("-"),yu=I.useMemo(()=>C.reduce((Ce,st,ct)=>ct>=Ns?Ce:Ce+st.height,0),[C,Ns]),tr=CB(),Jt=y.invert||v,ul=ln==="loading";Ur.current=I.useMemo(()=>Ns*X+yu,[Ns,yu]),I.useEffect(()=>{er.current=Cs},[Cs]),I.useEffect(()=>{V(!0)},[]),I.useEffect(()=>{const Ce=jt.current;if(Ce){const st=Ce.getBoundingClientRect().height;return Jn(st),_(ct=>[{toastId:y.id,height:st,position:y.position},...ct]),()=>_(ct=>ct.filter(en=>en.toastId!==y.id))}},[_,y.id]),I.useLayoutEffect(()=>{if(!H)return;const Ce=jt.current,st=Ce.style.height;Ce.style.height="auto";const ct=Ce.getBoundingClientRect().height;Ce.style.height=st,Jn(ct),_(en=>en.find(vt=>vt.toastId===y.id)?en.map(vt=>vt.toastId===y.id?{...vt,height:ct}:vt):[{toastId:y.id,height:ct,position:y.position},...en])},[H,y.title,y.description,_,y.id]);const br=I.useCallback(()=>{re(!0),Zn(Ur.current),_(Ce=>Ce.filter(st=>st.toastId!==y.id)),setTimeout(()=>{j(y)},BB)},[y,j,_,Ur]);I.useEffect(()=>{if(y.promise&&ln==="loading"||y.duration===1/0||y.type==="loading")return;let Ce;return R||x||tr?(()=>{if(gu.current<cl.current){const en=new Date().getTime()-cl.current;er.current=er.current-en}gu.current=new Date().getTime()})():(()=>{er.current!==1/0&&(cl.current=new Date().getTime(),Ce=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),br()},er.current))})(),()=>clearTimeout(Ce)},[R,x,y,ln,tr,br]),I.useEffect(()=>{y.delete&&br()},[br,y.delete]);function oh(){var Ce;if(le!=null&&le.loading){var st;return I.createElement("div",{className:Tr(L==null?void 0:L.loader,y==null||(st=y.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":ln==="loading"},le.loading)}return I.createElement(xB,{className:Tr(L==null?void 0:L.loader,y==null||(Ce=y.classNames)==null?void 0:Ce.loader),visible:ln==="loading"})}var Rs,Ds;return I.createElement("li",{tabIndex:0,ref:jt,className:Tr(W,kn,L==null?void 0:L.toast,y==null||(e=y.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[ln],y==null||(n=y.classNames)==null?void 0:n[ln]),"data-sonner-toast":"","data-rich-colors":(Rs=y.richColors)!=null?Rs:M,"data-styled":!(y.jsx||y.unstyled||b),"data-mounted":H,"data-promise":!!y.promise,"data-swiped":wt,"data-removed":ae,"data-visible":ll,"data-y-position":Ts,"data-x-position":Zt,"data-index":S,"data-front":ol,"data-swiping":de,"data-dismissible":Ea,"data-type":ln,"data-invert":Jt,"data-swipe-out":we,"data-swipe-direction":K,"data-expanded":!!(R||Z&&H),style:{"--index":S,"--toasts-before":S,"--z-index":T.length-S,"--offset":`${ae?Gt:Ur.current}px`,"--initial-height":Z?"auto":`${wa}px`,...F,...y.style},onDragEnd:()=>{he(!1),P(null),Sa.current=null},onPointerDown:Ce=>{ul||!Ea||(Lr.current=new Date,Zn(Ur.current),Ce.target.setPointerCapture(Ce.pointerId),Ce.target.tagName!=="BUTTON"&&(he(!0),Sa.current={x:Ce.clientX,y:Ce.clientY}))},onPointerUp:()=>{var Ce,st,ct;if(we||!Ea)return;Sa.current=null;const en=Number(((Ce=jt.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),As=Number(((st=jt.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),vt=new Date().getTime()-((ct=Lr.current)==null?void 0:ct.getTime()),Yt=ue==="x"?en:As,xr=Math.abs(Yt)/vt;if(Math.abs(Yt)>=UB||xr>.11){Zn(Ur.current),y.onDismiss==null||y.onDismiss.call(y,y),k(ue==="x"?en>0?"right":"left":As>0?"down":"up"),br(),ve(!0);return}else{var bn,cn;(bn=jt.current)==null||bn.style.setProperty("--swipe-amount-x","0px"),(cn=jt.current)==null||cn.style.setProperty("--swipe-amount-y","0px")}Xt(!1),he(!1),P(null)},onPointerMove:Ce=>{var st,ct,en;if(!Sa.current||!Ea||((st=window.getSelection())==null?void 0:st.toString().length)>0)return;const vt=Ce.clientY-Sa.current.y,Yt=Ce.clientX-Sa.current.x;var xr;const bn=(xr=t.swipeDirections)!=null?xr:zB(ne);!ue&&(Math.abs(Yt)>1||Math.abs(vt)>1)&&P(Math.abs(Yt)>Math.abs(vt)?"x":"y");let cn={x:0,y:0};const dl=_r=>1/(1.5+Math.abs(_r)/20);if(ue==="y"){if(bn.includes("top")||bn.includes("bottom"))if(bn.includes("top")&&vt<0||bn.includes("bottom")&&vt>0)cn.y=vt;else{const _r=vt*dl(vt);cn.y=Math.abs(_r)<Math.abs(vt)?_r:vt}}else if(ue==="x"&&(bn.includes("left")||bn.includes("right")))if(bn.includes("left")&&Yt<0||bn.includes("right")&&Yt>0)cn.x=Yt;else{const _r=Yt*dl(Yt);cn.x=Math.abs(_r)<Math.abs(Yt)?_r:Yt}(Math.abs(cn.x)>0||Math.abs(cn.y)>0)&&Xt(!0),(ct=jt.current)==null||ct.style.setProperty("--swipe-amount-x",`${cn.x}px`),(en=jt.current)==null||en.style.setProperty("--swipe-amount-y",`${cn.y}px`)}},pu&&!y.jsx&&ln!=="loading"?I.createElement("button",{"aria-label":te,"data-disabled":ul,"data-close-button":!0,onClick:ul||!Ea?()=>{}:()=>{br(),y.onDismiss==null||y.onDismiss.call(y,y)},className:Tr(L==null?void 0:L.closeButton,y==null||(a=y.classNames)==null?void 0:a.closeButton)},(Ds=le==null?void 0:le.close)!=null?Ds:NB):null,ln||y.icon||y.promise?I.createElement("div",{"data-icon":"",className:Tr(L==null?void 0:L.icon,y==null||(i=y.classNames)==null?void 0:i.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||oh():null,y.type!=="loading"?y.icon||(le==null?void 0:le[ln])||vB(ln):null):null,I.createElement("div",{"data-content":"",className:Tr(L==null?void 0:L.content,y==null||(l=y.classNames)==null?void 0:l.content)},I.createElement("div",{"data-title":"",className:Tr(L==null?void 0:L.title,y==null||(u=y.classNames)==null?void 0:u.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?I.createElement("div",{"data-description":"",className:Tr(oe,ih,L==null?void 0:L.description,y==null||(f=y.classNames)==null?void 0:f.description)},typeof y.description=="function"?y.description():y.description):null),I.isValidElement(y.cancel)?y.cancel:y.cancel&&Id(y.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||Q,onClick:Ce=>{Id(y.cancel)&&Ea&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,Ce),br())},className:Tr(L==null?void 0:L.cancelButton,y==null||(m=y.classNames)==null?void 0:m.cancelButton)},y.cancel.label):null,I.isValidElement(y.action)?y.action:y.action&&Id(y.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||U,onClick:Ce=>{Id(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,Ce),!Ce.defaultPrevented&&br())},className:Tr(L==null?void 0:L.actionButton,y==null||(p=y.classNames)==null?void 0:p.actionButton)},y.action.label):null)};function aE(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function HB(t,e){const n={};return[t,e].forEach((a,i)=>{const l=i===1,u=l?"--mobile-offset":"--offset",f=l?MB:kB;function m(p){["top","right","bottom","left"].forEach(v=>{n[`${u}-${v}`]=typeof p=="number"?`${p}px`:p})}typeof a=="number"||typeof a=="string"?m(a):typeof a=="object"?["top","right","bottom","left"].forEach(p=>{a[p]===void 0?n[`${u}-${p}`]=f:n[`${u}-${p}`]=typeof a[p]=="number"?`${a[p]}px`:a[p]}):m(f)}),n}const qB=I.forwardRef(function(e,n){const{invert:a,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:f,className:m,offset:p,mobileOffset:v,theme:y="light",richColors:b,duration:x,style:_,visibleToasts:N=OB,toastOptions:C,dir:S=aE(),gap:T=LB,icons:R,containerAriaLabel:j="Notifications"}=e,[M,A]=I.useState([]),F=I.useMemo(()=>Array.from(new Set([i].concat(M.filter(K=>K.position).map(K=>K.position)))),[M,i]),[Q,U]=I.useState([]),[W,oe]=I.useState(!1),[G,ne]=I.useState(!1),[X,Z]=I.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=I.useRef(null),le=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),te=I.useRef(null),ue=I.useRef(!1),P=I.useCallback(K=>{A(k=>{var H;return(H=k.find(V=>V.id===K.id))!=null&&H.delete||hn.dismiss(K.id),k.filter(({id:V})=>V!==K.id)})},[]);return I.useEffect(()=>hn.subscribe(K=>{if(K.dismiss){const k=M.map(H=>H.id===K.id?{...H,delete:!0}:H);requestAnimationFrame(()=>{A(k)});return}setTimeout(()=>{hS.flushSync(()=>{A(k=>{const H=k.findIndex(V=>V.id===K.id);return H!==-1?[...k.slice(0,H),{...k[H],...K},...k.slice(H+1)]:[K,...k]})})})}),[M]),I.useEffect(()=>{if(y!=="system"){Z(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;const K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:k})=>{Z(k?"dark":"light")})}catch{K.addListener(({matches:H})=>{try{Z(H?"dark":"light")}catch(V){console.error(V)}})}},[y]),I.useEffect(()=>{M.length<=1&&oe(!1)},[M]),I.useEffect(()=>{const K=k=>{var H;if(l.every(re=>k[re]||k.code===re)){var ae;oe(!0),(ae=L.current)==null||ae.focus()}k.code==="Escape"&&(document.activeElement===L.current||(H=L.current)!=null&&H.contains(document.activeElement))&&oe(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[l]),I.useEffect(()=>{if(L.current)return()=>{te.current&&(te.current.focus({preventScroll:!0}),te.current=null,ue.current=!1)}},[L.current]),I.createElement("section",{ref:n,"aria-label":`${j} ${le}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((K,k)=>{var H;const[V,ae]=K.split("-");return M.length?I.createElement("ol",{key:K,dir:S==="auto"?aE():S,tabIndex:-1,ref:L,className:m,"data-sonner-toaster":!0,"data-sonner-theme":X,"data-y-position":V,"data-lifted":W&&M.length>1&&!u,"data-x-position":ae,style:{"--front-toast-height":`${((H=Q[0])==null?void 0:H.height)||0}px`,"--width":`${PB}px`,"--gap":`${T}px`,..._,...HB(p,v)},onBlur:re=>{ue.current&&!re.currentTarget.contains(re.relatedTarget)&&(ue.current=!1,te.current&&(te.current.focus({preventScroll:!0}),te.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||ue.current||(ue.current=!0,te.current=re.relatedTarget)},onMouseEnter:()=>oe(!0),onMouseMove:()=>oe(!0),onMouseLeave:()=>{G||oe(!1)},onDragEnd:()=>oe(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||ne(!0)},onPointerUp:()=>ne(!1)},M.filter(re=>!re.position&&k===0||re.position===K).map((re,de)=>{var he,we;return I.createElement(FB,{key:re.id,icons:R,index:de,toast:re,defaultRichColors:b,duration:(he=C==null?void 0:C.duration)!=null?he:x,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:a,visibleToasts:N,closeButton:(we=C==null?void 0:C.closeButton)!=null?we:f,interacting:G,position:K,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:P,toasts:M.filter(ve=>ve.position==re.position),heights:Q.filter(ve=>ve.position==re.position),setHeights:U,expandByDefault:u,gap:T,expanded:W,swipeDirections:e.swipeDirections})})):null}))}),tC="/nrd-sgo/assets/logo-Dugcj0T7.jpg",VB=()=>{const t=It(),e=gr(),[n,a]=w.useState(!1),[i,l]=w.useState({email:"",password:""}),[u,f]=w.useState(document.documentElement.classList.contains("dark")),m=()=>{const y=!u;f(y),y?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")},p=async y=>{var b;y.preventDefault(),a(!0);try{await new vf().login(i.email,i.password),console.log("Login successful");const _=((b=e.state)==null?void 0:b.from)||"/dashboard";t(_,{replace:!0})}catch(x){console.error("Login error:",x),Pe.error("Error al iniciar sesión. Por favor, verifique sus credenciales.")}finally{a(!1)}},v=y=>{const{name:b,value:x}=y.target;l({...i,[b]:x})};return d.jsxs("div",{className:"min-h-screen flex flex-col bg-background relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:d.jsx("div",{className:"absolute -top-[40rem] left-1/2 -z-10 transform -translate-x-1/2",children:d.jsx("div",{className:"aspect-[1200/800] w-[80rem] bg-gradient-to-tr from-primary/20 to-primary-foreground/20 opacity-30 blur-3xl"})})}),d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx(_e,{variant:"ghost",size:"icon",onClick:m,className:"rounded-full",children:u?d.jsx(ng,{className:"h-5 w-5"}):d.jsx(eg,{className:"h-5 w-5"})})}),d.jsx("div",{className:"flex-1 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:d.jsxs(rt,{className:"w-full max-w-[90%] sm:max-w-md backdrop-blur-sm bg-card/80 shadow-xl",children:[d.jsxs(pn,{className:"space-y-4 text-center pb-6",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx("img",{src:tC,alt:"Logo",className:"h-16 w-16 sm:h-20 sm:w-20 rounded-lg shadow-lg object-cover"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(gn,{className:"text-xl sm:text-2xl font-bold tracking-tight",children:"Sistema de Gestión Operativa"}),d.jsx(VS,{className:"text-sm sm:text-base",children:"Inicie sesión para continuar"})]})]}),d.jsx(gt,{children:d.jsxs("form",{onSubmit:p,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:d.jsx(lj,{className:"h-4 w-4 text-muted-foreground"})}),d.jsx(dr,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"pl-10 h-11",placeholder:"usuario@ejemplo.com",value:i.email,onChange:v,disabled:n})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:d.jsx(DI,{className:"h-4 w-4 text-muted-foreground"})}),d.jsx(dr,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"pl-10 h-11",placeholder:"••••••••",value:i.password,onChange:v,disabled:n})]})]}),d.jsx(_e,{type:"submit",className:"w-full h-11 text-base",disabled:n,children:n?d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Iniciando sesión..."]}):d.jsxs(d.Fragment,{children:[d.jsx(II,{className:"h-5 w-5 mr-2"}),"Iniciar sesión"]})})]})})]})}),d.jsx("div",{className:"py-4 text-center",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["© ",new Date().getFullYear()," Sistema de Gestión Operativa. Todos los derechos reservados."]})})]})};class nC{constructor(e){$e(this,"order");$e(this,"type");$e(this,"customerName");$e(this,"workerName");$e(this,"supplierName");$e(this,"products");$e(this,"recipes");$e(this,"format");this.order=e.order,this.type=e.type,this.customerName=e.customerName,this.workerName=e.workerName,this.supplierName=e.supplierName,this.products=e.products,this.recipes=e.recipes,this.format=e.format||"whatsapp"}wrap(e,n=!1){return this.format==="print"?n?`<div style="font-size: 14px;"><b>${e}</b></div>`:`<b>${e}</b>`:e}formatDate(e){try{const n=e instanceof Date?e:new Date(e);return Rt(n,"dd/MM/yyyy",{locale:xs})}catch(n){return console.error("Error formatting date:",n),"Fecha no disponible"}}getHeader(){const e=this.order.id.slice(-4).toUpperCase();let n="";switch(this.type){case"customer":n="PEDIDO";break;case"production":n="PRODUCCIÓN";break;case"purchase":n="COMPRA";break}const a=this.format==="print"?'<div style="border-bottom: 1px solid black; margin: 8px 0;"></div>':"--------------------------------";return this.wrap(`${n} #${e}`,!0)+`
`+this.wrap(`Fecha: ${this.formatDate(this.order.orderDate)}`)+`
`+(this.format==="print"?a:`
${a}`)+`
`}formatItem(e,n,a){const i=e.toString().padStart(2," ");return this.wrap(`${i} ${a.padEnd(4)} ${n}`)}getItems(){var n,a,i,l;const e=[];if(this.type==="customer"){const u=this.order;(n=u.products)!=null&&n.length&&(e.push(this.wrap("PRODUCTOS:")),u.products.forEach(f=>{var y;const m=(y=this.products)==null?void 0:y.find(b=>b.id===f.productId),p=(m==null?void 0:m.name)||"Producto no encontrado",v=(m==null?void 0:m.saleUnit)||"und";e.push(this.formatItem(f.quantity,p,v))})),(a=u.recipes)!=null&&a.length&&(e.length>0&&e.push(""),e.push(this.wrap("RECETAS:")),u.recipes.forEach(f=>{var y;const m=(y=this.recipes)==null?void 0:y.find(b=>b.id===f.recipeId),p=(m==null?void 0:m.name)||"Receta no encontrada",v=(m==null?void 0:m.unit)||"und";e.push(this.formatItem(f.quantity,p,v))}))}else if(this.type==="production"){const u=this.order;(i=u.recipes)!=null&&i.length&&(e.push(this.wrap("RECETAS:")),u.recipes.forEach(f=>{var y;const m=(y=this.recipes)==null?void 0:y.find(b=>b.id===f.recipeId),p=(m==null?void 0:m.name)||"Receta no encontrada",v=(m==null?void 0:m.unit)||"und";e.push(this.formatItem(f.quantity,p,v))}))}else if(this.type==="purchase"){const u=this.order;(l=u.products)!=null&&l.length&&(e.push(this.wrap("PRODUCTOS:")),u.products.forEach(f=>{var y;const m=(y=this.products)==null?void 0:y.find(b=>b.id===f.productId),p=(m==null?void 0:m.name)||"Producto no encontrado",v=(m==null?void 0:m.purchaseUnit)||"und";e.push(this.formatItem(f.quantity,p,v))}))}return e.length>0?`
`+e.join(`
`):""}getTotal(){var a,i,l,u;let e=0,n="und";if(this.type==="customer"){const f=this.order;e=(((a=f.products)==null?void 0:a.reduce((m,p)=>m+p.quantity,0))||0)+(((i=f.recipes)==null?void 0:i.reduce((m,p)=>m+p.quantity,0))||0),n="und"}else this.type==="production"?(e=((l=this.order.recipes)==null?void 0:l.reduce((m,p)=>m+p.quantity,0))||0,n="und"):this.type==="purchase"&&(e=((u=this.order.products)==null?void 0:u.reduce((m,p)=>m+p.quantity,0))||0,n="und");return e>0?`

`+this.wrap(`TOTAL: ${e} ${n}`):""}toString(){return this.getHeader()+this.getItems()+this.getTotal()}}function ht(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function sE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function rC(...t){return e=>{let n=!1;const a=t.map(i=>{const l=sE(i,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<a.length;i++){const l=a[i];typeof l=="function"?l():sE(t[i],null)}}}}function on(...t){return w.useCallback(rC(...t),t)}function $B(t,e){const n=w.createContext(e),a=l=>{const{children:u,...f}=l,m=w.useMemo(()=>f,Object.values(f));return d.jsx(n.Provider,{value:m,children:u})};a.displayName=t+"Provider";function i(l){const u=w.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[a,i]}function tl(t,e=[]){let n=[];function a(l,u){const f=w.createContext(u),m=n.length;n=[...n,u];const p=y=>{var S;const{scope:b,children:x,..._}=y,N=((S=b==null?void 0:b[t])==null?void 0:S[m])||f,C=w.useMemo(()=>_,Object.values(_));return d.jsx(N.Provider,{value:C,children:x})};p.displayName=l+"Provider";function v(y,b){var N;const x=((N=b==null?void 0:b[t])==null?void 0:N[m])||f,_=w.useContext(x);if(_)return _;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${l}\``)}return[p,v]}const i=()=>{const l=n.map(u=>w.createContext(u));return function(f){const m=(f==null?void 0:f[t])||l;return w.useMemo(()=>({[`__scope${t}`]:{...f,[t]:m}}),[f,m])}};return i.scopeName=t,[a,GB(i,...e)]}function GB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const a=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=a.reduce((f,{useScope:m,scopeName:p})=>{const y=m(l)[`__scope${p}`];return{...f,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}var ps=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},YB=NA.useId||(()=>{}),WB=0;function Wn(t){const[e,n]=w.useState(YB());return ps(()=>{n(a=>a??String(WB++))},[t]),e?`radix-${e}`:""}function gs(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var a;return(a=e.current)==null?void 0:a.call(e,...n)},[])}function ou({prop:t,defaultProp:e,onChange:n=()=>{}}){const[a,i]=KB({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:a,f=gs(n),m=w.useCallback(p=>{if(l){const y=typeof p=="function"?p(t):p;y!==t&&f(y)}else i(p)},[l,t,i,f]);return[u,m]}function KB({defaultProp:t,onChange:e}){const n=w.useState(t),[a]=n,i=w.useRef(a),l=gs(e);return w.useEffect(()=>{i.current!==a&&(l(a),i.current=a)},[a,i,l]),n}var Wf=w.forwardRef((t,e)=>{const{children:n,...a}=t,i=w.Children.toArray(n),l=i.find(QB);if(l){const u=l.props.children,f=i.map(m=>m===l?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:m);return d.jsx(Ag,{...a,ref:e,children:w.isValidElement(u)?w.cloneElement(u,void 0,f):null})}return d.jsx(Ag,{...a,ref:e,children:n})});Wf.displayName="Slot";var Ag=w.forwardRef((t,e)=>{const{children:n,...a}=t;if(w.isValidElement(n)){const i=ZB(n),l=XB(a,n.props);return n.type!==w.Fragment&&(l.ref=e?rC(e,i):i),w.cloneElement(n,l)}return w.Children.count(n)>1?w.Children.only(null):null});Ag.displayName="SlotClone";var aC=({children:t})=>d.jsx(d.Fragment,{children:t});function QB(t){return w.isValidElement(t)&&t.type===aC}function XB(t,e){const n={...e};for(const a in e){const i=t[a],l=e[a];/^on[A-Z]/.test(a)?i&&l?n[a]=(...f)=>{l(...f),i(...f)}:i&&(n[a]=i):a==="style"?n[a]={...i,...l}:a==="className"&&(n[a]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function ZB(t){var a,i;let e=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var JB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ge=JB.reduce((t,e)=>{const n=w.forwardRef((a,i)=>{const{asChild:l,...u}=a,f=l?Wf:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(f,{...u,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function e6(t,e){t&&ry.flushSync(()=>t.dispatchEvent(e))}function t6(t,e=globalThis==null?void 0:globalThis.document){const n=gs(t);w.useEffect(()=>{const a=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",a,{capture:!0}),()=>e.removeEventListener("keydown",a,{capture:!0})},[n,e])}var n6="DismissableLayer",Ig="dismissableLayer.update",r6="dismissableLayer.pointerDownOutside",a6="dismissableLayer.focusOutside",iE,sC=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kf=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...m}=t,p=w.useContext(sC),[v,y]=w.useState(null),b=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=w.useState({}),_=on(e,F=>y(F)),N=Array.from(p.layers),[C]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),S=N.indexOf(C),T=v?N.indexOf(v):-1,R=p.layersWithOutsidePointerEventsDisabled.size>0,j=T>=S,M=o6(F=>{const Q=F.target,U=[...p.branches].some(W=>W.contains(Q));!j||U||(i==null||i(F),u==null||u(F),F.defaultPrevented||f==null||f())},b),A=l6(F=>{const Q=F.target;[...p.branches].some(W=>W.contains(Q))||(l==null||l(F),u==null||u(F),F.defaultPrevented||f==null||f())},b);return t6(F=>{T===p.layers.size-1&&(a==null||a(F),!F.defaultPrevented&&f&&(F.preventDefault(),f()))},b),w.useEffect(()=>{if(v)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(iE=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),oE(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=iE)}},[v,b,n,p]),w.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),oE())},[v,p]),w.useEffect(()=>{const F=()=>x({});return document.addEventListener(Ig,F),()=>document.removeEventListener(Ig,F)},[]),d.jsx(Ge.div,{...m,ref:_,style:{pointerEvents:R?j?"auto":"none":void 0,...t.style},onFocusCapture:ht(t.onFocusCapture,A.onFocusCapture),onBlurCapture:ht(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:ht(t.onPointerDownCapture,M.onPointerDownCapture)})});Kf.displayName=n6;var s6="DismissableLayerBranch",i6=w.forwardRef((t,e)=>{const n=w.useContext(sC),a=w.useRef(null),i=on(e,a);return w.useEffect(()=>{const l=a.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),d.jsx(Ge.div,{...t,ref:i})});i6.displayName=s6;function o6(t,e=globalThis==null?void 0:globalThis.document){const n=gs(t),a=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const l=f=>{if(f.target&&!a.current){let m=function(){iC(r6,n,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=m,e.addEventListener("click",i.current,{once:!0})):m()}else e.removeEventListener("click",i.current);a.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>a.current=!0}}function l6(t,e=globalThis==null?void 0:globalThis.document){const n=gs(t),a=w.useRef(!1);return w.useEffect(()=>{const i=l=>{l.target&&!a.current&&iC(a6,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function oE(){const t=new CustomEvent(Ig);document.dispatchEvent(t)}function iC(t,e,n,{discrete:a}){const i=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),a?e6(i,l):i.dispatchEvent(l)}var Lp="focusScope.autoFocusOnMount",Up="focusScope.autoFocusOnUnmount",lE={bubbles:!1,cancelable:!0},c6="FocusScope",iv=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=t,[f,m]=w.useState(null),p=gs(i),v=gs(l),y=w.useRef(null),b=on(e,N=>m(N)),x=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(a){let N=function(R){if(x.paused||!f)return;const j=R.target;f.contains(j)?y.current=j:Qa(y.current,{select:!0})},C=function(R){if(x.paused||!f)return;const j=R.relatedTarget;j!==null&&(f.contains(j)||Qa(y.current,{select:!0}))},S=function(R){if(document.activeElement===document.body)for(const M of R)M.removedNodes.length>0&&Qa(f)};document.addEventListener("focusin",N),document.addEventListener("focusout",C);const T=new MutationObserver(S);return f&&T.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",C),T.disconnect()}}},[a,f,x.paused]),w.useEffect(()=>{if(f){uE.add(x);const N=document.activeElement;if(!f.contains(N)){const S=new CustomEvent(Lp,lE);f.addEventListener(Lp,p),f.dispatchEvent(S),S.defaultPrevented||(u6(p6(oC(f)),{select:!0}),document.activeElement===N&&Qa(f))}return()=>{f.removeEventListener(Lp,p),setTimeout(()=>{const S=new CustomEvent(Up,lE);f.addEventListener(Up,v),f.dispatchEvent(S),S.defaultPrevented||Qa(N??document.body,{select:!0}),f.removeEventListener(Up,v),uE.remove(x)},0)}}},[f,p,v,x]);const _=w.useCallback(N=>{if(!n&&!a||x.paused)return;const C=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,S=document.activeElement;if(C&&S){const T=N.currentTarget,[R,j]=d6(T);R&&j?!N.shiftKey&&S===j?(N.preventDefault(),n&&Qa(R,{select:!0})):N.shiftKey&&S===R&&(N.preventDefault(),n&&Qa(j,{select:!0})):S===T&&N.preventDefault()}},[n,a,x.paused]);return d.jsx(Ge.div,{tabIndex:-1,...u,ref:b,onKeyDown:_})});iv.displayName=c6;function u6(t,{select:e=!1}={}){const n=document.activeElement;for(const a of t)if(Qa(a,{select:e}),document.activeElement!==n)return}function d6(t){const e=oC(t),n=cE(e,t),a=cE(e.reverse(),t);return[n,a]}function oC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function cE(t,e){for(const n of t)if(!f6(n,{upTo:e}))return n}function f6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function h6(t){return t instanceof HTMLInputElement&&"select"in t}function Qa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&h6(t)&&e&&t.select()}}var uE=m6();function m6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=dE(t,e),t.unshift(e)},remove(e){var n;t=dE(t,e),(n=t[0])==null||n.resume()}}}function dE(t,e){const n=[...t],a=n.indexOf(e);return a!==-1&&n.splice(a,1),n}function p6(t){return t.filter(e=>e.tagName!=="A")}var g6="Portal",ov=w.forwardRef((t,e)=>{var f;const{container:n,...a}=t,[i,l]=w.useState(!1);ps(()=>l(!0),[]);const u=n||i&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return u?hS.createPortal(d.jsx(Ge.div,{...a,ref:e}),u):null});ov.displayName=g6;function y6(t,e){return w.useReducer((n,a)=>e[n][a]??n,t)}var xa=t=>{const{present:e,children:n}=t,a=v6(e),i=typeof n=="function"?n({present:a.isPresent}):w.Children.only(n),l=on(a.ref,b6(i));return typeof n=="function"||a.isPresent?w.cloneElement(i,{ref:l}):null};xa.displayName="Presence";function v6(t){const[e,n]=w.useState(),a=w.useRef({}),i=w.useRef(t),l=w.useRef("none"),u=t?"mounted":"unmounted",[f,m]=y6(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const p=jd(a.current);l.current=f==="mounted"?p:"none"},[f]),ps(()=>{const p=a.current,v=i.current;if(v!==t){const b=l.current,x=jd(p);t?m("MOUNT"):x==="none"||(p==null?void 0:p.display)==="none"?m("UNMOUNT"):m(v&&b!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,m]),ps(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,y=x=>{const N=jd(a.current).includes(x.animationName);if(x.target===e&&N&&(m("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},b=x=>{x.target===e&&(l.current=jd(a.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:w.useCallback(p=>{p&&(a.current=getComputedStyle(p)),n(p)},[])}}function jd(t){return(t==null?void 0:t.animationName)||"none"}function b6(t){var a,i;let e=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Bp=0;function lC(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??fE()),document.body.insertAdjacentElement("beforeend",t[1]??fE()),Bp++,()=>{Bp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Bp--}},[])}function fE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var $d="right-scroll-bar-position",Gd="width-before-scroll-bar",x6="with-scroll-bars-hidden",_6="--removed-body-scroll-bar-size";function zp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function w6(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(a){var i=n.value;i!==a&&(n.value=a,n.callback(a,i))}}}})[0];return n.callback=e,n.facade}var E6=typeof window<"u"?w.useLayoutEffect:w.useEffect,hE=new WeakMap;function S6(t,e){var n=w6(null,function(a){return t.forEach(function(i){return zp(i,a)})});return E6(function(){var a=hE.get(n);if(a){var i=new Set(a),l=new Set(t),u=n.current;i.forEach(function(f){l.has(f)||zp(f,null)}),l.forEach(function(f){i.has(f)||zp(f,u)})}hE.set(n,t)},[t]),n}function N6(t){return t}function C6(t,e){e===void 0&&(e=N6);var n=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var u=e(l,a);return n.push(u),function(){n=n.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(a=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){a=!0;var u=[];if(n.length){var f=n;n=[],f.forEach(l),u=n}var m=function(){var v=u;u=[],v.forEach(l)},p=function(){return Promise.resolve().then(m)};p(),n={push:function(v){u.push(v),p()},filter:function(v){return u=u.filter(v),n}}}};return i}function T6(t){t===void 0&&(t={});var e=C6(null);return e.options=Ar({async:!0,ssr:!1},t),e}var cC=function(t){var e=t.sideCar,n=Qc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=e.read();if(!a)throw new Error("Sidecar medium not found");return w.createElement(a,Ar({},n))};cC.isSideCarExport=!0;function R6(t,e){return t.useMedium(e),cC}var uC=T6(),Fp=function(){},Qf=w.forwardRef(function(t,e){var n=w.useRef(null),a=w.useState({onScrollCapture:Fp,onWheelCapture:Fp,onTouchMoveCapture:Fp}),i=a[0],l=a[1],u=t.forwardProps,f=t.children,m=t.className,p=t.removeScrollBar,v=t.enabled,y=t.shards,b=t.sideCar,x=t.noIsolation,_=t.inert,N=t.allowPinchZoom,C=t.as,S=C===void 0?"div":C,T=t.gapMode,R=Qc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=b,M=S6([n,e]),A=Ar(Ar({},R),i);return w.createElement(w.Fragment,null,v&&w.createElement(j,{sideCar:uC,removeScrollBar:p,shards:y,noIsolation:x,inert:_,setCallbacks:l,allowPinchZoom:!!N,lockRef:n,gapMode:T}),u?w.cloneElement(w.Children.only(f),Ar(Ar({},A),{ref:M})):w.createElement(S,Ar({},A,{className:m,ref:M}),f))});Qf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qf.classNames={fullWidth:Gd,zeroRight:$d};var D6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function A6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=D6();return e&&t.setAttribute("nonce",e),t}function I6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function j6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var O6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=A6())&&(I6(e,n),j6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},k6=function(){var t=O6();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},dC=function(){var t=k6(),e=function(n){var a=n.styles,i=n.dynamic;return t(a,i),null};return e},M6={left:0,top:0,right:0,gap:0},Hp=function(t){return parseInt(t||"",10)||0},P6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],a=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Hp(n),Hp(a),Hp(i)]},L6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return M6;var e=P6(t),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,a-n+e[2]-e[0])}},U6=dC(),Co="data-scroll-locked",B6=function(t,e,n,a){var i=t.left,l=t.top,u=t.right,f=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(x6,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(Co,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($d,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Gd,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat($d," .").concat($d,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Gd," .").concat(Gd,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Co,`] {
    `).concat(_6,": ").concat(f,`px;
  }
`)},mE=function(){var t=parseInt(document.body.getAttribute(Co)||"0",10);return isFinite(t)?t:0},z6=function(){w.useEffect(function(){return document.body.setAttribute(Co,(mE()+1).toString()),function(){var t=mE()-1;t<=0?document.body.removeAttribute(Co):document.body.setAttribute(Co,t.toString())}},[])},F6=function(t){var e=t.noRelative,n=t.noImportant,a=t.gapMode,i=a===void 0?"margin":a;z6();var l=w.useMemo(function(){return L6(i)},[i]);return w.createElement(U6,{styles:B6(l,!e,i,n?"":"!important")})},jg=!1;if(typeof window<"u")try{var Od=Object.defineProperty({},"passive",{get:function(){return jg=!0,!0}});window.addEventListener("test",Od,Od),window.removeEventListener("test",Od,Od)}catch{jg=!1}var ho=jg?{passive:!1}:!1,H6=function(t){return t.tagName==="TEXTAREA"},fC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!H6(t)&&n[e]==="visible")},q6=function(t){return fC(t,"overflowY")},V6=function(t){return fC(t,"overflowX")},pE=function(t,e){var n=e.ownerDocument,a=e;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=hC(t,a);if(i){var l=mC(t,a),u=l[1],f=l[2];if(u>f)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},$6=function(t){var e=t.scrollTop,n=t.scrollHeight,a=t.clientHeight;return[e,n,a]},G6=function(t){var e=t.scrollLeft,n=t.scrollWidth,a=t.clientWidth;return[e,n,a]},hC=function(t,e){return t==="v"?q6(e):V6(e)},mC=function(t,e){return t==="v"?$6(e):G6(e)},Y6=function(t,e){return t==="h"&&e==="rtl"?-1:1},W6=function(t,e,n,a,i){var l=Y6(t,window.getComputedStyle(e).direction),u=l*a,f=n.target,m=e.contains(f),p=!1,v=u>0,y=0,b=0;do{var x=mC(t,f),_=x[0],N=x[1],C=x[2],S=N-C-l*_;(_||S)&&hC(t,f)&&(y+=S,b+=_),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!m&&f!==document.body||m&&(e.contains(f)||e===f));return(v&&Math.abs(y)<1||!v&&Math.abs(b)<1)&&(p=!0),p},kd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},gE=function(t){return[t.deltaX,t.deltaY]},yE=function(t){return t&&"current"in t?t.current:t},K6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Q6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},X6=0,mo=[];function Z6(t){var e=w.useRef([]),n=w.useRef([0,0]),a=w.useRef(),i=w.useState(X6++)[0],l=w.useState(dC)[0],u=w.useRef(t);w.useEffect(function(){u.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var N=OP([t.lockRef.current],(t.shards||[]).map(yE),!0).filter(Boolean);return N.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),N.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var f=w.useCallback(function(N,C){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!u.current.allowPinchZoom;var S=kd(N),T=n.current,R="deltaX"in N?N.deltaX:T[0]-S[0],j="deltaY"in N?N.deltaY:T[1]-S[1],M,A=N.target,F=Math.abs(R)>Math.abs(j)?"h":"v";if("touches"in N&&F==="h"&&A.type==="range")return!1;var Q=pE(F,A);if(!Q)return!0;if(Q?M=F:(M=F==="v"?"h":"v",Q=pE(F,A)),!Q)return!1;if(!a.current&&"changedTouches"in N&&(R||j)&&(a.current=M),!M)return!0;var U=a.current||M;return W6(U,C,N,U==="h"?R:j)},[]),m=w.useCallback(function(N){var C=N;if(!(!mo.length||mo[mo.length-1]!==l)){var S="deltaY"in C?gE(C):kd(C),T=e.current.filter(function(M){return M.name===C.type&&(M.target===C.target||C.target===M.shadowParent)&&K6(M.delta,S)})[0];if(T&&T.should){C.cancelable&&C.preventDefault();return}if(!T){var R=(u.current.shards||[]).map(yE).filter(Boolean).filter(function(M){return M.contains(C.target)}),j=R.length>0?f(C,R[0]):!u.current.noIsolation;j&&C.cancelable&&C.preventDefault()}}},[]),p=w.useCallback(function(N,C,S,T){var R={name:N,delta:C,target:S,should:T,shadowParent:J6(S)};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(j){return j!==R})},1)},[]),v=w.useCallback(function(N){n.current=kd(N),a.current=void 0},[]),y=w.useCallback(function(N){p(N.type,gE(N),N.target,f(N,t.lockRef.current))},[]),b=w.useCallback(function(N){p(N.type,kd(N),N.target,f(N,t.lockRef.current))},[]);w.useEffect(function(){return mo.push(l),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:b}),document.addEventListener("wheel",m,ho),document.addEventListener("touchmove",m,ho),document.addEventListener("touchstart",v,ho),function(){mo=mo.filter(function(N){return N!==l}),document.removeEventListener("wheel",m,ho),document.removeEventListener("touchmove",m,ho),document.removeEventListener("touchstart",v,ho)}},[]);var x=t.removeScrollBar,_=t.inert;return w.createElement(w.Fragment,null,_?w.createElement(l,{styles:Q6(i)}):null,x?w.createElement(F6,{gapMode:t.gapMode}):null)}function J6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const e8=R6(uC,Z6);var lv=w.forwardRef(function(t,e){return w.createElement(Qf,Ar({},t,{ref:e,sideCar:e8}))});lv.classNames=Qf.classNames;var t8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},po=new WeakMap,Md=new WeakMap,Pd={},qp=0,pC=function(t){return t&&(t.host||pC(t.parentNode))},n8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var a=pC(n);return a&&t.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},r8=function(t,e,n,a){var i=n8(e,Array.isArray(t)?t:[t]);Pd[n]||(Pd[n]=new WeakMap);var l=Pd[n],u=[],f=new Set,m=new Set(i),p=function(y){!y||f.has(y)||(f.add(y),p(y.parentNode))};i.forEach(p);var v=function(y){!y||m.has(y)||Array.prototype.forEach.call(y.children,function(b){if(f.has(b))v(b);else try{var x=b.getAttribute(a),_=x!==null&&x!=="false",N=(po.get(b)||0)+1,C=(l.get(b)||0)+1;po.set(b,N),l.set(b,C),u.push(b),N===1&&_&&Md.set(b,!0),C===1&&b.setAttribute(n,"true"),_||b.setAttribute(a,"true")}catch(S){console.error("aria-hidden: cannot operate on ",b,S)}})};return v(e),f.clear(),qp++,function(){u.forEach(function(y){var b=po.get(y)-1,x=l.get(y)-1;po.set(y,b),l.set(y,x),b||(Md.has(y)||y.removeAttribute(a),Md.delete(y)),x||y.removeAttribute(n)}),qp--,qp||(po=new WeakMap,po=new WeakMap,Md=new WeakMap,Pd={})}},gC=function(t,e,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),i=t8(t);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live]"))),r8(a,i,n,"aria-hidden")):function(){return null}},cv="Dialog",[yC,c7]=tl(cv),[a8,yr]=yC(cv),vC=t=>{const{__scopeDialog:e,children:n,open:a,defaultOpen:i,onOpenChange:l,modal:u=!0}=t,f=w.useRef(null),m=w.useRef(null),[p=!1,v]=ou({prop:a,defaultProp:i,onChange:l});return d.jsx(a8,{scope:e,triggerRef:f,contentRef:m,contentId:Wn(),titleId:Wn(),descriptionId:Wn(),open:p,onOpenChange:v,onOpenToggle:w.useCallback(()=>v(y=>!y),[v]),modal:u,children:n})};vC.displayName=cv;var bC="DialogTrigger",xC=w.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=yr(bC,n),l=on(e,i.triggerRef);return d.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":fv(i.open),...a,ref:l,onClick:ht(t.onClick,i.onOpenToggle)})});xC.displayName=bC;var uv="DialogPortal",[s8,_C]=yC(uv,{forceMount:void 0}),wC=t=>{const{__scopeDialog:e,forceMount:n,children:a,container:i}=t,l=yr(uv,e);return d.jsx(s8,{scope:e,forceMount:n,children:w.Children.map(a,u=>d.jsx(xa,{present:n||l.open,children:d.jsx(ov,{asChild:!0,container:i,children:u})}))})};wC.displayName=uv;var bf="DialogOverlay",EC=w.forwardRef((t,e)=>{const n=_C(bf,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,l=yr(bf,t.__scopeDialog);return l.modal?d.jsx(xa,{present:a||l.open,children:d.jsx(i8,{...i,ref:e})}):null});EC.displayName=bf;var i8=w.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=yr(bf,n);return d.jsx(lv,{as:Wf,allowPinchZoom:!0,shards:[i.contentRef],children:d.jsx(Ge.div,{"data-state":fv(i.open),...a,ref:e,style:{pointerEvents:"auto",...a.style}})})}),vi="DialogContent",SC=w.forwardRef((t,e)=>{const n=_C(vi,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,l=yr(vi,t.__scopeDialog);return d.jsx(xa,{present:a||l.open,children:l.modal?d.jsx(o8,{...i,ref:e}):d.jsx(l8,{...i,ref:e})})});SC.displayName=vi;var o8=w.forwardRef((t,e)=>{const n=yr(vi,t.__scopeDialog),a=w.useRef(null),i=on(e,n.contentRef,a);return w.useEffect(()=>{const l=a.current;if(l)return gC(l)},[]),d.jsx(NC,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ht(t.onCloseAutoFocus,l=>{var u;l.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:ht(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&l.preventDefault()}),onFocusOutside:ht(t.onFocusOutside,l=>l.preventDefault())})}),l8=w.forwardRef((t,e)=>{const n=yr(vi,t.__scopeDialog),a=w.useRef(!1),i=w.useRef(!1);return d.jsx(NC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,f;(u=t.onCloseAutoFocus)==null||u.call(t,l),l.defaultPrevented||(a.current||(f=n.triggerRef.current)==null||f.focus(),l.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:l=>{var m,p;(m=t.onInteractOutside)==null||m.call(t,l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;((p=n.triggerRef.current)==null?void 0:p.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),NC=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=t,f=yr(vi,n),m=w.useRef(null),p=on(e,m);return lC(),d.jsxs(d.Fragment,{children:[d.jsx(iv,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:l,children:d.jsx(Kf,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":fv(f.open),...u,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(c8,{titleId:f.titleId}),d.jsx(d8,{contentRef:m,descriptionId:f.descriptionId})]})]})}),dv="DialogTitle",CC=w.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=yr(dv,n);return d.jsx(Ge.h2,{id:i.titleId,...a,ref:e})});CC.displayName=dv;var TC="DialogDescription",RC=w.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=yr(TC,n);return d.jsx(Ge.p,{id:i.descriptionId,...a,ref:e})});RC.displayName=TC;var DC="DialogClose",AC=w.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=yr(DC,n);return d.jsx(Ge.button,{type:"button",...a,ref:e,onClick:ht(t.onClick,()=>i.onOpenChange(!1))})});AC.displayName=DC;function fv(t){return t?"open":"closed"}var IC="DialogTitleWarning",[u7,jC]=$B(IC,{contentName:vi,titleName:dv,docsSlug:"dialog"}),c8=({titleId:t})=>{const e=jC(IC),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},u8="DialogDescriptionWarning",d8=({contentRef:t,descriptionId:e})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jC(u8).contentName}}.`;return w.useEffect(()=>{var l;const i=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(a))},[a,t,e]),null},OC=vC,f8=xC,kC=wC,hv=EC,mv=SC,MC=CC,PC=RC,h8=AC;const lu=OC,pv=f8,m8=kC,LC=w.forwardRef(({className:t,...e},n)=>d.jsx(hv,{ref:n,className:Re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));LC.displayName=hv.displayName;const nl=w.forwardRef(({className:t,children:e,...n},a)=>d.jsxs(m8,{children:[d.jsx(LC,{}),d.jsxs(mv,{ref:a,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(h8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(NS,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nl.displayName=mv.displayName;const rl=({className:t,...e})=>d.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});rl.displayName="DialogHeader";const UC=({className:t,...e})=>d.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});UC.displayName="DialogFooter";const al=w.forwardRef(({className:t,...e},n)=>d.jsx(MC,{ref:n,className:Re("text-lg font-semibold leading-none tracking-tight",t),...e}));al.displayName=MC.displayName;const BC=w.forwardRef(({className:t,...e},n)=>d.jsx(PC,{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));BC.displayName=PC.displayName;function zC({open:t,onOpenChange:e,title:n,description:a,onConfirm:i,onCancel:l,confirmText:u="Confirmar",cancelText:f="Cancelar",variant:m="default"}){const p=()=>{e(!1),l==null||l()},v=()=>{i(),e(!1)};return d.jsx(lu,{open:t,onOpenChange:e,children:d.jsxs(nl,{children:[d.jsxs(rl,{children:[d.jsx(al,{children:n}),d.jsx(BC,{children:a})]}),d.jsxs(UC,{children:[d.jsx(_e,{variant:"outline",onClick:p,children:f}),d.jsx(_e,{variant:m,onClick:v,children:u})]})]})})}const p8=({config:t})=>{const e=n=>{switch(n){case"success":return"bg-green-100 text-green-700";case"warning":return"bg-orange-100 text-orange-700";case"danger":return"bg-red-100 text-red-700";case"info":return"bg-blue-100 text-blue-700";case"primary":return"bg-primary/20 text-primary";case"secondary":return"bg-secondary/20 text-secondary";default:return"bg-gray-100 text-gray-700"}};return d.jsx("span",{className:Re("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",e(t.color)),children:t.label})};function Dn({columns:t,title:e,addPath:n,backPath:a,service:i,type:l,products:u,recipes:f,customerName:m,workerName:p,supplierName:v}){const[y,b]=I.useState([]),[x,_]=I.useState([]),[N,C]=I.useState(!0),[S,T]=I.useState(""),[R,j]=I.useState(!1),[M,A]=I.useState(null),F=I.useCallback(async()=>{try{const G=await i.findAll();b(G),_(G)}catch(G){console.error("Error al cargar los datos:",G),Pe.error("Error al cargar los datos")}finally{C(!1)}},[i]);I.useEffect(()=>{F()},[F]),I.useEffect(()=>{if(S.trim()===""){_(y);return}const G=t.filter(X=>X.searchable!==!1),ne=y.filter(X=>G.some(Z=>{var le;const L=Z.render?(le=Z.render(X))==null?void 0:le.toString():String(X[Z.accessor]??"");return L==null?void 0:L.toLowerCase().includes(S.toLowerCase())}));_(ne)},[S,y,t]);const Q=async G=>{try{await i.delete(G),Pe.success("Registro eliminado exitosamente"),F()}catch(ne){console.error("Error al eliminar el registro:",ne),Pe.error("Error al eliminar el registro")}},U=G=>{A(G),j(!0)},W=G=>{if(!l||!("orderDate"in G&&"status"in G&&("customerId"in G||"responsibleWorkerId"in G||"supplierId"in G)))return;const X=G,Z=new nC({order:X,type:l,customerName:l==="customer"&&m?m[X.customerId]:void 0,workerName:l==="production"&&p?p[X.responsibleWorkerId]:void 0,supplierName:l==="purchase"&&v?v[X.supplierId]:void 0,products:u,recipes:f,format:"print"}).toString(),L=window.open("","_blank");if(!L){Pe.error("No se pudo abrir la ventana de impresión");return}L.document.write(`
      <html>
        <head>
          <style>
            @page {
              size: 80mm auto;
              margin: 0;
            }
            body {
              font-family: monospace;
              font-size: 12px;
              padding: 10px;
              white-space: pre-wrap;
              width: 80mm;
              text-align: left;
            }
            div {
              text-align: left;
              margin: 0;
              padding: 0;
            }
          </style>
        </head>
        <body>
          ${Z.replace(/\n/g,"<br>")}
        </body>
      </html>
    `),L.document.close(),L.print()},oe=(G,ne)=>{if(ne.render)return ne.render(G);const X=G[ne.accessor];if(ne.type==="date")return qS(X);if(ne.type==="tag"&&ne.tags){const Z=ne.tags.find(L=>L.value===X);if(Z)return d.jsx(p8,{config:Z})}return String(X??"")};return N?d.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsxs("div",{className:"min-h-[80vh] flex flex-col gap-6",children:[d.jsx(zC,{open:R,onOpenChange:j,title:"Confirmar eliminación",description:"¿Está seguro de que desea eliminar este registro? Esta acción no se puede deshacer.",onConfirm:()=>M&&Q(M),confirmText:"Eliminar",variant:"destructive"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:e}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Lista de ",e.toLowerCase()]})]}),d.jsx(oa,{to:n,children:d.jsxs(_e,{className:"flex items-center gap-2",children:[d.jsx(ns,{className:"h-4 w-4"}),"Nuevo"]})})]}),d.jsxs(rt,{children:[d.jsx("div",{className:"p-4",children:d.jsxs("div",{className:"relative",children:[d.jsx(dr,{type:"text",placeholder:"Buscar...",value:S,onChange:G=>T(G.target.value),className:"w-full pl-9"}),d.jsx(ES,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"})]})}),d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsxs("table",{className:"w-full caption-bottom text-sm",children:[d.jsx("thead",{className:"[&_tr]:border-b",children:d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[t.map((G,ne)=>d.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:G.header},ne)),d.jsx("th",{className:"h-12 px-4 text-right align-middle font-medium text-muted-foreground",children:"Acciones"})]})}),d.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:x.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:t.length+1,className:"p-4 text-center text-muted-foreground",children:S.trim()!==""?`No se encontraron ${e.toLowerCase()} que coincidan con la búsqueda`:`No hay ${e.toLowerCase()} registrados`})}):x.map(G=>d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[t.map((ne,X)=>d.jsx("td",{className:"p-4 align-middle",children:oe(G,ne)},X)),d.jsx("td",{className:"p-4 align-middle text-right",children:d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(oa,{to:`${a||""}/${G.id}`,children:d.jsx(_e,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Ver detalles",children:d.jsx(xS,{className:"h-4 w-4"})})}),d.jsx(oa,{to:`${a||""}/${G.id}/edit`,children:d.jsx(_e,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Editar",children:d.jsx(Df,{className:"h-4 w-4"})})}),l&&d.jsx(_e,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>W(G),title:"Imprimir",children:d.jsx(HI,{className:"h-4 w-4"})}),d.jsx(_e,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:text-destructive",onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),U(G.id.toString())},title:"Eliminar",children:d.jsx(Af,{className:"h-4 w-4"})})]})})]},G.id))})]})})]})]})}var Mo=(t=>(t.ACTIVE="active",t.INACTIVE="inactive",t))(Mo||{});class An{constructor(e,n){$e(this,"dbRef");this.db=e,this.dbRef=n}validateModelData(e){if(!this.modelProperties)throw new Error("Model properties must be defined in the repository implementation");const n=Object.keys(e).filter(a=>!this.modelProperties.includes(a)&&a!=="id"&&a!=="createdAt"&&a!=="updatedAt");if(n.length>0)throw new Error(`Invalid properties found: ${n.join(", ")}`);for(const[a,i]of Object.entries(e))if(i!=null&&a.toLowerCase().includes("date")&&!(i instanceof Date)&&!this.isValidDateString(i))throw new Error(`Invalid date format for property: ${a}`)}isValidDateString(e){const n=new Date(e);return n instanceof Date&&!isNaN(n.getTime())}mapDocumentToEntity(e,n){const a={...e};return a.createdAt&&(a.createdAt=new Date(a.createdAt)),a.updatedAt&&(a.updatedAt=new Date(a.updatedAt)),{id:n,...a}}getRef(e){return yc(this.db,e?`${this.dbRef}/${e}`:this.dbRef)}async getSnapshot(e){return await bo(this.getRef(e))}async setData(e,n){await Tg(this.getRef(e),n)}async updateData(e,n){await eB(this.getRef(e),n)}async removeData(e){await JU(this.getRef(e))}async pushData(e){const n=ZU(this.getRef());return await Tg(n,e),n}async queryData(e,n){const a=bc(this.getRef(),vc(e),JN(n));return await bo(a)}async findAll(){const e=await this.getSnapshot();if(!e.exists())return[];const n=e.val();return Object.entries(n).map(([a,i])=>this.mapDocumentToEntity(i,a))}async findById(e){const n=await this.getSnapshot(e);return n.exists()?this.mapDocumentToEntity(n.val(),e):null}async create(e){try{this.validateModelData(e);const n=new Date,a={...e,createdAt:n.toISOString(),updatedAt:n.toISOString()},i=await this.pushData(a);return this.mapDocumentToEntity(a,i.key)}catch(n){throw new Error(`Error creating entity: ${n instanceof Error?n.message:"Unknown error"}`)}}async update(e,n){try{this.validateModelData(n);const a={...n,updatedAt:new Date().toISOString()};await this.updateData(e,a)}catch(a){throw new Error(`Error updating entity: ${a instanceof Error?a.message:"Unknown error"}`)}}async delete(e){try{await this.removeData(e)}catch(n){throw new Error(`Error deleting entity: ${n instanceof Error?n.message:"Unknown error"}`)}}async findByField(e,n){try{const a=await this.queryData(e,n);if(!a.exists())return[];const i=a.val();return Object.entries(i).map(([l,u])=>this.mapDocumentToEntity(u,l))}catch(a){throw new Error(`Error finding by field: ${a instanceof Error?a.message:"Unknown error"}`)}}}class g8 extends An{constructor(n){super(n,"customers");$e(this,"modelProperties",["name","phone","email","address","status"])}async findByName(n){return this.findByField("name",n)}async findByEmail(n){return this.findByField("email",n)}async findByPhone(n){return this.findByField("phone",n)}async findByStatus(n){return this.findByField("status",n)}}class In{constructor(e){$e(this,"repository");this.repository=new e(gB)}async findAll(){return this.repository.findAll()}async findById(e){return this.repository.findById(e)}async create(e){return this.repository.create(e)}async update(e,n){await this.repository.update(e,n);const a=await this.findById(e);if(!a)throw new Error("Entity not found after update");return a}async delete(e){await this.repository.delete(e)}}class _a extends In{constructor(){super(g8)}async findByName(e){return this.repository.findByName(e)}async findByEmail(e){return this.repository.findByEmail(e)}async findByPhone(e){return this.repository.findByPhone(e)}async findByStatus(e){return(await this.repository.findAll()).filter(a=>a.status===e)}}function y8(){const t=new _a,e=[{header:"Nombre",accessor:"name"},{header:"Teléfono",accessor:"phone",render:n=>n.phone||"-"},{header:"Estado",accessor:"status",type:"tag",tags:[{value:Mo.ACTIVE,label:"Activo",color:"success"},{value:Mo.INACTIVE,label:"Inactivo",color:"secondary"}]}];return d.jsx(Dn,{columns:e,title:"Clientes",addPath:"/customers/new",backPath:"/customers",service:t})}const Kn=w.forwardRef(({className:t,...e},n)=>d.jsx("label",{ref:n,className:Re("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));Kn.displayName="Label";var vE=1,v8=.9,b8=.8,x8=.17,Vp=.1,$p=.999,_8=.9999,w8=.99,E8=/[\\\/_+.#"@\[\(\{&]/,S8=/[\\\/_+.#"@\[\(\{&]/g,N8=/[\s-]/,FC=/[\s-]/g;function Og(t,e,n,a,i,l,u){if(l===e.length)return i===t.length?vE:w8;var f=`${i},${l}`;if(u[f]!==void 0)return u[f];for(var m=a.charAt(l),p=n.indexOf(m,i),v=0,y,b,x,_;p>=0;)y=Og(t,e,n,a,p+1,l+1,u),y>v&&(p===i?y*=vE:E8.test(t.charAt(p-1))?(y*=b8,x=t.slice(i,p-1).match(S8),x&&i>0&&(y*=Math.pow($p,x.length))):N8.test(t.charAt(p-1))?(y*=v8,_=t.slice(i,p-1).match(FC),_&&i>0&&(y*=Math.pow($p,_.length))):(y*=x8,i>0&&(y*=Math.pow($p,p-i))),t.charAt(p)!==e.charAt(l)&&(y*=_8)),(y<Vp&&n.charAt(p-1)===a.charAt(l+1)||a.charAt(l+1)===a.charAt(l)&&n.charAt(p-1)!==a.charAt(l))&&(b=Og(t,e,n,a,p+1,l+2,u),b*Vp>y&&(y=b*Vp)),y>v&&(v=y),p=n.indexOf(m,p+1);return u[f]=v,v}function bE(t){return t.toLowerCase().replace(FC," ")}function C8(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,Og(t,e,bE(t),bE(e),0,0,{})}var Gp={exports:{}},Yp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function T8(){if(xE)return Yp;xE=1;var t=Cf();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var n=typeof Object.is=="function"?Object.is:e,a=t.useState,i=t.useEffect,l=t.useLayoutEffect,u=t.useDebugValue;function f(y,b){var x=b(),_=a({inst:{value:x,getSnapshot:b}}),N=_[0].inst,C=_[1];return l(function(){N.value=x,N.getSnapshot=b,m(N)&&C({inst:N})},[y,x,b]),i(function(){return m(N)&&C({inst:N}),y(function(){m(N)&&C({inst:N})})},[y]),u(x),x}function m(y){var b=y.getSnapshot;y=y.value;try{var x=b();return!n(y,x)}catch{return!0}}function p(y,b){return b()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return Yp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:v,Yp}var _E;function R8(){return _E||(_E=1,Gp.exports=T8()),Gp.exports}var D8=R8(),mc='[cmdk-group=""]',Wp='[cmdk-group-items=""]',A8='[cmdk-group-heading=""]',gv='[cmdk-item=""]',wE=`${gv}:not([aria-disabled="true"])`,kg="cmdk-item-select",oi="data-value",I8=(t,e,n)=>C8(t,e,n),HC=w.createContext(void 0),cu=()=>w.useContext(HC),qC=w.createContext(void 0),yv=()=>w.useContext(qC),VC=w.createContext(void 0),$C=w.forwardRef((t,e)=>{let n=go(()=>{var k,H;return{search:"",value:(H=(k=t.value)!=null?k:t.defaultValue)!=null?H:"",filtered:{count:0,items:new Map,groups:new Set}}}),a=go(()=>new Set),i=go(()=>new Map),l=go(()=>new Map),u=go(()=>new Set),f=GC(t),{label:m,children:p,value:v,onValueChange:y,filter:b,shouldFilter:x,loop:_,disablePointerSelection:N=!1,vimBindings:C=!0,...S}=t,T=Wn(),R=Wn(),j=Wn(),M=w.useRef(null),A=H8();bi(()=>{if(v!==void 0){let k=v.trim();n.current.value=k,F.emit()}},[v]),bi(()=>{A(6,ne)},[]);let F=w.useMemo(()=>({subscribe:k=>(u.current.add(k),()=>u.current.delete(k)),snapshot:()=>n.current,setState:(k,H,V)=>{var ae,re,de;if(!Object.is(n.current[k],H)){if(n.current[k]=H,k==="search")G(),W(),A(1,oe);else if(k==="value"&&(V||A(5,ne),((ae=f.current)==null?void 0:ae.value)!==void 0)){let he=H??"";(de=(re=f.current).onValueChange)==null||de.call(re,he);return}F.emit()}},emit:()=>{u.current.forEach(k=>k())}}),[]),Q=w.useMemo(()=>({value:(k,H,V)=>{var ae;H!==((ae=l.current.get(k))==null?void 0:ae.value)&&(l.current.set(k,{value:H,keywords:V}),n.current.filtered.items.set(k,U(H,V)),A(2,()=>{W(),F.emit()}))},item:(k,H)=>(a.current.add(k),H&&(i.current.has(H)?i.current.get(H).add(k):i.current.set(H,new Set([k]))),A(3,()=>{G(),W(),n.current.value||oe(),F.emit()}),()=>{l.current.delete(k),a.current.delete(k),n.current.filtered.items.delete(k);let V=X();A(4,()=>{G(),(V==null?void 0:V.getAttribute("id"))===k&&oe(),F.emit()})}),group:k=>(i.current.has(k)||i.current.set(k,new Set),()=>{l.current.delete(k),i.current.delete(k)}),filter:()=>f.current.shouldFilter,label:m||t["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:T,inputId:j,labelId:R,listInnerRef:M}),[]);function U(k,H){var V,ae;let re=(ae=(V=f.current)==null?void 0:V.filter)!=null?ae:I8;return k?re(k,n.current.search,H):0}function W(){if(!n.current.search||f.current.shouldFilter===!1)return;let k=n.current.filtered.items,H=[];n.current.filtered.groups.forEach(ae=>{let re=i.current.get(ae),de=0;re.forEach(he=>{let we=k.get(he);de=Math.max(we,de)}),H.push([ae,de])});let V=M.current;Z().sort((ae,re)=>{var de,he;let we=ae.getAttribute("id"),ve=re.getAttribute("id");return((de=k.get(ve))!=null?de:0)-((he=k.get(we))!=null?he:0)}).forEach(ae=>{let re=ae.closest(Wp);re?re.appendChild(ae.parentElement===re?ae:ae.closest(`${Wp} > *`)):V.appendChild(ae.parentElement===V?ae:ae.closest(`${Wp} > *`))}),H.sort((ae,re)=>re[1]-ae[1]).forEach(ae=>{var re;let de=(re=M.current)==null?void 0:re.querySelector(`${mc}[${oi}="${encodeURIComponent(ae[0])}"]`);de==null||de.parentElement.appendChild(de)})}function oe(){let k=Z().find(V=>V.getAttribute("aria-disabled")!=="true"),H=k==null?void 0:k.getAttribute(oi);F.setState("value",H||void 0)}function G(){var k,H,V,ae;if(!n.current.search||f.current.shouldFilter===!1){n.current.filtered.count=a.current.size;return}n.current.filtered.groups=new Set;let re=0;for(let de of a.current){let he=(H=(k=l.current.get(de))==null?void 0:k.value)!=null?H:"",we=(ae=(V=l.current.get(de))==null?void 0:V.keywords)!=null?ae:[],ve=U(he,we);n.current.filtered.items.set(de,ve),ve>0&&re++}for(let[de,he]of i.current)for(let we of he)if(n.current.filtered.items.get(we)>0){n.current.filtered.groups.add(de);break}n.current.filtered.count=re}function ne(){var k,H,V;let ae=X();ae&&(((k=ae.parentElement)==null?void 0:k.firstChild)===ae&&((V=(H=ae.closest(mc))==null?void 0:H.querySelector(A8))==null||V.scrollIntoView({block:"nearest"})),ae.scrollIntoView({block:"nearest"}))}function X(){var k;return(k=M.current)==null?void 0:k.querySelector(`${gv}[aria-selected="true"]`)}function Z(){var k;return Array.from(((k=M.current)==null?void 0:k.querySelectorAll(wE))||[])}function L(k){let H=Z()[k];H&&F.setState("value",H.getAttribute(oi))}function le(k){var H;let V=X(),ae=Z(),re=ae.findIndex(he=>he===V),de=ae[re+k];(H=f.current)!=null&&H.loop&&(de=re+k<0?ae[ae.length-1]:re+k===ae.length?ae[0]:ae[re+k]),de&&F.setState("value",de.getAttribute(oi))}function te(k){let H=X(),V=H==null?void 0:H.closest(mc),ae;for(;V&&!ae;)V=k>0?z8(V,mc):F8(V,mc),ae=V==null?void 0:V.querySelector(wE);ae?F.setState("value",ae.getAttribute(oi)):le(k)}let ue=()=>L(Z().length-1),P=k=>{k.preventDefault(),k.metaKey?ue():k.altKey?te(1):le(1)},K=k=>{k.preventDefault(),k.metaKey?L(0):k.altKey?te(-1):le(-1)};return w.createElement(Ge.div,{ref:e,tabIndex:-1,...S,"cmdk-root":"",onKeyDown:k=>{var H;if((H=S.onKeyDown)==null||H.call(S,k),!k.defaultPrevented)switch(k.key){case"n":case"j":{C&&k.ctrlKey&&P(k);break}case"ArrowDown":{P(k);break}case"p":case"k":{C&&k.ctrlKey&&K(k);break}case"ArrowUp":{K(k);break}case"Home":{k.preventDefault(),L(0);break}case"End":{k.preventDefault(),ue();break}case"Enter":if(!k.nativeEvent.isComposing&&k.keyCode!==229){k.preventDefault();let V=X();if(V){let ae=new Event(kg);V.dispatchEvent(ae)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:Q.inputId,id:Q.labelId,style:V8},m),Xf(t,k=>w.createElement(qC.Provider,{value:F},w.createElement(HC.Provider,{value:Q},k))))}),j8=w.forwardRef((t,e)=>{var n,a;let i=Wn(),l=w.useRef(null),u=w.useContext(VC),f=cu(),m=GC(t),p=(a=(n=m.current)==null?void 0:n.forceMount)!=null?a:u==null?void 0:u.forceMount;bi(()=>{if(!p)return f.item(i,u==null?void 0:u.id)},[p]);let v=YC(i,l,[t.value,t.children,l],t.keywords),y=yv(),b=xi(A=>A.value&&A.value===v.current),x=xi(A=>p||f.filter()===!1?!0:A.search?A.filtered.items.get(i)>0:!0);w.useEffect(()=>{let A=l.current;if(!(!A||t.disabled))return A.addEventListener(kg,_),()=>A.removeEventListener(kg,_)},[x,t.onSelect,t.disabled]);function _(){var A,F;N(),(F=(A=m.current).onSelect)==null||F.call(A,v.current)}function N(){y.setState("value",v.current,!0)}if(!x)return null;let{disabled:C,value:S,onSelect:T,forceMount:R,keywords:j,...M}=t;return w.createElement(Ge.div,{ref:Hc([l,e]),...M,id:i,"cmdk-item":"",role:"option","aria-disabled":!!C,"aria-selected":!!b,"data-disabled":!!C,"data-selected":!!b,onPointerMove:C||f.getDisablePointerSelection()?void 0:N,onClick:C?void 0:_},t.children)}),O8=w.forwardRef((t,e)=>{let{heading:n,children:a,forceMount:i,...l}=t,u=Wn(),f=w.useRef(null),m=w.useRef(null),p=Wn(),v=cu(),y=xi(x=>i||v.filter()===!1?!0:x.search?x.filtered.groups.has(u):!0);bi(()=>v.group(u),[]),YC(u,f,[t.value,t.heading,m]);let b=w.useMemo(()=>({id:u,forceMount:i}),[i]);return w.createElement(Ge.div,{ref:Hc([f,e]),...l,"cmdk-group":"",role:"presentation",hidden:y?void 0:!0},n&&w.createElement("div",{ref:m,"cmdk-group-heading":"","aria-hidden":!0,id:p},n),Xf(t,x=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?p:void 0},w.createElement(VC.Provider,{value:b},x))))}),k8=w.forwardRef((t,e)=>{let{alwaysRender:n,...a}=t,i=w.useRef(null),l=xi(u=>!u.search);return!n&&!l?null:w.createElement(Ge.div,{ref:Hc([i,e]),...a,"cmdk-separator":"",role:"separator"})}),M8=w.forwardRef((t,e)=>{let{onValueChange:n,...a}=t,i=t.value!=null,l=yv(),u=xi(v=>v.search),f=xi(v=>v.value),m=cu(),p=w.useMemo(()=>{var v;let y=(v=m.listInnerRef.current)==null?void 0:v.querySelector(`${gv}[${oi}="${encodeURIComponent(f)}"]`);return y==null?void 0:y.getAttribute("id")},[]);return w.useEffect(()=>{t.value!=null&&l.setState("search",t.value)},[t.value]),w.createElement(Ge.input,{ref:e,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":m.listId,"aria-labelledby":m.labelId,"aria-activedescendant":p,id:m.inputId,type:"text",value:i?t.value:u,onChange:v=>{i||l.setState("search",v.target.value),n==null||n(v.target.value)}})}),P8=w.forwardRef((t,e)=>{let{children:n,label:a="Suggestions",...i}=t,l=w.useRef(null),u=w.useRef(null),f=cu();return w.useEffect(()=>{if(u.current&&l.current){let m=u.current,p=l.current,v,y=new ResizeObserver(()=>{v=requestAnimationFrame(()=>{let b=m.offsetHeight;p.style.setProperty("--cmdk-list-height",b.toFixed(1)+"px")})});return y.observe(m),()=>{cancelAnimationFrame(v),y.unobserve(m)}}},[]),w.createElement(Ge.div,{ref:Hc([l,e]),...i,"cmdk-list":"",role:"listbox","aria-label":a,id:f.listId},Xf(t,m=>w.createElement("div",{ref:Hc([u,f.listInnerRef]),"cmdk-list-sizer":""},m)))}),L8=w.forwardRef((t,e)=>{let{open:n,onOpenChange:a,overlayClassName:i,contentClassName:l,container:u,...f}=t;return w.createElement(OC,{open:n,onOpenChange:a},w.createElement(kC,{container:u},w.createElement(hv,{"cmdk-overlay":"",className:i}),w.createElement(mv,{"aria-label":t.label,"cmdk-dialog":"",className:l},w.createElement($C,{ref:e,...f}))))}),U8=w.forwardRef((t,e)=>xi(n=>n.filtered.count===0)?w.createElement(Ge.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),B8=w.forwardRef((t,e)=>{let{progress:n,children:a,label:i="Loading...",...l}=t;return w.createElement(Ge.div,{ref:e,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Xf(t,u=>w.createElement("div",{"aria-hidden":!0},u)))}),yn=Object.assign($C,{List:P8,Item:j8,Input:M8,Group:O8,Separator:k8,Dialog:L8,Empty:U8,Loading:B8});function z8(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function F8(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function GC(t){let e=w.useRef(t);return bi(()=>{e.current=t}),e}var bi=typeof window>"u"?w.useEffect:w.useLayoutEffect;function go(t){let e=w.useRef();return e.current===void 0&&(e.current=t()),e}function Hc(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function xi(t){let e=yv(),n=()=>t(e.snapshot());return D8.useSyncExternalStore(e.subscribe,n,n)}function YC(t,e,n,a=[]){let i=w.useRef(),l=cu();return bi(()=>{var u;let f=(()=>{var p;for(let v of n){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(p=v.current.textContent)==null?void 0:p.trim():i.current}})(),m=a.map(p=>p.trim());l.value(t,f,m),(u=e.current)==null||u.setAttribute(oi,f),i.current=f}),i}var H8=()=>{let[t,e]=w.useState(),n=go(()=>new Map);return bi(()=>{n.current.forEach(a=>a()),n.current=new Map},[t]),(a,i)=>{n.current.set(a,i),e({})}};function q8(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function Xf({asChild:t,children:e},n){return t&&w.isValidElement(e)?w.cloneElement(q8(e),{ref:e.ref},n(e.props.children)):n(e)}var V8={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const WC=w.forwardRef(({className:t,...e},n)=>d.jsx(yn,{ref:n,className:Re("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));WC.displayName=yn.displayName;const KC=w.forwardRef(({className:t,...e},n)=>d.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[d.jsx(ES,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),d.jsx(yn.Input,{ref:n,className:Re("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));KC.displayName=yn.Input.displayName;const QC=w.forwardRef(({className:t,...e},n)=>d.jsx(yn.List,{ref:n,className:Re("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));QC.displayName=yn.List.displayName;const XC=w.forwardRef((t,e)=>d.jsx(yn.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));XC.displayName=yn.Empty.displayName;const ZC=w.forwardRef(({className:t,...e},n)=>d.jsx(yn.Group,{ref:n,className:Re("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));ZC.displayName=yn.Group.displayName;const $8=w.forwardRef(({className:t,...e},n)=>d.jsx(yn.Separator,{ref:n,className:Re("-mx-1 h-px bg-border",t),...e}));$8.displayName=yn.Separator.displayName;const JC=w.forwardRef(({className:t,...e},n)=>d.jsx(yn.Item,{ref:n,className:Re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...e}));JC.displayName=yn.Item.displayName;const G8=["top","right","bottom","left"],ys=Math.min,Cn=Math.max,xf=Math.round,Ld=Math.floor,Or=t=>({x:t,y:t}),Y8={left:"right",right:"left",bottom:"top",top:"bottom"},W8={start:"end",end:"start"};function Mg(t,e,n){return Cn(t,ys(e,n))}function ha(t,e){return typeof t=="function"?t(e):t}function ma(t){return t.split("-")[0]}function sl(t){return t.split("-")[1]}function vv(t){return t==="x"?"y":"x"}function bv(t){return t==="y"?"height":"width"}function vs(t){return["top","bottom"].includes(ma(t))?"y":"x"}function xv(t){return vv(vs(t))}function K8(t,e,n){n===void 0&&(n=!1);const a=sl(t),i=xv(t),l=bv(i);let u=i==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=_f(u)),[u,_f(u)]}function Q8(t){const e=_f(t);return[Pg(t),e,Pg(e)]}function Pg(t){return t.replace(/start|end/g,e=>W8[e])}function X8(t,e,n){const a=["left","right"],i=["right","left"],l=["top","bottom"],u=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:a:e?a:i;case"left":case"right":return e?l:u;default:return[]}}function Z8(t,e,n,a){const i=sl(t);let l=X8(ma(t),n==="start",a);return i&&(l=l.map(u=>u+"-"+i),e&&(l=l.concat(l.map(Pg)))),l}function _f(t){return t.replace(/left|right|bottom|top/g,e=>Y8[e])}function J8(t){return{top:0,right:0,bottom:0,left:0,...t}}function eT(t){return typeof t!="number"?J8(t):{top:t,right:t,bottom:t,left:t}}function wf(t){const{x:e,y:n,width:a,height:i}=t;return{width:a,height:i,top:n,left:e,right:e+a,bottom:n+i,x:e,y:n}}function EE(t,e,n){let{reference:a,floating:i}=t;const l=vs(e),u=xv(e),f=bv(u),m=ma(e),p=l==="y",v=a.x+a.width/2-i.width/2,y=a.y+a.height/2-i.height/2,b=a[f]/2-i[f]/2;let x;switch(m){case"top":x={x:v,y:a.y-i.height};break;case"bottom":x={x:v,y:a.y+a.height};break;case"right":x={x:a.x+a.width,y};break;case"left":x={x:a.x-i.width,y};break;default:x={x:a.x,y:a.y}}switch(sl(e)){case"start":x[u]-=b*(n&&p?-1:1);break;case"end":x[u]+=b*(n&&p?-1:1);break}return x}const ez=async(t,e,n)=>{const{placement:a="bottom",strategy:i="absolute",middleware:l=[],platform:u}=n,f=l.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:t,floating:e,strategy:i}),{x:v,y}=EE(p,a,m),b=a,x={},_=0;for(let N=0;N<f.length;N++){const{name:C,fn:S}=f[N],{x:T,y:R,data:j,reset:M}=await S({x:v,y,initialPlacement:a,placement:b,strategy:i,middlewareData:x,rects:p,platform:u,elements:{reference:t,floating:e}});v=T??v,y=R??y,x={...x,[C]:{...x[C],...j}},M&&_<=50&&(_++,typeof M=="object"&&(M.placement&&(b=M.placement),M.rects&&(p=M.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:v,y}=EE(p,b,m)),N=-1)}return{x:v,y,placement:b,strategy:i,middlewareData:x}};async function qc(t,e){var n;e===void 0&&(e={});const{x:a,y:i,platform:l,rects:u,elements:f,strategy:m}=t,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:y="floating",altBoundary:b=!1,padding:x=0}=ha(e,t),_=eT(x),C=f[b?y==="floating"?"reference":"floating":y],S=wf(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(C)))==null||n?C:C.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:p,rootBoundary:v,strategy:m})),T=y==="floating"?{x:a,y:i,width:u.floating.width,height:u.floating.height}:u.reference,R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),j=await(l.isElement==null?void 0:l.isElement(R))?await(l.getScale==null?void 0:l.getScale(R))||{x:1,y:1}:{x:1,y:1},M=wf(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:T,offsetParent:R,strategy:m}):T);return{top:(S.top-M.top+_.top)/j.y,bottom:(M.bottom-S.bottom+_.bottom)/j.y,left:(S.left-M.left+_.left)/j.x,right:(M.right-S.right+_.right)/j.x}}const tz=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:a,placement:i,rects:l,platform:u,elements:f,middlewareData:m}=e,{element:p,padding:v=0}=ha(t,e)||{};if(p==null)return{};const y=eT(v),b={x:n,y:a},x=xv(i),_=bv(x),N=await u.getDimensions(p),C=x==="y",S=C?"top":"left",T=C?"bottom":"right",R=C?"clientHeight":"clientWidth",j=l.reference[_]+l.reference[x]-b[x]-l.floating[_],M=b[x]-l.reference[x],A=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let F=A?A[R]:0;(!F||!await(u.isElement==null?void 0:u.isElement(A)))&&(F=f.floating[R]||l.floating[_]);const Q=j/2-M/2,U=F/2-N[_]/2-1,W=ys(y[S],U),oe=ys(y[T],U),G=W,ne=F-N[_]-oe,X=F/2-N[_]/2+Q,Z=Mg(G,X,ne),L=!m.arrow&&sl(i)!=null&&X!==Z&&l.reference[_]/2-(X<G?W:oe)-N[_]/2<0,le=L?X<G?X-G:X-ne:0;return{[x]:b[x]+le,data:{[x]:Z,centerOffset:X-Z-le,...L&&{alignmentOffset:le}},reset:L}}}),nz=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,a;const{placement:i,middlewareData:l,rects:u,initialPlacement:f,platform:m,elements:p}=e,{mainAxis:v=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:N=!0,...C}=ha(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const S=ma(i),T=vs(f),R=ma(f)===f,j=await(m.isRTL==null?void 0:m.isRTL(p.floating)),M=b||(R||!N?[_f(f)]:Q8(f)),A=_!=="none";!b&&A&&M.push(...Z8(f,N,_,j));const F=[f,...M],Q=await qc(e,C),U=[];let W=((a=l.flip)==null?void 0:a.overflows)||[];if(v&&U.push(Q[S]),y){const X=K8(i,u,j);U.push(Q[X[0]],Q[X[1]])}if(W=[...W,{placement:i,overflows:U}],!U.every(X=>X<=0)){var oe,G;const X=(((oe=l.flip)==null?void 0:oe.index)||0)+1,Z=F[X];if(Z)return{data:{index:X,overflows:W},reset:{placement:Z}};let L=(G=W.filter(le=>le.overflows[0]<=0).sort((le,te)=>le.overflows[1]-te.overflows[1])[0])==null?void 0:G.placement;if(!L)switch(x){case"bestFit":{var ne;const le=(ne=W.filter(te=>{if(A){const ue=vs(te.placement);return ue===T||ue==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(ue=>ue>0).reduce((ue,P)=>ue+P,0)]).sort((te,ue)=>te[1]-ue[1])[0])==null?void 0:ne[0];le&&(L=le);break}case"initialPlacement":L=f;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function SE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function NE(t){return G8.some(e=>t[e]>=0)}const rz=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:a="referenceHidden",...i}=ha(t,e);switch(a){case"referenceHidden":{const l=await qc(e,{...i,elementContext:"reference"}),u=SE(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:NE(u)}}}case"escaped":{const l=await qc(e,{...i,altBoundary:!0}),u=SE(l,n.floating);return{data:{escapedOffsets:u,escaped:NE(u)}}}default:return{}}}}};async function az(t,e){const{placement:n,platform:a,elements:i}=t,l=await(a.isRTL==null?void 0:a.isRTL(i.floating)),u=ma(n),f=sl(n),m=vs(n)==="y",p=["left","top"].includes(u)?-1:1,v=l&&m?-1:1,y=ha(e,t);let{mainAxis:b,crossAxis:x,alignmentAxis:_}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return f&&typeof _=="number"&&(x=f==="end"?_*-1:_),m?{x:x*v,y:b*p}:{x:b*p,y:x*v}}const sz=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,a;const{x:i,y:l,placement:u,middlewareData:f}=e,m=await az(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:i+m.x,y:l+m.y,data:{...m,placement:u}}}}},iz=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:a,placement:i}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:C=>{let{x:S,y:T}=C;return{x:S,y:T}}},...m}=ha(t,e),p={x:n,y:a},v=await qc(e,m),y=vs(ma(i)),b=vv(y);let x=p[b],_=p[y];if(l){const C=b==="y"?"top":"left",S=b==="y"?"bottom":"right",T=x+v[C],R=x-v[S];x=Mg(T,x,R)}if(u){const C=y==="y"?"top":"left",S=y==="y"?"bottom":"right",T=_+v[C],R=_-v[S];_=Mg(T,_,R)}const N=f.fn({...e,[b]:x,[y]:_});return{...N,data:{x:N.x-n,y:N.y-a,enabled:{[b]:l,[y]:u}}}}}},oz=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:a,placement:i,rects:l,middlewareData:u}=e,{offset:f=0,mainAxis:m=!0,crossAxis:p=!0}=ha(t,e),v={x:n,y:a},y=vs(i),b=vv(y);let x=v[b],_=v[y];const N=ha(f,e),C=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(m){const R=b==="y"?"height":"width",j=l.reference[b]-l.floating[R]+C.mainAxis,M=l.reference[b]+l.reference[R]-C.mainAxis;x<j?x=j:x>M&&(x=M)}if(p){var S,T;const R=b==="y"?"width":"height",j=["top","left"].includes(ma(i)),M=l.reference[y]-l.floating[R]+(j&&((S=u.offset)==null?void 0:S[y])||0)+(j?0:C.crossAxis),A=l.reference[y]+l.reference[R]+(j?0:((T=u.offset)==null?void 0:T[y])||0)-(j?C.crossAxis:0);_<M?_=M:_>A&&(_=A)}return{[b]:x,[y]:_}}}},lz=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,a;const{placement:i,rects:l,platform:u,elements:f}=e,{apply:m=()=>{},...p}=ha(t,e),v=await qc(e,p),y=ma(i),b=sl(i),x=vs(i)==="y",{width:_,height:N}=l.floating;let C,S;y==="top"||y==="bottom"?(C=y,S=b===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(S=y,C=b==="end"?"top":"bottom");const T=N-v.top-v.bottom,R=_-v.left-v.right,j=ys(N-v[C],T),M=ys(_-v[S],R),A=!e.middlewareData.shift;let F=j,Q=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(Q=R),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(F=T),A&&!b){const W=Cn(v.left,0),oe=Cn(v.right,0),G=Cn(v.top,0),ne=Cn(v.bottom,0);x?Q=_-2*(W!==0||oe!==0?W+oe:Cn(v.left,v.right)):F=N-2*(G!==0||ne!==0?G+ne:Cn(v.top,v.bottom))}await m({...e,availableWidth:Q,availableHeight:F});const U=await u.getDimensions(f.floating);return _!==U.width||N!==U.height?{reset:{rects:!0}}:{}}}};function Zf(){return typeof window<"u"}function il(t){return tT(t)?(t.nodeName||"").toLowerCase():"#document"}function Tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Pr(t){var e;return(e=(tT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function tT(t){return Zf()?t instanceof Node||t instanceof Tn(t).Node:!1}function hr(t){return Zf()?t instanceof Element||t instanceof Tn(t).Element:!1}function kr(t){return Zf()?t instanceof HTMLElement||t instanceof Tn(t).HTMLElement:!1}function CE(t){return!Zf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tn(t).ShadowRoot}function uu(t){const{overflow:e,overflowX:n,overflowY:a,display:i}=mr(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+n)&&!["inline","contents"].includes(i)}function cz(t){return["table","td","th"].includes(il(t))}function Jf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function _v(t){const e=wv(),n=hr(t)?mr(t):t;return["transform","translate","scale","rotate","perspective"].some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(n.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(n.contain||"").includes(a))}function uz(t){let e=bs(t);for(;kr(e)&&!Po(e);){if(_v(e))return e;if(Jf(e))return null;e=bs(e)}return null}function wv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Po(t){return["html","body","#document"].includes(il(t))}function mr(t){return Tn(t).getComputedStyle(t)}function eh(t){return hr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function bs(t){if(il(t)==="html")return t;const e=t.assignedSlot||t.parentNode||CE(t)&&t.host||Pr(t);return CE(e)?e.host:e}function nT(t){const e=bs(t);return Po(e)?t.ownerDocument?t.ownerDocument.body:t.body:kr(e)&&uu(e)?e:nT(e)}function Vc(t,e,n){var a;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=nT(t),l=i===((a=t.ownerDocument)==null?void 0:a.body),u=Tn(i);if(l){const f=Lg(u);return e.concat(u,u.visualViewport||[],uu(i)?i:[],f&&n?Vc(f):[])}return e.concat(i,Vc(i,[],n))}function Lg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function rT(t){const e=mr(t);let n=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const i=kr(t),l=i?t.offsetWidth:n,u=i?t.offsetHeight:a,f=xf(n)!==l||xf(a)!==u;return f&&(n=l,a=u),{width:n,height:a,$:f}}function Ev(t){return hr(t)?t:t.contextElement}function To(t){const e=Ev(t);if(!kr(e))return Or(1);const n=e.getBoundingClientRect(),{width:a,height:i,$:l}=rT(e);let u=(l?xf(n.width):n.width)/a,f=(l?xf(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const dz=Or(0);function aT(t){const e=Tn(t);return!wv()||!e.visualViewport?dz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tn(t)?!1:e}function _i(t,e,n,a){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=Ev(t);let u=Or(1);e&&(a?hr(a)&&(u=To(a)):u=To(t));const f=fz(l,n,a)?aT(l):Or(0);let m=(i.left+f.x)/u.x,p=(i.top+f.y)/u.y,v=i.width/u.x,y=i.height/u.y;if(l){const b=Tn(l),x=a&&hr(a)?Tn(a):a;let _=b,N=Lg(_);for(;N&&a&&x!==_;){const C=To(N),S=N.getBoundingClientRect(),T=mr(N),R=S.left+(N.clientLeft+parseFloat(T.paddingLeft))*C.x,j=S.top+(N.clientTop+parseFloat(T.paddingTop))*C.y;m*=C.x,p*=C.y,v*=C.x,y*=C.y,m+=R,p+=j,_=Tn(N),N=Lg(_)}}return wf({width:v,height:y,x:m,y:p})}function Sv(t,e){const n=eh(t).scrollLeft;return e?e.left+n:_i(Pr(t)).left+n}function sT(t,e,n){n===void 0&&(n=!1);const a=t.getBoundingClientRect(),i=a.left+e.scrollLeft-(n?0:Sv(t,a)),l=a.top+e.scrollTop;return{x:i,y:l}}function hz(t){let{elements:e,rect:n,offsetParent:a,strategy:i}=t;const l=i==="fixed",u=Pr(a),f=e?Jf(e.floating):!1;if(a===u||f&&l)return n;let m={scrollLeft:0,scrollTop:0},p=Or(1);const v=Or(0),y=kr(a);if((y||!y&&!l)&&((il(a)!=="body"||uu(u))&&(m=eh(a)),kr(a))){const x=_i(a);p=To(a),v.x=x.x+a.clientLeft,v.y=x.y+a.clientTop}const b=u&&!y&&!l?sT(u,m,!0):Or(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-m.scrollLeft*p.x+v.x+b.x,y:n.y*p.y-m.scrollTop*p.y+v.y+b.y}}function mz(t){return Array.from(t.getClientRects())}function pz(t){const e=Pr(t),n=eh(t),a=t.ownerDocument.body,i=Cn(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),l=Cn(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let u=-n.scrollLeft+Sv(t);const f=-n.scrollTop;return mr(a).direction==="rtl"&&(u+=Cn(e.clientWidth,a.clientWidth)-i),{width:i,height:l,x:u,y:f}}function gz(t,e){const n=Tn(t),a=Pr(t),i=n.visualViewport;let l=a.clientWidth,u=a.clientHeight,f=0,m=0;if(i){l=i.width,u=i.height;const p=wv();(!p||p&&e==="fixed")&&(f=i.offsetLeft,m=i.offsetTop)}return{width:l,height:u,x:f,y:m}}function yz(t,e){const n=_i(t,!0,e==="fixed"),a=n.top+t.clientTop,i=n.left+t.clientLeft,l=kr(t)?To(t):Or(1),u=t.clientWidth*l.x,f=t.clientHeight*l.y,m=i*l.x,p=a*l.y;return{width:u,height:f,x:m,y:p}}function TE(t,e,n){let a;if(e==="viewport")a=gz(t,n);else if(e==="document")a=pz(Pr(t));else if(hr(e))a=yz(e,n);else{const i=aT(t);a={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return wf(a)}function iT(t,e){const n=bs(t);return n===e||!hr(n)||Po(n)?!1:mr(n).position==="fixed"||iT(n,e)}function vz(t,e){const n=e.get(t);if(n)return n;let a=Vc(t,[],!1).filter(f=>hr(f)&&il(f)!=="body"),i=null;const l=mr(t).position==="fixed";let u=l?bs(t):t;for(;hr(u)&&!Po(u);){const f=mr(u),m=_v(u);!m&&f.position==="fixed"&&(i=null),(l?!m&&!i:!m&&f.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||uu(u)&&!m&&iT(t,u))?a=a.filter(v=>v!==u):i=f,u=bs(u)}return e.set(t,a),a}function bz(t){let{element:e,boundary:n,rootBoundary:a,strategy:i}=t;const u=[...n==="clippingAncestors"?Jf(e)?[]:vz(e,this._c):[].concat(n),a],f=u[0],m=u.reduce((p,v)=>{const y=TE(e,v,i);return p.top=Cn(y.top,p.top),p.right=ys(y.right,p.right),p.bottom=ys(y.bottom,p.bottom),p.left=Cn(y.left,p.left),p},TE(e,f,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function xz(t){const{width:e,height:n}=rT(t);return{width:e,height:n}}function _z(t,e,n){const a=kr(e),i=Pr(e),l=n==="fixed",u=_i(t,!0,l,e);let f={scrollLeft:0,scrollTop:0};const m=Or(0);if(a||!a&&!l)if((il(e)!=="body"||uu(i))&&(f=eh(e)),a){const b=_i(e,!0,l,e);m.x=b.x+e.clientLeft,m.y=b.y+e.clientTop}else i&&(m.x=Sv(i));const p=i&&!a&&!l?sT(i,f):Or(0),v=u.left+f.scrollLeft-m.x-p.x,y=u.top+f.scrollTop-m.y-p.y;return{x:v,y,width:u.width,height:u.height}}function Kp(t){return mr(t).position==="static"}function RE(t,e){if(!kr(t)||mr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Pr(t)===n&&(n=n.ownerDocument.body),n}function oT(t,e){const n=Tn(t);if(Jf(t))return n;if(!kr(t)){let i=bs(t);for(;i&&!Po(i);){if(hr(i)&&!Kp(i))return i;i=bs(i)}return n}let a=RE(t,e);for(;a&&cz(a)&&Kp(a);)a=RE(a,e);return a&&Po(a)&&Kp(a)&&!_v(a)?n:a||uz(t)||n}const wz=async function(t){const e=this.getOffsetParent||oT,n=this.getDimensions,a=await n(t.floating);return{reference:_z(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function Ez(t){return mr(t).direction==="rtl"}const Sz={convertOffsetParentRelativeRectToViewportRelativeRect:hz,getDocumentElement:Pr,getClippingRect:bz,getOffsetParent:oT,getElementRects:wz,getClientRects:mz,getDimensions:xz,getScale:To,isElement:hr,isRTL:Ez};function lT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Nz(t,e){let n=null,a;const i=Pr(t);function l(){var f;clearTimeout(a),(f=n)==null||f.disconnect(),n=null}function u(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),l();const p=t.getBoundingClientRect(),{left:v,top:y,width:b,height:x}=p;if(f||e(),!b||!x)return;const _=Ld(y),N=Ld(i.clientWidth-(v+b)),C=Ld(i.clientHeight-(y+x)),S=Ld(v),R={rootMargin:-_+"px "+-N+"px "+-C+"px "+-S+"px",threshold:Cn(0,ys(1,m))||1};let j=!0;function M(A){const F=A[0].intersectionRatio;if(F!==m){if(!j)return u();F?u(!1,F):a=setTimeout(()=>{u(!1,1e-7)},1e3)}F===1&&!lT(p,t.getBoundingClientRect())&&u(),j=!1}try{n=new IntersectionObserver(M,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,R)}n.observe(t)}return u(!0),l}function Cz(t,e,n,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=a,p=Ev(t),v=i||l?[...p?Vc(p):[],...Vc(e)]:[];v.forEach(S=>{i&&S.addEventListener("scroll",n,{passive:!0}),l&&S.addEventListener("resize",n)});const y=p&&f?Nz(p,n):null;let b=-1,x=null;u&&(x=new ResizeObserver(S=>{let[T]=S;T&&T.target===p&&x&&(x.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var R;(R=x)==null||R.observe(e)})),n()}),p&&!m&&x.observe(p),x.observe(e));let _,N=m?_i(t):null;m&&C();function C(){const S=_i(t);N&&!lT(N,S)&&n(),N=S,_=requestAnimationFrame(C)}return n(),()=>{var S;v.forEach(T=>{i&&T.removeEventListener("scroll",n),l&&T.removeEventListener("resize",n)}),y==null||y(),(S=x)==null||S.disconnect(),x=null,m&&cancelAnimationFrame(_)}}const Tz=sz,Rz=iz,Dz=nz,Az=lz,Iz=rz,DE=tz,jz=oz,Oz=(t,e,n)=>{const a=new Map,i={platform:Sz,...n},l={...i.platform,_c:a};return ez(t,e,{...i,platform:l})};var Yd=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Ef(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,a,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(a=n;a--!==0;)if(!Ef(t[a],e[a]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(e,i[a]))return!1;for(a=n;a--!==0;){const l=i[a];if(!(l==="_owner"&&t.$$typeof)&&!Ef(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function cT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function AE(t,e){const n=cT(t);return Math.round(e*n)/n}function Qp(t){const e=w.useRef(t);return Yd(()=>{e.current=t}),e}function kz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:a=[],platform:i,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:m,open:p}=t,[v,y]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,x]=w.useState(a);Ef(b,a)||x(a);const[_,N]=w.useState(null),[C,S]=w.useState(null),T=w.useCallback(te=>{te!==A.current&&(A.current=te,N(te))},[]),R=w.useCallback(te=>{te!==F.current&&(F.current=te,S(te))},[]),j=l||_,M=u||C,A=w.useRef(null),F=w.useRef(null),Q=w.useRef(v),U=m!=null,W=Qp(m),oe=Qp(i),G=Qp(p),ne=w.useCallback(()=>{if(!A.current||!F.current)return;const te={placement:e,strategy:n,middleware:b};oe.current&&(te.platform=oe.current),Oz(A.current,F.current,te).then(ue=>{const P={...ue,isPositioned:G.current!==!1};X.current&&!Ef(Q.current,P)&&(Q.current=P,ry.flushSync(()=>{y(P)}))})},[b,e,n,oe,G]);Yd(()=>{p===!1&&Q.current.isPositioned&&(Q.current.isPositioned=!1,y(te=>({...te,isPositioned:!1})))},[p]);const X=w.useRef(!1);Yd(()=>(X.current=!0,()=>{X.current=!1}),[]),Yd(()=>{if(j&&(A.current=j),M&&(F.current=M),j&&M){if(W.current)return W.current(j,M,ne);ne()}},[j,M,ne,W,U]);const Z=w.useMemo(()=>({reference:A,floating:F,setReference:T,setFloating:R}),[T,R]),L=w.useMemo(()=>({reference:j,floating:M}),[j,M]),le=w.useMemo(()=>{const te={position:n,left:0,top:0};if(!L.floating)return te;const ue=AE(L.floating,v.x),P=AE(L.floating,v.y);return f?{...te,transform:"translate("+ue+"px, "+P+"px)",...cT(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ue,top:P}},[n,f,L.floating,v.x,v.y]);return w.useMemo(()=>({...v,update:ne,refs:Z,elements:L,floatingStyles:le}),[v,ne,Z,L,le])}const Mz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:a,padding:i}=typeof t=="function"?t(n):t;return a&&e(a)?a.current!=null?DE({element:a.current,padding:i}).fn(n):{}:a?DE({element:a,padding:i}).fn(n):{}}}},Pz=(t,e)=>({...Tz(t),options:[t,e]}),Lz=(t,e)=>({...Rz(t),options:[t,e]}),Uz=(t,e)=>({...jz(t),options:[t,e]}),Bz=(t,e)=>({...Dz(t),options:[t,e]}),zz=(t,e)=>({...Az(t),options:[t,e]}),Fz=(t,e)=>({...Iz(t),options:[t,e]}),Hz=(t,e)=>({...Mz(t),options:[t,e]});var qz="Arrow",uT=w.forwardRef((t,e)=>{const{children:n,width:a=10,height:i=5,...l}=t;return d.jsx(Ge.svg,{...l,ref:e,width:a,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});uT.displayName=qz;var Vz=uT;function dT(t){const[e,n]=w.useState(void 0);return ps(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,f;if("borderBoxSize"in l){const m=l.borderBoxSize,p=Array.isArray(m)?m[0]:m;u=p.inlineSize,f=p.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else n(void 0)},[t]),e}var Nv="Popper",[fT,th]=tl(Nv),[$z,hT]=fT(Nv),mT=t=>{const{__scopePopper:e,children:n}=t,[a,i]=w.useState(null);return d.jsx($z,{scope:e,anchor:a,onAnchorChange:i,children:n})};mT.displayName=Nv;var pT="PopperAnchor",gT=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:a,...i}=t,l=hT(pT,n),u=w.useRef(null),f=on(e,u);return w.useEffect(()=>{l.onAnchorChange((a==null?void 0:a.current)||u.current)}),a?null:d.jsx(Ge.div,{...i,ref:f})});gT.displayName=pT;var Cv="PopperContent",[Gz,Yz]=fT(Cv),yT=w.forwardRef((t,e)=>{var de,he,we,ve,wt,Xt;const{__scopePopper:n,side:a="bottom",sideOffset:i=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:y="partial",hideWhenDetached:b=!1,updatePositionStrategy:x="optimized",onPlaced:_,...N}=t,C=hT(Cv,n),[S,T]=w.useState(null),R=on(e,Gt=>T(Gt)),[j,M]=w.useState(null),A=dT(j),F=(A==null?void 0:A.width)??0,Q=(A==null?void 0:A.height)??0,U=a+(l!=="center"?"-"+l:""),W=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},oe=Array.isArray(p)?p:[p],G=oe.length>0,ne={padding:W,boundary:oe.filter(Kz),altBoundary:G},{refs:X,floatingStyles:Z,placement:L,isPositioned:le,middlewareData:te}=kz({strategy:"fixed",placement:U,whileElementsMounted:(...Gt)=>Cz(...Gt,{animationFrame:x==="always"}),elements:{reference:C.anchor},middleware:[Pz({mainAxis:i+Q,alignmentAxis:u}),m&&Lz({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?Uz():void 0,...ne}),m&&Bz({...ne}),zz({...ne,apply:({elements:Gt,rects:Zn,availableWidth:wa,availableHeight:Jn})=>{const{width:er,height:Lr}=Zn.reference,jt=Gt.floating.style;jt.setProperty("--radix-popper-available-width",`${wa}px`),jt.setProperty("--radix-popper-available-height",`${Jn}px`),jt.setProperty("--radix-popper-anchor-width",`${er}px`),jt.setProperty("--radix-popper-anchor-height",`${Lr}px`)}}),j&&Hz({element:j,padding:f}),Qz({arrowWidth:F,arrowHeight:Q}),b&&Fz({strategy:"referenceHidden",...ne})]}),[ue,P]=xT(L),K=gs(_);ps(()=>{le&&(K==null||K())},[le,K]);const k=(de=te.arrow)==null?void 0:de.x,H=(he=te.arrow)==null?void 0:he.y,V=((we=te.arrow)==null?void 0:we.centerOffset)!==0,[ae,re]=w.useState();return ps(()=>{S&&re(window.getComputedStyle(S).zIndex)},[S]),d.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:le?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(ve=te.transformOrigin)==null?void 0:ve.x,(wt=te.transformOrigin)==null?void 0:wt.y].join(" "),...((Xt=te.hide)==null?void 0:Xt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(Gz,{scope:n,placedSide:ue,onArrowChange:M,arrowX:k,arrowY:H,shouldHideArrow:V,children:d.jsx(Ge.div,{"data-side":ue,"data-align":P,...N,ref:R,style:{...N.style,animation:le?void 0:"none"}})})})});yT.displayName=Cv;var vT="PopperArrow",Wz={top:"bottom",right:"left",bottom:"top",left:"right"},bT=w.forwardRef(function(e,n){const{__scopePopper:a,...i}=e,l=Yz(vT,a),u=Wz[l.placedSide];return d.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:d.jsx(Vz,{...i,ref:n,style:{...i.style,display:"block"}})})});bT.displayName=vT;function Kz(t){return t!==null}var Qz=t=>({name:"transformOrigin",options:t,fn(e){var C,S,T;const{placement:n,rects:a,middlewareData:i}=e,u=((C=i.arrow)==null?void 0:C.centerOffset)!==0,f=u?0:t.arrowWidth,m=u?0:t.arrowHeight,[p,v]=xT(n),y={start:"0%",center:"50%",end:"100%"}[v],b=(((S=i.arrow)==null?void 0:S.x)??0)+f/2,x=(((T=i.arrow)==null?void 0:T.y)??0)+m/2;let _="",N="";return p==="bottom"?(_=u?y:`${b}px`,N=`${-m}px`):p==="top"?(_=u?y:`${b}px`,N=`${a.floating.height+m}px`):p==="right"?(_=`${-m}px`,N=u?y:`${x}px`):p==="left"&&(_=`${a.floating.width+m}px`,N=u?y:`${x}px`),{data:{x:_,y:N}}}});function xT(t){const[e,n="center"]=t.split("-");return[e,n]}var _T=mT,Tv=gT,wT=yT,ET=bT,Rv="Popover",[ST,d7]=tl(Rv,[th]),du=th(),[Xz,Es]=ST(Rv),NT=t=>{const{__scopePopover:e,children:n,open:a,defaultOpen:i,onOpenChange:l,modal:u=!1}=t,f=du(e),m=w.useRef(null),[p,v]=w.useState(!1),[y=!1,b]=ou({prop:a,defaultProp:i,onChange:l});return d.jsx(_T,{...f,children:d.jsx(Xz,{scope:e,contentId:Wn(),triggerRef:m,open:y,onOpenChange:b,onOpenToggle:w.useCallback(()=>b(x=>!x),[b]),hasCustomAnchor:p,onCustomAnchorAdd:w.useCallback(()=>v(!0),[]),onCustomAnchorRemove:w.useCallback(()=>v(!1),[]),modal:u,children:n})})};NT.displayName=Rv;var CT="PopoverAnchor",Zz=w.forwardRef((t,e)=>{const{__scopePopover:n,...a}=t,i=Es(CT,n),l=du(n),{onCustomAnchorAdd:u,onCustomAnchorRemove:f}=i;return w.useEffect(()=>(u(),()=>f()),[u,f]),d.jsx(Tv,{...l,...a,ref:e})});Zz.displayName=CT;var TT="PopoverTrigger",RT=w.forwardRef((t,e)=>{const{__scopePopover:n,...a}=t,i=Es(TT,n),l=du(n),u=on(e,i.triggerRef),f=d.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":OT(i.open),...a,ref:u,onClick:ht(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?f:d.jsx(Tv,{asChild:!0,...l,children:f})});RT.displayName=TT;var Dv="PopoverPortal",[Jz,eF]=ST(Dv,{forceMount:void 0}),DT=t=>{const{__scopePopover:e,forceMount:n,children:a,container:i}=t,l=Es(Dv,e);return d.jsx(Jz,{scope:e,forceMount:n,children:d.jsx(xa,{present:n||l.open,children:d.jsx(ov,{asChild:!0,container:i,children:a})})})};DT.displayName=Dv;var Lo="PopoverContent",AT=w.forwardRef((t,e)=>{const n=eF(Lo,t.__scopePopover),{forceMount:a=n.forceMount,...i}=t,l=Es(Lo,t.__scopePopover);return d.jsx(xa,{present:a||l.open,children:l.modal?d.jsx(tF,{...i,ref:e}):d.jsx(nF,{...i,ref:e})})});AT.displayName=Lo;var tF=w.forwardRef((t,e)=>{const n=Es(Lo,t.__scopePopover),a=w.useRef(null),i=on(e,a),l=w.useRef(!1);return w.useEffect(()=>{const u=a.current;if(u)return gC(u)},[]),d.jsx(lv,{as:Wf,allowPinchZoom:!0,children:d.jsx(IT,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ht(t.onCloseAutoFocus,u=>{var f;u.preventDefault(),l.current||(f=n.triggerRef.current)==null||f.focus()}),onPointerDownOutside:ht(t.onPointerDownOutside,u=>{const f=u.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,p=f.button===2||m;l.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:ht(t.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),nF=w.forwardRef((t,e)=>{const n=Es(Lo,t.__scopePopover),a=w.useRef(!1),i=w.useRef(!1);return d.jsx(IT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,f;(u=t.onCloseAutoFocus)==null||u.call(t,l),l.defaultPrevented||(a.current||(f=n.triggerRef.current)==null||f.focus(),l.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:l=>{var m,p;(m=t.onInteractOutside)==null||m.call(t,l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;((p=n.triggerRef.current)==null?void 0:p.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),IT=w.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:v,...y}=t,b=Es(Lo,n),x=du(n);return lC(),d.jsx(iv,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:l,children:d.jsx(Kf,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:v,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onDismiss:()=>b.onOpenChange(!1),children:d.jsx(wT,{"data-state":OT(b.open),role:"dialog",id:b.contentId,...x,...y,ref:e,style:{...y.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),jT="PopoverClose",rF=w.forwardRef((t,e)=>{const{__scopePopover:n,...a}=t,i=Es(jT,n);return d.jsx(Ge.button,{type:"button",...a,ref:e,onClick:ht(t.onClick,()=>i.onOpenChange(!1))})});rF.displayName=jT;var aF="PopoverArrow",sF=w.forwardRef((t,e)=>{const{__scopePopover:n,...a}=t,i=du(n);return d.jsx(ET,{...i,...a,ref:e})});sF.displayName=aF;function OT(t){return t?"open":"closed"}var iF=NT,oF=RT,lF=DT,kT=AT;const cF=iF,uF=oF,MT=w.forwardRef(({className:t,align:e="center",sideOffset:n=4,...a},i)=>d.jsx(lF,{children:d.jsx(kT,{ref:i,align:e,sideOffset:n,className:Re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})}));MT.displayName=kT.displayName;const Av=w.forwardRef(({className:t,options:e=[],onChange:n,value:a,placeholder:i="Seleccione una opción...",searchPlaceholder:l="Buscar...",notFoundText:u="No se encontraron resultados.",disabled:f,...m},p)=>{const[v,y]=w.useState(!1),[b,x]=w.useState(""),_=w.useMemo(()=>{const C={};return e.forEach(S=>{const T=S.group||"default";C[T]||(C[T]=[]),C[T].push(S)}),C},[e]),N=e.find(C=>String(C.value)===String(a));return w.useCallback(C=>{n==null||n(C),y(!1),x("")},[n]),d.jsxs(cF,{open:v,onOpenChange:y,children:[d.jsx(uF,{asChild:!0,children:d.jsxs(_e,{...m,type:"button",variant:"outline",role:"combobox","aria-expanded":v,className:Re("w-full justify-between font-normal",!a&&"text-muted-foreground",t),disabled:f,children:[N?N.label:i,d.jsx(_I,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),d.jsx(MT,{align:"start",className:"w-full p-0",children:d.jsxs(WC,{shouldFilter:!1,className:"w-full",children:[d.jsx(KC,{placeholder:l,value:b,onValueChange:x,className:"border-none focus:ring-0"}),d.jsxs(QC,{className:"max-h-[200px] overflow-y-auto",children:[d.jsx(XC,{children:u}),Object.entries(_).map(([C,S])=>d.jsx(ZC,{heading:C==="default"?void 0:C,children:S.filter(T=>T.label.toLowerCase().includes(b.toLowerCase())).map(T=>d.jsxs(JC,{value:String(T.value),onSelect:()=>{n==null||n(String(T.value)),y(!1),x("")},className:"flex items-center gap-2 cursor-pointer",children:[d.jsx(vS,{className:Re("h-4 w-4 shrink-0",String(a)===String(T.value)?"opacity-100":"opacity-0")}),d.jsx("span",{className:"flex-1",children:T.label})]},T.value))},C))]})]})})]})});Av.displayName="Select";const Iv=w.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{ref:n,className:Re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e}));Iv.displayName="Textarea";const fu=I.forwardRef(({className:t,label:e,error:n,containerClassName:a,value:i,onChange:l,...u},f)=>{const m=I.useRef(null),p=I.useMemo(()=>{if(!i)return"";try{const x=typeof i=="string"?Xk(i):i;return x?Rt(x,"yyyy-MM-dd"):""}catch{return""}},[i]),v=I.useMemo(()=>qS(i),[i]),y=x=>{const _=x.target.value;if(l){const N=new Date(_);l(N.toISOString())}},b=()=>{m.current&&m.current.showPicker()};return d.jsxs("div",{className:Re("space-y-2",a),children:[e&&d.jsx("label",{htmlFor:u.id||u.name,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:e}),d.jsxs("div",{className:"relative",children:[d.jsxs(_e,{type:"button",variant:"outline",className:Re("w-full justify-start text-left font-normal",!i&&"text-muted-foreground",n?"border-red-500":"",t),onClick:b,children:[d.jsx(mI,{className:"mr-2 h-4 w-4"}),v||u.placeholder||"Seleccione una fecha"]}),d.jsx("input",{...u,type:"date",ref:x=>{m.current=x,typeof f=="function"?f(x):f&&(f.current=x)},value:p,onChange:y,className:"sr-only"})]}),n&&d.jsx("p",{className:"text-sm text-red-500",children:n})]})});fu.displayName="DatePicker";const PT=w.forwardRef(({className:t,...e},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:Re("w-full caption-bottom text-sm",t),...e})}));PT.displayName="Table";const LT=w.forwardRef(({className:t,...e},n)=>d.jsx("thead",{ref:n,className:Re("[&_tr]:border-b",t),...e}));LT.displayName="TableHeader";const UT=w.forwardRef(({className:t,...e},n)=>d.jsx("tbody",{ref:n,className:Re("[&_tr:last-child]:border-0",t),...e}));UT.displayName="TableBody";const dF=w.forwardRef(({className:t,...e},n)=>d.jsx("tfoot",{ref:n,className:Re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));dF.displayName="TableFooter";const Ug=w.forwardRef(({className:t,...e},n)=>d.jsx("tr",{ref:n,className:Re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ug.displayName="TableRow";const Bg=w.forwardRef(({className:t,...e},n)=>d.jsx("th",{ref:n,className:Re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Bg.displayName="TableHead";const zg=w.forwardRef(({className:t,...e},n)=>d.jsx("td",{ref:n,className:Re("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));zg.displayName="TableCell";const fF=w.forwardRef(({className:t,...e},n)=>d.jsx("caption",{ref:n,className:Re("mt-4 text-sm text-muted-foreground",t),...e}));fF.displayName="TableCaption";var hF="VisuallyHidden",BT=w.forwardRef((t,e)=>d.jsx(Ge.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));BT.displayName=hF;var mF=BT,[nh,f7]=tl("Tooltip",[th]),rh=th(),zT="TooltipProvider",pF=700,Fg="tooltip.open",[gF,jv]=nh(zT),FT=t=>{const{__scopeTooltip:e,delayDuration:n=pF,skipDelayDuration:a=300,disableHoverableContent:i=!1,children:l}=t,[u,f]=w.useState(!0),m=w.useRef(!1),p=w.useRef(0);return w.useEffect(()=>{const v=p.current;return()=>window.clearTimeout(v)},[]),d.jsx(gF,{scope:e,isOpenDelayed:u,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(p.current),f(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>f(!0),a)},[a]),isPointerInTransitRef:m,onPointerInTransitChange:w.useCallback(v=>{m.current=v},[]),disableHoverableContent:i,children:l})};FT.displayName=zT;var ah="Tooltip",[yF,sh]=nh(ah),HT=t=>{const{__scopeTooltip:e,children:n,open:a,defaultOpen:i=!1,onOpenChange:l,disableHoverableContent:u,delayDuration:f}=t,m=jv(ah,t.__scopeTooltip),p=rh(e),[v,y]=w.useState(null),b=Wn(),x=w.useRef(0),_=u??m.disableHoverableContent,N=f??m.delayDuration,C=w.useRef(!1),[S=!1,T]=ou({prop:a,defaultProp:i,onChange:F=>{F?(m.onOpen(),document.dispatchEvent(new CustomEvent(Fg))):m.onClose(),l==null||l(F)}}),R=w.useMemo(()=>S?C.current?"delayed-open":"instant-open":"closed",[S]),j=w.useCallback(()=>{window.clearTimeout(x.current),x.current=0,C.current=!1,T(!0)},[T]),M=w.useCallback(()=>{window.clearTimeout(x.current),x.current=0,T(!1)},[T]),A=w.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{C.current=!0,T(!0),x.current=0},N)},[N,T]);return w.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),d.jsx(_T,{...p,children:d.jsx(yF,{scope:e,contentId:b,open:S,stateAttribute:R,trigger:v,onTriggerChange:y,onTriggerEnter:w.useCallback(()=>{m.isOpenDelayed?A():j()},[m.isOpenDelayed,A,j]),onTriggerLeave:w.useCallback(()=>{_?M():(window.clearTimeout(x.current),x.current=0)},[M,_]),onOpen:j,onClose:M,disableHoverableContent:_,children:n})})};HT.displayName=ah;var Hg="TooltipTrigger",qT=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...a}=t,i=sh(Hg,n),l=jv(Hg,n),u=rh(n),f=w.useRef(null),m=on(e,f,i.onTriggerChange),p=w.useRef(!1),v=w.useRef(!1),y=w.useCallback(()=>p.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),d.jsx(Tv,{asChild:!0,...u,children:d.jsx(Ge.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...a,ref:m,onPointerMove:ht(t.onPointerMove,b=>{b.pointerType!=="touch"&&!v.current&&!l.isPointerInTransitRef.current&&(i.onTriggerEnter(),v.current=!0)}),onPointerLeave:ht(t.onPointerLeave,()=>{i.onTriggerLeave(),v.current=!1}),onPointerDown:ht(t.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:ht(t.onFocus,()=>{p.current||i.onOpen()}),onBlur:ht(t.onBlur,i.onClose),onClick:ht(t.onClick,i.onClose)})})});qT.displayName=Hg;var vF="TooltipPortal",[h7,bF]=nh(vF,{forceMount:void 0}),Uo="TooltipContent",VT=w.forwardRef((t,e)=>{const n=bF(Uo,t.__scopeTooltip),{forceMount:a=n.forceMount,side:i="top",...l}=t,u=sh(Uo,t.__scopeTooltip);return d.jsx(xa,{present:a||u.open,children:u.disableHoverableContent?d.jsx($T,{side:i,...l,ref:e}):d.jsx(xF,{side:i,...l,ref:e})})}),xF=w.forwardRef((t,e)=>{const n=sh(Uo,t.__scopeTooltip),a=jv(Uo,t.__scopeTooltip),i=w.useRef(null),l=on(e,i),[u,f]=w.useState(null),{trigger:m,onClose:p}=n,v=i.current,{onPointerInTransitChange:y}=a,b=w.useCallback(()=>{f(null),y(!1)},[y]),x=w.useCallback((_,N)=>{const C=_.currentTarget,S={x:_.clientX,y:_.clientY},T=SF(S,C.getBoundingClientRect()),R=NF(S,T),j=CF(N.getBoundingClientRect()),M=RF([...R,...j]);f(M),y(!0)},[y]);return w.useEffect(()=>()=>b(),[b]),w.useEffect(()=>{if(m&&v){const _=C=>x(C,v),N=C=>x(C,m);return m.addEventListener("pointerleave",_),v.addEventListener("pointerleave",N),()=>{m.removeEventListener("pointerleave",_),v.removeEventListener("pointerleave",N)}}},[m,v,x,b]),w.useEffect(()=>{if(u){const _=N=>{const C=N.target,S={x:N.clientX,y:N.clientY},T=(m==null?void 0:m.contains(C))||(v==null?void 0:v.contains(C)),R=!TF(S,u);T?b():R&&(b(),p())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[m,v,u,p,b]),d.jsx($T,{...t,ref:l})}),[_F,wF]=nh(ah,{isInside:!1}),$T=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:a,"aria-label":i,onEscapeKeyDown:l,onPointerDownOutside:u,...f}=t,m=sh(Uo,n),p=rh(n),{onClose:v}=m;return w.useEffect(()=>(document.addEventListener(Fg,v),()=>document.removeEventListener(Fg,v)),[v]),w.useEffect(()=>{if(m.trigger){const y=b=>{const x=b.target;x!=null&&x.contains(m.trigger)&&v()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[m.trigger,v]),d.jsx(Kf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:y=>y.preventDefault(),onDismiss:v,children:d.jsxs(wT,{"data-state":m.stateAttribute,...p,...f,ref:e,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(aC,{children:a}),d.jsx(_F,{scope:n,isInside:!0,children:d.jsx(mF,{id:m.contentId,role:"tooltip",children:i||a})})]})})});VT.displayName=Uo;var GT="TooltipArrow",EF=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...a}=t,i=rh(n);return wF(GT,n).isInside?null:d.jsx(ET,{...i,...a,ref:e})});EF.displayName=GT;function SF(t,e){const n=Math.abs(e.top-t.y),a=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),l=Math.abs(e.left-t.x);switch(Math.min(n,a,i,l)){case l:return"left";case i:return"right";case n:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function NF(t,e,n=5){const a=[];switch(e){case"top":a.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":a.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":a.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":a.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return a}function CF(t){const{top:e,right:n,bottom:a,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:a},{x:i,y:a}]}function TF(t,e){const{x:n,y:a}=t;let i=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const f=e[l].x,m=e[l].y,p=e[u].x,v=e[u].y;m>a!=v>a&&n<(p-f)*(a-m)/(v-m)+f&&(i=!i)}return i}function RF(t){const e=t.slice();return e.sort((n,a)=>n.x<a.x?-1:n.x>a.x?1:n.y<a.y?-1:n.y>a.y?1:0),DF(e)}function DF(t){if(t.length<=1)return t.slice();const e=[];for(let a=0;a<t.length;a++){const i=t[a];for(;e.length>=2;){const l=e[e.length-1],u=e[e.length-2];if((l.x-u.x)*(i.y-u.y)>=(l.y-u.y)*(i.x-u.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let a=t.length-1;a>=0;a--){const i=t[a];for(;n.length>=2;){const l=n[n.length-1],u=n[n.length-2];if((l.x-u.x)*(i.y-u.y)>=(l.y-u.y)*(i.x-u.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var AF=FT,IF=HT,YT=qT,WT=VT;const jF=AF,IE=IF,qg=w.forwardRef(({className:t,...e},n)=>d.jsx(YT,{ref:n,className:Re("",t),...e}));qg.displayName=YT.displayName;const Vg=w.forwardRef(({className:t,sideOffset:e=4,...n},a)=>d.jsx(WT,{ref:a,sideOffset:e,className:Re("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Vg.displayName=WT.displayName;function OF({value:t=[],onChange:e,config:n,FormContent:a}){const[i,l]=w.useState(!1),[u,f]=w.useState(null),[m,p]=w.useState(null),[v,y]=w.useState({}),[b,x]=w.useState(!1),[_,N]=w.useState(null),{columns:C,form:{emptyState:S={title:"No hay elementos",description:'Haga clic en el botón "Agregar" para comenzar.'},modalTitles:T={add:"Agregar elemento",edit:"Editar elemento"},addButtonText:R="Agregar",editButtonTooltip:j="Editar",deleteButtonTooltip:M="Eliminar",disableEditIf:A,disableDeleteIf:F}}=n;w.useEffect(()=>{(async()=>{const L=C.filter(ue=>{var P;return(P=ue.reference)==null?void 0:P.field.relatedService}).map(async ue=>{try{const K=await ue.reference.field.relatedService.service.findAll();return{field:ue.accessor,data:K}}catch(P){return console.error(`Error loading referenced data for ${ue.accessor}:`,P),{field:ue.accessor,data:[]}}}),le=await Promise.all(L),te={};le.forEach(({field:ue,data:P})=>{const K={};P.forEach(k=>{K[k.id]=k}),te[ue.replace("Id","")]=K}),y(te)})()},[C]);const Q=X=>{X.preventDefault(),X.stopPropagation(),f(null),p(null),l(!0)},U=(X,Z)=>{f(X),p(Z),l(!0)},W=X=>{const Z=[...t];Z.splice(X,1),e(Z)},oe=X=>{N(X),x(!0)},G=X=>{const Z=[...t];m!==null?Z[m]=X:Z.push(X),l(!1),e(Z)},ne=(X,Z)=>{var L;if(Z.render)return Z.render(X[Z.accessor],X);if(Z.reference){const le=X[Z.accessor],te=Z.accessor.replace("Id",""),ue=(L=v[te])==null?void 0:L[le];return ue?ue[Z.reference.displayField]:"N/A"}return X[Z.accessor]};return d.jsx(jF,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsx(zC,{open:b,onOpenChange:x,title:"Confirmar eliminación",description:"¿Está seguro de que desea eliminar este elemento? Esta acción no se puede deshacer.",onConfirm:()=>_!==null&&W(_),confirmText:"Eliminar",variant:"destructive"}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(_e,{onClick:Q,size:"sm",variant:"outline",className:"h-8",type:"button",children:[d.jsx(ns,{className:"h-4 w-4 mr-1"}),R]})}),t.length===0?d.jsxs("div",{className:"text-center py-6 rounded-lg bg-muted/5 border border-dashed",children:[d.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:S.title}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:S.description})]}):d.jsx("div",{className:"rounded-lg border border-border/50 overflow-hidden",children:d.jsxs(PT,{children:[d.jsx(LT,{children:d.jsxs(Ug,{className:"hover:bg-transparent",children:[C.map((X,Z)=>d.jsx(Bg,{className:"h-9 text-xs",children:X.header},Z)),d.jsx(Bg,{className:"h-9 w-[80px] text-xs",children:"Acciones"})]})}),d.jsx(UT,{children:t.map((X,Z)=>d.jsxs(Ug,{className:"hover:bg-muted/5",children:[C.map((L,le)=>d.jsx(zg,{className:"py-2 text-sm",children:ne(X,L)},le)),d.jsx(zg,{className:"py-2",children:d.jsxs("div",{className:"flex items-center gap-0.5",children:[(!A||!A(X))&&d.jsxs(IE,{children:[d.jsx(qg,{asChild:!0,children:d.jsx(_e,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground",onClick:L=>{L.preventDefault(),L.stopPropagation(),U(X,Z)},children:d.jsx(Df,{className:"h-3.5 w-3.5"})})}),d.jsx(Vg,{children:d.jsx("p",{children:j})})]}),d.jsxs(IE,{children:[d.jsx(qg,{asChild:!0,children:d.jsx(_e,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:L=>{L.preventDefault(),L.stopPropagation(),oe(Z)},children:d.jsx(Af,{className:"h-3.5 w-3.5"})})}),d.jsx(Vg,{children:d.jsx("p",{children:M})})]})]})})]},Z))})]})}),d.jsx(lu,{open:i,onOpenChange:l,children:d.jsxs(nl,{className:"sm:max-w-md",children:[d.jsx(rl,{children:d.jsx(al,{className:"text-lg",children:u?T.edit:T.add})}),d.jsx(a,{arrayForm:n.form,initialData:u||{},onSubmit:G,onCancel:()=>l(!1)})]})})]})})}function kF(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Ov="Checkbox",[MF,m7]=tl(Ov),[PF,LF]=MF(Ov),KT=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:a,checked:i,defaultChecked:l,required:u,disabled:f,value:m="on",onCheckedChange:p,form:v,...y}=t,[b,x]=w.useState(null),_=on(e,j=>x(j)),N=w.useRef(!1),C=b?v||!!b.closest("form"):!0,[S=!1,T]=ou({prop:i,defaultProp:l,onChange:p}),R=w.useRef(S);return w.useEffect(()=>{const j=b==null?void 0:b.form;if(j){const M=()=>T(R.current);return j.addEventListener("reset",M),()=>j.removeEventListener("reset",M)}},[b,T]),d.jsxs(PF,{scope:n,state:S,disabled:f,children:[d.jsx(Ge.button,{type:"button",role:"checkbox","aria-checked":cs(S)?"mixed":S,"aria-required":u,"data-state":ZT(S),"data-disabled":f?"":void 0,disabled:f,value:m,...y,ref:_,onKeyDown:ht(t.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:ht(t.onClick,j=>{T(M=>cs(M)?!0:!M),C&&(N.current=j.isPropagationStopped(),N.current||j.stopPropagation())})}),C&&d.jsx(UF,{control:b,bubbles:!N.current,name:a,value:m,checked:S,required:u,disabled:f,form:v,style:{transform:"translateX(-100%)"},defaultChecked:cs(l)?!1:l})]})});KT.displayName=Ov;var QT="CheckboxIndicator",XT=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:a,...i}=t,l=LF(QT,n);return d.jsx(xa,{present:a||cs(l.state)||l.state===!0,children:d.jsx(Ge.span,{"data-state":ZT(l.state),"data-disabled":l.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});XT.displayName=QT;var UF=t=>{const{control:e,checked:n,bubbles:a=!0,defaultChecked:i,...l}=t,u=w.useRef(null),f=kF(n),m=dT(e);w.useEffect(()=>{const v=u.current,y=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(y,"checked").set;if(f!==n&&x){const _=new Event("click",{bubbles:a});v.indeterminate=cs(n),x.call(v,cs(n)?!1:n),v.dispatchEvent(_)}},[f,n,a]);const p=w.useRef(cs(n)?!1:n);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??p.current,...l,tabIndex:-1,ref:u,style:{...t.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function cs(t){return t==="indeterminate"}function ZT(t){return cs(t)?"indeterminate":t?"checked":"unchecked"}var JT=KT,BF=XT;const hu=w.forwardRef(({className:t,...e},n)=>d.jsx(JT,{ref:n,className:Re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:d.jsx(BF,{className:Re("flex items-center justify-center text-current"),children:d.jsx(vS,{className:"h-4 w-4"})})}));hu.displayName=JT.displayName;var zF="Separator",jE="horizontal",FF=["horizontal","vertical"],eR=w.forwardRef((t,e)=>{const{decorative:n,orientation:a=jE,...i}=t,l=HF(a)?a:jE,f=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return d.jsx(Ge.div,{"data-orientation":l,...f,...i,ref:e})});eR.displayName=zF;function HF(t){return FF.includes(t)}var tR=eR;const $g=w.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...a},i)=>d.jsx(tR,{ref:i,decorative:n,orientation:e,className:Re("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...a}));$g.displayName=tR.displayName;function qF({arrayForm:t,initialData:e,onSubmit:n,onCancel:a}){const[i,l]=I.useState(e),[u,f]=I.useState({});I.useEffect(()=>{(async()=>{const y=t.fields.filter(_=>_.relatedService).map(async _=>{try{const N=await _.relatedService.service.findAll();return{field:_.name,data:N}}catch(N){return console.error(`Error loading data for ${_.name}:`,N),Pe.error(`Error al cargar datos relacionados para ${_.label}`),{field:_.name,data:[]}}}),b=await Promise.all(y),x={};b.forEach(({field:_,data:N})=>{x[_]=N}),f(x)})()},[t.fields]);const m=(v,y)=>{l(b=>({...b,[y.name]:v}))},p=v=>{if(v.relatedService&&u[v.name]){const{labelField:y,valueField:b}=v.relatedService;return u[v.name].map(x=>({value:x[b||"id"],label:x[y]}))}return v.options||[]};return d.jsxs("div",{className:"space-y-6 py-4",children:[d.jsx("div",{className:"grid gap-6",children:t.fields.map(v=>d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Kn,{htmlFor:v.name,children:[v.label,v.required&&d.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),v.type==="select"?d.jsx(Av,{id:v.name,name:v.name,value:i[v.name]||"",onChange:y=>m(y,v),required:v.required,className:"w-full",options:p(v),placeholder:v.placeholder||"Seleccione una opción",searchPlaceholder:"Buscar...",notFoundText:"No se encontraron resultados"}):v.type==="textarea"?d.jsx(Iv,{id:v.name,name:v.name,value:i[v.name]||"",onChange:y=>m(y.target.value,v),required:v.required,placeholder:v.placeholder,className:"min-h-[100px]"}):d.jsx(dr,{id:v.name,type:v.type,name:v.name,value:i[v.name]||"",onChange:y=>m(y.target.value,v),required:v.required,placeholder:v.placeholder,className:"w-full"})]},v.name))}),d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx(_e,{type:"button",variant:"outline",onClick:a,children:"Cancelar"}),d.jsx(_e,{type:"button",onClick:()=>n(i),children:"Guardar"})]})]})}function jn({title:t,fields:e,sections:n,initialValues:a={},backPath:i,service:l,onSuccess:u,onFieldChange:f,children:m}){const p=It(),[v,y]=I.useState(a),[b,x]=I.useState(!1),[_,N]=I.useState({});I.useEffect(()=>{y(a)},[a]),I.useEffect(()=>{(async()=>{const Q=(n?n.flatMap(oe=>oe.fields):e||[]).filter(oe=>oe.relatedService).map(async oe=>{try{const G=await oe.relatedService.service.findAll();return{field:oe.name,data:G}}catch(G){return console.error(`Error loading data for ${oe.name}:`,G),Pe.error(`Error al cargar datos relacionados para ${oe.label}`),{field:oe.name,data:[]}}}),U=await Promise.all(Q),W={};U.forEach(({field:oe,data:G})=>{W[oe]=G}),N(W)})()},[e,n]);const C=A=>{const F=v[A.name];return A.type==="array"?Array.isArray(F)?F:[]:A.type==="date"?Qk(F):A.type==="boolean"?!!F:F==null?"":String(F)},S=(A,F)=>{var U;let Q=A;if(F.type==="number")if(A===""||A===null||A===void 0)Q="";else{const W=((U=A==null?void 0:A.target)==null?void 0:U.value)??A;Q=W===""?"":Number(W),isNaN(Q)&&(Q="")}else F.type==="date"?Q=A:F.type==="boolean"?Q=!!A:F.type==="select"?Q=A:A!=null&&A.target&&(Q=A.target.value);if(y(W=>({...W,[F.name]:Q})),F.onChange){const W=F.onChange(Q,v);W!==void 0&&(Q=W,y(oe=>({...oe,[F.name]:W})))}f==null||f(F.name,Q)},T=async A=>{A.preventDefault(),x(!0);try{a.id?(await l.update(a.id,v),Pe.success("Registro actualizado exitosamente")):(await l.create(v),Pe.success("Registro creado exitosamente")),u==null||u(),p(i)}catch(F){console.error("Error al guardar el registro:",F),Pe.error("Error al guardar el registro")}finally{x(!1)}},R=A=>{if(A.relatedService&&_[A.name]){const{labelField:F,valueField:Q}=A.relatedService;return _[A.name].map(U=>({value:U[Q||"id"],label:U[F]}))}return A.options||[]},j=A=>d.jsxs("div",{className:`space-y-2 ${A.type==="array"?"col-span-2":""}`,children:[d.jsxs(Kn,{htmlFor:A.name,children:[A.label,A.required&&d.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),A.type==="select"?d.jsx(Av,{id:A.name,name:A.name,value:C(A),onChange:F=>S(F,A),required:A.required,className:"w-full",options:R(A),placeholder:A.placeholder||"Seleccione una opción",searchPlaceholder:"Buscar...",notFoundText:"No se encontraron resultados"}):A.type==="textarea"?d.jsx(Iv,{id:A.name,name:A.name,value:C(A),onChange:F=>S(F.target.value,A),required:A.required,placeholder:A.placeholder,className:"min-h-[100px]"}):A.type==="boolean"?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(hu,{id:A.name,name:A.name,checked:C(A),onCheckedChange:F=>S(F,A),disabled:A.readOnly}),d.jsx("label",{htmlFor:A.name,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:A.placeholder||A.label})]}):A.type==="array"?d.jsx(OF,{config:A.arrayConfig,value:C(A),onChange:F=>S(F,A),FormContent:qF}):A.type==="date"?d.jsx(fu,{id:A.name,name:A.name,value:C(A),onChange:F=>S(F,A),required:A.required,placeholder:A.placeholder,className:"w-full"}):d.jsx(dr,{id:A.name,type:A.type,name:A.name,value:C(A),onChange:F=>S(F.target.value,A),required:A.required,placeholder:A.placeholder,className:"w-full"})]},A.name),M=A=>d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:A.map(j)});return d.jsx(rt,{className:"max-w-4xl mx-auto p-6",children:d.jsxs("form",{onSubmit:T,className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(_e,{type:"button",variant:"ghost",size:"icon",onClick:()=>p(i),children:d.jsx(pS,{className:"h-5 w-5"})}),d.jsx("h2",{className:"text-2xl font-bold",children:t})]}),n?d.jsx("div",{className:"space-y-8",children:n.map((A,F)=>A.visible?A.visible(v)&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-lg font-semibold",children:A.title}),d.jsx($g,{})]}),M(A.fields)]},A.title):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-lg font-semibold",children:A.title}),d.jsx($g,{})]}),M(A.fields)]},A.title))}):M(e||[]),m,d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx(_e,{type:"button",variant:"outline",onClick:()=>p(i),children:"Cancelar"}),d.jsxs(_e,{type:"submit",disabled:b,children:[d.jsx(WI,{className:"h-4 w-4 mr-2"}),a.id?"Actualizar":"Guardar"]})]})]})})}function OE(){const{id:t}=ze(),[e,n]=I.useState({}),a=new _a;I.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"phone",label:"Teléfono",type:"text"},{name:"email",label:"Email",type:"email"},{name:"address",label:"Dirección",type:"textarea"},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:Mo.ACTIVE,label:"Activo"},{value:Mo.INACTIVE,label:"Inactivo"}]}];return d.jsx(jn,{title:t?"Editar Cliente":"Nuevo Cliente",fields:i,initialValues:e,service:a,backPath:"/customers"})}function On({title:t,fields:e,editPath:n,backPath:a,service:i,id:l}){const u=It(),[f,m]=I.useState(null),[p,v]=I.useState(!0);I.useEffect(()=>{(async()=>{try{const _=await i.findById(l);_?m(_):(Pe.error("Registro no encontrado"),u(a))}catch(_){console.error("Error al cargar el registro:",_),Pe.error("Error al cargar el registro"),u(a)}finally{v(!1)}})()},[l,i,a,u]);const y=async()=>{if(window.confirm("¿Está seguro de que desea eliminar este registro?"))try{await i.delete(l),Pe.success("Registro eliminado exitosamente"),u(a)}catch(x){console.error("Error al eliminar el registro:",x),Pe.error("Error al eliminar el registro")}};if(p||!f)return d.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})});const b=e(f);return d.jsxs("div",{className:"min-h-[80vh] flex flex-col gap-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:t}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Detalles del registro"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(_e,{variant:"ghost",onClick:()=>u(a),className:"flex items-center gap-2",children:[d.jsx(pS,{className:"h-4 w-4"}),"Volver"]}),d.jsx(oa,{to:n,children:d.jsxs(_e,{variant:"outline",className:"flex items-center gap-2",children:[d.jsx(Df,{className:"h-4 w-4"}),"Editar"]})}),d.jsxs(_e,{variant:"destructive",onClick:y,className:"flex items-center gap-2",children:[d.jsx(Af,{className:"h-4 w-4"}),"Eliminar"]})]})]}),d.jsx(rt,{className:"p-6",children:d.jsx("dl",{className:"grid gap-6 md:grid-cols-2",children:b.map((x,_)=>d.jsxs("div",{className:`space-y-2 ${I.isValidElement(x.value)?"col-span-2":""}`,children:[d.jsx("dt",{className:"text-sm font-semibold tracking-tight text-foreground/90",children:x.label}),d.jsx("dd",{className:"text-sm",children:I.isValidElement(x.value)?d.jsx("div",{className:"rounded-md border",children:d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{className:"w-full caption-bottom text-sm",children:d.jsx("tbody",{children:x.value})})})}):x.value||d.jsx("span",{className:"text-muted-foreground",children:"-"})})]},_))})})]})}function VF(){const{id:t}=ze(),e=new _a,n=a=>[{label:"Nombre",value:a.name},{label:"Teléfono",value:a.phone||"-"},{label:"Email",value:a.email||"-"},{label:"Dirección",value:a.address||"-"},{label:"Estado",value:a.status===Mo.ACTIVE?"Activo":"Inactivo"}];return t?d.jsx(On,{title:"Cliente",fields:n,editPath:`/customers/${t}/edit`,backPath:"/customers",service:e,id:t}):null}var Bo=(t=>(t.ACTIVE="active",t.INACTIVE="inactive",t))(Bo||{});class $F extends An{constructor(n){super(n,"suppliers");$e(this,"modelProperties",["commercialName","legalName","phone","address","email","rut","status"])}async findByCommercialName(n){return this.findByField("commercialName",n)}async findByEmail(n){return this.findByField("email",n)}async findByPhone(n){return this.findByField("phone",n)}}class vr extends In{constructor(){super($F)}async findByName(e){return this.repository.findByCommercialName(e)}async findByEmail(e){return this.repository.findByEmail(e)}async findByPhone(e){return this.repository.findByPhone(e)}async findByStatus(e){return(await this.repository.findAll()).filter(a=>a.status===e)}}function GF(){const t=new vr,e=[{header:"Nombre Comercial",accessor:"commercialName"},{header:"Teléfono",accessor:"phone",render:n=>n.phone||"-"},{header:"Estado",accessor:"status",type:"tag",tags:[{value:Bo.ACTIVE,label:"Activo",color:"success"},{value:Bo.INACTIVE,label:"Inactivo",color:"secondary"}]}];return d.jsx(Dn,{columns:e,title:"Proveedores",addPath:"/suppliers/new",backPath:"/suppliers",service:t})}function kE(){const{id:t}=ze(),[e,n]=I.useState({}),a=new vr;I.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"commercialName",label:"Nombre Comercial",type:"text",required:!0},{name:"legalName",label:"Razón Social",type:"text"},{name:"phone",label:"Teléfono",type:"text"},{name:"email",label:"Email",type:"email"},{name:"address",label:"Dirección",type:"textarea"},{name:"rut",label:"RUT",type:"text"},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:Bo.ACTIVE,label:"Activo"},{value:Bo.INACTIVE,label:"Inactivo"}]}];return d.jsx(jn,{title:t?"Editar Proveedor":"Nuevo Proveedor",fields:i,initialValues:e,service:a,backPath:"/suppliers"})}function YF(){const{id:t}=ze(),e=new vr,n=a=>[{label:"Nombre Comercial",value:a.commercialName},{label:"Razón Social",value:a.legalName||"-"},{label:"Teléfono",value:a.phone||"-"},{label:"Email",value:a.email||"-"},{label:"Dirección",value:a.address||"-"},{label:"RUT",value:a.rut||"-"},{label:"Estado",value:a.status===Bo.ACTIVE?"Activo":"Inactivo"}];return t?d.jsx(On,{title:"Proveedor",fields:n,editPath:`/suppliers/${t}/edit`,backPath:"/suppliers",service:e,id:t}):null}class WF extends An{constructor(n){super(n,"workers");$e(this,"modelProperties",["name","primaryRoleId","phone","hireDate","monthlySalary","leaveBalance","leaveSalaryBalance","vacationSalaryBalance","bonusSalaryBalance","leaveHistory","payments"])}async findByPrimaryRole(n){return this.findByField("primaryRoleId",n)}async findByName(n){return this.findByField("name",n)}}class vn extends In{constructor(){super(WF)}async findByName(e){return this.repository.findByName(e)}async findByPrimaryRoleId(e){return this.repository.findByPrimaryRole(e)}async findByHireDateRange(e,n){return(await this.repository.findAll()).filter(i=>{const l=new Date(i.hireDate);return l>=e&&l<=n})}async findBySalaryRange(e,n){return(await this.repository.findAll()).filter(i=>i.monthlySalary>=e&&i.monthlySalary<=n)}}class KF extends An{constructor(n){super(n,"roles");$e(this,"modelProperties",["name","isProduction","tasks"])}async findByName(n){return this.findByField("name",n)}}class Ss extends In{constructor(){super(KF)}async findByName(e){return this.repository.findByName(e)}async findByIsProduction(e){return(await this.repository.findAll()).filter(a=>a.isProduction===e)}async findByTaskName(e){return(await this.repository.findAll()).filter(a=>{var i;return(i=a.tasks)==null?void 0:i.some(l=>l.taskName===e)})}}function QF(){const t=new vn,e=new Ss,[n,a]=I.useState({});I.useEffect(()=>{(async()=>{const m=(await e.findAll()).reduce((p,v)=>({...p,[v.id]:v.name}),{});a(m)})()},[]);const i=u=>{const f=new Date,m=new Date(u);let p=f.getFullYear()-m.getFullYear();const v=f.getMonth()-m.getMonth();return(v<0||v===0&&f.getDate()<m.getDate())&&p--,p},l=[{header:"Nombre",accessor:"name"},{header:"Fecha de Contratación",accessor:"hireDate",render:u=>{const f=new Date(u.hireDate),m=i(f);return`${f.toLocaleDateString()} (${m} ${m===1?"año":"años"})`}},{header:"Rol Principal",accessor:"primaryRoleId",render:u=>n[u.primaryRoleId]||"Rol no encontrado"}];return d.jsx(Dn,{columns:l,title:"Colaboradores",addPath:"/workers/new",backPath:"/workers",service:t})}var ci=(t=>(t.PAID="paid",t.PENDING="pending",t))(ci||{}),ui=(t=>(t.SALARY="salary",t.LEAVE="leave",t))(ui||{});function ME(){const{id:t}=ze(),[e,n]=I.useState({}),a=new vn;I.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"primaryRoleId",label:"Rol Principal",type:"select",required:!0,relatedService:{service:new Ss,labelField:"name"}},{name:"phone",label:"Teléfono",type:"text"},{name:"hireDate",label:"Fecha de Contratación",type:"date",required:!0},{name:"monthlySalary",label:"Salario Mensual",type:"number",required:!0},{name:"leaveBalance",label:"Saldo de Licencias",type:"number",required:!0},{name:"leaveSalaryBalance",label:"Saldo de Salario por Licencias",type:"number",required:!0},{name:"vacationSalaryBalance",label:"Saldo de Salario por Vacaciones",type:"number",required:!0},{name:"bonusSalaryBalance",label:"Saldo de Aguinaldos",type:"number",required:!0},{name:"leaveHistory",label:"Historial de Licencias Tomadas",type:"array",arrayConfig:{columns:[{header:"Fecha de Inicio",accessor:"startDate",render:l=>new Date(l).toLocaleDateString("es-UY")},{header:"Fecha de Fin",accessor:"endDate",render:l=>new Date(l).toLocaleDateString("es-UY")},{header:"Días",accessor:"day"}],form:{fields:[{name:"startDate",label:"Fecha de Inicio",type:"date",required:!0},{name:"endDate",label:"Fecha de Fin",type:"date",required:!0},{name:"day",label:"Días",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay licencias registrados",description:'Haga clic en el botón "Agregar" para comenzar a registrar las licencias tomadas del trabajador.'},modalTitles:{add:"Agregar Licencias Tomadas",edit:"Modificar Licencias Tomada"},addButtonText:"Agregar Licencias Tomada",editButtonTooltip:"Modificar este Licencias Tomada",deleteButtonTooltip:"Eliminar este Licencias Tomada"}}},{name:"payments",label:"Pagos",type:"array",arrayConfig:{columns:[{header:"Monto",accessor:"amount",render:l=>(l==null?void 0:l.toLocaleString("es-UY",{style:"currency",currency:"UYU",currencyDisplay:"symbol",minimumFractionDigits:0,maximumFractionDigits:0}))||"N/A"},{header:"Estado",accessor:"status",render:l=>{switch(l){case ci.PENDING:return"Pendiente";case ci.PAID:return"Pagado";default:return"N/A"}}},{header:"Concepto",accessor:"concept",render:l=>{switch(l){case ui.SALARY:return"Salario";case ui.LEAVE:return"Permiso";default:return"N/A"}}},{header:"Fecha de Pago",accessor:"paymentDate",render:l=>new Date(l).toLocaleDateString("es-UY")}],form:{fields:[{name:"amount",label:"Monto",type:"number",required:!0,placeholder:"Ej: 500000"},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:ci.PENDING,label:"Pendiente"},{value:ci.PAID,label:"Pagado"}]},{name:"concept",label:"Concepto",type:"select",required:!0,options:[{value:ui.SALARY,label:"Salario"},{value:ui.LEAVE,label:"Permiso"}]},{name:"paymentDate",label:"Fecha de Pago",type:"date",required:!0}],emptyState:{title:"No hay pagos registrados",description:'Haga clic en el botón "Agregar" para comenzar a registrar los pagos del trabajador.'},modalTitles:{add:"Agregar Pago",edit:"Modificar Pago"},addButtonText:"Agregar Pago",editButtonTooltip:"Modificar este pago",deleteButtonTooltip:"Eliminar este pago"}}}];return d.jsx(jn,{title:t?"Editar Trabajador":"Nuevo Trabajador",fields:i,initialValues:e,service:a,backPath:"/workers"})}function wi({data:t,columns:e,emptyMessage:n="No hay datos"}){return t!=null&&t.length?d.jsx("div",{className:"rounded-md border",children:d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsxs("table",{className:"w-full caption-bottom text-sm",children:[d.jsx("thead",{children:d.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:e.map((a,i)=>d.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:a.header},i))})}),d.jsx("tbody",{children:t.map((a,i)=>d.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:e.map((l,u)=>d.jsx("td",{className:"p-4 align-middle",children:typeof l.accessor=="function"?l.accessor(a):d.jsx("div",{className:"font-medium",children:String(a[l.accessor])})},u))},i))})]})})}):d.jsx("div",{className:"text-muted-foreground",children:n})}function XF(){const{id:t}=ze(),e=new vn,n=new Ss,[a,i]=I.useState({});I.useEffect(()=>{(async()=>{const b=(await n.findAll()).reduce((x,_)=>({...x,[_.id]:_.name}),{});i(b)})()},[]);const l=v=>v.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0,maximumFractionDigits:0}),u=v=>new Date(v).toLocaleDateString("es-UY",{year:"numeric",month:"long",day:"numeric"}),f=v=>{const y=[{header:"Fecha Inicio",accessor:b=>u(b.startDate)},{header:"Fecha Fin",accessor:b=>u(b.endDate)},{header:"Días",accessor:b=>b.day}];return d.jsx(wi,{data:v,columns:y,emptyMessage:"No hay historial de licencias tomadas"})},m=v=>{const y=[{header:"Fecha",accessor:b=>u(b.paymentDate)},{header:"Concepto",accessor:b=>{switch(b.concept){case ui.SALARY:return"Salario";case ui.LEAVE:return"Permiso";default:return b.concept}}},{header:"Estado",accessor:b=>{switch(b.status){case ci.PAID:return"Pagado";case ci.PENDING:return"Pendiente";default:return b.status}}},{header:"Monto",accessor:b=>l(b.amount)}];return d.jsx(wi,{data:v,columns:y,emptyMessage:"No hay pagos"})},p=v=>[{label:"Nombre",value:v.name},{label:"Rol Principal",value:a[v.primaryRoleId]||"Rol no encontrado"},{label:"Fecha de Contratación",value:u(v.hireDate)},{label:"Salario Mensual",value:l(v.monthlySalary)},{label:"Balance de Licencias",value:v.leaveBalance},{label:"Balance de Salario por Licencias",value:l(v.leaveSalaryBalance)},{label:"Balance de Salario por Vacaciones",value:l(v.vacationSalaryBalance)},{label:"Balance de Aguinaldo",value:l(v.bonusSalaryBalance)},{label:"Historial de Licencias Tomadas",value:f(v.leaveHistory||[])},{label:"Historial de Pagos",value:m(v.payments||[])}];return t?d.jsx(On,{title:"Trabajador",fields:p,editPath:`/workers/${t}/edit`,backPath:"/workers",service:e,id:t}):null}function ZF(){const t=new Ss,e=[{header:"Nombre",accessor:"name"},{header:"Tipo",accessor:"isProduction",render:n=>n.isProduction?"Producción":"Administrativo"},{header:"Tareas",accessor:"tasks",render:n=>{var a;return((a=n.tasks)==null?void 0:a.length)||0}}];return d.jsx(Dn,{columns:e,title:"Roles",addPath:"/roles/new",backPath:"/roles",service:t})}var ri=(t=>(t.DAILY="daily",t.HOURLY="hourly",t.END_OF_SHIFT="end_of_shift",t))(ri||{});function PE(){const{id:t}=ze(),[e,n]=I.useState({}),a=new Ss;I.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"isProduction",label:"¿Es de Producción?",type:"boolean",required:!0,placeholder:"Marque si el rol es de producción"},{name:"tasks",label:"Tareas",type:"array",arrayConfig:{columns:[{header:"Tarea",accessor:"taskName"},{header:"Frecuencia",accessor:"frequency",render:l=>{switch(l){case ri.DAILY:return"Diaria";case ri.HOURLY:return"Por Hora";case ri.END_OF_SHIFT:return"Fin de Turno";default:return"N/A"}}}],form:{fields:[{name:"taskName",label:"Nombre de la Tarea",type:"text",required:!0,placeholder:"Ej: Limpiar área de trabajo"},{name:"frequency",label:"Frecuencia",type:"select",required:!0,options:[{value:ri.DAILY,label:"Diaria"},{value:ri.HOURLY,label:"Por Hora"},{value:ri.END_OF_SHIFT,label:"Fin de Turno"}]}],emptyState:{title:"No hay tareas definidas",description:'Haga clic en el botón "Agregar" para comenzar a definir las tareas de este rol.'},modalTitles:{add:"Agregar Tarea",edit:"Modificar Tarea"},addButtonText:"Agregar Tarea",editButtonTooltip:"Modificar esta tarea",deleteButtonTooltip:"Eliminar esta tarea"}}}];return d.jsx(jn,{title:t?"Editar Rol":"Nuevo Rol",fields:i,initialValues:e,service:a,backPath:"/roles"})}function JF(){const{id:t}=ze(),e=new Ss,n=i=>i!=null&&i.length?d.jsx(d.Fragment,{children:i.map((l,u)=>d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[d.jsx("td",{className:"p-4 align-middle",children:d.jsx("div",{className:"font-medium",children:l.taskName})}),d.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:l.frequency})]},u))}):"No hay tareas",a=i=>{var l;return[{label:"Nombre",value:i.name},{label:"Tipo",value:i.isProduction?"Producción":"Administrativo"},{label:"Tareas",value:(l=i.tasks)!=null&&l.length?n(i.tasks):"No hay tareas"}]};return t?d.jsx(On,{title:"Rol",fields:a,editPath:`/roles/${t}/edit`,backPath:"/roles",service:e,id:t}):null}class eH extends An{constructor(n){super(n,"units");$e(this,"modelProperties",["name","symbol","conversions"])}async findByName(n){return this.findByField("name",n)}async findBySymbol(n){return this.findByField("symbol",n)}}class Dt extends In{constructor(){super(eH)}async findByName(e){return this.repository.findByName(e)}async findBySymbol(e){return this.repository.findBySymbol(e)}async create(e){const n=await super.create(e),a={toUnitId:n.id,factor:1,operation:"multiply",isDefault:!0},i=e.conversions||[],l=[a,...i];return await this.update(n.id,{...n,conversions:l}),this.findById(n.id)}}function tH(){const t=new Dt,e=[{header:"Nombre",accessor:"name"},{header:"Símbolo",accessor:"symbol"},{header:"Conversiones",accessor:"conversions",render:n=>{var a;return((a=n.conversions)==null?void 0:a.length)||0}}];return d.jsx(Dn,{columns:e,title:"Unidades",addPath:"/units/new",backPath:"/units",service:t})}function LE(){const{id:t}=ze(),[e,n]=I.useState({}),a=new Dt;I.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"symbol",label:"Símbolo",type:"text",required:!0},{name:"conversions",label:"Conversiones",type:"array",arrayConfig:{columns:[{header:"Unidad Destino",accessor:"toUnitId",reference:{field:{name:"toUnitId",label:"Unidad Destino",type:"select",relatedService:{service:new Dt,labelField:"name"}},displayField:"name"}},{header:"Factor",accessor:"factor"},{header:"Operación",accessor:"operation",render:l=>l==="multiply"?"Multiplicar":"Dividir"}],form:{fields:[{name:"toUnitId",label:"Unidad Destino",type:"select",required:!0,relatedService:{service:new Dt,labelField:"name"}},{name:"factor",label:"Factor",type:"number",required:!0,placeholder:"Ej: 1000"},{name:"operation",label:"Operación",type:"select",required:!0,options:[{value:"multiply",label:"Multiplicar"},{value:"divide",label:"Dividir"}]}],emptyState:{title:"No hay conversiones definidas",description:'Haga clic en el botón "Agregar" para comenzar a definir las conversiones de esta unidad.'},modalTitles:{add:"Agregar Conversión",edit:"Modificar Conversión"},addButtonText:"Agregar Conversión",editButtonTooltip:"Modificar esta conversión",deleteButtonTooltip:"Eliminar esta conversión",disableEditIf:l=>l.isDefault===!0,disableDeleteIf:l=>l.isDefault===!0}}}];return d.jsx(jn,{title:t?"Editar Unidad":"Nueva Unidad",fields:i,initialValues:e,service:a,backPath:"/units"})}function nH(){const{id:t}=ze(),e=new Dt,[n,a]=I.useState({});I.useEffect(()=>{(async()=>{const p=(await e.findAll()).reduce((v,y)=>({...v,[y.id]:y.name}),{});a(p)})()},[]);const i=f=>{switch(f){case"multiply":return"Multiplicar";case"divide":return"Dividir";default:return f}},l=f=>f!=null&&f.length?d.jsx(d.Fragment,{children:f.map((m,p)=>d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[d.jsx("td",{className:"p-4 align-middle",children:d.jsx("div",{className:"font-medium",children:n[m.toUnitId]||"Unidad no encontrada"})}),d.jsxs("td",{className:"p-4 align-middle text-muted-foreground",children:[m.factor," (",i(m.operation),")"]})]},p))}):"No hay conversiones",u=f=>{var m;return[{label:"Nombre",value:f.name},{label:"Símbolo",value:f.symbol},{label:"Conversiones",value:(m=f.conversions)!=null&&m.length?l(f.conversions):"No hay conversiones"}]};return t?d.jsx(On,{title:"Unidad",fields:u,editPath:`/units/${t}/edit`,backPath:"/units",service:e,id:t}):null}class rH extends An{constructor(n){super(n,"parameters");$e(this,"modelProperties",["name","value","description"])}async findByName(n){return this.findByField("name",n)}}class kv extends In{constructor(){super(rH)}async findByName(e){return this.repository.findByName(e)}}function aH(){const t=new kv,e=[{header:"Nombre",accessor:"name"},{header:"Valor",accessor:"value"},{header:"Descripción",accessor:"description",render:n=>n.description||"-"}];return d.jsx(Dn,{columns:e,title:"Parámetros",addPath:"/parameters/new",backPath:"/parameters",service:t})}function UE(){const{id:t}=ze(),[e,n]=I.useState({}),a=new kv;I.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"value",label:"Valor",type:"text",required:!0},{name:"description",label:"Descripción",type:"textarea"}];return d.jsx(jn,{title:t?"Editar Parámetro":"Nuevo Parámetro",fields:i,initialValues:e,service:a,backPath:"/parameters"})}function sH(){const{id:t}=ze(),e=new kv,n=a=>[{label:"Nombre",value:a.name},{label:"Valor",value:a.value},{label:"Descripción",value:a.description||"-"}];return t?d.jsx(On,{title:"Parámetro",fields:n,editPath:`/parameters/${t}/edit`,backPath:"/parameters",service:e,id:t}):null}class iH extends An{constructor(n){super(n,"purchase-orders");$e(this,"modelProperties",["orderDate","status","supplierId","products","totalItems","totalProducts"])}async findBySupplierId(n){return this.findByField("supplierId",n)}async findByStatus(n){return this.findByField("status",n.toString())}async findByDateRange(n,a){return(await this.findAll()).filter(l=>l.orderDate>=n&&l.orderDate<=a)}}var be=(t=>(t.PENDING="PENDING",t.COMPLETED="COMPLETED",t))(be||{});class pa extends In{constructor(){super(iH)}calculateTotals(e){e.products||(e.products=[]),e.totalProducts=e.products.length,e.totalItems=e.products.reduce((n,a)=>{const i=Number(a.quantity)||0;return n+i},0)}async create(e){return e.status=e.status||be.PENDING,this.calculateTotals(e),super.create(e)}async update(e,n){return this.calculateTotals(n),super.update(e,n)}async findBySupplierId(e){return this.repository.findBySupplierId(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByDateRange(e,n){return this.repository.findByDateRange(e,n)}}class oH extends An{constructor(n){super(n,"products");$e(this,"modelProperties",["name","sku","imageUrl","isForSale","isMaterial","materialName","materialCode","salePrice","state","salesUnitCost","materialUnitCost","purchasePrice","salesUnitId","materialUnitId","purchaseUnitId","primarySupplierId","sector","sectorOrder","desiredStock","salesChannels","priceHistory"])}async findByName(n){return this.findByField("name",n)}async findBySku(n){return this.findByField("sku",n)}async findByState(n){return this.findByField("state",n)}async findBySector(n){return this.findByField("sector",n)}async findByPrimarySupplierId(n){return this.findByField("primarySupplierId",n)}async findByMaterialUnit(n){return this.findByField("materialUnitId",n)}async findBySalesUnit(n){return this.findByField("salesUnitId",n)}async findByIsForSale(n){return this.findByField("isForSale",n)}async findByIsMaterial(n){return this.findByField("isMaterial",n)}async findByStatus(n){return this.findByField("state",n)}async findBySaleStatus(n){return this.findByField("isForSale",n)}async findByMaterialStatus(n){return this.findByField("isMaterial",n)}async findByDesiredStockBelow(n){const a=bc(yc(this.db,this.dbRef),vc("desiredStock")),i=await bo(a);if(!i.exists())return[];const l=i.val();return Object.entries(l).filter(([,u])=>u.desiredStock&&u.desiredStock<n).map(([u,f])=>this.mapDocumentToEntity(f,u))}async findBySalesChannel(n){const a=bc(yc(this.db,this.dbRef),vc("salesChannels"),JN(n)),i=await bo(a);if(!i.exists())return[];const l=i.val();return Object.entries(l).filter(([,u])=>{var f;return(f=u.salesChannels)==null?void 0:f.some(m=>m.code===n)}).map(([u,f])=>this.mapDocumentToEntity(f,u))}async findByPriceRange(n,a){const i=bc(yc(this.db,this.dbRef),vc("salePrice")),l=await bo(i);if(!l.exists())return[];const u=l.val();return Object.entries(u).filter(([,f])=>f.salePrice>=n&&f.salePrice<=a).map(([f,m])=>this.mapDocumentToEntity(m,f))}async findByStockRange(n,a){const i=bc(yc(this.db,this.dbRef),vc("desiredStock")),l=await bo(i);if(!l.exists())return[];const u=l.val();return Object.entries(u).filter(([,f])=>f.desiredStock&&f.desiredStock>=n&&f.desiredStock<=a).map(([f,m])=>this.mapDocumentToEntity(m,f))}}class yt extends In{constructor(){super(oH)}async findByName(e){return this.repository.findByName(e)}async findBySku(e){return this.repository.findBySku(e)}async findByState(e){return this.repository.findByState(e)}async findBySector(e){return this.repository.findBySector(e)}async findByPrimarySupplierId(e){return this.repository.findByPrimarySupplierId(e)}async findByMaterialUnit(e){return this.repository.findByMaterialUnit(e)}async findBySalesUnit(e){return this.repository.findBySalesUnit(e)}async findByIsForSale(e){return this.repository.findByIsForSale(e)}async findByIsMaterial(e){return this.repository.findByIsMaterial(e)}async findByPriceRange(e,n){return this.repository.findByPriceRange(e,n)}async findByDesiredStockBelow(e){return this.repository.findByDesiredStockBelow(e)}}function lH(){const t=new pa,e=new vr,n=new yt,[a,i]=I.useState({}),[l,u]=I.useState([]);I.useEffect(()=>{(async()=>{try{const[p,v]=await Promise.all([e.findAll(),n.findAll()]),y=p.reduce((b,x)=>(b[x.id]=x.commercialName,b),{});i(y),u(v)}catch(p){console.error("Error loading data:",p)}})()},[]);const f=[{header:"Proveedor",accessor:"supplierId",render:m=>a[m.supplierId]||"Proveedor no encontrado"},{header:"Fecha",accessor:"orderDate",type:"date"},{header:"Total Productos",accessor:"totalProducts"},{header:"Total Items",accessor:"totalItems"},{header:"Estado",accessor:"status",type:"tag",tags:[{value:be.PENDING,label:"Pendiente",color:"warning"},{value:be.COMPLETED,label:"Completada",color:"success"}]}];return d.jsx(Dn,{columns:f,title:"Órdenes de Compra",addPath:"/purchase-orders/new",backPath:"/purchase-orders",service:t,type:"purchase",products:l,supplierName:a})}function BE(){const{id:t}=ze(),[e,n]=I.useState({}),a=new pa;I.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"supplierId",label:"Proveedor",type:"select",required:!0,relatedService:{service:new vr,labelField:"commercialName"}},{name:"orderDate",label:"Fecha",type:"date",required:!0},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:be.PENDING,label:"Pendiente"},{value:be.COMPLETED,label:"Completada"}]},{name:"products",label:"Productos",type:"array",arrayConfig:{columns:[{header:"Producto",accessor:"productId",reference:{field:{name:"productId",label:"Producto",type:"select",relatedService:{service:new yt,labelField:"name"}},displayField:"name"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"productId",label:"Producto",type:"select",required:!0,relatedService:{service:new yt,labelField:"name"}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay productos agregados",description:'Haga clic en el botón "Agregar" para comenzar a agregar productos a la orden de compra.'},modalTitles:{add:"Agregar Producto",edit:"Modificar Producto"},addButtonText:"Agregar Producto",editButtonTooltip:"Modificar este producto",deleteButtonTooltip:"Eliminar este producto"}}}];return d.jsx(jn,{title:t?"Editar Orden de Compra":"Nueva Orden de Compra",fields:i,initialValues:e,service:a,backPath:"/purchase-orders"})}function cH(){const{id:t}=ze(),e=new pa,n=new vr,a=new yt,i=new Dt,[l,u]=I.useState({}),[f,m]=I.useState({}),[p,v]=I.useState({});I.useEffect(()=>{(async()=>{const[N,C,S]=await Promise.all([n.findAll(),a.findAll(),i.findAll()]),T=N.reduce((M,A)=>({...M,[A.id]:A.commercialName}),{}),R=C.reduce((M,A)=>({...M,[A.id]:A}),{}),j=S.reduce((M,A)=>({...M,[A.id]:A.name}),{});u(T),m(R),v(j)})()},[]);const y=_=>{switch(_){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completado";default:return _}},b=_=>{const N=[{header:"Producto",accessor:C=>{if(C.productId){const S=f[C.productId];return d.jsx("div",{className:"font-medium",children:(S==null?void 0:S.name)||"Producto no encontrado"})}return"Producto no especificado"}},{header:"Cantidad",accessor:C=>{if(C.productId){const S=f[C.productId],T=S!=null&&S.purchaseUnitId?p[S.purchaseUnitId]:"Unidad no encontrada";return`${C.quantity} ${T}`}return C.quantity}}];return d.jsx(wi,{data:_,columns:N,emptyMessage:"No hay productos"})},x=_=>[{label:"Proveedor",value:l[_.supplierId]||"Proveedor no encontrado"},{label:"Estado",value:y(_.status)},{label:"Fecha",value:new Date(_.orderDate).toLocaleDateString()},{label:"Productos",value:b(_.products)},{label:"Total de Items",value:_.totalItems},{label:"Total de Productos",value:_.totalProducts}];return t?d.jsx(On,{title:"Pedido de Compra",fields:x,editPath:`/purchase-orders/${t}/edit`,backPath:"/purchase-orders",service:e,id:t}):null}class uH extends An{constructor(n){super(n,"customer-orders");$e(this,"modelProperties",["orderDate","status","customerId","products","recipes","totalItems","totalProducts"])}async findByCustomerId(n){return this.findByField("customerId",n)}async findByStatus(n){return this.findByField("status",n.toString())}async findByDateRange(n,a){return(await this.findAll()).filter(l=>l.orderDate>=n&&l.orderDate<=a)}}class ga extends In{constructor(){super(uH)}calculateTotals(e){e.products||(e.products=[]),e.recipes||(e.recipes=[]),e.totalProducts=e.products.length+e.recipes.length;const n=e.products.reduce((i,l)=>i+(Number(l.quantity)||0),0),a=e.recipes.reduce((i,l)=>i+(Number(l.quantity)||0),0);e.totalItems=n+a}async create(e){return e.status=e.status||be.PENDING,this.calculateTotals(e),super.create(e)}async update(e,n){return this.calculateTotals(n),super.update(e,n)}async findByCustomerId(e){return this.repository.findByCustomerId(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByDateRange(e,n){return this.repository.findByDateRange(e,n)}}class dH extends An{constructor(n){super(n,"recipes");$e(this,"modelProperties",["name","recipeType","yieldUnitId","yield","cost","materials","primaryWorkerId","notes"])}async findByName(n){return this.findByField("name",n)}}class At extends In{constructor(){super(dH)}async findByName(e){return this.repository.findByName(e)}async findByType(e){return(await this.repository.findAll()).filter(a=>a.recipeType===e)}async findByPrimaryWorkerId(e){return(await this.repository.findAll()).filter(a=>a.primaryWorkerId===e)}}function fH(){const t=new ga,e=new _a,n=new yt,a=new At,[i,l]=I.useState({}),[u,f]=I.useState([]),[m,p]=I.useState([]);I.useEffect(()=>{(async()=>{try{const[b,x,_]=await Promise.all([e.findAll(),n.findAll(),a.findAll()]),N=b.reduce((C,S)=>(C[S.id]=S.name,C),{});l(N),f(x),p(_)}catch(b){console.error("Error loading data:",b)}})()},[]);const v=[{header:"Cliente",accessor:"customerId",render:y=>i[y.customerId]||"Cliente no encontrado"},{header:"Fecha",accessor:"orderDate",type:"date"},{header:"Total Productos/Recetas",accessor:"totalProducts"},{header:"Total Items",accessor:"totalItems"},{header:"Estado",accessor:"status",type:"tag",tags:[{value:be.PENDING,label:"Pendiente",color:"warning"},{value:be.COMPLETED,label:"Completada",color:"success"}]}];return d.jsx(Dn,{columns:v,title:"Pedidos de Clientes",addPath:"/customer-orders/new",backPath:"/customer-orders",service:t,type:"customer",products:u,recipes:m,customerName:i})}function zE(){const{id:t}=ze(),[e,n]=I.useState({}),a=new ga;I.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"customerId",label:"Cliente",type:"select",required:!0,relatedService:{service:new _a,labelField:"name"}},{name:"orderDate",label:"Fecha",type:"date",required:!0},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:be.PENDING,label:"Pendiente"},{value:be.COMPLETED,label:"Completada"}]},{name:"recipes",label:"Recetas",type:"array",arrayConfig:{columns:[{header:"Receta",accessor:"recipeId",reference:{field:{name:"recipeId",label:"Receta",type:"select",relatedService:{service:new At,labelField:"name"}},displayField:"name"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"recipeId",label:"Receta",type:"select",required:!0,relatedService:{service:new At,labelField:"name"}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay recetas agregadas",description:'Haga clic en el botón "Agregar" para comenzar a agregar recetas al pedido.'},modalTitles:{add:"Agregar Receta",edit:"Modificar Receta"},addButtonText:"Agregar Receta",editButtonTooltip:"Modificar esta receta",deleteButtonTooltip:"Eliminar esta receta"}}},{name:"products",label:"Productos",type:"array",arrayConfig:{columns:[{header:"Producto",accessor:"productId",reference:{field:{name:"productId",label:"Producto",type:"select",relatedService:{service:new yt,labelField:"name"}},displayField:"name"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"productId",label:"Producto",type:"select",required:!0,relatedService:{service:new yt,labelField:"name"}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay productos agregados",description:'Haga clic en el botón "Agregar" para comenzar a agregar productos al pedido.'},modalTitles:{add:"Agregar Producto",edit:"Modificar Producto"},addButtonText:"Agregar Producto",editButtonTooltip:"Modificar este producto",deleteButtonTooltip:"Eliminar este producto"}}}];return d.jsx(jn,{title:t?"Editar Pedido de Cliente":"Nuevo Pedido de Cliente",fields:i,initialValues:e,service:a,backPath:"/customer-orders"})}function hH(){const{id:t}=ze(),e=new ga,n=new _a,a=new yt,i=new At,l=new Dt,[u,f]=I.useState({}),[m,p]=I.useState({}),[v,y]=I.useState({}),[b,x]=I.useState({});I.useEffect(()=>{(async()=>{const[R,j,M,A]=await Promise.all([n.findAll(),a.findAll(),i.findAll(),l.findAll()]),F=R.reduce((oe,G)=>({...oe,[G.id]:G.name}),{}),Q=j.reduce((oe,G)=>({...oe,[G.id]:G}),{}),U=M.reduce((oe,G)=>({...oe,[G.id]:G}),{}),W=A.reduce((oe,G)=>({...oe,[G.id]:G.name}),{});f(F),p(Q),y(U),x(W)})()},[]);const _=T=>{switch(T){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completado";default:return T}},N=T=>{const R=[{header:"Producto",accessor:j=>{if(j.productId){const M=m[j.productId];return d.jsx("div",{className:"font-medium",children:(M==null?void 0:M.name)||"Producto no encontrado"})}return"Producto no especificado"}},{header:"Cantidad",accessor:j=>{if(j.productId){const M=m[j.productId],A=M!=null&&M.salesUnitId?b[M.salesUnitId]:"Unidad no encontrada";return`${j.quantity} ${A}`}return j.quantity}}];return d.jsx(wi,{data:T,columns:R,emptyMessage:"No hay productos"})},C=T=>{const R=[{header:"Receta",accessor:j=>{const M=v[j.recipeId];return d.jsx("div",{className:"font-medium",children:(M==null?void 0:M.name)||"Receta no encontrada"})}},{header:"Cantidad",accessor:j=>{const M=v[j.recipeId],A=M!=null&&M.yieldUnitId?b[M.yieldUnitId]:"Unidad no encontrada";return`${j.quantity} ${A}`}}];return d.jsx(wi,{data:T,columns:R,emptyMessage:"No hay recetas"})},S=T=>[{label:"Cliente",value:u[T.customerId]||"Cliente no encontrado"},{label:"Estado",value:_(T.status)},{label:"Fecha",value:new Date(T.orderDate).toLocaleDateString()},{label:"Productos",value:N(T.products)},{label:"Recetas",value:C(T.recipes)},{label:"Total de Items",value:T.totalItems},{label:"Total de Productos",value:T.totalProducts}];return t?d.jsx(On,{title:"Pedido de Cliente",fields:S,editPath:`/customer-orders/${t}/edit`,backPath:"/customer-orders",service:e,id:t}):null}class mH extends An{constructor(n){super(n,"production-orders");$e(this,"modelProperties",["consecutive","orderDate","status","responsibleWorkerId","recipes","ratios","totalItems","totalProducts"])}async findByResponsibleWorkerId(n){return this.findByField("responsibleWorkerId",n)}async findByStatus(n){return this.findByField("status",n.toString())}async findByRecipeId(n){return(await this.findAll()).filter(i=>i.recipes.some(l=>l.recipeId===n))}async findByDateRange(n,a){return(await this.findAll()).filter(l=>l.orderDate>=n&&l.orderDate<=a)}}class ya extends In{constructor(){super(mH)}calculateTotals(e){e.recipes||(e.recipes=[]),e.totalProducts=e.recipes.length,e.totalItems=e.recipes.reduce((n,a)=>n+(Number(a.quantity)||0),0)}async create(e){return e.status=e.status||be.PENDING,this.calculateTotals(e),super.create(e)}async update(e,n){return this.calculateTotals(n),super.update(e,n)}async findByResponsibleWorkerId(e){return this.repository.findByResponsibleWorkerId(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByDateRange(e,n){return this.repository.findByDateRange(e,n)}}function pH(){const t=new ya,e=new vn,n=new At,[a,i]=I.useState({}),[l,u]=I.useState([]);I.useEffect(()=>{(async()=>{try{const[p,v]=await Promise.all([e.findAll(),n.findAll()]),y=p.reduce((b,x)=>(b[x.id]=x.name,b),{});i(y),u(v)}catch(p){console.error("Error loading data:",p)}})()},[]);const f=[{header:"Trabajador",accessor:"responsibleWorkerId",render:m=>a[m.responsibleWorkerId]||"Trabajador no encontrado"},{header:"Fecha",accessor:"orderDate",type:"date"},{header:"Total Recetas",accessor:"totalProducts"},{header:"Total Items",accessor:"totalItems"},{header:"Estado",accessor:"status",type:"tag",tags:[{value:be.PENDING,label:"Pendiente",color:"warning"},{value:be.COMPLETED,label:"Completada",color:"success"}]}];return d.jsx(Dn,{columns:f,title:"Órdenes de Producción",addPath:"/production-orders/new",backPath:"/production-orders",service:t,type:"production",recipes:l,workerName:a})}function FE(){const{id:t}=ze(),[e,n]=I.useState({}),a=new ya;I.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"responsibleWorkerId",label:"Trabajador Responsable",type:"select",required:!0,relatedService:{service:new vn,labelField:"name"}},{name:"orderDate",label:"Fecha de Producción",type:"date",required:!0},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:be.PENDING,label:"Pendiente"},{value:be.COMPLETED,label:"Completada"}]},{name:"recipes",label:"Recetas",type:"array",arrayConfig:{columns:[{header:"Receta",accessor:"recipeId",reference:{field:{name:"recipeId",label:"Receta",type:"select",relatedService:{service:new At,labelField:"name"}},displayField:"name"}},{header:"Cantidad",accessor:"quantity"},{header:"Ratio",accessor:"ratio"}],form:{fields:[{name:"recipeId",label:"Receta",type:"select",required:!0,relatedService:{service:new At,labelField:"name"}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 10"},{name:"ratio",label:"Ratio",type:"number",required:!0,placeholder:"Ej: 1.5"}],emptyState:{title:"No hay recetas agregadas",description:'Haga clic en el botón "Agregar" para comenzar a agregar recetas a la orden de producción.'},modalTitles:{add:"Agregar Receta",edit:"Modificar Receta"},addButtonText:"Agregar Receta",editButtonTooltip:"Modificar esta receta",deleteButtonTooltip:"Eliminar esta receta"}}}];return d.jsx(jn,{title:t?"Editar Orden de Producción":"Nueva Orden de Producción",fields:i,initialValues:e,service:a,backPath:"/production-orders"})}function gH(){const{id:t}=ze(),e=new ya,n=new vn,a=new At,[i,l]=I.useState({}),[u,f]=I.useState({});I.useEffect(()=>{(async()=>{const[_,N]=await Promise.all([n.findAll(),a.findAll()]),C=_.reduce((T,R)=>(T[R.id]=R.name,T),{}),S=N.reduce((T,R)=>(T[R.id]=R.name,T),{});l(C),f(S)})()},[]);const m=x=>{switch(x){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completada";default:return x}},p=x=>new Date(x).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),v=x=>x!=null&&x.length?d.jsx(d.Fragment,{children:x.map((_,N)=>d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[d.jsx("td",{className:"p-4 align-middle",children:d.jsx("div",{className:"font-medium",children:u[_.recipeId]||"Receta no encontrada"})}),d.jsxs("td",{className:"p-4 align-middle text-muted-foreground",children:["Cantidad: ",_.quantity]})]},N))}):"No hay recetas",y=x=>x!=null&&x.length?d.jsx(d.Fragment,{children:x.map((_,N)=>d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[d.jsx("td",{className:"p-4 align-middle",children:d.jsx("div",{className:"font-medium",children:_.name})}),d.jsxs("td",{className:"p-4 align-middle text-muted-foreground",children:["Valor: ",_.value||"No especificado"]})]},N))}):"No hay ratios definidos",b=x=>{var _,N;return[{label:"Trabajador Responsable",value:i[x.responsibleWorkerId]||"Trabajador no encontrado"},{label:"Fecha de Producción",value:p(x.orderDate)},{label:"Estado",value:m(x.status)},{label:"Recetas",value:(_=x.recipes)!=null&&_.length?v(x.recipes):"No hay recetas"},{label:"Ratios de Producción",value:(N=x.ratios)!=null&&N.length?y(x.ratios):"No hay ratios definidos"}]};return t?d.jsx(On,{title:"Orden de Producción",fields:b,editPath:`/production-orders/${t}/edit`,backPath:"/production-orders",service:e,id:t}):null}var Ei=(t=>(t.SALE_RECIPE="sale_recipe",t.INTERNAL_USE="internal_use",t))(Ei||{});function yH(){const t=new At,e=new Dt,[n,a]=I.useState({});I.useEffect(()=>{(async()=>{try{const m=(await e.findAll()).reduce((p,v)=>({...p,[v.id]:v.symbol}),{});a(m)}catch(f){console.error("Error loading units:",f)}})()},[]);const i=u=>{switch(u){case Ei.SALE_RECIPE:return"Receta de Venta";case Ei.INTERNAL_USE:return"Uso Interno";default:return u}},l=[{header:"Nombre",accessor:"name"},{header:"Tipo",accessor:"recipeType",render:u=>i(u.recipeType)},{header:"Rendimiento",accessor:"yield",render:u=>`${u.yield} ${n[u.yieldUnitId]||""}`},{header:"Materiales",accessor:"materials",render:u=>{var f;return((f=u.materials)==null?void 0:f.length)||0}}];return d.jsx(Dn,{columns:l,title:"Recetas",addPath:"/recipes/new",backPath:"/recipes",service:t})}function HE(){const{id:t}=ze(),[e,n]=I.useState({}),[a,i]=I.useState([]),[l,u]=I.useState({}),[f,m]=I.useState(0),p=new At,v=new yt,y=new Dt,b=N=>{if(console.log("====== INICIO CÁLCULO DE COSTO TOTAL ======"),console.log("Materiales recibidos:",N),!N||N.length===0)return console.log("No hay materiales para calcular"),m(0),n(A=>({...A,cost:0})),0;let C=0;for(const A of N){if(console.log(`
Procesando material:`,A),!A.materialId){console.log("⚠️ Material sin ID");continue}const F=x(A.materialId);if(console.log("Info del material encontrada:",F),!F){console.log("⚠️ No se encontró info del material");continue}if(!A.quantity){console.log("⚠️ Material sin cantidad");continue}const Q=F.cost*A.quantity;console.log("Cálculo:",`${F.cost} × ${A.quantity} = ${Q}`),C+=Q}console.log(`
Resumen de costos:`),console.log("Costo total de materiales:",C);const S=C*.05;console.log("Costo por merma (5%):",S);const T=C*.1;console.log("Gastos fijos (10%):",T);const R=C+S+T;console.log("COSTO TOTAL FINAL:",R);const j=e.yield||1,M=R/j;return console.log("Rendimiento:",j),console.log("COSTO UNITARIO:",M),console.log(`====== FIN CÁLCULO DE COSTO TOTAL ======
`),m(R),n(A=>({...A,cost:M,materials:N})),R};I.useEffect(()=>{y.findAll().then(N=>{const C=N.reduce((S,T)=>(S[T.id]=T.name,S),{});u(C)})},[]),I.useEffect(()=>{t&&p.findById(t).then(N=>{N&&(n(N),b(N.materials||[]))})},[t]),I.useEffect(()=>{Promise.all([v.findAll(),p.findAll()]).then(([N,C])=>{const S=N.filter(R=>R.isMaterial).map(R=>{const j=R.materialUnitId&&l[R.materialUnitId]?l[R.materialUnitId]:"";return{id:R.id,name:R.name,materialType:"Producto",displayName:`P - ${R.name}`,unitName:j,cost:R.materialUnitCost||0,originalData:R}}),T=C.filter(R=>R.id!==t).map(R=>{const j=R.yieldUnitId&&l[R.yieldUnitId]?l[R.yieldUnitId]:"";return{id:R.id,name:R.name,materialType:"Receta",displayName:`R - ${R.name}`,unitName:j,cost:R.cost||0,originalData:R}});i([...S,...T]),e.materials&&b(e.materials)})},[t,l]),I.useEffect(()=>{e.materials&&a.length>0&&b(e.materials)},[a,e.materials]);const x=N=>a.find(C=>C.id===N),_=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"recipeType",label:"Tipo",type:"select",required:!0,options:[{value:Ei.SALE_RECIPE,label:"Receta de Venta"},{value:Ei.INTERNAL_USE,label:"Uso Interno"}]},{name:"yieldUnitId",label:"Unidad de Rendimiento",type:"select",required:!0,relatedService:{service:new Dt,labelField:"name"}},{name:"yield",label:"Rendimiento",type:"number",required:!0,placeholder:"Ej: 1.5",onChange:N=>{if(N===""||N===null||N===void 0)return"";const C=parseFloat(N);return!isNaN(C)&&C>=0?C:""}},{name:"primaryWorkerId",label:"Trabajador Principal",type:"select",required:!0,relatedService:{service:new vn,labelField:"name"}},{name:"notes",label:"Notas",type:"textarea"},{name:"materials",label:"Materiales",type:"array",arrayConfig:{columns:[{header:"Material",accessor:"materialId",render:(N,C)=>{const S=x(N);return S?S.displayName:"N/A"}},{header:"Cantidad",accessor:"quantity",render:(N,C)=>{const S=x(C.materialId);return S&&N?`${N} ${S.unitName}`:N||""}},{header:"Sub Total",accessor:"quantity",render:(N,C)=>{const S=x(C.materialId);return!S||!C.quantity?"":(S.cost*N).toLocaleString("es-UY",{style:"currency",currency:"UYU",currencyDisplay:"symbol",minimumFractionDigits:0,maximumFractionDigits:0})}}],form:{fields:[{name:"materialId",label:"Material",type:"select",required:!0,searchable:!0,options:a.map(N=>({value:N.id,label:`${N.displayName} (${N.cost.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})} por ${N.unitName})`,group:N.materialType==="Producto"?"Productos":"Recetas"})),placeholder:"Buscar material...",isSearchable:!0,isClearable:!0},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 1.5",onChange:N=>{if(N===""||N===null||N===void 0)return"";const C=parseFloat(N);return isNaN(C)||C<0?"":C}}],emptyState:{title:"No hay materiales agregados",description:'Haga clic en el botón "Agregar" para comenzar a agregar materiales a la receta.'},modalTitles:{add:"Agregar Material",edit:"Modificar Material"},addButtonText:"Agregar Material",editButtonTooltip:"Modificar este material",deleteButtonTooltip:"Eliminar este material"}}}];return d.jsx("div",{className:"space-y-4",children:d.jsx(jn,{title:t?"Editar Receta":"Nueva Receta",fields:_,initialValues:{...e,materials:e.materials||[]},service:p,backPath:"/recipes",onFieldChange:(N,C)=>{N==="materials"?b(C||[]):N==="yield"&&b(e.materials||[]),n(S=>({...S,[N]:C}))},children:d.jsxs("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Desglose de Costos"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Costo de Materiales:"}),d.jsx("span",{children:(f*.87).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Costo por Merma (5%):"}),d.jsx("span",{children:(f*.05).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Gastos Fijos (10%):"}),d.jsx("span",{children:(f*.1).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Costo Total:"}),d.jsx("span",{children:f.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),d.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[d.jsx("span",{children:"Costo Unitario:"}),d.jsxs("span",{children:[(f/(e.yield||1)).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0}),e.yieldUnitId&&l[e.yieldUnitId]?` X ${l[e.yieldUnitId]}`:""]})]})]})]})})})}function vH(){const{id:t}=ze(),e=new At,n=new vn,a=new Dt,i=new yt,[l,u]=I.useState({}),[f,m]=I.useState({}),[p,v]=I.useState({}),[y,b]=I.useState({});I.useEffect(()=>{(async()=>{const[S,T,R,j]=await Promise.all([n.findAll(),a.findAll(),i.findAll(),e.findAll()]),M=S.reduce((U,W)=>({...U,[W.id]:W.name}),{}),A=T.reduce((U,W)=>({...U,[W.id]:W.name}),{}),F=R.reduce((U,W)=>({...U,[W.id]:W}),{}),Q=j.reduce((U,W)=>({...U,[W.id]:W}),{});u(M),m(A),v(F),b(Q)})()},[]);const x=C=>{switch(C){case Ei.SALE_RECIPE:return"Receta de Venta";case Ei.INTERNAL_USE:return"Uso Interno";default:return C}},_=C=>{const S=[{header:"Material",accessor:T=>{let R="Material no encontrado";if(T.materialId){const j=p[T.materialId],M=y[T.materialId];j?R=j.name:M&&(R=`R - ${M.name}`)}return d.jsx("div",{className:"font-medium",children:R})}},{header:"Cantidad",accessor:T=>{let R="Unidad no encontrada";if(T.materialId){const j=p[T.materialId],M=y[T.materialId];j?R=j.materialUnitId?f[j.materialUnitId]:"Unidad no encontrada":M&&(R=f[M.yieldUnitId]||"Unidad no encontrada")}return`${T.quantity} ${R}`}}];return d.jsx(wi,{data:C||[],columns:S,emptyMessage:"No hay materiales"})},N=C=>[{label:"Nombre",value:C.name},{label:"Tipo",value:x(C.recipeType)},{label:"Unidad de Rendimiento",value:f[C.yieldUnitId]||"Unidad no encontrada"},{label:"Rendimiento",value:C.yield},{label:"Trabajador Principal",value:l[C.primaryWorkerId]||"Trabajador no encontrado"},{label:"Notas",value:C.notes||"-"},{label:"Materiales",value:_(C.materials)}];return t?d.jsx(On,{title:"Receta",fields:N,editPath:`/recipes/${t}/edit`,backPath:"/recipes",service:e,id:t}):null}var Si=(t=>(t.ACTIVE="active",t.INACTIVE="inactive",t))(Si||{}),$c=(t=>(t.GENERAL="general",t.OTHER="other",t))($c||{});function bH(){const t=new yt,e=[{header:"SKU",accessor:"sku"},{header:"Nombre",accessor:"name"},{header:"Precio de Venta",accessor:"salePrice",render:n=>n.salePrice?`$${n.salePrice.toFixed(2)}`:"N/A"},{header:"Estado",accessor:"state",type:"tag",tags:[{value:Si.ACTIVE,label:"Activo",color:"success"},{value:Si.INACTIVE,label:"Inactivo",color:"secondary"}]},{header:"Tipo",accessor:"isMaterial",render:n=>n.isMaterial&&n.isForSale?"Material y Venta":n.isMaterial?"Material":n.isForSale?"Venta":"N/A"}];return d.jsx(Dn,{columns:e,title:"Productos",addPath:"/products/new",backPath:"/products",service:t})}function qE(){const{id:t}=ze(),[e,n]=I.useState({}),[a,i]=I.useState({}),l=new yt,u=new Dt;I.useEffect(()=>{t&&l.findById(t).then(_=>{_&&n(_)})},[t]),I.useEffect(()=>{u.findAll().then(_=>{const N={};_.forEach(C=>{N[C.id]=C}),i(N)})},[]);const f=_=>{const N=Number(_.purchasePrice)||0,C=a[_.purchaseUnitId||""],S=a[_.salesUnitId||""],T=a[_.materialUnitId||""];if(C&&S&&N>0){const R=S.conversionFactor/C.conversionFactor;_.salesUnitCost=N*R}if(C&&T&&N>0){const R=T.conversionFactor/C.conversionFactor;_.materialUnitCost=N*R}return _},m=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"sku",label:"SKU",type:"text",required:!0},{name:"imageUrl",label:"URL de Imagen",type:"text"},{name:"state",label:"Estado",type:"select",required:!0,options:[{value:Si.ACTIVE,label:"Activo"},{value:Si.INACTIVE,label:"Inactivo"}]},{name:"isForSale",label:"¿Es para Venta?",type:"boolean",required:!0,placeholder:"Marque si el producto es para venta"},{name:"isMaterial",label:"¿Es Material?",type:"boolean",required:!0,placeholder:"Marque si el producto es un material"}],p=[{name:"purchasePrice",label:"Precio de Compra",type:"number",onChange:(_,N)=>f({...N,purchasePrice:_})},{name:"purchaseUnitId",label:"Unidad de Compra",type:"select",relatedService:{service:new Dt,labelField:"name"},onChange:(_,N)=>f({...N,purchaseUnitId:_})},{name:"primarySupplierId",label:"Proveedor Principal",type:"select",relatedService:{service:new vr,labelField:"commercialName"}}],v=[{name:"salePrice",label:"Precio de Venta",type:"number",required:!0},{name:"salesUnitId",label:"Unidad de Venta",type:"select",relatedService:{service:new Dt,labelField:"name"},onChange:(_,N)=>f({...N,salesUnitId:_})},{name:"salesUnitCost",label:"Costo Unitario de Venta",type:"number",readOnly:!0},{name:"salesChannels",label:"Canales de Venta",type:"array",arrayConfig:{columns:[{header:"Código",accessor:"code"},{header:"Nombre",accessor:"name"},{header:"Precio de Venta",accessor:"salePrice",render:_=>(_==null?void 0:_.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||""}],form:{fields:[{name:"code",label:"Código",type:"text",required:!0,placeholder:"Ej: TIENDA_1"},{name:"name",label:"Nombre",type:"text",required:!0,placeholder:"Ej: Tienda Principal"},{name:"salePrice",label:"Precio de Venta",type:"number",required:!0,placeholder:"Ej: 1000"}],emptyState:{title:"No hay canales de venta definidos",description:'Haga clic en el botón "Agregar" para comenzar a definir los canales de venta de este producto.'},modalTitles:{add:"Agregar Canal de Venta",edit:"Modificar Canal de Venta"},addButtonText:"Agregar Canal",editButtonTooltip:"Modificar este canal",deleteButtonTooltip:"Eliminar este canal"}}}],y=[{name:"materialName",label:"Nombre del Material",type:"text"},{name:"materialCode",label:"Código del Material",type:"text"},{name:"materialUnitId",label:"Unidad de Material",type:"select",relatedService:{service:new Dt,labelField:"name"},onChange:(_,N)=>f({...N,materialUnitId:_})},{name:"materialUnitCost",label:"Costo Unitario de Material",type:"number",readOnly:!0}],b=[{name:"sector",label:"Sector",type:"select",options:[{value:$c.GENERAL,label:"General"},{value:$c.OTHER,label:"Otro"}]},{name:"sectorOrder",label:"Orden en el Sector",type:"number"},{name:"desiredStock",label:"Stock Deseado",type:"number"}],x=[{title:"Información General",fields:m},{title:"Información de Compra",fields:p},{title:"Información de Venta",fields:v,visible:_=>_.isForSale===!0},{title:"Información de Material",fields:y,visible:_=>_.isMaterial===!0},{title:"Información de Inventario",fields:b}];return d.jsx(jn,{title:t?"Editar Producto":"Nuevo Producto",sections:x,initialValues:e,service:l,backPath:"/products"})}function xH(){const{id:t}=ze(),e=new yt,n=new Dt,a=new vr,[i,l]=I.useState({}),[u,f]=I.useState({});I.useEffect(()=>{(async()=>{const[x,_]=await Promise.all([n.findAll(),a.findAll()]),N=x.reduce((S,T)=>({...S,[T.id]:T.name}),{}),C=_.reduce((S,T)=>({...S,[T.id]:T.commercialName}),{});l(N),f(C)})()},[]);const m=b=>{switch(b){case Si.ACTIVE:return"Activo";case Si.INACTIVE:return"Inactivo";default:return b}},p=b=>{switch(b){case $c.GENERAL:return"General";case $c.OTHER:return"Otro";default:return b}},v=b=>{const x=[{header:"Código",accessor:_=>_.code},{header:"Nombre",accessor:_=>_.name},{header:"Precio de Venta",accessor:_=>_.salePrice.toLocaleString("es-UY",{style:"currency",currency:"UYU"})}];return d.jsx(wi,{data:b,columns:x,emptyMessage:"No hay canales de venta"})},y=b=>{var x,_,N;return[{label:"Nombre",value:b.name},{label:"SKU",value:b.sku},{label:"Estado",value:m(b.state)},{label:"Sector",value:b.sector?p(b.sector):"-"},{label:"Orden en Sector",value:b.sectorOrder||"-"},{label:"Stock Deseado",value:b.desiredStock||"-"},{label:"Precio de Venta",value:b.salePrice.toLocaleString("es-UY",{style:"currency",currency:"UYU"})},{label:"Costo Unitario de Venta",value:((x=b.salesUnitCost)==null?void 0:x.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||"-"},{label:"Costo Unitario de Material",value:((_=b.materialUnitCost)==null?void 0:_.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||"-"},{label:"Precio de Compra",value:((N=b.purchasePrice)==null?void 0:N.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||"-"},{label:"Unidad de Venta",value:b.salesUnitId?i[b.salesUnitId]:"-"},{label:"Unidad de Material",value:b.materialUnitId?i[b.materialUnitId]:"-"},{label:"Unidad de Compra",value:b.purchaseUnitId?i[b.purchaseUnitId]:"-"},{label:"Proveedor Principal",value:b.primarySupplierId?u[b.primarySupplierId]:"-"},{label:"Canales de Venta",value:v(b.salesChannels||[])}]};return t?d.jsx(On,{title:"Producto",fields:y,editPath:`/products/${t}/edit`,backPath:"/products",service:e,id:t}):null}var zo=(t=>(t.PENDING="pending",t.RESOLVED="resolved",t))(zo||{}),Nt=(t=>(t.PRODUCTION="production",t.TASK="task",t.INVENTORY="inventory",t))(Nt||{});class _H extends An{constructor(n){super(n,"incidents");$e(this,"modelProperties",["type","description","reportedByWorkerId","status","taskId","productId","recipeId"])}async findByType(n){return this.findByField("type",n)}async findByStatus(n){return this.findByField("status",n)}async findByReportedBy(n){return this.findByField("reportedByWorkerId",n)}}class Mv extends In{constructor(){super(_H)}async findByType(e){return this.repository.findByType(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByReportedBy(e){return(await this.repository.findAll()).filter(a=>a.reportedByWorkerId===e)}async findByDateRange(e,n){return(await this.repository.findAll()).filter(i=>{const l=new Date(i.createdAt);return l>=e&&l<=n})}async findByTaskId(e){return(await this.repository.findAll()).filter(a=>a.taskId===e)}async findByProductId(e){return(await this.repository.findAll()).filter(a=>a.productId===e)}async findByRecipeId(e){return(await this.repository.findAll()).filter(a=>a.recipeId===e)}}function wH(){const t=new Mv,e=new vn,[n,a]=I.useState({});I.useEffect(()=>{(async()=>{try{const u=await e.findAll(),f={};u.forEach(m=>{f[m.id]=m.name}),a(f)}catch(u){console.error("Error loading worker names:",u)}})()},[]);const i=[{header:"Tipo",accessor:"type",type:"tag",tags:[{value:Nt.PRODUCTION,label:"Producción",color:"primary"},{value:Nt.TASK,label:"Tarea",color:"info"},{value:Nt.INVENTORY,label:"Inventario",color:"warning"}]},{header:"Descripción",accessor:"description"},{header:"Reportado Por",accessor:"reportedByWorkerId",render:l=>n[l.reportedByWorkerId]||"Cargando..."},{header:"Estado",accessor:"status",type:"tag",tags:[{value:zo.PENDING,label:"Pendiente",color:"warning"},{value:zo.RESOLVED,label:"Resuelto",color:"success"}]}];return d.jsx(Dn,{columns:i,title:"Incidentes",addPath:"/incidents/new",backPath:"/incidents",service:t})}function VE(){const{id:t}=ze(),[e,n]=I.useState({}),[a,i]=I.useState(""),l=new Mv;I.useEffect(()=>{t&&l.findById(t).then(y=>{y&&(n(y),i(y.type))})},[t]);const u=y=>{const b=y.target.value;i(b)},f=[{name:"type",label:"Tipo",type:"select",required:!0,options:[{value:Nt.PRODUCTION,label:"Producción"},{value:Nt.TASK,label:"Tarea"},{value:Nt.INVENTORY,label:"Inventario"}],onChange:u},{name:"reportedByWorkerId",label:"Reportado Por",type:"select",required:!0,relatedService:{service:new vn,labelField:"name"}},{name:"description",label:"Descripción",type:"textarea",required:!0},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:zo.PENDING,label:"Pendiente"},{value:zo.RESOLVED,label:"Resuelto"}]}],p=(()=>{switch(a){case Nt.PRODUCTION:return{name:"recipeId",label:"Receta",type:"select",required:!0,relatedService:{service:new At,labelField:"name"}};case Nt.TASK:return{name:"taskId",label:"Tarea",type:"select",required:!0,relatedService:{service:new Ss,labelField:"name"}};case Nt.INVENTORY:return{name:"productId",label:"Producto",type:"select",required:!0,relatedService:{service:new yt,labelField:"name"}};default:return null}})(),v=p?[...f,p]:f;return d.jsx(jn,{title:t?"Editar Incidente":"Nuevo Incidente",fields:v,initialValues:e,service:l,backPath:"/incidents"})}function EH(){const{id:t}=ze(),e=new Mv,n=new vn,a=new Ss,i=new yt,l=new At,[u,f]=I.useState(""),[m,p]=I.useState(""),[v,y]=I.useState(""),[b,x]=I.useState("");I.useEffect(()=>{if(!t)return;(async()=>{const T=await e.findById(t);if(T){if(T.reportedByWorkerId){const R=await n.findById(T.reportedByWorkerId);R&&f(R.name)}switch(T.type){case Nt.TASK:if(T.taskId){const R=await a.findById(T.taskId);R&&p(R.name)}break;case Nt.INVENTORY:if(T.productId){const R=await i.findById(T.productId);R&&y(R.name)}break;case Nt.PRODUCTION:if(T.recipeId){const R=await l.findById(T.recipeId);R&&x(R.name)}break}}})()},[t]);const _=S=>{switch(S){case Nt.PRODUCTION:return"Producción";case Nt.TASK:return"Tarea";case Nt.INVENTORY:return"Inventario";default:return S}},N=S=>{switch(S.type){case Nt.TASK:return{label:"Tarea",value:m||"Cargando..."};case Nt.INVENTORY:return{label:"Producto",value:v||"Cargando..."};case Nt.PRODUCTION:return{label:"Receta",value:b||"Cargando..."};default:return null}},C=S=>{const T=[{label:"Tipo",value:_(S.type)},{label:"Descripción",value:S.description},{label:"Reportado Por",value:u||"Cargando..."},{label:"Estado",value:S.status===zo.PENDING?"Pendiente":"Resuelto"}],R=N(S);return R&&T.push(R),T};return t?d.jsx(On,{title:"Incidente",fields:C,editPath:`/incidents/${t}/edit`,backPath:"/incidents",service:e,id:t}):null}class SH extends An{constructor(n){super(n,"daily-closures");$e(this,"modelProperties",["date","totalExpenses","totalIncome","totalDifference","observations","accounts","transactions"])}async findByDate(n){return this.findByField("date",n.toISOString())}}class Pv extends In{constructor(){super(SH)}async findByDate(e){return this.repository.findByDate(e)}async findByDateRange(e,n){return(await this.repository.findAll()).filter(i=>{const l=new Date(i.date);return l>=e&&l<=n})}async findByAccountCode(e){return(await this.repository.findAll()).filter(a=>a.accounts.some(i=>i.accountCode===e))}async findByTransactionCode(e){return(await this.repository.findAll()).filter(a=>{var i;return(i=a.transactions)==null?void 0:i.some(l=>l.transactionCode===e)})}async getTotalsByDate(e){const n=await this.findByDate(e),a={};return n.forEach(i=>{var l;(l=i.transactions)==null||l.forEach(u=>{const f=u.concept;a[f]||(a[f]=0),a[f]+=u.amount})}),a}async getBalanceByDate(e){return(await this.findByDate(e)).reduce((a,i)=>{var l;return a+(((l=i.transactions)==null?void 0:l.reduce((u,f)=>u+f.amount,0))||0)},0)}}function NH(){const t=new Pv,e=[{header:"Fecha",accessor:"date",render:n=>new Date(n.date).toLocaleDateString()},{header:"Total Ingresos",accessor:"totalIncome",render:n=>`$${n.totalIncome.toFixed(2)}`},{header:"Total Gastos",accessor:"totalExpenses",render:n=>`$${n.totalExpenses.toFixed(2)}`},{header:"Diferencia Total",accessor:"totalDifference",render:n=>`$${n.totalDifference.toFixed(2)}`},{header:"Cuentas",accessor:"accounts",render:n=>n.accounts.length},{header:"Transacciones",accessor:"transactions",render:n=>{var a;return((a=n.transactions)==null?void 0:a.length)||0}}];return d.jsx(Dn,{columns:e,title:"Cierres Diarios",addPath:"/daily-closures/new",backPath:"/daily-closures",service:t})}function $E(){const{id:t}=ze(),[e,n]=I.useState({}),a=new Pv;I.useEffect(()=>{t&&a.findById(t).then(l=>{l&&n(l)})},[t]);const i=[{name:"date",label:"Fecha",type:"date",required:!0},{name:"totalExpenses",label:"Total de Gastos",type:"number",required:!0},{name:"totalIncome",label:"Total de Ingresos",type:"number",required:!0},{name:"totalDifference",label:"Diferencia Total",type:"number",required:!0},{name:"observations",label:"Observaciones",type:"textarea"},{name:"accounts",label:"Cuentas",type:"array",arrayConfig:{columns:[{header:"Nombre",accessor:"name"},{header:"Saldo",accessor:"balance",render:l=>(l==null?void 0:l.toLocaleString("es-CL",{style:"currency",currency:"CLP"}))||"N/A"}],form:{fields:[{name:"name",label:"Nombre",type:"text",required:!0,placeholder:"Ej: Caja Principal"},{name:"balance",label:"Saldo",type:"number",required:!0,placeholder:"Ej: 100000"}],emptyState:{title:"No hay cuentas registradas",description:'Haga clic en el botón "Agregar" para comenzar a registrar las cuentas del cierre diario.'},modalTitles:{add:"Agregar Cuenta",edit:"Modificar Cuenta"},addButtonText:"Agregar Cuenta",editButtonTooltip:"Modificar esta cuenta",deleteButtonTooltip:"Eliminar esta cuenta"}}},{name:"transactions",label:"Transacciones",type:"array",arrayConfig:{columns:[{header:"Descripción",accessor:"description"},{header:"Monto",accessor:"amount",render:l=>(l==null?void 0:l.toLocaleString("es-CL",{style:"currency",currency:"CLP"}))||"N/A"},{header:"Tipo",accessor:"type"}],form:{fields:[{name:"description",label:"Descripción",type:"text",required:!0,placeholder:"Ej: Venta de pan"},{name:"amount",label:"Monto",type:"number",required:!0,placeholder:"Ej: 5000"},{name:"type",label:"Tipo",type:"select",required:!0,options:[{value:"income",label:"Ingreso"},{value:"expense",label:"Gasto"}]}],emptyState:{title:"No hay transacciones registradas",description:'Haga clic en el botón "Agregar" para comenzar a registrar las transacciones del cierre diario.'},modalTitles:{add:"Agregar Transacción",edit:"Modificar Transacción"},addButtonText:"Agregar Transacción",editButtonTooltip:"Modificar esta transacción",deleteButtonTooltip:"Eliminar esta transacción"}}}];return d.jsx(jn,{title:t?"Editar Cierre Diario":"Nuevo Cierre Diario",fields:i,initialValues:e,service:a,backPath:"/daily-closures"})}function CH(){const{id:t}=ze(),e=new Pv,n=l=>new Date(l).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),a=l=>l.toLocaleString("es-CL",{style:"currency",currency:"CLP"}),i=l=>{var u,f;return[{label:"Fecha",value:n(l.date)},{label:"Total Ingresos",value:a(l.totalIncome)},{label:"Total Gastos",value:a(l.totalExpenses)},{label:"Diferencia Total",value:a(l.totalDifference)},{label:"Observaciones",value:l.observations||"-"},{label:"Cantidad de Cuentas",value:((u=l.accounts)==null?void 0:u.length)||0},{label:"Cantidad de Transacciones",value:((f=l.transactions)==null?void 0:f.length)||0}]};return t?d.jsx(On,{title:"Cierre Diario",fields:i,editPath:`/daily-closures/${t}/edit`,backPath:"/daily-closures",service:e,id:t}):null}const TH=()=>{const t=[{name:"Calculadora de Precios",icon:yS,color:"bg-blue-500/10 text-blue-500"},{name:"Frutas y Verduras",icon:oI,color:"bg-green-500/10 text-green-500"},{name:"Actualización de Precios",icon:VI,color:"bg-purple-500/10 text-purple-500"}],e=[{name:"Total Productos",value:"1,234",icon:wS,color:"bg-blue-500/10 text-blue-500",description:"Productos registrados"},{name:"Total Pedidos",value:"456",icon:P_,color:"bg-green-500/10 text-green-500",description:"Pedidos procesados"},{name:"Total Compras",value:"789",icon:tg,color:"bg-purple-500/10 text-purple-500",description:"Compras realizadas"},{name:"Total Proveedores",value:"45",icon:ij,color:"bg-orange-500/10 text-orange-500",description:"Proveedores activos"},{name:"Total Clientes",value:"328",icon:SS,color:"bg-pink-500/10 text-pink-500",description:"Clientes registrados"},{name:"Total Empresas",value:"67",icon:gS,color:"bg-indigo-500/10 text-indigo-500",description:"Empresas asociadas"}],n={purchased:[{name:"Tomate",quantity:"500 kg",amount:"$15,000",trend:"+12%"},{name:"Cebolla",quantity:"300 kg",amount:"$9,000",trend:"+8%"},{name:"Papa",quantity:"800 kg",amount:"$12,000",trend:"+15%"}],produced:[{name:"Ensalada Mixta",quantity:"200 u",amount:"$20,000",trend:"+25%"},{name:"Sopa de Verduras",quantity:"150 u",amount:"$18,000",trend:"+10%"},{name:"Puré de Papa",quantity:"180 u",amount:"$15,000",trend:"+18%"}],ordered:[{name:"Ensalada César",quantity:"180 u",amount:"$21,600",trend:"+30%"},{name:"Vegetales Mixtos",quantity:"150 u",amount:"$13,500",trend:"+20%"},{name:"Papas Fritas",quantity:"250 u",amount:"$17,500",trend:"+22%"}]};return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:t.map(a=>d.jsx(rt,{className:"backdrop-blur-sm bg-card/80 hover:bg-card/90 transition-colors cursor-pointer",children:d.jsx(gt,{className:"p-6",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:`p-3 rounded-lg ${a.color}`,children:d.jsx(a.icon,{className:"h-6 w-6"})}),d.jsx("h3",{className:"text-lg font-semibold",children:a.name})]})})},a.name))}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:e.map(a=>d.jsx(rt,{className:"backdrop-blur-sm bg-card/80",children:d.jsx(gt,{className:"p-4",children:d.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[d.jsx("div",{className:`p-2 rounded-lg ${a.color} mb-1`,children:d.jsx(a.icon,{className:"h-5 w-5"})}),d.jsx("p",{className:"text-2xl font-bold",children:a.value}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium leading-none",children:a.name}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1 leading-none",children:a.description})]})]})})},a.name))}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs(rt,{className:"backdrop-blur-sm bg-card/80",children:[d.jsx(pn,{children:d.jsx(gn,{className:"text-xl font-semibold",children:"Productos más Comprados"})}),d.jsx(gt,{className:"space-y-4",children:n.purchased.map((a,i)=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:d.jsx(tg,{className:"h-5 w-5 text-blue-500"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:a.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:a.quantity})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium",children:a.amount}),d.jsx("p",{className:"text-xs text-green-500",children:a.trend})]})]},i))})]}),d.jsxs(rt,{className:"backdrop-blur-sm bg-card/80",children:[d.jsx(pn,{children:d.jsx(gn,{className:"text-xl font-semibold",children:"Productos más Producidos"})}),d.jsx(gt,{className:"space-y-4",children:n.produced.map((a,i)=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:d.jsx(_S,{className:"h-5 w-5 text-green-500"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:a.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:a.quantity})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium",children:a.amount}),d.jsx("p",{className:"text-xs text-green-500",children:a.trend})]})]},i))})]}),d.jsxs(rt,{className:"backdrop-blur-sm bg-card/80",children:[d.jsx(pn,{children:d.jsx(gn,{className:"text-xl font-semibold",children:"Productos más Pedidos"})}),d.jsx(gt,{className:"space-y-4",children:n.ordered.map((a,i)=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:d.jsx(P_,{className:"h-5 w-5 text-purple-500"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:a.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:a.quantity})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium",children:a.amount}),d.jsx("p",{className:"text-xs text-green-500",children:a.trend})]})]},i))})]})]})]})},RH=d.jsxs(d.Fragment,{children:[d.jsx(fe,{path:"dashboard",element:d.jsx(TH,{})}),d.jsx(fe,{path:"customers",element:d.jsx(y8,{})}),d.jsx(fe,{path:"customers/new",element:d.jsx(OE,{})}),d.jsx(fe,{path:"customers/:id",element:d.jsx(VF,{})}),d.jsx(fe,{path:"customers/:id/edit",element:d.jsx(OE,{})}),d.jsx(fe,{path:"suppliers",element:d.jsx(GF,{})}),d.jsx(fe,{path:"suppliers/new",element:d.jsx(kE,{})}),d.jsx(fe,{path:"suppliers/:id",element:d.jsx(YF,{})}),d.jsx(fe,{path:"suppliers/:id/edit",element:d.jsx(kE,{})}),d.jsx(fe,{path:"workers",element:d.jsx(QF,{})}),d.jsx(fe,{path:"workers/new",element:d.jsx(ME,{})}),d.jsx(fe,{path:"workers/:id",element:d.jsx(XF,{})}),d.jsx(fe,{path:"workers/:id/edit",element:d.jsx(ME,{})}),d.jsx(fe,{path:"roles",element:d.jsx(ZF,{})}),d.jsx(fe,{path:"roles/new",element:d.jsx(PE,{})}),d.jsx(fe,{path:"roles/:id",element:d.jsx(JF,{})}),d.jsx(fe,{path:"roles/:id/edit",element:d.jsx(PE,{})}),d.jsx(fe,{path:"units",element:d.jsx(tH,{})}),d.jsx(fe,{path:"units/new",element:d.jsx(LE,{})}),d.jsx(fe,{path:"units/:id",element:d.jsx(nH,{})}),d.jsx(fe,{path:"units/:id/edit",element:d.jsx(LE,{})}),d.jsx(fe,{path:"parameters",element:d.jsx(aH,{})}),d.jsx(fe,{path:"parameters/new",element:d.jsx(UE,{})}),d.jsx(fe,{path:"parameters/:id",element:d.jsx(sH,{})}),d.jsx(fe,{path:"parameters/:id/edit",element:d.jsx(UE,{})}),d.jsx(fe,{path:"purchase-orders",element:d.jsx(lH,{})}),d.jsx(fe,{path:"purchase-orders/new",element:d.jsx(BE,{})}),d.jsx(fe,{path:"purchase-orders/:id",element:d.jsx(cH,{})}),d.jsx(fe,{path:"purchase-orders/:id/edit",element:d.jsx(BE,{})}),d.jsx(fe,{path:"customer-orders",element:d.jsx(fH,{})}),d.jsx(fe,{path:"customer-orders/new",element:d.jsx(zE,{})}),d.jsx(fe,{path:"customer-orders/:id",element:d.jsx(hH,{})}),d.jsx(fe,{path:"customer-orders/:id/edit",element:d.jsx(zE,{})}),d.jsx(fe,{path:"production-orders",element:d.jsx(pH,{})}),d.jsx(fe,{path:"production-orders/new",element:d.jsx(FE,{})}),d.jsx(fe,{path:"production-orders/:id",element:d.jsx(gH,{})}),d.jsx(fe,{path:"production-orders/:id/edit",element:d.jsx(FE,{})}),d.jsx(fe,{path:"recipes",element:d.jsx(yH,{})}),d.jsx(fe,{path:"recipes/new",element:d.jsx(HE,{})}),d.jsx(fe,{path:"recipes/:id",element:d.jsx(vH,{})}),d.jsx(fe,{path:"recipes/:id/edit",element:d.jsx(HE,{})}),d.jsx(fe,{path:"products",element:d.jsx(bH,{})}),d.jsx(fe,{path:"products/new",element:d.jsx(qE,{})}),d.jsx(fe,{path:"products/:id",element:d.jsx(xH,{})}),d.jsx(fe,{path:"products/:id/edit",element:d.jsx(qE,{})}),d.jsx(fe,{path:"incidents",element:d.jsx(wH,{})}),d.jsx(fe,{path:"incidents/new",element:d.jsx(VE,{})}),d.jsx(fe,{path:"incidents/:id",element:d.jsx(EH,{})}),d.jsx(fe,{path:"incidents/:id/edit",element:d.jsx(VE,{})}),d.jsx(fe,{path:"daily-closures",element:d.jsx(NH,{})}),d.jsx(fe,{path:"daily-closures/new",element:d.jsx($E,{})}),d.jsx(fe,{path:"daily-closures/:id",element:d.jsx(CH,{})}),d.jsx(fe,{path:"daily-closures/:id/edit",element:d.jsx($E,{})})]});var nR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},GE=I.createContext&&I.createContext(nR),DH=["attr","size","title"];function AH(t,e){if(t==null)return{};var n=IH(t,e),a,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)a=l[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function IH(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function Sf(){return Sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Sf.apply(this,arguments)}function YE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YE(Object(n),!0).forEach(function(a){jH(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function jH(t,e,n){return e=OH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OH(t){var e=kH(t,"string");return typeof e=="symbol"?e:e+""}function kH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rR(t){return t&&t.map((e,n)=>I.createElement(e.tag,Nf({key:n},e.attr),rR(e.child)))}function mu(t){return e=>I.createElement(MH,Sf({attr:Nf({},t.attr)},e),rR(t.child))}function MH(t){var e=n=>{var{attr:a,size:i,title:l}=t,u=AH(t,DH),f=i||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),I.createElement("svg",Sf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,u,{className:m,style:Nf(Nf({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&I.createElement("title",null,l),t.children)};return GE!==void 0?I.createElement(GE.Consumer,null,n=>e(n)):e(nR)}function PH(t){return mu({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function ai(t){return mu({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function Xp(t){return mu({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function si(t){return mu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M475.115 163.781L336 252.309v-68.28c0-18.916-20.931-30.399-36.885-20.248L160 252.309V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h464c13.255 0 24-10.745 24-24V184.029c0-18.917-20.931-30.399-36.885-20.248z"},child:[]}]})(t)}function ii(t){return mu({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}const Gg=()=>{const t=It(),[e,n]=I.useState({purchases:0,customerOrders:0,production:0}),[a,i]=I.useState(!0);I.useEffect(()=>{l()},[]);const l=async()=>{try{const f=new ga,m=new ya,p=new pa,[v,y,b]=await Promise.all([f.findByStatus(be.PENDING),m.findByStatus(be.PENDING),p.findByStatus(be.PENDING)]);n({purchases:b.length,customerOrders:v.length,production:y.length})}catch(f){console.error("Error loading order counts:",f)}finally{i(!1)}},u=[{title:"Compras",icon:ii,path:"/mobile/purchases",description:"Gestión de órdenes de compra",count:e.purchases,status:"Pendientes"},{title:"Pedidos",icon:ai,path:"/mobile/orders",description:"Gestión de pedidos de clientes",count:e.customerOrders,status:"Pendientes"},{title:"Producción",icon:si,path:"/mobile/production",description:"Control de órdenes de producción",count:e.production,status:"En Progreso"}];return a?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"p-4 space-y-4",children:d.jsx("div",{className:"grid grid-cols-1 gap-4",children:u.map((f,m)=>d.jsxs(rt,{className:"hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>t(f.path),children:[d.jsxs(pn,{className:"flex flex-row items-center space-y-0 pb-2",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[d.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary/10",children:I.createElement(f.icon,{className:"w-5 h-5 text-primary"})}),d.jsx(gn,{className:"text-xl",children:f.title})]}),f.count>0&&d.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10",children:d.jsx("span",{className:"text-sm font-medium text-primary",children:f.count})})]}),d.jsx(gt,{children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:f.description}),f.count>0&&d.jsxs("p",{className:"text-sm font-medium text-primary",children:[f.count," ",f.status]})]})})]},m))})})},Lv=({onView:t,onEdit:e,onDelete:n,order:a,type:i,customerName:l,customerPhone:u,workerName:f,workerPhone:m,supplierName:p,supplierPhone:v,products:y,recipes:b})=>{const x=()=>{let _="";switch(i){case"customer":_=u||"";break;case"production":_=m||"";break;case"purchase":_=v||"";break}const N=new nC({order:a,type:i,customerName:l,workerName:f,supplierName:p,products:y,recipes:b}).toString();let C=_.replace(/\D/g,"");C&&(C.startsWith("0")&&(C=C.slice(1)),C.startsWith("598")||(C="598"+C));const S=C?`https://api.whatsapp.com/send?phone=${C}&text=${encodeURIComponent(N)}`:`https://api.whatsapp.com/send?text=${encodeURIComponent(N)}`;window.open(S,"_blank")};return d.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4",children:[d.jsxs(_e,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px]",onClick:t,children:[d.jsx(xS,{className:"h-8 w-8"}),d.jsx("span",{className:"text-base",children:"Ver"})]}),d.jsxs(_e,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px] bg-orange-500 hover:bg-orange-600 text-white border-orange-500",onClick:e,children:[d.jsx(Df,{className:"h-8 w-8"}),d.jsx("span",{className:"text-base",children:"Editar"})]}),d.jsxs(_e,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px] bg-green-500 hover:bg-green-600 text-white border-green-500",onClick:x,children:[d.jsx(PI,{className:"h-8 w-8"}),d.jsx("span",{className:"text-base",children:"WhatsApp"})]}),d.jsxs(_e,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px] bg-red-500 hover:bg-red-600 text-white border-red-500",onClick:n,children:[d.jsx(Af,{className:"h-8 w-8"}),d.jsx("span",{className:"text-base",children:"Eliminar"})]})]})},LH=()=>{const[t,e]=I.useState([]),[n,a]=I.useState([]),[i,l]=I.useState([]),[u,f]=I.useState(!0),m=It(),p=new pa;I.useEffect(()=>{v()},[]);const v=async()=>{try{const[S,T,R]=await Promise.all([p.findAll(),new vr().findAll(),new yt().findAll()]),j=S.sort((M,A)=>new Date(A.orderDate).getTime()-new Date(M.orderDate).getTime());e(j),a(T),l(R)}catch(S){console.error("Error loading data:",S)}finally{f(!1)}},y=S=>{try{const T=typeof S=="string"?va(S):S;return Rt(T,"PPP",{locale:xs})}catch(T){return console.error("Error formatting date:",T),"Fecha no disponible"}},b=S=>{switch(S){case be.PENDING:return"text-yellow-500 bg-yellow-500/10";case be.COMPLETED:return"text-green-500 bg-green-500/10";default:return"text-gray-500 bg-gray-500/10"}},x=S=>{switch(S){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completado";default:return S}},_=S=>{if(!S)return"";const T=S.slice(0,3),R=S.slice(-2);return`${T}${R}`.toUpperCase()},N=S=>{const T=n.find(R=>R.id===S);return(T==null?void 0:T.commercialName)||"No asignado"},C=(S,T)=>{const R=document.querySelector('[role="dialog"]');if(R){const j=R.querySelector('button[data-state="open"]');j&&j instanceof HTMLButtonElement&&j.click()}switch(S){case"view":m(`/mobile/purchases/${T.id}/view`);break;case"edit":m(`/mobile/purchases/${T.id}/edit`);break;case"delete":m(`/mobile/purchases/${T.id}/delete`);break}};return u?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(_e,{className:"w-full flex items-center gap-2",onClick:()=>m("/mobile/purchases/new"),children:[d.jsx(ns,{className:"h-4 w-4"}),"Nueva Orden de Compra"]}),d.jsxs("div",{className:"space-y-4",children:[t.map(S=>{var T,R;return d.jsxs(lu,{children:[d.jsx(pv,{asChild:!0,children:d.jsx(rt,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:d.jsx(gt,{className:"p-4",children:d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"font-medium",children:["Compra #",_(S.id)]}),d.jsx("span",{className:"text-sm text-muted-foreground",children:y(S.orderDate)})]}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(S.status)}`,children:x(S.status)})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Proveedor:"}),d.jsx("span",{className:"font-medium",children:N(S.supplierId)})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Productos:"}),d.jsx("span",{className:"font-medium",children:((T=S.products)==null?void 0:T.length)||0})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Total:"}),d.jsx("span",{className:"font-medium",children:S.totalItems||0})]})]})]})})})}),d.jsxs(nl,{className:"sm:max-w-[425px]",children:[d.jsx(rl,{children:d.jsx(al,{children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("span",{children:["Compra #",_(S.id)]}),d.jsx("span",{className:"text-sm font-normal text-gray-500",children:y(S.orderDate)})]})})}),d.jsx(Lv,{onView:()=>C("view",S),onEdit:()=>C("edit",S),onDelete:()=>C("delete",S),onShare:()=>{},order:S,type:"purchase",supplierName:N(S.supplierId),supplierPhone:(R=n.find(j=>j.id===S.supplierId))==null?void 0:R.phone,products:i})]})]},S.id)}),t.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay órdenes de compra"})})]})]})})},UH=()=>{const{id:t}=ze(),[e,n]=I.useState(null),[a,i]=I.useState([]),[l,u]=I.useState([]),[f,m]=I.useState(!0);I.useEffect(()=>{(async()=>{if(t)try{const[N,C,S]=await Promise.all([new pa().findById(t),new vr().findAll(),new yt().findAll()]);n(N),i(C),u(S)}catch(N){console.error("Error loading data:",N)}finally{m(!1)}})()},[t]);const p=_=>{try{if(!_)return"Fecha no disponible";let N;if(_ instanceof Date)N=_;else if(typeof _=="string")N=va(_);else if(typeof _=="object"&&"seconds"in _)N=new Date(_.seconds*1e3);else throw new Error("Invalid date format");return isNaN(N.getTime())?"Fecha inválida":Rt(N,"PPP",{locale:xs})}catch(N){return console.error("Error formatting date:",N),"Fecha no disponible"}},v=_=>{switch(_){case be.PENDING:return"text-yellow-500 bg-yellow-500/10";case be.COMPLETED:return"text-green-500 bg-green-500/10";default:return"text-gray-500 bg-gray-500/10"}},y=_=>{switch(_){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completado";default:return _}},b=_=>{const N=a.find(C=>C.id===_);return(N==null?void 0:N.commercialName)||"No asignado"},x=_=>{const N=l.find(C=>C.id===_);return(N==null?void 0:N.name)||"Producto no encontrado"};return f?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):e?d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(rt,{children:[d.jsx(pn,{children:d.jsx(gn,{children:"Información General"})}),d.jsxs(gt,{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-muted-foreground",children:"Estado"}),d.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${v(e.status)}`,children:y(e.status)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Fecha de Compra"}),d.jsx("span",{children:p(e.orderDate)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Proveedor"}),d.jsx("span",{children:b(e.supplierId)})]})]})]}),e.products&&e.products.length>0&&d.jsxs(rt,{children:[d.jsx(pn,{children:d.jsx(gn,{children:"Productos"})}),d.jsx(gt,{children:d.jsx("div",{className:"space-y-4",children:e.products.map((_,N)=>d.jsx("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"font-medium",children:x(_.productId)}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Cantidad: ",_.quantity]})]})},N))})})]})]}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Orden no encontrada"})})};var Uv="Collapsible",[BH,p7]=tl(Uv),[zH,Bv]=BH(Uv),aR=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:a,defaultOpen:i,disabled:l,onOpenChange:u,...f}=t,[m=!1,p]=ou({prop:a,defaultProp:i,onChange:u});return d.jsx(zH,{scope:n,disabled:l,contentId:Wn(),open:m,onOpenToggle:w.useCallback(()=>p(v=>!v),[p]),children:d.jsx(Ge.div,{"data-state":Fv(m),"data-disabled":l?"":void 0,...f,ref:e})})});aR.displayName=Uv;var sR="CollapsibleTrigger",iR=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,...a}=t,i=Bv(sR,n);return d.jsx(Ge.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Fv(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...a,ref:e,onClick:ht(t.onClick,i.onOpenToggle)})});iR.displayName=sR;var zv="CollapsibleContent",oR=w.forwardRef((t,e)=>{const{forceMount:n,...a}=t,i=Bv(zv,t.__scopeCollapsible);return d.jsx(xa,{present:n||i.open,children:({present:l})=>d.jsx(FH,{...a,ref:e,present:l})})});oR.displayName=zv;var FH=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:a,children:i,...l}=t,u=Bv(zv,n),[f,m]=w.useState(a),p=w.useRef(null),v=on(e,p),y=w.useRef(0),b=y.current,x=w.useRef(0),_=x.current,N=u.open||f,C=w.useRef(N),S=w.useRef(void 0);return w.useEffect(()=>{const T=requestAnimationFrame(()=>C.current=!1);return()=>cancelAnimationFrame(T)},[]),ps(()=>{const T=p.current;if(T){S.current=S.current||{transitionDuration:T.style.transitionDuration,animationName:T.style.animationName},T.style.transitionDuration="0s",T.style.animationName="none";const R=T.getBoundingClientRect();y.current=R.height,x.current=R.width,C.current||(T.style.transitionDuration=S.current.transitionDuration,T.style.animationName=S.current.animationName),m(a)}},[u.open,a]),d.jsx(Ge.div,{"data-state":Fv(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!N,...l,ref:v,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...t.style},children:N&&i})});function Fv(t){return t?"open":"closed"}var HH=aR;const Hv=HH,qv=iR,Vv=oR,lR=({value:t,unit:e,onQuantityChange:n,onClick:a})=>{const[i,l]=I.useState(!1),u=I.useRef(null);return I.useEffect(()=>{i&&u.current&&u.current.focus()},[i]),i?d.jsxs("div",{className:"flex items-center bg-transparent",children:[d.jsx(dr,{ref:u,type:"number",min:"1",className:"h-10 w-20 text-left pl-0 border-0 text-lg font-bold text-blue-600 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0",defaultValue:"",onBlur:f=>{const m=Number(f.target.value);m>0&&n(m),l(!1)},onKeyDown:f=>{f.key==="Enter"&&f.target.blur(),f.key==="Escape"&&l(!1)},onClick:f=>f.stopPropagation()}),d.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(e==null?void 0:e.name)||(e==null?void 0:e.symbol)})]}):d.jsxs("button",{type:"button",className:"flex items-center gap-2 text-left",onClick:f=>{f.stopPropagation(),l(!0),a==null||a(f)},children:[d.jsx("span",{className:"text-lg font-bold text-blue-600",children:t}),d.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(e==null?void 0:e.name)||(e==null?void 0:e.symbol)})]})},WE=()=>{var W,oe;const{id:t}=ze(),e=It(),[n,a]=I.useState(!0),[i,l]=I.useState(!1),[u,f]=I.useState(!1),[m,p]=I.useState([]),[v,y]=I.useState([]),[b,x]=I.useState([]),[_,N]=I.useState(""),[C,S]=I.useState(1),[T,R]=I.useState([]),[j,M]=I.useState({orderDate:new Date,status:be.PENDING,supplierId:"",products:[]});I.useEffect(()=>{A()},[t]);const A=async()=>{try{const[G,ne,X]=await Promise.all([new vr().findAll(),new yt().findAll(),new Dt().findAll()]);if(p(G.map(Z=>({id:Z.id,commercialName:Z.commercialName}))),y(ne),x(X),R(ne),t){const L=await new pa().findById(t);L&&M({...L,orderDate:L.orderDate instanceof Date?L.orderDate:new Date(L.orderDate)})}}catch(G){console.error("Error loading data:",G),Pe.error("Error al cargar los datos")}finally{a(!1)}},F=()=>{var ne;if(!_)return;if(C<=0){Pe.error("La cantidad debe ser mayor a 0");return}const G=(ne=j.products)==null?void 0:ne.findIndex(X=>X.productId===_);if(G!==void 0&&G>=0){const X=[...j.products||[]];X[G].quantity+=C,M(Z=>({...Z,products:X}))}else M(X=>({...X,products:[...X.products||[],{productId:_,quantity:C}]}));N(""),S(1)},Q=G=>{M(ne=>{var X;return{...ne,products:(X=ne.products)==null?void 0:X.filter((Z,L)=>L!==G)}})},U=async G=>{var ne;if(G.preventDefault(),!j.supplierId){Pe.error("Debe seleccionar un proveedor");return}if(!((ne=j.products)!=null&&ne.length)){Pe.error("Debe agregar al menos un producto");return}l(!0);try{const X=new pa,Z={...j,orderDate:j.orderDate instanceof Date?j.orderDate:new Date(j.orderDate||new Date)};t?(await X.update(t,Z),Pe.success("Orden actualizada correctamente")):(await X.create(Z),Pe.success("Orden creada correctamente")),e("/mobile/purchases")}catch(X){console.error("Error saving order:",X),Pe.error("Error al guardar la orden")}finally{l(!1)}};return n?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("form",{onSubmit:U,className:"p-4 space-y-4 max-w-lg mx-auto",children:[d.jsx(Hv,{open:u,onOpenChange:f,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>f(!u),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-sm font-medium",children:"Información General"}),!u&&d.jsx("span",{className:"text-xs text-gray-500",children:j.supplierId?(W=m.find(G=>G.id===j.supplierId))==null?void 0:W.commercialName:"Sin asignar"})]}),d.jsx(qv,{asChild:!0,children:d.jsx(_e,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:u?d.jsx(sy,{className:"h-4 w-4"}):d.jsx(ay,{className:"h-4 w-4"})})})]}),d.jsx(Vv,{children:d.jsxs("div",{className:"p-4 space-y-4 border-t",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Kn,{htmlFor:"orderDate",className:"text-sm text-gray-600",children:"Fecha de Orden"}),d.jsx(fu,{label:"FECHA DE COMPRA",value:j.orderDate instanceof Date||j.orderDate?Rt(j.orderDate,"yyyy-MM-dd"):Rt(new Date(j.orderDate||new Date),"yyyy-MM-dd"),onChange:G=>M(ne=>({...ne,orderDate:G.target.value?new Date(G.target.value):new Date})),className:"w-full"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Kn,{htmlFor:"supplierId",className:"text-sm text-gray-600",children:"Proveedor"}),d.jsxs("select",{id:"supplierId",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:j.supplierId,onChange:G=>M(ne=>({...ne,supplierId:G.target.value})),children:[d.jsx("option",{value:"",children:"Seleccionar proveedor"}),m.map(G=>d.jsx("option",{value:G.id,children:G.commercialName},G.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Kn,{htmlFor:"status",className:"text-sm text-gray-600",children:"Estado"}),d.jsxs("select",{id:"status",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:j.status,onChange:G=>M(ne=>({...ne,status:G.target.value})),children:[d.jsx("option",{value:be.PENDING,children:"Pendiente"}),d.jsx("option",{value:be.COMPLETED,children:"Completado"})]})]})]})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm border px-4 py-2",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex items-center gap-4",children:d.jsxs("span",{className:"text-sm text-gray-500",children:[((oe=j.products)==null?void 0:oe.length)||0," productos • ",(j.products||[]).reduce((G,ne)=>G+ne.quantity,0)," items"]})}),d.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(j.products||[]).reduce((G,ne)=>{const X=v.find(Z=>Z.id===ne.productId);return G+((X==null?void 0:X.purchasePrice)||0)*ne.quantity},0).toFixed(2)]})]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(dr,{type:"text",placeholder:"Buscar productos...",className:"w-full pl-9",onChange:G=>{const ne=G.target.value.toLowerCase();R(v.filter(X=>X.name.toLowerCase().includes(ne)))}}),d.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.3-4.3"})]})]}),d.jsx("div",{className:"grid grid-cols-1 gap-2",children:T.map(G=>{var X;const ne=(X=j.products)==null?void 0:X.find(Z=>Z.productId===G.id);return d.jsx("div",{className:`w-full bg-white rounded-lg border shadow-sm cursor-pointer transition-all relative ${ne?"border-primary ring-1 ring-primary":"hover:bg-gray-50/50"}`,onClick:Z=>{Z.target.tagName},onDoubleClick:()=>{var Z;ne?Q(((Z=j.products)==null?void 0:Z.findIndex(L=>L.productId===G.id))||0):(N(G.id),S(1),F())},children:d.jsxs("div",{className:"p-4",children:[d.jsx("span",{className:"absolute top-0 right-0 w-6 h-6 flex items-center justify-center text-xs font-medium text-white rounded-bl-lg bg-purple-500",children:"P"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(hu,{checked:ne!==void 0,onCheckedChange:Z=>{var L;Z?(N(G.id),S(1),F()):Q(((L=j.products)==null?void 0:L.findIndex(le=>le.productId===G.id))||0)},className:"h-5 w-5",onClick:Z=>Z.stopPropagation()}),d.jsx("div",{className:"flex-1",children:d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:"font-medium text-base",children:G.name})})})]}),ne&&d.jsx("div",{className:"mt-3",children:d.jsxs("div",{className:"ml-8 space-y-2",children:[d.jsx(lR,{value:ne.quantity,unit:b.find(Z=>Z.id===G.purchaseUnitId),onQuantityChange:Z=>{const L=[...j.products||[]],le=L.findIndex(te=>te.productId===G.id);le>=0&&(L[le].quantity=Z,M(te=>({...te,products:L})))}}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Costo unitario:"}),d.jsxs("span",{className:"font-medium",children:["$",(G.purchasePrice||0).toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Total:"}),d.jsxs("span",{className:"font-semibold text-blue-600",children:["$",((G.purchasePrice||0)*ne.quantity).toFixed(2)]})]})]})})]})},G.id)})}),v.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay productos disponibles"})})]}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:d.jsxs("div",{className:"flex flex-col gap-2 max-w-lg mx-auto",children:[d.jsx(_e,{type:"submit",disabled:i,className:"h-11",children:i?"Guardando...":t?"Guardar Cambios":"Crear Orden"}),d.jsx(_e,{type:"button",variant:"outline",onClick:()=>e(-1),disabled:i,className:"h-11",children:"Cancelar"})]})})]})})},qH=()=>{const{id:t}=ze(),e=It(),n=async()=>{if(t)try{await new pa().delete(t),e("/mobile/purchases")}catch(i){console.error("Error deleting order:",i)}},a=()=>{e(-1)};return d.jsx("div",{className:"p-4",children:d.jsx(rt,{children:d.jsx(gt,{className:"pt-6",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-center",children:"¿Está seguro que desea eliminar esta orden de compra?"}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx(_e,{variant:"destructive",onClick:n,className:"w-full",children:"Eliminar"}),d.jsx(_e,{variant:"outline",onClick:a,className:"w-full",children:"Cancelar"})]})]})})})})},VH=()=>{const[t,e]=I.useState([]),[n,a]=I.useState([]),[i,l]=I.useState([]),[u,f]=I.useState([]),[m,p]=I.useState(!0),v=It(),y=new ga;I.useEffect(()=>{b()},[]);const b=async()=>{try{const[R,j,M,A]=await Promise.all([y.findAll(),new _a().findAll(),new yt().findAll(),new At().findAll()]),F=R.sort((Q,U)=>{const W=new Date(Q.orderDate).getTime();return new Date(U.orderDate).getTime()-W});e(F),a(j),l(M),f(A)}catch(R){console.error("Error loading data:",R)}finally{p(!1)}},x=R=>{try{if(!R)return"Fecha no disponible";let j;if(R instanceof Date)j=R;else if(typeof R=="string")j=va(R);else if(typeof R=="object"&&"seconds"in R)j=new Date(R.seconds*1e3);else throw new Error("Invalid date format");return isNaN(j.getTime())?"Fecha inválida":Rt(j,"PPP",{locale:xs})}catch(j){return console.error("Error formatting date:",j),"Fecha no disponible"}},_=R=>{switch(R){case be.PENDING:return"text-yellow-500 bg-yellow-500/10";case be.COMPLETED:return"text-green-500 bg-green-500/10";default:return"text-gray-500 bg-gray-500/10"}},N=R=>{switch(R){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completado";default:return R}},C=R=>{if(!R)return"";const j=R.slice(0,3),M=R.slice(-2);return`${j}${M}`.toUpperCase()},S=R=>{const j=n.find(M=>M.id===R);return(j==null?void 0:j.name)||"No asignado"},T=(R,j)=>{const M=document.querySelector('[role="dialog"]');if(M){const A=M.querySelector('button[data-state="open"]');A&&A instanceof HTMLButtonElement&&A.click()}switch(R){case"view":v(`/mobile/orders/${j.id}/view`);break;case"edit":v(`/mobile/orders/${j.id}/edit`);break;case"delete":v(`/mobile/orders/${j.id}/delete`);break}};return m?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(_e,{className:"w-full flex items-center gap-2",onClick:()=>v("/mobile/orders/new"),children:[d.jsx(ns,{className:"h-4 w-4"}),"Nuevo Pedido"]}),d.jsxs("div",{className:"space-y-4",children:[t.map(R=>{var j,M,A;return d.jsxs(lu,{children:[d.jsx(pv,{asChild:!0,children:d.jsx(rt,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:d.jsx(gt,{className:"p-4",children:d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"font-medium",children:["Pedido #",C(R.id)]}),d.jsx("span",{className:"text-sm text-muted-foreground",children:x(R.orderDate)})]}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_(R.status)}`,children:N(R.status)})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Cliente:"}),d.jsx("span",{className:"font-medium",children:S(R.customerId)})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Productos:"}),d.jsx("span",{className:"font-medium",children:((j=R.products)==null?void 0:j.length)||0})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Recetas:"}),d.jsx("span",{className:"font-medium",children:((M=R.recipes)==null?void 0:M.length)||0})]})]})]})})})}),d.jsxs(nl,{className:"sm:max-w-[425px]",children:[d.jsx(rl,{children:d.jsx(al,{children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("span",{children:["Pedido #",C(R.id)]}),d.jsx("span",{className:"text-sm font-normal text-gray-500",children:x(R.orderDate)})]})})}),d.jsx(Lv,{onView:()=>T("view",R),onEdit:()=>T("edit",R),onDelete:()=>T("delete",R),onShare:()=>{},order:R,type:"customer",customerName:S(R.customerId),customerPhone:(A=n.find(F=>F.id===R.customerId))==null?void 0:A.phone,products:i,recipes:u})]})]},R.id)}),t.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay pedidos"})})]})]})})},$H=()=>{const{id:t}=ze(),[e,n]=I.useState(null),[a,i]=I.useState([]),[l,u]=I.useState([]),[f,m]=I.useState([]),[p,v]=I.useState(!0);I.useEffect(()=>{(async()=>{if(t)try{const[T,R,j,M]=await Promise.all([new ga().findById(t),new _a().findAll(),new yt().findAll(),new At().findAll()]);n(T),i(R),u(j),m(M)}catch(T){console.error("Error loading data:",T)}finally{v(!1)}})()},[t]);const y=S=>{try{if(!S)return"Fecha no disponible";let T;if(S instanceof Date)T=S;else if(typeof S=="string")T=va(S);else if(typeof S=="object"&&"seconds"in S)T=new Date(S.seconds*1e3);else throw new Error("Invalid date format");return isNaN(T.getTime())?"Fecha inválida":Rt(T,"PPP",{locale:xs})}catch(T){return console.error("Error formatting date:",T),"Fecha no disponible"}},b=S=>{switch(S){case be.PENDING:return"text-yellow-500 bg-yellow-500/10";case be.COMPLETED:return"text-green-500 bg-green-500/10";default:return"text-gray-500 bg-gray-500/10"}},x=S=>{switch(S){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completado";default:return S}},_=S=>{const T=a.find(R=>R.id===S);return(T==null?void 0:T.name)||"No asignado"},N=S=>{const T=l.find(R=>R.id===S);return(T==null?void 0:T.name)||"Producto no encontrado"},C=S=>{const T=f.find(R=>R.id===S);return(T==null?void 0:T.name)||"Receta no encontrada"};return p?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):e?d.jsxs("div",{className:"p-2 space-y-3 max-w-full",children:[d.jsxs(rt,{className:"w-full",children:[d.jsx(pn,{className:"pb-2",children:d.jsx(gn,{className:"text-lg",children:"Información General"})}),d.jsxs(gt,{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Estado"}),d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${b(e.status)}`,children:x(e.status)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Fecha del Pedido"}),d.jsx("span",{className:"text-sm",children:y(e.orderDate)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Cliente"}),d.jsx("span",{className:"text-sm text-right",children:_(e.customerId)})]})]})]}),e.products&&e.products.length>0&&d.jsxs(rt,{className:"w-full",children:[d.jsx(pn,{className:"pb-2",children:d.jsx(gn,{className:"text-lg",children:"Productos"})}),d.jsx(gt,{children:d.jsx("div",{className:"space-y-3",children:e.products.map((S,T)=>d.jsx("div",{className:"p-3 rounded-lg bg-muted/30",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"font-medium text-base break-words",children:N(S.productId)}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Cantidad:"}),d.jsx("span",{className:"text-sm font-medium",children:S.quantity})]})]})},T))})})]}),e.recipes&&e.recipes.length>0&&d.jsxs(rt,{className:"w-full",children:[d.jsx(pn,{className:"pb-2",children:d.jsx(gn,{className:"text-lg",children:"Recetas"})}),d.jsx(gt,{children:d.jsx("div",{className:"space-y-3",children:e.recipes.map((S,T)=>d.jsx("div",{className:"p-3 rounded-lg bg-muted/30",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"font-medium text-base break-words",children:C(S.recipeId)}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Cantidad:"}),d.jsx("span",{className:"text-sm font-medium",children:S.quantity})]})]})},T))})})]})]}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Pedido no encontrado"})})},GH=({value:t,unit:e,onQuantityChange:n,onClick:a})=>{const[i,l]=I.useState(!1),u=I.useRef(null);return I.useEffect(()=>{i&&u.current&&u.current.focus()},[i]),i?d.jsxs("div",{className:"flex items-center bg-transparent",children:[d.jsx(dr,{ref:u,type:"number",min:"1",className:"h-10 w-20 text-left pl-0 border-0 text-lg font-bold text-blue-600 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0",defaultValue:"",onBlur:f=>{const m=Number(f.target.value);m>0&&n(m),l(!1)},onKeyDown:f=>{f.key==="Enter"&&f.target.blur(),f.key==="Escape"&&l(!1)},onClick:f=>f.stopPropagation()}),d.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(e==null?void 0:e.name)||(e==null?void 0:e.symbol)})]}):d.jsxs("button",{type:"button",className:"flex items-center gap-2 text-left",onClick:f=>{f.stopPropagation(),l(!0),a==null||a(f)},children:[d.jsx("span",{className:"text-lg font-bold text-blue-600",children:t}),d.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(e==null?void 0:e.name)||(e==null?void 0:e.symbol)})]})},KE=()=>{var ue,P,K;const{id:t}=ze(),e=It(),[n,a]=I.useState(!0),[i,l]=I.useState(!1),[u,f]=I.useState(!1),[m,p]=I.useState([]),[v,y]=I.useState([]),[b,x]=I.useState([]),[_,N]=I.useState([]),[C,S]=I.useState(""),[T,R]=I.useState(""),[j,M]=I.useState(1),[A,F]=I.useState(1),[Q,U]=I.useState({orderDate:new Date,status:be.PENDING,customerId:"",products:[],recipes:[]}),[W,oe]=I.useState([]);I.useEffect(()=>{G()},[t]);const G=async()=>{try{const[k,H,V,ae]=await Promise.all([new _a().findAll(),new yt().findAll(),new At().findAll(),new Dt().findAll()]);if(p(k),y(H),x(V),N(ae),oe([...V.map(re=>({...re,type:"recipe"})),...H.map(re=>({...re,type:"product"}))]),t){const de=await new ga().findById(t);de&&U({...de,orderDate:de.orderDate instanceof Date?de.orderDate:new Date(de.orderDate)})}}catch(k){console.error("Error loading data:",k),Pe.error("Error al cargar los datos")}finally{a(!1)}},ne=()=>{var H;if(!C)return;if(j<=0){Pe.error("La cantidad debe ser mayor a 0");return}const k=(H=Q.products)==null?void 0:H.findIndex(V=>V.productId===C);if(k!==void 0&&k>=0){const V=[...Q.products||[]];V[k].quantity+=j,U(ae=>({...ae,products:V}))}else U(V=>({...V,products:[...V.products||[],{productId:C,quantity:j}]}));S(""),M(1)},X=()=>{var H;if(!T)return;if(A<=0){Pe.error("La cantidad debe ser mayor a 0");return}const k=(H=Q.recipes)==null?void 0:H.findIndex(V=>V.recipeId===T);if(k!==void 0&&k>=0){const V=[...Q.recipes||[]];V[k].quantity+=A,U(ae=>({...ae,recipes:V}))}else U(V=>({...V,recipes:[...V.recipes||[],{recipeId:T,quantity:A}]}));R(""),F(1)},Z=k=>{U(H=>{var V;return{...H,products:(V=H.products)==null?void 0:V.filter((ae,re)=>re!==k)}})},L=k=>{U(H=>{var V;return{...H,recipes:(V=H.recipes)==null?void 0:V.filter((ae,re)=>re!==k)}})},le=async k=>{var H,V;if(k.preventDefault(),!Q.customerId){Pe.error("Debe seleccionar un cliente");return}if(!((H=Q.products)!=null&&H.length)&&!((V=Q.recipes)!=null&&V.length)){Pe.error("Debe agregar al menos un producto o receta");return}l(!0);try{const ae=new ga,re=Q.products||[],de=Q.recipes||[],he=re.reduce((wt,Xt)=>wt+Xt.quantity,0)+de.reduce((wt,Xt)=>wt+Xt.quantity,0),we=re.length+de.length,ve={customerId:Q.customerId,orderDate:Q.orderDate instanceof Date?Q.orderDate:new Date(Q.orderDate||new Date),status:Q.status,products:re,recipes:de,totalItems:he,totalProducts:we};t?(await ae.update(t,ve),Pe.success("Pedido actualizado correctamente")):(await ae.create(ve),Pe.success("Pedido creado correctamente")),e("/mobile/orders")}catch(ae){console.error("Error saving order:",ae),Pe.error("Error al guardar el pedido")}finally{l(!1)}},te=()=>{if(Q.orderDate instanceof Date)return Rt(Q.orderDate,"yyyy-MM-dd");const k=Q.orderDate?new Date(Q.orderDate):new Date;return isNaN(k.getTime())?Rt(new Date,"yyyy-MM-dd"):Rt(k,"yyyy-MM-dd")};return n?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("form",{onSubmit:le,className:"p-4 space-y-4 max-w-lg mx-auto",children:[d.jsx(Hv,{open:u,onOpenChange:f,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>f(!u),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-sm font-medium",children:"INFORMACIÓN GENERAL"}),!u&&d.jsxs("span",{className:"text-xs text-gray-500",children:[Q.customerId?(ue=m.find(k=>k.id===Q.customerId))==null?void 0:ue.name:"Sin asignar"," • ",Q.orderDate?Rt(new Date(Q.orderDate),"dd/MM/yyyy"):""]})]}),d.jsx(qv,{asChild:!0,children:d.jsx(_e,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:u?d.jsx(sy,{className:"h-4 w-4"}):d.jsx(ay,{className:"h-4 w-4"})})})]}),d.jsx(Vv,{children:d.jsxs("div",{className:"p-4 space-y-4 border-t",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Kn,{htmlFor:"orderDate",className:"text-sm text-gray-600",children:"FECHA DEL PEDIDO"}),d.jsx(fu,{label:"FECHA DEL PEDIDO",value:te(),onChange:k=>{const H=k?new Date(k):null;U(V=>({...V,orderDate:H||new Date}))},className:"w-full"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Kn,{htmlFor:"customerId",className:"text-sm text-gray-600",children:"CLIENTE"}),d.jsxs("select",{id:"customerId",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:Q.customerId,onChange:k=>U(H=>({...H,customerId:k.target.value})),children:[d.jsx("option",{value:"",children:"Seleccionar cliente"}),m.map(k=>d.jsx("option",{value:k.id,children:k.name},k.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Kn,{htmlFor:"status",className:"text-sm text-gray-600",children:"ESTADO"}),d.jsxs("select",{id:"status",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:Q.status,onChange:k=>U(H=>({...H,status:k.target.value})),children:[d.jsx("option",{value:be.PENDING,children:"Pendiente"}),d.jsx("option",{value:be.COMPLETED,children:"Completado"})]})]})]})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm border px-4 py-2",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex items-center gap-4",children:d.jsxs("span",{className:"text-sm text-gray-500",children:[((P=Q.products)==null?void 0:P.length)||0," productos • ",((K=Q.recipes)==null?void 0:K.length)||0," recetas • ",[...(Q.products||[]).map(k=>k.quantity),...(Q.recipes||[]).map(k=>k.quantity)].reduce((k,H)=>k+H,0)," items"]})}),d.jsxs("span",{className:"font-semibold text-blue-600",children:["$",[...(Q.products||[]).map(k=>{const H=v.find(V=>V.id===k.productId);return((H==null?void 0:H.purchasePrice)||0)*k.quantity}),...(Q.recipes||[]).map(k=>{const H=b.find(V=>V.id===k.recipeId);return((H==null?void 0:H.cost)||0)*k.quantity})].reduce((k,H)=>k+H,0).toFixed(2)]})]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(dr,{type:"text",placeholder:"Buscar productos o recetas...",className:"w-full pl-9",onChange:k=>{const H=k.target.value.toLowerCase(),V=v.filter(re=>re.name.toLowerCase().includes(H)),ae=b.filter(re=>re.name.toLowerCase().includes(H));oe([...ae.map(re=>({...re,type:"recipe"})),...V.map(re=>({...re,type:"product"}))])}}),d.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.3-4.3"})]})]}),d.jsx("div",{className:"grid grid-cols-1 gap-2",children:W.map(k=>{var ae,re;const H=k.type==="recipe",V=H?(ae=Q.recipes)==null?void 0:ae.find(de=>de.recipeId===k.id):(re=Q.products)==null?void 0:re.find(de=>de.productId===k.id);return d.jsx("div",{className:`w-full bg-white rounded-lg border shadow-sm cursor-pointer transition-all relative ${V?"border-primary ring-1 ring-primary":"hover:bg-gray-50/50"}`,onClick:de=>{de.target.tagName},onDoubleClick:()=>{var de,he;V?H?L(((de=Q.recipes)==null?void 0:de.findIndex(we=>we.recipeId===k.id))||0):Z(((he=Q.products)==null?void 0:he.findIndex(we=>we.productId===k.id))||0):H?(R(k.id),F(1),X()):(S(k.id),M(1),ne())},children:d.jsxs("div",{className:"p-4",children:[d.jsx("span",{className:`absolute top-0 right-0 w-6 h-6 flex items-center justify-center text-xs font-medium text-white rounded-bl-lg ${H?"bg-blue-500":"bg-purple-500"}`,children:H?"R":"P"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(hu,{checked:V!==void 0,onCheckedChange:de=>{var he,we;de?H?(R(k.id),F(1),X()):(S(k.id),M(1),ne()):H?L(((he=Q.recipes)==null?void 0:he.findIndex(ve=>ve.recipeId===k.id))||0):Z(((we=Q.products)==null?void 0:we.findIndex(ve=>ve.productId===k.id))||0)},className:"h-5 w-5",onClick:de=>{var he,we;de.stopPropagation(),V?H?L(((he=Q.recipes)==null?void 0:he.findIndex(ve=>ve.recipeId===k.id))||0):Z(((we=Q.products)==null?void 0:we.findIndex(ve=>ve.productId===k.id))||0):H?(R(k.id),F(1),X()):(S(k.id),M(1),ne())}}),d.jsx("div",{className:"flex-1",children:d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:"font-medium text-base",children:k.name})})})]}),V&&d.jsx("div",{className:"mt-3",children:d.jsxs("div",{className:"ml-8 space-y-2",children:[d.jsx(GH,{value:V.quantity,unit:H?_.find(de=>de.id===k.yieldUnitId):_.find(de=>de.id===k.salesUnitId),onQuantityChange:de=>{if(H){const he=[...Q.recipes||[]],we=he.findIndex(ve=>ve.recipeId===k.id);we>=0&&(he[we].quantity=de,U(ve=>({...ve,recipes:he})))}else{const he=[...Q.products||[]],we=he.findIndex(ve=>ve.productId===k.id);we>=0&&(he[we].quantity=de,U(ve=>({...ve,products:he})))}}}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Costo unitario:"}),d.jsxs("span",{className:"font-medium",children:["$",H?k.cost.toFixed(2):(k.purchasePrice||0).toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Total:"}),d.jsxs("span",{className:"font-semibold text-blue-600",children:["$",H?(k.cost*V.quantity).toFixed(2):((k.purchasePrice||0)*V.quantity).toFixed(2)]})]})]})})]})},`${k.type}-${k.id}`)})}),b.length===0&&v.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay items disponibles"})})]}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:d.jsxs("div",{className:"flex flex-col gap-2 max-w-lg mx-auto",children:[d.jsx(_e,{type:"submit",disabled:i,className:"h-11",children:i?"Guardando...":t?"Guardar Cambios":"Crear Pedido"}),d.jsx(_e,{type:"button",variant:"outline",onClick:()=>e(-1),disabled:i,className:"h-11",children:"Cancelar"})]})})]})})},YH=()=>{const{id:t}=ze(),e=It(),n=async()=>{if(t)try{await new ga().delete(t),e("/mobile/orders")}catch(i){console.error("Error deleting order:",i)}},a=()=>{e(-1)};return d.jsx("div",{className:"p-4",children:d.jsx(rt,{children:d.jsx(gt,{className:"pt-6",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-center",children:"¿Está seguro que desea eliminar este pedido?"}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx(_e,{variant:"destructive",onClick:n,className:"w-full",children:"Eliminar"}),d.jsx(_e,{variant:"outline",onClick:a,className:"w-full",children:"Cancelar"})]})]})})})})},WH=()=>{const[t,e]=I.useState([]),[n,a]=I.useState(!0),[i,l]=I.useState([]),[u,f]=I.useState([]),m=It(),p=new ya,v=new vn;I.useEffect(()=>{y()},[]);const y=async()=>{try{const[S,T,R]=await Promise.all([p.findAll(),v.findAll(),new At().findAll()]),j=S.sort((M,A)=>{const F=M.orderDate instanceof Date?M.orderDate:new Date(M.orderDate);return(A.orderDate instanceof Date?A.orderDate:new Date(A.orderDate)).getTime()-F.getTime()});e(j),l(T),f(R)}catch(S){console.error("Error loading data:",S)}finally{a(!1)}},b=S=>{try{if(!S)return"Fecha no disponible";let T;if(S instanceof Date)T=S;else if(typeof S=="string")T=va(S);else if(typeof S=="object"&&"seconds"in S)T=new Date(S.seconds*1e3);else throw new Error("Invalid date format");return isNaN(T.getTime())?"Fecha inválida":Rt(T,"PPP",{locale:xs})}catch(T){return console.error("Error formatting date:",T),"Fecha no disponible"}},x=S=>{switch(S){case be.PENDING:return"text-yellow-500 bg-yellow-500/10";case be.COMPLETED:return"text-green-500 bg-green-500/10";default:return"text-gray-500 bg-gray-500/10"}},_=S=>{switch(S){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completado";default:return S}},N=S=>{if(!S)return"";const T=S.slice(0,3),R=S.slice(-2);return`${T}${R}`.toUpperCase()},C=(S,T)=>{const R=document.querySelector('[role="dialog"]');if(R){const j=R.querySelector('button[data-state="open"]');j&&j instanceof HTMLButtonElement&&j.click()}switch(S){case"view":m(`/mobile/production/${T.id}/view`);break;case"edit":m(`/mobile/production/${T.id}/edit`);break;case"delete":m(`/mobile/production/${T.id}/delete`);break}};return n?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(_e,{className:"w-full flex items-center gap-2",onClick:()=>m("/mobile/production/new"),children:[d.jsx(ns,{className:"h-4 w-4"}),"Nueva Orden de Producción"]}),d.jsxs("div",{className:"space-y-4",children:[t.map(S=>{var T,R,j,M,A;return d.jsxs(lu,{children:[d.jsx(pv,{asChild:!0,children:d.jsx(rt,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:d.jsx(gt,{className:"p-4",children:d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"font-medium",children:["Producción #",N(S.id)]}),d.jsx("span",{className:"text-sm text-muted-foreground",children:b(S.orderDate)})]}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(S.status)}`,children:_(S.status)})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Responsable:"}),d.jsx("span",{className:"font-medium",children:((T=i.find(F=>F.id===S.responsibleWorkerId))==null?void 0:T.name)||"No asignado"})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Recetas:"}),d.jsx("span",{className:"font-medium",children:((R=S.recipes)==null?void 0:R.length)||0})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Total:"}),d.jsx("span",{className:"font-medium",children:((j=S.recipes)==null?void 0:j.reduce((F,Q)=>F+(Q.quantity||0),0))||0})]})]})]})})})}),d.jsxs(nl,{className:"sm:max-w-[425px]",children:[d.jsx(rl,{children:d.jsx(al,{children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("span",{children:["Producción #",N(S.id)]}),d.jsx("span",{className:"text-sm font-normal text-gray-500",children:b(S.orderDate)})]})})}),d.jsx(Lv,{onView:()=>C("view",S),onEdit:()=>C("edit",S),onDelete:()=>C("delete",S),onShare:()=>{},order:S,type:"production",workerName:(M=i.find(F=>F.id===S.responsibleWorkerId))==null?void 0:M.name,workerPhone:(A=i.find(F=>F.id===S.responsibleWorkerId))==null?void 0:A.phone,recipes:u})]})]},S.id)}),t.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay órdenes de producción"})})]})]})})},KH=()=>{var b;const{id:t}=ze();It();const[e,n]=I.useState(null),[a,i]=I.useState({}),[l,u]=I.useState({}),[f,m]=I.useState(!0);I.useEffect(()=>{(async()=>{if(t)try{const _=new ya,N=new vn,C=new At,[S,T,R]=await Promise.all([_.findById(t),N.findAll(),C.findAll()]);n(S),i(T.reduce((j,M)=>({...j,[M.id]:M.name}),{})),u(R.reduce((j,M)=>({...j,[M.id]:M.name}),{}))}catch(_){console.error("Error loading data:",_)}finally{m(!1)}})()},[t]);const p=x=>{try{if(!x)return"Fecha no disponible";let _;if(x instanceof Date)_=x;else if(typeof x=="string")_=va(x);else if(typeof x=="object"&&"seconds"in x)_=new Date(x.seconds*1e3);else throw new Error("Invalid date format");return isNaN(_.getTime())?"Fecha inválida":Rt(_,"PPP",{locale:xs})}catch(_){return console.error("Error formatting date:",_),"Fecha no disponible"}},v=x=>{switch(x){case be.PENDING:return"text-yellow-500 bg-yellow-500/10";case be.COMPLETED:return"text-green-500 bg-green-500/10";default:return"text-gray-500 bg-gray-500/10"}},y=x=>{switch(x){case be.PENDING:return"Pendiente";case be.COMPLETED:return"Completado";default:return x}};return f?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):e?d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(rt,{children:[d.jsx(pn,{children:d.jsx(gn,{children:"Información General"})}),d.jsxs(gt,{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-muted-foreground",children:"Estado"}),d.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${v(e.status)}`,children:y(e.status)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Fecha de Producción"}),d.jsx("span",{children:p(e.orderDate)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Responsable"}),d.jsx("span",{children:a[e.responsibleWorkerId]||"No asignado"})]})]})]}),d.jsxs(rt,{children:[d.jsx(pn,{children:d.jsx(gn,{children:"Recetas"})}),d.jsx(gt,{children:d.jsxs("div",{className:"space-y-4",children:[(b=e.recipes)==null?void 0:b.map((x,_)=>d.jsx("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"font-medium",children:l[x.recipeId]||"Receta no encontrada"}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Cantidad: ",x.quantity]})]})},_)),(!e.recipes||e.recipes.length===0)&&d.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No hay recetas asignadas"})]})})]})]}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Orden no encontrada"})})},QH=()=>{const{id:t}=ze(),e=It(),[n,a]=I.useState(null),[i,l]=I.useState(!0),[u,f]=I.useState(!1),m=new ya;I.useEffect(()=>{(async()=>{if(t)try{const b=await m.findById(t);a(b)}catch(b){console.error("Error loading order:",b),Pe.error("Error al cargar la orden")}finally{l(!1)}})()},[t]);const p=async()=>{if(t)try{f(!0),await m.delete(t),Pe.success("Orden eliminada correctamente"),e("/mobile/production")}catch(y){console.error("Error deleting order:",y),Pe.error("Error al eliminar la orden")}finally{f(!1)}},v=y=>{if(!y)return"";const b=y.slice(0,3),x=y.slice(-2);return`${b}${x}`.toUpperCase()};return i?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):n?d.jsx("div",{className:"p-4",children:d.jsxs(rt,{children:[d.jsx(pn,{children:d.jsx(gn,{className:"text-center text-red-500",children:"¿Estás seguro de eliminar esta orden?"})}),d.jsx(gt,{className:"space-y-4",children:d.jsxs("p",{className:"text-center text-muted-foreground",children:["Esta acción no se puede deshacer. Se eliminará la Orden #",n.consecutive||v(n.id)," y todos sus datos asociados."]})}),d.jsxs($S,{className:"flex flex-col gap-2",children:[d.jsx(_e,{variant:"destructive",className:"w-full",onClick:p,disabled:u,children:u?"Eliminando...":"Sí, eliminar"}),d.jsx(_e,{variant:"outline",className:"w-full",onClick:()=>e(-1),disabled:u,children:"Cancelar"})]})]})}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Orden no encontrada"})})},QE=()=>{var Q;const{id:t}=ze(),e=It(),[n,a]=I.useState(!0),[i,l]=I.useState(!1),[u,f]=I.useState(!1),[m,p]=I.useState([]),[v,y]=I.useState([]),[b,x]=I.useState([]),[_,N]=I.useState(new Set),[C,S]=I.useState([]),[T,R]=I.useState({orderDate:(()=>{const U=new Date;return U.setDate(U.getDate()+1),U})(),status:be.PENDING,responsibleWorkerId:"",recipes:[]});I.useEffect(()=>{j()},[t]);const j=async()=>{var U;try{const[W,oe,G]=await Promise.all([new vn().findAll(),new At().findAll(),new Dt().findAll()]);if(p(W),y(oe),x(G),S(oe),t){const X=await new ya().findById(t);if(X){R({...X,orderDate:X.orderDate instanceof Date?X.orderDate:new Date(X.orderDate)});const Z=new Set((U=X.recipes)==null?void 0:U.map(L=>L.recipeId));N(Z)}}}catch(W){console.error("Error loading data:",W),Pe.error("Error al cargar los datos")}finally{a(!1)}},M=async U=>{if(U.preventDefault(),_.size===0){Pe.error("Debe seleccionar al menos una receta");return}l(!0);try{const W=new ya,oe={...T,orderDate:T.orderDate instanceof Date?T.orderDate:new Date(T.orderDate||new Date)};t?(await W.update(t,oe),Pe.success("Orden actualizada correctamente")):(await W.create(oe),Pe.success("Orden creada correctamente")),e("/mobile/production")}catch(W){console.error("Error saving order:",W),Pe.error("Error al guardar la orden")}finally{l(!1)}},A=(U,W)=>{U&&R(oe=>({...oe,recipes:[...(oe.recipes||[]).filter(G=>G.recipeId!==U),...W>0?[{recipeId:U,quantity:W}]:[]]}))},F=(U,W=1)=>{N(oe=>{const G=new Set(oe);return G.has(U)?(G.delete(U),A(U,0)):(G.add(U),A(U,W)),G})};return n?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("form",{onSubmit:M,className:"p-4 space-y-4 max-w-lg mx-auto",children:[d.jsx(Hv,{open:u,onOpenChange:f,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>f(!u),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-sm font-medium",children:"Información General"}),!u&&d.jsx("span",{className:"text-xs text-gray-500",children:T.responsibleWorkerId?(Q=m.find(U=>U.id===T.responsibleWorkerId))==null?void 0:Q.name:"Sin asignar"})]}),d.jsx(qv,{asChild:!0,children:d.jsx(_e,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:u?d.jsx(sy,{className:"h-4 w-4"}):d.jsx(ay,{className:"h-4 w-4"})})})]}),d.jsx(Vv,{children:d.jsxs("div",{className:"p-4 space-y-4 border-t",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Kn,{htmlFor:"orderDate",className:"text-sm text-gray-600",children:"Fecha de Orden"}),d.jsx(fu,{label:"FECHA DE PRODUCCIÓN",value:T.orderDate instanceof Date||T.orderDate?Rt(T.orderDate,"yyyy-MM-dd"):Rt(new Date(T.orderDate||new Date),"yyyy-MM-dd"),onChange:U=>R(W=>({...W,orderDate:U.target.value?new Date(U.target.value):new Date})),className:"w-full"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Kn,{htmlFor:"responsibleWorkerId",className:"text-sm text-gray-600",children:"Responsable"}),d.jsxs("select",{id:"responsibleWorkerId",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:T.responsibleWorkerId,onChange:U=>R(W=>({...W,responsibleWorkerId:U.target.value})),children:[d.jsx("option",{value:"",children:"Seleccionar responsable"}),m.map(U=>d.jsx("option",{value:U.id,children:U.name},U.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Kn,{htmlFor:"status",className:"text-sm text-gray-600",children:"Estado"}),d.jsxs("select",{id:"status",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:T.status,onChange:U=>R(W=>({...W,status:U.target.value})),children:[d.jsx("option",{value:"",children:"Seleccionar estado"}),Object.values(be).map(U=>d.jsx("option",{value:U,children:U},U))]})]})]})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm border px-4 py-2",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex items-center gap-4",children:d.jsxs("span",{className:"text-sm text-gray-500",children:[_.size," recetas • ",(T.recipes||[]).reduce((U,W)=>U+W.quantity,0)," items"]})}),d.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(T.recipes||[]).reduce((U,W)=>{const oe=v.find(G=>G.id===W.recipeId);return U+((oe==null?void 0:oe.cost)||0)*W.quantity},0).toFixed(2)]})]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(dr,{type:"text",placeholder:"Buscar recetas...",className:"w-full pl-9",onChange:U=>{const W=U.target.value.toLowerCase();S(v.filter(oe=>oe.name.toLowerCase().includes(W)))}}),d.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.3-4.3"})]})]}),d.jsx("div",{className:"grid grid-cols-1 gap-3",children:C.map(U=>{var G;const W=_.has(U.id),oe=(G=T.recipes)==null?void 0:G.find(ne=>ne.recipeId===U.id);return d.jsx("div",{className:`w-full bg-white rounded-lg border shadow-sm cursor-pointer transition-all relative ${W?"border-primary ring-1 ring-primary":"hover:bg-gray-50/50"}`,onClick:ne=>{ne.target.tagName},onDoubleClick:()=>{W?(A(U.id,0),N(ne=>{const X=new Set(ne);return X.delete(U.id),X})):F(U.id,1)},children:d.jsxs("div",{className:"p-4",children:[d.jsx("span",{className:"absolute top-0 right-0 w-6 h-6 flex items-center justify-center text-xs font-medium text-white rounded-bl-lg bg-blue-500",children:"R"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(hu,{checked:W,onCheckedChange:ne=>{ne?F(U.id,1):(A(U.id,0),N(X=>{const Z=new Set(X);return Z.delete(U.id),Z}))},className:"h-5 w-5",onClick:ne=>ne.stopPropagation()}),d.jsx("div",{className:"flex-1",children:d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:"font-medium text-base",children:U.name})})})]}),oe&&d.jsx("div",{className:"mt-3",children:d.jsxs("div",{className:"ml-8 space-y-2",children:[d.jsx(lR,{value:oe.quantity,unit:b.find(ne=>ne.id===U.yieldUnitId),onQuantityChange:ne=>{const X=[...T.recipes||[]],Z=X.findIndex(L=>L.recipeId===U.id);Z>=0&&(X[Z].quantity=ne,R(L=>({...L,recipes:X})))}}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Costo unitario:"}),d.jsxs("span",{className:"font-medium",children:["$",U.cost.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Total:"}),d.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(U.cost*oe.quantity).toFixed(2)]})]})]})})]})},U.id)})})]}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:d.jsxs("div",{className:"flex flex-col gap-2 max-w-lg mx-auto",children:[d.jsx(_e,{type:"submit",disabled:i||_.size===0,className:"h-11",children:i?"Guardando...":t?"Guardar Cambios":"Crear Orden"}),d.jsx(_e,{type:"button",variant:"outline",onClick:()=>e(-1),disabled:i,className:"h-11",children:"Cancelar"})]})})]})})},XH=d.jsxs(d.Fragment,{children:[d.jsx(fe,{path:"/mobile",element:d.jsx(Gg,{})}),d.jsx(fe,{path:"/mobile/dashboard",element:d.jsx(Gg,{})}),d.jsx(fe,{path:"/mobile/purchases",element:d.jsx(LH,{})}),d.jsx(fe,{path:"/mobile/purchases/new",element:d.jsx(WE,{})}),d.jsx(fe,{path:"/mobile/purchases/:id/view",element:d.jsx(UH,{})}),d.jsx(fe,{path:"/mobile/purchases/:id/edit",element:d.jsx(WE,{})}),d.jsx(fe,{path:"/mobile/purchases/:id/delete",element:d.jsx(qH,{})}),d.jsx(fe,{path:"/mobile/orders",element:d.jsx(VH,{})}),d.jsx(fe,{path:"/mobile/orders/new",element:d.jsx(KE,{})}),d.jsx(fe,{path:"/mobile/orders/:id/view",element:d.jsx($H,{})}),d.jsx(fe,{path:"/mobile/orders/:id/edit",element:d.jsx(KE,{})}),d.jsx(fe,{path:"/mobile/orders/:id/delete",element:d.jsx(YH,{})}),d.jsx(fe,{path:"/mobile/production",element:d.jsx(WH,{})}),d.jsx(fe,{path:"/mobile/production/new",element:d.jsx(QE,{})}),d.jsx(fe,{path:"/mobile/production/:id/view",element:d.jsx(KH,{})}),d.jsx(fe,{path:"/mobile/production/:id/edit",element:d.jsx(QE,{})}),d.jsx(fe,{path:"/mobile/production/:id/delete",element:d.jsx(QH,{})})]}),XE=[{label:"Administración",icon:M_,submenu:[{label:"Clientes",path:"/customers",icon:SS},{label:"Proveedores",path:"/suppliers",icon:gS},{label:"Colaboradores",path:"/workers",icon:SI},{label:"Roles",path:"/roles",icon:QI},{label:"Unidades",path:"/units",icon:GI},{label:"Parámetros",path:"/parameters",icon:M_},{label:"Incidentes",path:"/incidents",icon:bS}]},{label:"Operación",icon:nj,submenu:[{label:"Compras",path:"/purchase-orders",icon:tg},{label:"Pedidos",path:"/customer-orders",icon:Nn},{label:"Producción",path:"/production-orders",icon:_S},{label:"Cierres Diarios",path:"/daily-closures",icon:yS}]},{label:"Inventario",icon:wS,submenu:[{label:"Productos",path:"/products",icon:uI},{label:"Recetas",path:"/recipes",icon:yI}]}],ZH=({children:t})=>{const e=It(),[n,a]=w.useState(!1),[i,l]=w.useState(null),[u,f]=w.useState(document.documentElement.classList.contains("dark")),m=()=>{const b=!u;f(b),b?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")},p=()=>{localStorage.removeItem("token"),e("/login",{replace:!0})},v=b=>{l(i===b?null:b)},y=()=>{a(!1),l(null)};return d.jsxs("div",{className:"min-h-screen bg-background",onClick:()=>l(null),children:[d.jsx("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:d.jsx("div",{className:"absolute -top-[40rem] left-1/2 -z-10 transform -translate-x-1/2",children:d.jsx("div",{className:"aspect-[1200/800] w-[80rem] bg-gradient-to-tr from-primary/20 to-primary-foreground/20 opacity-30 blur-3xl"})})}),d.jsxs("nav",{className:"sticky top-0 z-40 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex h-16 items-center justify-between",children:[d.jsxs(oa,{to:"/dashboard",className:"flex items-center space-x-3 cursor-pointer",onClick:y,children:[d.jsx("img",{src:tC,alt:"Logo",className:"h-8 w-8 rounded-lg object-cover"}),d.jsx("span",{className:"text-xl font-bold",children:"Sistema de Gestión Operativa"})]}),d.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[d.jsx("div",{className:"flex items-center gap-1",children:XE.map((b,x)=>d.jsxs("div",{className:"relative group px-3",children:[d.jsxs("button",{onClick:_=>{_.stopPropagation(),v(x)},className:"flex items-center space-x-2 text-sm font-medium transition-colors hover:text-primary py-2",children:[b.icon&&d.jsx(b.icon,{className:"h-4 w-4"}),d.jsx("span",{children:b.label})]}),b.submenu&&i===x&&d.jsx("div",{className:"absolute right-0 top-full w-56 pt-2 z-50",onClick:_=>_.stopPropagation(),children:d.jsx(rt,{className:"p-2 shadow-lg",children:d.jsx("nav",{className:"grid gap-1",children:b.submenu.map((_,N)=>d.jsxs(oa,{to:_.path||"#",onClick:y,className:"flex w-full items-center space-x-2 rounded-md p-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground cursor-pointer",children:[_.icon&&d.jsx(_.icon,{className:"h-4 w-4"}),d.jsx("span",{children:_.label})]},N))})})})]},x))}),d.jsxs("div",{className:"flex items-center space-x-2 border-l border-border/40 pl-4 ml-2",children:[d.jsx(_e,{variant:"ghost",size:"icon",onClick:m,className:"rounded-full",children:u?d.jsx(ng,{className:"h-5 w-5"}):d.jsx(eg,{className:"h-5 w-5"})}),d.jsx(_e,{variant:"ghost",size:"icon",onClick:p,className:"rounded-full",children:d.jsx(k_,{className:"h-5 w-5"})})]})]}),d.jsxs("div",{className:"flex md:hidden items-center space-x-2",children:[d.jsx(_e,{variant:"ghost",size:"icon",onClick:m,className:"rounded-full",children:u?d.jsx(ng,{className:"h-5 w-5"}):d.jsx(eg,{className:"h-5 w-5"})}),d.jsx(_e,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>a(!n),children:n?d.jsx(NS,{className:"h-6 w-6"}):d.jsx(kI,{className:"h-6 w-6"})})]})]})}),n&&d.jsx("div",{className:"md:hidden border-t border-border/40",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[XE.map((b,x)=>d.jsxs("div",{className:"py-2",children:[d.jsxs("button",{onClick:_=>{_.stopPropagation(),v(x)},className:"flex items-center space-x-2 font-medium mb-1 w-full text-left",children:[b.icon&&d.jsx(b.icon,{className:"h-4 w-4"}),d.jsx("span",{children:b.label})]}),b.submenu&&i===x&&d.jsx("div",{className:"pl-4 space-y-1",children:b.submenu.map((_,N)=>d.jsxs(oa,{to:_.path||"#",onClick:y,className:"flex items-center space-x-2 py-2 text-sm text-muted-foreground hover:text-primary cursor-pointer",children:[_.icon&&d.jsx(_.icon,{className:"h-4 w-4"}),d.jsx("span",{children:_.label})]},N))})]},x)),d.jsx("div",{className:"pt-4 border-t border-border/40",children:d.jsxs(_e,{variant:"ghost",className:"w-full justify-start text-sm text-muted-foreground hover:text-primary",onClick:p,children:[d.jsx(k_,{className:"h-4 w-4 mr-2"}),"Cerrar sesión"]})})]})})]}),d.jsx("main",{className:"py-6",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsx("div",{className:"fade-in",children:t})})})]})},JH=({children:t})=>{const e=gr(),n=It(),a=e.pathname==="/mobile"||e.pathname==="/mobile/dashboard";w.useEffect(()=>((async()=>{try{const f=document.documentElement;f.requestFullscreen?await f.requestFullscreen():f.webkitRequestFullscreen?await f.webkitRequestFullscreen():f.msRequestFullscreen&&await f.msRequestFullscreen()}catch(f){console.log("No se pudo activar el modo pantalla completa:",f)}})(),()=>{document.fullscreenElement&&document.exitFullscreen().catch(f=>{console.log("Error al salir de pantalla completa:",f)})}),[]);const l=(()=>{const u=e.pathname;return a?{title:"Inicio",icon:Xp,showBack:!1,action:null}:u.includes("/mobile/production")?u.includes("/new")?{title:"Nueva Producción",icon:si,showBack:!0,action:()=>null,actionIcon:Nn}:u.includes("/edit")?{title:"Editar Producción",icon:si,showBack:!0,action:()=>null,actionIcon:Nn}:u.includes("/view")?{title:"Ver Producción",icon:si,showBack:!0,action:()=>null,actionIcon:Nn}:u.includes("/delete")?{title:"Eliminar Producción",icon:si,showBack:!0,action:()=>null,actionIcon:Nn}:{title:"Producciones",icon:si,showBack:!1,action:()=>n("/mobile/production/new"),actionIcon:ns}:u.includes("/mobile/purchases")?u.includes("/new")?{title:"Nueva Compra",icon:ii,showBack:!0,action:()=>null,actionIcon:Nn}:u.includes("/edit")?{title:"Editar Compra",icon:ii,showBack:!0,action:()=>null,actionIcon:Nn}:u.includes("/view")?{title:"Ver Compra",icon:ii,showBack:!0,action:()=>null,actionIcon:Nn}:u.includes("/delete")?{title:"Eliminar Compra",icon:ii,showBack:!0,action:()=>null,actionIcon:Nn}:{title:"Compras",icon:ii,showBack:!1,action:()=>n("/mobile/purchases/new"),actionIcon:ns}:u.includes("/mobile/orders")?u.includes("/new")?{title:"Nuevo Pedido",icon:ai,showBack:!0,action:()=>null,actionIcon:Nn}:u.includes("/edit")?{title:"Editar Pedido",icon:ai,showBack:!0,action:()=>null,actionIcon:Nn}:u.includes("/view")?{title:"Ver Pedido",icon:ai,showBack:!0,action:()=>null,actionIcon:Nn}:u.includes("/delete")?{title:"Eliminar Pedido",icon:ai,showBack:!0,action:()=>null,actionIcon:Nn}:{title:"Pedidos",icon:ai,showBack:!1,action:()=>n("/mobile/orders/new"),actionIcon:ns}:{title:"SGO",icon:Xp,showBack:!1,action:null}})();return d.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[d.jsx("div",{className:"h-[env(safe-area-inset-top)] bg-background"}),d.jsx("header",{className:Re("sticky top-0 z-40 w-full bg-background/80 backdrop-blur-xl","transition-all duration-200 ease-in-out","border-b border-border/40"),children:d.jsxs("div",{className:"flex items-center justify-between px-4 h-14",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[l.showBack&&d.jsx(_e,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>n(-1),children:d.jsx(PH,{className:"h-4 w-4"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[I.createElement(l.icon,{className:Re("h-5 w-5",e.pathname.includes("/mobile/production")?"text-primary":"",e.pathname.includes("/mobile/purchases")?"text-primary":"",e.pathname.includes("/mobile/orders")?"text-primary":"",a?"text-primary":"")}),d.jsx("h1",{className:"text-lg font-medium",children:l.title})]})]}),l.action&&l.actionIcon&&d.jsx(_e,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:l.action,children:I.createElement(l.actionIcon,{className:"h-5 w-5"})})]})}),d.jsx("main",{className:"flex-1 overflow-y-auto",children:a?d.jsx(Gg,{}):d.jsx(ey,{})}),d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-t border-border/40",children:d.jsxs("div",{className:"flex justify-around items-center h-14",children:[d.jsxs(_e,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${a?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile"),children:[d.jsx(Xp,{className:"h-5 w-5"}),d.jsx("span",{className:"text-[10px] font-medium",children:"Inicio"}),a&&d.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]}),d.jsxs(_e,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${e.pathname.includes("/mobile/purchases")?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile/purchases"),children:[d.jsx(ii,{className:"h-5 w-5"}),d.jsx("span",{className:"text-[10px] font-medium",children:"Compras"}),e.pathname.includes("/mobile/purchases")&&d.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]}),d.jsxs(_e,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${e.pathname.includes("/mobile/orders")?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile/orders"),children:[d.jsx(ai,{className:"h-5 w-5"}),d.jsx("span",{className:"text-[10px] font-medium",children:"Pedidos"}),e.pathname.includes("/mobile/orders")&&d.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]}),d.jsxs(_e,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${e.pathname.includes("/mobile/production")?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile/production"),children:[d.jsx(si,{className:"h-5 w-5"}),d.jsx("span",{className:"text-[10px] font-medium",children:"Producción"}),e.pathname.includes("/mobile/production")&&d.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]})]})}),d.jsx("div",{className:"h-[calc(env(safe-area-inset-bottom)+3.5rem)]"})]})};class e7 extends I.Component{constructor(){super(...arguments);$e(this,"resizeObserver",null);$e(this,"state",{isMobile:window.innerWidth<=768})}componentDidMount(){this.resizeObserver=new ResizeObserver(n=>{for(const a of n){const l=a.contentRect.width<=768;this.state.isMobile!==l&&this.setState({isMobile:l},()=>{const u=l?"/mobile":"/dashboard";this.props.navigate(u)})}}),this.resizeObserver.observe(document.body)}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}render(){const{isMobile:n}=this.state,a=n?JH:ZH;return d.jsx(lS,{children:d.jsxs(fe,{element:d.jsx(a,{children:d.jsx(ey,{})}),children:[n&&XH,!n&&RH,d.jsx(fe,{path:"*",element:d.jsx(Jg,{to:n?"/mobile":"/dashboard",replace:!0})})]})})}}const t7=()=>{const t=It();return d.jsx(e7,{navigate:t})},n7=()=>d.jsx("div",{className:"fixed inset-0 bg-gray-50 dark:bg-gray-900 z-50 flex items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Cargando..."})]})}),r7=({children:t})=>{const e=gr(),[n,a]=I.useState(!0),[i,l]=I.useState(null);return I.useEffect(()=>{let u=!0;console.log("RequireAuth - Setting up auth listener");const f=xc.onAuthStateChanged(m=>{console.log("RequireAuth - Auth state changed:",{email:m==null?void 0:m.email,uid:m==null?void 0:m.uid,isAuthenticated:!!m}),u&&(l(m),a(!1))});return()=>{u=!1,f()}},[]),n?(console.log("RequireAuth - Loading..."),d.jsx(n7,{})):i?(console.log("RequireAuth - User authenticated, rendering content"),t||d.jsx(ey,{})):(console.log("RequireAuth - No user, redirecting to login"),d.jsx(Jg,{to:"/login",state:{from:e.pathname},replace:!0}))},a7=()=>{I.useEffect(()=>{new vf},[]);const t=window.innerWidth<=768;return d.jsx(Y2,{basename:"/nrd-sgo",children:d.jsxs(lS,{children:[d.jsx(fe,{path:"login",element:d.jsx(VB,{})}),d.jsx(fe,{element:d.jsx(r7,{}),children:d.jsx(fe,{path:"/*",element:d.jsx(t7,{})})}),d.jsx(fe,{path:"",element:d.jsx(Jg,{to:"/dashboard",replace:!0})})]})})};function s7(){return d.jsxs(d.Fragment,{children:[d.jsx(a7,{}),d.jsx(qB,{richColors:!0,position:"top-right",closeButton:!0,duration:4e3})]})}class i7 extends w.Component{constructor(){super(...arguments);$e(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,a){console.error("Error caught by error boundary:",n,a)}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:d.jsx("div",{className:"max-w-md w-full space-y-8",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(bS,{className:"h-12 w-12 text-red-500 mb-4"}),d.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Algo salió mal"}),d.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Ha ocurrido un error inesperado. Por favor, intente recargar la página."}),d.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Recargar página"}),!1]})})}):this.props.children}}jA.createRoot(document.getElementById("root")).render(d.jsx(I.StrictMode,{children:d.jsx(i7,{children:d.jsx(s7,{})})}));
//# sourceMappingURL=index-D7kKKLQ-.js.map
