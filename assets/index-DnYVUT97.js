var WP=Object.defineProperty;var GP=(t,e,n)=>e in t?WP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $e=(t,e,n)=>GP(t,typeof e!="symbol"?e+"":e,n);function YP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Jb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bv={exports:{}},wu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function KP(){if(KE)return wu;KE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:o}}return wu.Fragment=e,wu.jsx=n,wu.jsxs=n,wu}var XE;function XP(){return XE||(XE=1,Bv.exports=KP()),Bv.exports}var d=XP(),Vv={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function QP(){if(QE)return Ge;QE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function y(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function S(L,Y,ie){this.props=L,this.context=Y,this.refs=E,this.updater=ie||w}S.prototype.isReactComponent={},S.prototype.setState=function(L,Y){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Y,"setState")},S.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function C(){}C.prototype=S.prototype;function N(L,Y,ie){this.props=L,this.context=Y,this.refs=E,this.updater=ie||w}var I=N.prototype=new C;I.constructor=N,_(I,S.prototype),I.isPureReactComponent=!0;var T=Array.isArray,R={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function j(L,Y,ie,le,ue,_e){return ie=_e.ref,{$$typeof:t,type:L,key:Y,ref:ie!==void 0?ie:null,props:_e}}function P(L,Y){return j(L.type,Y,void 0,void 0,void 0,L.props)}function F(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function B(L){var Y={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ie){return Y[ie]})}var K=/\/+/g;function re(L,Y){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):Y.toString(36)}function Q(){}function $(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(Q,Q):(L.status="pending",L.then(function(Y){L.status==="pending"&&(L.status="fulfilled",L.value=Y)},function(Y){L.status==="pending"&&(L.status="rejected",L.reason=Y)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function q(L,Y,ie,le,ue){var _e=typeof L;(_e==="undefined"||_e==="boolean")&&(L=null);var he=!1;if(L===null)he=!0;else switch(_e){case"bigint":case"string":case"number":he=!0;break;case"object":switch(L.$$typeof){case t:case e:he=!0;break;case g:return he=L._init,q(he(L._payload),Y,ie,le,ue)}}if(he)return ue=ue(L),he=le===""?"."+re(L,0):le,T(ue)?(ie="",he!=null&&(ie=he.replace(K,"$&/")+"/"),q(ue,Y,ie,"",function(de){return de})):ue!=null&&(F(ue)&&(ue=P(ue,ie+(ue.key==null||L&&L.key===ue.key?"":(""+ue.key).replace(K,"$&/")+"/")+he)),Y.push(ue)),1;he=0;var Ae=le===""?".":le+":";if(T(L))for(var ne=0;ne<L.length;ne++)le=L[ne],_e=Ae+re(le,ne),he+=q(le,Y,ie,_e,ue);else if(ne=y(L),typeof ne=="function")for(L=ne.call(L),ne=0;!(le=L.next()).done;)le=le.value,_e=Ae+re(le,ne++),he+=q(le,Y,ie,_e,ue);else if(_e==="object"){if(typeof L.then=="function")return q($(L),Y,ie,le,ue);throw Y=String(L),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return he}function k(L,Y,ie){if(L==null)return L;var le=[],ue=0;return q(L,le,"","",function(_e){return Y.call(ie,_e,ue++)}),le}function Z(L){if(L._status===-1){var Y=L._result;Y=Y(),Y.then(function(ie){(L._status===0||L._status===-1)&&(L._status=1,L._result=ie)},function(ie){(L._status===0||L._status===-1)&&(L._status=2,L._result=ie)}),L._status===-1&&(L._status=0,L._result=Y)}if(L._status===1)return L._result.default;throw L._result}var z=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function G(){}return Ge.Children={map:k,forEach:function(L,Y,ie){k(L,function(){Y.apply(this,arguments)},ie)},count:function(L){var Y=0;return k(L,function(){Y++}),Y},toArray:function(L){return k(L,function(Y){return Y})||[]},only:function(L){if(!F(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ge.Component=S,Ge.Fragment=n,Ge.Profiler=a,Ge.PureComponent=N,Ge.StrictMode=r,Ge.Suspense=f,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ge.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ge.cache=function(L){return function(){return L.apply(null,arguments)}},Ge.cloneElement=function(L,Y,ie){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var le=_({},L.props),ue=L.key,_e=void 0;if(Y!=null)for(he in Y.ref!==void 0&&(_e=void 0),Y.key!==void 0&&(ue=""+Y.key),Y)!D.call(Y,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&Y.ref===void 0||(le[he]=Y[he]);var he=arguments.length-2;if(he===1)le.children=ie;else if(1<he){for(var Ae=Array(he),ne=0;ne<he;ne++)Ae[ne]=arguments[ne+2];le.children=Ae}return j(L.type,ue,void 0,void 0,_e,le)},Ge.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Ge.createElement=function(L,Y,ie){var le,ue={},_e=null;if(Y!=null)for(le in Y.key!==void 0&&(_e=""+Y.key),Y)D.call(Y,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ue[le]=Y[le]);var he=arguments.length-2;if(he===1)ue.children=ie;else if(1<he){for(var Ae=Array(he),ne=0;ne<he;ne++)Ae[ne]=arguments[ne+2];ue.children=Ae}if(L&&L.defaultProps)for(le in he=L.defaultProps,he)ue[le]===void 0&&(ue[le]=he[le]);return j(L,_e,void 0,void 0,null,ue)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(L){return{$$typeof:u,render:L}},Ge.isValidElement=F,Ge.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:Z}},Ge.memo=function(L,Y){return{$$typeof:m,type:L,compare:Y===void 0?null:Y}},Ge.startTransition=function(L){var Y=R.T,ie={};R.T=ie;try{var le=L(),ue=R.S;ue!==null&&ue(ie,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(G,z)}catch(_e){z(_e)}finally{R.T=Y}},Ge.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ge.use=function(L){return R.H.use(L)},Ge.useActionState=function(L,Y,ie){return R.H.useActionState(L,Y,ie)},Ge.useCallback=function(L,Y){return R.H.useCallback(L,Y)},Ge.useContext=function(L){return R.H.useContext(L)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(L,Y){return R.H.useDeferredValue(L,Y)},Ge.useEffect=function(L,Y){return R.H.useEffect(L,Y)},Ge.useId=function(){return R.H.useId()},Ge.useImperativeHandle=function(L,Y,ie){return R.H.useImperativeHandle(L,Y,ie)},Ge.useInsertionEffect=function(L,Y){return R.H.useInsertionEffect(L,Y)},Ge.useLayoutEffect=function(L,Y){return R.H.useLayoutEffect(L,Y)},Ge.useMemo=function(L,Y){return R.H.useMemo(L,Y)},Ge.useOptimistic=function(L,Y){return R.H.useOptimistic(L,Y)},Ge.useReducer=function(L,Y,ie){return R.H.useReducer(L,Y,ie)},Ge.useRef=function(L){return R.H.useRef(L)},Ge.useState=function(L){return R.H.useState(L)},Ge.useSyncExternalStore=function(L,Y,ie){return R.H.useSyncExternalStore(L,Y,ie)},Ge.useTransition=function(){return R.H.useTransition()},Ge.version="19.0.0",Ge}var ZE;function e0(){return ZE||(ZE=1,Vv.exports=QP()),Vv.exports}var x=e0();const O=Jb(x),nd=YP({__proto__:null,default:O},[x]);var $v={exports:{}},_u={},zv={exports:{}},Hv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function ZP(){return JE||(JE=1,function(t){function e(k,Z){var z=k.length;k.push(Z);e:for(;0<z;){var G=z-1>>>1,L=k[G];if(0<a(L,Z))k[G]=Z,k[z]=L,z=G;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var Z=k[0],z=k.pop();if(z!==Z){k[0]=z;e:for(var G=0,L=k.length,Y=L>>>1;G<Y;){var ie=2*(G+1)-1,le=k[ie],ue=ie+1,_e=k[ue];if(0>a(le,z))ue<L&&0>a(_e,le)?(k[G]=_e,k[ue]=z,G=ue):(k[G]=le,k[ie]=z,G=ie);else if(ue<L&&0>a(_e,z))k[G]=_e,k[ue]=z,G=ue;else break e}}return Z}function a(k,Z){var z=k.sortIndex-Z.sortIndex;return z!==0?z:k.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],m=[],g=1,v=null,y=3,w=!1,_=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function I(k){for(var Z=n(m);Z!==null;){if(Z.callback===null)r(m);else if(Z.startTime<=k)r(m),Z.sortIndex=Z.expirationTime,e(f,Z);else break;Z=n(m)}}function T(k){if(E=!1,I(k),!_)if(n(f)!==null)_=!0,$();else{var Z=n(m);Z!==null&&q(T,Z.startTime-k)}}var R=!1,D=-1,j=5,P=-1;function F(){return!(t.unstable_now()-P<j)}function B(){if(R){var k=t.unstable_now();P=k;var Z=!0;try{e:{_=!1,E&&(E=!1,C(D),D=-1),w=!0;var z=y;try{t:{for(I(k),v=n(f);v!==null&&!(v.expirationTime>k&&F());){var G=v.callback;if(typeof G=="function"){v.callback=null,y=v.priorityLevel;var L=G(v.expirationTime<=k);if(k=t.unstable_now(),typeof L=="function"){v.callback=L,I(k),Z=!0;break t}v===n(f)&&r(f),I(k)}else r(f);v=n(f)}if(v!==null)Z=!0;else{var Y=n(m);Y!==null&&q(T,Y.startTime-k),Z=!1}}break e}finally{v=null,y=z,w=!1}Z=void 0}}finally{Z?K():R=!1}}}var K;if(typeof N=="function")K=function(){N(B)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Q=re.port2;re.port1.onmessage=B,K=function(){Q.postMessage(null)}}else K=function(){S(B,0)};function $(){R||(R=!0,K())}function q(k,Z){D=S(function(){k(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){_||w||(_=!0,$())},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(k){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var z=y;y=Z;try{return k()}finally{y=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,Z){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var z=y;y=k;try{return Z()}finally{y=z}},t.unstable_scheduleCallback=function(k,Z,z){var G=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?G+z:G):z=G,k){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=z+L,k={id:g++,callback:Z,priorityLevel:k,startTime:z,expirationTime:L,sortIndex:-1},z>G?(k.sortIndex=z,e(m,k),n(f)===null&&k===n(m)&&(E?(C(D),D=-1):E=!0,q(T,z-G))):(k.sortIndex=L,e(f,k),_||w||(_=!0,$())),k},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(k){var Z=y;return function(){var z=y;y=Z;try{return k.apply(this,arguments)}finally{y=z}}}}(Hv)),Hv}var e1;function JP(){return e1||(e1=1,zv.exports=ZP()),zv.exports}var qv={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1;function ek(){if(t1)return An;t1=1;var t=e0();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,An.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,g)},An.flushSync=function(f){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=m,r.p=g,r.d.f()}},An.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},An.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},An.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,v=u(g,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:w}):g==="script"&&r.d.X(f,{crossOrigin:v,integrity:y,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},An.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=u(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},An.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=u(g,m.crossOrigin);r.d.L(f,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},An.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=u(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},An.requestFormReset=function(f){r.d.r(f)},An.unstable_batchedUpdates=function(f,m){return f(m)},An.useFormState=function(f,m,g){return c.H.useFormState(f,m,g)},An.useFormStatus=function(){return c.H.useHostTransitionStatus()},An.version="19.0.0",An}var n1;function vT(){if(n1)return qv.exports;n1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qv.exports=ek(),qv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1;function tk(){if(r1)return _u;r1=1;var t=JP(),e=e0(),n=vT();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var o=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),w=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),T=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function D(s){return s===null||typeof s!="object"?null:(s=R&&s[R]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function P(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case f:return"Fragment";case u:return"Portal";case g:return"Profiler";case m:return"StrictMode";case E:return"Suspense";case S:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case w:return(s.displayName||"Context")+".Provider";case y:return(s._context.displayName||"Context")+".Consumer";case _:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return i=s.displayName||null,i!==null?i:P(s.type)||"Memo";case N:i=s._payload,s=s._init;try{return P(s(i))}catch{}}return null}var F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=Object.assign,K,re;function Q(s){if(K===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);K=i&&i[1]||"",re=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+K+s+re}var $=!1;function q(s,i){if(!s||$)return"";$=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(i){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(se){var te=se}Reflect.construct(s,[],fe)}else{try{fe.call()}catch(se){te=se}s.call(fe.prototype)}}else{try{throw Error()}catch(se){te=se}(fe=s())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(se){if(se&&te&&typeof se.stack=="string")return[se.stack,te.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),A=b[0],M=b[1];if(A&&M){var U=A.split(`
`),W=M.split(`
`);for(p=h=0;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(h===U.length||p===W.length)for(h=U.length-1,p=W.length-1;1<=h&&0<=p&&U[h]!==W[p];)p--;for(;1<=h&&0<=p;h--,p--)if(U[h]!==W[p]){if(h!==1||p!==1)do if(h--,p--,0>p||U[h]!==W[p]){var oe=`
`+U[h].replace(" at new "," at ");return s.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",s.displayName)),oe}while(1<=h&&0<=p);break}}}finally{$=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Q(l):""}function k(s){switch(s.tag){case 26:case 27:case 5:return Q(s.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 15:return s=q(s.type,!1),s;case 11:return s=q(s.type.render,!1),s;case 1:return s=q(s.type,!0),s;default:return""}}function Z(s){try{var i="";do i+=k(s),s=s.return;while(s);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function z(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function G(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function L(s){if(z(s)!==s)throw Error(r(188))}function Y(s){var i=s.alternate;if(!i){if(i=z(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,h=i;;){var p=l.return;if(p===null)break;var b=p.alternate;if(b===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===l)return L(p),s;if(b===h)return L(p),i;b=b.sibling}throw Error(r(188))}if(l.return!==h.return)l=p,h=b;else{for(var A=!1,M=p.child;M;){if(M===l){A=!0,l=p,h=b;break}if(M===h){A=!0,h=p,l=b;break}M=M.sibling}if(!A){for(M=b.child;M;){if(M===l){A=!0,l=b,h=p;break}if(M===h){A=!0,h=b,l=p;break}M=M.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function ie(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=ie(s),i!==null)return i;s=s.sibling}return null}var le=Array.isArray,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},he=[],Ae=-1;function ne(s){return{current:s}}function de(s){0>Ae||(s.current=he[Ae],he[Ae]=null,Ae--)}function ve(s,i){Ae++,he[Ae]=s.current,s.current=i}var ze=ne(null),at=ne(null),Oe=ne(null),tt=ne(null);function dt(s,i){switch(ve(Oe,i),ve(at,s),ve(ze,null),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?EE(i):0;break;default:if(s=s===8?i.parentNode:i,i=s.tagName,s=s.namespaceURI)s=EE(s),i=CE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}de(ze),ve(ze,i)}function yt(){de(ze),de(at),de(Oe)}function Cn(s){s.memoizedState!==null&&ve(tt,s);var i=ze.current,l=CE(i,s.type);i!==l&&(ve(at,s),ve(ze,l))}function V(s){at.current===s&&(de(ze),de(at)),tt.current===s&&(de(tt),gu._currentValue=_e)}var J=Object.prototype.hasOwnProperty,ae=t.unstable_scheduleCallback,be=t.unstable_cancelCallback,pe=t.unstable_shouldYield,me=t.unstable_requestPaint,Ee=t.unstable_now,We=t.unstable_getCurrentPriorityLevel,_t=t.unstable_ImmediatePriority,It=t.unstable_UserBlockingPriority,Nn=t.unstable_NormalPriority,Ti=t.unstable_LowPriority,ar=t.unstable_IdlePriority,_s=t.log,ia=t.unstable_setDisableYieldValue,oa=null,vn=null;function Ri(s){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(oa,s,void 0,(s.current.flags&128)===128)}catch{}}function $r(s){if(typeof _s=="function"&&ia(s),vn&&typeof vn.setStrictMode=="function")try{vn.setStrictMode(oa,s)}catch{}}var On=Math.clz32?Math.clz32:Mp,Nc=Math.log,la=Math.LN2;function Mp(s){return s>>>=0,s===0?32:31-(Nc(s)/la|0)|0}var Ii=128,Ai=4194304;function Ue(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function At(s,i){var l=s.pendingLanes;if(l===0)return 0;var h=0,p=s.suspendedLanes,b=s.pingedLanes,A=s.warmLanes;s=s.finishedLanes!==0;var M=l&134217727;return M!==0?(l=M&~p,l!==0?h=Ue(l):(b&=M,b!==0?h=Ue(b):s||(A=M&~A,A!==0&&(h=Ue(A))))):(M=l&~p,M!==0?h=Ue(M):b!==0?h=Ue(b):s||(A=l&~A,A!==0&&(h=Ue(A)))),h===0?0:i!==0&&i!==h&&(i&p)===0&&(p=h&-h,A=i&-i,p>=A||p===32&&(A&4194176)!==0)?i:h}function Pt(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function jn(s,i){switch(s){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Di(){var s=Ii;return Ii<<=1,(Ii&4194176)===0&&(Ii=128),s}function Gt(){var s=Ai;return Ai<<=1,(Ai&62914560)===0&&(Ai=4194304),s}function Tn(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function ca(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function sr(s,i,l,h,p,b){var A=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var M=s.entanglements,U=s.expirationTimes,W=s.hiddenUpdates;for(l=A&~l;0<l;){var oe=31-On(l),fe=1<<oe;M[oe]=0,U[oe]=-1;var te=W[oe];if(te!==null)for(W[oe]=null,oe=0;oe<te.length;oe++){var se=te[oe];se!==null&&(se.lane&=-536870913)}l&=~fe}h!==0&&Wn(s,h,0),b!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=b&~(A&~i))}function Wn(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var h=31-On(i);s.entangledLanes|=i,s.entanglements[h]=s.entanglements[h]|1073741824|l&4194218}function Tc(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var h=31-On(l),p=1<<h;p&i|s[h]&i&&(s[h]|=i),l&=~p}}function ua(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Pp(){var s=ue.p;return s!==0?s:(s=window.event,s===void 0?32:zE(s.type))}function kj(s,i){var l=ue.p;try{return ue.p=s,i()}finally{ue.p=l}}var Ss=Math.random().toString(36).slice(2),Rn="__reactFiber$"+Ss,Gn="__reactProps$"+Ss,zo="__reactContainer$"+Ss,kp="__reactEvents$"+Ss,Lj="__reactListeners$"+Ss,Fj="__reactHandles$"+Ss,_w="__reactResources$"+Ss,Rc="__reactMarker$"+Ss;function Lp(s){delete s[Rn],delete s[Gn],delete s[kp],delete s[Lj],delete s[Fj]}function Oi(s){var i=s[Rn];if(i)return i;for(var l=s.parentNode;l;){if(i=l[zo]||l[Rn]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=RE(s);s!==null;){if(l=s[Rn])return l;s=RE(s)}return i}s=l,l=s.parentNode}return null}function Ho(s){if(s=s[Rn]||s[zo]){var i=s.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return s}return null}function Ic(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function qo(s){var i=s[_w];return i||(i=s[_w]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ln(s){s[Rc]=!0}var Sw=new Set,Ew={};function ji(s,i){Wo(s,i),Wo(s+"Capture",i)}function Wo(s,i){for(Ew[s]=i,s=0;s<i.length;s++)Sw.add(i[s])}var Ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uj=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cw={},Nw={};function Bj(s){return J.call(Nw,s)?!0:J.call(Cw,s)?!1:Uj.test(s)?Nw[s]=!0:(Cw[s]=!0,!1)}function Jd(s,i,l){if(Bj(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var h=i.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function ef(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Pa(s,i,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+h)}}function wr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Tw(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vj(s){var i=Tw(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),h=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,b=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(A){h=""+A,b.call(this,A)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(A){h=""+A},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function tf(s){s._valueTracker||(s._valueTracker=Vj(s))}function Rw(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return s&&(h=Tw(s)?s.checked?"true":"false":s.value),s=h,s!==l?(i.setValue(s),!0):!1}function nf(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var $j=/[\n"\\]/g;function _r(s){return s.replace($j,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Fp(s,i,l,h,p,b,A,M){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),i!=null?A==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+wr(i)):s.value!==""+wr(i)&&(s.value=""+wr(i)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),i!=null?Up(s,A,wr(i)):l!=null?Up(s,A,wr(l)):h!=null&&s.removeAttribute("value"),p==null&&b!=null&&(s.defaultChecked=!!b),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?s.name=""+wr(M):s.removeAttribute("name")}function Iw(s,i,l,h,p,b,A,M){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),i!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||i!=null))return;l=l!=null?""+wr(l):"",i=i!=null?""+wr(i):l,M||i===s.value||(s.value=i),s.defaultValue=i}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=M?s.checked:!!h,s.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A)}function Up(s,i,l){i==="number"&&nf(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Go(s,i,l,h){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&h&&(s[l].defaultSelected=!0)}else{for(l=""+wr(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,h&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function Aw(s,i,l){if(i!=null&&(i=""+wr(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+wr(l):""}function Dw(s,i,l,h){if(i==null){if(h!=null){if(l!=null)throw Error(r(92));if(le(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),i=l}l=wr(i),s.defaultValue=l,h=s.textContent,h===l&&h!==""&&h!==null&&(s.value=h)}function Yo(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var zj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ow(s,i,l){var h=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":h?s.setProperty(i,l):typeof l!="number"||l===0||zj.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function jw(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||i!=null&&i.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var p in i)h=i[p],i.hasOwnProperty(p)&&l[p]!==h&&Ow(s,p,h)}else for(var b in i)i.hasOwnProperty(b)&&Ow(s,b,i[b])}function Bp(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hj=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qj=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rf(s){return qj.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Vp=null;function $p(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ko=null,Xo=null;function Mw(s){var i=Ho(s);if(i&&(s=i.stateNode)){var l=s[Gn]||null;e:switch(s=i.stateNode,i.type){case"input":if(Fp(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+_r(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==s&&h.form===s.form){var p=h[Gn]||null;if(!p)throw Error(r(90));Fp(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<l.length;i++)h=l[i],h.form===s.form&&Rw(h)}break e;case"textarea":Aw(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&Go(s,!!l.multiple,i,!1)}}}var zp=!1;function Pw(s,i,l){if(zp)return s(i,l);zp=!0;try{var h=s(i);return h}finally{if(zp=!1,(Ko!==null||Xo!==null)&&(Vf(),Ko&&(i=Ko,s=Xo,Xo=Ko=null,Mw(i),s)))for(i=0;i<s.length;i++)Mw(s[i])}}function Ac(s,i){var l=s.stateNode;if(l===null)return null;var h=l[Gn]||null;if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var Hp=!1;if(Ma)try{var Dc={};Object.defineProperty(Dc,"passive",{get:function(){Hp=!0}}),window.addEventListener("test",Dc,Dc),window.removeEventListener("test",Dc,Dc)}catch{Hp=!1}var Es=null,qp=null,af=null;function kw(){if(af)return af;var s,i=qp,l=i.length,h,p="value"in Es?Es.value:Es.textContent,b=p.length;for(s=0;s<l&&i[s]===p[s];s++);var A=l-s;for(h=1;h<=A&&i[l-h]===p[b-h];h++);return af=p.slice(s,1<h?1-h:void 0)}function sf(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function of(){return!0}function Lw(){return!1}function Yn(s){function i(l,h,p,b,A){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(l=s[M],this[M]=l?l(b):b[M]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?of:Lw,this.isPropagationStopped=Lw,this}return B(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=of)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=of)},persist:function(){},isPersistent:of}),i}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lf=Yn(Mi),Oc=B({},Mi,{view:0,detail:0}),Wj=Yn(Oc),Wp,Gp,jc,cf=B({},Oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kp,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==jc&&(jc&&s.type==="mousemove"?(Wp=s.screenX-jc.screenX,Gp=s.screenY-jc.screenY):Gp=Wp=0,jc=s),Wp)},movementY:function(s){return"movementY"in s?s.movementY:Gp}}),Fw=Yn(cf),Gj=B({},cf,{dataTransfer:0}),Yj=Yn(Gj),Kj=B({},Oc,{relatedTarget:0}),Yp=Yn(Kj),Xj=B({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Qj=Yn(Xj),Zj=B({},Mi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jj=Yn(Zj),eM=B({},Mi,{data:0}),Uw=Yn(eM),tM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aM(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=rM[s])?!!i[s]:!1}function Kp(){return aM}var sM=B({},Oc,{key:function(s){if(s.key){var i=tM[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=sf(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?nM[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kp,charCode:function(s){return s.type==="keypress"?sf(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?sf(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),iM=Yn(sM),oM=B({},cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bw=Yn(oM),lM=B({},Oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kp}),cM=Yn(lM),uM=B({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),dM=Yn(uM),fM=B({},cf,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),hM=Yn(fM),mM=B({},Mi,{newState:0,oldState:0}),pM=Yn(mM),gM=[9,13,27,32],Xp=Ma&&"CompositionEvent"in window,Mc=null;Ma&&"documentMode"in document&&(Mc=document.documentMode);var vM=Ma&&"TextEvent"in window&&!Mc,Vw=Ma&&(!Xp||Mc&&8<Mc&&11>=Mc),$w=" ",zw=!1;function Hw(s,i){switch(s){case"keyup":return gM.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Qo=!1;function yM(s,i){switch(s){case"compositionend":return qw(i);case"keypress":return i.which!==32?null:(zw=!0,$w);case"textInput":return s=i.data,s===$w&&zw?null:s;default:return null}}function bM(s,i){if(Qo)return s==="compositionend"||!Xp&&Hw(s,i)?(s=kw(),af=qp=Es=null,Qo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Vw&&i.locale!=="ko"?null:i.data;default:return null}}var xM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ww(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!xM[s.type]:i==="textarea"}function Gw(s,i,l,h){Ko?Xo?Xo.push(h):Xo=[h]:Ko=h,i=Wf(i,"onChange"),0<i.length&&(l=new lf("onChange","change",null,l,h),s.push({event:l,listeners:i}))}var Pc=null,kc=null;function wM(s){bE(s,0)}function uf(s){var i=Ic(s);if(Rw(i))return s}function Yw(s,i){if(s==="change")return i}var Kw=!1;if(Ma){var Qp;if(Ma){var Zp="oninput"in document;if(!Zp){var Xw=document.createElement("div");Xw.setAttribute("oninput","return;"),Zp=typeof Xw.oninput=="function"}Qp=Zp}else Qp=!1;Kw=Qp&&(!document.documentMode||9<document.documentMode)}function Qw(){Pc&&(Pc.detachEvent("onpropertychange",Zw),kc=Pc=null)}function Zw(s){if(s.propertyName==="value"&&uf(kc)){var i=[];Gw(i,kc,s,$p(s)),Pw(wM,i)}}function _M(s,i,l){s==="focusin"?(Qw(),Pc=i,kc=l,Pc.attachEvent("onpropertychange",Zw)):s==="focusout"&&Qw()}function SM(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return uf(kc)}function EM(s,i){if(s==="click")return uf(i)}function CM(s,i){if(s==="input"||s==="change")return uf(i)}function NM(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var ir=typeof Object.is=="function"?Object.is:NM;function Lc(s,i){if(ir(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!J.call(i,p)||!ir(s[p],i[p]))return!1}return!0}function Jw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function e_(s,i){var l=Jw(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=i&&h>=i)return{node:l,offset:i-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jw(l)}}function t_(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?t_(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function n_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=nf(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=nf(s.document)}return i}function Jp(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function TM(s,i){var l=n_(i);i=s.focusedElem;var h=s.selectionRange;if(l!==i&&i&&i.ownerDocument&&t_(i.ownerDocument.documentElement,i)){if(h!==null&&Jp(i)){if(s=h.start,l=h.end,l===void 0&&(l=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(l,i.value.length);else if(l=(s=i.ownerDocument||document)&&s.defaultView||window,l.getSelection){l=l.getSelection();var p=i.textContent.length,b=Math.min(h.start,p);h=h.end===void 0?b:Math.min(h.end,p),!l.extend&&b>h&&(p=h,h=b,b=p),p=e_(i,b);var A=e_(i,h);p&&A&&(l.rangeCount!==1||l.anchorNode!==p.node||l.anchorOffset!==p.offset||l.focusNode!==A.node||l.focusOffset!==A.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),l.removeAllRanges(),b>h?(l.addRange(s),l.extend(A.node,A.offset)):(s.setEnd(A.node,A.offset),l.addRange(s)))}}for(s=[],l=i;l=l.parentNode;)l.nodeType===1&&s.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)l=s[i],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var RM=Ma&&"documentMode"in document&&11>=document.documentMode,Zo=null,eg=null,Fc=null,tg=!1;function r_(s,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;tg||Zo==null||Zo!==nf(h)||(h=Zo,"selectionStart"in h&&Jp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Fc&&Lc(Fc,h)||(Fc=h,h=Wf(eg,"onSelect"),0<h.length&&(i=new lf("onSelect","select",null,i,l),s.push({event:i,listeners:h}),i.target=Zo)))}function Pi(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Jo={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionrun:Pi("Transition","TransitionRun"),transitionstart:Pi("Transition","TransitionStart"),transitioncancel:Pi("Transition","TransitionCancel"),transitionend:Pi("Transition","TransitionEnd")},ng={},a_={};Ma&&(a_=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function ki(s){if(ng[s])return ng[s];if(!Jo[s])return s;var i=Jo[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in a_)return ng[s]=i[l];return s}var s_=ki("animationend"),i_=ki("animationiteration"),o_=ki("animationstart"),IM=ki("transitionrun"),AM=ki("transitionstart"),DM=ki("transitioncancel"),l_=ki("transitionend"),c_=new Map,u_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function zr(s,i){c_.set(s,i),ji(i,[s])}var Sr=[],el=0,rg=0;function df(){for(var s=el,i=rg=el=0;i<s;){var l=Sr[i];Sr[i++]=null;var h=Sr[i];Sr[i++]=null;var p=Sr[i];Sr[i++]=null;var b=Sr[i];if(Sr[i++]=null,h!==null&&p!==null){var A=h.pending;A===null?p.next=p:(p.next=A.next,A.next=p),h.pending=p}b!==0&&d_(l,p,b)}}function ff(s,i,l,h){Sr[el++]=s,Sr[el++]=i,Sr[el++]=l,Sr[el++]=h,rg|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function ag(s,i,l,h){return ff(s,i,l,h),hf(s)}function Cs(s,i){return ff(s,null,null,i),hf(s)}function d_(s,i,l){s.lanes|=l;var h=s.alternate;h!==null&&(h.lanes|=l);for(var p=!1,b=s.return;b!==null;)b.childLanes|=l,h=b.alternate,h!==null&&(h.childLanes|=l),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(p=!0)),s=b,b=b.return;p&&i!==null&&s.tag===3&&(b=s.stateNode,p=31-On(l),b=b.hiddenUpdates,s=b[p],s===null?b[p]=[i]:s.push(i),i.lane=l|536870912)}function hf(s){if(50<cu)throw cu=0,uv=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var tl={},f_=new WeakMap;function Er(s,i){if(typeof s=="object"&&s!==null){var l=f_.get(s);return l!==void 0?l:(i={value:s,source:i,stack:Z(i)},f_.set(s,i),i)}return{value:s,source:i,stack:Z(i)}}var nl=[],rl=0,mf=null,pf=0,Cr=[],Nr=0,Li=null,ka=1,La="";function Fi(s,i){nl[rl++]=pf,nl[rl++]=mf,mf=s,pf=i}function h_(s,i,l){Cr[Nr++]=ka,Cr[Nr++]=La,Cr[Nr++]=Li,Li=s;var h=ka;s=La;var p=32-On(h)-1;h&=~(1<<p),l+=1;var b=32-On(i)+p;if(30<b){var A=p-p%5;b=(h&(1<<A)-1).toString(32),h>>=A,p-=A,ka=1<<32-On(i)+p|l<<p|h,La=b+s}else ka=1<<b|l<<p|h,La=s}function sg(s){s.return!==null&&(Fi(s,1),h_(s,1,0))}function ig(s){for(;s===mf;)mf=nl[--rl],nl[rl]=null,pf=nl[--rl],nl[rl]=null;for(;s===Li;)Li=Cr[--Nr],Cr[Nr]=null,La=Cr[--Nr],Cr[Nr]=null,ka=Cr[--Nr],Cr[Nr]=null}var Mn=null,yn=null,it=!1,Hr=null,da=!1,og=Error(r(519));function Ui(s){var i=Error(r(418,""));throw Vc(Er(i,s)),og}function m_(s){var i=s.stateNode,l=s.type,h=s.memoizedProps;switch(i[Rn]=s,i[Gn]=h,l){case"dialog":nt("cancel",i),nt("close",i);break;case"iframe":case"object":case"embed":nt("load",i);break;case"video":case"audio":for(l=0;l<du.length;l++)nt(du[l],i);break;case"source":nt("error",i);break;case"img":case"image":case"link":nt("error",i),nt("load",i);break;case"details":nt("toggle",i);break;case"input":nt("invalid",i),Iw(i,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),tf(i);break;case"select":nt("invalid",i);break;case"textarea":nt("invalid",i),Dw(i,h.value,h.defaultValue,h.children),tf(i)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||h.suppressHydrationWarning===!0||SE(i.textContent,l)?(h.popover!=null&&(nt("beforetoggle",i),nt("toggle",i)),h.onScroll!=null&&nt("scroll",i),h.onScrollEnd!=null&&nt("scrollend",i),h.onClick!=null&&(i.onclick=Gf),i=!0):i=!1,i||Ui(s)}function p_(s){for(Mn=s.return;Mn;)switch(Mn.tag){case 3:case 27:da=!0;return;case 5:case 13:da=!1;return;default:Mn=Mn.return}}function Uc(s){if(s!==Mn)return!1;if(!it)return p_(s),it=!0,!1;var i=!1,l;if((l=s.tag!==3&&s.tag!==27)&&((l=s.tag===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Tv(s.type,s.memoizedProps)),l=!l),l&&(i=!0),i&&yn&&Ui(s),p_(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(i===0){yn=Wr(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;s=s.nextSibling}yn=null}}else yn=Mn?Wr(s.stateNode.nextSibling):null;return!0}function Bc(){yn=Mn=null,it=!1}function Vc(s){Hr===null?Hr=[s]:Hr.push(s)}var $c=Error(r(460)),g_=Error(r(474)),lg={then:function(){}};function v_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function gf(){}function y_(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(gf,gf),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,s===$c?Error(r(483)):s;default:if(typeof i.status=="string")i.then(gf,gf);else{if(s=St,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(h){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=h}},function(h){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=h}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,s===$c?Error(r(483)):s}throw zc=i,$c}}var zc=null;function b_(){if(zc===null)throw Error(r(459));var s=zc;return zc=null,s}var al=null,Hc=0;function vf(s){var i=Hc;return Hc+=1,al===null&&(al=[]),y_(al,s,i)}function qc(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function yf(s,i){throw i.$$typeof===o?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function x_(s){var i=s._init;return i(s._payload)}function w_(s){function i(X,H){if(s){var ee=X.deletions;ee===null?(X.deletions=[H],X.flags|=16):ee.push(H)}}function l(X,H){if(!s)return null;for(;H!==null;)i(X,H),H=H.sibling;return null}function h(X){for(var H=new Map;X!==null;)X.key!==null?H.set(X.key,X):H.set(X.index,X),X=X.sibling;return H}function p(X,H){return X=Ls(X,H),X.index=0,X.sibling=null,X}function b(X,H,ee){return X.index=ee,s?(ee=X.alternate,ee!==null?(ee=ee.index,ee<H?(X.flags|=33554434,H):ee):(X.flags|=33554434,H)):(X.flags|=1048576,H)}function A(X){return s&&X.alternate===null&&(X.flags|=33554434),X}function M(X,H,ee,ce){return H===null||H.tag!==6?(H=nv(ee,X.mode,ce),H.return=X,H):(H=p(H,ee),H.return=X,H)}function U(X,H,ee,ce){var Ce=ee.type;return Ce===f?oe(X,H,ee.props.children,ce,ee.key):H!==null&&(H.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===N&&x_(Ce)===H.type)?(H=p(H,ee.props),qc(H,ee),H.return=X,H):(H=kf(ee.type,ee.key,ee.props,null,X.mode,ce),qc(H,ee),H.return=X,H)}function W(X,H,ee,ce){return H===null||H.tag!==4||H.stateNode.containerInfo!==ee.containerInfo||H.stateNode.implementation!==ee.implementation?(H=rv(ee,X.mode,ce),H.return=X,H):(H=p(H,ee.children||[]),H.return=X,H)}function oe(X,H,ee,ce,Ce){return H===null||H.tag!==7?(H=Ki(ee,X.mode,ce,Ce),H.return=X,H):(H=p(H,ee),H.return=X,H)}function fe(X,H,ee){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=nv(""+H,X.mode,ee),H.return=X,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case c:return ee=kf(H.type,H.key,H.props,null,X.mode,ee),qc(ee,H),ee.return=X,ee;case u:return H=rv(H,X.mode,ee),H.return=X,H;case N:var ce=H._init;return H=ce(H._payload),fe(X,H,ee)}if(le(H)||D(H))return H=Ki(H,X.mode,ee,null),H.return=X,H;if(typeof H.then=="function")return fe(X,vf(H),ee);if(H.$$typeof===w)return fe(X,jf(X,H),ee);yf(X,H)}return null}function te(X,H,ee,ce){var Ce=H!==null?H.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ce!==null?null:M(X,H,""+ee,ce);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case c:return ee.key===Ce?U(X,H,ee,ce):null;case u:return ee.key===Ce?W(X,H,ee,ce):null;case N:return Ce=ee._init,ee=Ce(ee._payload),te(X,H,ee,ce)}if(le(ee)||D(ee))return Ce!==null?null:oe(X,H,ee,ce,null);if(typeof ee.then=="function")return te(X,H,vf(ee),ce);if(ee.$$typeof===w)return te(X,H,jf(X,ee),ce);yf(X,ee)}return null}function se(X,H,ee,ce,Ce){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return X=X.get(ee)||null,M(H,X,""+ce,Ce);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case c:return X=X.get(ce.key===null?ee:ce.key)||null,U(H,X,ce,Ce);case u:return X=X.get(ce.key===null?ee:ce.key)||null,W(H,X,ce,Ce);case N:var Ke=ce._init;return ce=Ke(ce._payload),se(X,H,ee,ce,Ce)}if(le(ce)||D(ce))return X=X.get(ee)||null,oe(H,X,ce,Ce,null);if(typeof ce.then=="function")return se(X,H,ee,vf(ce),Ce);if(ce.$$typeof===w)return se(X,H,ee,jf(H,ce),Ce);yf(H,ce)}return null}function Re(X,H,ee,ce){for(var Ce=null,Ke=null,Ie=H,Me=H=0,dn=null;Ie!==null&&Me<ee.length;Me++){Ie.index>Me?(dn=Ie,Ie=null):dn=Ie.sibling;var ot=te(X,Ie,ee[Me],ce);if(ot===null){Ie===null&&(Ie=dn);break}s&&Ie&&ot.alternate===null&&i(X,Ie),H=b(ot,H,Me),Ke===null?Ce=ot:Ke.sibling=ot,Ke=ot,Ie=dn}if(Me===ee.length)return l(X,Ie),it&&Fi(X,Me),Ce;if(Ie===null){for(;Me<ee.length;Me++)Ie=fe(X,ee[Me],ce),Ie!==null&&(H=b(Ie,H,Me),Ke===null?Ce=Ie:Ke.sibling=Ie,Ke=Ie);return it&&Fi(X,Me),Ce}for(Ie=h(Ie);Me<ee.length;Me++)dn=se(Ie,X,Me,ee[Me],ce),dn!==null&&(s&&dn.alternate!==null&&Ie.delete(dn.key===null?Me:dn.key),H=b(dn,H,Me),Ke===null?Ce=dn:Ke.sibling=dn,Ke=dn);return s&&Ie.forEach(function(Hs){return i(X,Hs)}),it&&Fi(X,Me),Ce}function He(X,H,ee,ce){if(ee==null)throw Error(r(151));for(var Ce=null,Ke=null,Ie=H,Me=H=0,dn=null,ot=ee.next();Ie!==null&&!ot.done;Me++,ot=ee.next()){Ie.index>Me?(dn=Ie,Ie=null):dn=Ie.sibling;var Hs=te(X,Ie,ot.value,ce);if(Hs===null){Ie===null&&(Ie=dn);break}s&&Ie&&Hs.alternate===null&&i(X,Ie),H=b(Hs,H,Me),Ke===null?Ce=Hs:Ke.sibling=Hs,Ke=Hs,Ie=dn}if(ot.done)return l(X,Ie),it&&Fi(X,Me),Ce;if(Ie===null){for(;!ot.done;Me++,ot=ee.next())ot=fe(X,ot.value,ce),ot!==null&&(H=b(ot,H,Me),Ke===null?Ce=ot:Ke.sibling=ot,Ke=ot);return it&&Fi(X,Me),Ce}for(Ie=h(Ie);!ot.done;Me++,ot=ee.next())ot=se(Ie,X,Me,ot.value,ce),ot!==null&&(s&&ot.alternate!==null&&Ie.delete(ot.key===null?Me:ot.key),H=b(ot,H,Me),Ke===null?Ce=ot:Ke.sibling=ot,Ke=ot);return s&&Ie.forEach(function(qP){return i(X,qP)}),it&&Fi(X,Me),Ce}function Ft(X,H,ee,ce){if(typeof ee=="object"&&ee!==null&&ee.type===f&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case c:e:{for(var Ce=ee.key;H!==null;){if(H.key===Ce){if(Ce=ee.type,Ce===f){if(H.tag===7){l(X,H.sibling),ce=p(H,ee.props.children),ce.return=X,X=ce;break e}}else if(H.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===N&&x_(Ce)===H.type){l(X,H.sibling),ce=p(H,ee.props),qc(ce,ee),ce.return=X,X=ce;break e}l(X,H);break}else i(X,H);H=H.sibling}ee.type===f?(ce=Ki(ee.props.children,X.mode,ce,ee.key),ce.return=X,X=ce):(ce=kf(ee.type,ee.key,ee.props,null,X.mode,ce),qc(ce,ee),ce.return=X,X=ce)}return A(X);case u:e:{for(Ce=ee.key;H!==null;){if(H.key===Ce)if(H.tag===4&&H.stateNode.containerInfo===ee.containerInfo&&H.stateNode.implementation===ee.implementation){l(X,H.sibling),ce=p(H,ee.children||[]),ce.return=X,X=ce;break e}else{l(X,H);break}else i(X,H);H=H.sibling}ce=rv(ee,X.mode,ce),ce.return=X,X=ce}return A(X);case N:return Ce=ee._init,ee=Ce(ee._payload),Ft(X,H,ee,ce)}if(le(ee))return Re(X,H,ee,ce);if(D(ee)){if(Ce=D(ee),typeof Ce!="function")throw Error(r(150));return ee=Ce.call(ee),He(X,H,ee,ce)}if(typeof ee.then=="function")return Ft(X,H,vf(ee),ce);if(ee.$$typeof===w)return Ft(X,H,jf(X,ee),ce);yf(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,H!==null&&H.tag===6?(l(X,H.sibling),ce=p(H,ee),ce.return=X,X=ce):(l(X,H),ce=nv(ee,X.mode,ce),ce.return=X,X=ce),A(X)):l(X,H)}return function(X,H,ee,ce){try{Hc=0;var Ce=Ft(X,H,ee,ce);return al=null,Ce}catch(Ie){if(Ie===$c)throw Ie;var Ke=Ar(29,Ie,null,X.mode);return Ke.lanes=ce,Ke.return=X,Ke}finally{}}}var Bi=w_(!0),__=w_(!1),sl=ne(null),bf=ne(0);function S_(s,i){s=Ya,ve(bf,s),ve(sl,i),Ya=s|i.baseLanes}function cg(){ve(bf,Ya),ve(sl,sl.current)}function ug(){Ya=bf.current,de(sl),de(bf)}var Tr=ne(null),fa=null;function Ns(s){var i=s.alternate;ve(en,en.current&1),ve(Tr,s),fa===null&&(i===null||sl.current!==null||i.memoizedState!==null)&&(fa=s)}function E_(s){if(s.tag===22){if(ve(en,en.current),ve(Tr,s),fa===null){var i=s.alternate;i!==null&&i.memoizedState!==null&&(fa=s)}}else Ts()}function Ts(){ve(en,en.current),ve(Tr,Tr.current)}function Fa(s){de(Tr),fa===s&&(fa=null),de(en)}var en=ne(0);function xf(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var OM=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,h){s.push(h)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},jM=t.unstable_scheduleCallback,MM=t.unstable_NormalPriority,tn={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dg(){return{controller:new OM,data:new Map,refCount:0}}function Wc(s){s.refCount--,s.refCount===0&&jM(MM,function(){s.controller.abort()})}var Gc=null,fg=0,il=0,ol=null;function PM(s,i){if(Gc===null){var l=Gc=[];fg=0,il=yv(),ol={status:"pending",value:void 0,then:function(h){l.push(h)}}}return fg++,i.then(C_,C_),i}function C_(){if(--fg===0&&Gc!==null){ol!==null&&(ol.status="fulfilled");var s=Gc;Gc=null,il=0,ol=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function kM(s,i){var l=[],h={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){h.status="fulfilled",h.value=i;for(var p=0;p<l.length;p++)(0,l[p])(i)},function(p){for(h.status="rejected",h.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),h}var N_=F.S;F.S=function(s,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&PM(s,i),N_!==null&&N_(s,i)};var Vi=ne(null);function hg(){var s=Vi.current;return s!==null?s:St.pooledCache}function wf(s,i){i===null?ve(Vi,Vi.current):ve(Vi,i.pool)}function T_(){var s=hg();return s===null?null:{parent:tn._currentValue,pool:s}}var Rs=0,Ye=null,pt=null,Yt=null,_f=!1,ll=!1,$i=!1,Sf=0,Yc=0,cl=null,LM=0;function $t(){throw Error(r(321))}function mg(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!ir(s[l],i[l]))return!1;return!0}function pg(s,i,l,h,p,b){return Rs=b,Ye=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=s===null||s.memoizedState===null?zi:Is,$i=!1,b=l(h,p),$i=!1,ll&&(b=I_(i,l,h,p)),R_(s),b}function R_(s){F.H=ha;var i=pt!==null&&pt.next!==null;if(Rs=0,Yt=pt=Ye=null,_f=!1,Yc=0,cl=null,i)throw Error(r(300));s===null||cn||(s=s.dependencies,s!==null&&Of(s)&&(cn=!0))}function I_(s,i,l,h){Ye=s;var p=0;do{if(ll&&(cl=null),Yc=0,ll=!1,25<=p)throw Error(r(301));if(p+=1,Yt=pt=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}F.H=Hi,b=i(l,h)}while(ll);return b}function FM(){var s=F.H,i=s.useState()[0];return i=typeof i.then=="function"?Kc(i):i,s=s.useState()[0],(pt!==null?pt.memoizedState:null)!==s&&(Ye.flags|=1024),i}function gg(){var s=Sf!==0;return Sf=0,s}function vg(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function yg(s){if(_f){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}_f=!1}Rs=0,Yt=pt=Ye=null,ll=!1,Yc=Sf=0,cl=null}function Kn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Ye.memoizedState=Yt=s:Yt=Yt.next=s,Yt}function Kt(){if(pt===null){var s=Ye.alternate;s=s!==null?s.memoizedState:null}else s=pt.next;var i=Yt===null?Ye.memoizedState:Yt.next;if(i!==null)Yt=i,pt=s;else{if(s===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));pt=s,s={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Yt===null?Ye.memoizedState=Yt=s:Yt=Yt.next=s}return Yt}var Ef;Ef=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Kc(s){var i=Yc;return Yc+=1,cl===null&&(cl=[]),s=y_(cl,s,i),i=Ye,(Yt===null?i.memoizedState:Yt.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?zi:Is),s}function Cf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Kc(s);if(s.$$typeof===w)return In(s)}throw Error(r(438,String(s)))}function bg(s){var i=null,l=Ye.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var h=Ye.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(i={data:h.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Ef(),Ye.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),h=0;h<s;h++)l[h]=T;return i.index++,l}function Ua(s,i){return typeof i=="function"?i(s):i}function Nf(s){var i=Kt();return xg(i,pt,s)}function xg(s,i,l){var h=s.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var p=s.baseQueue,b=h.pending;if(b!==null){if(p!==null){var A=p.next;p.next=b.next,b.next=A}i.baseQueue=p=b,h.pending=null}if(b=s.baseState,p===null)s.memoizedState=b;else{i=p.next;var M=A=null,U=null,W=i,oe=!1;do{var fe=W.lane&-536870913;if(fe!==W.lane?(st&fe)===fe:(Rs&fe)===fe){var te=W.revertLane;if(te===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),fe===il&&(oe=!0);else if((Rs&te)===te){W=W.next,te===il&&(oe=!0);continue}else fe={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(M=U=fe,A=b):U=U.next=fe,Ye.lanes|=te,Fs|=te;fe=W.action,$i&&l(b,fe),b=W.hasEagerState?W.eagerState:l(b,fe)}else te={lane:fe,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(M=U=te,A=b):U=U.next=te,Ye.lanes|=fe,Fs|=fe;W=W.next}while(W!==null&&W!==i);if(U===null?A=b:U.next=M,!ir(b,s.memoizedState)&&(cn=!0,oe&&(l=ol,l!==null)))throw l;s.memoizedState=b,s.baseState=A,s.baseQueue=U,h.lastRenderedState=b}return p===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function wg(s){var i=Kt(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var h=l.dispatch,p=l.pending,b=i.memoizedState;if(p!==null){l.pending=null;var A=p=p.next;do b=s(b,A.action),A=A.next;while(A!==p);ir(b,i.memoizedState)||(cn=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),l.lastRenderedState=b}return[b,h]}function A_(s,i,l){var h=Ye,p=Kt(),b=it;if(b){if(l===void 0)throw Error(r(407));l=l()}else l=i();var A=!ir((pt||p).memoizedState,l);if(A&&(p.memoizedState=l,cn=!0),p=p.queue,Eg(j_.bind(null,h,p,s),[s]),p.getSnapshot!==i||A||Yt!==null&&Yt.memoizedState.tag&1){if(h.flags|=2048,ul(9,O_.bind(null,h,p,l,i),{destroy:void 0},null),St===null)throw Error(r(349));b||(Rs&60)!==0||D_(h,i,l)}return l}function D_(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=Ye.updateQueue,i===null?(i=Ef(),Ye.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function O_(s,i,l,h){i.value=l,i.getSnapshot=h,M_(i)&&P_(s)}function j_(s,i,l){return l(function(){M_(i)&&P_(s)})}function M_(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!ir(s,l)}catch{return!0}}function P_(s){var i=Cs(s,2);i!==null&&Pn(i,s,2)}function _g(s){var i=Kn();if(typeof s=="function"){var l=s;if(s=l(),$i){$r(!0);try{l()}finally{$r(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:s},i}function k_(s,i,l,h){return s.baseState=l,xg(s,pt,typeof h=="function"?h:Ua)}function UM(s,i,l,h,p){if(If(s))throw Error(r(485));if(s=i.action,s!==null){var b={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};F.T!==null?l(!0):b.isTransition=!1,h(b),l=i.pending,l===null?(b.next=i.pending=b,L_(i,b)):(b.next=l.next,i.pending=l.next=b)}}function L_(s,i){var l=i.action,h=i.payload,p=s.state;if(i.isTransition){var b=F.T,A={};F.T=A;try{var M=l(p,h),U=F.S;U!==null&&U(A,M),F_(s,i,M)}catch(W){Sg(s,i,W)}finally{F.T=b}}else try{b=l(p,h),F_(s,i,b)}catch(W){Sg(s,i,W)}}function F_(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){U_(s,i,h)},function(h){return Sg(s,i,h)}):U_(s,i,l)}function U_(s,i,l){i.status="fulfilled",i.value=l,B_(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,L_(s,l)))}function Sg(s,i,l){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do i.status="rejected",i.reason=l,B_(i),i=i.next;while(i!==h)}s.action=null}function B_(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function V_(s,i){return i}function $_(s,i){if(it){var l=St.formState;if(l!==null){e:{var h=Ye;if(it){if(yn){t:{for(var p=yn,b=da;p.nodeType!==8;){if(!b){p=null;break t}if(p=Wr(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){yn=Wr(p.nextSibling),h=p.data==="F!";break e}}Ui(h)}h=!1}h&&(i=l[0])}}return l=Kn(),l.memoizedState=l.baseState=i,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:V_,lastRenderedState:i},l.queue=h,l=iS.bind(null,Ye,h),h.dispatch=l,h=_g(!1),b=Ig.bind(null,Ye,!1,h.queue),h=Kn(),p={state:i,dispatch:null,action:s,pending:null},h.queue=p,l=UM.bind(null,Ye,p,b,l),p.dispatch=l,h.memoizedState=s,[i,l,!1]}function z_(s){var i=Kt();return H_(i,pt,s)}function H_(s,i,l){i=xg(s,i,V_)[0],s=Nf(Ua)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Kc(i):i;var h=Kt(),p=h.queue,b=p.dispatch;return l!==h.memoizedState&&(Ye.flags|=2048,ul(9,BM.bind(null,p,l),{destroy:void 0},null)),[i,b,s]}function BM(s,i){s.action=i}function q_(s){var i=Kt(),l=pt;if(l!==null)return H_(i,l,s);Kt(),i=i.memoizedState,l=Kt();var h=l.queue.dispatch;return l.memoizedState=s,[i,h,!1]}function ul(s,i,l,h){return s={tag:s,create:i,inst:l,deps:h,next:null},i=Ye.updateQueue,i===null&&(i=Ef(),Ye.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,i.lastEffect=s),s}function W_(){return Kt().memoizedState}function Tf(s,i,l,h){var p=Kn();Ye.flags|=s,p.memoizedState=ul(1|i,l,{destroy:void 0},h===void 0?null:h)}function Rf(s,i,l,h){var p=Kt();h=h===void 0?null:h;var b=p.memoizedState.inst;pt!==null&&h!==null&&mg(h,pt.memoizedState.deps)?p.memoizedState=ul(i,l,b,h):(Ye.flags|=s,p.memoizedState=ul(1|i,l,b,h))}function G_(s,i){Tf(8390656,8,s,i)}function Eg(s,i){Rf(2048,8,s,i)}function Y_(s,i){return Rf(4,2,s,i)}function K_(s,i){return Rf(4,4,s,i)}function X_(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Q_(s,i,l){l=l!=null?l.concat([s]):null,Rf(4,4,X_.bind(null,i,s),l)}function Cg(){}function Z_(s,i){var l=Kt();i=i===void 0?null:i;var h=l.memoizedState;return i!==null&&mg(i,h[1])?h[0]:(l.memoizedState=[s,i],s)}function J_(s,i){var l=Kt();i=i===void 0?null:i;var h=l.memoizedState;if(i!==null&&mg(i,h[1]))return h[0];if(h=s(),$i){$r(!0);try{s()}finally{$r(!1)}}return l.memoizedState=[h,i],h}function Ng(s,i,l){return l===void 0||(Rs&1073741824)!==0?s.memoizedState=i:(s.memoizedState=l,s=tE(),Ye.lanes|=s,Fs|=s,l)}function eS(s,i,l,h){return ir(l,i)?l:sl.current!==null?(s=Ng(s,l,h),ir(s,i)||(cn=!0),s):(Rs&42)===0?(cn=!0,s.memoizedState=l):(s=tE(),Ye.lanes|=s,Fs|=s,i)}function tS(s,i,l,h,p){var b=ue.p;ue.p=b!==0&&8>b?b:8;var A=F.T,M={};F.T=M,Ig(s,!1,i,l);try{var U=p(),W=F.S;if(W!==null&&W(M,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var oe=kM(U,h);Xc(s,i,oe,ur(s))}else Xc(s,i,h,ur(s))}catch(fe){Xc(s,i,{then:function(){},status:"rejected",reason:fe},ur())}finally{ue.p=b,F.T=A}}function VM(){}function Tg(s,i,l,h){if(s.tag!==5)throw Error(r(476));var p=nS(s).queue;tS(s,p,i,_e,l===null?VM:function(){return rS(s),l(h)})}function nS(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:_e},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function rS(s){var i=nS(s).next.queue;Xc(s,i,{},ur())}function Rg(){return In(gu)}function aS(){return Kt().memoizedState}function sS(){return Kt().memoizedState}function $M(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=ur();s=Os(l);var h=js(i,s,l);h!==null&&(Pn(h,i,l),Jc(h,i,l)),i={cache:dg()},s.payload=i;return}i=i.return}}function zM(s,i,l){var h=ur();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},If(s)?oS(i,l):(l=ag(s,i,l,h),l!==null&&(Pn(l,s,h),lS(l,i,h)))}function iS(s,i,l){var h=ur();Xc(s,i,l,h)}function Xc(s,i,l,h){var p={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(If(s))oS(i,p);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var A=i.lastRenderedState,M=b(A,l);if(p.hasEagerState=!0,p.eagerState=M,ir(M,A))return ff(s,i,p,0),St===null&&df(),!1}catch{}finally{}if(l=ag(s,i,p,h),l!==null)return Pn(l,s,h),lS(l,i,h),!0}return!1}function Ig(s,i,l,h){if(h={lane:2,revertLane:yv(),action:h,hasEagerState:!1,eagerState:null,next:null},If(s)){if(i)throw Error(r(479))}else i=ag(s,l,h,2),i!==null&&Pn(i,s,2)}function If(s){var i=s.alternate;return s===Ye||i!==null&&i===Ye}function oS(s,i){ll=_f=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function lS(s,i,l){if((l&4194176)!==0){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,Tc(s,l)}}var ha={readContext:In,use:Cf,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t};ha.useCacheRefresh=$t,ha.useMemoCache=$t,ha.useHostTransitionStatus=$t,ha.useFormState=$t,ha.useActionState=$t,ha.useOptimistic=$t;var zi={readContext:In,use:Cf,useCallback:function(s,i){return Kn().memoizedState=[s,i===void 0?null:i],s},useContext:In,useEffect:G_,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,Tf(4194308,4,X_.bind(null,i,s),l)},useLayoutEffect:function(s,i){return Tf(4194308,4,s,i)},useInsertionEffect:function(s,i){Tf(4,2,s,i)},useMemo:function(s,i){var l=Kn();i=i===void 0?null:i;var h=s();if($i){$r(!0);try{s()}finally{$r(!1)}}return l.memoizedState=[h,i],h},useReducer:function(s,i,l){var h=Kn();if(l!==void 0){var p=l(i);if($i){$r(!0);try{l(i)}finally{$r(!1)}}}else p=i;return h.memoizedState=h.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},h.queue=s,s=s.dispatch=zM.bind(null,Ye,s),[h.memoizedState,s]},useRef:function(s){var i=Kn();return s={current:s},i.memoizedState=s},useState:function(s){s=_g(s);var i=s.queue,l=iS.bind(null,Ye,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:Cg,useDeferredValue:function(s,i){var l=Kn();return Ng(l,s,i)},useTransition:function(){var s=_g(!1);return s=tS.bind(null,Ye,s.queue,!0,!1),Kn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var h=Ye,p=Kn();if(it){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),St===null)throw Error(r(349));(st&60)!==0||D_(h,i,l)}p.memoizedState=l;var b={value:l,getSnapshot:i};return p.queue=b,G_(j_.bind(null,h,b,s),[s]),h.flags|=2048,ul(9,O_.bind(null,h,b,l,i),{destroy:void 0},null),l},useId:function(){var s=Kn(),i=St.identifierPrefix;if(it){var l=La,h=ka;l=(h&~(1<<32-On(h)-1)).toString(32)+l,i=":"+i+"R"+l,l=Sf++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=LM++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},useCacheRefresh:function(){return Kn().memoizedState=$M.bind(null,Ye)}};zi.useMemoCache=bg,zi.useHostTransitionStatus=Rg,zi.useFormState=$_,zi.useActionState=$_,zi.useOptimistic=function(s){var i=Kn();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Ig.bind(null,Ye,!0,l),l.dispatch=i,[s,i]};var Is={readContext:In,use:Cf,useCallback:Z_,useContext:In,useEffect:Eg,useImperativeHandle:Q_,useInsertionEffect:Y_,useLayoutEffect:K_,useMemo:J_,useReducer:Nf,useRef:W_,useState:function(){return Nf(Ua)},useDebugValue:Cg,useDeferredValue:function(s,i){var l=Kt();return eS(l,pt.memoizedState,s,i)},useTransition:function(){var s=Nf(Ua)[0],i=Kt().memoizedState;return[typeof s=="boolean"?s:Kc(s),i]},useSyncExternalStore:A_,useId:aS};Is.useCacheRefresh=sS,Is.useMemoCache=bg,Is.useHostTransitionStatus=Rg,Is.useFormState=z_,Is.useActionState=z_,Is.useOptimistic=function(s,i){var l=Kt();return k_(l,pt,s,i)};var Hi={readContext:In,use:Cf,useCallback:Z_,useContext:In,useEffect:Eg,useImperativeHandle:Q_,useInsertionEffect:Y_,useLayoutEffect:K_,useMemo:J_,useReducer:wg,useRef:W_,useState:function(){return wg(Ua)},useDebugValue:Cg,useDeferredValue:function(s,i){var l=Kt();return pt===null?Ng(l,s,i):eS(l,pt.memoizedState,s,i)},useTransition:function(){var s=wg(Ua)[0],i=Kt().memoizedState;return[typeof s=="boolean"?s:Kc(s),i]},useSyncExternalStore:A_,useId:aS};Hi.useCacheRefresh=sS,Hi.useMemoCache=bg,Hi.useHostTransitionStatus=Rg,Hi.useFormState=q_,Hi.useActionState=q_,Hi.useOptimistic=function(s,i){var l=Kt();return pt!==null?k_(l,pt,s,i):(l.baseState=s,[s,l.queue.dispatch])};function Ag(s,i,l,h){i=s.memoizedState,l=l(h,i),l=l==null?i:B({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Dg={isMounted:function(s){return(s=s._reactInternals)?z(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var h=ur(),p=Os(h);p.payload=i,l!=null&&(p.callback=l),i=js(s,p,h),i!==null&&(Pn(i,s,h),Jc(i,s,h))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var h=ur(),p=Os(h);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=js(s,p,h),i!==null&&(Pn(i,s,h),Jc(i,s,h))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=ur(),h=Os(l);h.tag=2,i!=null&&(h.callback=i),i=js(s,h,l),i!==null&&(Pn(i,s,l),Jc(i,s,l))}};function cS(s,i,l,h,p,b,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,b,A):i.prototype&&i.prototype.isPureReactComponent?!Lc(l,h)||!Lc(p,b):!0}function uS(s,i,l,h){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==s&&Dg.enqueueReplaceState(i,i.state,null)}function qi(s,i){var l=i;if("ref"in i){l={};for(var h in i)h!=="ref"&&(l[h]=i[h])}if(s=s.defaultProps){l===i&&(l=B({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}var Af=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function dS(s){Af(s)}function fS(s){console.error(s)}function hS(s){Af(s)}function Df(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(h){setTimeout(function(){throw h})}}function mS(s,i,l){try{var h=s.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Og(s,i,l){return l=Os(l),l.tag=3,l.payload={element:null},l.callback=function(){Df(s,i)},l}function pS(s){return s=Os(s),s.tag=3,s}function gS(s,i,l,h){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var b=h.value;s.payload=function(){return p(b)},s.callback=function(){mS(i,l,h)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){mS(i,l,h),typeof p!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function HM(s,i,l,h,p){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(i=l.alternate,i!==null&&Zc(i,l,p,!0),l=Tr.current,l!==null){switch(l.tag){case 13:return fa===null?hv():l.alternate===null&&Lt===0&&(Lt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,h===lg?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([h]):i.add(h),pv(s,h,p)),!1;case 22:return l.flags|=65536,h===lg?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([h]):l.add(h)),pv(s,h,p)),!1}throw Error(r(435,l.tag))}return pv(s,h,p),hv(),!1}if(it)return i=Tr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,h!==og&&(s=Error(r(422),{cause:h}),Vc(Er(s,l)))):(h!==og&&(i=Error(r(423),{cause:h}),Vc(Er(i,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,h=Er(h,l),p=Og(s.stateNode,h,p),Gg(s,p),Lt!==4&&(Lt=2)),!1;var b=Error(r(520),{cause:h});if(b=Er(b,l),ou===null?ou=[b]:ou.push(b),Lt!==4&&(Lt=2),i===null)return!0;h=Er(h,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=Og(l.stateNode,h,s),Gg(l,s),!1;case 1:if(i=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Us===null||!Us.has(b))))return l.flags|=65536,p&=-p,l.lanes|=p,p=pS(p),gS(p,s,l,h),Gg(l,p),!1}l=l.return}while(l!==null);return!1}var vS=Error(r(461)),cn=!1;function bn(s,i,l,h){i.child=s===null?__(i,null,l,h):Bi(i,s.child,l,h)}function yS(s,i,l,h,p){l=l.render;var b=i.ref;if("ref"in h){var A={};for(var M in h)M!=="ref"&&(A[M]=h[M])}else A=h;return Gi(i),h=pg(s,i,l,A,b,p),M=gg(),s!==null&&!cn?(vg(s,i,p),Ba(s,i,p)):(it&&M&&sg(i),i.flags|=1,bn(s,i,h,p),i.child)}function bS(s,i,l,h,p){if(s===null){var b=l.type;return typeof b=="function"&&!tv(b)&&b.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=b,xS(s,i,b,h,p)):(s=kf(l.type,null,h,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(b=s.child,!Vg(s,p)){var A=b.memoizedProps;if(l=l.compare,l=l!==null?l:Lc,l(A,h)&&s.ref===i.ref)return Ba(s,i,p)}return i.flags|=1,s=Ls(b,h),s.ref=i.ref,s.return=i,i.child=s}function xS(s,i,l,h,p){if(s!==null){var b=s.memoizedProps;if(Lc(b,h)&&s.ref===i.ref)if(cn=!1,i.pendingProps=h=b,Vg(s,p))(s.flags&131072)!==0&&(cn=!0);else return i.lanes=s.lanes,Ba(s,i,p)}return jg(s,i,l,h,p)}function wS(s,i,l){var h=i.pendingProps,p=h.children,b=(i.stateNode._pendingVisibility&2)!==0,A=s!==null?s.memoizedState:null;if(Qc(s,i),h.mode==="hidden"||b){if((i.flags&128)!==0){if(h=A!==null?A.baseLanes|l:l,s!==null){for(p=i.child=s.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;i.childLanes=b&~h}else i.childLanes=0,i.child=null;return _S(s,i,h,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&wf(i,A!==null?A.cachePool:null),A!==null?S_(i,A):cg(),E_(i);else return i.lanes=i.childLanes=536870912,_S(s,i,A!==null?A.baseLanes|l:l,l)}else A!==null?(wf(i,A.cachePool),S_(i,A),Ts(),i.memoizedState=null):(s!==null&&wf(i,null),cg(),Ts());return bn(s,i,p,l),i.child}function _S(s,i,l,h){var p=hg();return p=p===null?null:{parent:tn._currentValue,pool:p},i.memoizedState={baseLanes:l,cachePool:p},s!==null&&wf(i,null),cg(),E_(i),s!==null&&Zc(s,i,h,!0),null}function Qc(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=2097664)}}function jg(s,i,l,h,p){return Gi(i),l=pg(s,i,l,h,void 0,p),h=gg(),s!==null&&!cn?(vg(s,i,p),Ba(s,i,p)):(it&&h&&sg(i),i.flags|=1,bn(s,i,l,p),i.child)}function SS(s,i,l,h,p,b){return Gi(i),i.updateQueue=null,l=I_(i,h,l,p),R_(s),h=gg(),s!==null&&!cn?(vg(s,i,b),Ba(s,i,b)):(it&&h&&sg(i),i.flags|=1,bn(s,i,l,b),i.child)}function ES(s,i,l,h,p){if(Gi(i),i.stateNode===null){var b=tl,A=l.contextType;typeof A=="object"&&A!==null&&(b=In(A)),b=new l(h,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Dg,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=h,b.state=i.memoizedState,b.refs={},qg(i),A=l.contextType,b.context=typeof A=="object"&&A!==null?In(A):tl,b.state=i.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Ag(i,l,A,h),b.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&Dg.enqueueReplaceState(b,b.state,null),tu(i,h,b,p),eu(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),h=!0}else if(s===null){b=i.stateNode;var M=i.memoizedProps,U=qi(l,M);b.props=U;var W=b.context,oe=l.contextType;A=tl,typeof oe=="object"&&oe!==null&&(A=In(oe));var fe=l.getDerivedStateFromProps;oe=typeof fe=="function"||typeof b.getSnapshotBeforeUpdate=="function",M=i.pendingProps!==M,oe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M||W!==A)&&uS(i,b,h,A),Ds=!1;var te=i.memoizedState;b.state=te,tu(i,h,b,p),eu(),W=i.memoizedState,M||te!==W||Ds?(typeof fe=="function"&&(Ag(i,l,fe,h),W=i.memoizedState),(U=Ds||cS(i,l,U,h,te,W,A))?(oe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=W),b.props=h,b.state=W,b.context=A,h=U):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{b=i.stateNode,Wg(s,i),A=i.memoizedProps,oe=qi(l,A),b.props=oe,fe=i.pendingProps,te=b.context,W=l.contextType,U=tl,typeof W=="object"&&W!==null&&(U=In(W)),M=l.getDerivedStateFromProps,(W=typeof M=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==fe||te!==U)&&uS(i,b,h,U),Ds=!1,te=i.memoizedState,b.state=te,tu(i,h,b,p),eu();var se=i.memoizedState;A!==fe||te!==se||Ds||s!==null&&s.dependencies!==null&&Of(s.dependencies)?(typeof M=="function"&&(Ag(i,l,M,h),se=i.memoizedState),(oe=Ds||cS(i,l,oe,h,te,se,U)||s!==null&&s.dependencies!==null&&Of(s.dependencies))?(W||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,se,U),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,se,U)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===s.memoizedProps&&te===s.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&te===s.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=se),b.props=h,b.state=se,b.context=U,h=oe):(typeof b.componentDidUpdate!="function"||A===s.memoizedProps&&te===s.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&te===s.memoizedState||(i.flags|=1024),h=!1)}return b=h,Qc(s,i),h=(i.flags&128)!==0,b||h?(b=i.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,s!==null&&h?(i.child=Bi(i,s.child,null,p),i.child=Bi(i,null,l,p)):bn(s,i,l,p),i.memoizedState=b.state,s=i.child):s=Ba(s,i,p),s}function CS(s,i,l,h){return Bc(),i.flags|=256,bn(s,i,l,h),i.child}var Mg={dehydrated:null,treeContext:null,retryLane:0};function Pg(s){return{baseLanes:s,cachePool:T_()}}function kg(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=Dr),s}function NS(s,i,l){var h=i.pendingProps,p=!1,b=(i.flags&128)!==0,A;if((A=b)||(A=s!==null&&s.memoizedState===null?!1:(en.current&2)!==0),A&&(p=!0,i.flags&=-129),A=(i.flags&32)!==0,i.flags&=-33,s===null){if(it){if(p?Ns(i):Ts(),it){var M=yn,U;if(U=M){e:{for(U=M,M=da;U.nodeType!==8;){if(!M){M=null;break e}if(U=Wr(U.nextSibling),U===null){M=null;break e}}M=U}M!==null?(i.memoizedState={dehydrated:M,treeContext:Li!==null?{id:ka,overflow:La}:null,retryLane:536870912},U=Ar(18,null,null,0),U.stateNode=M,U.return=i,i.child=U,Mn=i,yn=null,U=!0):U=!1}U||Ui(i)}if(M=i.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return M.data==="$!"?i.lanes=16:i.lanes=536870912,null;Fa(i)}return M=h.children,h=h.fallback,p?(Ts(),p=i.mode,M=Fg({mode:"hidden",children:M},p),h=Ki(h,p,l,null),M.return=i,h.return=i,M.sibling=h,i.child=M,p=i.child,p.memoizedState=Pg(l),p.childLanes=kg(s,A,l),i.memoizedState=Mg,h):(Ns(i),Lg(i,M))}if(U=s.memoizedState,U!==null&&(M=U.dehydrated,M!==null)){if(b)i.flags&256?(Ns(i),i.flags&=-257,i=Ug(s,i,l)):i.memoizedState!==null?(Ts(),i.child=s.child,i.flags|=128,i=null):(Ts(),p=h.fallback,M=i.mode,h=Fg({mode:"visible",children:h.children},M),p=Ki(p,M,l,null),p.flags|=2,h.return=i,p.return=i,h.sibling=p,i.child=h,Bi(i,s.child,null,l),h=i.child,h.memoizedState=Pg(l),h.childLanes=kg(s,A,l),i.memoizedState=Mg,i=p);else if(Ns(i),M.data==="$!"){if(A=M.nextSibling&&M.nextSibling.dataset,A)var W=A.dgst;A=W,h=Error(r(419)),h.stack="",h.digest=A,Vc({value:h,source:null,stack:null}),i=Ug(s,i,l)}else if(cn||Zc(s,i,l,!1),A=(l&s.childLanes)!==0,cn||A){if(A=St,A!==null){if(h=l&-l,(h&42)!==0)h=1;else switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=64;break;case 268435456:h=134217728;break;default:h=0}if(h=(h&(A.suspendedLanes|l))!==0?0:h,h!==0&&h!==U.retryLane)throw U.retryLane=h,Cs(s,h),Pn(A,s,h),vS}M.data==="$?"||hv(),i=Ug(s,i,l)}else M.data==="$?"?(i.flags|=128,i.child=s.child,i=sP.bind(null,s),M._reactRetry=i,i=null):(s=U.treeContext,yn=Wr(M.nextSibling),Mn=i,it=!0,Hr=null,da=!1,s!==null&&(Cr[Nr++]=ka,Cr[Nr++]=La,Cr[Nr++]=Li,ka=s.id,La=s.overflow,Li=i),i=Lg(i,h.children),i.flags|=4096);return i}return p?(Ts(),p=h.fallback,M=i.mode,U=s.child,W=U.sibling,h=Ls(U,{mode:"hidden",children:h.children}),h.subtreeFlags=U.subtreeFlags&31457280,W!==null?p=Ls(W,p):(p=Ki(p,M,l,null),p.flags|=2),p.return=i,h.return=i,h.sibling=p,i.child=h,h=p,p=i.child,M=s.child.memoizedState,M===null?M=Pg(l):(U=M.cachePool,U!==null?(W=tn._currentValue,U=U.parent!==W?{parent:W,pool:W}:U):U=T_(),M={baseLanes:M.baseLanes|l,cachePool:U}),p.memoizedState=M,p.childLanes=kg(s,A,l),i.memoizedState=Mg,h):(Ns(i),l=s.child,s=l.sibling,l=Ls(l,{mode:"visible",children:h.children}),l.return=i,l.sibling=null,s!==null&&(A=i.deletions,A===null?(i.deletions=[s],i.flags|=16):A.push(s)),i.child=l,i.memoizedState=null,l)}function Lg(s,i){return i=Fg({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Fg(s,i){return ZS(s,i,0,null)}function Ug(s,i,l){return Bi(i,s.child,null,l),s=Lg(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function TS(s,i,l){s.lanes|=i;var h=s.alternate;h!==null&&(h.lanes|=i),zg(s.return,i,l)}function Bg(s,i,l,h,p){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=h,b.tail=l,b.tailMode=p)}function RS(s,i,l){var h=i.pendingProps,p=h.revealOrder,b=h.tail;if(bn(s,i,h.children,l),h=en.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&TS(s,l,i);else if(s.tag===19)TS(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(ve(en,h),p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&xf(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Bg(i,!1,p,l,b);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&xf(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Bg(i,!0,l,null,b);break;case"together":Bg(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ba(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Fs|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(Zc(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=Ls(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Ls(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function Vg(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&Of(s)))}function qM(s,i,l){switch(i.tag){case 3:dt(i,i.stateNode.containerInfo),As(i,tn,s.memoizedState.cache),Bc();break;case 27:case 5:Cn(i);break;case 4:dt(i,i.stateNode.containerInfo);break;case 10:As(i,i.type,i.memoizedProps.value);break;case 13:var h=i.memoizedState;if(h!==null)return h.dehydrated!==null?(Ns(i),i.flags|=128,null):(l&i.child.childLanes)!==0?NS(s,i,l):(Ns(i),s=Ba(s,i,l),s!==null?s.sibling:null);Ns(i);break;case 19:var p=(s.flags&128)!==0;if(h=(l&i.childLanes)!==0,h||(Zc(s,i,l,!1),h=(l&i.childLanes)!==0),p){if(h)return RS(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ve(en,en.current),h)break;return null;case 22:case 23:return i.lanes=0,wS(s,i,l);case 24:As(i,tn,s.memoizedState.cache)}return Ba(s,i,l)}function IS(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)cn=!0;else{if(!Vg(s,l)&&(i.flags&128)===0)return cn=!1,qM(s,i,l);cn=(s.flags&131072)!==0}else cn=!1,it&&(i.flags&1048576)!==0&&h_(i,pf,i.index);switch(i.lanes=0,i.tag){case 16:e:{s=i.pendingProps;var h=i.elementType,p=h._init;if(h=p(h._payload),i.type=h,typeof h=="function")tv(h)?(s=qi(h,s),i.tag=1,i=ES(null,i,h,s,l)):(i.tag=0,i=jg(null,i,h,s,l));else{if(h!=null){if(p=h.$$typeof,p===_){i.tag=11,i=yS(null,i,h,s,l);break e}else if(p===C){i.tag=14,i=bS(null,i,h,s,l);break e}}throw i=P(h)||h,Error(r(306,i,""))}}return i;case 0:return jg(s,i,i.type,i.pendingProps,l);case 1:return h=i.type,p=qi(h,i.pendingProps),ES(s,i,h,p,l);case 3:e:{if(dt(i,i.stateNode.containerInfo),s===null)throw Error(r(387));var b=i.pendingProps;p=i.memoizedState,h=p.element,Wg(s,i),tu(i,b,null,l);var A=i.memoizedState;if(b=A.cache,As(i,tn,b),b!==p.cache&&Hg(i,[tn],l,!0),eu(),b=A.element,p.isDehydrated)if(p={element:b,isDehydrated:!1,cache:A.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=CS(s,i,b,l);break e}else if(b!==h){h=Er(Error(r(424)),i),Vc(h),i=CS(s,i,b,l);break e}else for(yn=Wr(i.stateNode.containerInfo.firstChild),Mn=i,it=!0,Hr=null,da=!0,l=__(i,null,b,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Bc(),b===h){i=Ba(s,i,l);break e}bn(s,i,b,l)}i=i.child}return i;case 26:return Qc(s,i),s===null?(l=OE(i.type,null,i.pendingProps,null))?i.memoizedState=l:it||(l=i.type,s=i.pendingProps,h=Yf(Oe.current).createElement(l),h[Rn]=i,h[Gn]=s,xn(h,l,s),ln(h),i.stateNode=h):i.memoizedState=OE(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return Cn(i),s===null&&it&&(h=i.stateNode=IE(i.type,i.pendingProps,Oe.current),Mn=i,da=!0,yn=Wr(h.firstChild)),h=i.pendingProps.children,s!==null||it?bn(s,i,h,l):i.child=Bi(i,null,h,l),Qc(s,i),i.child;case 5:return s===null&&it&&((p=h=yn)&&(h=wP(h,i.type,i.pendingProps,da),h!==null?(i.stateNode=h,Mn=i,yn=Wr(h.firstChild),da=!1,p=!0):p=!1),p||Ui(i)),Cn(i),p=i.type,b=i.pendingProps,A=s!==null?s.memoizedProps:null,h=b.children,Tv(p,b)?h=null:A!==null&&Tv(p,A)&&(i.flags|=32),i.memoizedState!==null&&(p=pg(s,i,FM,null,null,l),gu._currentValue=p),Qc(s,i),bn(s,i,h,l),i.child;case 6:return s===null&&it&&((s=l=yn)&&(l=_P(l,i.pendingProps,da),l!==null?(i.stateNode=l,Mn=i,yn=null,s=!0):s=!1),s||Ui(i)),null;case 13:return NS(s,i,l);case 4:return dt(i,i.stateNode.containerInfo),h=i.pendingProps,s===null?i.child=Bi(i,null,h,l):bn(s,i,h,l),i.child;case 11:return yS(s,i,i.type,i.pendingProps,l);case 7:return bn(s,i,i.pendingProps,l),i.child;case 8:return bn(s,i,i.pendingProps.children,l),i.child;case 12:return bn(s,i,i.pendingProps.children,l),i.child;case 10:return h=i.pendingProps,As(i,i.type,h.value),bn(s,i,h.children,l),i.child;case 9:return p=i.type._context,h=i.pendingProps.children,Gi(i),p=In(p),h=h(p),i.flags|=1,bn(s,i,h,l),i.child;case 14:return bS(s,i,i.type,i.pendingProps,l);case 15:return xS(s,i,i.type,i.pendingProps,l);case 19:return RS(s,i,l);case 22:return wS(s,i,l);case 24:return Gi(i),h=In(tn),s===null?(p=hg(),p===null&&(p=St,b=dg(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=l),p=b),i.memoizedState={parent:h,cache:p},qg(i),As(i,tn,p)):((s.lanes&l)!==0&&(Wg(s,i),tu(i,null,null,l),eu()),p=s.memoizedState,b=i.memoizedState,p.parent!==h?(p={parent:h,cache:h},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),As(i,tn,h)):(h=b.cache,As(i,tn,h),h!==p.cache&&Hg(i,[tn],l,!0))),bn(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}var $g=ne(null),Wi=null,Va=null;function As(s,i,l){ve($g,i._currentValue),i._currentValue=l}function $a(s){s._currentValue=$g.current,de($g)}function zg(s,i,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),s===l)break;s=s.return}}function Hg(s,i,l,h){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var b=p.dependencies;if(b!==null){var A=p.child;b=b.firstContext;e:for(;b!==null;){var M=b;b=p;for(var U=0;U<i.length;U++)if(M.context===i[U]){b.lanes|=l,M=b.alternate,M!==null&&(M.lanes|=l),zg(b.return,l,s),h||(A=null);break e}b=M.next}}else if(p.tag===18){if(A=p.return,A===null)throw Error(r(341));A.lanes|=l,b=A.alternate,b!==null&&(b.lanes|=l),zg(A,l,s),A=null}else A=p.child;if(A!==null)A.return=p;else for(A=p;A!==null;){if(A===s){A=null;break}if(p=A.sibling,p!==null){p.return=A.return,A=p;break}A=A.return}p=A}}function Zc(s,i,l,h){s=null;for(var p=i,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var A=p.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var M=p.type;ir(p.pendingProps.value,A.value)||(s!==null?s.push(M):s=[M])}}else if(p===tt.current){if(A=p.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(gu):s=[gu])}p=p.return}s!==null&&Hg(i,s,l,h),i.flags|=262144}function Of(s){for(s=s.firstContext;s!==null;){if(!ir(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Gi(s){Wi=s,Va=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function In(s){return AS(Wi,s)}function jf(s,i){return Wi===null&&Gi(s),AS(s,i)}function AS(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Va===null){if(s===null)throw Error(r(308));Va=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else Va=Va.next=i;return l}var Ds=!1;function qg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wg(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Os(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function js(s,i,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Ot&2)!==0){var p=h.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),h.pending=i,i=hf(s),d_(s,null,l),i}return ff(s,h,i,l),hf(s)}function Jc(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194176)!==0)){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,Tc(s,l)}}function Gg(s,i){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?p=b=A:b=b.next=A,l=l.next}while(l!==null);b===null?p=b=i:b=b.next=i}else p=b=i;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var Yg=!1;function eu(){if(Yg){var s=ol;if(s!==null)throw s}}function tu(s,i,l,h){Yg=!1;var p=s.updateQueue;Ds=!1;var b=p.firstBaseUpdate,A=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var U=M,W=U.next;U.next=null,A===null?b=W:A.next=W,A=U;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,M=oe.lastBaseUpdate,M!==A&&(M===null?oe.firstBaseUpdate=W:M.next=W,oe.lastBaseUpdate=U))}if(b!==null){var fe=p.baseState;A=0,oe=W=U=null,M=b;do{var te=M.lane&-536870913,se=te!==M.lane;if(se?(st&te)===te:(h&te)===te){te!==0&&te===il&&(Yg=!0),oe!==null&&(oe=oe.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Re=s,He=M;te=i;var Ft=l;switch(He.tag){case 1:if(Re=He.payload,typeof Re=="function"){fe=Re.call(Ft,fe,te);break e}fe=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=He.payload,te=typeof Re=="function"?Re.call(Ft,fe,te):Re,te==null)break e;fe=B({},fe,te);break e;case 2:Ds=!0}}te=M.callback,te!==null&&(s.flags|=64,se&&(s.flags|=8192),se=p.callbacks,se===null?p.callbacks=[te]:se.push(te))}else se={lane:te,tag:M.tag,payload:M.payload,callback:M.callback,next:null},oe===null?(W=oe=se,U=fe):oe=oe.next=se,A|=te;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;se=M,M=se.next,se.next=null,p.lastBaseUpdate=se,p.shared.pending=null}}while(!0);oe===null&&(U=fe),p.baseState=U,p.firstBaseUpdate=W,p.lastBaseUpdate=oe,b===null&&(p.shared.lanes=0),Fs|=A,s.lanes=A,s.memoizedState=fe}}function DS(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function OS(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)DS(l[s],i)}function nu(s,i){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&s)===s){h=void 0;var b=l.create,A=l.inst;h=b(),A.destroy=h}l=l.next}while(l!==p)}}catch(M){bt(i,i.return,M)}}function Ms(s,i,l){try{var h=i.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var b=p.next;h=b;do{if((h.tag&s)===s){var A=h.inst,M=A.destroy;if(M!==void 0){A.destroy=void 0,p=i;var U=l;try{M()}catch(W){bt(p,U,W)}}}h=h.next}while(h!==b)}}catch(W){bt(i,i.return,W)}}function jS(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{OS(i,l)}catch(h){bt(s,s.return,h)}}}function MS(s,i,l){l.props=qi(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(h){bt(s,i,h)}}function Yi(s,i){try{var l=s.ref;if(l!==null){var h=s.stateNode;switch(s.tag){case 26:case 27:case 5:var p=h;break;default:p=h}typeof l=="function"?s.refCleanup=l(p):l.current=p}}catch(b){bt(s,i,b)}}function or(s,i){var l=s.ref,h=s.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(p){bt(s,i,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){bt(s,i,p)}else l.current=null}function PS(s){var i=s.type,l=s.memoizedProps,h=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(p){bt(s,s.return,p)}}function kS(s,i,l){try{var h=s.stateNode;gP(h,s.type,l,i),h[Gn]=i}catch(p){bt(s,s.return,p)}}function LS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function Kg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||LS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Xg(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Gf));else if(h!==4&&h!==27&&(s=s.child,s!==null))for(Xg(s,i,l),s=s.sibling;s!==null;)Xg(s,i,l),s=s.sibling}function Mf(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(h!==4&&h!==27&&(s=s.child,s!==null))for(Mf(s,i,l),s=s.sibling;s!==null;)Mf(s,i,l),s=s.sibling}var za=!1,kt=!1,Qg=!1,FS=typeof WeakSet=="function"?WeakSet:Set,un=null,US=!1;function WM(s,i){if(s=s.containerInfo,Cv=eh,s=n_(s),Jp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var A=0,M=-1,U=-1,W=0,oe=0,fe=s,te=null;t:for(;;){for(var se;fe!==l||p!==0&&fe.nodeType!==3||(M=A+p),fe!==b||h!==0&&fe.nodeType!==3||(U=A+h),fe.nodeType===3&&(A+=fe.nodeValue.length),(se=fe.firstChild)!==null;)te=fe,fe=se;for(;;){if(fe===s)break t;if(te===l&&++W===p&&(M=A),te===b&&++oe===h&&(U=A),(se=fe.nextSibling)!==null)break;fe=te,te=fe.parentNode}fe=se}l=M===-1||U===-1?null:{start:M,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(Nv={focusedElem:s,selectionRange:l},eh=!1,un=i;un!==null;)if(i=un,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,un=s;else for(;un!==null;){switch(i=un,b=i.alternate,s=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,l=i,p=b.memoizedProps,b=b.memoizedState,h=l.stateNode;try{var Re=qi(l.type,p,l.elementType===l.type);s=h.getSnapshotBeforeUpdate(Re,b),h.__reactInternalSnapshotBeforeUpdate=s}catch(He){bt(l,l.return,He)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)Av(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Av(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,un=s;break}un=i.return}return Re=US,US=!1,Re}function BS(s,i,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:qa(s,l),h&4&&nu(5,l);break;case 1:if(qa(s,l),h&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(M){bt(l,l.return,M)}else{var p=qi(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(p,i,s.__reactInternalSnapshotBeforeUpdate)}catch(M){bt(l,l.return,M)}}h&64&&jS(l),h&512&&Yi(l,l.return);break;case 3:if(qa(s,l),h&64&&(h=l.updateQueue,h!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{OS(h,s)}catch(M){bt(l,l.return,M)}}break;case 26:qa(s,l),h&512&&Yi(l,l.return);break;case 27:case 5:qa(s,l),i===null&&h&4&&PS(l),h&512&&Yi(l,l.return);break;case 12:qa(s,l);break;case 13:qa(s,l),h&4&&zS(s,l);break;case 22:if(p=l.memoizedState!==null||za,!p){i=i!==null&&i.memoizedState!==null||kt;var b=za,A=kt;za=p,(kt=i)&&!A?Ps(s,l,(l.subtreeFlags&8772)!==0):qa(s,l),za=b,kt=A}h&512&&(l.memoizedProps.mode==="manual"?Yi(l,l.return):or(l,l.return));break;default:qa(s,l)}}function VS(s){var i=s.alternate;i!==null&&(s.alternate=null,VS(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&Lp(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Xt=null,lr=!1;function Ha(s,i,l){for(l=l.child;l!==null;)$S(s,i,l),l=l.sibling}function $S(s,i,l){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(oa,l)}catch{}switch(l.tag){case 26:kt||or(l,i),Ha(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:kt||or(l,i);var h=Xt,p=lr;for(Xt=l.stateNode,Ha(s,i,l),l=l.stateNode,i=l.attributes;i.length;)l.removeAttributeNode(i[0]);Lp(l),Xt=h,lr=p;break;case 5:kt||or(l,i);case 6:p=Xt;var b=lr;if(Xt=null,Ha(s,i,l),Xt=p,lr=b,Xt!==null)if(lr)try{s=Xt,h=l.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)}catch(A){bt(l,i,A)}else try{Xt.removeChild(l.stateNode)}catch(A){bt(l,i,A)}break;case 18:Xt!==null&&(lr?(i=Xt,l=l.stateNode,i.nodeType===8?Iv(i.parentNode,l):i.nodeType===1&&Iv(i,l),xu(i)):Iv(Xt,l.stateNode));break;case 4:h=Xt,p=lr,Xt=l.stateNode.containerInfo,lr=!0,Ha(s,i,l),Xt=h,lr=p;break;case 0:case 11:case 14:case 15:kt||Ms(2,l,i),kt||Ms(4,l,i),Ha(s,i,l);break;case 1:kt||(or(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"&&MS(l,i,h)),Ha(s,i,l);break;case 21:Ha(s,i,l);break;case 22:kt||or(l,i),kt=(h=kt)||l.memoizedState!==null,Ha(s,i,l),kt=h;break;default:Ha(s,i,l)}}function zS(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{xu(s)}catch(l){bt(i,i.return,l)}}function GM(s){switch(s.tag){case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new FS),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new FS),i;default:throw Error(r(435,s.tag))}}function Zg(s,i){var l=GM(s);i.forEach(function(h){var p=iP.bind(null,s,h);l.has(h)||(l.add(h),h.then(p,p))})}function Rr(s,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h],b=s,A=i,M=A;e:for(;M!==null;){switch(M.tag){case 27:case 5:Xt=M.stateNode,lr=!1;break e;case 3:Xt=M.stateNode.containerInfo,lr=!0;break e;case 4:Xt=M.stateNode.containerInfo,lr=!0;break e}M=M.return}if(Xt===null)throw Error(r(160));$S(b,A,p),Xt=null,lr=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)HS(i,s),i=i.sibling}var qr=null;function HS(s,i){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Rr(i,s),Ir(s),h&4&&(Ms(3,s,s.return),nu(3,s),Ms(5,s,s.return));break;case 1:Rr(i,s),Ir(s),h&512&&(kt||l===null||or(l,l.return)),h&64&&za&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var p=qr;if(Rr(i,s),Ir(s),h&512&&(kt||l===null||or(l,l.return)),h&4){var b=l!==null?l.memoizedState:null;if(h=s.memoizedState,l===null)if(h===null)if(s.stateNode===null){e:{h=s.type,l=s.memoizedProps,p=p.ownerDocument||p;t:switch(h){case"title":b=p.getElementsByTagName("title")[0],(!b||b[Rc]||b[Rn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(h),p.head.insertBefore(b,p.querySelector("head > title"))),xn(b,h,l),b[Rn]=s,ln(b),h=b;break e;case"link":var A=PE("link","href",p).get(h+(l.href||""));if(A){for(var M=0;M<A.length;M++)if(b=A[M],b.getAttribute("href")===(l.href==null?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(M,1);break t}}b=p.createElement(h),xn(b,h,l),p.head.appendChild(b);break;case"meta":if(A=PE("meta","content",p).get(h+(l.content||""))){for(M=0;M<A.length;M++)if(b=A[M],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(M,1);break t}}b=p.createElement(h),xn(b,h,l),p.head.appendChild(b);break;default:throw Error(r(468,h))}b[Rn]=s,ln(b),h=b}s.stateNode=h}else kE(p,s.type,s.stateNode);else s.stateNode=ME(p,h,s.memoizedProps);else b!==h?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,h===null?kE(p,s.type,s.stateNode):ME(p,h,s.memoizedProps)):h===null&&s.stateNode!==null&&kS(s,s.memoizedProps,l.memoizedProps)}break;case 27:if(h&4&&s.alternate===null){p=s.stateNode,b=s.memoizedProps;try{for(var U=p.firstChild;U;){var W=U.nextSibling,oe=U.nodeName;U[Rc]||oe==="HEAD"||oe==="BODY"||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&U.rel.toLowerCase()==="stylesheet"||p.removeChild(U),U=W}for(var fe=s.type,te=p.attributes;te.length;)p.removeAttributeNode(te[0]);xn(p,fe,b),p[Rn]=s,p[Gn]=b}catch(Re){bt(s,s.return,Re)}}case 5:if(Rr(i,s),Ir(s),h&512&&(kt||l===null||or(l,l.return)),s.flags&32){p=s.stateNode;try{Yo(p,"")}catch(Re){bt(s,s.return,Re)}}h&4&&s.stateNode!=null&&(p=s.memoizedProps,kS(s,p,l!==null?l.memoizedProps:p)),h&1024&&(Qg=!0);break;case 6:if(Rr(i,s),Ir(s),h&4){if(s.stateNode===null)throw Error(r(162));h=s.memoizedProps,l=s.stateNode;try{l.nodeValue=h}catch(Re){bt(s,s.return,Re)}}break;case 3:if(Qf=null,p=qr,qr=Kf(i.containerInfo),Rr(i,s),qr=p,Ir(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{xu(i.containerInfo)}catch(Re){bt(s,s.return,Re)}Qg&&(Qg=!1,qS(s));break;case 4:h=qr,qr=Kf(s.stateNode.containerInfo),Rr(i,s),Ir(s),qr=h;break;case 12:Rr(i,s),Ir(s);break;case 13:Rr(i,s),Ir(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ov=Ee()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Zg(s,h)));break;case 22:if(h&512&&(kt||l===null||or(l,l.return)),U=s.memoizedState!==null,W=l!==null&&l.memoizedState!==null,oe=za,fe=kt,za=oe||U,kt=fe||W,Rr(i,s),kt=fe,za=oe,Ir(s),i=s.stateNode,i._current=s,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,h&8192&&(i._visibility=U?i._visibility&-2:i._visibility|1,U&&(i=za||kt,l===null||W||i||dl(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(l=null,i=s;;){if(i.tag===5||i.tag===26||i.tag===27){if(l===null){W=l=i;try{if(p=W.stateNode,U)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=W.stateNode,M=W.memoizedProps.style;var se=M!=null&&M.hasOwnProperty("display")?M.display:null;A.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Re){bt(W,W.return,Re)}}}else if(i.tag===6){if(l===null){W=i;try{W.stateNode.nodeValue=U?"":W.memoizedProps}catch(Re){bt(W,W.return,Re)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}h&4&&(h=s.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Zg(s,l))));break;case 19:Rr(i,s),Ir(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Zg(s,h)));break;case 21:break;default:Rr(i,s),Ir(s)}}function Ir(s){var i=s.flags;if(i&2){try{if(s.tag!==27){e:{for(var l=s.return;l!==null;){if(LS(l)){var h=l;break e}l=l.return}throw Error(r(160))}switch(h.tag){case 27:var p=h.stateNode,b=Kg(s);Mf(s,b,p);break;case 5:var A=h.stateNode;h.flags&32&&(Yo(A,""),h.flags&=-33);var M=Kg(s);Mf(s,M,A);break;case 3:case 4:var U=h.stateNode.containerInfo,W=Kg(s);Xg(s,W,U);break;default:throw Error(r(161))}}}catch(oe){bt(s,s.return,oe)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function qS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;qS(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function qa(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)BS(s,i.alternate,i),i=i.sibling}function dl(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Ms(4,i,i.return),dl(i);break;case 1:or(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&MS(i,i.return,l),dl(i);break;case 26:case 27:case 5:or(i,i.return),dl(i);break;case 22:or(i,i.return),i.memoizedState===null&&dl(i);break;default:dl(i)}s=s.sibling}}function Ps(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var h=i.alternate,p=s,b=i,A=b.flags;switch(b.tag){case 0:case 11:case 15:Ps(p,b,l),nu(4,b);break;case 1:if(Ps(p,b,l),h=b,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){bt(h,h.return,W)}if(h=b,p=h.updateQueue,p!==null){var M=h.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)DS(U[p],M)}catch(W){bt(h,h.return,W)}}l&&A&64&&jS(b),Yi(b,b.return);break;case 26:case 27:case 5:Ps(p,b,l),l&&h===null&&A&4&&PS(b),Yi(b,b.return);break;case 12:Ps(p,b,l);break;case 13:Ps(p,b,l),l&&A&4&&zS(p,b);break;case 22:b.memoizedState===null&&Ps(p,b,l),Yi(b,b.return);break;default:Ps(p,b,l)}i=i.sibling}}function Jg(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Wc(l))}function ev(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Wc(s))}function ks(s,i,l,h){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)WS(s,i,l,h),i=i.sibling}function WS(s,i,l,h){var p=i.flags;switch(i.tag){case 0:case 11:case 15:ks(s,i,l,h),p&2048&&nu(9,i);break;case 3:ks(s,i,l,h),p&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Wc(s)));break;case 12:if(p&2048){ks(s,i,l,h),s=i.stateNode;try{var b=i.memoizedProps,A=b.id,M=b.onPostCommit;typeof M=="function"&&M(A,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){bt(i,i.return,U)}}else ks(s,i,l,h);break;case 23:break;case 22:b=i.stateNode,i.memoizedState!==null?b._visibility&4?ks(s,i,l,h):ru(s,i):b._visibility&4?ks(s,i,l,h):(b._visibility|=4,fl(s,i,l,h,(i.subtreeFlags&10256)!==0)),p&2048&&Jg(i.alternate,i);break;case 24:ks(s,i,l,h),p&2048&&ev(i.alternate,i);break;default:ks(s,i,l,h)}}function fl(s,i,l,h,p){for(p=p&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var b=s,A=i,M=l,U=h,W=A.flags;switch(A.tag){case 0:case 11:case 15:fl(b,A,M,U,p),nu(8,A);break;case 23:break;case 22:var oe=A.stateNode;A.memoizedState!==null?oe._visibility&4?fl(b,A,M,U,p):ru(b,A):(oe._visibility|=4,fl(b,A,M,U,p)),p&&W&2048&&Jg(A.alternate,A);break;case 24:fl(b,A,M,U,p),p&&W&2048&&ev(A.alternate,A);break;default:fl(b,A,M,U,p)}i=i.sibling}}function ru(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,h=i,p=h.flags;switch(h.tag){case 22:ru(l,h),p&2048&&Jg(h.alternate,h);break;case 24:ru(l,h),p&2048&&ev(h.alternate,h);break;default:ru(l,h)}i=i.sibling}}var au=8192;function hl(s){if(s.subtreeFlags&au)for(s=s.child;s!==null;)GS(s),s=s.sibling}function GS(s){switch(s.tag){case 26:hl(s),s.flags&au&&s.memoizedState!==null&&PP(qr,s.memoizedState,s.memoizedProps);break;case 5:hl(s);break;case 3:case 4:var i=qr;qr=Kf(s.stateNode.containerInfo),hl(s),qr=i;break;case 22:s.memoizedState===null&&(i=s.alternate,i!==null&&i.memoizedState!==null?(i=au,au=16777216,hl(s),au=i):hl(s));break;default:hl(s)}}function YS(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function su(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var h=i[l];un=h,XS(h,s)}YS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)KS(s),s=s.sibling}function KS(s){switch(s.tag){case 0:case 11:case 15:su(s),s.flags&2048&&Ms(9,s,s.return);break;case 3:su(s);break;case 12:su(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&4&&(s.return===null||s.return.tag!==13)?(i._visibility&=-5,Pf(s)):su(s);break;default:su(s)}}function Pf(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var h=i[l];un=h,XS(h,s)}YS(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Ms(8,i,i.return),Pf(i);break;case 22:l=i.stateNode,l._visibility&4&&(l._visibility&=-5,Pf(i));break;default:Pf(i)}s=s.sibling}}function XS(s,i){for(;un!==null;){var l=un;switch(l.tag){case 0:case 11:case 15:Ms(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Wc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,un=h;else e:for(l=s;un!==null;){h=un;var p=h.sibling,b=h.return;if(VS(h),h===l){un=null;break e}if(p!==null){p.return=b,un=p;break e}un=b}}}function YM(s,i,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(s,i,l,h){return new YM(s,i,l,h)}function tv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ls(s,i){var l=s.alternate;return l===null?(l=Ar(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&31457280,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function QS(s,i){s.flags&=31457282;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function kf(s,i,l,h,p,b){var A=0;if(h=s,typeof s=="function")tv(s)&&(A=1);else if(typeof s=="string")A=jP(s,l,ze.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case f:return Ki(l.children,p,b,i);case m:A=8,p|=24;break;case g:return s=Ar(12,l,i,p|2),s.elementType=g,s.lanes=b,s;case E:return s=Ar(13,l,i,p),s.elementType=E,s.lanes=b,s;case S:return s=Ar(19,l,i,p),s.elementType=S,s.lanes=b,s;case I:return ZS(l,p,b,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case v:case w:A=10;break e;case y:A=9;break e;case _:A=11;break e;case C:A=14;break e;case N:A=16,h=null;break e}A=29,l=Error(r(130,s===null?"null":typeof s,"")),h=null}return i=Ar(A,l,i,p),i.elementType=s,i.type=h,i.lanes=b,i}function Ki(s,i,l,h){return s=Ar(7,s,h,i),s.lanes=l,s}function ZS(s,i,l,h){s=Ar(22,s,h,i),s.elementType=I,s.lanes=l;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var b=p._current;if(b===null)throw Error(r(456));if((p._pendingVisibility&2)===0){var A=Cs(b,2);A!==null&&(p._pendingVisibility|=2,Pn(A,b,2))}},attach:function(){var b=p._current;if(b===null)throw Error(r(456));if((p._pendingVisibility&2)!==0){var A=Cs(b,2);A!==null&&(p._pendingVisibility&=-3,Pn(A,b,2))}}};return s.stateNode=p,s}function nv(s,i,l){return s=Ar(6,s,null,i),s.lanes=l,s}function rv(s,i,l){return i=Ar(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function Wa(s){s.flags|=4}function JS(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!LE(i)){if(i=Tr.current,i!==null&&((st&4194176)===st?fa!==null:(st&62914560)!==st&&(st&536870912)===0||i!==fa))throw zc=lg,g_;s.flags|=8192}}function Lf(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?Gt():536870912,s.lanes|=i,pl|=i)}function iu(s,i){if(!it)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Dt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&31457280,h|=p.flags&31457280,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=h,s.childLanes=l,i}function KM(s,i,l){var h=i.pendingProps;switch(ig(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(i),null;case 1:return Dt(i),null;case 3:return l=i.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),i.memoizedState.cache!==h&&(i.flags|=2048),$a(tn),yt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Uc(i)?Wa(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Hr!==null&&(dv(Hr),Hr=null))),Dt(i),null;case 26:return l=i.memoizedState,s===null?(Wa(i),l!==null?(Dt(i),JS(i,l)):(Dt(i),i.flags&=-16777217)):l?l!==s.memoizedState?(Wa(i),Dt(i),JS(i,l)):(Dt(i),i.flags&=-16777217):(s.memoizedProps!==h&&Wa(i),Dt(i),i.flags&=-16777217),null;case 27:V(i),l=Oe.current;var p=i.type;if(s!==null&&i.stateNode!=null)s.memoizedProps!==h&&Wa(i);else{if(!h){if(i.stateNode===null)throw Error(r(166));return Dt(i),null}s=ze.current,Uc(i)?m_(i):(s=IE(p,h,l),i.stateNode=s,Wa(i))}return Dt(i),null;case 5:if(V(i),l=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==h&&Wa(i);else{if(!h){if(i.stateNode===null)throw Error(r(166));return Dt(i),null}if(s=ze.current,Uc(i))m_(i);else{switch(p=Yf(Oe.current),s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?p.createElement("select",{is:h.is}):p.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?p.createElement(l,{is:h.is}):p.createElement(l)}}s[Rn]=i,s[Gn]=h;e:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break e;for(;p.sibling===null;){if(p.return===null||p.return===i)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=s;e:switch(xn(s,l,h),l){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Wa(i)}}return Dt(i),i.flags&=-16777217,null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==h&&Wa(i);else{if(typeof h!="string"&&i.stateNode===null)throw Error(r(166));if(s=Oe.current,Uc(i)){if(s=i.stateNode,l=i.memoizedProps,h=null,p=Mn,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}s[Rn]=i,s=!!(s.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||SE(s.nodeValue,l)),s||Ui(i)}else s=Yf(s).createTextNode(h),s[Rn]=i,i.stateNode=s}return Dt(i),null;case 13:if(h=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Uc(i),h!==null&&h.dehydrated!==null){if(s===null){if(!p)throw Error(r(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Rn]=i}else Bc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Dt(i),p=!1}else Hr!==null&&(dv(Hr),Hr=null),p=!0;if(!p)return i.flags&256?(Fa(i),i):(Fa(i),null)}if(Fa(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=h!==null,s=s!==null&&s.memoizedState!==null,l){h=i.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool);var b=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==p&&(h.flags|=2048)}return l!==s&&l&&(i.child.flags|=8192),Lf(i,i.updateQueue),Dt(i),null;case 4:return yt(),s===null&&_v(i.stateNode.containerInfo),Dt(i),null;case 10:return $a(i.type),Dt(i),null;case 19:if(de(en),p=i.memoizedState,p===null)return Dt(i),null;if(h=(i.flags&128)!==0,b=p.rendering,b===null)if(h)iu(p,!1);else{if(Lt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(b=xf(s),b!==null){for(i.flags|=128,iu(p,!1),s=b.updateQueue,i.updateQueue=s,Lf(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)QS(l,s),l=l.sibling;return ve(en,en.current&1|2),i.child}s=s.sibling}p.tail!==null&&Ee()>Ff&&(i.flags|=128,h=!0,iu(p,!1),i.lanes=4194304)}else{if(!h)if(s=xf(b),s!==null){if(i.flags|=128,h=!0,s=s.updateQueue,i.updateQueue=s,Lf(i,s),iu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!it)return Dt(i),null}else 2*Ee()-p.renderingStartTime>Ff&&l!==536870912&&(i.flags|=128,h=!0,iu(p,!1),i.lanes=4194304);p.isBackwards?(b.sibling=i.child,i.child=b):(s=p.last,s!==null?s.sibling=b:i.child=b,p.last=b)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Ee(),i.sibling=null,s=en.current,ve(en,h?s&1|2:s&1),i):(Dt(i),null);case 22:case 23:return Fa(i),ug(),h=i.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(i.flags|=8192):h&&(i.flags|=8192),h?(l&536870912)!==0&&(i.flags&128)===0&&(Dt(i),i.subtreeFlags&6&&(i.flags|=8192)):Dt(i),l=i.updateQueue,l!==null&&Lf(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==l&&(i.flags|=2048),s!==null&&de(Vi),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$a(tn),Dt(i),null;case 25:return null}throw Error(r(156,i.tag))}function XM(s,i){switch(ig(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return $a(tn),yt(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return V(i),null;case 13:if(Fa(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Bc()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return de(en),null;case 4:return yt(),null;case 10:return $a(i.type),null;case 22:case 23:return Fa(i),ug(),s!==null&&de(Vi),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return $a(tn),null;case 25:return null;default:return null}}function eE(s,i){switch(ig(i),i.tag){case 3:$a(tn),yt();break;case 26:case 27:case 5:V(i);break;case 4:yt();break;case 13:Fa(i);break;case 19:de(en);break;case 10:$a(i.type);break;case 22:case 23:Fa(i),ug(),s!==null&&de(Vi);break;case 24:$a(tn)}}var QM={getCacheForType:function(s){var i=In(tn),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l}},ZM=typeof WeakMap=="function"?WeakMap:Map,Ot=0,St=null,Ze=null,st=0,Et=0,cr=null,Ga=!1,ml=!1,av=!1,Ya=0,Lt=0,Fs=0,Xi=0,sv=0,Dr=0,pl=0,ou=null,ma=null,iv=!1,ov=0,Ff=1/0,Uf=null,Us=null,Bf=!1,Qi=null,lu=0,lv=0,cv=null,cu=0,uv=null;function ur(){if((Ot&2)!==0&&st!==0)return st&-st;if(F.T!==null){var s=il;return s!==0?s:yv()}return Pp()}function tE(){Dr===0&&(Dr=(st&536870912)===0||it?Di():536870912);var s=Tr.current;return s!==null&&(s.flags|=32),Dr}function Pn(s,i,l){(s===St&&Et===2||s.cancelPendingCommit!==null)&&(gl(s,0),Ka(s,st,Dr,!1)),ca(s,l),((Ot&2)===0||s!==St)&&(s===St&&((Ot&2)===0&&(Xi|=l),Lt===4&&Ka(s,st,Dr,!1)),pa(s))}function nE(s,i,l){if((Ot&6)!==0)throw Error(r(327));var h=!l&&(i&60)===0&&(i&s.expiredLanes)===0||Pt(s,i),p=h?tP(s,i):mv(s,i,!0),b=h;do{if(p===0){ml&&!h&&Ka(s,i,0,!1);break}else if(p===6)Ka(s,i,0,!Ga);else{if(l=s.current.alternate,b&&!JM(l)){p=mv(s,i,!1),b=!1;continue}if(p===2){if(b=i,s.errorRecoveryDisabledLanes&b)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){i=A;e:{var M=s;p=ou;var U=M.current.memoizedState.isDehydrated;if(U&&(gl(M,A).flags|=256),A=mv(M,A,!1),A!==2){if(av&&!U){M.errorRecoveryDisabledLanes|=b,Xi|=b,p=4;break e}b=ma,ma=p,b!==null&&dv(b)}p=A}if(b=!1,p!==2)continue}}if(p===1){gl(s,0),Ka(s,i,0,!0);break}e:{switch(h=s,p){case 0:case 1:throw Error(r(345));case 4:if((i&4194176)===i){Ka(h,i,Dr,!Ga);break e}break;case 2:ma=null;break;case 3:case 5:break;default:throw Error(r(329))}if(h.finishedWork=l,h.finishedLanes=i,(i&62914560)===i&&(b=ov+300-Ee(),10<b)){if(Ka(h,i,Dr,!Ga),At(h,0)!==0)break e;h.timeoutHandle=NE(rE.bind(null,h,l,ma,Uf,iv,i,Dr,Xi,pl,Ga,2,-0,0),b);break e}rE(h,l,ma,Uf,iv,i,Dr,Xi,pl,Ga,0,-0,0)}}break}while(!0);pa(s)}function dv(s){ma===null?ma=s:ma.push.apply(ma,s)}function rE(s,i,l,h,p,b,A,M,U,W,oe,fe,te){var se=i.subtreeFlags;if((se&8192||(se&16785408)===16785408)&&(pu={stylesheets:null,count:0,unsuspend:MP},GS(i),i=kP(),i!==null)){s.cancelPendingCommit=i(uE.bind(null,s,l,h,p,A,M,U,1,fe,te)),Ka(s,b,A,!W);return}uE(s,l,h,p,A,M,U,oe,fe,te)}function JM(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var p=l[h],b=p.getSnapshot;p=p.value;try{if(!ir(b(),p))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ka(s,i,l,h){i&=~sv,i&=~Xi,s.suspendedLanes|=i,s.pingedLanes&=~i,h&&(s.warmLanes|=i),h=s.expirationTimes;for(var p=i;0<p;){var b=31-On(p),A=1<<b;h[b]=-1,p&=~A}l!==0&&Wn(s,l,i)}function Vf(){return(Ot&6)===0?(uu(0),!1):!0}function fv(){if(Ze!==null){if(Et===0)var s=Ze.return;else s=Ze,Va=Wi=null,yg(s),al=null,Hc=0,s=Ze;for(;s!==null;)eE(s.alternate,s),s=s.return;Ze=null}}function gl(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,yP(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),fv(),St=s,Ze=l=Ls(s.current,null),st=i,Et=0,cr=null,Ga=!1,ml=Pt(s,i),av=!1,pl=Dr=sv=Xi=Fs=Lt=0,ma=ou=null,iv=!1,(i&8)!==0&&(i|=i&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=i;0<h;){var p=31-On(h),b=1<<p;i|=s[p],h&=~b}return Ya=i,df(),l}function aE(s,i){Ye=null,F.H=ha,i===$c?(i=b_(),Et=3):i===g_?(i=b_(),Et=4):Et=i===vS?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,cr=i,Ze===null&&(Lt=1,Df(s,Er(i,s.current)))}function sE(){var s=F.H;return F.H=ha,s===null?ha:s}function iE(){var s=F.A;return F.A=QM,s}function hv(){Lt=4,Ga||(st&4194176)!==st&&Tr.current!==null||(ml=!0),(Fs&134217727)===0&&(Xi&134217727)===0||St===null||Ka(St,st,Dr,!1)}function mv(s,i,l){var h=Ot;Ot|=2;var p=sE(),b=iE();(St!==s||st!==i)&&(Uf=null,gl(s,i)),i=!1;var A=Lt;e:do try{if(Et!==0&&Ze!==null){var M=Ze,U=cr;switch(Et){case 8:fv(),A=6;break e;case 3:case 2:case 6:Tr.current===null&&(i=!0);var W=Et;if(Et=0,cr=null,vl(s,M,U,W),l&&ml){A=0;break e}break;default:W=Et,Et=0,cr=null,vl(s,M,U,W)}}eP(),A=Lt;break}catch(oe){aE(s,oe)}while(!0);return i&&s.shellSuspendCounter++,Va=Wi=null,Ot=h,F.H=p,F.A=b,Ze===null&&(St=null,st=0,df()),A}function eP(){for(;Ze!==null;)oE(Ze)}function tP(s,i){var l=Ot;Ot|=2;var h=sE(),p=iE();St!==s||st!==i?(Uf=null,Ff=Ee()+500,gl(s,i)):ml=Pt(s,i);e:do try{if(Et!==0&&Ze!==null){i=Ze;var b=cr;t:switch(Et){case 1:Et=0,cr=null,vl(s,i,b,1);break;case 2:if(v_(b)){Et=0,cr=null,lE(i);break}i=function(){Et===2&&St===s&&(Et=7),pa(s)},b.then(i,i);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:v_(b)?(Et=0,cr=null,lE(i)):(Et=0,cr=null,vl(s,i,b,7));break;case 5:var A=null;switch(Ze.tag){case 26:A=Ze.memoizedState;case 5:case 27:var M=Ze;if(!A||LE(A)){Et=0,cr=null;var U=M.sibling;if(U!==null)Ze=U;else{var W=M.return;W!==null?(Ze=W,$f(W)):Ze=null}break t}}Et=0,cr=null,vl(s,i,b,5);break;case 6:Et=0,cr=null,vl(s,i,b,6);break;case 8:fv(),Lt=6;break e;default:throw Error(r(462))}}nP();break}catch(oe){aE(s,oe)}while(!0);return Va=Wi=null,F.H=h,F.A=p,Ot=l,Ze!==null?0:(St=null,st=0,df(),Lt)}function nP(){for(;Ze!==null&&!pe();)oE(Ze)}function oE(s){var i=IS(s.alternate,s,Ya);s.memoizedProps=s.pendingProps,i===null?$f(s):Ze=i}function lE(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=SS(l,i,i.pendingProps,i.type,void 0,st);break;case 11:i=SS(l,i,i.pendingProps,i.type.render,i.ref,st);break;case 5:yg(i);default:eE(l,i),i=Ze=QS(i,Ya),i=IS(l,i,Ya)}s.memoizedProps=s.pendingProps,i===null?$f(s):Ze=i}function vl(s,i,l,h){Va=Wi=null,yg(i),al=null,Hc=0;var p=i.return;try{if(HM(s,p,i,l,st)){Lt=1,Df(s,Er(l,s.current)),Ze=null;return}}catch(b){if(p!==null)throw Ze=p,b;Lt=1,Df(s,Er(l,s.current)),Ze=null;return}i.flags&32768?(it||h===1?s=!0:ml||(st&536870912)!==0?s=!1:(Ga=s=!0,(h===2||h===3||h===6)&&(h=Tr.current,h!==null&&h.tag===13&&(h.flags|=16384))),cE(i,s)):$f(i)}function $f(s){var i=s;do{if((i.flags&32768)!==0){cE(i,Ga);return}s=i.return;var l=KM(i.alternate,i,Ya);if(l!==null){Ze=l;return}if(i=i.sibling,i!==null){Ze=i;return}Ze=i=s}while(i!==null);Lt===0&&(Lt=5)}function cE(s,i){do{var l=XM(s.alternate,s);if(l!==null){l.flags&=32767,Ze=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){Ze=s;return}Ze=s=l}while(s!==null);Lt=6,Ze=null}function uE(s,i,l,h,p,b,A,M,U,W){var oe=F.T,fe=ue.p;try{ue.p=2,F.T=null,rP(s,i,l,h,fe,p,b,A,M,U,W)}finally{F.T=oe,ue.p=fe}}function rP(s,i,l,h,p,b,A,M){do yl();while(Qi!==null);if((Ot&6)!==0)throw Error(r(327));var U=s.finishedWork;if(h=s.finishedLanes,U===null)return null;if(s.finishedWork=null,s.finishedLanes=0,U===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var W=U.lanes|U.childLanes;if(W|=rg,sr(s,h,W,b,A,M),s===St&&(Ze=St=null,st=0),(U.subtreeFlags&10256)===0&&(U.flags&10256)===0||Bf||(Bf=!0,lv=W,cv=l,oP(Nn,function(){return yl(),null})),l=(U.flags&15990)!==0,(U.subtreeFlags&15990)!==0||l?(l=F.T,F.T=null,b=ue.p,ue.p=2,A=Ot,Ot|=4,WM(s,U),HS(U,s),TM(Nv,s.containerInfo),eh=!!Cv,Nv=Cv=null,s.current=U,BS(s,U.alternate,U),me(),Ot=A,ue.p=b,F.T=l):s.current=U,Bf?(Bf=!1,Qi=s,lu=h):dE(s,W),W=s.pendingLanes,W===0&&(Us=null),Ri(U.stateNode),pa(s),i!==null)for(p=s.onRecoverableError,U=0;U<i.length;U++)W=i[U],p(W.value,{componentStack:W.stack});return(lu&3)!==0&&yl(),W=s.pendingLanes,(h&4194218)!==0&&(W&42)!==0?s===uv?cu++:(cu=0,uv=s):cu=0,uu(0),null}function dE(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Wc(i)))}function yl(){if(Qi!==null){var s=Qi,i=lv;lv=0;var l=ua(lu),h=F.T,p=ue.p;try{if(ue.p=32>l?32:l,F.T=null,Qi===null)var b=!1;else{l=cv,cv=null;var A=Qi,M=lu;if(Qi=null,lu=0,(Ot&6)!==0)throw Error(r(331));var U=Ot;if(Ot|=4,KS(A.current),WS(A,A.current,M,l),Ot=U,uu(0,!1),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(oa,A)}catch{}b=!0}return b}finally{ue.p=p,F.T=h,dE(s,i)}}return!1}function fE(s,i,l){i=Er(l,i),i=Og(s.stateNode,i,2),s=js(s,i,2),s!==null&&(ca(s,2),pa(s))}function bt(s,i,l){if(s.tag===3)fE(s,s,l);else for(;i!==null;){if(i.tag===3){fE(i,s,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Us===null||!Us.has(h))){s=Er(l,s),l=pS(2),h=js(i,l,2),h!==null&&(gS(l,h,i,s),ca(h,2),pa(h));break}}i=i.return}}function pv(s,i,l){var h=s.pingCache;if(h===null){h=s.pingCache=new ZM;var p=new Set;h.set(i,p)}else p=h.get(i),p===void 0&&(p=new Set,h.set(i,p));p.has(l)||(av=!0,p.add(l),s=aP.bind(null,s,i,l),i.then(s,s))}function aP(s,i,l){var h=s.pingCache;h!==null&&h.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,St===s&&(st&l)===l&&(Lt===4||Lt===3&&(st&62914560)===st&&300>Ee()-ov?(Ot&2)===0&&gl(s,0):sv|=l,pl===st&&(pl=0)),pa(s)}function hE(s,i){i===0&&(i=Gt()),s=Cs(s,i),s!==null&&(ca(s,i),pa(s))}function sP(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),hE(s,l)}function iP(s,i){var l=0;switch(s.tag){case 13:var h=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(i),hE(s,l)}function oP(s,i){return ae(s,i)}var zf=null,bl=null,gv=!1,Hf=!1,vv=!1,Zi=0;function pa(s){s!==bl&&s.next===null&&(bl===null?zf=bl=s:bl=bl.next=s),Hf=!0,gv||(gv=!0,cP(lP))}function uu(s,i){if(!vv&&Hf){vv=!0;do for(var l=!1,h=zf;h!==null;){if(s!==0){var p=h.pendingLanes;if(p===0)var b=0;else{var A=h.suspendedLanes,M=h.pingedLanes;b=(1<<31-On(42|s)+1)-1,b&=p&~(A&~M),b=b&201326677?b&201326677|1:b?b|2:0}b!==0&&(l=!0,gE(h,b))}else b=st,b=At(h,h===St?b:0),(b&3)===0||Pt(h,b)||(l=!0,gE(h,b));h=h.next}while(l);vv=!1}}function lP(){Hf=gv=!1;var s=0;Zi!==0&&(vP()&&(s=Zi),Zi=0);for(var i=Ee(),l=null,h=zf;h!==null;){var p=h.next,b=mE(h,i);b===0?(h.next=null,l===null?zf=p:l.next=p,p===null&&(bl=l)):(l=h,(s!==0||(b&3)!==0)&&(Hf=!0)),h=p}uu(s)}function mE(s,i){for(var l=s.suspendedLanes,h=s.pingedLanes,p=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var A=31-On(b),M=1<<A,U=p[A];U===-1?((M&l)===0||(M&h)!==0)&&(p[A]=jn(M,i)):U<=i&&(s.expiredLanes|=M),b&=~M}if(i=St,l=st,l=At(s,s===i?l:0),h=s.callbackNode,l===0||s===i&&Et===2||s.cancelPendingCommit!==null)return h!==null&&h!==null&&be(h),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Pt(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(h!==null&&be(h),ua(l)){case 2:case 8:l=It;break;case 32:l=Nn;break;case 268435456:l=ar;break;default:l=Nn}return h=pE.bind(null,s),l=ae(l,h),s.callbackPriority=i,s.callbackNode=l,i}return h!==null&&h!==null&&be(h),s.callbackPriority=2,s.callbackNode=null,2}function pE(s,i){var l=s.callbackNode;if(yl()&&s.callbackNode!==l)return null;var h=st;return h=At(s,s===St?h:0),h===0?null:(nE(s,h,i),mE(s,Ee()),s.callbackNode!=null&&s.callbackNode===l?pE.bind(null,s):null)}function gE(s,i){if(yl())return null;nE(s,i,!0)}function cP(s){bP(function(){(Ot&6)!==0?ae(_t,s):s()})}function yv(){return Zi===0&&(Zi=Di()),Zi}function vE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:rf(""+s)}function yE(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function uP(s,i,l,h,p){if(i==="submit"&&l&&l.stateNode===p){var b=vE((p[Gn]||null).action),A=h.submitter;A&&(i=(i=A[Gn]||null)?vE(i.formAction):A.getAttribute("formAction"),i!==null&&(b=i,A=null));var M=new lf("action","action",null,h,p);s.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Zi!==0){var U=A?yE(p,A):new FormData(p);Tg(l,{pending:!0,data:U,method:p.method,action:b},null,U)}}else typeof b=="function"&&(M.preventDefault(),U=A?yE(p,A):new FormData(p),Tg(l,{pending:!0,data:U,method:p.method,action:b},b,U))},currentTarget:p}]})}}for(var bv=0;bv<u_.length;bv++){var xv=u_[bv],dP=xv.toLowerCase(),fP=xv[0].toUpperCase()+xv.slice(1);zr(dP,"on"+fP)}zr(s_,"onAnimationEnd"),zr(i_,"onAnimationIteration"),zr(o_,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(IM,"onTransitionRun"),zr(AM,"onTransitionStart"),zr(DM,"onTransitionCancel"),zr(l_,"onTransitionEnd"),Wo("onMouseEnter",["mouseout","mouseover"]),Wo("onMouseLeave",["mouseout","mouseover"]),Wo("onPointerEnter",["pointerout","pointerover"]),Wo("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(du));function bE(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],p=h.event;h=h.listeners;e:{var b=void 0;if(i)for(var A=h.length-1;0<=A;A--){var M=h[A],U=M.instance,W=M.currentTarget;if(M=M.listener,U!==b&&p.isPropagationStopped())break e;b=M,p.currentTarget=W;try{b(p)}catch(oe){Af(oe)}p.currentTarget=null,b=U}else for(A=0;A<h.length;A++){if(M=h[A],U=M.instance,W=M.currentTarget,M=M.listener,U!==b&&p.isPropagationStopped())break e;b=M,p.currentTarget=W;try{b(p)}catch(oe){Af(oe)}p.currentTarget=null,b=U}}}}function nt(s,i){var l=i[kp];l===void 0&&(l=i[kp]=new Set);var h=s+"__bubble";l.has(h)||(xE(i,s,2,!1),l.add(h))}function wv(s,i,l){var h=0;i&&(h|=4),xE(l,s,h,i)}var qf="_reactListening"+Math.random().toString(36).slice(2);function _v(s){if(!s[qf]){s[qf]=!0,Sw.forEach(function(l){l!=="selectionchange"&&(hP.has(l)||wv(l,!1,s),wv(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[qf]||(i[qf]=!0,wv("selectionchange",!1,i))}}function xE(s,i,l,h){switch(zE(i)){case 2:var p=UP;break;case 8:p=BP;break;default:p=Pv}l=p.bind(null,i,l,s),p=void 0,!Hp||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),h?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function Sv(s,i,l,h,p){var b=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var M=h.stateNode.containerInfo;if(M===p||M.nodeType===8&&M.parentNode===p)break;if(A===4)for(A=h.return;A!==null;){var U=A.tag;if((U===3||U===4)&&(U=A.stateNode.containerInfo,U===p||U.nodeType===8&&U.parentNode===p))return;A=A.return}for(;M!==null;){if(A=Oi(M),A===null)return;if(U=A.tag,U===5||U===6||U===26||U===27){h=b=A;continue e}M=M.parentNode}}h=h.return}Pw(function(){var W=b,oe=$p(l),fe=[];e:{var te=c_.get(s);if(te!==void 0){var se=lf,Re=s;switch(s){case"keypress":if(sf(l)===0)break e;case"keydown":case"keyup":se=iM;break;case"focusin":Re="focus",se=Yp;break;case"focusout":Re="blur",se=Yp;break;case"beforeblur":case"afterblur":se=Yp;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Fw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Yj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=cM;break;case s_:case i_:case o_:se=Qj;break;case l_:se=dM;break;case"scroll":case"scrollend":se=Wj;break;case"wheel":se=hM;break;case"copy":case"cut":case"paste":se=Jj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Bw;break;case"toggle":case"beforetoggle":se=pM}var He=(i&4)!==0,Ft=!He&&(s==="scroll"||s==="scrollend"),X=He?te!==null?te+"Capture":null:te;He=[];for(var H=W,ee;H!==null;){var ce=H;if(ee=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||ee===null||X===null||(ce=Ac(H,X),ce!=null&&He.push(fu(H,ce,ee))),Ft)break;H=H.return}0<He.length&&(te=new se(te,Re,null,l,oe),fe.push({event:te,listeners:He}))}}if((i&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",se=s==="mouseout"||s==="pointerout",te&&l!==Vp&&(Re=l.relatedTarget||l.fromElement)&&(Oi(Re)||Re[zo]))break e;if((se||te)&&(te=oe.window===oe?oe:(te=oe.ownerDocument)?te.defaultView||te.parentWindow:window,se?(Re=l.relatedTarget||l.toElement,se=W,Re=Re?Oi(Re):null,Re!==null&&(Ft=z(Re),He=Re.tag,Re!==Ft||He!==5&&He!==27&&He!==6)&&(Re=null)):(se=null,Re=W),se!==Re)){if(He=Fw,ce="onMouseLeave",X="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(He=Bw,ce="onPointerLeave",X="onPointerEnter",H="pointer"),Ft=se==null?te:Ic(se),ee=Re==null?te:Ic(Re),te=new He(ce,H+"leave",se,l,oe),te.target=Ft,te.relatedTarget=ee,ce=null,Oi(oe)===W&&(He=new He(X,H+"enter",Re,l,oe),He.target=ee,He.relatedTarget=Ft,ce=He),Ft=ce,se&&Re)t:{for(He=se,X=Re,H=0,ee=He;ee;ee=xl(ee))H++;for(ee=0,ce=X;ce;ce=xl(ce))ee++;for(;0<H-ee;)He=xl(He),H--;for(;0<ee-H;)X=xl(X),ee--;for(;H--;){if(He===X||X!==null&&He===X.alternate)break t;He=xl(He),X=xl(X)}He=null}else He=null;se!==null&&wE(fe,te,se,He,!1),Re!==null&&Ft!==null&&wE(fe,Ft,Re,He,!0)}}e:{if(te=W?Ic(W):window,se=te.nodeName&&te.nodeName.toLowerCase(),se==="select"||se==="input"&&te.type==="file")var Ce=Yw;else if(Ww(te))if(Kw)Ce=CM;else{Ce=SM;var Ke=_M}else se=te.nodeName,!se||se.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?W&&Bp(W.elementType)&&(Ce=Yw):Ce=EM;if(Ce&&(Ce=Ce(s,W))){Gw(fe,Ce,l,oe);break e}Ke&&Ke(s,te,W),s==="focusout"&&W&&te.type==="number"&&W.memoizedProps.value!=null&&Up(te,"number",te.value)}switch(Ke=W?Ic(W):window,s){case"focusin":(Ww(Ke)||Ke.contentEditable==="true")&&(Zo=Ke,eg=W,Fc=null);break;case"focusout":Fc=eg=Zo=null;break;case"mousedown":tg=!0;break;case"contextmenu":case"mouseup":case"dragend":tg=!1,r_(fe,l,oe);break;case"selectionchange":if(RM)break;case"keydown":case"keyup":r_(fe,l,oe)}var Ie;if(Xp)e:{switch(s){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Qo?Hw(s,l)&&(Me="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Me="onCompositionStart");Me&&(Vw&&l.locale!=="ko"&&(Qo||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Qo&&(Ie=kw()):(Es=oe,qp="value"in Es?Es.value:Es.textContent,Qo=!0)),Ke=Wf(W,Me),0<Ke.length&&(Me=new Uw(Me,s,null,l,oe),fe.push({event:Me,listeners:Ke}),Ie?Me.data=Ie:(Ie=qw(l),Ie!==null&&(Me.data=Ie)))),(Ie=vM?yM(s,l):bM(s,l))&&(Me=Wf(W,"onBeforeInput"),0<Me.length&&(Ke=new Uw("onBeforeInput","beforeinput",null,l,oe),fe.push({event:Ke,listeners:Me}),Ke.data=Ie)),uP(fe,s,W,l,oe)}bE(fe,i)})}function fu(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Wf(s,i){for(var l=i+"Capture",h=[];s!==null;){var p=s,b=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=Ac(s,l),p!=null&&h.unshift(fu(s,p,b)),p=Ac(s,i),p!=null&&h.push(fu(s,p,b))),s=s.return}return h}function xl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function wE(s,i,l,h,p){for(var b=i._reactName,A=[];l!==null&&l!==h;){var M=l,U=M.alternate,W=M.stateNode;if(M=M.tag,U!==null&&U===h)break;M!==5&&M!==26&&M!==27||W===null||(U=W,p?(W=Ac(l,b),W!=null&&A.unshift(fu(l,W,U))):p||(W=Ac(l,b),W!=null&&A.push(fu(l,W,U)))),l=l.return}A.length!==0&&s.push({event:i,listeners:A})}var mP=/\r\n?/g,pP=/\u0000|\uFFFD/g;function _E(s){return(typeof s=="string"?s:""+s).replace(mP,`
`).replace(pP,"")}function SE(s,i){return i=_E(i),_E(s)===i}function Gf(){}function gt(s,i,l,h,p,b){switch(l){case"children":typeof h=="string"?i==="body"||i==="textarea"&&h===""||Yo(s,h):(typeof h=="number"||typeof h=="bigint")&&i!=="body"&&Yo(s,""+h);break;case"className":ef(s,"class",h);break;case"tabIndex":ef(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ef(s,l,h);break;case"style":jw(s,h,b);break;case"data":if(i!=="object"){ef(s,"data",h);break}case"src":case"href":if(h===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(l);break}h=rf(""+h),s.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(i!=="input"&&gt(s,i,"name",p.name,p,null),gt(s,i,"formEncType",p.formEncType,p,null),gt(s,i,"formMethod",p.formMethod,p,null),gt(s,i,"formTarget",p.formTarget,p,null)):(gt(s,i,"encType",p.encType,p,null),gt(s,i,"method",p.method,p,null),gt(s,i,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(l);break}h=rf(""+h),s.setAttribute(l,h);break;case"onClick":h!=null&&(s.onclick=Gf);break;case"onScroll":h!=null&&nt("scroll",s);break;case"onScrollEnd":h!=null&&nt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}l=rf(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,""+h):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":h===!0?s.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,h):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(l,h):s.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(l):s.setAttribute(l,h);break;case"popover":nt("beforetoggle",s),nt("toggle",s),Jd(s,"popover",h);break;case"xlinkActuate":Pa(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Pa(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Pa(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Pa(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Pa(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Pa(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Pa(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Pa(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Pa(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Jd(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Hj.get(l)||l,Jd(s,l,h))}}function Ev(s,i,l,h,p,b){switch(l){case"style":jw(s,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof h=="string"?Yo(s,h):(typeof h=="number"||typeof h=="bigint")&&Yo(s,""+h);break;case"onScroll":h!=null&&nt("scroll",s);break;case"onScrollEnd":h!=null&&nt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Gf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ew.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),i=l.slice(2,p?l.length-7:void 0),b=s[Gn]||null,b=b!=null?b[l]:null,typeof b=="function"&&s.removeEventListener(i,b,p),typeof h=="function")){typeof b!="function"&&b!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,h,p);break e}l in s?s[l]=h:h===!0?s.setAttribute(l,""):Jd(s,l,h)}}}function xn(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",s),nt("load",s);var h=!1,p=!1,b;for(b in l)if(l.hasOwnProperty(b)){var A=l[b];if(A!=null)switch(b){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:gt(s,i,b,A,l,null)}}p&&gt(s,i,"srcSet",l.srcSet,l,null),h&&gt(s,i,"src",l.src,l,null);return;case"input":nt("invalid",s);var M=b=A=p=null,U=null,W=null;for(h in l)if(l.hasOwnProperty(h)){var oe=l[h];if(oe!=null)switch(h){case"name":p=oe;break;case"type":A=oe;break;case"checked":U=oe;break;case"defaultChecked":W=oe;break;case"value":b=oe;break;case"defaultValue":M=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,i));break;default:gt(s,i,h,oe,l,null)}}Iw(s,b,M,U,W,A,p,!1),tf(s);return;case"select":nt("invalid",s),h=A=b=null;for(p in l)if(l.hasOwnProperty(p)&&(M=l[p],M!=null))switch(p){case"value":b=M;break;case"defaultValue":A=M;break;case"multiple":h=M;default:gt(s,i,p,M,l,null)}i=b,l=A,s.multiple=!!h,i!=null?Go(s,!!h,i,!1):l!=null&&Go(s,!!h,l,!0);return;case"textarea":nt("invalid",s),b=p=h=null;for(A in l)if(l.hasOwnProperty(A)&&(M=l[A],M!=null))switch(A){case"value":h=M;break;case"defaultValue":p=M;break;case"children":b=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:gt(s,i,A,M,l,null)}Dw(s,h,p,b),tf(s);return;case"option":for(U in l)if(l.hasOwnProperty(U)&&(h=l[U],h!=null))switch(U){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:gt(s,i,U,h,l,null)}return;case"dialog":nt("cancel",s),nt("close",s);break;case"iframe":case"object":nt("load",s);break;case"video":case"audio":for(h=0;h<du.length;h++)nt(du[h],s);break;case"image":nt("error",s),nt("load",s);break;case"details":nt("toggle",s);break;case"embed":case"source":case"link":nt("error",s),nt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(h=l[W],h!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:gt(s,i,W,h,l,null)}return;default:if(Bp(i)){for(oe in l)l.hasOwnProperty(oe)&&(h=l[oe],h!==void 0&&Ev(s,i,oe,h,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(h=l[M],h!=null&&gt(s,i,M,h,l,null))}function gP(s,i,l,h){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,A=null,M=null,U=null,W=null,oe=null;for(se in l){var fe=l[se];if(l.hasOwnProperty(se)&&fe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":U=fe;default:h.hasOwnProperty(se)||gt(s,i,se,null,h,fe)}}for(var te in h){var se=h[te];if(fe=l[te],h.hasOwnProperty(te)&&(se!=null||fe!=null))switch(te){case"type":b=se;break;case"name":p=se;break;case"checked":W=se;break;case"defaultChecked":oe=se;break;case"value":A=se;break;case"defaultValue":M=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,i));break;default:se!==fe&&gt(s,i,te,se,h,fe)}}Fp(s,A,M,U,W,oe,b,p);return;case"select":se=A=M=te=null;for(b in l)if(U=l[b],l.hasOwnProperty(b)&&U!=null)switch(b){case"value":break;case"multiple":se=U;default:h.hasOwnProperty(b)||gt(s,i,b,null,h,U)}for(p in h)if(b=h[p],U=l[p],h.hasOwnProperty(p)&&(b!=null||U!=null))switch(p){case"value":te=b;break;case"defaultValue":M=b;break;case"multiple":A=b;default:b!==U&&gt(s,i,p,b,h,U)}i=M,l=A,h=se,te!=null?Go(s,!!l,te,!1):!!h!=!!l&&(i!=null?Go(s,!!l,i,!0):Go(s,!!l,l?[]:"",!1));return;case"textarea":se=te=null;for(M in l)if(p=l[M],l.hasOwnProperty(M)&&p!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:gt(s,i,M,null,h,p)}for(A in h)if(p=h[A],b=l[A],h.hasOwnProperty(A)&&(p!=null||b!=null))switch(A){case"value":te=p;break;case"defaultValue":se=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==b&&gt(s,i,A,p,h,b)}Aw(s,te,se);return;case"option":for(var Re in l)if(te=l[Re],l.hasOwnProperty(Re)&&te!=null&&!h.hasOwnProperty(Re))switch(Re){case"selected":s.selected=!1;break;default:gt(s,i,Re,null,h,te)}for(U in h)if(te=h[U],se=l[U],h.hasOwnProperty(U)&&te!==se&&(te!=null||se!=null))switch(U){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:gt(s,i,U,te,h,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in l)te=l[He],l.hasOwnProperty(He)&&te!=null&&!h.hasOwnProperty(He)&&gt(s,i,He,null,h,te);for(W in h)if(te=h[W],se=l[W],h.hasOwnProperty(W)&&te!==se&&(te!=null||se!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,i));break;default:gt(s,i,W,te,h,se)}return;default:if(Bp(i)){for(var Ft in l)te=l[Ft],l.hasOwnProperty(Ft)&&te!==void 0&&!h.hasOwnProperty(Ft)&&Ev(s,i,Ft,void 0,h,te);for(oe in h)te=h[oe],se=l[oe],!h.hasOwnProperty(oe)||te===se||te===void 0&&se===void 0||Ev(s,i,oe,te,h,se);return}}for(var X in l)te=l[X],l.hasOwnProperty(X)&&te!=null&&!h.hasOwnProperty(X)&&gt(s,i,X,null,h,te);for(fe in h)te=h[fe],se=l[fe],!h.hasOwnProperty(fe)||te===se||te==null&&se==null||gt(s,i,fe,te,h,se)}var Cv=null,Nv=null;function Yf(s){return s.nodeType===9?s:s.ownerDocument}function EE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function CE(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function Tv(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rv=null;function vP(){var s=window.event;return s&&s.type==="popstate"?s===Rv?!1:(Rv=s,!0):(Rv=null,!1)}var NE=typeof setTimeout=="function"?setTimeout:void 0,yP=typeof clearTimeout=="function"?clearTimeout:void 0,TE=typeof Promise=="function"?Promise:void 0,bP=typeof queueMicrotask=="function"?queueMicrotask:typeof TE<"u"?function(s){return TE.resolve(null).then(s).catch(xP)}:NE;function xP(s){setTimeout(function(){throw s})}function Iv(s,i){var l=i,h=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){s.removeChild(p),xu(i);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);xu(i)}function Av(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Av(l),Lp(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function wP(s,i,l,h){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[Rc])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==p.rel||s.getAttribute("href")!==(p.href==null?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Wr(s.nextSibling),s===null)break}return null}function _P(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Wr(s.nextSibling),s===null))return null;return s}function Wr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return s}function RE(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}function IE(s,i,l){switch(i=Yf(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}var Or=new Map,AE=new Set;function Kf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var Xa=ue.d;ue.d={f:SP,r:EP,D:CP,C:NP,L:TP,m:RP,X:AP,S:IP,M:DP};function SP(){var s=Xa.f(),i=Vf();return s||i}function EP(s){var i=Ho(s);i!==null&&i.tag===5&&i.type==="form"?rS(i):Xa.r(s)}var wl=typeof document>"u"?null:document;function DE(s,i,l){var h=wl;if(h&&typeof i=="string"&&i){var p=_r(i);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),AE.has(p)||(AE.add(p),s={rel:s,crossOrigin:l,href:i},h.querySelector(p)===null&&(i=h.createElement("link"),xn(i,"link",s),ln(i),h.head.appendChild(i)))}}function CP(s){Xa.D(s),DE("dns-prefetch",s,null)}function NP(s,i){Xa.C(s,i),DE("preconnect",s,i)}function TP(s,i,l){Xa.L(s,i,l);var h=wl;if(h&&s&&i){var p='link[rel="preload"][as="'+_r(i)+'"]';i==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+_r(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+_r(l.imageSizes)+'"]')):p+='[href="'+_r(s)+'"]';var b=p;switch(i){case"style":b=_l(s);break;case"script":b=Sl(s)}Or.has(b)||(s=B({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),Or.set(b,s),h.querySelector(p)!==null||i==="style"&&h.querySelector(hu(b))||i==="script"&&h.querySelector(mu(b))||(i=h.createElement("link"),xn(i,"link",s),ln(i),h.head.appendChild(i)))}}function RP(s,i){Xa.m(s,i);var l=wl;if(l&&s){var h=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+_r(h)+'"][href="'+_r(s)+'"]',b=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Sl(s)}if(!Or.has(b)&&(s=B({rel:"modulepreload",href:s},i),Or.set(b,s),l.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(mu(b)))return}h=l.createElement("link"),xn(h,"link",s),ln(h),l.head.appendChild(h)}}}function IP(s,i,l){Xa.S(s,i,l);var h=wl;if(h&&s){var p=qo(h).hoistableStyles,b=_l(s);i=i||"default";var A=p.get(b);if(!A){var M={loading:0,preload:null};if(A=h.querySelector(hu(b)))M.loading=5;else{s=B({rel:"stylesheet",href:s,"data-precedence":i},l),(l=Or.get(b))&&Dv(s,l);var U=A=h.createElement("link");ln(U),xn(U,"link",s),U._p=new Promise(function(W,oe){U.onload=W,U.onerror=oe}),U.addEventListener("load",function(){M.loading|=1}),U.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Xf(A,i,h)}A={type:"stylesheet",instance:A,count:1,state:M},p.set(b,A)}}}function AP(s,i){Xa.X(s,i);var l=wl;if(l&&s){var h=qo(l).hoistableScripts,p=Sl(s),b=h.get(p);b||(b=l.querySelector(mu(p)),b||(s=B({src:s,async:!0},i),(i=Or.get(p))&&Ov(s,i),b=l.createElement("script"),ln(b),xn(b,"link",s),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(p,b))}}function DP(s,i){Xa.M(s,i);var l=wl;if(l&&s){var h=qo(l).hoistableScripts,p=Sl(s),b=h.get(p);b||(b=l.querySelector(mu(p)),b||(s=B({src:s,async:!0,type:"module"},i),(i=Or.get(p))&&Ov(s,i),b=l.createElement("script"),ln(b),xn(b,"link",s),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(p,b))}}function OE(s,i,l,h){var p=(p=Oe.current)?Kf(p):null;if(!p)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=_l(l.href),l=qo(p).hoistableStyles,h=l.get(i),h||(h={type:"style",instance:null,count:0,state:null},l.set(i,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=_l(l.href);var b=qo(p).hoistableStyles,A=b.get(s);if(A||(p=p.ownerDocument||p,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,A),(b=p.querySelector(hu(s)))&&!b._p&&(A.instance=b,A.state.loading=5),Or.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Or.set(s,l),b||OP(p,s,l,A.state))),i&&h===null)throw Error(r(528,""));return A}if(i&&h!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Sl(l),l=qo(p).hoistableScripts,h=l.get(i),h||(h={type:"script",instance:null,count:0,state:null},l.set(i,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function _l(s){return'href="'+_r(s)+'"'}function hu(s){return'link[rel="stylesheet"]['+s+"]"}function jE(s){return B({},s,{"data-precedence":s.precedence,precedence:null})}function OP(s,i,l,h){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?h.loading=1:(i=s.createElement("link"),h.preload=i,i.addEventListener("load",function(){return h.loading|=1}),i.addEventListener("error",function(){return h.loading|=2}),xn(i,"link",l),ln(i),s.head.appendChild(i))}function Sl(s){return'[src="'+_r(s)+'"]'}function mu(s){return"script[async]"+s}function ME(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var h=s.querySelector('style[data-href~="'+_r(l.href)+'"]');if(h)return i.instance=h,ln(h),h;var p=B({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),ln(h),xn(h,"style",p),Xf(h,l.precedence,s),i.instance=h;case"stylesheet":p=_l(l.href);var b=s.querySelector(hu(p));if(b)return i.state.loading|=4,i.instance=b,ln(b),b;h=jE(l),(p=Or.get(p))&&Dv(h,p),b=(s.ownerDocument||s).createElement("link"),ln(b);var A=b;return A._p=new Promise(function(M,U){A.onload=M,A.onerror=U}),xn(b,"link",h),i.state.loading|=4,Xf(b,l.precedence,s),i.instance=b;case"script":return b=Sl(l.src),(p=s.querySelector(mu(b)))?(i.instance=p,ln(p),p):(h=l,(p=Or.get(b))&&(h=B({},l),Ov(h,p)),s=s.ownerDocument||s,p=s.createElement("script"),ln(p),xn(p,"link",h),s.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(h=i.instance,i.state.loading|=4,Xf(h,l.precedence,s));return i.instance}function Xf(s,i,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,b=p,A=0;A<h.length;A++){var M=h[A];if(M.dataset.precedence===i)b=M;else if(b!==p)break}b?b.parentNode.insertBefore(s,b.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function Dv(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Ov(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Qf=null;function PE(s,i,l){if(Qf===null){var h=new Map,p=Qf=new Map;p.set(l,h)}else p=Qf,h=p.get(l),h||(h=new Map,p.set(l,h));if(h.has(s))return h;for(h.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var b=l[p];if(!(b[Rc]||b[Rn]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(i)||"";A=s+A;var M=h.get(A);M?M.push(b):h.set(A,[b])}}return h}function kE(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function jP(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function LE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var pu=null;function MP(){}function PP(s,i,l){if(pu===null)throw Error(r(475));var h=pu;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var p=_l(l.href),b=s.querySelector(hu(p));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=Zf.bind(h),s.then(h,h)),i.state.loading|=4,i.instance=b,ln(b);return}b=s.ownerDocument||s,l=jE(l),(p=Or.get(p))&&Dv(l,p),b=b.createElement("link"),ln(b);var A=b;A._p=new Promise(function(M,U){A.onload=M,A.onerror=U}),xn(b,"link",l),i.instance=b}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(i,s),(s=i.state.preload)&&(i.state.loading&3)===0&&(h.count++,i=Zf.bind(h),s.addEventListener("load",i),s.addEventListener("error",i))}}function kP(){if(pu===null)throw Error(r(475));var s=pu;return s.stylesheets&&s.count===0&&jv(s,s.stylesheets),0<s.count?function(i){var l=setTimeout(function(){if(s.stylesheets&&jv(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=i,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Zf(){if(this.count--,this.count===0){if(this.stylesheets)jv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Jf=null;function jv(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Jf=new Map,i.forEach(LP,s),Jf=null,Zf.call(s))}function LP(s,i){if(!(i.state.loading&4)){var l=Jf.get(s);if(l)var h=l.get(null);else{l=new Map,Jf.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var A=p[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),h=A)}h&&l.set(null,h)}p=i.instance,A=p.getAttribute("data-precedence"),b=l.get(A)||h,b===h&&l.set(null,p),l.set(A,p),this.count++,h=Zf.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),b?b.parentNode.insertBefore(p,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),i.state.loading|=4}}var gu={$$typeof:w,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function FP(s,i,l,h,p,b,A,M){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tn(0),this.hiddenUpdates=Tn(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function FE(s,i,l,h,p,b,A,M,U,W,oe,fe){return s=new FP(s,i,l,A,M,U,W,fe),i=1,b===!0&&(i|=24),b=Ar(3,null,null,i),s.current=b,b.stateNode=s,i=dg(),i.refCount++,s.pooledCache=i,i.refCount++,b.memoizedState={element:h,isDehydrated:l,cache:i},qg(b),s}function UE(s){return s?(s=tl,s):tl}function BE(s,i,l,h,p,b){p=UE(p),h.context===null?h.context=p:h.pendingContext=p,h=Os(i),h.payload={element:l},b=b===void 0?null:b,b!==null&&(h.callback=b),l=js(s,h,i),l!==null&&(Pn(l,s,i),Jc(l,s,i))}function VE(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Mv(s,i){VE(s,i),(s=s.alternate)&&VE(s,i)}function $E(s){if(s.tag===13){var i=Cs(s,67108864);i!==null&&Pn(i,s,67108864),Mv(s,67108864)}}var eh=!0;function UP(s,i,l,h){var p=F.T;F.T=null;var b=ue.p;try{ue.p=2,Pv(s,i,l,h)}finally{ue.p=b,F.T=p}}function BP(s,i,l,h){var p=F.T;F.T=null;var b=ue.p;try{ue.p=8,Pv(s,i,l,h)}finally{ue.p=b,F.T=p}}function Pv(s,i,l,h){if(eh){var p=kv(h);if(p===null)Sv(s,i,h,th,l),HE(s,h);else if($P(p,s,i,l,h))h.stopPropagation();else if(HE(s,h),i&4&&-1<VP.indexOf(s)){for(;p!==null;){var b=Ho(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=Ue(b.pendingLanes);if(A!==0){var M=b;for(M.pendingLanes|=2,M.entangledLanes|=2;A;){var U=1<<31-On(A);M.entanglements[1]|=U,A&=~U}pa(b),(Ot&6)===0&&(Ff=Ee()+500,uu(0))}}break;case 13:M=Cs(b,2),M!==null&&Pn(M,b,2),Vf(),Mv(b,2)}if(b=kv(h),b===null&&Sv(s,i,h,th,l),b===p)break;p=b}p!==null&&h.stopPropagation()}else Sv(s,i,h,null,l)}}function kv(s){return s=$p(s),Lv(s)}var th=null;function Lv(s){if(th=null,s=Oi(s),s!==null){var i=z(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=G(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return th=s,null}function zE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(We()){case _t:return 2;case It:return 8;case Nn:case Ti:return 32;case ar:return 268435456;default:return 32}default:return 32}}var Fv=!1,Bs=null,Vs=null,$s=null,vu=new Map,yu=new Map,zs=[],VP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function HE(s,i){switch(s){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":vu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(i.pointerId)}}function bu(s,i,l,h,p,b){return s===null||s.nativeEvent!==b?(s={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:b,targetContainers:[p]},i!==null&&(i=Ho(i),i!==null&&$E(i)),s):(s.eventSystemFlags|=h,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function $P(s,i,l,h,p){switch(i){case"focusin":return Bs=bu(Bs,s,i,l,h,p),!0;case"dragenter":return Vs=bu(Vs,s,i,l,h,p),!0;case"mouseover":return $s=bu($s,s,i,l,h,p),!0;case"pointerover":var b=p.pointerId;return vu.set(b,bu(vu.get(b)||null,s,i,l,h,p)),!0;case"gotpointercapture":return b=p.pointerId,yu.set(b,bu(yu.get(b)||null,s,i,l,h,p)),!0}return!1}function qE(s){var i=Oi(s.target);if(i!==null){var l=z(i);if(l!==null){if(i=l.tag,i===13){if(i=G(l),i!==null){s.blockedOn=i,kj(s.priority,function(){if(l.tag===13){var h=ur(),p=Cs(l,h);p!==null&&Pn(p,l,h),Mv(l,h)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function nh(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=kv(s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);Vp=h,l.target.dispatchEvent(h),Vp=null}else return i=Ho(l),i!==null&&$E(i),s.blockedOn=l,!1;i.shift()}return!0}function WE(s,i,l){nh(s)&&l.delete(i)}function zP(){Fv=!1,Bs!==null&&nh(Bs)&&(Bs=null),Vs!==null&&nh(Vs)&&(Vs=null),$s!==null&&nh($s)&&($s=null),vu.forEach(WE),yu.forEach(WE)}function rh(s,i){s.blockedOn===i&&(s.blockedOn=null,Fv||(Fv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zP)))}var ah=null;function GE(s){ah!==s&&(ah=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ah===s&&(ah=null);for(var i=0;i<s.length;i+=3){var l=s[i],h=s[i+1],p=s[i+2];if(typeof h!="function"){if(Lv(h||l)===null)continue;break}var b=Ho(l);b!==null&&(s.splice(i,3),i-=3,Tg(b,{pending:!0,data:p,method:l.method,action:h},h,p))}}))}function xu(s){function i(U){return rh(U,s)}Bs!==null&&rh(Bs,s),Vs!==null&&rh(Vs,s),$s!==null&&rh($s,s),vu.forEach(i),yu.forEach(i);for(var l=0;l<zs.length;l++){var h=zs[l];h.blockedOn===s&&(h.blockedOn=null)}for(;0<zs.length&&(l=zs[0],l.blockedOn===null);)qE(l),l.blockedOn===null&&zs.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var p=l[h],b=l[h+1],A=p[Gn]||null;if(typeof b=="function")A||GE(l);else if(A){var M=null;if(b&&b.hasAttribute("formAction")){if(p=b,A=b[Gn]||null)M=A.formAction;else if(Lv(p)!==null)continue}else M=A.action;typeof M=="function"?l[h+1]=M:(l.splice(h,3),h-=3),GE(l)}}}function Uv(s){this._internalRoot=s}sh.prototype.render=Uv.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,h=ur();BE(l,h,s,i,null,null)},sh.prototype.unmount=Uv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;s.tag===0&&yl(),BE(s.current,2,null,s,null,null),Vf(),i[zo]=null}};function sh(s){this._internalRoot=s}sh.prototype.unstable_scheduleHydration=function(s){if(s){var i=Pp();s={blockedOn:null,target:s,priority:i};for(var l=0;l<zs.length&&i!==0&&i<zs[l].priority;l++);zs.splice(l,0,s),l===0&&qE(s)}};var YE=e.version;if(YE!=="19.0.0")throw Error(r(527,YE,"19.0.0"));ue.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Y(i),s=s!==null?ie(s):null,s=s===null?null:s.stateNode,s};var HP={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:F,findFiberByHostInstance:Oi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{oa=ih.inject(HP),vn=ih}catch{}}return _u.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,h="",p=dS,b=fS,A=hS,M=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(M=i.unstable_transitionCallbacks)),i=FE(s,1,!1,null,null,l,h,p,b,A,M,null),s[zo]=i.current,_v(s.nodeType===8?s.parentNode:s),new Uv(i)},_u.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var h=!1,p="",b=dS,A=fS,M=hS,U=null,W=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks),l.formState!==void 0&&(W=l.formState)),i=FE(s,1,!0,i,l??null,h,p,b,A,M,U,W),i.context=UE(null),l=i.current,h=ur(),p=Os(h),p.callback=null,js(l,p,h),i.current.lanes=h,ca(i,h),pa(i),s[zo]=i.current,_v(s),new sh(i)},_u.version="19.0.0",_u}var a1;function nk(){if(a1)return $v.exports;a1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$v.exports=tk(),$v.exports}var Lm=nk();const rk=Jb(Lm);var Su={},s1;function ak(){if(s1)return Su;s1=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.parse=c,Su.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function c(y,w){const _=new o,E=y.length;if(E<2)return _;const S=(w==null?void 0:w.decode)||g;let C=0;do{const N=y.indexOf("=",C);if(N===-1)break;const I=y.indexOf(";",C),T=I===-1?E:I;if(N>T){C=y.lastIndexOf(";",N-1)+1;continue}const R=u(y,C,N),D=f(y,N,R),j=y.slice(R,D);if(_[j]===void 0){let P=u(y,N+1,T),F=f(y,T,P);const B=S(y.slice(P,F));_[j]=B}C=T+1}while(C<E);return _}function u(y,w,_){do{const E=y.charCodeAt(w);if(E!==32&&E!==9)return w}while(++w<_);return _}function f(y,w,_){for(;w>_;){const E=y.charCodeAt(--w);if(E!==32&&E!==9)return w+1}return _}function m(y,w,_){const E=(_==null?void 0:_.encode)||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const S=E(w);if(!e.test(S))throw new TypeError(`argument val is invalid: ${w}`);let C=y+"="+S;if(!_)return C;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);C+="; Max-Age="+_.maxAge}if(_.domain){if(!n.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);C+="; Domain="+_.domain}if(_.path){if(!r.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);C+="; Path="+_.path}if(_.expires){if(!v(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);C+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(C+="; HttpOnly"),_.secure&&(C+="; Secure"),_.partitioned&&(C+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return C}function g(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function v(y){return a.call(y)==="[object Date]"}return Su}ak();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var i1="popstate";function sk(t={}){function e(r,a){let{pathname:o,search:c,hash:u}=r.location;return By("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:rd(a)}return ok(e,n,null,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ik(){return Math.random().toString(36).substring(2,10)}function o1(t,e){return{usr:t.state,key:t.key,idx:e}}function By(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ac(e):e,state:n,key:e&&e.key||r||ik()}}function rd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ac(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function ok(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,u="POP",f=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function v(){u="POP";let S=g(),C=S==null?null:S-m;m=S,f&&f({action:u,location:E.location,delta:C})}function y(S,C){u="PUSH";let N=By(E.location,S,C);m=g()+1;let I=o1(N,m),T=E.createHref(N);try{c.pushState(I,"",T)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(T)}o&&f&&f({action:u,location:E.location,delta:1})}function w(S,C){u="REPLACE";let N=By(E.location,S,C);m=g();let I=o1(N,m),T=E.createHref(N);c.replaceState(I,"",T),o&&f&&f({action:u,location:E.location,delta:0})}function _(S){let C=a.location.origin!=="null"?a.location.origin:a.location.href,N=typeof S=="string"?S:rd(S);return N=N.replace(/ $/,"%20"),Rt(C,`No window.location.(origin|href) available to create URL for href: ${N}`),new URL(N,C)}let E={get action(){return u},get location(){return t(a,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(i1,v),f=S,()=>{a.removeEventListener(i1,v),f=null}},createHref(S){return e(a,S)},createURL:_,encodeLocation(S){let C=_(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:w,go(S){return c.go(S)}};return E}function yT(t,e,n="/"){return lk(t,e,n,!1)}function lk(t,e,n,r){let a=typeof e=="string"?ac(e):e,o=di(a.pathname||"/",n);if(o==null)return null;let c=bT(t);ck(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=xk(o);u=yk(c[f],m,r)}return u}function bT(t,e=[],n=[],r=""){let a=(o,c,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(Rt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=as([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Rt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),bT(o.children,e,g,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:gk(m,o.index),routesMeta:g})};return t.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,c);else for(let f of xT(o.path))a(o,c,f)}),e}function xT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=xT(r.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function ck(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var uk=/^:[\w-]+$/,dk=3,fk=2,hk=1,mk=10,pk=-2,l1=t=>t==="*";function gk(t,e){let n=t.split("/"),r=n.length;return n.some(l1)&&(r+=pk),e&&(r+=fk),n.filter(a=>!l1(a)).reduce((a,o)=>a+(uk.test(o)?dk:o===""?hk:mk),r)}function vk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function yk(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",c=[];for(let u=0;u<r.length;++u){let f=r[u],m=u===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=zh({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),y=f.route;if(!v&&m&&n&&!r[r.length-1].route.index&&(v=zh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:as([o,v.pathname]),pathnameBase:Ek(as([o,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(o=as([o,v.pathnameBase]))}return c}function zh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bk(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:v},y)=>{if(g==="*"){let _=u[y]||"";c=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const w=u[y];return v&&!w?m[g]=void 0:m[g]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function bk(t,e=!1,n=!0){Lr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function xk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function di(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function wk(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?ac(t):t;return{pathname:n?n.startsWith("/")?n:_k(n,e):e,search:Ck(r),hash:Nk(a)}}function _k(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Wv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function t0(t){let e=Sk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function n0(t,e,n,r=!1){let a;typeof t=="string"?a=ac(t):(a={...t},Rt(!a.pathname||!a.pathname.includes("?"),Wv("?","pathname","search",a)),Rt(!a.pathname||!a.pathname.includes("#"),Wv("#","pathname","hash",a)),Rt(!a.search||!a.search.includes("#"),Wv("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,u;if(c==null)u=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),v-=1;a.pathname=y.join("/")}u=v>=0?e[v]:"/"}let f=wk(a,u),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var as=t=>t.join("/").replace(/\/\/+/g,"/"),Ek=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ck=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Nk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Tk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var wT=["POST","PUT","PATCH","DELETE"];new Set(wT);var Rk=["GET",...wT];new Set(Rk);var sc=x.createContext(null);sc.displayName="DataRouter";var Fm=x.createContext(null);Fm.displayName="DataRouterState";var _T=x.createContext({isTransitioning:!1});_T.displayName="ViewTransition";var Ik=x.createContext(new Map);Ik.displayName="Fetchers";var Ak=x.createContext(null);Ak.displayName="Await";var ra=x.createContext(null);ra.displayName="Navigation";var Nd=x.createContext(null);Nd.displayName="Location";var Ur=x.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var r0=x.createContext(null);r0.displayName="RouteError";function Dk(t,{relative:e}={}){Rt(ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(ra),{hash:a,pathname:o,search:c}=Td(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:as([n,o])),r.createHref({pathname:u,search:c,hash:a})}function ic(){return x.useContext(Nd)!=null}function Br(){return Rt(ic(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Nd).location}var ST="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ET(t){x.useContext(ra).static||x.useLayoutEffect(t)}function Tt(){let{isDataRoute:t}=x.useContext(Ur);return t?Wk():Ok()}function Ok(){Rt(ic(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(sc),{basename:e,navigator:n}=x.useContext(ra),{matches:r}=x.useContext(Ur),{pathname:a}=Br(),o=JSON.stringify(t0(r)),c=x.useRef(!1);return ET(()=>{c.current=!0}),x.useCallback((f,m={})=>{if(Lr(c.current,ST),!c.current)return;if(typeof f=="number"){n.go(f);return}let g=n0(f,JSON.parse(o),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:as([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,o,a,t])}var jk=x.createContext(null);function Mk(t){let e=x.useContext(Ur).outlet;return e&&x.createElement(jk.Provider,{value:t},e)}function rt(){let{matches:t}=x.useContext(Ur),e=t[t.length-1];return e?e.params:{}}function Td(t,{relative:e}={}){let{matches:n}=x.useContext(Ur),{pathname:r}=Br(),a=JSON.stringify(t0(n));return x.useMemo(()=>n0(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function Pk(t,e){return CT(t,e)}function CT(t,e,n,r){var N;Rt(ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=x.useContext(ra),{matches:c}=x.useContext(Ur),u=c[c.length-1],f=u?u.params:{},m=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let I=v&&v.path||"";NT(m,!v||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let y=Br(),w;if(e){let I=typeof e=="string"?ac(e):e;Rt(g==="/"||((N=I.pathname)==null?void 0:N.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${I.pathname}" was given in the \`location\` prop.`),w=I}else w=y;let _=w.pathname||"/",E=_;if(g!=="/"){let I=g.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(I.length).join("/")}let S=!o&&n&&n.matches&&n.matches.length>0?n.matches:yT(t,{pathname:E});Lr(v||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Lr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Bk(S&&S.map(I=>Object.assign({},I,{params:Object.assign({},f,I.params),pathname:as([g,a.encodeLocation?a.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?g:as([g,a.encodeLocation?a.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),c,n,r);return e&&C?x.createElement(Nd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},C):C}function kk(){let t=qk(),e=Tk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:a},n):null,c)}var Lk=x.createElement(kk,null),Fk=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?x.createElement(Ur.Provider,{value:this.props.routeContext},x.createElement(r0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Uk({routeContext:t,match:e,children:n}){let r=x.useContext(sc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Ur.Provider,{value:t},n)}function Bk(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n==null?void 0:n.errors;if(o!=null){let f=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Rt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,u=-1;if(n)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:g,errors:v}=n,y=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||y){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,m,g)=>{let v,y=!1,w=null,_=null;n&&(v=o&&m.route.id?o[m.route.id]:void 0,w=m.route.errorElement||Lk,c&&(u<0&&g===0?(NT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,_=null):u===g&&(y=!0,_=m.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,g+1)),S=()=>{let C;return v?C=w:y?C=_:m.route.Component?C=x.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=f,x.createElement(Uk,{match:m,routeContext:{outlet:f,matches:E,isDataRoute:n!=null},children:C})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?x.createElement(Fk,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:S(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):S()},null)}function a0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vk(t){let e=x.useContext(sc);return Rt(e,a0(t)),e}function $k(t){let e=x.useContext(Fm);return Rt(e,a0(t)),e}function zk(t){let e=x.useContext(Ur);return Rt(e,a0(t)),e}function s0(t){let e=zk(t),n=e.matches[e.matches.length-1];return Rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Hk(){return s0("useRouteId")}function qk(){var r;let t=x.useContext(r0),e=$k("useRouteError"),n=s0("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Wk(){let{router:t}=Vk("useNavigate"),e=s0("useNavigate"),n=x.useRef(!1);return ET(()=>{n.current=!0}),x.useCallback(async(a,o={})=>{Lr(n.current,ST),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var c1={};function NT(t,e,n){!e&&!c1[t]&&(c1[t]=!0,Lr(!1,n))}x.memo(Gk);function Gk({routes:t,future:e,state:n}){return CT(t,void 0,n,e)}function i0({to:t,replace:e,state:n,relative:r}){Rt(ic(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=x.useContext(ra);Lr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(Ur),{pathname:c}=Br(),u=Tt(),f=n0(t,t0(o),c,r==="path"),m=JSON.stringify(f);return x.useEffect(()=>{u(JSON.parse(m),{replace:e,state:n,relative:r})},[u,m,r,e,n]),null}function o0(t){return Mk(t.context)}function ye(t){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yk({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){Rt(!ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof n=="string"&&(n=ac(n));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:y="default"}=n,w=x.useMemo(()=>{let _=di(f,c);return _==null?null:{location:{pathname:_,search:m,hash:g,state:v,key:y},navigationType:r}},[c,f,m,g,v,y,r]);return Lr(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:x.createElement(ra.Provider,{value:u},x.createElement(Nd.Provider,{children:e,value:w}))}function TT({children:t,location:e}){return Pk(Vy(t),e)}function Vy(t,e=[]){let n=[];return x.Children.forEach(t,(r,a)=>{if(!x.isValidElement(r))return;let o=[...e,a];if(r.type===x.Fragment){n.push.apply(n,Vy(r.props.children,o));return}Rt(r.type===ye,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Vy(r.props.children,o)),n.push(c)}),n}var Nh="get",Th="application/x-www-form-urlencoded";function Um(t){return t!=null&&typeof t.tagName=="string"}function Kk(t){return Um(t)&&t.tagName.toLowerCase()==="button"}function Xk(t){return Um(t)&&t.tagName.toLowerCase()==="form"}function Qk(t){return Um(t)&&t.tagName.toLowerCase()==="input"}function Zk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Jk(t,e){return t.button===0&&(!e||e==="_self")&&!Zk(t)}function $y(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function eL(t,e){let n=$y(t);return e&&e.forEach((r,a)=>{n.has(a)||e.getAll(a).forEach(o=>{n.append(a,o)})}),n}var oh=null;function tL(){if(oh===null)try{new FormData(document.createElement("form"),0),oh=!1}catch{oh=!0}return oh}var nL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gv(t){return t!=null&&!nL.has(t)?(Lr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Th}"`),null):t}function rL(t,e){let n,r,a,o,c;if(Xk(t)){let u=t.getAttribute("action");r=u?di(u,e):null,n=t.getAttribute("method")||Nh,a=Gv(t.getAttribute("enctype"))||Th,o=new FormData(t)}else if(Kk(t)||Qk(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?di(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Nh,a=Gv(t.getAttribute("formenctype"))||Gv(u.getAttribute("enctype"))||Th,o=new FormData(u,t),!tL()){let{name:m,type:g,value:v}=t;if(g==="image"){let y=m?`${m}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else m&&o.append(m,v)}}else{if(Um(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nh,r=null,a=Th,c=t}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:c}}function l0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function aL(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function iL(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await aL(o,n);return c.links?c.links():[]}return[]}));return uL(r.flat(1).filter(sL).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function u1(t,e,n,r,a,o){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,u=(f,m)=>{var g;return n[m].pathname!==f.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,m)=>c(f,m)||u(f,m)):o==="data"?e.filter((f,m)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(c(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function oL(t,e,{includeHydrateFallback:n}={}){return lL(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function lL(t){return[...new Set(t)]}function cL(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function uL(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(cL(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function dL(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function fL(){let t=x.useContext(sc);return l0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hL(){let t=x.useContext(Fm);return l0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var c0=x.createContext(void 0);c0.displayName="FrameworkContext";function RT(){let t=x.useContext(c0);return l0(t,"You must render this element inside a <HydratedRouter> element"),t}function mL(t,e){let n=x.useContext(c0),[r,a]=x.useState(!1),[o,c]=x.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=e,y=x.useRef(null);x.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let E=C=>{C.forEach(N=>{c(N.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[t]),x.useEffect(()=>{if(r){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[r]);let w=()=>{a(!0)},_=()=>{a(!1),c(!1)};return n?t!=="intent"?[o,y,{}]:[o,y,{onFocus:Eu(u,w),onBlur:Eu(f,_),onMouseEnter:Eu(m,w),onMouseLeave:Eu(g,_),onTouchStart:Eu(v,w)}]:[!1,y,{}]}function Eu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function pL({page:t,...e}){let{router:n}=fL(),r=x.useMemo(()=>yT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement(vL,{page:t,matches:r,...e}):null}function gL(t){let{manifest:e,routeModules:n}=RT(),[r,a]=x.useState([]);return x.useEffect(()=>{let o=!1;return iL(t,e,n).then(c=>{o||a(c)}),()=>{o=!0}},[t,e,n]),r}function vL({page:t,matches:e,...n}){let r=Br(),{manifest:a,routeModules:o}=RT(),{loaderData:c,matches:u}=hL(),f=x.useMemo(()=>u1(t,e,u,a,r,"data"),[t,e,u,a,r]),m=x.useMemo(()=>u1(t,e,u,a,r,"assets"),[t,e,u,a,r]),g=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,_=!1;if(e.forEach(S=>{var N;let C=a.routes[S.route.id];!C||!C.hasLoader||(!f.some(I=>I.route.id===S.route.id)&&S.route.id in c&&((N=o[S.route.id])!=null&&N.shouldRevalidate)||C.hasClientLoader?_=!0:w.add(S.route.id))}),w.size===0)return[];let E=dL(t);return _&&w.size>0&&E.searchParams.set("_routes",e.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[E.pathname+E.search]},[c,r,a,f,e,t,o]),v=x.useMemo(()=>oL(m,a),[m,a]),y=gL(m);return x.createElement(x.Fragment,null,g.map(w=>x.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>x.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),y.map(({key:w,link:_})=>x.createElement("link",{key:w,..._})))}function yL(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var IT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IT&&(window.__reactRouterVersion="7.2.0")}catch{}function bL({basename:t,children:e,window:n}){let r=x.useRef();r.current==null&&(r.current=sk({window:n,v5Compat:!0}));let a=r.current,[o,c]=x.useState({action:a.action,location:a.location}),u=x.useCallback(f=>{x.startTransition(()=>c(f))},[c]);return x.useLayoutEffect(()=>a.listen(u),[a,u]),x.createElement(Yk,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}var AT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ss=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:u,target:f,to:m,preventScrollReset:g,viewTransition:v,...y},w){let{basename:_}=x.useContext(ra),E=typeof m=="string"&&AT.test(m),S,C=!1;if(typeof m=="string"&&E&&(S=m,IT))try{let F=new URL(window.location.href),B=m.startsWith("//")?new URL(F.protocol+m):new URL(m),K=di(B.pathname,_);B.origin===F.origin&&K!=null?m=K+B.search+B.hash:C=!0}catch{Lr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=Dk(m,{relative:a}),[I,T,R]=mL(r,y),D=SL(m,{replace:c,state:u,target:f,preventScrollReset:g,relative:a,viewTransition:v});function j(F){e&&e(F),F.defaultPrevented||D(F)}let P=x.createElement("a",{...y,...R,href:S||N,onClick:C||o?e:j,ref:yL(w,T),target:f,"data-discover":!E&&n==="render"?"true":void 0});return I&&!E?x.createElement(x.Fragment,null,P,x.createElement(pL,{page:N})):P});ss.displayName="Link";var xL=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:u,children:f,...m},g){let v=Td(c,{relative:m.relative}),y=Br(),w=x.useContext(Fm),{navigator:_,basename:E}=x.useContext(ra),S=w!=null&&RL(v)&&u===!0,C=_.encodeLocation?_.encodeLocation(v).pathname:v.pathname,N=y.pathname,I=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(N=N.toLowerCase(),I=I?I.toLowerCase():null,C=C.toLowerCase()),I&&E&&(I=di(I,E)||I);const T=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let R=N===C||!a&&N.startsWith(C)&&N.charAt(T)==="/",D=I!=null&&(I===C||!a&&I.startsWith(C)&&I.charAt(C.length)==="/"),j={isActive:R,isPending:D,isTransitioning:S},P=R?e:void 0,F;typeof r=="function"?F=r(j):F=[r,R?"active":null,D?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(j):o;return x.createElement(ss,{...m,"aria-current":P,className:F,ref:g,style:B,to:c,viewTransition:u},typeof f=="function"?f(j):f)});xL.displayName="NavLink";var wL=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:c=Nh,action:u,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:v,...y},w)=>{let _=NL(),E=TL(u,{relative:m}),S=c.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&AT.test(u),N=I=>{if(f&&f(I),I.defaultPrevented)return;I.preventDefault();let T=I.nativeEvent.submitter,R=(T==null?void 0:T.getAttribute("formmethod"))||c;_(T||I.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:a,state:o,relative:m,preventScrollReset:g,viewTransition:v})};return x.createElement("form",{ref:w,method:S,action:E,onSubmit:r?f:N,...y,"data-discover":!C&&t==="render"?"true":void 0})});wL.displayName="Form";function _L(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DT(t){let e=x.useContext(sc);return Rt(e,_L(t)),e}function SL(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:c}={}){let u=Tt(),f=Br(),m=Td(t,{relative:o});return x.useCallback(g=>{if(Jk(g,e)){g.preventDefault();let v=n!==void 0?n:rd(f)===rd(m);u(t,{replace:v,state:r,preventScrollReset:a,relative:o,viewTransition:c})}},[f,u,m,n,r,e,t,a,o,c])}function Bm(t){Lr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=x.useRef($y(t)),n=x.useRef(!1),r=Br(),a=x.useMemo(()=>eL(r.search,n.current?null:e.current),[r.search]),o=Tt(),c=x.useCallback((u,f)=>{const m=$y(typeof u=="function"?u(a):u);n.current=!0,o("?"+m,f)},[o,a]);return[a,c]}var EL=0,CL=()=>`__${String(++EL)}__`;function NL(){let{router:t}=DT("useSubmit"),{basename:e}=x.useContext(ra),n=Hk();return x.useCallback(async(r,a={})=>{let{action:o,method:c,encType:u,formData:f,body:m}=rL(r,e);if(a.navigate===!1){let g=a.fetcherKey||CL();await t.fetch(g,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function TL(t,{relative:e}={}){let{basename:n}=x.useContext(ra),r=x.useContext(Ur);Rt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Td(t||".",{relative:e})},c=Br();if(t==null){o.search=c.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(g=>g==="")){u.delete("index"),f.filter(v=>v).forEach(v=>u.append("index",v));let g=u.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:as([n,o.pathname])),rd(o)}function RL(t,e={}){let n=x.useContext(_T);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=DT("useViewTransitionState"),a=Td(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=di(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=di(n.nextLocation.pathname,r)||n.nextLocation.pathname;return zh(a.pathname,c)!=null||zh(a.pathname,o)!=null}new TextEncoder;var Rd=vT();const OT=Jb(Rd);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...u},f)=>x.createElement("svg",{ref:f,...AL,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:jT("lucide",a),...u},[...c.map(([m,g])=>x.createElement(m,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(t,e)=>{const n=x.forwardRef(({className:r,...a},o)=>x.createElement(DL,{ref:o,iconNode:e,className:jT(`lucide-${IL(t)}`,r),...a}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],jL=Ve("Apple",OL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],u0=Ve("ArrowLeft",ML);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],kL=Ve("Boxes",PL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],FL=Ve("Building2",LL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Vm=Ve("Calculator",UL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],VL=Ve("Calendar",BL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],MT=Ve("Check",$L);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],HL=Ve("ChefHat",zL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],d0=Ve("ChevronDown",qL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],GL=Ve("ChevronRight",WL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],f0=Ve("ChevronUp",YL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],PT=Ve("CircleAlert",KL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],kT=Ve("CirclePlus",XL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],zy=Ve("CircleUser",QL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],JL=Ve("Circle",ZL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],dr=Ve("ClipboardList",e4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],LT=Ve("Copy",t4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FT=Ve("Eye",n4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],ku=Ve("Factory",r4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],s4=Ve("HardHat",a4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],o4=Ve("Info",i4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],c4=Ve("LayoutGrid",l4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],UT=Ve("LoaderCircle",u4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],f4=Ve("Lock",d4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],m4=Ve("LogIn",h4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Yv=Ve("LogOut",p4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],v4=Ve("Menu",g4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],b4=Ve("MessageCircle",y4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Hy=Ve("Moon",x4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]],_4=Ve("Package2",w4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],qy=Ve("Package",S4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Id=Ve("Pencil",E4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ea=Ve("Plus",C4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],BT=Ve("Printer",N4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],R4=Ve("RefreshCcw",T4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],A4=Ve("Ruler",I4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],O4=Ve("ScrollText",D4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],M4=Ve("Search",j4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],d1=Ve("Settings",P4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Kv=Ve("ShoppingBag",k4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Hh=Ve("ShoppingCart",L4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],VT=Ve("Store",F4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Wy=Ve("Sun",U4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ad=Ve("Trash2",B4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],$4=Ve("Truck",V4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],H4=Ve("User",z4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Gy=Ve("Users",q4);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$T=Ve("X",W4),Se=x.forwardRef(({children:t,variant:e="primary",size:n="md",isLoading:r=!1,className:a="",disabled:o,...c},u)=>{const f="inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",m={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-primary-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"hover:bg-accent hover:text-accent-foreground"},g={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",icon:"p-2"};return d.jsxs("button",{ref:u,className:`
          ${f}
          ${m[e]}
          ${g[n]}
          ${a}
        `,disabled:r||o,...c,children:[r?d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,t]})});function zT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=zT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function G4(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=zT(t))&&(r&&(r+=" "),r+=e);return r}const h0="-",Y4=t=>{const e=X4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const u=c.split(h0);return u[0]===""&&u.length!==1&&u.shift(),HT(u,e)||K4(c)},getConflictingClassGroupIds:(c,u)=>{const f=n[c]||[];return u&&r[c]?[...f,...r[c]]:f}}},HT=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),a=r?HT(t.slice(1),r):void 0;if(a)return a;if(e.validators.length===0)return;const o=t.join(h0);return(c=e.validators.find(({validator:u})=>u(o)))==null?void 0:c.classGroupId},f1=/^\[(.+)\]$/,K4=t=>{if(f1.test(t)){const e=f1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},X4=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const a in n)Yy(n[a],r,a,e);return r},Yy=(t,e,n,r)=>{t.forEach(a=>{if(typeof a=="string"){const o=a===""?e:h1(e,a);o.classGroupId=n;return}if(typeof a=="function"){if(Q4(a)){Yy(a(r),e,n,r);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,c])=>{Yy(c,h1(e,o),n,r)})})},h1=(t,e)=>{let n=t;return e.split(h0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Q4=t=>t.isThemeGetter,Z4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const a=(o,c)=>{n.set(o,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let c=n.get(o);if(c!==void 0)return c;if((c=r.get(o))!==void 0)return a(o,c),c},set(o,c){n.has(o)?n.set(o,c):a(o,c)}}},Ky="!",Xy=":",J4=Xy.length,e5=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const o=[];let c=0,u=0,f=0,m;for(let _=0;_<a.length;_++){let E=a[_];if(c===0&&u===0){if(E===Xy){o.push(a.slice(f,_)),f=_+J4;continue}if(E==="/"){m=_;continue}}E==="["?c++:E==="]"?c--:E==="("?u++:E===")"&&u--}const g=o.length===0?a:a.substring(f),v=t5(g),y=v!==g,w=m&&m>f?m-f:void 0;return{modifiers:o,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:w}};if(e){const a=e+Xy,o=r;r=c=>c.startsWith(a)?o(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},t5=t=>t.endsWith(Ky)?t.substring(0,t.length-1):t.startsWith(Ky)?t.substring(1):t,n5=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let o=[];return r.forEach(c=>{c[0]==="["||e[c]?(a.push(...o.sort(),c),o=[]):o.push(c)}),a.push(...o.sort()),a}},r5=t=>({cache:Z4(t.cacheSize),parseClassName:e5(t),sortModifiers:n5(t),...Y4(t)}),a5=/\s+/,s5=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=e,c=[],u=t.trim().split(a5);let f="";for(let m=u.length-1;m>=0;m-=1){const g=u[m],{isExternal:v,modifiers:y,hasImportantModifier:w,baseClassName:_,maybePostfixModifierPosition:E}=n(g);if(v){f=g+(f.length>0?" "+f:f);continue}let S=!!E,C=r(S?_.substring(0,E):_);if(!C){if(!S){f=g+(f.length>0?" "+f:f);continue}if(C=r(_),!C){f=g+(f.length>0?" "+f:f);continue}S=!1}const N=o(y).join(":"),I=w?N+Ky:N,T=I+C;if(c.includes(T))continue;c.push(T);const R=a(C,S);for(let D=0;D<R.length;++D){const j=R[D];c.push(I+j)}f=g+(f.length>0?" "+f:f)}return f};function i5(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=qT(e))&&(r&&(r+=" "),r+=n);return r}const qT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=qT(t[r]))&&(n&&(n+=" "),n+=e);return n};function o5(t,...e){let n,r,a,o=c;function c(f){const m=e.reduce((g,v)=>v(g),t());return n=r5(m),r=n.cache.get,a=n.cache.set,o=u,u(f)}function u(f){const m=r(f);if(m)return m;const g=s5(f,n);return a(f,g),g}return function(){return o(i5.apply(null,arguments))}}const fn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},WT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,GT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,l5=/^\d+\/\d+$/,c5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,u5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,d5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,f5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,h5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,El=t=>l5.test(t),Je=t=>!!t&&!Number.isNaN(Number(t)),Ji=t=>!!t&&Number.isInteger(Number(t)),m1=t=>t.endsWith("%")&&Je(t.slice(0,-1)),qs=t=>c5.test(t),m5=()=>!0,p5=t=>u5.test(t)&&!d5.test(t),m0=()=>!1,g5=t=>f5.test(t),v5=t=>h5.test(t),y5=t=>!Ne(t)&&!Te(t),b5=t=>oc(t,XT,m0),Ne=t=>WT.test(t),eo=t=>oc(t,QT,p5),Xv=t=>oc(t,A5,Je),x5=t=>oc(t,YT,m0),w5=t=>oc(t,KT,v5),_5=t=>oc(t,m0,g5),Te=t=>GT.test(t),lh=t=>lc(t,QT),S5=t=>lc(t,D5),E5=t=>lc(t,YT),C5=t=>lc(t,XT),N5=t=>lc(t,KT),T5=t=>lc(t,O5,!0),oc=(t,e,n)=>{const r=WT.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},lc=(t,e,n=!1)=>{const r=GT.exec(t);return r?r[1]?e(r[1]):n:!1},YT=t=>t==="position",R5=new Set(["image","url"]),KT=t=>R5.has(t),I5=new Set(["length","size","percentage"]),XT=t=>I5.has(t),QT=t=>t==="length",A5=t=>t==="number",D5=t=>t==="family-name",O5=t=>t==="shadow",j5=()=>{const t=fn("color"),e=fn("font"),n=fn("text"),r=fn("font-weight"),a=fn("tracking"),o=fn("leading"),c=fn("breakpoint"),u=fn("container"),f=fn("spacing"),m=fn("radius"),g=fn("shadow"),v=fn("inset-shadow"),y=fn("drop-shadow"),w=fn("blur"),_=fn("perspective"),E=fn("aspect"),S=fn("ease"),C=fn("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],D=()=>[Te,Ne,f],j=()=>[El,"full","auto",...D()],P=()=>[Ji,"none","subgrid",Te,Ne],F=()=>["auto",{span:["full",Ji,Te,Ne]},Te,Ne],B=()=>[Ji,"auto",Te,Ne],K=()=>["auto","min","max","fr",Te,Ne],re=()=>["start","end","center","between","around","evenly","stretch","baseline"],Q=()=>["start","end","center","stretch"],$=()=>["auto",...D()],q=()=>[El,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],k=()=>[t,Te,Ne],Z=()=>[m1,eo],z=()=>["","none","full",m,Te,Ne],G=()=>["",Je,lh,eo],L=()=>["solid","dashed","dotted","double"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["","none",w,Te,Ne],le=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Te,Ne],ue=()=>["none",Je,Te,Ne],_e=()=>["none",Je,Te,Ne],he=()=>[Je,Te,Ne],Ae=()=>[El,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[qs],breakpoint:[qs],color:[m5],container:[qs],"drop-shadow":[qs],ease:["in","out","in-out"],font:[y5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[qs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[qs],shadow:[qs],spacing:["px",Je],text:[qs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",El,Ne,Te,E]}],container:["container"],columns:[{columns:[Je,Ne,Te,u]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),Ne,Te]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[Ji,"auto",Te,Ne]}],basis:[{basis:[El,"full","auto",u,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Je,El,"auto","initial","none",Ne]}],grow:[{grow:["",Je,Te,Ne]}],shrink:[{shrink:["",Je,Te,Ne]}],order:[{order:[Ji,"first","last","none",Te,Ne]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...re(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...re()]}],"align-items":[{items:[...Q(),"baseline"]}],"align-self":[{self:["auto",...Q(),"baseline"]}],"place-content":[{"place-content":re()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[u,"screen",...q()]}],"min-w":[{"min-w":[u,"screen","none",...q()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...q()]}],h:[{h:["screen",...q()]}],"min-h":[{"min-h":["screen","none",...q()]}],"max-h":[{"max-h":["screen",...q()]}],"font-size":[{text:["base",n,lh,eo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Te,Xv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",m1,Ne]}],"font-family":[{font:[S5,Ne,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Te,Ne]}],"line-clamp":[{"line-clamp":[Je,"none",Te,Xv]}],leading:[{leading:[o,...D()]}],"list-image":[{"list-image":["none",Te,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:k()}],"text-color":[{text:k()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:[Je,"from-font","auto",Te,eo]}],"text-decoration-color":[{decoration:k()}],"underline-offset":[{"underline-offset":[Je,"auto",Te,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),E5,x5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",C5,b5]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ji,Te,Ne],radial:["",Te,Ne],conic:[Ji,Te,Ne]},N5,w5]}],"bg-color":[{bg:k()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:k()}],"gradient-via":[{via:k()}],"gradient-to":[{to:k()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:G()}],"border-w-x":[{"border-x":G()}],"border-w-y":[{"border-y":G()}],"border-w-s":[{"border-s":G()}],"border-w-e":[{"border-e":G()}],"border-w-t":[{"border-t":G()}],"border-w-r":[{"border-r":G()}],"border-w-b":[{"border-b":G()}],"border-w-l":[{"border-l":G()}],"divide-x":[{"divide-x":G()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":G()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...L(),"hidden","none"]}],"divide-style":[{divide:[...L(),"hidden","none"]}],"border-color":[{border:k()}],"border-color-x":[{"border-x":k()}],"border-color-y":[{"border-y":k()}],"border-color-s":[{"border-s":k()}],"border-color-e":[{"border-e":k()}],"border-color-t":[{"border-t":k()}],"border-color-r":[{"border-r":k()}],"border-color-b":[{"border-b":k()}],"border-color-l":[{"border-l":k()}],"divide-color":[{divide:k()}],"outline-style":[{outline:[...L(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Je,Te,Ne]}],"outline-w":[{outline:["",Je,lh,eo]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",g,T5,_5]}],"shadow-color":[{shadow:k()}],"inset-shadow":[{"inset-shadow":["none",Te,Ne,v]}],"inset-shadow-color":[{"inset-shadow":k()}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:k()}],"ring-offset-w":[{"ring-offset":[Je,eo]}],"ring-offset-color":[{"ring-offset":k()}],"inset-ring-w":[{"inset-ring":G()}],"inset-ring-color":[{"inset-ring":k()}],opacity:[{opacity:[Je,Te,Ne]}],"mix-blend":[{"mix-blend":[...Y(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none",Te,Ne]}],blur:[{blur:ie()}],brightness:[{brightness:[Je,Te,Ne]}],contrast:[{contrast:[Je,Te,Ne]}],"drop-shadow":[{"drop-shadow":["","none",y,Te,Ne]}],grayscale:[{grayscale:["",Je,Te,Ne]}],"hue-rotate":[{"hue-rotate":[Je,Te,Ne]}],invert:[{invert:["",Je,Te,Ne]}],saturate:[{saturate:[Je,Te,Ne]}],sepia:[{sepia:["",Je,Te,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,Ne]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[Je,Te,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[Je,Te,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Je,Te,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Je,Te,Ne]}],"backdrop-invert":[{"backdrop-invert":["",Je,Te,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[Je,Te,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[Je,Te,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",Je,Te,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Je,"initial",Te,Ne]}],ease:[{ease:["linear","initial",S,Te,Ne]}],delay:[{delay:[Je,Te,Ne]}],animate:[{animate:["none",C,Te,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Te,Ne]}],"perspective-origin":[{"perspective-origin":le()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:_e()}],"scale-x":[{"scale-x":_e()}],"scale-y":[{"scale-y":_e()}],"scale-z":[{"scale-z":_e()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[Te,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:le()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ae()}],"translate-x":[{"translate-x":Ae()}],"translate-y":[{"translate-y":Ae()}],"translate-z":[{"translate-z":Ae()}],"translate-none":["translate-none"],accent:[{accent:k()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:k()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,Ne]}],fill:[{fill:["none",...k()]}],"stroke-w":[{stroke:[Je,lh,eo,Xv]}],stroke:[{stroke:["none",...k()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},M5=o5(j5),ZT=6048e5,P5=864e5,JT=6e4,eR=36e5,p1=Symbol.for("constructDateFrom");function cs(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&p1 in t?t[p1](e):t instanceof Date?new t.constructor(e):new Date(e)}function pr(t,e){return cs(e||t,t)}let k5={};function $m(){return k5}function ad(t,e){var u,f,m,g;const n=$m(),r=(e==null?void 0:e.weekStartsOn)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((g=(m=n.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,a=pr(t,e==null?void 0:e.in),o=a.getDay(),c=(o<r?7:0)+o-r;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function qh(t,e){return ad(t,{...e,weekStartsOn:1})}function tR(t,e){const n=pr(t,e==null?void 0:e.in),r=n.getFullYear(),a=cs(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const o=qh(a),c=cs(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const u=qh(c);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function g1(t){const e=pr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function L5(t,...e){const n=cs.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function v1(t,e){const n=pr(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function F5(t,e,n){const[r,a]=L5(n==null?void 0:n.in,t,e),o=v1(r),c=v1(a),u=+o-g1(o),f=+c-g1(c);return Math.round((u-f)/P5)}function U5(t,e){const n=tR(t,e),r=cs(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),qh(r)}function B5(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function V5(t){return!(!B5(t)&&typeof t!="number"||isNaN(+pr(t)))}function $5(t,e){const n=pr(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const z5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},H5=(t,e,n)=>{let r;const a=z5[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function kl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const q5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},W5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},G5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Y5={date:kl({formats:q5,defaultWidth:"full"}),time:kl({formats:W5,defaultWidth:"full"}),dateTime:kl({formats:G5,defaultWidth:"full"})},K5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},X5=(t,e,n,r)=>K5[t];function ba(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):c;a=t.formattingValues[u]||t.formattingValues[c]}else{const c=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;a=t.values[u]||t.values[c]}const o=t.argumentCallback?t.argumentCallback(e):e;return a[o]}}const Q5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Z5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},J5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rF=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},aF={ordinalNumber:rF,era:ba({values:Q5,defaultWidth:"wide"}),quarter:ba({values:Z5,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ba({values:J5,defaultWidth:"wide"}),day:ba({values:eF,defaultWidth:"wide"}),dayPeriod:ba({values:tF,defaultWidth:"wide",formattingValues:nF,defaultFormattingWidth:"wide"})};function xa(t){return(e,n={})=>{const r=n.width,a=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(a);if(!o)return null;const c=o[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(u)?iF(u,v=>v.test(c)):sF(u,v=>v.test(c));let m;m=t.valueCallback?t.valueCallback(f):f,m=n.valueCallback?n.valueCallback(m):m;const g=e.slice(c.length);return{value:m,rest:g}}}function sF(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function iF(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function nR(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const a=r[0],o=e.match(t.parsePattern);if(!o)return null;let c=t.valueCallback?t.valueCallback(o[0]):o[0];c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}const oF=/^(\d+)(th|st|nd|rd)?/i,lF=/\d+/i,cF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uF={any:[/^b/i,/^(a|c)/i]},dF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fF={any:[/1/i,/2/i,/3/i,/4/i]},hF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bF={ordinalNumber:nR({matchPattern:oF,parsePattern:lF,valueCallback:t=>parseInt(t,10)}),era:xa({matchPatterns:cF,defaultMatchWidth:"wide",parsePatterns:uF,defaultParseWidth:"any"}),quarter:xa({matchPatterns:dF,defaultMatchWidth:"wide",parsePatterns:fF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:xa({matchPatterns:hF,defaultMatchWidth:"wide",parsePatterns:mF,defaultParseWidth:"any"}),day:xa({matchPatterns:pF,defaultMatchWidth:"wide",parsePatterns:gF,defaultParseWidth:"any"}),dayPeriod:xa({matchPatterns:vF,defaultMatchWidth:"any",parsePatterns:yF,defaultParseWidth:"any"})},xF={code:"en-US",formatDistance:H5,formatLong:Y5,formatRelative:X5,localize:aF,match:bF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wF(t,e){const n=pr(t,e==null?void 0:e.in);return F5(n,$5(n))+1}function _F(t,e){const n=pr(t,e==null?void 0:e.in),r=+qh(n)-+U5(n);return Math.round(r/ZT)+1}function rR(t,e){var g,v,y,w;const n=pr(t,e==null?void 0:e.in),r=n.getFullYear(),a=$m(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??a.firstWeekContainsDate??((w=(y=a.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??1,c=cs((e==null?void 0:e.in)||t,0);c.setFullYear(r+1,0,o),c.setHours(0,0,0,0);const u=ad(c,e),f=cs((e==null?void 0:e.in)||t,0);f.setFullYear(r,0,o),f.setHours(0,0,0,0);const m=ad(f,e);return+n>=+u?r+1:+n>=+m?r:r-1}function SF(t,e){var u,f,m,g;const n=$m(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(m=n.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,a=rR(t,e),o=cs((e==null?void 0:e.in)||t,0);return o.setFullYear(a,0,r),o.setHours(0,0,0,0),ad(o,e)}function EF(t,e){const n=pr(t,e==null?void 0:e.in),r=+ad(n,e)-+SF(n,e);return Math.round(r/ZT)+1}function ht(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ws={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ht(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ht(n+1,2)},d(t,e){return ht(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ht(t.getHours()%12||12,e.length)},H(t,e){return ht(t.getHours(),e.length)},m(t,e){return ht(t.getMinutes(),e.length)},s(t,e){return ht(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return ht(a,e.length)}},Cl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},y1={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Ws.y(t,e)},Y:function(t,e,n,r){const a=rR(t,r),o=a>0?a:1-a;if(e==="YY"){const c=o%100;return ht(c,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):ht(o,e.length)},R:function(t,e){const n=tR(t);return ht(n,e.length)},u:function(t,e){const n=t.getFullYear();return ht(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ht(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ht(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ws.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ht(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const a=EF(t,r);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):ht(a,e.length)},I:function(t,e,n){const r=_F(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ht(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ws.d(t,e)},D:function(t,e,n){const r=wF(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ht(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const a=t.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return ht(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const a=t.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return ht(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return ht(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let a;switch(r===12?a=Cl.noon:r===0?a=Cl.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let a;switch(r>=17?a=Cl.evening:r>=12?a=Cl.afternoon:r>=4?a=Cl.morning:a=Cl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ws.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ws.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ht(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ht(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ws.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ws.s(t,e)},S:function(t,e){return Ws.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return x1(r);case"XXXX":case"XX":return to(r);case"XXXXX":case"XXX":default:return to(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return x1(r);case"xxxx":case"xx":return to(r);case"xxxxx":case"xxx":default:return to(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+b1(r,":");case"OOOO":default:return"GMT"+to(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+b1(r,":");case"zzzz":default:return"GMT"+to(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return ht(r,e.length)},T:function(t,e,n){return ht(+t,e.length)}};function b1(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=Math.trunc(r/60),o=r%60;return o===0?n+String(a):n+String(a)+e+ht(o,2)}function x1(t,e){return t%60===0?(t>0?"-":"+")+ht(Math.abs(t)/60,2):to(t,e)}function to(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=ht(Math.trunc(r/60),2),o=ht(r%60,2);return n+a+e+o}const w1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},aR=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},CF=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return w1(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",w1(r,e)).replace("{{time}}",aR(a,e))},NF={p:aR,P:CF},TF=/^D+$/,RF=/^Y+$/,IF=["D","DD","YY","YYYY"];function AF(t){return TF.test(t)}function DF(t){return RF.test(t)}function OF(t,e,n){const r=jF(t,e,n);if(console.warn(r),IF.includes(t))throw new RangeError(r)}function jF(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const MF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kF=/^'([^]*?)'?$/,LF=/''/g,FF=/[a-zA-Z]/;function Zt(t,e,n){var g,v,y,w,_,E,S,C;const r=$m(),a=(n==null?void 0:n.locale)??r.locale??xF,o=(n==null?void 0:n.firstWeekContainsDate)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(y=r.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((E=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:E.weekStartsOn)??r.weekStartsOn??((C=(S=r.locale)==null?void 0:S.options)==null?void 0:C.weekStartsOn)??0,u=pr(t,n==null?void 0:n.in);if(!V5(u))throw new RangeError("Invalid time value");let f=e.match(PF).map(N=>{const I=N[0];if(I==="p"||I==="P"){const T=NF[I];return T(N,a.formatLong)}return N}).join("").match(MF).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const I=N[0];if(I==="'")return{isToken:!1,value:UF(N)};if(y1[I])return{isToken:!0,value:N};if(I.match(FF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:N}});a.localize.preprocessor&&(f=a.localize.preprocessor(u,f));const m={firstWeekContainsDate:o,weekStartsOn:c,locale:a};return f.map(N=>{if(!N.isToken)return N.value;const I=N.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&DF(I)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&AF(I))&&OF(I,e,String(t));const T=y1[I[0]];return T(u,I,a.localize,m)}).join("")}function UF(t){const e=t.match(kF);return e?e[1].replace(LF,"'"):t}function _i(t,e){const n=()=>cs(e==null?void 0:e.in,NaN),a=zF(t);let o;if(a.date){const m=HF(a.date,2);o=qF(m.restDateString,m.year)}if(!o||isNaN(+o))return n();const c=+o;let u=0,f;if(a.time&&(u=WF(a.time),isNaN(u)))return n();if(a.timezone){if(f=GF(a.timezone),isNaN(f))return n()}else{const m=new Date(c+u),g=pr(0,e==null?void 0:e.in);return g.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),g.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),g}return pr(c+u+f,e==null?void 0:e.in)}const ch={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},BF=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,VF=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$F=/^([+-])(\d{2})(?::?(\d{2}))?$/;function zF(t){const e={},n=t.split(ch.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],ch.timeZoneDelimiter.test(e.date)&&(e.date=t.split(ch.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const a=ch.timezone.exec(r);a?(e.time=r.replace(a[1],""),e.timezone=a[1]):e.time=r}return e}function HF(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?a:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function qF(t,e){if(e===null)return new Date(NaN);const n=t.match(BF);if(!n)return new Date(NaN);const r=!!n[4],a=Cu(n[1]),o=Cu(n[2])-1,c=Cu(n[3]),u=Cu(n[4]),f=Cu(n[5])-1;if(r)return ZF(e,u,f)?YF(e,u,f):new Date(NaN);{const m=new Date(0);return!XF(e,o,c)||!QF(e,a)?new Date(NaN):(m.setUTCFullYear(e,o,Math.max(a,c)),m)}}function Cu(t){return t?parseInt(t):1}function WF(t){const e=t.match(VF);if(!e)return NaN;const n=Qv(e[1]),r=Qv(e[2]),a=Qv(e[3]);return JF(n,r,a)?n*eR+r*JT+a*1e3:NaN}function Qv(t){return t&&parseFloat(t.replace(",","."))||0}function GF(t){if(t==="Z")return 0;const e=t.match($F);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return e3(r,a)?n*(r*eR+a*JT):NaN}function YF(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const a=r.getUTCDay()||7,o=(e-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+o),r}const KF=[31,null,31,30,31,30,31,31,30,31,30,31];function sR(t){return t%400===0||t%4===0&&t%100!==0}function XF(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(KF[e]||(sR(t)?29:28))}function QF(t,e){return e>=1&&e<=(sR(t)?366:365)}function ZF(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function JF(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function e3(t,e){return e>=0&&e<=59}const t3={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},n3=(t,e,n)=>{let r;const a=t3[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},r3={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},a3={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},s3={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},i3={date:kl({formats:r3,defaultWidth:"full"}),time:kl({formats:a3,defaultWidth:"full"}),dateTime:kl({formats:s3,defaultWidth:"full"})},o3={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},l3={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},c3=(t,e,n,r)=>e.getHours()!==1?l3[t]:o3[t],u3={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},d3={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},f3={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},h3={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},m3={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},p3={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},g3=(t,e)=>Number(t)+"",v3={ordinalNumber:g3,era:ba({values:u3,defaultWidth:"wide"}),quarter:ba({values:d3,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:ba({values:f3,defaultWidth:"wide"}),day:ba({values:h3,defaultWidth:"wide"}),dayPeriod:ba({values:m3,defaultWidth:"wide",formattingValues:p3,defaultFormattingWidth:"wide"})},y3=/^(\d+)()?/i,b3=/\d+/i,x3={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},w3={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},_3={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},S3={any:[/1/i,/2/i,/3/i,/4/i]},E3={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},C3={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},N3={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},T3={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},R3={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},I3={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},A3={ordinalNumber:nR({matchPattern:y3,parsePattern:b3,valueCallback:function(t){return parseInt(t,10)}}),era:xa({matchPatterns:x3,defaultMatchWidth:"wide",parsePatterns:w3,defaultParseWidth:"any"}),quarter:xa({matchPatterns:_3,defaultMatchWidth:"wide",parsePatterns:S3,defaultParseWidth:"any",valueCallback:t=>t+1}),month:xa({matchPatterns:E3,defaultMatchWidth:"wide",parsePatterns:C3,defaultParseWidth:"any"}),day:xa({matchPatterns:N3,defaultMatchWidth:"wide",parsePatterns:T3,defaultParseWidth:"any"}),dayPeriod:xa({matchPatterns:R3,defaultMatchWidth:"any",parsePatterns:I3,defaultParseWidth:"any"})},us={code:"es",formatDistance:n3,formatLong:i3,formatRelative:c3,localize:v3,match:A3,options:{weekStartsOn:1,firstWeekContainsDate:1}};function ke(...t){return M5(G4(t))}const D3="dd/MM/yyyy";function iR(t){if(!t)return"";try{const e=typeof t=="string"?_i(t):t;return Zt(e,D3,{locale:us})}catch{return""}}const pn=x.forwardRef(({label:t,error:e,className:n="",...r},a)=>d.jsxs("div",{className:"w-full space-y-2",children:[t&&d.jsx("label",{htmlFor:r.id||r.name,className:"text-sm font-bold leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:t}),d.jsx("input",{ref:a,className:ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",e&&"border-destructive focus-visible:ring-destructive",n),...r}),e&&d.jsx("p",{className:"text-sm font-medium text-destructive",children:e})]})),Ut=x.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ke("rounded-lg border border-border bg-card text-card-foreground shadow-sm",t),...e}));Ut.displayName="Card";const Fn=x.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ke("flex flex-col space-y-1.5 p-6",t),...e}));Fn.displayName="CardHeader";const Un=x.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:ke("text-2xl font-semibold leading-none tracking-tight",t),...e}));Un.displayName="CardTitle";const oR=x.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:ke("text-sm text-muted-foreground",t),...e}));oR.displayName="CardDescription";const Ht=x.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ke("p-6 pt-0",t),...e}));Ht.displayName="CardContent";const lR=x.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ke("flex items-center p-6 pt-0",t),...e}));lR.displayName="CardFooter";const O3=()=>{};var _1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge=function(t,e){if(!t)throw cc(e)},cc=function(t){return new Error("Firebase Database ("+cR.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},j3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],c=t[n++],u=t[n++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},p0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],c=a+1<t.length,u=c?t[a+1]:0,f=a+2<t.length,m=f?t[a+2]:0,g=o>>2,v=(o&3)<<4|u>>4;let y=(u&15)<<2|m>>6,w=m&63;f||(w=64,c||(y=64)),r.push(n[g],n[v],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):j3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],u=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||u==null||m==null||v==null)throw new M3;const y=o<<2|u>>4;if(r.push(y),m!==64){const w=u<<4&240|m>>2;if(r.push(w),v!==64){const _=m<<6&192|v;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class M3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dR=function(t){const e=uR(t);return p0.encodeByteArray(e,!0)},Wh=function(t){return dR(t).replace(/\./g,"")},Gh=function(t){try{return p0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t){return fR(void 0,t)}function fR(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!k3(n)||(t[n]=fR(t[n],e[n]));return t}function k3(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=()=>L3().__FIREBASE_DEFAULTS__,U3=()=>{if(typeof process>"u"||typeof _1>"u")return;const t=_1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},B3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gh(t[1]);return e&&JSON.parse(e)},g0=()=>{try{return O3()||F3()||U3()||B3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hR=t=>{var e,n;return(n=(e=g0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},V3=t=>{const e=hR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mR=()=>{var t;return(t=g0())===null||t===void 0?void 0:t.config},pR=t=>{var e;return(e=g0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wh(JSON.stringify(n)),Wh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function z3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function H3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q3(){const t=zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function W3(){return cR.NODE_ADMIN===!0}function G3(){try{return typeof indexedDB=="object"}catch{return!1}}function Y3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="FirebaseError";class Si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=K3,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Od.prototype.create)}}class Od{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?X3(o,r):"Error",u=`${this.serviceName}: ${c} (${a}).`;return new Si(a,u,r)}}function X3(t,e){return t.replace(Q3,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const Q3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t){return JSON.parse(t)}function sn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=function(t){let e={},n={},r={},a="";try{const o=t.split(".");e=sd(Gh(o[0])||""),n=sd(Gh(o[1])||""),a=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:a}},Z3=function(t){const e=vR(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},J3=function(t){const e=vR(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ql(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Qy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yh(t,e,n){const r={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=e.call(n,t[a],a,t));return r}function xo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],c=e[a];if(S1(o)&&S1(c)){if(!xo(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function S1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Fu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)r[v]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let v=0;v<16;v++)r[v]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let v=16;v<80;v++){const y=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(y<<1|y>>>31)&4294967295}let a=this.chain_[0],o=this.chain_[1],c=this.chain_[2],u=this.chain_[3],f=this.chain_[4],m,g;for(let v=0;v<80;v++){v<40?v<20?(m=u^o&(c^u),g=1518500249):(m=o^c^u,g=1859775393):v<60?(m=o&c|u&(o|c),g=2400959708):(m=o^c^u,g=3395469782);const y=(a<<5|a>>>27)+m+f+g+r[v]&4294967295;f=u,u=c,c=(o<<30|o>>>2)&4294967295,o=a,a=y}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let a=0;const o=this.buf_;let c=this.inbuf_;for(;a<n;){if(c===0)for(;a<=r;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<n;)if(o[c]=e.charCodeAt(a),++c,++a,c===this.blockSize){this.compress_(o),c=0;break}}else for(;a<n;)if(o[c]=e[a],++c,++a,c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let a=0;a<5;a++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[a]>>o&255,++r;return e}}function tU(t,e){const n=new nU(t,e);return n.subscribe.bind(n)}class nU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rU(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Zv),a.error===void 0&&(a.error=Zv),a.complete===void 0&&(a.complete=Zv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zv(){}function zm(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);if(a>=55296&&a<=56319){const o=a-55296;r++,ge(r<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(r)-56320;a=65536+(o<<10)+c}a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):a<65536?(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Hm=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t){return t&&t._delegate?t._delegate:t}class wo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sU=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Dd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oU(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=no){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=no){return this.instances.has(e)}getOptions(e=no){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&c.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=no){return this.component?this.component.multipleInstances?e:no:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function iU(t){return t===no?void 0:t}function oU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(vt||(vt={}));const cU={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},uU=vt.INFO,dU={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},fU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=dU[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let y0=class{constructor(e){this.name=e,this._logLevel=uU,this._logHandler=fU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}};const hU=(t,e)=>e.some(n=>t instanceof n);let E1,C1;function mU(){return E1||(E1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pU(){return C1||(C1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yR=new WeakMap,Zy=new WeakMap,bR=new WeakMap,Jv=new WeakMap,b0=new WeakMap;function gU(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(ri(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&yR.set(n,t)}).catch(()=>{}),b0.set(e,t),e}function vU(t){if(Zy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});Zy.set(t,e)}let Jy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yU(t){Jy=t(Jy)}function bU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ey(this),e,...n);return bR.set(r,e.sort?e.sort():[e]),ri(r)}:pU().includes(t)?function(...e){return t.apply(ey(this),e),ri(yR.get(this))}:function(...e){return ri(t.apply(ey(this),e))}}function xU(t){return typeof t=="function"?bU(t):(t instanceof IDBTransaction&&vU(t),hU(t,mU())?new Proxy(t,Jy):t)}function ri(t){if(t instanceof IDBRequest)return gU(t);if(Jv.has(t))return Jv.get(t);const e=xU(t);return e!==t&&(Jv.set(t,e),b0.set(e,t)),e}const ey=t=>b0.get(t);function wU(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),u=ri(c);return r&&c.addEventListener("upgradeneeded",f=>{r(ri(c.result),f.oldVersion,f.newVersion,ri(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const _U=["get","getKey","getAll","getAllKeys","count"],SU=["put","add","delete","clear"],ty=new Map;function N1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ty.get(e))return ty.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=SU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||_U.includes(n)))return;const o=async function(c,...u){const f=this.transaction(c,a?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),a&&f.done]))[0]};return ty.set(e,o),o}yU(t=>({...t,get:(e,n,r)=>N1(e,n)||t.get(e,n,r),has:(e,n)=>!!N1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const eb="@firebase/app",T1="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new y0("@firebase/app"),NU="@firebase/app-compat",TU="@firebase/analytics-compat",RU="@firebase/analytics",IU="@firebase/app-check-compat",AU="@firebase/app-check",DU="@firebase/auth",OU="@firebase/auth-compat",jU="@firebase/database",MU="@firebase/data-connect",PU="@firebase/database-compat",kU="@firebase/functions",LU="@firebase/functions-compat",FU="@firebase/installations",UU="@firebase/installations-compat",BU="@firebase/messaging",VU="@firebase/messaging-compat",$U="@firebase/performance",zU="@firebase/performance-compat",HU="@firebase/remote-config",qU="@firebase/remote-config-compat",WU="@firebase/storage",GU="@firebase/storage-compat",YU="@firebase/firestore",KU="@firebase/vertexai",XU="@firebase/firestore-compat",QU="firebase",ZU="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="[DEFAULT]",JU={[eb]:"fire-core",[NU]:"fire-core-compat",[RU]:"fire-analytics",[TU]:"fire-analytics-compat",[AU]:"fire-app-check",[IU]:"fire-app-check-compat",[DU]:"fire-auth",[OU]:"fire-auth-compat",[jU]:"fire-rtdb",[MU]:"fire-data-connect",[PU]:"fire-rtdb-compat",[kU]:"fire-fn",[LU]:"fire-fn-compat",[FU]:"fire-iid",[UU]:"fire-iid-compat",[BU]:"fire-fcm",[VU]:"fire-fcm-compat",[$U]:"fire-perf",[zU]:"fire-perf-compat",[HU]:"fire-rc",[qU]:"fire-rc-compat",[WU]:"fire-gcs",[GU]:"fire-gcs-compat",[YU]:"fire-fst",[XU]:"fire-fst-compat",[KU]:"fire-vertex","fire-js":"fire-js",[QU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new Map,eB=new Map,nb=new Map;function R1(t,e){try{t.container.addComponent(e)}catch(n){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wl(t){const e=t.name;if(nb.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;nb.set(e,t);for(const n of Kh.values())R1(n,t);for(const n of eB.values())R1(n,t);return!0}function x0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ai=new Od("app","Firebase",tB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=ZU;function xR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:tb,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw ai.create("bad-app-name",{appName:String(a)});if(n||(n=mR()),!n)throw ai.create("no-options");const o=Kh.get(a);if(o){if(xo(n,o.options)&&xo(r,o.config))return o;throw ai.create("duplicate-app",{appName:a})}const c=new lU(a);for(const f of nb.values())c.addComponent(f);const u=new nB(n,r,c);return Kh.set(a,u),u}function wR(t=tb){const e=Kh.get(t);if(!e&&t===tb&&mR())return xR();if(!e)throw ai.create("no-app",{appName:t});return e}function si(t,e,n){var r;let a=(r=JU[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${a}" with version "${e}":`];o&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(u.join(" "));return}Wl(new wo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB="firebase-heartbeat-database",aB=1,id="firebase-heartbeat-store";let ny=null;function _R(){return ny||(ny=wU(rB,aB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(id)}catch(n){console.warn(n)}}}}).catch(t=>{throw ai.create("idb-open",{originalErrorMessage:t.message})})),ny}async function sB(t){try{const n=(await _R()).transaction(id),r=await n.objectStore(id).get(SR(t));return await n.done,r}catch(e){if(e instanceof Si)ds.warn(e.message);else{const n=ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(n.message)}}}async function I1(t,e){try{const r=(await _R()).transaction(id,"readwrite");await r.objectStore(id).put(e,SR(t)),await r.done}catch(n){if(n instanceof Si)ds.warn(n.message);else{const r=ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ds.warn(r.message)}}}function SR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=1024,oB=30;class lB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=A1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>oB){const c=dB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ds.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=A1(),{heartbeatsToSend:r,unsentEntries:a}=cB(this._heartbeatsCache.heartbeats),o=Wh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ds.warn(n),""}}}function A1(){return new Date().toISOString().substring(0,10)}function cB(t,e=iB){const n=[];let r=t.slice();for(const a of t){const o=n.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),D1(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),D1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G3()?Y3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return I1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return I1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function D1(t){return Wh(JSON.stringify({version:2,heartbeats:t})).length}function dB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t){Wl(new wo("platform-logger",e=>new EU(e),"PRIVATE")),Wl(new wo("heartbeat",e=>new lB(e),"PRIVATE")),si(eb,T1,t),si(eb,T1,"esm2017"),si("fire-js","")}fB("");var wa=function(){return wa=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},wa.apply(this,arguments)};function jd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function hB(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,o;r<a;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function ER(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mB=ER,CR=new Od("auth","Firebase",ER());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new y0("@firebase/auth");function pB(t,...e){Xh.logLevel<=vt.WARN&&Xh.warn(`Auth (${dc}): ${t}`,...e)}function Rh(t,...e){Xh.logLevel<=vt.ERROR&&Xh.error(`Auth (${dc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t,...e){throw w0(t,...e)}function Ca(t,...e){return w0(t,...e)}function NR(t,e,n){const r=Object.assign(Object.assign({},mB()),{[e]:n});return new Od("auth","Firebase",r).create(e,{appName:t.name})}function ii(t){return NR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function w0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CR.create(t,...e)}function Le(t,e,...n){if(!t)throw w0(e,...n)}function es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rh(e),new Error(e)}function fs(t,e){t||es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gB(){return O1()==="http:"||O1()==="https:"}function O1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gB()||H3()||"connection"in navigator)?navigator.onLine:!0}function yB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.shortDelay=e,this.longDelay=n,fs(n>e,"Short delay should be less than long delay!"),this.isMobile=v0()||gR()}get(){return vB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t,e){fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=new Md(3e4,6e4);function jo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ei(t,e,n,r,a={}){return RR(t,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const u=uc(Object.assign({key:t.config.apiKey},c)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:f},o);return z3()||(m.referrerPolicy="no-referrer"),TR.fetch()(IR(t,t.config.apiHost,n,u),m)})}async function RR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bB),e);try{const a=new _B(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw uh(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[f,m]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw uh(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw uh(t,"user-disabled",c);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw NR(t,g,m);Jr(t,g)}}catch(a){if(a instanceof Si)throw a;Jr(t,"network-request-failed",{message:String(a)})}}async function qm(t,e,n,r,a={}){const o=await Ei(t,e,n,r,a);return"mfaPendingCredential"in o&&Jr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function IR(t,e,n,r){const a=`${e}${n}?${r}`;return t.config.emulator?_0(t.config,a):`${t.config.apiScheme}://${a}`}function wB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _B{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ca(this.auth,"network-request-failed")),xB.get())})}}function uh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Ca(t,e,r);return a.customData._tokenResponse=n,a}function j1(t){return t!==void 0&&t.enterprise!==void 0}class SB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function EB(t,e){return Ei(t,"GET","/v2/recaptchaConfig",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CB(t,e){return Ei(t,"POST","/v1/accounts:delete",e)}async function AR(t,e){return Ei(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NB(t,e=!1){const n=gn(t),r=await n.getIdToken(e),a=S0(r);Le(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:Wu(ry(a.auth_time)),issuedAtTime:Wu(ry(a.iat)),expirationTime:Wu(ry(a.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ry(t){return Number(t)*1e3}function S0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const a=Gh(n);return a?JSON.parse(a):(Rh("Failed to decode base64 JWT payload"),null)}catch(a){return Rh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function M1(t){const e=S0(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Si&&TB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function TB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(t){var e;const n=t.auth,r=await t.getIdToken(),a=await od(t,AR(n,{idToken:r}));Le(a==null?void 0:a.users.length,n,"internal-error");const o=a.users[0];t._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?DR(o.providerUserInfo):[],u=AB(t.providerData,c),f=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),g=f?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ab(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function IB(t){const e=gn(t);await Qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AB(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function DR(t){return t.map(e=>{var{providerId:n}=e,r=jd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DB(t,e){const n=await RR(t,{},async()=>{const r=uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,c=IR(t,a,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",TR.fetch()(c,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OB(t,e){return Ei(t,"POST","/v2/accounts:revokeToken",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=M1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await DB(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,c=new Ll;return r&&(Le(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Le(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Le(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ll,this.toJSON())}_performRefresh(){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ts{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,o=jd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ab(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await od(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NB(this,e)}reload(){return IB(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject(ii(this.auth));const e=await this.getIdToken();return await od(this,CB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,o,c,u,f,m,g;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(a=n.email)!==null&&a!==void 0?a:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(c=n.photoURL)!==null&&c!==void 0?c:void 0,E=(u=n.tenantId)!==null&&u!==void 0?u:void 0,S=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,C=(m=n.createdAt)!==null&&m!==void 0?m:void 0,N=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:I,emailVerified:T,isAnonymous:R,providerData:D,stsTokenManager:j}=n;Le(I&&j,e,"internal-error");const P=Ll.fromJSON(this.name,j);Le(typeof I=="string",e,"internal-error"),Gs(v,e.name),Gs(y,e.name),Le(typeof T=="boolean",e,"internal-error"),Le(typeof R=="boolean",e,"internal-error"),Gs(w,e.name),Gs(_,e.name),Gs(E,e.name),Gs(S,e.name),Gs(C,e.name),Gs(N,e.name);const F=new ts({uid:I,auth:e,email:y,emailVerified:T,displayName:v,isAnonymous:R,photoURL:_,phoneNumber:w,tenantId:E,stsTokenManager:P,createdAt:C,lastLoginAt:N});return D&&Array.isArray(D)&&(F.providerData=D.map(B=>Object.assign({},B))),S&&(F._redirectEventId=S),F}static async _fromIdTokenResponse(e,n,r=!1){const a=new Ll;a.updateFromServerResponse(n);const o=new ts({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Qh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Le(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?DR(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),u=new Ll;u.updateFromIdToken(r);const f=new ts({uid:a.localId,auth:e,stsTokenManager:u,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new ab(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new Map;function ns(t){fs(t instanceof Function,"Expected a class definition");let e=P1.get(t);return e?(fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,P1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OR.type="NONE";const k1=OR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t,e,n){return`firebase:${t}:${e}:${n}`}class Fl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Ih(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ih("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ts._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fl(ns(k1),e,r);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||ns(k1);const c=Ih(r,e.config.apiKey,e.name);let u=null;for(const m of n)try{const g=await m._get(c);if(g){const v=ts._fromJSON(e,g);m!==o&&(u=v),o=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Fl(o,e,r):(o=f[0],u&&await o._set(c,u.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Fl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FR(e))return"Blackberry";if(UR(e))return"Webos";if(MR(e))return"Safari";if((e.includes("chrome/")||PR(e))&&!e.includes("edge/"))return"Chrome";if(LR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jR(t=zn()){return/firefox\//i.test(t)}function MR(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PR(t=zn()){return/crios\//i.test(t)}function kR(t=zn()){return/iemobile/i.test(t)}function LR(t=zn()){return/android/i.test(t)}function FR(t=zn()){return/blackberry/i.test(t)}function UR(t=zn()){return/webos/i.test(t)}function E0(t=zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jB(t=zn()){var e;return E0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MB(){return q3()&&document.documentMode===10}function BR(t=zn()){return E0(t)||LR(t)||UR(t)||FR(t)||/windows phone/i.test(t)||kR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t,e=[]){let n;switch(t){case"Browser":n=L1(zn());break;case"Worker":n=`${L1(zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,u)=>{try{const f=e(o);c(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kB(t,e={}){return Ei(t,"GET","/v2/passwordPolicy",jo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB=6;class FB{constructor(e){var n,r,a,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:LB,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,o,c,u;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(u=f.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F1(this),this.idTokenSubscription=new F1(this),this.beforeStateQueue=new PB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await Fl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await AR(this,{idToken:e}),r=await ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===u)&&(f!=null&&f.user)&&(a=f.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject(ii(this));const n=e?gn(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject(ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject(ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kB(this),n=new FB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Od("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await OB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ns(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Fl.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fc(t){return gn(t)}class F1{constructor(e){this.auth=e,this.observer=null,this.addObserver=tU(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BB(t){Wm=t}function $R(t){return Wm.loadJS(t)}function VB(){return Wm.recaptchaEnterpriseScript}function $B(){return Wm.gapiScript}function zB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class HB{constructor(){this.enterprise=new qB}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qB{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const WB="recaptcha-enterprise",zR="NO_RECAPTCHA";class GB{constructor(e){this.type=WB,this.auth=fc(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,u)=>{EB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new SB(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(f=>{u(f)})})}function a(o,c,u){const f=window.grecaptcha;j1(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(zR)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HB().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(u=>{if(!n&&j1(window.grecaptcha))a(u,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=VB();f.length!==0&&(f+=u),$R(f).then(()=>{a(u,o,c)}).catch(m=>{c(m)})}}).catch(u=>{c(u)})})}}async function U1(t,e,n,r=!1,a=!1){const o=new GB(t);let c;if(a)c=zR;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function B1(t,e,n,r,a){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await U1(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await U1(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(t,e){const n=x0(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(xo(o,e??{}))return a;Jr(a,"already-initialized")}return n.initialize({options:e})}function KB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ns);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function XB(t,e,n){const r=fc(t);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=HR(e),{host:c,port:u}=QB(e),f=u===null?"":`:${u}`,m={url:`${o}//${c}${f}/`},g=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(xo(m,r.config.emulator)&&xo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,ZB()}function HR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QB(t){const e=HR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:V1(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:V1(c)}}}function V1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,n){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}async function JB(t,e){return Ei(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(t,e){return qm(t,"POST","/v1/accounts:signInWithPassword",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(t,e){return qm(t,"POST","/v1/accounts:signInWithEmailLink",jo(t,e))}async function n6(t,e){return qm(t,"POST","/v1/accounts:signInWithEmailLink",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends C0{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new ld(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ld(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return B1(e,n,"signInWithPassword",e6);case"emailLink":return t6(e,{email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return B1(e,r,"signUpPassword",JB);case"emailLink":return n6(e,{idToken:n,email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t,e){return qm(t,"POST","/v1/accounts:signInWithIdp",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="http://localhost";class _o extends C0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,o=jd(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new _o(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ul(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ul(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ul(e,n)}buildRequest(){const e={requestUri:r6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s6(t){const e=Lu(Fu(t)).link,n=e?Lu(Fu(e)).deep_link_id:null,r=Lu(Fu(t)).deep_link_id;return(r?Lu(Fu(r)).link:null)||r||n||e||t}class N0{constructor(e){var n,r,a,o,c,u;const f=Lu(Fu(e)),m=(n=f.apiKey)!==null&&n!==void 0?n:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,v=a6((a=f.mode)!==null&&a!==void 0?a:null);Le(m&&g&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=g,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=f.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(u=f.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=s6(e);try{return new N0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this.providerId=hc.PROVIDER_ID}static credential(e,n){return ld._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=N0.parseLink(n);return Le(r,"argument-error"),ld._fromEmailAndCode(e,r.code,r.tenantId)}}hc.PROVIDER_ID="password";hc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends qR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Pd{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Pd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _o._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xs.credential(n,r)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Pd{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Pd{constructor(){super("twitter.com")}static credential(e,n){return _o._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await ts._fromIdTokenResponse(e,r,a),c=$1(r);return new Gl({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=$1(r);return new Gl({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function $1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh extends Si{constructor(e,n,r,a){var o;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Zh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Zh(e,n,r,a)}}function WR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Zh._fromErrorAndOperation(t,o,e,r):o})}async function i6(t,e,n=!1){const r=await od(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(t,e,n=!1){const{auth:r}=t;if(Gr(r.app))return Promise.reject(ii(r));const a="reauthenticate";try{const o=await od(t,WR(r,a,e,t),n);Le(o.idToken,r,"internal-error");const c=S0(o.idToken);Le(c,r,"internal-error");const{sub:u}=c;return Le(t.uid===u,r,"user-mismatch"),Gl._forOperation(t,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Jr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(t,e,n=!1){if(Gr(t.app))return Promise.reject(ii(t));const r="signIn",a=await WR(t,r,e),o=await Gl._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}async function l6(t,e){return GR(fc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(t){const e=fc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function u6(t,e,n){return Gr(t.app)?Promise.reject(ii(t)):l6(gn(t),hc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&c6(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(t,e){return gn(t).setPersistence(e)}function f6(t,e,n,r){return gn(t).onIdTokenChanged(e,n,r)}function h6(t,e,n){return gn(t).beforeAuthStateChanged(e,n)}function m6(t,e,n,r){return gn(t).onAuthStateChanged(e,n,r)}function p6(t){return gn(t).signOut()}const Jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=1e3,v6=10;class KR extends YR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,u,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);MB()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,v6):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},g6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KR.type="LOCAL";const XR=KR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR extends YR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QR.type="SESSION";const T0=QR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Gm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const u=Array.from(c).map(async m=>m(n.origin,o)),f=await y6(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((u,f)=>{const m=R0("",20);a.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(v){const y=v;if(y.data.eventId===m)switch(y.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(y.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(){return window}function x6(t){Na().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){return typeof Na().WorkerGlobalScope<"u"&&typeof Na().importScripts=="function"}async function w6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function S6(){return ZR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="firebaseLocalStorageDb",E6=1,em="firebaseLocalStorage",eI="fbase_key";class kd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ym(t,e){return t.transaction([em],e?"readwrite":"readonly").objectStore(em)}function C6(){const t=indexedDB.deleteDatabase(JR);return new kd(t).toPromise()}function sb(){const t=indexedDB.open(JR,E6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(em,{keyPath:eI})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(em)?e(r):(r.close(),await C6(),e(await sb()))})})}async function z1(t,e,n){const r=Ym(t,!0).put({[eI]:e,value:n});return new kd(r).toPromise()}async function N6(t,e){const n=Ym(t,!1).get(e),r=await new kd(n).toPromise();return r===void 0?null:r.value}function H1(t,e){const n=Ym(t,!0).delete(e);return new kd(n).toPromise()}const T6=800,R6=3;class tI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>R6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gm._getInstance(S6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await w6(),!this.activeServiceWorker)return;this.sender=new b6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sb();return await z1(e,Jh,"1"),await H1(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>z1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>N6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>H1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Ym(a,!1).getAll();return new kd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tI.type="LOCAL";const I6=tI;new Md(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t,e){return e?ns(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0 extends C0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function D6(t){return GR(t.auth,new I0(t),t.bypassAuthState)}function O6(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),o6(n,new I0(t),t.bypassAuthState)}async function j6(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),i6(n,new I0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:c,type:u}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return D6;case"linkViaPopup":case"linkViaRedirect":return j6;case"reauthViaPopup":case"reauthViaRedirect":return O6;default:Jr(this.auth,"internal-error")}}resolve(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=new Md(2e3,1e4);class Ol extends nI{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Ol.currentPopupAction&&Ol.currentPopupAction.cancel(),Ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const e=R0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ca(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ca(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ca(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M6.get())};e()}}Ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="pendingRedirect",Ah=new Map;class k6 extends nI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const r=await L6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L6(t,e){const n=B6(e),r=U6(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function F6(t,e){Ah.set(t._key(),e)}function U6(t){return ns(t._redirectPersistence)}function B6(t){return Ih(P6,t.config.apiKey,t.name)}async function V6(t,e,n=!1){if(Gr(t.app))return Promise.reject(ii(t));const r=fc(t),a=A6(r,e),c=await new k6(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=10*60*1e3;class z6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!H6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rI(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ca(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$6&&this.cachedEventUids.clear(),this.cachedEventUids.has(q1(e))}saveEventToCache(e){this.cachedEventUids.add(q1(e)),this.lastProcessedEventTime=Date.now()}}function q1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function H6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q6(t,e={}){return Ei(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G6=/^https?/;async function Y6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await q6(t);for(const n of e)try{if(K6(n))return}catch{}Jr(t,"unauthorized-domain")}function K6(t){const e=rb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!G6.test(n))return!1;if(W6.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=new Md(3e4,6e4);function W1(){const t=Na().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Q6(t){return new Promise((e,n)=>{var r,a,o;function c(){W1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W1(),n(Ca(t,"network-request-failed"))},timeout:X6.get()})}if(!((a=(r=Na().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Na().gapi)===null||o===void 0)&&o.load)c();else{const u=zB("iframefcb");return Na()[u]=()=>{gapi.load?c():n(Ca(t,"network-request-failed"))},$R(`${$B()}?onload=${u}`).catch(f=>n(f))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function Z6(t){return Dh=Dh||Q6(t),Dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=new Md(5e3,15e3),eV="__/auth/iframe",tV="emulator/auth/iframe",nV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aV(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_0(e,tV):`https://${t.config.authDomain}/${eV}`,r={apiKey:e.apiKey,appName:t.name,v:dc},a=rV.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${uc(r).slice(1)}`}async function sV(t){const e=await Z6(t),n=Na().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:aV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nV,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=Ca(t,"network-request-failed"),u=Na().setTimeout(()=>{o(c)},J6.get());function f(){Na().clearTimeout(u),a(r)}r.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oV=500,lV=600,cV="_blank",uV="http://localhost";class G1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dV(t,e,n,r=oV,a=lV){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f=Object.assign(Object.assign({},iV),{width:r.toString(),height:a.toString(),top:o,left:c}),m=zn().toLowerCase();n&&(u=PR(m)?cV:n),jR(m)&&(e=e||uV,f.scrollbars="yes");const g=Object.entries(f).reduce((y,[w,_])=>`${y}${w}=${_},`,"");if(jB(m)&&u!=="_self")return fV(e||"",u),new G1(null);const v=window.open(e||"",u,g);Le(v,t,"popup-blocked");try{v.focus()}catch{}return new G1(v)}function fV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="__/auth/handler",mV="emulator/auth/handler",pV=encodeURIComponent("fac");async function Y1(t,e,n,r,a,o){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:dc,eventId:a};if(e instanceof qR){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Qy(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))c[g]=v}if(e instanceof Pd){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const u=c;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const f=await t._getAppCheckToken(),m=f?`#${pV}=${encodeURIComponent(f)}`:"";return`${gV(t)}?${uc(u).slice(1)}${m}`}function gV({config:t}){return t.emulator?_0(t,mV):`https://${t.authDomain}/${hV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="webStorageSupport";class vV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T0,this._completeRedirectFn=V6,this._overrideRedirectResult=F6}async _openPopup(e,n,r,a){var o;fs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await Y1(e,n,r,rb(),a);return dV(e,c,R0())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await Y1(e,n,r,rb(),a);return x6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(fs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sV(e),r=new z6(e);return n.register("authEvent",a=>(Le(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ay,{type:ay},a=>{var o;const c=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[ay];c!==void 0&&n(!!c),Jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Y6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BR()||MR()||E0()}}const yV=vV;var K1="@firebase/auth",X1="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wV(t){Wl(new wo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=r.options;Le(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VR(t)},m=new UB(r,a,o,f);return KB(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wl(new wo("auth-internal",e=>{const n=fc(e.getProvider("auth").getImmediate());return(r=>new bV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(K1,X1,xV(t)),si(K1,X1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=5*60,SV=pR("authIdTokenMaxAge")||_V;let Q1=null;const EV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SV)return;const a=n==null?void 0:n.token;Q1!==a&&(Q1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function CV(t=wR()){const e=x0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=YB(t,{popupRedirectResolver:yV,persistence:[I6,XR,T0]}),r=pR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=EV(o.toString());h6(n,c,()=>c(n.currentUser)),f6(n,u=>c(u))}}const a=hR("auth");return a&&XB(n,`http://${a}`),n}function NV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}BB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Ca("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",NV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wV("Browser");var TV="firebase",RV="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si(TV,RV,"app");var Z1={};const J1="@firebase/database",eC="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aI="";function IV(t){aI=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),sn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:sd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Da(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new AV(e)}}catch{}return new DV},fo=sI("localStorage"),OV=sI("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new y0("@firebase/database"),jV=function(){let t=1;return function(){return t++}}(),iI=function(t){const e=aU(t),n=new eU;n.update(e);const r=n.digest();return p0.encodeByteArray(r)},Ld=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ld.apply(null,r):typeof r=="object"?e+=sn(r):e+=r,e+=" "}return e};let Gu=null,tC=!0;const MV=function(t,e){ge(!0,"Can't turn on custom loggers persistently."),Bl.logLevel=vt.VERBOSE,Gu=Bl.log.bind(Bl)},_n=function(...t){if(tC===!0&&(tC=!1,Gu===null&&OV.get("logging_enabled")===!0&&MV()),Gu){const e=Ld.apply(null,t);Gu(e)}},Fd=function(t){return function(...e){_n(t,...e)}},ib=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ld(...t);Bl.error(e)},hs=function(...t){const e=`FIREBASE FATAL ERROR: ${Ld(...t)}`;throw Bl.error(e),new Error(e)},Vn=function(...t){const e="FIREBASE WARNING: "+Ld(...t);Bl.warn(e)},PV=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Vn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},A0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},kV=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},So="[MIN_NAME]",fi="[MAX_NAME]",Mo=function(t,e){if(t===e)return 0;if(t===So||e===fi)return-1;if(e===So||t===fi)return 1;{const n=nC(t),r=nC(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},LV=function(t,e){return t===e?0:t<e?-1:1},Nu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+sn(e))},D0=function(t){if(typeof t!="object"||t===null)return sn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=sn(e[r]),n+=":",n+=D0(t[e[r]]);return n+="}",n},oI=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let a=0;a<n;a+=e)a+e>n?r.push(t.substring(a,n)):r.push(t.substring(a,a+e));return r};function Sn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const lI=function(t){ge(!A0(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let a,o,c,u,f;t===0?(o=0,c=0,a=1/t===-1/0?1:0):(a=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=u+r,c=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(o=0,c=Math.round(t/Math.pow(2,1-r-n))));const m=[];for(f=n;f;f-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(f=e;f;f-=1)m.push(o%2?1:0),o=Math.floor(o/2);m.push(a?1:0),m.reverse();const g=m.join("");let v="";for(f=0;f<64;f+=8){let y=parseInt(g.substr(f,8),2).toString(16);y.length===1&&(y="0"+y),v=v+y}return v.toLowerCase()},FV=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},UV=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function BV(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const VV=new RegExp("^-?(0*)\\d{1,10}$"),$V=-2147483648,zV=2147483647,nC=function(t){if(VV.test(t)){const e=Number(t);if(e>=$V&&e<=zV)return e}return null},mc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Vn("Exception was thrown by user callback.",n),e},Math.floor(0))}},HV=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yu=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Gr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Vn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(_n("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vn(e)}}class Oh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Oh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="5",cI="v",uI="s",dI="r",fI="f",hI=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mI="ls",pI="p",ob="ac",gI="websocket",vI="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,r,a,o=!1,c="",u=!1,f=!1,m=null){this.secure=n,this.namespace=r,this.webSocketOnly=a,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=f,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function GV(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function bI(t,e,n){ge(typeof e=="string","typeof type must == string"),ge(typeof n=="object","typeof params must == object");let r;if(e===gI)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===vI)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);GV(t)&&(n.ns=t.namespace);const a=[];return Sn(n,(o,c)=>{a.push(o+"="+c)}),r+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.counters_={}}incrementCounter(e,n=1){Da(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return P3(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy={},iy={};function j0(t){const e=t.toString();return sy[e]||(sy[e]=new YV),sy[e]}function KV(t,e){const n=t.toString();return iy[n]||(iy[n]=e()),iy[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<r.length;++a)r[a]&&mc(()=>{this.onMessage_(r[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="start",QV="close",ZV="pLPCommand",JV="pRTLPCB",xI="id",wI="pw",_I="ser",e8="cb",t8="seg",n8="ts",r8="d",a8="dframe",SI=1870,EI=30,s8=SI-EI,i8=25e3,o8=3e4;class jl{constructor(e,n,r,a,o,c,u){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=a,this.authToken=o,this.transportSessionId=c,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fd(e),this.stats_=j0(n),this.urlFn=f=>(this.appCheckToken&&(f[ob]=this.appCheckToken),bI(n,vI,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new XV(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(o8)),kV(()=>{if(this.isClosed_)return;this.scriptTagHolder=new M0((...o)=>{const[c,u,f,m,g]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===rC)this.id=u,this.password=f;else if(c===QV)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...o)=>{const[c,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,u)},()=>{this.onClosed_()},this.urlFn);const r={};r[rC]="t",r[_I]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[e8]=this.scriptTagHolder.uniqueCallbackIdentifier),r[cI]=O0,this.transportSessionId&&(r[uI]=this.transportSessionId),this.lastSessionId&&(r[mI]=this.lastSessionId),this.applicationId&&(r[pI]=this.applicationId),this.appCheckToken&&(r[ob]=this.appCheckToken),typeof location<"u"&&location.hostname&&hI.test(location.hostname)&&(r[dI]=fI);const a=this.urlFn(r);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){jl.forceAllow_=!0}static forceDisallow(){jl.forceDisallow_=!0}static isAvailable(){return jl.forceAllow_?!0:!jl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!FV()&&!UV()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=sn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=dR(n),a=oI(r,s8);for(let o=0;o<a.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[a8]="t",r[xI]=e,r[wI]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=sn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class M0{constructor(e,n,r,a){this.onDisconnect=r,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=jV(),window[ZV+this.uniqueCallbackIdentifier]=e,window[JV+this.uniqueCallbackIdentifier]=n,this.myIFrame=M0.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(u){_n("frame writing exception"),u.stack&&_n(u.stack),_n(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||_n("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[xI]=this.myID,e[wI]=this.myPW,e[_I]=this.currentSerial;let n=this.urlFn(e),r="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+EI+r.length<=SI;){const c=this.pendingSegs.shift();r=r+"&"+t8+a+"="+c.seg+"&"+n8+a+"="+c.ts+"&"+r8+a+"="+c.d,a++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(r,Math.floor(i8)),o=()=>{clearTimeout(a),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const a=r.readyState;(!a||a==="loaded"||a==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{_n("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=16384,c8=45e3;let tm=null;typeof MozWebSocket<"u"?tm=MozWebSocket:typeof WebSocket<"u"&&(tm=WebSocket);class Yr{constructor(e,n,r,a,o,c,u){this.connId=e,this.applicationId=r,this.appCheckToken=a,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fd(this.connId),this.stats_=j0(n),this.connURL=Yr.connectionURL_(n,c,u,a,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,a,o){const c={};return c[cI]=O0,typeof location<"u"&&location.hostname&&hI.test(location.hostname)&&(c[dI]=fI),n&&(c[uI]=n),r&&(c[mI]=r),a&&(c[ob]=a),o&&(c[pI]=o),bI(e,gI,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fo.set("previous_websocket_failure",!0);try{let r;W3(),this.mySock=new tm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const a=r.message||r.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const a=r.message||r.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Yr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&tm!==null&&!Yr.forceDisallow_}static previouslyFailed(){return fo.isInMemoryStorage||fo.get("previous_websocket_failure")===!0}markConnectionHealthy(){fo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=sd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ge(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=sn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=oI(n,l8);r.length>1&&this.sendString_(String(r.length));for(let a=0;a<r.length;a++)this.sendString_(r[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(c8))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Yr.responsesRequiredToBeHealthy=2;Yr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{static get ALL_TRANSPORTS(){return[jl,Yr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Yr&&Yr.isAvailable();let r=n&&!Yr.previouslyFailed();if(e.webSocketOnly&&(n||Vn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Yr];else{const a=this.transports_=[];for(const o of cd.ALL_TRANSPORTS)o&&o.isAvailable()&&a.push(o);cd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}cd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8=6e4,d8=5e3,f8=10*1024,h8=100*1024,oy="t",aC="d",m8="s",sC="r",p8="e",iC="o",oC="a",lC="n",cC="p",g8="h";class v8{constructor(e,n,r,a,o,c,u,f,m,g){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=a,this.authToken_=o,this.onMessage_=c,this.onReady_=u,this.onDisconnect_=f,this.onKill_=m,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fd("c:"+this.id+":"),this.transportManager_=new cd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=Yu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>h8?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>f8?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(oy in e){const n=e[oy];n===oC?this.upgradeIfSecondaryHealthy_():n===sC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===iC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Nu("t",e),r=Nu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:cC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:oC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:lC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Nu("t",e),r=Nu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Nu(oy,e);if(aC in e){const r=e[aC];if(n===g8){const a=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(n===lC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===m8?this.onConnectionShutdown_(r):n===sC?this.onReset_(r):n===p8?ib("Server Error: "+r):n===iC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ib("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),O0!==r&&Vn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Yu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(u8))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(d8))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:cC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{put(e,n,r,a){}merge(e,n,r,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.allowedEvents_=e,this.listeners_={},ge(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let a=0;a<r.length;a++)r[a].callback.apply(r[a].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const a=this.getInitialEvent(e);a&&n.apply(r,a)}off(e,n,r){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let o=0;o<a.length;o++)if(a[o].callback===n&&(!r||r===a[o].context)){a.splice(o,1);return}}validateEventType_(e){ge(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm extends NI{static getInstance(){return new nm}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!v0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ge(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=32,dC=768;class mt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[r]=this.pieces_[a],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function lt(){return new mt("")}function et(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function hi(t){return t.pieces_.length-t.pieceNum_}function Nt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new mt(t.pieces_,e)}function P0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function y8(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ud(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function TI(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new mt(e,0)}function Bt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof mt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let a=0;a<r.length;a++)r[a].length>0&&n.push(r[a])}return new mt(n,0)}function Xe(t){return t.pieceNum_>=t.pieces_.length}function Bn(t,e){const n=et(t),r=et(e);if(n===null)return e;if(n===r)return Bn(Nt(t),Nt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function b8(t,e){const n=ud(t,0),r=ud(e,0);for(let a=0;a<n.length&&a<r.length;a++){const o=Mo(n[a],r[a]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function RI(t,e){if(hi(t)!==hi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Mr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(hi(t)>hi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class x8{constructor(e,n){this.errorPrefix_=n,this.parts_=ud(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Hm(this.parts_[r]);II(this)}}function w8(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Hm(e),II(t)}function _8(t){const e=t.parts_.pop();t.byteLength_-=Hm(e),t.parts_.length>0&&(t.byteLength_-=1)}function II(t){if(t.byteLength_>dC)throw new Error(t.errorPrefix_+"has a key path longer than "+dC+" bytes ("+t.byteLength_+").");if(t.parts_.length>uC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uC+") or object contains a cycle "+ro(t))}function ro(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0 extends NI{static getInstance(){return new k0}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ge(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=1e3,S8=60*5*1e3,fC=30*1e3,E8=1.3,C8=3e4,N8="server_kill",hC=3;class is extends CI{constructor(e,n,r,a,o,c,u,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=a,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=u,this.authOverride_=f,this.id=is.nextPersistentConnectionId_++,this.log_=Fd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Tu,this.maxReconnectDelay_=S8,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");k0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&nm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const a=++this.requestNumber_,o={r:a,a:e,b:n};this.log_(sn(o)),ge(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[a]=r)}get(e){this.initConnection_();const n=new Dd,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const u=c.d;c.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,a){this.initConnection_();const o=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ge(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const u={onComplete:a,hashFn:n,query:e,tag:r};this.listens.get(c).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+r+" for "+a);const o={p:r},c="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(c,o,u=>{const f=u.d,m=u.s;is.warnOnListenWarnings_(f,n),(this.listens.get(r)&&this.listens.get(r).get(a))===e&&(this.log_("listen response",u),m!=="ok"&&this.removeListen_(r,a),e.onComplete&&e.onComplete(m,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Da(e,"w")){const r=ql(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Vn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||J3(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=fC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Z3(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,a=>{const o=a.s,c=a.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+a),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,a)&&this.connected_&&this.sendUnlisten_(r,a,e._queryObject,n)}sendUnlisten_(e,n,r,a){this.log_("Unlisten on "+e+" for "+n);const o={p:e},c="n";a&&(o.q=r,o.t=a),this.sendRequest(c,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,a){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,c=>{a&&setTimeout(()=>{a(c.s,c.d)},Math.floor(0))})}put(e,n,r,a){this.putInternal("p",e,n,r,a)}merge(e,n,r,a){this.putInternal("m",e,n,r,a)}putInternal(e,n,r,a,o){this.initConnection_();const c={p:n,d:r};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:e,request:c,onComplete:a}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+sn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ib("Unrecognized action received from server: "+sn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ge(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Tu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Tu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>C8&&(this.reconnectDelay_=Tu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*E8)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+is.nextConnectionId_++,o=this.lastSessionId;let c=!1,u=null;const f=function(){u?u.close():(c=!0,r())},m=function(v){ge(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(v)};this.realtime_={close:f,sendRequest:m};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,y]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?_n("getToken() completed but was canceled"):(_n("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,u=new v8(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,w=>{Vn(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(N8)},o))}catch(v){this.log_("Failed to get token: "+v),c||(this.repoInfo_.nodeAdmin&&Vn(v),f())}}}interrupt(e){_n("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){_n("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Qy(this.interruptReasons_)&&(this.reconnectDelay_=Tu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>D0(o)).join("$"):r="default";const a=this.removeListen_(e,r);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,n){const r=new mt(e).toString();let a;if(this.listens.has(r)){const o=this.listens.get(r);a=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else a=void 0;return a}onAuthRevoked_(e,n){_n("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=hC&&(this.reconnectDelay_=fC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){_n("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=hC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+aI.replace(/\./g,"-")]=1,v0()?e["framework.cordova"]=1:gR()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=nm.getInstance().currentlyOnline();return Qy(this.interruptReasons_)&&e}}is.nextPersistentConnectionId_=0;is.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Qe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Qe(So,e),a=new Qe(So,n);return this.compare(r,a)!==0}minPost(){return Qe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh;class AI extends Km{static get __EMPTY_NODE(){return dh}static set __EMPTY_NODE(e){dh=e}compare(e,n){return Mo(e.name,n.name)}isDefinedOn(e){throw cc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Qe.MIN}maxPost(){return new Qe(fi,dh)}makePost(e,n){return ge(typeof e=="string","KeyIndex indexValue must always be a string."),new Qe(e,dh)}toString(){return".key"}}const yo=new AI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,r,a,o=null){this.isReverse_=a,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?r(e.key,n):1,a&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class mn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??mn.RED,this.left=a??Jn.EMPTY_NODE,this.right=o??Jn.EMPTY_NODE}copy(e,n,r,a,o){return new mn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return o<0?a=a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Jn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,a;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Jn.EMPTY_NODE;a=r.right.min_(),r=r.copy(a.key,a.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}mn.RED=!0;mn.BLACK=!1;class T8{copy(e,n,r,a,o){return this}insert(e,n,r){return new mn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Jn{constructor(e,n=Jn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Jn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,mn.BLACK,null,null))}remove(e){return new Jn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,mn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,a=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return a?a.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(a=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new fh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new fh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new fh(this.root_,null,this.comparator_,!0,e)}}Jn.EMPTY_NODE=new T8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(t,e){return Mo(t.name,e.name)}function L0(t,e){return Mo(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lb;function I8(t){lb=t}const DI=function(t){return typeof t=="number"?"number:"+lI(t):"string:"+t},OI=function(t){if(t.isLeafNode()){const e=t.val();ge(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Da(e,".sv"),"Priority must be a string or number.")}else ge(t===lb||t.isEmpty(),"priority of unexpected type.");ge(t===lb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mC;class hn{static set __childrenNodeConstructor(e){mC=e}static get __childrenNodeConstructor(){return mC}constructor(e,n=hn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ge(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),OI(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new hn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:hn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Xe(e)?this:et(e)===".priority"?this.priorityNode_:hn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:hn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=et(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ge(r!==".priority"||hi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,hn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Nt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+DI(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=lI(this.value_):e+=this.value_,this.lazyHash_=iI(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===hn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof hn.__childrenNodeConstructor?-1:(ge(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,a=hn.VALUE_TYPE_ORDER.indexOf(n),o=hn.VALUE_TYPE_ORDER.indexOf(r);return ge(a>=0,"Unknown leaf type: "+n),ge(o>=0,"Unknown leaf type: "+r),a===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}hn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jI,MI;function A8(t){jI=t}function D8(t){MI=t}class O8 extends Km{compare(e,n){const r=e.node.getPriority(),a=n.node.getPriority(),o=r.compareTo(a);return o===0?Mo(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Qe.MIN}maxPost(){return new Qe(fi,new hn("[PRIORITY-POST]",MI))}makePost(e,n){const r=jI(e);return new Qe(n,new hn("[PRIORITY-POST]",r))}toString(){return".priority"}}const jt=new O8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=Math.log(2);class M8{constructor(e){const n=o=>parseInt(Math.log(o)/j8,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const a=r(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const rm=function(t,e,n,r){t.sort(e);const a=function(f,m){const g=m-f;let v,y;if(g===0)return null;if(g===1)return v=t[f],y=n?n(v):v,new mn(y,v.node,mn.BLACK,null,null);{const w=parseInt(g/2,10)+f,_=a(f,w),E=a(w+1,m);return v=t[w],y=n?n(v):v,new mn(y,v.node,mn.BLACK,_,E)}},o=function(f){let m=null,g=null,v=t.length;const y=function(_,E){const S=v-_,C=v;v-=_;const N=a(S+1,C),I=t[S],T=n?n(I):I;w(new mn(T,I.node,E,null,N))},w=function(_){m?(m.left=_,m=_):(g=_,m=_)};for(let _=0;_<f.count;++_){const E=f.nextBitIsOne(),S=Math.pow(2,f.count-(_+1));E?y(S,mn.BLACK):(y(S,mn.BLACK),y(S,mn.RED))}return g},c=new M8(t.length),u=o(c);return new Jn(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ly;const Nl={};class rs{static get Default(){return ge(Nl&&jt,"ChildrenNode.ts has not been loaded"),ly=ly||new rs({".priority":Nl},{".priority":jt}),ly}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ql(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Jn?n:null}hasIndex(e){return Da(this.indexSet_,e.toString())}addIndex(e,n){ge(e!==yo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let a=!1;const o=n.getIterator(Qe.Wrap);let c=o.getNext();for(;c;)a=a||e.isDefinedOn(c.node),r.push(c),c=o.getNext();let u;a?u=rm(r,e.getCompare()):u=Nl;const f=e.toString(),m=Object.assign({},this.indexSet_);m[f]=e;const g=Object.assign({},this.indexes_);return g[f]=u,new rs(g,m)}addToIndexes(e,n){const r=Yh(this.indexes_,(a,o)=>{const c=ql(this.indexSet_,o);if(ge(c,"Missing index implementation for "+o),a===Nl)if(c.isDefinedOn(e.node)){const u=[],f=n.getIterator(Qe.Wrap);let m=f.getNext();for(;m;)m.name!==e.name&&u.push(m),m=f.getNext();return u.push(e),rm(u,c.getCompare())}else return Nl;else{const u=n.get(e.name);let f=a;return u&&(f=f.remove(new Qe(e.name,u))),f.insert(e,e.node)}});return new rs(r,this.indexSet_)}removeFromIndexes(e,n){const r=Yh(this.indexes_,a=>{if(a===Nl)return a;{const o=n.get(e.name);return o?a.remove(new Qe(e.name,o)):a}});return new rs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru;class Fe{static get EMPTY_NODE(){return Ru||(Ru=new Fe(new Jn(L0),null,rs.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&OI(this.priorityNode_),this.children_.isEmpty()&&ge(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ru}updatePriority(e){return this.children_.isEmpty()?this:new Fe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ru:n}}getChild(e){const n=et(e);return n===null?this:this.getImmediateChild(n).getChild(Nt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ge(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Qe(e,n);let a,o;n.isEmpty()?(a=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(a=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const c=a.isEmpty()?Ru:this.priorityNode_;return new Fe(a,c,o)}}updateChild(e,n){const r=et(e);if(r===null)return n;{ge(et(e)!==".priority"||hi(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(r).updateChild(Nt(e),n);return this.updateImmediateChild(r,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,a=0,o=!0;if(this.forEachChild(jt,(c,u)=>{n[c]=u.val(e),r++,o&&Fe.INTEGER_REGEXP_.test(c)?a=Math.max(a,Number(c)):o=!1}),!e&&o&&a<2*r){const c=[];for(const u in n)c[u]=n[u];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+DI(this.getPriority().val())+":"),this.forEachChild(jt,(n,r)=>{const a=r.hash();a!==""&&(e+=":"+n+":"+a)}),this.lazyHash_=e===""?"":iI(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const a=this.resolveIndex_(r);if(a){const o=a.getPredecessorKey(new Qe(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Qe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Qe(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,Qe.Wrap);let o=a.peek();for(;o!=null&&n.compare(o,e)<0;)a.getNext(),o=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,Qe.Wrap);let o=a.peek();for(;o!=null&&n.compare(o,e)>0;)a.getNext(),o=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ud?-1:0}withIndex(e){if(e===yo||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Fe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===yo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(jt),a=n.getIterator(jt);let o=r.getNext(),c=a.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=r.getNext(),c=a.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===yo?null:this.indexMap_.get(e.toString())}}Fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class P8 extends Fe{constructor(){super(new Jn(L0),Fe.EMPTY_NODE,rs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Fe.EMPTY_NODE}isEmpty(){return!1}}const Ud=new P8;Object.defineProperties(Qe,{MIN:{value:new Qe(So,Fe.EMPTY_NODE)},MAX:{value:new Qe(fi,Ud)}});AI.__EMPTY_NODE=Fe.EMPTY_NODE;hn.__childrenNodeConstructor=Fe;I8(Ud);D8(Ud);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8=!0;function an(t,e=null){if(t===null)return Fe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ge(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new hn(n,an(e))}if(!(t instanceof Array)&&k8){const n=[];let r=!1;if(Sn(t,(c,u)=>{if(c.substring(0,1)!=="."){const f=an(u);f.isEmpty()||(r=r||!f.getPriority().isEmpty(),n.push(new Qe(c,f)))}}),n.length===0)return Fe.EMPTY_NODE;const o=rm(n,R8,c=>c.name,L0);if(r){const c=rm(n,jt.getCompare());return new Fe(o,an(e),new rs({".priority":c},{".priority":jt}))}else return new Fe(o,an(e),rs.Default)}else{let n=Fe.EMPTY_NODE;return Sn(t,(r,a)=>{if(Da(t,r)&&r.substring(0,1)!=="."){const o=an(a);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(an(e))}}A8(an);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0 extends Km{constructor(e){super(),this.indexPath_=e,ge(!Xe(e)&&et(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),a=this.extractChild(n.node),o=r.compareTo(a);return o===0?Mo(e.name,n.name):o}makePost(e,n){const r=an(e),a=Fe.EMPTY_NODE.updateChild(this.indexPath_,r);return new Qe(n,a)}maxPost(){const e=Fe.EMPTY_NODE.updateChild(this.indexPath_,Ud);return new Qe(fi,e)}toString(){return ud(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8 extends Km{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Mo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Qe.MIN}maxPost(){return Qe.MAX}makePost(e,n){const r=an(e);return new Qe(n,r)}toString(){return".value"}}const PI=new L8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t){return{type:"value",snapshotNode:t}}function Yl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function dd(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function fd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function F8(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.index_=e}updateChild(e,n,r,a,o,c){ge(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(n);return u.getChild(a).equals(r.getChild(a))&&u.isEmpty()===r.isEmpty()||(c!=null&&(r.isEmpty()?e.hasChild(n)?c.trackChildChange(dd(n,u)):ge(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?c.trackChildChange(Yl(n,r)):c.trackChildChange(fd(n,r,u))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(jt,(a,o)=>{n.hasChild(a)||r.trackChildChange(dd(a,o))}),n.isLeafNode()||n.forEachChild(jt,(a,o)=>{if(e.hasChild(a)){const c=e.getImmediateChild(a);c.equals(o)||r.trackChildChange(fd(a,o,c))}else r.trackChildChange(Yl(a,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Fe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.indexedFilter_=new U0(e.getIndex()),this.index_=e.getIndex(),this.startPost_=hd.getStartPost_(e),this.endPost_=hd.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,a,o,c){return this.matches(new Qe(n,r))||(r=Fe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,a,o,c)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Fe.EMPTY_NODE);let a=n.withIndex(this.index_);a=a.updatePriority(Fe.EMPTY_NODE);const o=this;return n.forEachChild(jt,(c,u)=>{o.matches(new Qe(c,u))||(a=a.updateImmediateChild(c,Fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new hd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,a,o,c){return this.rangedFilter_.matches(new Qe(n,r))||(r=Fe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,a,o,c):this.fullLimitUpdateChild_(e,n,r,o,c)}updateFullNode(e,n,r){let a;if(n.isLeafNode()||n.isEmpty())a=Fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){a=Fe.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const u=o.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))a=a.updateImmediateChild(u.name,u.node),c++;else break;else continue}}else{a=n.withIndex(this.index_),a=a.updatePriority(Fe.EMPTY_NODE);let o;this.reverse_?o=a.getReverseIterator(this.index_):o=a.getIterator(this.index_);let c=0;for(;o.hasNext();){const u=o.getNext();c<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?c++:a=a.updateImmediateChild(u.name,Fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,a,o){let c;if(this.reverse_){const v=this.index_.getCompare();c=(y,w)=>v(w,y)}else c=this.index_.getCompare();const u=e;ge(u.numChildren()===this.limit_,"");const f=new Qe(n,r),m=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),g=this.rangedFilter_.matches(f);if(u.hasChild(n)){const v=u.getImmediateChild(n);let y=a.getChildAfterChild(this.index_,m,this.reverse_);for(;y!=null&&(y.name===n||u.hasChild(y.name));)y=a.getChildAfterChild(this.index_,y,this.reverse_);const w=y==null?1:c(y,f);if(g&&!r.isEmpty()&&w>=0)return o!=null&&o.trackChildChange(fd(n,r,v)),u.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(dd(n,v));const E=u.updateImmediateChild(n,Fe.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(o!=null&&o.trackChildChange(Yl(y.name,y.node)),E.updateImmediateChild(y.name,y.node)):E}}else return r.isEmpty()?e:g&&c(m,f)>=0?(o!=null&&(o.trackChildChange(dd(m.name,m.node)),o.trackChildChange(Yl(n,r))),u.updateImmediateChild(n,r).updateImmediateChild(m.name,Fe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=jt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ge(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ge(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:So}hasEnd(){return this.endSet_}getIndexEndValue(){return ge(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ge(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ge(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===jt}copy(){const e=new B0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function B8(t){return t.loadsAllData()?new U0(t.getIndex()):t.hasLimit()?new U8(t):new hd(t)}function V8(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function $8(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function z8(t,e){const n=t.copy();return n.index_=e,n}function pC(t){const e={};if(t.isDefault())return e;let n;if(t.index_===jt?n="$priority":t.index_===PI?n="$value":t.index_===yo?n="$key":(ge(t.index_ instanceof F0,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=sn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=sn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+sn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=sn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+sn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function gC(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==jt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends CI{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ge(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,a){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=a,this.log_=Fd("p:rest:"),this.listens_={}}listen(e,n,r,a){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const c=am.getListenId_(e,r),u={};this.listens_[c]=u;const f=pC(e._queryParams);this.restRequest_(o+".json",f,(m,g)=>{let v=g;if(m===404&&(v=null,m=null),m===null&&this.onDataUpdate_(o,v,!1,r),ql(this.listens_,c)===u){let y;m?m===401?y="permission_denied":y="rest_error:"+m:y="ok",a(y,null)}})}unlisten(e,n){const r=am.getListenId_(e,n);delete this.listens_[r]}get(e){const n=pC(e._queryParams),r=e._path.toString(),a=new Dd;return this.restRequest_(r+".json",n,(o,c)=>{let u=c;o===404&&(u=null,o=null),o===null?(this.onDataUpdate_(r,u,!1,null),a.resolve(u)):a.reject(new Error(u))}),a.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,o])=>{a&&a.accessToken&&(n.auth=a.accessToken),o&&o.token&&(n.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+uc(n);this.log_("Sending REST request for "+c);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(r&&u.readyState===4){this.log_("REST Response for "+c+" received. status:",u.status,"response:",u.responseText);let f=null;if(u.status>=200&&u.status<300){try{f=sd(u.responseText)}catch{Vn("Failed to parse JSON response for "+c+": "+u.responseText)}r(null,f)}else u.status!==401&&u.status!==404&&Vn("Got unsuccessful REST response for "+c+" Status: "+u.status),r(u.status);r=null}},u.open("GET",c,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(){this.rootNode_=Fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(){return{value:null,children:new Map}}function LI(t,e,n){if(Xe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=et(e);t.children.has(r)||t.children.set(r,sm());const a=t.children.get(r);e=Nt(e),LI(a,e,n)}}function cb(t,e,n){t.value!==null?n(e,t.value):q8(t,(r,a)=>{const o=new mt(e.toString()+"/"+r);cb(a,o,n)})}function q8(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Sn(this.last_,(r,a)=>{n[r]=n[r]-a}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=10*1e3,G8=30*1e3,Y8=5*60*1e3;class K8{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new W8(e);const r=vC+(G8-vC)*Math.random();Yu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Sn(e,(a,o)=>{o>0&&Da(this.statsToReport_,a)&&(n[a]=o,r=!0)}),r&&this.server_.reportStats(n),Yu(this.reportStats_.bind(this),Math.floor(Math.random()*2*Y8))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Xr||(Xr={}));function V0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function z0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Xr.ACK_USER_WRITE,this.source=V0()}operationForChild(e){if(Xe(this.path)){if(this.affectedTree.value!=null)return ge(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new mt(e));return new im(lt(),n,this.revert)}}else return ge(et(this.path)===e,"operationForChild called for unrelated child."),new im(Nt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n){this.source=e,this.path=n,this.type=Xr.LISTEN_COMPLETE}operationForChild(e){return Xe(this.path)?new md(this.source,lt()):new md(this.source,Nt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Xr.OVERWRITE}operationForChild(e){return Xe(this.path)?new Eo(this.source,lt(),this.snap.getImmediateChild(e)):new Eo(this.source,Nt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Xr.MERGE}operationForChild(e){if(Xe(this.path)){const n=this.children.subtree(new mt(e));return n.isEmpty()?null:n.value?new Eo(this.source,lt(),n.value):new Kl(this.source,lt(),n)}else return ge(et(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Kl(this.source,Nt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Xe(e))return this.isFullyInitialized()&&!this.filtered_;const n=et(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Q8(t,e,n,r){const a=[],o=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(F8(c.childName,c.snapshotNode))}),Iu(t,a,"child_removed",e,r,n),Iu(t,a,"child_added",e,r,n),Iu(t,a,"child_moved",o,r,n),Iu(t,a,"child_changed",e,r,n),Iu(t,a,"value",e,r,n),a}function Iu(t,e,n,r,a,o){const c=r.filter(u=>u.type===n);c.sort((u,f)=>J8(t,u,f)),c.forEach(u=>{const f=Z8(t,u,o);a.forEach(m=>{m.respondsTo(u.type)&&e.push(m.createEvent(f,t.query_))})})}function Z8(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function J8(t,e,n){if(e.childName==null||n.childName==null)throw cc("Should only compare child_ events.");const r=new Qe(e.childName,e.snapshotNode),a=new Qe(n.childName,n.snapshotNode);return t.index_.compare(r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t,e){return{eventCache:t,serverCache:e}}function Ku(t,e,n,r){return Xm(new mi(e,n,r),t.serverCache)}function FI(t,e,n,r){return Xm(t.eventCache,new mi(e,n,r))}function om(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Co(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cy;const e$=()=>(cy||(cy=new Jn(LV)),cy);class Ct{static fromObject(e){let n=new Ct(null);return Sn(e,(r,a)=>{n=n.set(new mt(r),a)}),n}constructor(e,n=e$()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:lt(),value:this.value};if(Xe(e))return null;{const r=et(e),a=this.children.get(r);if(a!==null){const o=a.findRootMostMatchingPathAndValue(Nt(e),n);return o!=null?{path:Bt(new mt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Xe(e))return this;{const n=et(e),r=this.children.get(n);return r!==null?r.subtree(Nt(e)):new Ct(null)}}set(e,n){if(Xe(e))return new Ct(n,this.children);{const r=et(e),o=(this.children.get(r)||new Ct(null)).set(Nt(e),n),c=this.children.insert(r,o);return new Ct(this.value,c)}}remove(e){if(Xe(e))return this.children.isEmpty()?new Ct(null):new Ct(null,this.children);{const n=et(e),r=this.children.get(n);if(r){const a=r.remove(Nt(e));let o;return a.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,a),this.value===null&&o.isEmpty()?new Ct(null):new Ct(this.value,o)}else return this}}get(e){if(Xe(e))return this.value;{const n=et(e),r=this.children.get(n);return r?r.get(Nt(e)):null}}setTree(e,n){if(Xe(e))return n;{const r=et(e),o=(this.children.get(r)||new Ct(null)).setTree(Nt(e),n);let c;return o.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,o),new Ct(this.value,c)}}fold(e){return this.fold_(lt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((a,o)=>{r[a]=o.fold_(Bt(e,a),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,lt(),n)}findOnPath_(e,n,r){const a=this.value?r(n,this.value):!1;if(a)return a;if(Xe(e))return null;{const o=et(e),c=this.children.get(o);return c?c.findOnPath_(Nt(e),Bt(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,lt(),n)}foreachOnPath_(e,n,r){if(Xe(e))return this;{this.value&&r(n,this.value);const a=et(e),o=this.children.get(a);return o?o.foreachOnPath_(Nt(e),Bt(n,a),r):new Ct(null)}}foreach(e){this.foreach_(lt(),e)}foreach_(e,n){this.children.inorderTraversal((r,a)=>{a.foreach_(Bt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.writeTree_=e}static empty(){return new Zr(new Ct(null))}}function Xu(t,e,n){if(Xe(e))return new Zr(new Ct(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const a=r.path;let o=r.value;const c=Bn(a,e);return o=o.updateChild(c,n),new Zr(t.writeTree_.set(a,o))}else{const a=new Ct(n),o=t.writeTree_.setTree(e,a);return new Zr(o)}}}function ub(t,e,n){let r=t;return Sn(n,(a,o)=>{r=Xu(r,Bt(e,a),o)}),r}function yC(t,e){if(Xe(e))return Zr.empty();{const n=t.writeTree_.setTree(e,new Ct(null));return new Zr(n)}}function db(t,e){return Po(t,e)!=null}function Po(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Bn(n.path,e)):null}function bC(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(jt,(r,a)=>{e.push(new Qe(r,a))}):t.writeTree_.children.inorderTraversal((r,a)=>{a.value!=null&&e.push(new Qe(r,a.value))}),e}function oi(t,e){if(Xe(e))return t;{const n=Po(t,e);return n!=null?new Zr(new Ct(n)):new Zr(t.writeTree_.subtree(e))}}function fb(t){return t.writeTree_.isEmpty()}function Xl(t,e){return UI(lt(),t.writeTree_,e)}function UI(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((a,o)=>{a===".priority"?(ge(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=UI(Bt(t,a),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Bt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t,e){return zI(e,t)}function t$(t,e,n,r,a){ge(r>t.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:a}),a&&(t.visibleWrites=Xu(t.visibleWrites,e,n)),t.lastWriteId=r}function n$(t,e,n,r){ge(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=ub(t.visibleWrites,e,n),t.lastWriteId=r}function r$(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function a$(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);ge(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let a=r.visible,o=!1,c=t.allWrites.length-1;for(;a&&c>=0;){const u=t.allWrites[c];u.visible&&(c>=n&&s$(u,r.path)?a=!1:Mr(r.path,u.path)&&(o=!0)),c--}if(a){if(o)return i$(t),!0;if(r.snap)t.visibleWrites=yC(t.visibleWrites,r.path);else{const u=r.children;Sn(u,f=>{t.visibleWrites=yC(t.visibleWrites,Bt(r.path,f))})}return!0}else return!1}function s$(t,e){if(t.snap)return Mr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Mr(Bt(t.path,n),e))return!0;return!1}function i$(t){t.visibleWrites=BI(t.allWrites,o$,lt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function o$(t){return t.visible}function BI(t,e,n){let r=Zr.empty();for(let a=0;a<t.length;++a){const o=t[a];if(e(o)){const c=o.path;let u;if(o.snap)Mr(n,c)?(u=Bn(n,c),r=Xu(r,u,o.snap)):Mr(c,n)&&(u=Bn(c,n),r=Xu(r,lt(),o.snap.getChild(u)));else if(o.children){if(Mr(n,c))u=Bn(n,c),r=ub(r,u,o.children);else if(Mr(c,n))if(u=Bn(c,n),Xe(u))r=ub(r,lt(),o.children);else{const f=ql(o.children,et(u));if(f){const m=f.getChild(Nt(u));r=Xu(r,lt(),m)}}}else throw cc("WriteRecord should have .snap or .children")}}return r}function VI(t,e,n,r,a){if(!r&&!a){const o=Po(t.visibleWrites,e);if(o!=null)return o;{const c=oi(t.visibleWrites,e);if(fb(c))return n;if(n==null&&!db(c,lt()))return null;{const u=n||Fe.EMPTY_NODE;return Xl(c,u)}}}else{const o=oi(t.visibleWrites,e);if(!a&&fb(o))return n;if(!a&&n==null&&!db(o,lt()))return null;{const c=function(m){return(m.visible||a)&&(!r||!~r.indexOf(m.writeId))&&(Mr(m.path,e)||Mr(e,m.path))},u=BI(t.allWrites,c,e),f=n||Fe.EMPTY_NODE;return Xl(u,f)}}}function l$(t,e,n){let r=Fe.EMPTY_NODE;const a=Po(t.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(jt,(o,c)=>{r=r.updateImmediateChild(o,c)}),r;if(n){const o=oi(t.visibleWrites,e);return n.forEachChild(jt,(c,u)=>{const f=Xl(oi(o,new mt(c)),u);r=r.updateImmediateChild(c,f)}),bC(o).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}else{const o=oi(t.visibleWrites,e);return bC(o).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}}function c$(t,e,n,r,a){ge(r||a,"Either existingEventSnap or existingServerSnap must exist");const o=Bt(e,n);if(db(t.visibleWrites,o))return null;{const c=oi(t.visibleWrites,o);return fb(c)?a.getChild(n):Xl(c,a.getChild(n))}}function u$(t,e,n,r){const a=Bt(e,n),o=Po(t.visibleWrites,a);if(o!=null)return o;if(r.isCompleteForChild(n)){const c=oi(t.visibleWrites,a);return Xl(c,r.getNode().getImmediateChild(n))}else return null}function d$(t,e){return Po(t.visibleWrites,e)}function f$(t,e,n,r,a,o,c){let u;const f=oi(t.visibleWrites,e),m=Po(f,lt());if(m!=null)u=m;else if(n!=null)u=Xl(f,n);else return[];if(u=u.withIndex(c),!u.isEmpty()&&!u.isLeafNode()){const g=[],v=c.getCompare(),y=o?u.getReverseIteratorFrom(r,c):u.getIteratorFrom(r,c);let w=y.getNext();for(;w&&g.length<a;)v(w,r)!==0&&g.push(w),w=y.getNext();return g}else return[]}function h$(){return{visibleWrites:Zr.empty(),allWrites:[],lastWriteId:-1}}function lm(t,e,n,r){return VI(t.writeTree,t.treePath,e,n,r)}function H0(t,e){return l$(t.writeTree,t.treePath,e)}function xC(t,e,n,r){return c$(t.writeTree,t.treePath,e,n,r)}function cm(t,e){return d$(t.writeTree,Bt(t.treePath,e))}function m$(t,e,n,r,a,o){return f$(t.writeTree,t.treePath,e,n,r,a,o)}function q0(t,e,n){return u$(t.writeTree,t.treePath,e,n)}function $I(t,e){return zI(Bt(t.treePath,e),t.writeTree)}function zI(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ge(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ge(r!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(r);if(a){const o=a.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,fd(r,e.snapshotNode,a.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,dd(r,a.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Yl(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,fd(r,e.snapshotNode,a.oldSnap));else throw cc("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const HI=new g$;class W0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new mi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return q0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Co(this.viewCache_),o=m$(this.writes_,a,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t){return{filter:t}}function y$(t,e){ge(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ge(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function b$(t,e,n,r,a){const o=new p$;let c,u;if(n.type===Xr.OVERWRITE){const m=n;m.source.fromUser?c=hb(t,e,m.path,m.snap,r,a,o):(ge(m.source.fromServer,"Unknown source."),u=m.source.tagged||e.serverCache.isFiltered()&&!Xe(m.path),c=um(t,e,m.path,m.snap,r,a,u,o))}else if(n.type===Xr.MERGE){const m=n;m.source.fromUser?c=w$(t,e,m.path,m.children,r,a,o):(ge(m.source.fromServer,"Unknown source."),u=m.source.tagged||e.serverCache.isFiltered(),c=mb(t,e,m.path,m.children,r,a,u,o))}else if(n.type===Xr.ACK_USER_WRITE){const m=n;m.revert?c=E$(t,e,m.path,r,a,o):c=_$(t,e,m.path,m.affectedTree,r,a,o)}else if(n.type===Xr.LISTEN_COMPLETE)c=S$(t,e,n.path,r,o);else throw cc("Unknown operation type: "+n.type);const f=o.getChanges();return x$(e,c,f),{viewCache:c,changes:f}}function x$(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const a=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=om(t);(n.length>0||!t.eventCache.isFullyInitialized()||a&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(kI(om(e)))}}function qI(t,e,n,r,a,o){const c=e.eventCache;if(cm(r,n)!=null)return e;{let u,f;if(Xe(n))if(ge(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Co(e),g=m instanceof Fe?m:Fe.EMPTY_NODE,v=H0(r,g);u=t.filter.updateFullNode(e.eventCache.getNode(),v,o)}else{const m=lm(r,Co(e));u=t.filter.updateFullNode(e.eventCache.getNode(),m,o)}else{const m=et(n);if(m===".priority"){ge(hi(n)===1,"Can't have a priority with additional path components");const g=c.getNode();f=e.serverCache.getNode();const v=xC(r,n,g,f);v!=null?u=t.filter.updatePriority(g,v):u=c.getNode()}else{const g=Nt(n);let v;if(c.isCompleteForChild(m)){f=e.serverCache.getNode();const y=xC(r,n,c.getNode(),f);y!=null?v=c.getNode().getImmediateChild(m).updateChild(g,y):v=c.getNode().getImmediateChild(m)}else v=q0(r,m,e.serverCache);v!=null?u=t.filter.updateChild(c.getNode(),m,v,g,a,o):u=c.getNode()}}return Ku(e,u,c.isFullyInitialized()||Xe(n),t.filter.filtersNodes())}}function um(t,e,n,r,a,o,c,u){const f=e.serverCache;let m;const g=c?t.filter:t.filter.getIndexedFilter();if(Xe(n))m=g.updateFullNode(f.getNode(),r,null);else if(g.filtersNodes()&&!f.isFiltered()){const w=f.getNode().updateChild(n,r);m=g.updateFullNode(f.getNode(),w,null)}else{const w=et(n);if(!f.isCompleteForPath(n)&&hi(n)>1)return e;const _=Nt(n),S=f.getNode().getImmediateChild(w).updateChild(_,r);w===".priority"?m=g.updatePriority(f.getNode(),S):m=g.updateChild(f.getNode(),w,S,_,HI,null)}const v=FI(e,m,f.isFullyInitialized()||Xe(n),g.filtersNodes()),y=new W0(a,v,o);return qI(t,v,n,a,y,u)}function hb(t,e,n,r,a,o,c){const u=e.eventCache;let f,m;const g=new W0(a,e,o);if(Xe(n))m=t.filter.updateFullNode(e.eventCache.getNode(),r,c),f=Ku(e,m,!0,t.filter.filtersNodes());else{const v=et(n);if(v===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),r),f=Ku(e,m,u.isFullyInitialized(),u.isFiltered());else{const y=Nt(n),w=u.getNode().getImmediateChild(v);let _;if(Xe(y))_=r;else{const E=g.getCompleteChild(v);E!=null?P0(y)===".priority"&&E.getChild(TI(y)).isEmpty()?_=E:_=E.updateChild(y,r):_=Fe.EMPTY_NODE}if(w.equals(_))f=e;else{const E=t.filter.updateChild(u.getNode(),v,_,y,g,c);f=Ku(e,E,u.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function wC(t,e){return t.eventCache.isCompleteForChild(e)}function w$(t,e,n,r,a,o,c){let u=e;return r.foreach((f,m)=>{const g=Bt(n,f);wC(e,et(g))&&(u=hb(t,u,g,m,a,o,c))}),r.foreach((f,m)=>{const g=Bt(n,f);wC(e,et(g))||(u=hb(t,u,g,m,a,o,c))}),u}function _C(t,e,n){return n.foreach((r,a)=>{e=e.updateChild(r,a)}),e}function mb(t,e,n,r,a,o,c,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,m;Xe(n)?m=r:m=new Ct(null).setTree(n,r);const g=e.serverCache.getNode();return m.children.inorderTraversal((v,y)=>{if(g.hasChild(v)){const w=e.serverCache.getNode().getImmediateChild(v),_=_C(t,w,y);f=um(t,f,new mt(v),_,a,o,c,u)}}),m.children.inorderTraversal((v,y)=>{const w=!e.serverCache.isCompleteForChild(v)&&y.value===null;if(!g.hasChild(v)&&!w){const _=e.serverCache.getNode().getImmediateChild(v),E=_C(t,_,y);f=um(t,f,new mt(v),E,a,o,c,u)}}),f}function _$(t,e,n,r,a,o,c){if(cm(a,n)!=null)return e;const u=e.serverCache.isFiltered(),f=e.serverCache;if(r.value!=null){if(Xe(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return um(t,e,n,f.getNode().getChild(n),a,o,u,c);if(Xe(n)){let m=new Ct(null);return f.getNode().forEachChild(yo,(g,v)=>{m=m.set(new mt(g),v)}),mb(t,e,n,m,a,o,u,c)}else return e}else{let m=new Ct(null);return r.foreach((g,v)=>{const y=Bt(n,g);f.isCompleteForPath(y)&&(m=m.set(g,f.getNode().getChild(y)))}),mb(t,e,n,m,a,o,u,c)}}function S$(t,e,n,r,a){const o=e.serverCache,c=FI(e,o.getNode(),o.isFullyInitialized()||Xe(n),o.isFiltered());return qI(t,c,n,r,HI,a)}function E$(t,e,n,r,a,o){let c;if(cm(r,n)!=null)return e;{const u=new W0(r,e,a),f=e.eventCache.getNode();let m;if(Xe(n)||et(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=lm(r,Co(e));else{const v=e.serverCache.getNode();ge(v instanceof Fe,"serverChildren would be complete if leaf node"),g=H0(r,v)}g=g,m=t.filter.updateFullNode(f,g,o)}else{const g=et(n);let v=q0(r,g,e.serverCache);v==null&&e.serverCache.isCompleteForChild(g)&&(v=f.getImmediateChild(g)),v!=null?m=t.filter.updateChild(f,g,v,Nt(n),u,o):e.eventCache.getNode().hasChild(g)?m=t.filter.updateChild(f,g,Fe.EMPTY_NODE,Nt(n),u,o):m=f,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=lm(r,Co(e)),c.isLeafNode()&&(m=t.filter.updateFullNode(m,c,o)))}return c=e.serverCache.isFullyInitialized()||cm(r,lt())!=null,Ku(e,m,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,a=new U0(r.getIndex()),o=B8(r);this.processor_=v$(o);const c=n.serverCache,u=n.eventCache,f=a.updateFullNode(Fe.EMPTY_NODE,c.getNode(),null),m=o.updateFullNode(Fe.EMPTY_NODE,u.getNode(),null),g=new mi(f,c.isFullyInitialized(),a.filtersNodes()),v=new mi(m,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Xm(v,g),this.eventGenerator_=new X8(this.query_)}get query(){return this.query_}}function N$(t){return t.viewCache_.serverCache.getNode()}function T$(t){return om(t.viewCache_)}function R$(t,e){const n=Co(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Xe(e)&&!n.getImmediateChild(et(e)).isEmpty())?n.getChild(e):null}function SC(t){return t.eventRegistrations_.length===0}function I$(t,e){t.eventRegistrations_.push(e)}function EC(t,e,n){const r=[];if(n){ge(e==null,"A cancel should cancel all event registrations.");const a=t.query._path;t.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(n,a);c&&r.push(c)})}if(e){let a=[];for(let o=0;o<t.eventRegistrations_.length;++o){const c=t.eventRegistrations_[o];if(!c.matches(e))a.push(c);else if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=a}else t.eventRegistrations_=[];return r}function CC(t,e,n,r){e.type===Xr.MERGE&&e.source.queryId!==null&&(ge(Co(t.viewCache_),"We should always have a full cache before handling merges"),ge(om(t.viewCache_),"Missing event cache, even though we have a server cache"));const a=t.viewCache_,o=b$(t.processor_,a,e,n,r);return y$(t.processor_,o.viewCache),ge(o.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,WI(t,o.changes,o.viewCache.eventCache.getNode(),null)}function A$(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(jt,(o,c)=>{r.push(Yl(o,c))}),n.isFullyInitialized()&&r.push(kI(n.getNode())),WI(t,r,n.getNode(),e)}function WI(t,e,n,r){const a=r?[r]:t.eventRegistrations_;return Q8(t.eventGenerator_,e,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dm;class GI{constructor(){this.views=new Map}}function D$(t){ge(!dm,"__referenceConstructor has already been defined"),dm=t}function O$(){return ge(dm,"Reference.ts has not been loaded"),dm}function j$(t){return t.views.size===0}function G0(t,e,n,r){const a=e.source.queryId;if(a!==null){const o=t.views.get(a);return ge(o!=null,"SyncTree gave us an op for an invalid query."),CC(o,e,n,r)}else{let o=[];for(const c of t.views.values())o=o.concat(CC(c,e,n,r));return o}}function YI(t,e,n,r,a){const o=e._queryIdentifier,c=t.views.get(o);if(!c){let u=lm(n,a?r:null),f=!1;u?f=!0:r instanceof Fe?(u=H0(n,r),f=!1):(u=Fe.EMPTY_NODE,f=!1);const m=Xm(new mi(u,f,!1),new mi(r,a,!1));return new C$(e,m)}return c}function M$(t,e,n,r,a,o){const c=YI(t,e,r,a,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),I$(c,n),A$(c,n)}function P$(t,e,n,r){const a=e._queryIdentifier,o=[];let c=[];const u=pi(t);if(a==="default")for(const[f,m]of t.views.entries())c=c.concat(EC(m,n,r)),SC(m)&&(t.views.delete(f),m.query._queryParams.loadsAllData()||o.push(m.query));else{const f=t.views.get(a);f&&(c=c.concat(EC(f,n,r)),SC(f)&&(t.views.delete(a),f.query._queryParams.loadsAllData()||o.push(f.query)))}return u&&!pi(t)&&o.push(new(O$())(e._repo,e._path)),{removed:o,events:c}}function KI(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function li(t,e){let n=null;for(const r of t.views.values())n=n||R$(r,e);return n}function XI(t,e){if(e._queryParams.loadsAllData())return Zm(t);{const r=e._queryIdentifier;return t.views.get(r)}}function QI(t,e){return XI(t,e)!=null}function pi(t){return Zm(t)!=null}function Zm(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm;function k$(t){ge(!fm,"__referenceConstructor has already been defined"),fm=t}function L$(){return ge(fm,"Reference.ts has not been loaded"),fm}let F$=1;class NC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ct(null),this.pendingWriteTree_=h$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ZI(t,e,n,r,a){return t$(t.pendingWriteTree_,e,n,r,a),a?pc(t,new Eo(V0(),e,n)):[]}function U$(t,e,n,r){n$(t.pendingWriteTree_,e,n,r);const a=Ct.fromObject(n);return pc(t,new Kl(V0(),e,a))}function ti(t,e,n=!1){const r=r$(t.pendingWriteTree_,e);if(a$(t.pendingWriteTree_,e)){let o=new Ct(null);return r.snap!=null?o=o.set(lt(),!0):Sn(r.children,c=>{o=o.set(new mt(c),!0)}),pc(t,new im(r.path,o,n))}else return[]}function Bd(t,e,n){return pc(t,new Eo($0(),e,n))}function B$(t,e,n){const r=Ct.fromObject(n);return pc(t,new Kl($0(),e,r))}function V$(t,e){return pc(t,new md($0(),e))}function $$(t,e,n){const r=K0(t,n);if(r){const a=X0(r),o=a.path,c=a.queryId,u=Bn(o,e),f=new md(z0(c),u);return Q0(t,o,f)}else return[]}function JI(t,e,n,r,a=!1){const o=e._path,c=t.syncPointTree_.get(o);let u=[];if(c&&(e._queryIdentifier==="default"||QI(c,e))){const f=P$(c,e,n,r);j$(c)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const m=f.removed;if(u=f.events,!a){const g=m.findIndex(y=>y._queryParams.loadsAllData())!==-1,v=t.syncPointTree_.findOnPath(o,(y,w)=>pi(w));if(g&&!v){const y=t.syncPointTree_.subtree(o);if(!y.isEmpty()){const w=W$(y);for(let _=0;_<w.length;++_){const E=w[_],S=E.query,C=rA(t,E);t.listenProvider_.startListening(Qu(S),pd(t,S),C.hashFn,C.onComplete)}}}!v&&m.length>0&&!r&&(g?t.listenProvider_.stopListening(Qu(e),null):m.forEach(y=>{const w=t.queryToTagMap.get(Jm(y));t.listenProvider_.stopListening(Qu(y),w)}))}G$(t,m)}return u}function eA(t,e,n,r){const a=K0(t,r);if(a!=null){const o=X0(a),c=o.path,u=o.queryId,f=Bn(c,e),m=new Eo(z0(u),f,n);return Q0(t,c,m)}else return[]}function z$(t,e,n,r){const a=K0(t,r);if(a){const o=X0(a),c=o.path,u=o.queryId,f=Bn(c,e),m=Ct.fromObject(n),g=new Kl(z0(u),f,m);return Q0(t,c,g)}else return[]}function H$(t,e,n,r=!1){const a=e._path;let o=null,c=!1;t.syncPointTree_.foreachOnPath(a,(y,w)=>{const _=Bn(y,a);o=o||li(w,_),c=c||pi(w)});let u=t.syncPointTree_.get(a);u?(c=c||pi(u),o=o||li(u,lt())):(u=new GI,t.syncPointTree_=t.syncPointTree_.set(a,u));let f;o!=null?f=!0:(f=!1,o=Fe.EMPTY_NODE,t.syncPointTree_.subtree(a).foreachChild((w,_)=>{const E=li(_,lt());E&&(o=o.updateImmediateChild(w,E))}));const m=QI(u,e);if(!m&&!e._queryParams.loadsAllData()){const y=Jm(e);ge(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const w=Y$();t.queryToTagMap.set(y,w),t.tagToQueryMap.set(w,y)}const g=Qm(t.pendingWriteTree_,a);let v=M$(u,e,n,g,o,f);if(!m&&!c&&!r){const y=XI(u,e);v=v.concat(K$(t,e,y))}return v}function Y0(t,e,n){const a=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(c,u)=>{const f=Bn(c,e),m=li(u,f);if(m)return m});return VI(a,e,o,n,!0)}function q$(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(m,g)=>{const v=Bn(m,n);r=r||li(g,v)});let a=t.syncPointTree_.get(n);a?r=r||li(a,lt()):(a=new GI,t.syncPointTree_=t.syncPointTree_.set(n,a));const o=r!=null,c=o?new mi(r,!0,!1):null,u=Qm(t.pendingWriteTree_,e._path),f=YI(a,e,u,o?c.getNode():Fe.EMPTY_NODE,o);return T$(f)}function pc(t,e){return tA(e,t.syncPointTree_,null,Qm(t.pendingWriteTree_,lt()))}function tA(t,e,n,r){if(Xe(t.path))return nA(t,e,n,r);{const a=e.get(lt());n==null&&a!=null&&(n=li(a,lt()));let o=[];const c=et(t.path),u=t.operationForChild(c),f=e.children.get(c);if(f&&u){const m=n?n.getImmediateChild(c):null,g=$I(r,c);o=o.concat(tA(u,f,m,g))}return a&&(o=o.concat(G0(a,t,r,n))),o}}function nA(t,e,n,r){const a=e.get(lt());n==null&&a!=null&&(n=li(a,lt()));let o=[];return e.children.inorderTraversal((c,u)=>{const f=n?n.getImmediateChild(c):null,m=$I(r,c),g=t.operationForChild(c);g&&(o=o.concat(nA(g,u,f,m)))}),a&&(o=o.concat(G0(a,t,r,n))),o}function rA(t,e){const n=e.query,r=pd(t,n);return{hashFn:()=>(N$(e)||Fe.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return r?$$(t,n._path,r):V$(t,n._path);{const o=BV(a,n);return JI(t,n,null,o)}}}}function pd(t,e){const n=Jm(e);return t.queryToTagMap.get(n)}function Jm(t){return t._path.toString()+"$"+t._queryIdentifier}function K0(t,e){return t.tagToQueryMap.get(e)}function X0(t){const e=t.indexOf("$");return ge(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new mt(t.substr(0,e))}}function Q0(t,e,n){const r=t.syncPointTree_.get(e);ge(r,"Missing sync point for query tag that we're tracking");const a=Qm(t.pendingWriteTree_,e);return G0(r,n,a,null)}function W$(t){return t.fold((e,n,r)=>{if(n&&pi(n))return[Zm(n)];{let a=[];return n&&(a=KI(n)),Sn(r,(o,c)=>{a=a.concat(c)}),a}})}function Qu(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(L$())(t._repo,t._path):t}function G$(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const a=Jm(r),o=t.queryToTagMap.get(a);t.queryToTagMap.delete(a),t.tagToQueryMap.delete(o)}}}function Y$(){return F$++}function K$(t,e,n){const r=e._path,a=pd(t,e),o=rA(t,n),c=t.listenProvider_.startListening(Qu(e),a,o.hashFn,o.onComplete),u=t.syncPointTree_.subtree(r);if(a)ge(!pi(u.value),"If we're adding a query, it shouldn't be shadowed");else{const f=u.fold((m,g,v)=>{if(!Xe(m)&&g&&pi(g))return[Zm(g).query];{let y=[];return g&&(y=y.concat(KI(g).map(w=>w.query))),Sn(v,(w,_)=>{y=y.concat(_)}),y}});for(let m=0;m<f.length;++m){const g=f[m];t.listenProvider_.stopListening(Qu(g),pd(t,g))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Z0(n)}node(){return this.node_}}class J0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Bt(this.path_,e);return new J0(this.syncTree_,n)}node(){return Y0(this.syncTree_,this.path_)}}const X$=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},TC=function(t,e,n){if(!t||typeof t!="object")return t;if(ge(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Q$(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Z$(t[".sv"],e);ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Q$=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ge(!1,"Unexpected server value: "+t)}},Z$=function(t,e,n){t.hasOwnProperty("increment")||ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ge(!1,"Unexpected increment value: "+r);const a=e.node();if(ge(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return r;const c=a.getValue();return typeof c!="number"?r:c+r},aA=function(t,e,n,r){return ex(e,new J0(n,t),r)},sA=function(t,e,n){return ex(t,new Z0(e),n)};function ex(t,e,n){const r=t.getPriority().val(),a=TC(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const c=t,u=TC(c.getValue(),e,n);return u!==c.getValue()||a!==c.getPriority().val()?new hn(u,an(a)):t}else{const c=t;return o=c,a!==c.getPriority().val()&&(o=o.updatePriority(new hn(a))),c.forEachChild(jt,(u,f)=>{const m=ex(f,e.getImmediateChild(u),n);m!==f&&(o=o.updateImmediateChild(u,m))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function nx(t,e){let n=e instanceof mt?e:new mt(e),r=t,a=et(n);for(;a!==null;){const o=ql(r.node.children,a)||{children:{},childCount:0};r=new tx(a,r,o),n=Nt(n),a=et(n)}return r}function gc(t){return t.node.value}function iA(t,e){t.node.value=e,pb(t)}function oA(t){return t.node.childCount>0}function J$(t){return gc(t)===void 0&&!oA(t)}function ep(t,e){Sn(t.node.children,(n,r)=>{e(new tx(n,t,r))})}function lA(t,e,n,r){n&&e(t),ep(t,a=>{lA(a,e,!0)})}function ez(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Vd(t){return new mt(t.parent===null?t.name:Vd(t.parent)+"/"+t.name)}function pb(t){t.parent!==null&&tz(t.parent,t.name,t)}function tz(t,e,n){const r=J$(n),a=Da(t.node.children,e);r&&a?(delete t.node.children[e],t.node.childCount--,pb(t)):!r&&!a&&(t.node.children[e]=n.node,t.node.childCount++,pb(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=/[\[\].#$\/\u0000-\u001F\u007F]/,rz=/[\[\].#$\u0000-\u001F\u007F]/,uy=10*1024*1024,rx=function(t){return typeof t=="string"&&t.length!==0&&!nz.test(t)},cA=function(t){return typeof t=="string"&&t.length!==0&&!rz.test(t)},az=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),cA(t)},gb=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!A0(t)||t&&typeof t=="object"&&Da(t,".sv")},$d=function(t,e,n,r){r&&e===void 0||tp(zm(t,"value"),e,n)},tp=function(t,e,n){const r=n instanceof mt?new x8(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ro(r));if(typeof e=="function")throw new Error(t+"contains a function "+ro(r)+" with contents = "+e.toString());if(A0(e))throw new Error(t+"contains "+e.toString()+" "+ro(r));if(typeof e=="string"&&e.length>uy/3&&Hm(e)>uy)throw new Error(t+"contains a string greater than "+uy+" utf8 bytes "+ro(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,o=!1;if(Sn(e,(c,u)=>{if(c===".value")a=!0;else if(c!==".priority"&&c!==".sv"&&(o=!0,!rx(c)))throw new Error(t+" contains an invalid key ("+c+") "+ro(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);w8(r,c),tp(t,u,r),_8(r)}),a&&o)throw new Error(t+' contains ".value" child '+ro(r)+" in addition to actual children.")}},sz=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=ud(r);for(let c=0;c<o.length;c++)if(!(o[c]===".priority"&&c===o.length-1)){if(!rx(o[c]))throw new Error(t+"contains an invalid key ("+o[c]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(b8);let a=null;for(n=0;n<e.length;n++){if(r=e[n],a!==null&&Mr(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},iz=function(t,e,n,r){const a=zm(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(a+" must be an object containing the children to replace.");const o=[];Sn(e,(c,u)=>{const f=new mt(c);if(tp(a,u,Bt(n,f)),P0(f)===".priority"&&!gb(u))throw new Error(a+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),sz(a,o)},ax=function(t,e,n,r){if(!cA(n))throw new Error(zm(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},oz=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ax(t,e,n)},sx=function(t,e){if(et(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},lz=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!rx(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!az(n))throw new Error(zm(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ix(t,e){let n=null;for(let r=0;r<e.length;r++){const a=e[r],o=a.getPath();n!==null&&!RI(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(a)}n&&t.eventLists_.push(n)}function Fr(t,e,n){ix(t,n),uz(t,r=>Mr(r,e)||Mr(e,r))}function uz(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const a=t.eventLists_[r];if(a){const o=a.path;e(o)?(dz(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function dz(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Gu&&_n("event: "+n.toString()),mc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz="repo_interrupt",hz=25;class mz{constructor(e,n,r,a){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new cz,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sm(),this.transactionQueueTree_=new tx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pz(t,e,n){if(t.stats_=j0(t.repoInfo_),t.forceRestClient_||HV())t.server_=new am(t.repoInfo_,(r,a,o,c)=>{RC(t,r,a,o,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>IC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{sn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new is(t.repoInfo_,e,(r,a,o,c)=>{RC(t,r,a,o,c)},r=>{IC(t,r)},r=>{gz(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=KV(t.repoInfo_,()=>new K8(t.stats_,t.server_)),t.infoData_=new H8,t.infoSyncTree_=new NC({startListening:(r,a,o,c)=>{let u=[];const f=t.infoData_.getNode(r._path);return f.isEmpty()||(u=Bd(t.infoSyncTree_,r._path,f),setTimeout(()=>{c("ok")},0)),u},stopListening:()=>{}}),ox(t,"connected",!1),t.serverSyncTree_=new NC({startListening:(r,a,o,c)=>(t.server_.listen(r,o,a,(u,f)=>{const m=c(u,f);Fr(t.eventQueue_,r._path,m)}),[]),stopListening:(r,a)=>{t.server_.unlisten(r,a)}})}function uA(t){const n=t.infoData_.getNode(new mt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function np(t){return X$({timestamp:uA(t)})}function RC(t,e,n,r,a){t.dataUpdateCount++;const o=new mt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(a)if(r){const f=Yh(n,m=>an(m));c=z$(t.serverSyncTree_,o,f,a)}else{const f=an(n);c=eA(t.serverSyncTree_,o,f,a)}else if(r){const f=Yh(n,m=>an(m));c=B$(t.serverSyncTree_,o,f)}else{const f=an(n);c=Bd(t.serverSyncTree_,o,f)}let u=o;c.length>0&&(u=Ql(t,o)),Fr(t.eventQueue_,u,c)}function IC(t,e){ox(t,"connected",e),e===!1&&xz(t)}function gz(t,e){Sn(e,(n,r)=>{ox(t,n,r)})}function ox(t,e,n){const r=new mt("/.info/"+e),a=an(n);t.infoData_.updateSnapshot(r,a);const o=Bd(t.infoSyncTree_,r,a);Fr(t.eventQueue_,r,o)}function lx(t){return t.nextWriteId_++}function vz(t,e,n){const r=q$(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(a=>{const o=an(a).withIndex(e._queryParams.getIndex());H$(t.serverSyncTree_,e,n,!0);let c;if(e._queryParams.loadsAllData())c=Bd(t.serverSyncTree_,e._path,o);else{const u=pd(t.serverSyncTree_,e);c=eA(t.serverSyncTree_,e._path,o,u)}return Fr(t.eventQueue_,e._path,c),JI(t.serverSyncTree_,e,n,null,!0),o},a=>(zd(t,"get for query "+sn(e)+" failed: "+a),Promise.reject(new Error(a))))}function yz(t,e,n,r,a){zd(t,"set",{path:e.toString(),value:n,priority:r});const o=np(t),c=an(n,r),u=Y0(t.serverSyncTree_,e),f=sA(c,u,o),m=lx(t),g=ZI(t.serverSyncTree_,e,f,m,!0);ix(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(y,w)=>{const _=y==="ok";_||Vn("set at "+e+" failed: "+y);const E=ti(t.serverSyncTree_,m,!_);Fr(t.eventQueue_,e,E),vb(t,a,y,w)});const v=ux(t,e);Ql(t,v),Fr(t.eventQueue_,v,[])}function bz(t,e,n,r){zd(t,"update",{path:e.toString(),value:n});let a=!0;const o=np(t),c={};if(Sn(n,(u,f)=>{a=!1,c[u]=aA(Bt(e,u),an(f),t.serverSyncTree_,o)}),a)_n("update() called with empty data.  Don't do anything."),vb(t,r,"ok",void 0);else{const u=lx(t),f=U$(t.serverSyncTree_,e,c,u);ix(t.eventQueue_,f),t.server_.merge(e.toString(),n,(m,g)=>{const v=m==="ok";v||Vn("update at "+e+" failed: "+m);const y=ti(t.serverSyncTree_,u,!v),w=y.length>0?Ql(t,e):e;Fr(t.eventQueue_,w,y),vb(t,r,m,g)}),Sn(n,m=>{const g=ux(t,Bt(e,m));Ql(t,g)}),Fr(t.eventQueue_,e,[])}}function xz(t){zd(t,"onDisconnectEvents");const e=np(t),n=sm();cb(t.onDisconnect_,lt(),(a,o)=>{const c=aA(a,o,t.serverSyncTree_,e);LI(n,a,c)});let r=[];cb(n,lt(),(a,o)=>{r=r.concat(Bd(t.serverSyncTree_,a,o));const c=ux(t,a);Ql(t,c)}),t.onDisconnect_=sm(),Fr(t.eventQueue_,lt(),r)}function wz(t){t.persistentConnection_&&t.persistentConnection_.interrupt(fz)}function zd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),_n(n,...e)}function vb(t,e,n,r){e&&mc(()=>{if(n==="ok")e(null);else{const a=(n||"error").toUpperCase();let o=a;r&&(o+=": "+r);const c=new Error(o);c.code=a,e(c)}})}function dA(t,e,n){return Y0(t.serverSyncTree_,e,n)||Fe.EMPTY_NODE}function cx(t,e=t.transactionQueueTree_){if(e||rp(t,e),gc(e)){const n=hA(t,e);ge(n.length>0,"Sending zero length transaction queue"),n.every(a=>a.status===0)&&_z(t,Vd(e),n)}else oA(e)&&ep(e,n=>{cx(t,n)})}function _z(t,e,n){const r=n.map(m=>m.currentWriteId),a=dA(t,e,r);let o=a;const c=a.hash();for(let m=0;m<n.length;m++){const g=n[m];ge(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const v=Bn(e,g.path);o=o.updateChild(v,g.currentOutputSnapshotRaw)}const u=o.val(!0),f=e;t.server_.put(f.toString(),u,m=>{zd(t,"transaction put response",{path:f.toString(),status:m});let g=[];if(m==="ok"){const v=[];for(let y=0;y<n.length;y++)n[y].status=2,g=g.concat(ti(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&v.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();rp(t,nx(t.transactionQueueTree_,e)),cx(t,t.transactionQueueTree_),Fr(t.eventQueue_,e,g);for(let y=0;y<v.length;y++)mc(v[y])}else{if(m==="datastale")for(let v=0;v<n.length;v++)n[v].status===3?n[v].status=4:n[v].status=0;else{Vn("transaction at "+f.toString()+" failed: "+m);for(let v=0;v<n.length;v++)n[v].status=4,n[v].abortReason=m}Ql(t,e)}},c)}function Ql(t,e){const n=fA(t,e),r=Vd(n),a=hA(t,n);return Sz(t,a,r),r}function Sz(t,e,n){if(e.length===0)return;const r=[];let a=[];const c=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const f=e[u],m=Bn(n,f.path);let g=!1,v;if(ge(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)g=!0,v=f.abortReason,a=a.concat(ti(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=hz)g=!0,v="maxretry",a=a.concat(ti(t.serverSyncTree_,f.currentWriteId,!0));else{const y=dA(t,f.path,c);f.currentInputSnapshot=y;const w=e[u].update(y.val());if(w!==void 0){tp("transaction failed: Data returned ",w,f.path);let _=an(w);typeof w=="object"&&w!=null&&Da(w,".priority")||(_=_.updatePriority(y.getPriority()));const S=f.currentWriteId,C=np(t),N=sA(_,y,C);f.currentOutputSnapshotRaw=_,f.currentOutputSnapshotResolved=N,f.currentWriteId=lx(t),c.splice(c.indexOf(S),1),a=a.concat(ZI(t.serverSyncTree_,f.path,N,f.currentWriteId,f.applyLocally)),a=a.concat(ti(t.serverSyncTree_,S,!0))}else g=!0,v="nodata",a=a.concat(ti(t.serverSyncTree_,f.currentWriteId,!0))}Fr(t.eventQueue_,n,a),a=[],g&&(e[u].status=2,function(y){setTimeout(y,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(v==="nodata"?r.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):r.push(()=>e[u].onComplete(new Error(v),!1,null))))}rp(t,t.transactionQueueTree_);for(let u=0;u<r.length;u++)mc(r[u]);cx(t,t.transactionQueueTree_)}function fA(t,e){let n,r=t.transactionQueueTree_;for(n=et(e);n!==null&&gc(r)===void 0;)r=nx(r,n),e=Nt(e),n=et(e);return r}function hA(t,e){const n=[];return mA(t,e,n),n.sort((r,a)=>r.order-a.order),n}function mA(t,e,n){const r=gc(e);if(r)for(let a=0;a<r.length;a++)n.push(r[a]);ep(e,a=>{mA(t,a,n)})}function rp(t,e){const n=gc(e);if(n){let r=0;for(let a=0;a<n.length;a++)n[a].status!==2&&(n[r]=n[a],r++);n.length=r,iA(e,n.length>0?n:void 0)}ep(e,r=>{rp(t,r)})}function ux(t,e){const n=Vd(fA(t,e)),r=nx(t.transactionQueueTree_,e);return ez(r,a=>{dy(t,a)}),dy(t,r),lA(r,a=>{dy(t,a)}),n}function dy(t,e){const n=gc(e);if(n){const r=[];let a=[],o=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(ge(o===c-1,"All SENT items should be at beginning of queue."),o=c,n[c].status=3,n[c].abortReason="set"):(ge(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),a=a.concat(ti(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&r.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));o===-1?iA(e,void 0):n.length=o+1,Fr(t.eventQueue_,Vd(e),a);for(let c=0;c<r.length;c++)mc(r[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ez(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let a=n[r];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function Cz(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Vn(`Invalid query segment '${n}' in query '${t}'`)}return e}const AC=function(t,e){const n=Nz(t),r=n.namespace;n.domain==="firebase.com"&&hs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&hs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||PV();const a=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new yI(n.host,n.secure,r,a,e,"",r!==n.subdomain),path:new mt(n.pathString)}},Nz=function(t){let e="",n="",r="",a="",o="",c=!0,u="https",f=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(u=t.substring(0,m-1),t=t.substring(m+2));let g=t.indexOf("/");g===-1&&(g=t.length);let v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(g,v)),g<v&&(a=Ez(t.substring(g,v)));const y=Cz(t.substring(Math.min(t.length,v)));m=e.indexOf(":"),m>=0?(c=u==="https"||u==="wss",f=parseInt(e.substring(m+1),10)):m=e.length;const w=e.slice(0,m);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),o=r}"ns"in y&&(o=y.ns)}return{host:e,port:f,domain:n,subdomain:r,secure:c,scheme:u,pathString:a,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Tz=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let a;const o=new Array(8);for(a=7;a>=0;a--)o[a]=DC.charAt(n%64),n=Math.floor(n/64);ge(n===0,"Cannot push at time == 0");let c=o.join("");if(r){for(a=11;a>=0&&e[a]===63;a--)e[a]=0;e[a]++}else for(a=0;a<12;a++)e[a]=Math.floor(Math.random()*64);for(a=0;a<12;a++)c+=DC.charAt(e[a]);return ge(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e,n,r,a){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+sn(this.snapshot.exportVal())}}class Iz{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ge(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n,r,a){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=a}get key(){return Xe(this._path)?null:P0(this._path)}get ref(){return new ys(this._repo,this._path)}get _queryIdentifier(){const e=gC(this._queryParams),n=D0(e);return n==="{}"?"default":n}get _queryObject(){return gC(this._queryParams)}isEqual(e){if(e=gn(e),!(e instanceof vc))return!1;const n=this._repo===e._repo,r=RI(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return n&&r&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+y8(this._path)}}function Dz(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function dx(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===yo){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==So)throw new Error(r);if(typeof e!="string")throw new Error(a)}if(t.hasEnd()){if(t.getIndexEndName()!==fi)throw new Error(r);if(typeof n!="string")throw new Error(a)}}else if(t.getIndex()===jt){if(e!=null&&!gb(e)||n!=null&&!gb(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ge(t.getIndex()instanceof F0||t.getIndex()===PI,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function pA(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ys extends vc{constructor(e,n){super(e,n,new B0,!1)}get parent(){const e=TI(this._path);return e===null?null:new ys(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class gd{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new mt(e),r=vd(this.ref,e);return new gd(this._node.getChild(n),r,jt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,a)=>e(new gd(a,vd(this.ref,r),jt)))}hasChild(e){const n=new mt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function fy(t,e){return t=gn(t),t._checkNotDeleted("ref"),e!==void 0?vd(t._root,e):t._root}function vd(t,e){return t=gn(t),et(t._path)===null?oz("child","path",e):ax("child","path",e),new ys(t._repo,Bt(t._path,e))}function OC(t,e){t=gn(t),sx("push",t._path),$d("push",e,t._path,!0);const n=uA(t._repo),r=Tz(n),a=vd(t,r),o=vd(t,r);let c;return c=Promise.resolve(o),a.then=c.then.bind(c),a.catch=c.then.bind(c,void 0),a}function jC(t){return sx("remove",t._path),Uu(t,null)}function Uu(t,e){t=gn(t),sx("set",t._path),$d("set",e,t._path,!1);const n=new Dd;return yz(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Oz(t,e){iz("update",e,t._path);const n=new Dd;return bz(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function ho(t){t=gn(t);const e=new Az(()=>{}),n=new fx(e);return vz(t._repo,t,n).then(r=>new gd(r,new ys(t._repo,t._path),t._queryParams.getIndex()))}class fx{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Rz("value",this,new gd(e.snapshotNode,new ys(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Iz(this,e,n):null}matches(e){return e instanceof fx?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class ap{}class jz extends ap{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){$d("endAt",this._value,e._path,!0);const n=$8(e._queryParams,this._value,this._key);if(pA(n),dx(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vc(e._repo,e._path,n,e._orderByCalled)}}class Mz extends ap{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){$d("startAt",this._value,e._path,!0);const n=V8(e._queryParams,this._value,this._key);if(pA(n),dx(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new vc(e._repo,e._path,n,e._orderByCalled)}}class Pz extends ap{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Dz(e,"orderByChild");const n=new mt(this._path);if(Xe(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new F0(n),a=z8(e._queryParams,r);return dx(a),new vc(e._repo,e._path,a,!0)}}function Bu(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ax("orderByChild","path",t),new Pz(t)}class kz extends ap{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if($d("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new jz(this._value,this._key)._apply(new Mz(this._value,this._key)._apply(e))}}function gA(t,e){return new kz(t,e)}function Vu(t,...e){let n=gn(t);for(const r of e)n=r._apply(n);return n}D$(ys);k$(ys);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz="FIREBASE_DATABASE_EMULATOR_HOST",yb={};let Fz=!1;function Uz(t,e,n,r){t.repoInfo_=new yI(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function Bz(t,e,n,r,a){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||hs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_n("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=AC(o,a),u=c.repoInfo,f;typeof process<"u"&&Z1&&(f=Z1[Lz]),f?(o=`http://${f}?ns=${u.namespace}`,c=AC(o,a),u=c.repoInfo):c.repoInfo.secure;const m=new WV(t.name,t.options,e);lz("Invalid Firebase Database URL",c),Xe(c.path)||hs("Database URL must point to the root of a Firebase Database (not including a child path).");const g=$z(u,t,m,new qV(t,n));return new zz(g,t)}function Vz(t,e){const n=yb[e];(!n||n[t.key]!==t)&&hs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),wz(t),delete n[t.key]}function $z(t,e,n,r){let a=yb[e.name];a||(a={},yb[e.name]=a);let o=a[t.toURLString()];return o&&hs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new mz(t,Fz,n,r),a[t.toURLString()]=o,o}class zz{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pz(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ys(this._repo,lt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Vz(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&hs("Cannot call "+e+" on a deleted database.")}}function Hz(t=wR(),e){const n=x0(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=V3("database");r&&qz(n,...r)}return n}function qz(t,e,n,r={}){t=gn(t),t._checkNotDeleted("useEmulator");const a=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(a===t._repoInternal.repoInfo_.host&&xo(r,o.repoInfo_.emulatorOptions))return;hs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&hs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Oh(Oh.OWNER);else if(r.mockUserToken){const u=typeof r.mockUserToken=="string"?r.mockUserToken:$3(r.mockUserToken,t.app.options.projectId);c=new Oh(u)}Uz(o,a,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wz(t){IV(dc),Wl(new wo("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Bz(r,a,o,n)},"PUBLIC").setMultipleInstances(!0)),si(J1,eC,t),si(J1,eC,"esm2017")}is.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};is.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Wz();const Gz={apiKey:"AIzaSyCrq7Am9kiE3levq6hOGBuh_wb3lGxfdT0",authDomain:"nrd-sgo.firebaseapp.com",databaseURL:"https://nrd-sgo-default-rtdb.firebaseio.com",projectId:"nrd-sgo",storageBucket:"nrd-sgo.appspot.com",messagingSenderId:"386786255981",appId:"1:386786255981:web:95cabd428cf0ca17c58b64"},vA=xR(Gz),Za=Hz(vA),Ml=CV(vA),Pl=class Pl{constructor(){$e(this,"currentUser",null);$e(this,"authStateReady");$e(this,"authStateResolver");if(Pl.instance)return Pl.instance;this.authStateReady=new Promise(e=>{this.authStateResolver=e}),m6(Ml,e=>{this.currentUser=e,console.log("Auth state initialized:",{user:e==null?void 0:e.email,isAuthenticated:!!e}),this.authStateResolver()}),Pl.instance=this}async login(e,n,r=!1){try{await d6(Ml,r?XR:T0),await u6(Ml,e,n),r?localStorage.setItem("rememberMe","true"):localStorage.removeItem("rememberMe")}catch(a){throw console.error("Login error:",a),a}}async logout(){try{await p6(Ml),localStorage.removeItem("rememberMe")}catch(e){throw console.error("Logout error:",e),e}}getCurrentUser(){return this.currentUser}async isAuthenticated(){return await this.authStateReady,!!this.currentUser}async waitForAuthReady(){return this.authStateReady}wasRemembered(){return localStorage.getItem("rememberMe")==="true"}};$e(Pl,"instance");let hm=Pl;function Yz(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const Kz=t=>{switch(t){case"success":return Zz;case"info":return eH;case"warning":return Jz;case"error":return tH;default:return null}},Xz=Array(12).fill(0),Qz=({visible:t,className:e})=>O.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},O.createElement("div",{className:"sonner-spinner"},Xz.map((n,r)=>O.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Zz=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Jz=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eH=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tH=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nH=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},O.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),O.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),rH=()=>{const[t,e]=O.useState(document.hidden);return O.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let bb=1;class aH{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...a}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:bb++,c=this.toasts.find(f=>f.id===o),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(f=>f.id===o?(this.publish({...f,...e,id:o,title:r}),{...f,...e,id:o,dismissible:u,title:r}):f):this.addToast({title:r,...a,dismissible:u,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0}))),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,c;const u=a.then(async m=>{if(c=["resolve",m],O.isValidElement(m))o=!1,this.create({id:r,type:"default",message:m});else if(iH(m)&&!m.ok){o=!1;const v=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,y=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,w=typeof v=="object"?v:{message:v};this.create({id:r,type:"error",description:y,...w})}else if(m instanceof Error){o=!1;const v=typeof n.error=="function"?await n.error(m):n.error,y=typeof n.description=="function"?await n.description(m):n.description,w=typeof v=="object"?v:{message:v};this.create({id:r,type:"error",description:y,...w})}else if(n.success!==void 0){o=!1;const v=typeof n.success=="function"?await n.success(m):n.success,y=typeof n.description=="function"?await n.description(m):n.description,w=typeof v=="object"?v:{message:v};this.create({id:r,type:"success",description:y,...w})}}).catch(async m=>{if(c=["reject",m],n.error!==void 0){o=!1;const g=typeof n.error=="function"?await n.error(m):n.error,v=typeof n.description=="function"?await n.description(m):n.description,y=typeof g=="object"?g:{message:g};this.create({id:r,type:"error",description:v,...y})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((m,g)=>u.then(()=>c[0]==="reject"?g(c[1]):m(c[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||bb++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Zn=new aH,sH=(t,e)=>{const n=(e==null?void 0:e.id)||bb++;return Zn.addToast({title:t,...e,id:n}),n},iH=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",oH=sH,lH=()=>Zn.toasts,cH=()=>Zn.getActiveToasts(),qe=Object.assign(oH,{success:Zn.success,info:Zn.info,warning:Zn.warning,error:Zn.error,custom:Zn.custom,message:Zn.message,promise:Zn.promise,dismiss:Zn.dismiss,loading:Zn.loading},{getHistory:lH,getToasts:cH});Yz("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function hh(t){return t.label!==void 0}const uH=3,dH="24px",fH="16px",MC=4e3,hH=356,mH=14,pH=45,gH=200;function ga(...t){return t.filter(Boolean).join(" ")}function vH(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const yH=t=>{var e,n,r,a,o,c,u,f,m;const{invert:g,toast:v,unstyled:y,interacting:w,setHeights:_,visibleToasts:E,heights:S,index:C,toasts:N,expanded:I,removeToast:T,defaultRichColors:R,closeButton:D,style:j,cancelButtonStyle:P,actionButtonStyle:F,className:B="",descriptionClassName:K="",duration:re,position:Q,gap:$,expandByDefault:q,classNames:k,icons:Z,closeButtonAriaLabel:z="Close toast"}=t,[G,L]=O.useState(null),[Y,ie]=O.useState(null),[le,ue]=O.useState(!1),[_e,he]=O.useState(!1),[Ae,ne]=O.useState(!1),[de,ve]=O.useState(!1),[ze,at]=O.useState(!1),[Oe,tt]=O.useState(0),[dt,yt]=O.useState(0),Cn=O.useRef(v.duration||re||MC),V=O.useRef(null),J=O.useRef(null),ae=C===0,be=C+1<=E,pe=v.type,me=v.dismissible!==!1,Ee=v.className||"",We=v.descriptionClassName||"",_t=O.useMemo(()=>S.findIndex(Ue=>Ue.toastId===v.id)||0,[S,v.id]),It=O.useMemo(()=>{var Ue;return(Ue=v.closeButton)!=null?Ue:D},[v.closeButton,D]),Nn=O.useMemo(()=>v.duration||re||MC,[v.duration,re]),Ti=O.useRef(0),ar=O.useRef(0),_s=O.useRef(0),ia=O.useRef(null),[oa,vn]=Q.split("-"),Ri=O.useMemo(()=>S.reduce((Ue,At,Pt)=>Pt>=_t?Ue:Ue+At.height,0),[S,_t]),$r=rH(),On=v.invert||g,Nc=pe==="loading";ar.current=O.useMemo(()=>_t*$+Ri,[_t,Ri]),O.useEffect(()=>{Cn.current=Nn},[Nn]),O.useEffect(()=>{ue(!0)},[]),O.useEffect(()=>{const Ue=J.current;if(Ue){const At=Ue.getBoundingClientRect().height;return yt(At),_(Pt=>[{toastId:v.id,height:At,position:v.position},...Pt]),()=>_(Pt=>Pt.filter(jn=>jn.toastId!==v.id))}},[_,v.id]),O.useLayoutEffect(()=>{if(!le)return;const Ue=J.current,At=Ue.style.height;Ue.style.height="auto";const Pt=Ue.getBoundingClientRect().height;Ue.style.height=At,yt(Pt),_(jn=>jn.find(Gt=>Gt.toastId===v.id)?jn.map(Gt=>Gt.toastId===v.id?{...Gt,height:Pt}:Gt):[{toastId:v.id,height:Pt,position:v.position},...jn])},[le,v.title,v.description,_,v.id]);const la=O.useCallback(()=>{he(!0),tt(ar.current),_(Ue=>Ue.filter(At=>At.toastId!==v.id)),setTimeout(()=>{T(v)},gH)},[v,T,_,ar]);O.useEffect(()=>{if(v.promise&&pe==="loading"||v.duration===1/0||v.type==="loading")return;let Ue;return I||w||$r?(()=>{if(_s.current<Ti.current){const jn=new Date().getTime()-Ti.current;Cn.current=Cn.current-jn}_s.current=new Date().getTime()})():(()=>{Cn.current!==1/0&&(Ti.current=new Date().getTime(),Ue=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),la()},Cn.current))})(),()=>clearTimeout(Ue)},[I,w,v,pe,$r,la]),O.useEffect(()=>{v.delete&&la()},[la,v.delete]);function Mp(){var Ue;if(Z!=null&&Z.loading){var At;return O.createElement("div",{className:ga(k==null?void 0:k.loader,v==null||(At=v.classNames)==null?void 0:At.loader,"sonner-loader"),"data-visible":pe==="loading"},Z.loading)}return O.createElement(Qz,{className:ga(k==null?void 0:k.loader,v==null||(Ue=v.classNames)==null?void 0:Ue.loader),visible:pe==="loading"})}var Ii,Ai;return O.createElement("li",{tabIndex:0,ref:J,className:ga(B,Ee,k==null?void 0:k.toast,v==null||(e=v.classNames)==null?void 0:e.toast,k==null?void 0:k.default,k==null?void 0:k[pe],v==null||(n=v.classNames)==null?void 0:n[pe]),"data-sonner-toast":"","data-rich-colors":(Ii=v.richColors)!=null?Ii:R,"data-styled":!(v.jsx||v.unstyled||y),"data-mounted":le,"data-promise":!!v.promise,"data-swiped":ze,"data-removed":_e,"data-visible":be,"data-y-position":oa,"data-x-position":vn,"data-index":C,"data-front":ae,"data-swiping":Ae,"data-dismissible":me,"data-type":pe,"data-invert":On,"data-swipe-out":de,"data-swipe-direction":Y,"data-expanded":!!(I||q&&le),style:{"--index":C,"--toasts-before":C,"--z-index":N.length-C,"--offset":`${_e?Oe:ar.current}px`,"--initial-height":q?"auto":`${dt}px`,...j,...v.style},onDragEnd:()=>{ne(!1),L(null),ia.current=null},onPointerDown:Ue=>{Nc||!me||(V.current=new Date,tt(ar.current),Ue.target.setPointerCapture(Ue.pointerId),Ue.target.tagName!=="BUTTON"&&(ne(!0),ia.current={x:Ue.clientX,y:Ue.clientY}))},onPointerUp:()=>{var Ue,At,Pt;if(de||!me)return;ia.current=null;const jn=Number(((Ue=J.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Di=Number(((At=J.current)==null?void 0:At.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Gt=new Date().getTime()-((Pt=V.current)==null?void 0:Pt.getTime()),Tn=G==="x"?jn:Di,ca=Math.abs(Tn)/Gt;if(Math.abs(Tn)>=pH||ca>.11){tt(ar.current),v.onDismiss==null||v.onDismiss.call(v,v),ie(G==="x"?jn>0?"right":"left":Di>0?"down":"up"),la(),ve(!0);return}else{var sr,Wn;(sr=J.current)==null||sr.style.setProperty("--swipe-amount-x","0px"),(Wn=J.current)==null||Wn.style.setProperty("--swipe-amount-y","0px")}at(!1),ne(!1),L(null)},onPointerMove:Ue=>{var At,Pt,jn;if(!ia.current||!me||((At=window.getSelection())==null?void 0:At.toString().length)>0)return;const Gt=Ue.clientY-ia.current.y,Tn=Ue.clientX-ia.current.x;var ca;const sr=(ca=t.swipeDirections)!=null?ca:vH(Q);!G&&(Math.abs(Tn)>1||Math.abs(Gt)>1)&&L(Math.abs(Tn)>Math.abs(Gt)?"x":"y");let Wn={x:0,y:0};const Tc=ua=>1/(1.5+Math.abs(ua)/20);if(G==="y"){if(sr.includes("top")||sr.includes("bottom"))if(sr.includes("top")&&Gt<0||sr.includes("bottom")&&Gt>0)Wn.y=Gt;else{const ua=Gt*Tc(Gt);Wn.y=Math.abs(ua)<Math.abs(Gt)?ua:Gt}}else if(G==="x"&&(sr.includes("left")||sr.includes("right")))if(sr.includes("left")&&Tn<0||sr.includes("right")&&Tn>0)Wn.x=Tn;else{const ua=Tn*Tc(Tn);Wn.x=Math.abs(ua)<Math.abs(Tn)?ua:Tn}(Math.abs(Wn.x)>0||Math.abs(Wn.y)>0)&&at(!0),(Pt=J.current)==null||Pt.style.setProperty("--swipe-amount-x",`${Wn.x}px`),(jn=J.current)==null||jn.style.setProperty("--swipe-amount-y",`${Wn.y}px`)}},It&&!v.jsx&&pe!=="loading"?O.createElement("button",{"aria-label":z,"data-disabled":Nc,"data-close-button":!0,onClick:Nc||!me?()=>{}:()=>{la(),v.onDismiss==null||v.onDismiss.call(v,v)},className:ga(k==null?void 0:k.closeButton,v==null||(r=v.classNames)==null?void 0:r.closeButton)},(Ai=Z==null?void 0:Z.close)!=null?Ai:nH):null,pe||v.icon||v.promise?O.createElement("div",{"data-icon":"",className:ga(k==null?void 0:k.icon,v==null||(a=v.classNames)==null?void 0:a.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Mp():null,v.type!=="loading"?v.icon||(Z==null?void 0:Z[pe])||Kz(pe):null):null,O.createElement("div",{"data-content":"",className:ga(k==null?void 0:k.content,v==null||(o=v.classNames)==null?void 0:o.content)},O.createElement("div",{"data-title":"",className:ga(k==null?void 0:k.title,v==null||(c=v.classNames)==null?void 0:c.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?O.createElement("div",{"data-description":"",className:ga(K,We,k==null?void 0:k.description,v==null||(u=v.classNames)==null?void 0:u.description)},typeof v.description=="function"?v.description():v.description):null),O.isValidElement(v.cancel)?v.cancel:v.cancel&&hh(v.cancel)?O.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||P,onClick:Ue=>{hh(v.cancel)&&me&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,Ue),la())},className:ga(k==null?void 0:k.cancelButton,v==null||(f=v.classNames)==null?void 0:f.cancelButton)},v.cancel.label):null,O.isValidElement(v.action)?v.action:v.action&&hh(v.action)?O.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||F,onClick:Ue=>{hh(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,Ue),!Ue.defaultPrevented&&la())},className:ga(k==null?void 0:k.actionButton,v==null||(m=v.classNames)==null?void 0:m.actionButton)},v.action.label):null)};function PC(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function bH(t,e){const n={};return[t,e].forEach((r,a)=>{const o=a===1,c=o?"--mobile-offset":"--offset",u=o?fH:dH;function f(m){["top","right","bottom","left"].forEach(g=>{n[`${c}-${g}`]=typeof m=="number"?`${m}px`:m})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(m=>{r[m]===void 0?n[`${c}-${m}`]=u:n[`${c}-${m}`]=typeof r[m]=="number"?`${r[m]}px`:r[m]}):f(u)}),n}const xH=O.forwardRef(function(e,n){const{invert:r,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:u,className:f,offset:m,mobileOffset:g,theme:v="light",richColors:y,duration:w,style:_,visibleToasts:E=uH,toastOptions:S,dir:C=PC(),gap:N=mH,icons:I,containerAriaLabel:T="Notifications"}=e,[R,D]=O.useState([]),j=O.useMemo(()=>Array.from(new Set([a].concat(R.filter(Y=>Y.position).map(Y=>Y.position)))),[R,a]),[P,F]=O.useState([]),[B,K]=O.useState(!1),[re,Q]=O.useState(!1),[$,q]=O.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),k=O.useRef(null),Z=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=O.useRef(null),G=O.useRef(!1),L=O.useCallback(Y=>{D(ie=>{var le;return(le=ie.find(ue=>ue.id===Y.id))!=null&&le.delete||Zn.dismiss(Y.id),ie.filter(({id:ue})=>ue!==Y.id)})},[]);return O.useEffect(()=>Zn.subscribe(Y=>{if(Y.dismiss){const ie=R.map(le=>le.id===Y.id?{...le,delete:!0}:le);requestAnimationFrame(()=>{D(ie)});return}setTimeout(()=>{OT.flushSync(()=>{D(ie=>{const le=ie.findIndex(ue=>ue.id===Y.id);return le!==-1?[...ie.slice(0,le),{...ie[le],...Y},...ie.slice(le+1)]:[Y,...ie]})})})}),[R]),O.useEffect(()=>{if(v!=="system"){q(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:ie})=>{q(ie?"dark":"light")})}catch{Y.addListener(({matches:le})=>{try{q(le?"dark":"light")}catch(ue){console.error(ue)}})}},[v]),O.useEffect(()=>{R.length<=1&&K(!1)},[R]),O.useEffect(()=>{const Y=ie=>{var le;if(o.every(he=>ie[he]||ie.code===he)){var _e;K(!0),(_e=k.current)==null||_e.focus()}ie.code==="Escape"&&(document.activeElement===k.current||(le=k.current)!=null&&le.contains(document.activeElement))&&K(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[o]),O.useEffect(()=>{if(k.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,G.current=!1)}},[k.current]),O.createElement("section",{ref:n,"aria-label":`${T} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((Y,ie)=>{var le;const[ue,_e]=Y.split("-");return R.length?O.createElement("ol",{key:Y,dir:C==="auto"?PC():C,tabIndex:-1,ref:k,className:f,"data-sonner-toaster":!0,"data-sonner-theme":$,"data-y-position":ue,"data-lifted":B&&R.length>1&&!c,"data-x-position":_e,style:{"--front-toast-height":`${((le=P[0])==null?void 0:le.height)||0}px`,"--width":`${hH}px`,"--gap":`${N}px`,..._,...bH(m,g)},onBlur:he=>{G.current&&!he.currentTarget.contains(he.relatedTarget)&&(G.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||G.current||(G.current=!0,z.current=he.relatedTarget)},onMouseEnter:()=>K(!0),onMouseMove:()=>K(!0),onMouseLeave:()=>{re||K(!1)},onDragEnd:()=>K(!1),onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||Q(!0)},onPointerUp:()=>Q(!1)},R.filter(he=>!he.position&&ie===0||he.position===Y).map((he,Ae)=>{var ne,de;return O.createElement(yH,{key:he.id,icons:I,index:Ae,toast:he,defaultRichColors:y,duration:(ne=S==null?void 0:S.duration)!=null?ne:w,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:r,visibleToasts:E,closeButton:(de=S==null?void 0:S.closeButton)!=null?de:u,interacting:re,position:Y,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:L,toasts:R.filter(ve=>ve.position==he.position),heights:P.filter(ve=>ve.position==he.position),setHeights:F,expandByDefault:c,gap:N,expanded:B,swipeDirections:e.swipeDirections})})):null}))}),yA="/nrd-sgo/assets/logo-Dugcj0T7.jpg",wH=()=>{const t=Tt(),e=Br(),[n,r]=x.useState(!1),[a,o]=x.useState({email:"",password:""}),[c,u]=x.useState(document.documentElement.classList.contains("dark")),f=()=>{const v=!c;u(v),v?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")},m=async v=>{var y;v.preventDefault(),r(!0);try{await new hm().login(a.email,a.password),console.log("Login successful");const _=((y=e.state)==null?void 0:y.from)||"/dashboard";t(_,{replace:!0})}catch(w){console.error("Login error:",w),qe.error("Error al iniciar sesin. Por favor, verifique sus credenciales.")}finally{r(!1)}},g=v=>{const{name:y,value:w}=v.target;o({...a,[y]:w})};return d.jsxs("div",{className:"min-h-screen flex flex-col bg-background relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:d.jsx("div",{className:"absolute -top-[40rem] left-1/2 -z-10 transform -translate-x-1/2",children:d.jsx("div",{className:"aspect-[1200/800] w-[80rem] bg-gradient-to-tr from-primary/20 to-primary-foreground/20 opacity-30 blur-3xl"})})}),d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx(Se,{variant:"ghost",size:"icon",onClick:f,className:"rounded-full",children:c?d.jsx(Wy,{className:"h-5 w-5"}):d.jsx(Hy,{className:"h-5 w-5"})})}),d.jsx("div",{className:"flex-1 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:d.jsxs(Ut,{className:"w-full max-w-[90%] sm:max-w-md backdrop-blur-sm bg-card/80 shadow-xl",children:[d.jsxs(Fn,{className:"space-y-4 text-center pb-6",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx("img",{src:yA,alt:"Logo",className:"h-16 w-16 sm:h-20 sm:w-20 rounded-lg shadow-lg object-cover"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Un,{className:"text-xl sm:text-2xl font-bold tracking-tight",children:"Sistema de Gestin Operativa"}),d.jsx(oR,{className:"text-sm sm:text-base",children:"Inicie sesin para continuar"})]})]}),d.jsx(Ht,{children:d.jsxs("form",{onSubmit:m,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:d.jsx(H4,{className:"h-4 w-4 text-muted-foreground"})}),d.jsx(pn,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"pl-10 h-11",placeholder:"usuario@ejemplo.com",value:a.email,onChange:g,disabled:n})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:d.jsx(f4,{className:"h-4 w-4 text-muted-foreground"})}),d.jsx(pn,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"pl-10 h-11",placeholder:"",value:a.password,onChange:g,disabled:n})]})]}),d.jsx(Se,{type:"submit",className:"w-full h-11 text-base",disabled:n,children:n?d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Iniciando sesin..."]}):d.jsxs(d.Fragment,{children:[d.jsx(m4,{className:"h-5 w-5 mr-2"}),"Iniciar sesin"]})})]})})]})}),d.jsx("div",{className:"py-4 text-center",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Sistema de Gestin Operativa. Todos los derechos reservados."]})})]})};function Be(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t==null||t(a),n===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function kC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sp(...t){return e=>{let n=!1;const r=t.map(a=>{const o=kC(a,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():kC(t[a],null)}}}}function Wt(...t){return x.useCallback(sp(...t),t)}function _H(t,e){const n=x.createContext(e),r=o=>{const{children:c,...u}=o,f=x.useMemo(()=>u,Object.values(u));return d.jsx(n.Provider,{value:f,children:c})};r.displayName=t+"Provider";function a(o){const c=x.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,a]}function bs(t,e=[]){let n=[];function r(o,c){const u=x.createContext(c),f=n.length;n=[...n,c];const m=v=>{var C;const{scope:y,children:w,..._}=v,E=((C=y==null?void 0:y[t])==null?void 0:C[f])||u,S=x.useMemo(()=>_,Object.values(_));return d.jsx(E.Provider,{value:S,children:w})};m.displayName=o+"Provider";function g(v,y){var E;const w=((E=y==null?void 0:y[t])==null?void 0:E[f])||u,_=x.useContext(w);if(_)return _;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[m,g]}const a=()=>{const o=n.map(c=>x.createContext(c));return function(u){const f=(u==null?void 0:u[t])||o;return x.useMemo(()=>({[`__scope${t}`]:{...u,[t]:f}}),[u,f])}};return a.scopeName=t,[r,SH(a,...e)]}function SH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const c=r.reduce((u,{useScope:f,scopeName:m})=>{const v=f(o)[`__scope${m}`];return{...u,...v}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}var gi=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},EH=nd.useId||(()=>{}),CH=0;function ci(t){const[e,n]=x.useState(EH());return gi(()=>{n(r=>r??String(CH++))},[t]),e?`radix-${e}`:""}function ea(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function yc({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,a]=NH({defaultProp:e,onChange:n}),o=t!==void 0,c=o?t:r,u=ea(n),f=x.useCallback(m=>{if(o){const v=typeof m=="function"?m(t):m;v!==t&&u(v)}else a(m)},[o,t,a,u]);return[c,f]}function NH({defaultProp:t,onChange:e}){const n=x.useState(t),[r]=n,a=x.useRef(r),o=ea(e);return x.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),n}var No=x.forwardRef((t,e)=>{const{children:n,...r}=t,a=x.Children.toArray(n),o=a.find(TH);if(o){const c=o.props.children,u=a.map(f=>f===o?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return d.jsx(xb,{...r,ref:e,children:x.isValidElement(c)?x.cloneElement(c,void 0,u):null})}return d.jsx(xb,{...r,ref:e,children:n})});No.displayName="Slot";var xb=x.forwardRef((t,e)=>{const{children:n,...r}=t;if(x.isValidElement(n)){const a=IH(n),o=RH(r,n.props);return n.type!==x.Fragment&&(o.ref=e?sp(e,a):a),x.cloneElement(n,o)}return x.Children.count(n)>1?x.Children.only(null):null});xb.displayName="SlotClone";var bA=({children:t})=>d.jsx(d.Fragment,{children:t});function TH(t){return x.isValidElement(t)&&t.type===bA}function RH(t,e){const n={...e};for(const r in e){const a=t[r],o=e[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...u)=>{o(...u),a(...u)}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...t,...n}}function IH(t){var r,a;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var AH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],wt=AH.reduce((t,e)=>{const n=x.forwardRef((r,a)=>{const{asChild:o,...c}=r,u=o?No:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(u,{...c,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function xA(t,e){t&&Rd.flushSync(()=>t.dispatchEvent(e))}function DH(t,e=globalThis==null?void 0:globalThis.document){const n=ea(t);x.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var OH="DismissableLayer",wb="dismissableLayer.update",jH="dismissableLayer.pointerDownOutside",MH="dismissableLayer.focusOutside",LC,wA=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ip=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:c,onDismiss:u,...f}=t,m=x.useContext(wA),[g,v]=x.useState(null),y=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=x.useState({}),_=Wt(e,j=>v(j)),E=Array.from(m.layers),[S]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=E.indexOf(S),N=g?E.indexOf(g):-1,I=m.layersWithOutsidePointerEventsDisabled.size>0,T=N>=C,R=LH(j=>{const P=j.target,F=[...m.branches].some(B=>B.contains(P));!T||F||(a==null||a(j),c==null||c(j),j.defaultPrevented||u==null||u())},y),D=FH(j=>{const P=j.target;[...m.branches].some(B=>B.contains(P))||(o==null||o(j),c==null||c(j),j.defaultPrevented||u==null||u())},y);return DH(j=>{N===m.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&u&&(j.preventDefault(),u()))},y),x.useEffect(()=>{if(g)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(LC=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),FC(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=LC)}},[g,y,n,m]),x.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),FC())},[g,m]),x.useEffect(()=>{const j=()=>w({});return document.addEventListener(wb,j),()=>document.removeEventListener(wb,j)},[]),d.jsx(wt.div,{...f,ref:_,style:{pointerEvents:I?T?"auto":"none":void 0,...t.style},onFocusCapture:Be(t.onFocusCapture,D.onFocusCapture),onBlurCapture:Be(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Be(t.onPointerDownCapture,R.onPointerDownCapture)})});ip.displayName=OH;var PH="DismissableLayerBranch",kH=x.forwardRef((t,e)=>{const n=x.useContext(wA),r=x.useRef(null),a=Wt(e,r);return x.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),d.jsx(wt.div,{...t,ref:a})});kH.displayName=PH;function LH(t,e=globalThis==null?void 0:globalThis.document){const n=ea(t),r=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let f=function(){_A(jH,n,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=f,e.addEventListener("click",a.current,{once:!0})):f()}else e.removeEventListener("click",a.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",o),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function FH(t,e=globalThis==null?void 0:globalThis.document){const n=ea(t),r=x.useRef(!1);return x.useEffect(()=>{const a=o=>{o.target&&!r.current&&_A(MH,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function FC(){const t=new CustomEvent(wb);document.dispatchEvent(t)}function _A(t,e,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),r?xA(a,o):a.dispatchEvent(o)}var hy="focusScope.autoFocusOnMount",my="focusScope.autoFocusOnUnmount",UC={bubbles:!1,cancelable:!0},UH="FocusScope",hx=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...c}=t,[u,f]=x.useState(null),m=ea(a),g=ea(o),v=x.useRef(null),y=Wt(e,E=>f(E)),w=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let E=function(I){if(w.paused||!u)return;const T=I.target;u.contains(T)?v.current=T:Ys(v.current,{select:!0})},S=function(I){if(w.paused||!u)return;const T=I.relatedTarget;T!==null&&(u.contains(T)||Ys(v.current,{select:!0}))},C=function(I){if(document.activeElement===document.body)for(const R of I)R.removedNodes.length>0&&Ys(u)};document.addEventListener("focusin",E),document.addEventListener("focusout",S);const N=new MutationObserver(C);return u&&N.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",S),N.disconnect()}}},[r,u,w.paused]),x.useEffect(()=>{if(u){VC.add(w);const E=document.activeElement;if(!u.contains(E)){const C=new CustomEvent(hy,UC);u.addEventListener(hy,m),u.dispatchEvent(C),C.defaultPrevented||(BH(qH(SA(u)),{select:!0}),document.activeElement===E&&Ys(u))}return()=>{u.removeEventListener(hy,m),setTimeout(()=>{const C=new CustomEvent(my,UC);u.addEventListener(my,g),u.dispatchEvent(C),C.defaultPrevented||Ys(E??document.body,{select:!0}),u.removeEventListener(my,g),VC.remove(w)},0)}}},[u,m,g,w]);const _=x.useCallback(E=>{if(!n&&!r||w.paused)return;const S=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,C=document.activeElement;if(S&&C){const N=E.currentTarget,[I,T]=VH(N);I&&T?!E.shiftKey&&C===T?(E.preventDefault(),n&&Ys(I,{select:!0})):E.shiftKey&&C===I&&(E.preventDefault(),n&&Ys(T,{select:!0})):C===N&&E.preventDefault()}},[n,r,w.paused]);return d.jsx(wt.div,{tabIndex:-1,...c,ref:y,onKeyDown:_})});hx.displayName=UH;function BH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ys(r,{select:e}),document.activeElement!==n)return}function VH(t){const e=SA(t),n=BC(e,t),r=BC(e.reverse(),t);return[n,r]}function SA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function BC(t,e){for(const n of t)if(!$H(n,{upTo:e}))return n}function $H(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function zH(t){return t instanceof HTMLInputElement&&"select"in t}function Ys(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&zH(t)&&e&&t.select()}}var VC=HH();function HH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=$C(t,e),t.unshift(e)},remove(e){var n;t=$C(t,e),(n=t[0])==null||n.resume()}}}function $C(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function qH(t){return t.filter(e=>e.tagName!=="A")}var WH="Portal",mx=x.forwardRef((t,e)=>{var u;const{container:n,...r}=t,[a,o]=x.useState(!1);gi(()=>o(!0),[]);const c=n||a&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?OT.createPortal(d.jsx(wt.div,{...r,ref:e}),c):null});mx.displayName=WH;function GH(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var aa=t=>{const{present:e,children:n}=t,r=YH(e),a=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),o=Wt(r.ref,KH(a));return typeof n=="function"||r.isPresent?x.cloneElement(a,{ref:o}):null};aa.displayName="Presence";function YH(t){const[e,n]=x.useState(),r=x.useRef({}),a=x.useRef(t),o=x.useRef("none"),c=t?"mounted":"unmounted",[u,f]=GH(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const m=mh(r.current);o.current=u==="mounted"?m:"none"},[u]),gi(()=>{const m=r.current,g=a.current;if(g!==t){const y=o.current,w=mh(m);t?f("MOUNT"):w==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(g&&y!==w?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,f]),gi(()=>{if(e){let m;const g=e.ownerDocument.defaultView??window,v=w=>{const E=mh(r.current).includes(w.animationName);if(w.target===e&&E&&(f("ANIMATION_END"),!a.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",m=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},y=w=>{w.target===e&&(o.current=mh(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(m),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:x.useCallback(m=>{m&&(r.current=getComputedStyle(m)),n(m)},[])}}function mh(t){return(t==null?void 0:t.animationName)||"none"}function KH(t){var r,a;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var py=0;function EA(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??zC()),document.body.insertAdjacentElement("beforeend",t[1]??zC()),py++,()=>{py===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),py--}},[])}function zC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var jh="right-scroll-bar-position",Mh="width-before-scroll-bar",XH="with-scroll-bars-hidden",QH="--removed-body-scroll-bar-size";function gy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ZH(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=e,n.facade}var JH=typeof window<"u"?x.useLayoutEffect:x.useEffect,HC=new WeakMap;function e7(t,e){var n=ZH(null,function(r){return t.forEach(function(a){return gy(a,r)})});return JH(function(){var r=HC.get(n);if(r){var a=new Set(r),o=new Set(t),c=n.current;a.forEach(function(u){o.has(u)||gy(u,null)}),o.forEach(function(u){a.has(u)||gy(u,c)})}HC.set(n,t)},[t]),n}function t7(t){return t}function n7(t,e){e===void 0&&(e=t7);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var c=e(o,r);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(o){for(r=!0;n.length;){var c=n;n=[],c.forEach(o)}n={push:function(u){return o(u)},filter:function(){return n}}},assignMedium:function(o){r=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(o),c=n}var f=function(){var g=c;c=[],g.forEach(o)},m=function(){return Promise.resolve().then(f)};m(),n={push:function(g){c.push(g),m()},filter:function(g){return c=c.filter(g),n}}}};return a}function r7(t){t===void 0&&(t={});var e=n7(null);return e.options=wa({async:!0,ssr:!1},t),e}var CA=function(t){var e=t.sideCar,n=jd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,wa({},n))};CA.isSideCarExport=!0;function a7(t,e){return t.useMedium(e),CA}var NA=r7(),vy=function(){},op=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:vy,onWheelCapture:vy,onTouchMoveCapture:vy}),a=r[0],o=r[1],c=t.forwardProps,u=t.children,f=t.className,m=t.removeScrollBar,g=t.enabled,v=t.shards,y=t.sideCar,w=t.noIsolation,_=t.inert,E=t.allowPinchZoom,S=t.as,C=S===void 0?"div":S,N=t.gapMode,I=jd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=y,R=e7([n,e]),D=wa(wa({},I),a);return x.createElement(x.Fragment,null,g&&x.createElement(T,{sideCar:NA,removeScrollBar:m,shards:v,noIsolation:w,inert:_,setCallbacks:o,allowPinchZoom:!!E,lockRef:n,gapMode:N}),c?x.cloneElement(x.Children.only(u),wa(wa({},D),{ref:R})):x.createElement(C,wa({},D,{className:f,ref:R}),u))});op.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};op.classNames={fullWidth:Mh,zeroRight:jh};var s7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function i7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=s7();return e&&t.setAttribute("nonce",e),t}function o7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function l7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var c7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=i7())&&(o7(e,n),l7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},u7=function(){var t=c7();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},TA=function(){var t=u7(),e=function(n){var r=n.styles,a=n.dynamic;return t(r,a),null};return e},d7={left:0,top:0,right:0,gap:0},yy=function(t){return parseInt(t||"",10)||0},f7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[yy(n),yy(r),yy(a)]},h7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return d7;var e=f7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},m7=TA(),Vl="data-scroll-locked",p7=function(t,e,n,r){var a=t.left,o=t.top,c=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(XH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Vl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jh,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Mh,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(jh," .").concat(jh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Mh," .").concat(Mh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vl,`] {
    `).concat(QH,": ").concat(u,`px;
  }
`)},qC=function(){var t=parseInt(document.body.getAttribute(Vl)||"0",10);return isFinite(t)?t:0},g7=function(){x.useEffect(function(){return document.body.setAttribute(Vl,(qC()+1).toString()),function(){var t=qC()-1;t<=0?document.body.removeAttribute(Vl):document.body.setAttribute(Vl,t.toString())}},[])},v7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,a=r===void 0?"margin":r;g7();var o=x.useMemo(function(){return h7(a)},[a]);return x.createElement(m7,{styles:p7(o,!e,a,n?"":"!important")})},_b=!1;if(typeof window<"u")try{var ph=Object.defineProperty({},"passive",{get:function(){return _b=!0,!0}});window.addEventListener("test",ph,ph),window.removeEventListener("test",ph,ph)}catch{_b=!1}var Tl=_b?{passive:!1}:!1,y7=function(t){return t.tagName==="TEXTAREA"},RA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!y7(t)&&n[e]==="visible")},b7=function(t){return RA(t,"overflowY")},x7=function(t){return RA(t,"overflowX")},WC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=IA(t,r);if(a){var o=AA(t,r),c=o[1],u=o[2];if(c>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},w7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},_7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},IA=function(t,e){return t==="v"?b7(e):x7(e)},AA=function(t,e){return t==="v"?w7(e):_7(e)},S7=function(t,e){return t==="h"&&e==="rtl"?-1:1},E7=function(t,e,n,r,a){var o=S7(t,window.getComputedStyle(e).direction),c=o*r,u=n.target,f=e.contains(u),m=!1,g=c>0,v=0,y=0;do{var w=AA(t,u),_=w[0],E=w[1],S=w[2],C=E-S-o*_;(_||C)&&IA(t,u)&&(v+=C,y+=_),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(g&&Math.abs(v)<1||!g&&Math.abs(y)<1)&&(m=!0),m},gh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},GC=function(t){return[t.deltaX,t.deltaY]},YC=function(t){return t&&"current"in t?t.current:t},C7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},N7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},T7=0,Rl=[];function R7(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),a=x.useState(T7++)[0],o=x.useState(TA)[0],c=x.useRef(t);x.useEffect(function(){c.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var E=hB([t.lockRef.current],(t.shards||[]).map(YC),!0).filter(Boolean);return E.forEach(function(S){return S.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),E.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var u=x.useCallback(function(E,S){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!c.current.allowPinchZoom;var C=gh(E),N=n.current,I="deltaX"in E?E.deltaX:N[0]-C[0],T="deltaY"in E?E.deltaY:N[1]-C[1],R,D=E.target,j=Math.abs(I)>Math.abs(T)?"h":"v";if("touches"in E&&j==="h"&&D.type==="range")return!1;var P=WC(j,D);if(!P)return!0;if(P?R=j:(R=j==="v"?"h":"v",P=WC(j,D)),!P)return!1;if(!r.current&&"changedTouches"in E&&(I||T)&&(r.current=R),!R)return!0;var F=r.current||R;return E7(F,S,E,F==="h"?I:T)},[]),f=x.useCallback(function(E){var S=E;if(!(!Rl.length||Rl[Rl.length-1]!==o)){var C="deltaY"in S?GC(S):gh(S),N=e.current.filter(function(R){return R.name===S.type&&(R.target===S.target||S.target===R.shadowParent)&&C7(R.delta,C)})[0];if(N&&N.should){S.cancelable&&S.preventDefault();return}if(!N){var I=(c.current.shards||[]).map(YC).filter(Boolean).filter(function(R){return R.contains(S.target)}),T=I.length>0?u(S,I[0]):!c.current.noIsolation;T&&S.cancelable&&S.preventDefault()}}},[]),m=x.useCallback(function(E,S,C,N){var I={name:E,delta:S,target:C,should:N,shadowParent:I7(C)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(T){return T!==I})},1)},[]),g=x.useCallback(function(E){n.current=gh(E),r.current=void 0},[]),v=x.useCallback(function(E){m(E.type,GC(E),E.target,u(E,t.lockRef.current))},[]),y=x.useCallback(function(E){m(E.type,gh(E),E.target,u(E,t.lockRef.current))},[]);x.useEffect(function(){return Rl.push(o),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:y}),document.addEventListener("wheel",f,Tl),document.addEventListener("touchmove",f,Tl),document.addEventListener("touchstart",g,Tl),function(){Rl=Rl.filter(function(E){return E!==o}),document.removeEventListener("wheel",f,Tl),document.removeEventListener("touchmove",f,Tl),document.removeEventListener("touchstart",g,Tl)}},[]);var w=t.removeScrollBar,_=t.inert;return x.createElement(x.Fragment,null,_?x.createElement(o,{styles:N7(a)}):null,w?x.createElement(v7,{gapMode:t.gapMode}):null)}function I7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const A7=a7(NA,R7);var px=x.forwardRef(function(t,e){return x.createElement(op,wa({},t,{ref:e,sideCar:A7}))});px.classNames=op.classNames;var D7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Il=new WeakMap,vh=new WeakMap,yh={},by=0,DA=function(t){return t&&(t.host||DA(t.parentNode))},O7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=DA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},j7=function(t,e,n,r){var a=O7(e,Array.isArray(t)?t:[t]);yh[n]||(yh[n]=new WeakMap);var o=yh[n],c=[],u=new Set,f=new Set(a),m=function(v){!v||u.has(v)||(u.add(v),m(v.parentNode))};a.forEach(m);var g=function(v){!v||f.has(v)||Array.prototype.forEach.call(v.children,function(y){if(u.has(y))g(y);else try{var w=y.getAttribute(r),_=w!==null&&w!=="false",E=(Il.get(y)||0)+1,S=(o.get(y)||0)+1;Il.set(y,E),o.set(y,S),c.push(y),E===1&&_&&vh.set(y,!0),S===1&&y.setAttribute(n,"true"),_||y.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",y,C)}})};return g(e),u.clear(),by++,function(){c.forEach(function(v){var y=Il.get(v)-1,w=o.get(v)-1;Il.set(v,y),o.set(v,w),y||(vh.has(v)||v.removeAttribute(r),vh.delete(v)),w||v.removeAttribute(n)}),by--,by||(Il=new WeakMap,Il=new WeakMap,vh=new WeakMap,yh={})}},OA=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),a=D7(t);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),j7(r,a,n,"aria-hidden")):function(){return null}},gx="Dialog",[jA,gee]=bs(gx),[M7,sa]=jA(gx),MA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:c=!0}=t,u=x.useRef(null),f=x.useRef(null),[m=!1,g]=yc({prop:r,defaultProp:a,onChange:o});return d.jsx(M7,{scope:e,triggerRef:u,contentRef:f,contentId:ci(),titleId:ci(),descriptionId:ci(),open:m,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(v=>!v),[g]),modal:c,children:n})};MA.displayName=gx;var PA="DialogTrigger",kA=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=sa(PA,n),o=Wt(e,a.triggerRef);return d.jsx(wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":bx(a.open),...r,ref:o,onClick:Be(t.onClick,a.onOpenToggle)})});kA.displayName=PA;var vx="DialogPortal",[P7,LA]=jA(vx,{forceMount:void 0}),FA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:a}=t,o=sa(vx,e);return d.jsx(P7,{scope:e,forceMount:n,children:x.Children.map(r,c=>d.jsx(aa,{present:n||o.open,children:d.jsx(mx,{asChild:!0,container:a,children:c})}))})};FA.displayName=vx;var mm="DialogOverlay",UA=x.forwardRef((t,e)=>{const n=LA(mm,t.__scopeDialog),{forceMount:r=n.forceMount,...a}=t,o=sa(mm,t.__scopeDialog);return o.modal?d.jsx(aa,{present:r||o.open,children:d.jsx(k7,{...a,ref:e})}):null});UA.displayName=mm;var k7=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=sa(mm,n);return d.jsx(px,{as:No,allowPinchZoom:!0,shards:[a.contentRef],children:d.jsx(wt.div,{"data-state":bx(a.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),To="DialogContent",BA=x.forwardRef((t,e)=>{const n=LA(To,t.__scopeDialog),{forceMount:r=n.forceMount,...a}=t,o=sa(To,t.__scopeDialog);return d.jsx(aa,{present:r||o.open,children:o.modal?d.jsx(L7,{...a,ref:e}):d.jsx(F7,{...a,ref:e})})});BA.displayName=To;var L7=x.forwardRef((t,e)=>{const n=sa(To,t.__scopeDialog),r=x.useRef(null),a=Wt(e,n.contentRef,r);return x.useEffect(()=>{const o=r.current;if(o)return OA(o)},[]),d.jsx(VA,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Be(t.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Be(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&o.preventDefault()}),onFocusOutside:Be(t.onFocusOutside,o=>o.preventDefault())})}),F7=x.forwardRef((t,e)=>{const n=sa(To,t.__scopeDialog),r=x.useRef(!1),a=x.useRef(!1);return d.jsx(VA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,u;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var f,m;(f=t.onInteractOutside)==null||f.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;((m=n.triggerRef.current)==null?void 0:m.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),VA=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...c}=t,u=sa(To,n),f=x.useRef(null),m=Wt(e,f);return EA(),d.jsxs(d.Fragment,{children:[d.jsx(hx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:d.jsx(ip,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":bx(u.open),...c,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(U7,{titleId:u.titleId}),d.jsx(V7,{contentRef:f,descriptionId:u.descriptionId})]})]})}),yx="DialogTitle",$A=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=sa(yx,n);return d.jsx(wt.h2,{id:a.titleId,...r,ref:e})});$A.displayName=yx;var zA="DialogDescription",HA=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=sa(zA,n);return d.jsx(wt.p,{id:a.descriptionId,...r,ref:e})});HA.displayName=zA;var qA="DialogClose",WA=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=sa(qA,n);return d.jsx(wt.button,{type:"button",...r,ref:e,onClick:Be(t.onClick,()=>a.onOpenChange(!1))})});WA.displayName=qA;function bx(t){return t?"open":"closed"}var GA="DialogTitleWarning",[vee,YA]=_H(GA,{contentName:To,titleName:yx,docsSlug:"dialog"}),U7=({titleId:t})=>{const e=YA(GA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},B7="DialogDescriptionWarning",V7=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${YA(B7).contentName}}.`;return x.useEffect(()=>{var o;const a=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},$7=MA,z7=kA,H7=FA,KA=UA,XA=BA,QA=$A,ZA=HA,q7=WA;const bc=$7,xx=z7,W7=H7,JA=x.forwardRef(({className:t,...e},n)=>d.jsx(KA,{ref:n,className:ke("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));JA.displayName=KA.displayName;const ko=x.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(W7,{children:[d.jsx(JA,{}),d.jsxs(XA,{ref:r,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),"aria-describedby":"dialog-description",...n,children:[e,d.jsxs(q7,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx($T,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]}),d.jsx("span",{id:"dialog-description",className:"sr-only",children:"Dilogo de la aplicacin"})]})]}));ko.displayName=XA.displayName;const Lo=({className:t,...e})=>d.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Lo.displayName="DialogHeader";const eD=({className:t,...e})=>d.jsx("div",{className:ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});eD.displayName="DialogFooter";const Fo=x.forwardRef(({className:t,...e},n)=>d.jsx(QA,{ref:n,className:ke("text-lg font-semibold leading-none tracking-tight",t),...e}));Fo.displayName=QA.displayName;const tD=x.forwardRef(({className:t,...e},n)=>d.jsx(ZA,{ref:n,className:ke("text-sm text-muted-foreground",t),...e}));tD.displayName=ZA.displayName;function wx({open:t,onOpenChange:e,title:n,description:r,onConfirm:a,onCancel:o,confirmText:c="Confirmar",cancelText:u="Cancelar",variant:f="default"}){const m=()=>{e(!1),o==null||o()},g=()=>{a(),e(!1)};return d.jsx(bc,{open:t,onOpenChange:e,children:d.jsxs(ko,{children:[d.jsxs(Lo,{children:[d.jsx(Fo,{children:n}),d.jsx(tD,{children:r})]}),d.jsxs(eD,{children:[d.jsx(Se,{variant:"secondary",onClick:m,children:u}),d.jsx(Se,{variant:f==="destructive"?"danger":"primary",onClick:g,children:c})]})]})})}const _x=({title:t,subtitle:e,backPath:n,actions:r,className:a})=>{const o=Tt();return d.jsx("div",{className:ke("border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",a),children:d.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[d.jsx("div",{className:"space-y-1",children:d.jsxs("div",{className:"flex items-center gap-4",children:[n&&d.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>o(n),className:"flex items-center gap-2",children:d.jsx(u0,{className:"h-5 w-5"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:t}),e&&d.jsx("p",{className:"text-sm text-muted-foreground",children:e})]})]})}),r&&d.jsx("div",{className:"flex items-center gap-2",children:r})]})})},uo=class uo{constructor(){$e(this,"context",[]);$e(this,"parentId");$e(this,"isDevelopment");this.isDevelopment=!1}static getInstance(){return uo.instance||(uo.instance=new uo),uo.instance}generateId(){return Math.random().toString(36).substring(2,15)}getCurrentContext(){return this.context.join(" > ")}formatMessage(e,n,r){const a=new Date().toISOString(),o=this.getCurrentContext(),c=this.parentId?` [Parent: ${this.parentId}]`:"",u=r?` ${JSON.stringify(r)}`:"",f=e==="ERROR"?`
Stack: ${new Error().stack}`:"";return`[${a}] ${e} ${o}${c}: ${n}${u}${f}`}enterContext(e){this.context.push(e),this.parentId=this.generateId()}exitContext(){this.context.pop(),this.parentId=void 0}debug(e,n){this.isDevelopment&&console.debug(this.formatMessage("DEBUG",e,n))}info(e,n){this.isDevelopment&&console.info(this.formatMessage("INFO",e,n))}warn(e,n){this.isDevelopment&&console.warn(this.formatMessage("WARN",e,n))}error(e,n){console.error(this.formatMessage("ERROR",e,n))}};$e(uo,"instance");let Sb=uo;function Uo(t){const e=Sb.getInstance();return x.useEffect(()=>(e.enterContext(t),e.debug(`Component ${t} mounted`),()=>{e.debug(`Component ${t} unmounted`),e.exitContext()}),[t,e]),x.useMemo(()=>({debug:(r,a)=>{e.debug(r,a)},info:(r,a)=>{e.info(r,a)},warn:(r,a)=>{e.warn(r,a)},error:(r,a)=>{e.error(r,a)}}),[e])}const G7=({config:t})=>{const e=n=>{switch(n){case"success":return"bg-green-100 text-green-700";case"warning":return"bg-orange-100 text-orange-700";case"danger":return"bg-red-100 text-red-700";case"info":return"bg-blue-100 text-blue-700";case"primary":return"bg-primary/20 text-primary";case"secondary":return"bg-secondary/20 text-secondary";default:return"bg-gray-100 text-gray-700"}};return d.jsx("span",{className:ke("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",e(t.color)),children:t.label})};function gr({columns:t,title:e,addPath:n,onAddClick:r,backPath:a,service:o,onPrint:c}){const u=Uo("GenericList"),[f,m]=O.useState([]),[g,v]=O.useState([]),[y,w]=O.useState(!0),[_,E]=O.useState(""),[S,C]=O.useState(!1),[N,I]=O.useState(null),T=O.useMemo(()=>o,[]),R=O.useMemo(()=>e,[]),D={header:"Acciones",accessor:"actions",render:$=>d.jsxs("div",{className:"flex gap-2 justify-end",children:[c&&d.jsx(Se,{variant:"ghost",size:"icon",onClick:q=>{q.stopPropagation(),c($)},children:d.jsx(BT,{className:"h-4 w-4"})}),d.jsx(ss,{to:`${a||""}/${$.id}`,children:d.jsx(Se,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Ver detalles",children:d.jsx(FT,{className:"h-5 w-5"})})}),d.jsx(ss,{to:`${a||""}/${$.id}/edit`,children:d.jsx(Se,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Editar",children:d.jsx(Id,{className:"h-5 w-5"})})}),d.jsx(Se,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:text-destructive",onClick:q=>{q.preventDefault(),q.stopPropagation(),$.id&&re($.id)},title:"Eliminar",children:d.jsx(Ad,{className:"h-5 w-5"})})]})},j={header:"#",accessor:"nro",type:"text",searchable:!0},P=t.filter($=>$.accessor!=="nro"),F=[j,...P,D],B=O.useCallback(async()=>{try{y||u.info("Cargando items",{title:R});const $=await T.findAll();m($),v($),u.debug("Items cargados exitosamente",{count:$.length})}catch($){u.error("Error al cargar los datos",{error:$,title:R}),qe.error("Error al cargar los datos")}finally{w(!1)}},[T,R,y,u]);O.useEffect(()=>{B()},[B]),O.useEffect(()=>{if(_.trim()===""){v(f);return}u.debug("Filtrando items",{searchTerm:_,totalItems:f.length});const $=t.filter(k=>k.searchable!==!1),q=f.filter(k=>$.some(Z=>(Z.render?String(Z.render(k)):String(k[Z.accessor]??"")).toLowerCase().includes(_.toLowerCase())));u.debug("Filtrado completado",{filteredCount:q.length,searchableColumns:$.length}),v(q)},[_,f,t,u]);const K=async $=>{try{u.info("Eliminando item",{id:$,title:R}),await T.delete($),u.debug("Item eliminado exitosamente",{id:$}),qe.success("Registro eliminado exitosamente"),B()}catch(q){u.error("Error al eliminar el registro",{error:q,id:$,title:R}),qe.error("Error al eliminar el registro")}},re=$=>{u.debug("Iniciando proceso de eliminacin",{id:$}),I($),C(!0)},Q=($,q)=>{if(q.render)return q.render($);const k=$[q.accessor];if(q.type==="date")return iR(k);if(q.type==="tag"&&q.tags){const Z=q.tags.find(z=>z.value===k);if(Z)return d.jsx(G7,{config:Z})}return String(k??"")};return y?d.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx(_x,{title:e,subtitle:`Lista de ${e.toLowerCase()}`,actions:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"relative",children:[d.jsx(pn,{type:"text",placeholder:"Buscar...",value:_,onChange:$=>E($.target.value),className:"w-[300px] pl-9"}),d.jsx(M4,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"})]}),r?d.jsxs(Se,{onClick:r,children:[d.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Nuevo"]}):n?d.jsx(ss,{to:n,children:d.jsxs(Se,{children:[d.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Nuevo"]})}):null]})}),d.jsx("div",{className:"flex-1 p-4",children:d.jsx("div",{className:"rounded-md border",children:d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsxs("table",{className:"w-full caption-bottom text-sm",children:[d.jsx("thead",{className:"[&_tr]:border-b bg-muted/50",children:d.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:F.map(($,q)=>d.jsx("th",{className:ke("h-10 px-2 text-left align-middle font-medium text-muted-foreground",$.header==="Acciones"&&"text-right",$.header==="#"&&"w-[60px] text-center"),children:$.header},q))})}),d.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:g.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:F.length,className:"p-2 text-center text-muted-foreground",children:_.trim()!==""?`No se encontraron ${e.toLowerCase()} que coincidan con la bsqueda`:`No hay ${e.toLowerCase()} registrados`})}):g.map($=>d.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:F.map((q,k)=>d.jsx("td",{className:ke("p-2 align-middle",q.header==="#"&&"text-center font-medium"),children:Q($,q)},k))},$.id))})]})})})}),d.jsx(wx,{open:S,onOpenChange:C,title:"Confirmar eliminacin",description:"Est seguro de que desea eliminar este registro? Esta accin no se puede deshacer.",onConfirm:()=>N&&K(N),confirmText:"Eliminar",variant:"destructive"})]})}var Zl=(t=>(t.ACTIVE="active",t.INACTIVE="inactive",t))(Zl||{});class vr{constructor(e,n){$e(this,"db");$e(this,"path");this.db=e,this.path=n}validateModelData(e){if(!this.modelProperties)throw new Error("Model properties must be defined in the repository implementation");const n=Object.keys(e).filter(r=>!this.modelProperties.includes(r)&&r!=="nro"&&r!=="createdAt"&&r!=="updatedAt");if(n.length>0)throw new Error(`Invalid properties found: ${n.join(", ")}`);for(const[r,a]of Object.entries(e))if(a!=null&&r.toLowerCase().includes("date")&&!(a instanceof Date)&&!this.isValidDateString(a))throw new Error(`Invalid date format for property: ${r}`)}isValidDateString(e){const n=new Date(e);return n instanceof Date&&!isNaN(n.getTime())}mapDocumentToEntity(e,n){const r={...e};return r.createdAt&&(r.createdAt=new Date(r.createdAt)),r.updatedAt&&(r.updatedAt=new Date(r.updatedAt)),{id:n,...r}}getRef(e){return fy(this.db,e?`${this.path}/${e}`:this.path)}async getSnapshot(e){return ho(this.getRef(e))}async setData(e,n){await Uu(this.getRef(e),n)}async updateData(e,n){await Oz(this.getRef(e),n)}async removeData(e){await jC(this.getRef(e))}async pushData(e){const n=OC(this.getRef());return await Uu(n,e),n}async queryData(e,n){const r=Vu(this.getRef(),Bu(e),gA(n));return await ho(r)}async findAll(){const e=await this.getSnapshot();if(!e.exists())return[];const n=e.val();return Object.entries(n).map(([r,a])=>({...a,id:r}))}async findById(e){const n=await this.getSnapshot(e);return n.exists()?{...n.val(),id:e}:null}async create(e){const{id:n,...r}=e,a=OC(this.getRef()),o=a.key;return await Uu(a,r),{...r,id:o}}async update(e,n){const r=fy(this.db,`${this.path}/${e}`),a=await ho(r);if(!a.exists())throw new Error("Entity not found");const{id:o,...c}=n,u=a.val();await Uu(r,{...u,...c,updatedAt:new Date})}async delete(e){await jC(fy(this.db,`${this.path}/${e}`))}async findByField(e,n){const r=await this.getSnapshot();if(!r.exists())return[];const a=r.val();return Object.entries(a).filter(([o,c])=>c[e]===n).map(([o,c])=>({...c,id:o}))}}class nD extends vr{constructor(n){super(n,"customers");$e(this,"modelProperties",["name","phone","email","address","status"])}async findByName(n){return this.findByField("name",n)}async findByEmail(n){return this.findByField("email",n)}async findByPhone(n){return this.findByField("phone",n)}async findByStatus(n){return this.findByField("status",n)}}class Y7{constructor(){$e(this,"sequences",{})}async getNextNumber(e){let n=this.sequences[e];return n?(n.lastNumber+=1,n.updatedAt=new Date):(n={id:crypto.randomUUID(),nro:"00001",modelName:e,lastNumber:1,createdAt:new Date,updatedAt:new Date},this.sequences[e]=n),n.lastNumber.toString().padStart(5,"0")}}const K7=new Y7;class yr{constructor(e,n){$e(this,"repository");$e(this,"modelName");this.repository=new e(Za),this.modelName=n}async findAll(){return this.repository.findAll()}async findById(e){return this.repository.findById(e)}async create(e){const n=new Date,r=await K7.getNextNumber(this.modelName),a={...e,nro:r,createdAt:n,updatedAt:n};return this.repository.create(a)}async update(e,n){await this.repository.update(e,n);const r=await this.findById(e);if(!r)throw new Error("Entity not found after update");return r}async delete(e){return await this.repository.delete(e),!0}}class xs extends yr{constructor(){super(nD)}async findByName(e){return this.repository.findByName(e)}async findByEmail(e){return this.repository.findByEmail(e)}async findByPhone(e){return this.repository.findByPhone(e)}async findByStatus(e){return(await this.repository.findAll()).filter(r=>r.status===e)}}function X7(){const t=new xs,e=[{header:"Nombre",accessor:"name"},{header:"Telfono",accessor:"phone",render:n=>n.phone||"-"},{header:"Estado",accessor:"status",type:"tag",tags:[{value:Zl.ACTIVE,label:"Activo",color:"success"},{value:Zl.INACTIVE,label:"Inactivo",color:"secondary"}]}];return d.jsx(gr,{columns:e,title:"Clientes",addPath:"/customers/new",backPath:"/customers",service:t})}const Pr=x.forwardRef(({className:t,...e},n)=>d.jsx("label",{ref:n,className:ke("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));Pr.displayName="Label";function Ro(t){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(t)}function Q7(t,e){if(Ro(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ro(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rD(t){var e=Q7(t,"string");return Ro(e)=="symbol"?e:e+""}function $u(t,e,n){return(e=rD(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(n),!0).forEach(function(r){$u(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z7(t){if(Array.isArray(t))return t}function J7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,o,c,u=[],f=!0,m=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(g){m=!0,a=g}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function Eb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function aD(t,e){if(t){if(typeof t=="string")return Eb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Eb(t,e):void 0}}function e9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function os(t,e){return Z7(t)||J7(t,e)||aD(t,e)||e9()}function t9(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ws(t,e){if(t==null)return{};var n,r,a=t9(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var n9=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function r9(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,a=r===void 0?!1:r,o=t.defaultValue,c=o===void 0?null:o,u=t.inputValue,f=t.menuIsOpen,m=t.onChange,g=t.onInputChange,v=t.onMenuClose,y=t.onMenuOpen,w=t.value,_=ws(t,n9),E=x.useState(u!==void 0?u:n),S=os(E,2),C=S[0],N=S[1],I=x.useState(f!==void 0?f:a),T=os(I,2),R=T[0],D=T[1],j=x.useState(w!==void 0?w:c),P=os(j,2),F=P[0],B=P[1],K=x.useCallback(function(z,G){typeof m=="function"&&m(z,G),B(z)},[m]),re=x.useCallback(function(z,G){var L;typeof g=="function"&&(L=g(z,G)),N(L!==void 0?L:z)},[g]),Q=x.useCallback(function(){typeof y=="function"&&y(),D(!0)},[y]),$=x.useCallback(function(){typeof v=="function"&&v(),D(!1)},[v]),q=u!==void 0?u:C,k=f!==void 0?f:R,Z=w!==void 0?w:F;return je(je({},_),{},{inputValue:q,menuIsOpen:k,onChange:K,onInputChange:re,onMenuClose:$,onMenuOpen:Q,value:Z})}function Pe(){return Pe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pe.apply(null,arguments)}function a9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rD(r.key),r)}}function s9(t,e,n){return e&&XC(t.prototype,e),n&&XC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cb(t,e){return Cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Cb(t,e)}function i9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cb(t,e)}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pm(t)}function sD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sD=function(){return!!t})()}function o9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l9(t,e){if(e&&(Ro(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o9(t)}function c9(t){var e=sD();return function(){var n,r=pm(t);if(e){var a=pm(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l9(this,n)}}function u9(t){if(Array.isArray(t))return Eb(t)}function d9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function f9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sx(t){return u9(t)||d9(t)||aD(t)||f9()}function h9(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function m9(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var p9=function(){function t(n){var r=this;this._insertTag=function(a){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,o),r.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(m9(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var o=h9(a);try{o.insertRule(r,o.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var a;return(a=r.parentNode)==null?void 0:a.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Dn="-ms-",gm="-moz-",ct="-webkit-",iD="comm",Ex="rule",Cx="decl",g9="@import",oD="@keyframes",v9="@layer",y9=Math.abs,lp=String.fromCharCode,b9=Object.assign;function x9(t,e){return wn(t,0)^45?(((e<<2^wn(t,0))<<2^wn(t,1))<<2^wn(t,2))<<2^wn(t,3):0}function lD(t){return t.trim()}function w9(t,e){return(t=e.exec(t))?t[0]:t}function ut(t,e,n){return t.replace(e,n)}function Nb(t,e){return t.indexOf(e)}function wn(t,e){return t.charCodeAt(e)|0}function yd(t,e,n){return t.slice(e,n)}function va(t){return t.length}function Nx(t){return t.length}function bh(t,e){return e.push(t),t}function _9(t,e){return t.map(e).join("")}var cp=1,Jl=1,cD=0,er=0,Qt=0,xc="";function up(t,e,n,r,a,o,c){return{value:t,root:e,parent:n,type:r,props:a,children:o,line:cp,column:Jl,length:c,return:""}}function Au(t,e){return b9(up("",null,null,"",null,null,0),t,{length:-t.length},e)}function S9(){return Qt}function E9(){return Qt=er>0?wn(xc,--er):0,Jl--,Qt===10&&(Jl=1,cp--),Qt}function hr(){return Qt=er<cD?wn(xc,er++):0,Jl++,Qt===10&&(Jl=1,cp++),Qt}function Ta(){return wn(xc,er)}function Ph(){return er}function Hd(t,e){return yd(xc,t,e)}function bd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uD(t){return cp=Jl=1,cD=va(xc=t),er=0,[]}function dD(t){return xc="",t}function kh(t){return lD(Hd(er-1,Tb(t===91?t+2:t===40?t+1:t)))}function C9(t){for(;(Qt=Ta())&&Qt<33;)hr();return bd(t)>2||bd(Qt)>3?"":" "}function N9(t,e){for(;--e&&hr()&&!(Qt<48||Qt>102||Qt>57&&Qt<65||Qt>70&&Qt<97););return Hd(t,Ph()+(e<6&&Ta()==32&&hr()==32))}function Tb(t){for(;hr();)switch(Qt){case t:return er;case 34:case 39:t!==34&&t!==39&&Tb(Qt);break;case 40:t===41&&Tb(t);break;case 92:hr();break}return er}function T9(t,e){for(;hr()&&t+Qt!==57;)if(t+Qt===84&&Ta()===47)break;return"/*"+Hd(e,er-1)+"*"+lp(t===47?t:hr())}function R9(t){for(;!bd(Ta());)hr();return Hd(t,er)}function I9(t){return dD(Lh("",null,null,null,[""],t=uD(t),0,[0],t))}function Lh(t,e,n,r,a,o,c,u,f){for(var m=0,g=0,v=c,y=0,w=0,_=0,E=1,S=1,C=1,N=0,I="",T=a,R=o,D=r,j=I;S;)switch(_=N,N=hr()){case 40:if(_!=108&&wn(j,v-1)==58){Nb(j+=ut(kh(N),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:j+=kh(N);break;case 9:case 10:case 13:case 32:j+=C9(_);break;case 92:j+=N9(Ph()-1,7);continue;case 47:switch(Ta()){case 42:case 47:bh(A9(T9(hr(),Ph()),e,n),f);break;default:j+="/"}break;case 123*E:u[m++]=va(j)*C;case 125*E:case 59:case 0:switch(N){case 0:case 125:S=0;case 59+g:C==-1&&(j=ut(j,/\f/g,"")),w>0&&va(j)-v&&bh(w>32?ZC(j+";",r,n,v-1):ZC(ut(j," ","")+";",r,n,v-2),f);break;case 59:j+=";";default:if(bh(D=QC(j,e,n,m,g,a,u,I,T=[],R=[],v),o),N===123)if(g===0)Lh(j,e,D,D,T,o,v,u,R);else switch(y===99&&wn(j,3)===110?100:y){case 100:case 108:case 109:case 115:Lh(t,D,D,r&&bh(QC(t,D,D,0,0,a,u,I,a,T=[],v),R),a,R,v,u,r?T:R);break;default:Lh(j,D,D,D,[""],R,0,u,R)}}m=g=w=0,E=C=1,I=j="",v=c;break;case 58:v=1+va(j),w=_;default:if(E<1){if(N==123)--E;else if(N==125&&E++==0&&E9()==125)continue}switch(j+=lp(N),N*E){case 38:C=g>0?1:(j+="\f",-1);break;case 44:u[m++]=(va(j)-1)*C,C=1;break;case 64:Ta()===45&&(j+=kh(hr())),y=Ta(),g=v=va(I=j+=R9(Ph())),N++;break;case 45:_===45&&va(j)==2&&(E=0)}}return o}function QC(t,e,n,r,a,o,c,u,f,m,g){for(var v=a-1,y=a===0?o:[""],w=Nx(y),_=0,E=0,S=0;_<r;++_)for(var C=0,N=yd(t,v+1,v=y9(E=c[_])),I=t;C<w;++C)(I=lD(E>0?y[C]+" "+N:ut(N,/&\f/g,y[C])))&&(f[S++]=I);return up(t,e,n,a===0?Ex:u,f,m,g)}function A9(t,e,n){return up(t,e,n,iD,lp(S9()),yd(t,2,-2),0)}function ZC(t,e,n,r){return up(t,e,n,Cx,yd(t,0,r),yd(t,r+1,-1),r)}function $l(t,e){for(var n="",r=Nx(t),a=0;a<r;a++)n+=e(t[a],a,t,e)||"";return n}function D9(t,e,n,r){switch(t.type){case v9:if(t.children.length)break;case g9:case Cx:return t.return=t.return||t.value;case iD:return"";case oD:return t.return=t.value+"{"+$l(t.children,r)+"}";case Ex:t.value=t.props.join(",")}return va(n=$l(t.children,r))?t.return=t.value+"{"+n+"}":""}function O9(t){var e=Nx(t);return function(n,r,a,o){for(var c="",u=0;u<e;u++)c+=t[u](n,r,a,o)||"";return c}}function j9(t){return function(e){e.root||(e=e.return)&&t(e)}}var M9=function(e,n,r){for(var a=0,o=0;a=o,o=Ta(),a===38&&o===12&&(n[r]=1),!bd(o);)hr();return Hd(e,er)},P9=function(e,n){var r=-1,a=44;do switch(bd(a)){case 0:a===38&&Ta()===12&&(n[r]=1),e[r]+=M9(er-1,n,r);break;case 2:e[r]+=kh(a);break;case 4:if(a===44){e[++r]=Ta()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=lp(a)}while(a=hr());return e},k9=function(e,n){return dD(P9(uD(e),n))},JC=new WeakMap,L9=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,a=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!JC.get(r))&&!a){JC.set(e,!0);for(var o=[],c=k9(n,o),u=r.props,f=0,m=0;f<c.length;f++)for(var g=0;g<u.length;g++,m++)e.props[m]=o[f]?c[f].replace(/&\f/g,u[g]):u[g]+" "+c[f]}}},F9=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function fD(t,e){switch(x9(t,e)){case 5103:return ct+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ct+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ct+t+gm+t+Dn+t+t;case 6828:case 4268:return ct+t+Dn+t+t;case 6165:return ct+t+Dn+"flex-"+t+t;case 5187:return ct+t+ut(t,/(\w+).+(:[^]+)/,ct+"box-$1$2"+Dn+"flex-$1$2")+t;case 5443:return ct+t+Dn+"flex-item-"+ut(t,/flex-|-self/,"")+t;case 4675:return ct+t+Dn+"flex-line-pack"+ut(t,/align-content|flex-|-self/,"")+t;case 5548:return ct+t+Dn+ut(t,"shrink","negative")+t;case 5292:return ct+t+Dn+ut(t,"basis","preferred-size")+t;case 6060:return ct+"box-"+ut(t,"-grow","")+ct+t+Dn+ut(t,"grow","positive")+t;case 4554:return ct+ut(t,/([^-])(transform)/g,"$1"+ct+"$2")+t;case 6187:return ut(ut(ut(t,/(zoom-|grab)/,ct+"$1"),/(image-set)/,ct+"$1"),t,"")+t;case 5495:case 3959:return ut(t,/(image-set\([^]*)/,ct+"$1$`$1");case 4968:return ut(ut(t,/(.+:)(flex-)?(.*)/,ct+"box-pack:$3"+Dn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ct+t+t;case 4095:case 3583:case 4068:case 2532:return ut(t,/(.+)-inline(.+)/,ct+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(va(t)-1-e>6)switch(wn(t,e+1)){case 109:if(wn(t,e+4)!==45)break;case 102:return ut(t,/(.+:)(.+)-([^]+)/,"$1"+ct+"$2-$3$1"+gm+(wn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Nb(t,"stretch")?fD(ut(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(wn(t,e+1)!==115)break;case 6444:switch(wn(t,va(t)-3-(~Nb(t,"!important")&&10))){case 107:return ut(t,":",":"+ct)+t;case 101:return ut(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ct+(wn(t,14)===45?"inline-":"")+"box$3$1"+ct+"$2$3$1"+Dn+"$2box$3")+t}break;case 5936:switch(wn(t,e+11)){case 114:return ct+t+Dn+ut(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ct+t+Dn+ut(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ct+t+Dn+ut(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ct+t+Dn+t+t}return t}var U9=function(e,n,r,a){if(e.length>-1&&!e.return)switch(e.type){case Cx:e.return=fD(e.value,e.length);break;case oD:return $l([Au(e,{value:ut(e.value,"@","@"+ct)})],a);case Ex:if(e.length)return _9(e.props,function(o){switch(w9(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $l([Au(e,{props:[ut(o,/:(read-\w+)/,":"+gm+"$1")]})],a);case"::placeholder":return $l([Au(e,{props:[ut(o,/:(plac\w+)/,":"+ct+"input-$1")]}),Au(e,{props:[ut(o,/:(plac\w+)/,":"+gm+"$1")]}),Au(e,{props:[ut(o,/:(plac\w+)/,Dn+"input-$1")]})],a)}return""})}},B9=[U9],V9=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(E){var S=E.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var a=e.stylisPlugins||B9,o={},c,u=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(E){for(var S=E.getAttribute("data-emotion").split(" "),C=1;C<S.length;C++)o[S[C]]=!0;u.push(E)});var f,m=[L9,F9];{var g,v=[D9,j9(function(E){g.insert(E)})],y=O9(m.concat(a,v)),w=function(S){return $l(I9(S),y)};f=function(S,C,N,I){g=N,w(S?S+"{"+C.styles+"}":C.styles),I&&(_.inserted[C.name]=!0)}}var _={key:n,sheet:new p9({key:n,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:f};return _.sheet.hydrate(u),_},xy={exports:{}},ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN;function $9(){if(eN)return ft;eN=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,c=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,g=t?Symbol.for("react.forward_ref"):60112,v=t?Symbol.for("react.suspense"):60113,y=t?Symbol.for("react.suspense_list"):60120,w=t?Symbol.for("react.memo"):60115,_=t?Symbol.for("react.lazy"):60116,E=t?Symbol.for("react.block"):60121,S=t?Symbol.for("react.fundamental"):60117,C=t?Symbol.for("react.responder"):60118,N=t?Symbol.for("react.scope"):60119;function I(R){if(typeof R=="object"&&R!==null){var D=R.$$typeof;switch(D){case e:switch(R=R.type,R){case f:case m:case r:case o:case a:case v:return R;default:switch(R=R&&R.$$typeof,R){case u:case g:case _:case w:case c:return R;default:return D}}case n:return D}}}function T(R){return I(R)===m}return ft.AsyncMode=f,ft.ConcurrentMode=m,ft.ContextConsumer=u,ft.ContextProvider=c,ft.Element=e,ft.ForwardRef=g,ft.Fragment=r,ft.Lazy=_,ft.Memo=w,ft.Portal=n,ft.Profiler=o,ft.StrictMode=a,ft.Suspense=v,ft.isAsyncMode=function(R){return T(R)||I(R)===f},ft.isConcurrentMode=T,ft.isContextConsumer=function(R){return I(R)===u},ft.isContextProvider=function(R){return I(R)===c},ft.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},ft.isForwardRef=function(R){return I(R)===g},ft.isFragment=function(R){return I(R)===r},ft.isLazy=function(R){return I(R)===_},ft.isMemo=function(R){return I(R)===w},ft.isPortal=function(R){return I(R)===n},ft.isProfiler=function(R){return I(R)===o},ft.isStrictMode=function(R){return I(R)===a},ft.isSuspense=function(R){return I(R)===v},ft.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===r||R===m||R===o||R===a||R===v||R===y||typeof R=="object"&&R!==null&&(R.$$typeof===_||R.$$typeof===w||R.$$typeof===c||R.$$typeof===u||R.$$typeof===g||R.$$typeof===S||R.$$typeof===C||R.$$typeof===N||R.$$typeof===E)},ft.typeOf=I,ft}var tN;function z9(){return tN||(tN=1,xy.exports=$9()),xy.exports}var wy,nN;function H9(){if(nN)return wy;nN=1;var t=z9(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=a;function c(_){return t.isMemo(_)?a:o[_.$$typeof]||e}var u=Object.defineProperty,f=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,y=Object.prototype;function w(_,E,S){if(typeof E!="string"){if(y){var C=v(E);C&&C!==y&&w(_,C,S)}var N=f(E);m&&(N=N.concat(m(E)));for(var I=c(_),T=c(E),R=0;R<N.length;++R){var D=N[R];if(!n[D]&&!(S&&S[D])&&!(T&&T[D])&&!(I&&I[D])){var j=g(E,D);try{u(_,D,j)}catch{}}}}return _}return wy=w,wy}H9();var q9=!0;function W9(t,e,n){var r="";return n.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(r+=a+" ")}),r}var hD=function(e,n,r){var a=e.key+"-"+n.name;(r===!1||q9===!1)&&e.registered[a]===void 0&&(e.registered[a]=n.styles)},G9=function(e,n,r){hD(e,n,r);var a=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+a:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function Y9(t){for(var e=0,n,r=0,a=t.length;a>=4;++r,a-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var K9={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function X9(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Q9=/[A-Z]|^ms/g,Z9=/_EMO_([^_]+?)_([^]*?)_EMO_/g,mD=function(e){return e.charCodeAt(1)===45},rN=function(e){return e!=null&&typeof e!="boolean"},_y=X9(function(t){return mD(t)?t:t.replace(Q9,"-$&").toLowerCase()}),aN=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Z9,function(r,a,o){return ya={name:a,styles:o,next:ya},a})}return K9[e]!==1&&!mD(e)&&typeof n=="number"&&n!==0?n+"px":n};function xd(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var a=n;if(a.anim===1)return ya={name:a.name,styles:a.styles,next:ya},a.name;var o=n;if(o.styles!==void 0){var c=o.next;if(c!==void 0)for(;c!==void 0;)ya={name:c.name,styles:c.styles,next:ya},c=c.next;var u=o.styles+";";return u}return J9(t,e,n)}case"function":{if(t!==void 0){var f=ya,m=n(t);return ya=f,xd(t,e,m)}break}}var g=n;return g}function J9(t,e,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=xd(t,e,n[a])+";";else for(var o in n){var c=n[o];if(typeof c!="object"){var u=c;rN(u)&&(r+=_y(o)+":"+aN(o,u)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&e==null)for(var f=0;f<c.length;f++)rN(c[f])&&(r+=_y(o)+":"+aN(o,c[f])+";");else{var m=xd(t,e,c);switch(o){case"animation":case"animationName":{r+=_y(o)+":"+m+";";break}default:r+=o+"{"+m+"}"}}}return r}var sN=/label:\s*([^\s;{]+)\s*(;|$)/g,ya;function pD(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,a="";ya=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,a+=xd(n,e,o);else{var c=o;a+=c[0]}for(var u=1;u<t.length;u++)if(a+=xd(n,e,t[u]),r){var f=o;a+=f[u]}sN.lastIndex=0;for(var m="",g;(g=sN.exec(a))!==null;)m+="-"+g[1];var v=Y9(a)+m;return{name:v,styles:a,next:ya}}var eq=function(e){return e()},tq=nd.useInsertionEffect?nd.useInsertionEffect:!1,nq=tq||eq,gD=x.createContext(typeof HTMLElement<"u"?V9({key:"css"}):null);gD.Provider;var rq=function(e){return x.forwardRef(function(n,r){var a=x.useContext(gD);return e(n,a,r)})},aq=x.createContext({}),Tx={}.hasOwnProperty,Rb="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",sq=function(e,n){var r={};for(var a in n)Tx.call(n,a)&&(r[a]=n[a]);return r[Rb]=e,r},iq=function(e){var n=e.cache,r=e.serialized,a=e.isStringTag;return hD(n,r,a),nq(function(){return G9(n,r,a)}),null},oq=rq(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var a=t[Rb],o=[r],c="";typeof t.className=="string"?c=W9(e.registered,o,t.className):t.className!=null&&(c=t.className+" ");var u=pD(o,void 0,x.useContext(aq));c+=e.key+"-"+u.name;var f={};for(var m in t)Tx.call(t,m)&&m!=="css"&&m!==Rb&&(f[m]=t[m]);return f.className=c,n&&(f.ref=n),x.createElement(x.Fragment,null,x.createElement(iq,{cache:e,serialized:u,isStringTag:typeof a=="string"}),x.createElement(a,f))}),lq=oq,De=function(e,n){var r=arguments;if(n==null||!Tx.call(n,"css"))return x.createElement.apply(void 0,r);var a=r.length,o=new Array(a);o[0]=lq,o[1]=sq(e,n);for(var c=2;c<a;c++)o[c]=r[c];return x.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(De||(De={}));function Rx(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return pD(e)}function cq(){var t=Rx.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function uq(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const dq=["top","right","bottom","left"],vi=Math.min,fr=Math.max,vm=Math.round,xh=Math.floor,Ra=t=>({x:t,y:t}),fq={left:"right",right:"left",bottom:"top",top:"bottom"},hq={start:"end",end:"start"};function Ib(t,e,n){return fr(t,vi(e,n))}function ms(t,e){return typeof t=="function"?t(e):t}function ps(t){return t.split("-")[0]}function wc(t){return t.split("-")[1]}function Ix(t){return t==="x"?"y":"x"}function Ax(t){return t==="y"?"height":"width"}function yi(t){return["top","bottom"].includes(ps(t))?"y":"x"}function Dx(t){return Ix(yi(t))}function mq(t,e,n){n===void 0&&(n=!1);const r=wc(t),a=Dx(t),o=Ax(a);let c=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=ym(c)),[c,ym(c)]}function pq(t){const e=ym(t);return[Ab(t),e,Ab(e)]}function Ab(t){return t.replace(/start|end/g,e=>hq[e])}function gq(t,e,n){const r=["left","right"],a=["right","left"],o=["top","bottom"],c=["bottom","top"];switch(t){case"top":case"bottom":return n?e?a:r:e?r:a;case"left":case"right":return e?o:c;default:return[]}}function vq(t,e,n,r){const a=wc(t);let o=gq(ps(t),n==="start",r);return a&&(o=o.map(c=>c+"-"+a),e&&(o=o.concat(o.map(Ab)))),o}function ym(t){return t.replace(/left|right|bottom|top/g,e=>fq[e])}function yq(t){return{top:0,right:0,bottom:0,left:0,...t}}function vD(t){return typeof t!="number"?yq(t):{top:t,right:t,bottom:t,left:t}}function bm(t){const{x:e,y:n,width:r,height:a}=t;return{width:r,height:a,top:n,left:e,right:e+r,bottom:n+a,x:e,y:n}}function iN(t,e,n){let{reference:r,floating:a}=t;const o=yi(e),c=Dx(e),u=Ax(c),f=ps(e),m=o==="y",g=r.x+r.width/2-a.width/2,v=r.y+r.height/2-a.height/2,y=r[u]/2-a[u]/2;let w;switch(f){case"top":w={x:g,y:r.y-a.height};break;case"bottom":w={x:g,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:v};break;case"left":w={x:r.x-a.width,y:v};break;default:w={x:r.x,y:r.y}}switch(wc(e)){case"start":w[c]-=y*(n&&m?-1:1);break;case"end":w[c]+=y*(n&&m?-1:1);break}return w}const bq=async(t,e,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:c}=n,u=o.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:a}),{x:g,y:v}=iN(m,r,f),y=r,w={},_=0;for(let E=0;E<u.length;E++){const{name:S,fn:C}=u[E],{x:N,y:I,data:T,reset:R}=await C({x:g,y:v,initialPlacement:r,placement:y,strategy:a,middlewareData:w,rects:m,platform:c,elements:{reference:t,floating:e}});g=N??g,v=I??v,w={...w,[S]:{...w[S],...T}},R&&_<=50&&(_++,typeof R=="object"&&(R.placement&&(y=R.placement),R.rects&&(m=R.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:a}):R.rects),{x:g,y:v}=iN(m,y,f)),E=-1)}return{x:g,y:v,placement:y,strategy:a,middlewareData:w}};async function wd(t,e){var n;e===void 0&&(e={});const{x:r,y:a,platform:o,rects:c,elements:u,strategy:f}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:y=!1,padding:w=0}=ms(e,t),_=vD(w),S=u[y?v==="floating"?"reference":"floating":v],C=bm(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:m,rootBoundary:g,strategy:f})),N=v==="floating"?{x:r,y:a,width:c.floating.width,height:c.floating.height}:c.reference,I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),T=await(o.isElement==null?void 0:o.isElement(I))?await(o.getScale==null?void 0:o.getScale(I))||{x:1,y:1}:{x:1,y:1},R=bm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:N,offsetParent:I,strategy:f}):N);return{top:(C.top-R.top+_.top)/T.y,bottom:(R.bottom-C.bottom+_.bottom)/T.y,left:(C.left-R.left+_.left)/T.x,right:(R.right-C.right+_.right)/T.x}}const xq=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:a,rects:o,platform:c,elements:u,middlewareData:f}=e,{element:m,padding:g=0}=ms(t,e)||{};if(m==null)return{};const v=vD(g),y={x:n,y:r},w=Dx(a),_=Ax(w),E=await c.getDimensions(m),S=w==="y",C=S?"top":"left",N=S?"bottom":"right",I=S?"clientHeight":"clientWidth",T=o.reference[_]+o.reference[w]-y[w]-o.floating[_],R=y[w]-o.reference[w],D=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let j=D?D[I]:0;(!j||!await(c.isElement==null?void 0:c.isElement(D)))&&(j=u.floating[I]||o.floating[_]);const P=T/2-R/2,F=j/2-E[_]/2-1,B=vi(v[C],F),K=vi(v[N],F),re=B,Q=j-E[_]-K,$=j/2-E[_]/2+P,q=Ib(re,$,Q),k=!f.arrow&&wc(a)!=null&&$!==q&&o.reference[_]/2-($<re?B:K)-E[_]/2<0,Z=k?$<re?$-re:$-Q:0;return{[w]:y[w]+Z,data:{[w]:q,centerOffset:$-q-Z,...k&&{alignmentOffset:Z}},reset:k}}}),wq=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:a,middlewareData:o,rects:c,initialPlacement:u,platform:f,elements:m}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:E=!0,...S}=ms(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const C=ps(a),N=yi(u),I=ps(u)===u,T=await(f.isRTL==null?void 0:f.isRTL(m.floating)),R=y||(I||!E?[ym(u)]:pq(u)),D=_!=="none";!y&&D&&R.push(...vq(u,E,_,T));const j=[u,...R],P=await wd(e,S),F=[];let B=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&F.push(P[C]),v){const $=mq(a,c,T);F.push(P[$[0]],P[$[1]])}if(B=[...B,{placement:a,overflows:F}],!F.every($=>$<=0)){var K,re;const $=(((K=o.flip)==null?void 0:K.index)||0)+1,q=j[$];if(q)return{data:{index:$,overflows:B},reset:{placement:q}};let k=(re=B.filter(Z=>Z.overflows[0]<=0).sort((Z,z)=>Z.overflows[1]-z.overflows[1])[0])==null?void 0:re.placement;if(!k)switch(w){case"bestFit":{var Q;const Z=(Q=B.filter(z=>{if(D){const G=yi(z.placement);return G===N||G==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(G=>G>0).reduce((G,L)=>G+L,0)]).sort((z,G)=>z[1]-G[1])[0])==null?void 0:Q[0];Z&&(k=Z);break}case"initialPlacement":k=u;break}if(a!==k)return{reset:{placement:k}}}return{}}}};function oN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function lN(t){return dq.some(e=>t[e]>=0)}const _q=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...a}=ms(t,e);switch(r){case"referenceHidden":{const o=await wd(e,{...a,elementContext:"reference"}),c=oN(o,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:lN(c)}}}case"escaped":{const o=await wd(e,{...a,altBoundary:!0}),c=oN(o,n.floating);return{data:{escapedOffsets:c,escaped:lN(c)}}}default:return{}}}}};async function Sq(t,e){const{placement:n,platform:r,elements:a}=t,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),c=ps(n),u=wc(n),f=yi(n)==="y",m=["left","top"].includes(c)?-1:1,g=o&&f?-1:1,v=ms(e,t);let{mainAxis:y,crossAxis:w,alignmentAxis:_}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof _=="number"&&(w=u==="end"?_*-1:_),f?{x:w*g,y:y*m}:{x:y*m,y:w*g}}const Eq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:a,y:o,placement:c,middlewareData:u}=e,f=await Sq(e,t);return c===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+f.x,y:o+f.y,data:{...f,placement:c}}}}},Cq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:a}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:u={fn:S=>{let{x:C,y:N}=S;return{x:C,y:N}}},...f}=ms(t,e),m={x:n,y:r},g=await wd(e,f),v=yi(ps(a)),y=Ix(v);let w=m[y],_=m[v];if(o){const S=y==="y"?"top":"left",C=y==="y"?"bottom":"right",N=w+g[S],I=w-g[C];w=Ib(N,w,I)}if(c){const S=v==="y"?"top":"left",C=v==="y"?"bottom":"right",N=_+g[S],I=_-g[C];_=Ib(N,_,I)}const E=u.fn({...e,[y]:w,[v]:_});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[y]:o,[v]:c}}}}}},Nq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:a,rects:o,middlewareData:c}=e,{offset:u=0,mainAxis:f=!0,crossAxis:m=!0}=ms(t,e),g={x:n,y:r},v=yi(a),y=Ix(v);let w=g[y],_=g[v];const E=ms(u,e),S=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(f){const I=y==="y"?"height":"width",T=o.reference[y]-o.floating[I]+S.mainAxis,R=o.reference[y]+o.reference[I]-S.mainAxis;w<T?w=T:w>R&&(w=R)}if(m){var C,N;const I=y==="y"?"width":"height",T=["top","left"].includes(ps(a)),R=o.reference[v]-o.floating[I]+(T&&((C=c.offset)==null?void 0:C[v])||0)+(T?0:S.crossAxis),D=o.reference[v]+o.reference[I]+(T?0:((N=c.offset)==null?void 0:N[v])||0)-(T?S.crossAxis:0);_<R?_=R:_>D&&(_=D)}return{[y]:w,[v]:_}}}},Tq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:a,rects:o,platform:c,elements:u}=e,{apply:f=()=>{},...m}=ms(t,e),g=await wd(e,m),v=ps(a),y=wc(a),w=yi(a)==="y",{width:_,height:E}=o.floating;let S,C;v==="top"||v==="bottom"?(S=v,C=y===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(C=v,S=y==="end"?"top":"bottom");const N=E-g.top-g.bottom,I=_-g.left-g.right,T=vi(E-g[S],N),R=vi(_-g[C],I),D=!e.middlewareData.shift;let j=T,P=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(j=N),D&&!y){const B=fr(g.left,0),K=fr(g.right,0),re=fr(g.top,0),Q=fr(g.bottom,0);w?P=_-2*(B!==0||K!==0?B+K:fr(g.left,g.right)):j=E-2*(re!==0||Q!==0?re+Q:fr(g.top,g.bottom))}await f({...e,availableWidth:P,availableHeight:j});const F=await c.getDimensions(u.floating);return _!==F.width||E!==F.height?{reset:{rects:!0}}:{}}}};function dp(){return typeof window<"u"}function _c(t){return yD(t)?(t.nodeName||"").toLowerCase():"#document"}function mr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Oa(t){var e;return(e=(yD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function yD(t){return dp()?t instanceof Node||t instanceof mr(t).Node:!1}function ta(t){return dp()?t instanceof Element||t instanceof mr(t).Element:!1}function Aa(t){return dp()?t instanceof HTMLElement||t instanceof mr(t).HTMLElement:!1}function cN(t){return!dp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof mr(t).ShadowRoot}function qd(t){const{overflow:e,overflowX:n,overflowY:r,display:a}=na(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(a)}function Rq(t){return["table","td","th"].includes(_c(t))}function fp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Ox(t){const e=jx(),n=ta(t)?na(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Iq(t){let e=bi(t);for(;Aa(e)&&!ec(e);){if(Ox(e))return e;if(fp(e))return null;e=bi(e)}return null}function jx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ec(t){return["html","body","#document"].includes(_c(t))}function na(t){return mr(t).getComputedStyle(t)}function hp(t){return ta(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function bi(t){if(_c(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cN(t)&&t.host||Oa(t);return cN(e)?e.host:e}function bD(t){const e=bi(t);return ec(e)?t.ownerDocument?t.ownerDocument.body:t.body:Aa(e)&&qd(e)?e:bD(e)}function _d(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=bD(t),o=a===((r=t.ownerDocument)==null?void 0:r.body),c=mr(a);if(o){const u=Db(c);return e.concat(c,c.visualViewport||[],qd(a)?a:[],u&&n?_d(u):[])}return e.concat(a,_d(a,[],n))}function Db(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xD(t){const e=na(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=Aa(t),o=a?t.offsetWidth:n,c=a?t.offsetHeight:r,u=vm(n)!==o||vm(r)!==c;return u&&(n=o,r=c),{width:n,height:r,$:u}}function Mx(t){return ta(t)?t:t.contextElement}function zl(t){const e=Mx(t);if(!Aa(e))return Ra(1);const n=e.getBoundingClientRect(),{width:r,height:a,$:o}=xD(e);let c=(o?vm(n.width):n.width)/r,u=(o?vm(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const Aq=Ra(0);function wD(t){const e=mr(t);return!jx()||!e.visualViewport?Aq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Dq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==mr(t)?!1:e}function Io(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),o=Mx(t);let c=Ra(1);e&&(r?ta(r)&&(c=zl(r)):c=zl(t));const u=Dq(o,n,r)?wD(o):Ra(0);let f=(a.left+u.x)/c.x,m=(a.top+u.y)/c.y,g=a.width/c.x,v=a.height/c.y;if(o){const y=mr(o),w=r&&ta(r)?mr(r):r;let _=y,E=Db(_);for(;E&&r&&w!==_;){const S=zl(E),C=E.getBoundingClientRect(),N=na(E),I=C.left+(E.clientLeft+parseFloat(N.paddingLeft))*S.x,T=C.top+(E.clientTop+parseFloat(N.paddingTop))*S.y;f*=S.x,m*=S.y,g*=S.x,v*=S.y,f+=I,m+=T,_=mr(E),E=Db(_)}}return bm({width:g,height:v,x:f,y:m})}function Px(t,e){const n=hp(t).scrollLeft;return e?e.left+n:Io(Oa(t)).left+n}function _D(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),a=r.left+e.scrollLeft-(n?0:Px(t,r)),o=r.top+e.scrollTop;return{x:a,y:o}}function Oq(t){let{elements:e,rect:n,offsetParent:r,strategy:a}=t;const o=a==="fixed",c=Oa(r),u=e?fp(e.floating):!1;if(r===c||u&&o)return n;let f={scrollLeft:0,scrollTop:0},m=Ra(1);const g=Ra(0),v=Aa(r);if((v||!v&&!o)&&((_c(r)!=="body"||qd(c))&&(f=hp(r)),Aa(r))){const w=Io(r);m=zl(r),g.x=w.x+r.clientLeft,g.y=w.y+r.clientTop}const y=c&&!v&&!o?_D(c,f,!0):Ra(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+g.x+y.x,y:n.y*m.y-f.scrollTop*m.y+g.y+y.y}}function jq(t){return Array.from(t.getClientRects())}function Mq(t){const e=Oa(t),n=hp(t),r=t.ownerDocument.body,a=fr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=fr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Px(t);const u=-n.scrollTop;return na(r).direction==="rtl"&&(c+=fr(e.clientWidth,r.clientWidth)-a),{width:a,height:o,x:c,y:u}}function Pq(t,e){const n=mr(t),r=Oa(t),a=n.visualViewport;let o=r.clientWidth,c=r.clientHeight,u=0,f=0;if(a){o=a.width,c=a.height;const m=jx();(!m||m&&e==="fixed")&&(u=a.offsetLeft,f=a.offsetTop)}return{width:o,height:c,x:u,y:f}}function kq(t,e){const n=Io(t,!0,e==="fixed"),r=n.top+t.clientTop,a=n.left+t.clientLeft,o=Aa(t)?zl(t):Ra(1),c=t.clientWidth*o.x,u=t.clientHeight*o.y,f=a*o.x,m=r*o.y;return{width:c,height:u,x:f,y:m}}function uN(t,e,n){let r;if(e==="viewport")r=Pq(t,n);else if(e==="document")r=Mq(Oa(t));else if(ta(e))r=kq(e,n);else{const a=wD(t);r={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return bm(r)}function SD(t,e){const n=bi(t);return n===e||!ta(n)||ec(n)?!1:na(n).position==="fixed"||SD(n,e)}function Lq(t,e){const n=e.get(t);if(n)return n;let r=_d(t,[],!1).filter(u=>ta(u)&&_c(u)!=="body"),a=null;const o=na(t).position==="fixed";let c=o?bi(t):t;for(;ta(c)&&!ec(c);){const u=na(c),f=Ox(c);!f&&u.position==="fixed"&&(a=null),(o?!f&&!a:!f&&u.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||qd(c)&&!f&&SD(t,c))?r=r.filter(g=>g!==c):a=u,c=bi(c)}return e.set(t,r),r}function Fq(t){let{element:e,boundary:n,rootBoundary:r,strategy:a}=t;const c=[...n==="clippingAncestors"?fp(e)?[]:Lq(e,this._c):[].concat(n),r],u=c[0],f=c.reduce((m,g)=>{const v=uN(e,g,a);return m.top=fr(v.top,m.top),m.right=vi(v.right,m.right),m.bottom=vi(v.bottom,m.bottom),m.left=fr(v.left,m.left),m},uN(e,u,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Uq(t){const{width:e,height:n}=xD(t);return{width:e,height:n}}function Bq(t,e,n){const r=Aa(e),a=Oa(e),o=n==="fixed",c=Io(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const f=Ra(0);if(r||!r&&!o)if((_c(e)!=="body"||qd(a))&&(u=hp(e)),r){const y=Io(e,!0,o,e);f.x=y.x+e.clientLeft,f.y=y.y+e.clientTop}else a&&(f.x=Px(a));const m=a&&!r&&!o?_D(a,u):Ra(0),g=c.left+u.scrollLeft-f.x-m.x,v=c.top+u.scrollTop-f.y-m.y;return{x:g,y:v,width:c.width,height:c.height}}function Sy(t){return na(t).position==="static"}function dN(t,e){if(!Aa(t)||na(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Oa(t)===n&&(n=n.ownerDocument.body),n}function ED(t,e){const n=mr(t);if(fp(t))return n;if(!Aa(t)){let a=bi(t);for(;a&&!ec(a);){if(ta(a)&&!Sy(a))return a;a=bi(a)}return n}let r=dN(t,e);for(;r&&Rq(r)&&Sy(r);)r=dN(r,e);return r&&ec(r)&&Sy(r)&&!Ox(r)?n:r||Iq(t)||n}const Vq=async function(t){const e=this.getOffsetParent||ED,n=this.getDimensions,r=await n(t.floating);return{reference:Bq(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $q(t){return na(t).direction==="rtl"}const zq={convertOffsetParentRelativeRectToViewportRelativeRect:Oq,getDocumentElement:Oa,getClippingRect:Fq,getOffsetParent:ED,getElementRects:Vq,getClientRects:jq,getDimensions:Uq,getScale:zl,isElement:ta,isRTL:$q};function CD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Hq(t,e){let n=null,r;const a=Oa(t);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),o();const m=t.getBoundingClientRect(),{left:g,top:v,width:y,height:w}=m;if(u||e(),!y||!w)return;const _=xh(v),E=xh(a.clientWidth-(g+y)),S=xh(a.clientHeight-(v+w)),C=xh(g),I={rootMargin:-_+"px "+-E+"px "+-S+"px "+-C+"px",threshold:fr(0,vi(1,f))||1};let T=!0;function R(D){const j=D[0].intersectionRatio;if(j!==f){if(!T)return c();j?c(!1,j):r=setTimeout(()=>{c(!1,1e-7)},1e3)}j===1&&!CD(m,t.getBoundingClientRect())&&c(),T=!1}try{n=new IntersectionObserver(R,{...I,root:a.ownerDocument})}catch{n=new IntersectionObserver(R,I)}n.observe(t)}return c(!0),o}function ND(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=Mx(t),g=a||o?[...m?_d(m):[],..._d(e)]:[];g.forEach(C=>{a&&C.addEventListener("scroll",n,{passive:!0}),o&&C.addEventListener("resize",n)});const v=m&&u?Hq(m,n):null;let y=-1,w=null;c&&(w=new ResizeObserver(C=>{let[N]=C;N&&N.target===m&&w&&(w.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var I;(I=w)==null||I.observe(e)})),n()}),m&&!f&&w.observe(m),w.observe(e));let _,E=f?Io(t):null;f&&S();function S(){const C=Io(t);E&&!CD(E,C)&&n(),E=C,_=requestAnimationFrame(S)}return n(),()=>{var C;g.forEach(N=>{a&&N.removeEventListener("scroll",n),o&&N.removeEventListener("resize",n)}),v==null||v(),(C=w)==null||C.disconnect(),w=null,f&&cancelAnimationFrame(_)}}const qq=Eq,Wq=Cq,Gq=wq,Yq=Tq,Kq=_q,fN=xq,Xq=Nq,Qq=(t,e,n)=>{const r=new Map,a={platform:zq,...n},o={...a.platform,_c:r};return bq(t,e,{...a,platform:o})};var Ob=x.useLayoutEffect,Zq=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],xm=function(){};function Jq(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function eW(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var o=[].concat(r);if(e&&t)for(var c in e)e.hasOwnProperty(c)&&e[c]&&o.push("".concat(Jq(t,c)));return o.filter(function(u){return u}).map(function(u){return String(u).trim()}).join(" ")}var hN=function(e){return cW(e)?e.filter(Boolean):Ro(e)==="object"&&e!==null?[e]:[]},TD=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=ws(e,Zq);return je({},n)},Vt=function(e,n,r){var a=e.cx,o=e.getStyles,c=e.getClassNames,u=e.className;return{css:o(n,e),className:a(r??{},c(n,e),u)}};function mp(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function tW(t){return mp(t)?window.innerHeight:t.clientHeight}function RD(t){return mp(t)?window.pageYOffset:t.scrollTop}function wm(t,e){if(mp(t)){window.scrollTo(0,e);return}t.scrollTop=e}function nW(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function rW(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function wh(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:xm,a=RD(t),o=e-a,c=10,u=0;function f(){u+=c;var m=rW(u,a,o,n);wm(t,m),u<n?window.requestAnimationFrame(f):r(t)}f()}function mN(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),a=e.offsetHeight/3;r.bottom+a>n.bottom?wm(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):r.top-a<n.top&&wm(t,Math.max(e.offsetTop-a,0))}function aW(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function pN(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function sW(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var ID=!1,iW={get passive(){return ID=!0}},_h=typeof window<"u"?window:{};_h.addEventListener&&_h.removeEventListener&&(_h.addEventListener("p",xm,iW),_h.removeEventListener("p",xm,!1));var oW=ID;function lW(t){return t!=null}function cW(t){return Array.isArray(t)}function Sh(t,e,n){return t?e:n}var uW=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var o=Object.entries(e).filter(function(c){var u=os(c,1),f=u[0];return!r.includes(f)});return o.reduce(function(c,u){var f=os(u,2),m=f[0],g=f[1];return c[m]=g,c},{})},dW=["children","innerProps"],fW=["children","innerProps"];function hW(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,a=t.placement,o=t.shouldScroll,c=t.isFixedPosition,u=t.controlHeight,f=nW(n),m={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return m;var g=f.getBoundingClientRect(),v=g.height,y=n.getBoundingClientRect(),w=y.bottom,_=y.height,E=y.top,S=n.offsetParent.getBoundingClientRect(),C=S.top,N=c?window.innerHeight:tW(f),I=RD(f),T=parseInt(getComputedStyle(n).marginBottom,10),R=parseInt(getComputedStyle(n).marginTop,10),D=C-R,j=N-E,P=D+I,F=v-I-E,B=w-N+I+T,K=I+E-R,re=160;switch(a){case"auto":case"bottom":if(j>=_)return{placement:"bottom",maxHeight:e};if(F>=_&&!c)return o&&wh(f,B,re),{placement:"bottom",maxHeight:e};if(!c&&F>=r||c&&j>=r){o&&wh(f,B,re);var Q=c?j-T:F-T;return{placement:"bottom",maxHeight:Q}}if(a==="auto"||c){var $=e,q=c?D:P;return q>=r&&($=Math.min(q-T-u,e)),{placement:"top",maxHeight:$}}if(a==="bottom")return o&&wm(f,B),{placement:"bottom",maxHeight:e};break;case"top":if(D>=_)return{placement:"top",maxHeight:e};if(P>=_&&!c)return o&&wh(f,K,re),{placement:"top",maxHeight:e};if(!c&&P>=r||c&&D>=r){var k=e;return(!c&&P>=r||c&&D>=r)&&(k=c?D-R:P-R),o&&wh(f,K,re),{placement:"top",maxHeight:k}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return m}function mW(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var AD=function(e){return e==="auto"?"bottom":e},pW=function(e,n){var r,a=e.placement,o=e.theme,c=o.borderRadius,u=o.spacing,f=o.colors;return je((r={label:"menu"},$u(r,mW(a),"100%"),$u(r,"position","absolute"),$u(r,"width","100%"),$u(r,"zIndex",1),r),n?{}:{backgroundColor:f.neutral0,borderRadius:c,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:u.menuGutter,marginTop:u.menuGutter})},DD=x.createContext(null),gW=function(e){var n=e.children,r=e.minMenuHeight,a=e.maxMenuHeight,o=e.menuPlacement,c=e.menuPosition,u=e.menuShouldScrollIntoView,f=e.theme,m=x.useContext(DD)||{},g=m.setPortalPlacement,v=x.useRef(null),y=x.useState(a),w=os(y,2),_=w[0],E=w[1],S=x.useState(null),C=os(S,2),N=C[0],I=C[1],T=f.spacing.controlHeight;return Ob(function(){var R=v.current;if(R){var D=c==="fixed",j=u&&!D,P=hW({maxHeight:a,menuEl:R,minHeight:r,placement:o,shouldScroll:j,isFixedPosition:D,controlHeight:T});E(P.maxHeight),I(P.placement),g==null||g(P.placement)}},[a,o,c,u,r,g,T]),n({ref:v,placerProps:je(je({},e),{},{placement:N||AD(o),maxHeight:_})})},vW=function(e){var n=e.children,r=e.innerRef,a=e.innerProps;return De("div",Pe({},Vt(e,"menu",{menu:!0}),{ref:r},a),n)},yW=vW,bW=function(e,n){var r=e.maxHeight,a=e.theme.spacing.baseUnit;return je({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:a,paddingTop:a})},xW=function(e){var n=e.children,r=e.innerProps,a=e.innerRef,o=e.isMulti;return De("div",Pe({},Vt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:a},r),n)},OD=function(e,n){var r=e.theme,a=r.spacing.baseUnit,o=r.colors;return je({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},wW=OD,_W=OD,SW=function(e){var n=e.children,r=n===void 0?"No options":n,a=e.innerProps,o=ws(e,dW);return De("div",Pe({},Vt(je(je({},o),{},{children:r,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),r)},EW=function(e){var n=e.children,r=n===void 0?"Loading...":n,a=e.innerProps,o=ws(e,fW);return De("div",Pe({},Vt(je(je({},o),{},{children:r,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),r)},CW=function(e){var n=e.rect,r=e.offset,a=e.position;return{left:n.left,position:a,top:r,width:n.width,zIndex:1}},NW=function(e){var n=e.appendTo,r=e.children,a=e.controlElement,o=e.innerProps,c=e.menuPlacement,u=e.menuPosition,f=x.useRef(null),m=x.useRef(null),g=x.useState(AD(c)),v=os(g,2),y=v[0],w=v[1],_=x.useMemo(function(){return{setPortalPlacement:w}},[]),E=x.useState(null),S=os(E,2),C=S[0],N=S[1],I=x.useCallback(function(){if(a){var j=aW(a),P=u==="fixed"?0:window.pageYOffset,F=j[y]+P;(F!==(C==null?void 0:C.offset)||j.left!==(C==null?void 0:C.rect.left)||j.width!==(C==null?void 0:C.rect.width))&&N({offset:F,rect:j})}},[a,u,y,C==null?void 0:C.offset,C==null?void 0:C.rect.left,C==null?void 0:C.rect.width]);Ob(function(){I()},[I]);var T=x.useCallback(function(){typeof m.current=="function"&&(m.current(),m.current=null),a&&f.current&&(m.current=ND(a,f.current,I,{elementResize:"ResizeObserver"in window}))},[a,I]);Ob(function(){T()},[T]);var R=x.useCallback(function(j){f.current=j,T()},[T]);if(!n&&u!=="fixed"||!C)return null;var D=De("div",Pe({ref:R},Vt(je(je({},e),{},{offset:C.offset,position:u,rect:C.rect}),"menuPortal",{"menu-portal":!0}),o),r);return De(DD.Provider,{value:_},n?Rd.createPortal(D,n):D)},TW=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},RW=function(e){var n=e.children,r=e.innerProps,a=e.isDisabled,o=e.isRtl;return De("div",Pe({},Vt(e,"container",{"--is-disabled":a,"--is-rtl":o}),r),n)},IW=function(e,n){var r=e.theme.spacing,a=e.isMulti,o=e.hasValue,c=e.selectProps.controlShouldRenderValue;return je({alignItems:"center",display:a&&o&&c?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},AW=function(e){var n=e.children,r=e.innerProps,a=e.isMulti,o=e.hasValue;return De("div",Pe({},Vt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":o}),r),n)},DW=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},OW=function(e){var n=e.children,r=e.innerProps;return De("div",Pe({},Vt(e,"indicatorsContainer",{indicators:!0}),r),n)},gN,jW=["size"],MW=["innerProps","isRtl","size"],PW={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},jD=function(e){var n=e.size,r=ws(e,jW);return De("svg",Pe({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:PW},r))},kx=function(e){return De(jD,Pe({size:20},e),De("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},MD=function(e){return De(jD,Pe({size:20},e),De("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},PD=function(e,n){var r=e.isFocused,a=e.theme,o=a.spacing.baseUnit,c=a.colors;return je({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?c.neutral60:c.neutral20,padding:o*2,":hover":{color:r?c.neutral80:c.neutral40}})},kW=PD,LW=function(e){var n=e.children,r=e.innerProps;return De("div",Pe({},Vt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||De(MD,null))},FW=PD,UW=function(e){var n=e.children,r=e.innerProps;return De("div",Pe({},Vt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||De(kx,null))},BW=function(e,n){var r=e.isDisabled,a=e.theme,o=a.spacing.baseUnit,c=a.colors;return je({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?c.neutral10:c.neutral20,marginBottom:o*2,marginTop:o*2})},VW=function(e){var n=e.innerProps;return De("span",Pe({},n,Vt(e,"indicatorSeparator",{"indicator-separator":!0})))},$W=cq(gN||(gN=uq([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),zW=function(e,n){var r=e.isFocused,a=e.size,o=e.theme,c=o.colors,u=o.spacing.baseUnit;return je({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?c.neutral60:c.neutral20,padding:u*2})},Ey=function(e){var n=e.delay,r=e.offset;return De("span",{css:Rx({animation:"".concat($W," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},HW=function(e){var n=e.innerProps,r=e.isRtl,a=e.size,o=a===void 0?4:a,c=ws(e,MW);return De("div",Pe({},Vt(je(je({},c),{},{innerProps:n,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),De(Ey,{delay:0,offset:r}),De(Ey,{delay:160,offset:!0}),De(Ey,{delay:320,offset:!r}))},qW=function(e,n){var r=e.isDisabled,a=e.isFocused,o=e.theme,c=o.colors,u=o.borderRadius,f=o.spacing;return je({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:f.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?c.neutral5:c.neutral0,borderColor:r?c.neutral10:a?c.primary:c.neutral20,borderRadius:u,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(c.primary):void 0,"&:hover":{borderColor:a?c.primary:c.neutral30}})},WW=function(e){var n=e.children,r=e.isDisabled,a=e.isFocused,o=e.innerRef,c=e.innerProps,u=e.menuIsOpen;return De("div",Pe({ref:o},Vt(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":a,"control--menu-is-open":u}),c,{"aria-disabled":r||void 0}),n)},GW=WW,YW=["data"],KW=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},XW=function(e){var n=e.children,r=e.cx,a=e.getStyles,o=e.getClassNames,c=e.Heading,u=e.headingProps,f=e.innerProps,m=e.label,g=e.theme,v=e.selectProps;return De("div",Pe({},Vt(e,"group",{group:!0}),f),De(c,Pe({},u,{selectProps:v,theme:g,getStyles:a,getClassNames:o,cx:r}),m),De("div",null,n))},QW=function(e,n){var r=e.theme,a=r.colors,o=r.spacing;return je({label:"group",cursor:"default",display:"block"},n?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},ZW=function(e){var n=TD(e);n.data;var r=ws(n,YW);return De("div",Pe({},Vt(e,"groupHeading",{"group-heading":!0}),r))},JW=XW,eG=["innerRef","isDisabled","isHidden","inputClassName"],tG=function(e,n){var r=e.isDisabled,a=e.value,o=e.theme,c=o.spacing,u=o.colors;return je(je({visibility:r?"hidden":"visible",transform:a?"translateZ(0)":""},nG),n?{}:{margin:c.baseUnit/2,paddingBottom:c.baseUnit/2,paddingTop:c.baseUnit/2,color:u.neutral80})},kD={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},nG={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":je({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},kD)},rG=function(e){return je({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},kD)},aG=function(e){var n=e.cx,r=e.value,a=TD(e),o=a.innerRef,c=a.isDisabled,u=a.isHidden,f=a.inputClassName,m=ws(a,eG);return De("div",Pe({},Vt(e,"input",{"input-container":!0}),{"data-value":r||""}),De("input",Pe({className:n({input:!0},f),ref:o,style:rG(u),disabled:c},m)))},sG=aG,iG=function(e,n){var r=e.theme,a=r.spacing,o=r.borderRadius,c=r.colors;return je({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:c.neutral10,borderRadius:o/2,margin:a.baseUnit/2})},oG=function(e,n){var r=e.theme,a=r.borderRadius,o=r.colors,c=e.cropWithEllipsis;return je({overflow:"hidden",textOverflow:c||c===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:a/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},lG=function(e,n){var r=e.theme,a=r.spacing,o=r.borderRadius,c=r.colors,u=e.isFocused;return je({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:u?c.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:c.dangerLight,color:c.danger}})},LD=function(e){var n=e.children,r=e.innerProps;return De("div",r,n)},cG=LD,uG=LD;function dG(t){var e=t.children,n=t.innerProps;return De("div",Pe({role:"button"},n),e||De(kx,{size:14}))}var fG=function(e){var n=e.children,r=e.components,a=e.data,o=e.innerProps,c=e.isDisabled,u=e.removeProps,f=e.selectProps,m=r.Container,g=r.Label,v=r.Remove;return De(m,{data:a,innerProps:je(je({},Vt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":c})),o),selectProps:f},De(g,{data:a,innerProps:je({},Vt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:f},n),De(v,{data:a,innerProps:je(je({},Vt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},u),selectProps:f}))},hG=fG,mG=function(e,n){var r=e.isDisabled,a=e.isFocused,o=e.isSelected,c=e.theme,u=c.spacing,f=c.colors;return je({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?f.primary:a?f.primary25:"transparent",color:r?f.neutral20:o?f.neutral0:"inherit",padding:"".concat(u.baseUnit*2,"px ").concat(u.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?f.primary:f.primary50}})},pG=function(e){var n=e.children,r=e.isDisabled,a=e.isFocused,o=e.isSelected,c=e.innerRef,u=e.innerProps;return De("div",Pe({},Vt(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":a,"option--is-selected":o}),{ref:c,"aria-disabled":r},u),n)},gG=pG,vG=function(e,n){var r=e.theme,a=r.spacing,o=r.colors;return je({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},yG=function(e){var n=e.children,r=e.innerProps;return De("div",Pe({},Vt(e,"placeholder",{placeholder:!0}),r),n)},bG=yG,xG=function(e,n){var r=e.isDisabled,a=e.theme,o=a.spacing,c=a.colors;return je({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?c.neutral40:c.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},wG=function(e){var n=e.children,r=e.isDisabled,a=e.innerProps;return De("div",Pe({},Vt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),a),n)},_G=wG,SG={ClearIndicator:UW,Control:GW,DropdownIndicator:LW,DownChevron:MD,CrossIcon:kx,Group:JW,GroupHeading:ZW,IndicatorsContainer:OW,IndicatorSeparator:VW,Input:sG,LoadingIndicator:HW,Menu:yW,MenuList:xW,MenuPortal:NW,LoadingMessage:EW,NoOptionsMessage:SW,MultiValue:hG,MultiValueContainer:cG,MultiValueLabel:uG,MultiValueRemove:dG,Option:gG,Placeholder:bG,SelectContainer:RW,SingleValue:_G,ValueContainer:AW},EG=function(e){return je(je({},SG),e.components)},vN=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function CG(t,e){return!!(t===e||vN(t)&&vN(e))}function NG(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!CG(t[n],e[n]))return!1;return!0}function TG(t,e){e===void 0&&(e=NG);var n=null;function r(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(n&&n.lastThis===this&&e(a,n.lastArgs))return n.lastResult;var c=t.apply(this,a);return n={lastResult:c,lastArgs:a,lastThis:this},c}return r.clear=function(){n=null},r}var RG={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},IG=function(e){return De("span",Pe({css:RG},e))},yN=IG,AG={guidance:function(e){var n=e.isSearchable,r=e.isMulti,a=e.tabSelectsValue,o=e.context,c=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return c?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,a=r===void 0?"":r,o=e.labels,c=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return c?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,a=e.options,o=e.label,c=o===void 0?"":o,u=e.selectValue,f=e.isDisabled,m=e.isSelected,g=e.isAppleDevice,v=function(E,S){return E&&E.length?"".concat(E.indexOf(S)+1," of ").concat(E.length):""};if(n==="value"&&u)return"value ".concat(c," focused, ").concat(v(u,r),".");if(n==="menu"&&g){var y=f?" disabled":"",w="".concat(m?" selected":"").concat(y);return"".concat(c).concat(w,", ").concat(v(a,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},DG=function(e){var n=e.ariaSelection,r=e.focusedOption,a=e.focusedValue,o=e.focusableOptions,c=e.isFocused,u=e.selectValue,f=e.selectProps,m=e.id,g=e.isAppleDevice,v=f.ariaLiveMessages,y=f.getOptionLabel,w=f.inputValue,_=f.isMulti,E=f.isOptionDisabled,S=f.isSearchable,C=f.menuIsOpen,N=f.options,I=f.screenReaderStatus,T=f.tabSelectsValue,R=f.isLoading,D=f["aria-label"],j=f["aria-live"],P=x.useMemo(function(){return je(je({},AG),v||{})},[v]),F=x.useMemo(function(){var q="";if(n&&P.onChange){var k=n.option,Z=n.options,z=n.removedValue,G=n.removedValues,L=n.value,Y=function(ne){return Array.isArray(ne)?null:ne},ie=z||k||Y(L),le=ie?y(ie):"",ue=Z||G||void 0,_e=ue?ue.map(y):[],he=je({isDisabled:ie&&E(ie,u),label:le,labels:_e},n);q=P.onChange(he)}return q},[n,P,E,u,y]),B=x.useMemo(function(){var q="",k=r||a,Z=!!(r&&u&&u.includes(r));if(k&&P.onFocus){var z={focused:k,label:y(k),isDisabled:E(k,u),isSelected:Z,options:o,context:k===r?"menu":"value",selectValue:u,isAppleDevice:g};q=P.onFocus(z)}return q},[r,a,y,E,P,o,u,g]),K=x.useMemo(function(){var q="";if(C&&N.length&&!R&&P.onFilter){var k=I({count:o.length});q=P.onFilter({inputValue:w,resultsMessage:k})}return q},[o,w,C,P,N,I,R]),re=(n==null?void 0:n.action)==="initial-input-focus",Q=x.useMemo(function(){var q="";if(P.guidance){var k=a?"value":C?"menu":"input";q=P.guidance({"aria-label":D,context:k,isDisabled:r&&E(r,u),isMulti:_,isSearchable:S,tabSelectsValue:T,isInitialFocus:re})}return q},[D,r,a,_,E,S,C,P,u,T,re]),$=De(x.Fragment,null,De("span",{id:"aria-selection"},F),De("span",{id:"aria-focused"},B),De("span",{id:"aria-results"},K),De("span",{id:"aria-guidance"},Q));return De(x.Fragment,null,De(yN,{id:m},re&&$),De(yN,{"aria-live":j,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},c&&!re&&$))},OG=DG,jb=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],jG=new RegExp("["+jb.map(function(t){return t.letters}).join("")+"]","g"),FD={};for(var Cy=0;Cy<jb.length;Cy++)for(var Ny=jb[Cy],Ty=0;Ty<Ny.letters.length;Ty++)FD[Ny.letters[Ty]]=Ny.base;var UD=function(e){return e.replace(jG,function(n){return FD[n]})},MG=TG(UD),bN=function(e){return e.replace(/^\s+|\s+$/g,"")},PG=function(e){return"".concat(e.label," ").concat(e.value)},kG=function(e){return function(n,r){if(n.data.__isNew__)return!0;var a=je({ignoreCase:!0,ignoreAccents:!0,stringify:PG,trim:!0,matchFrom:"any"},e),o=a.ignoreCase,c=a.ignoreAccents,u=a.stringify,f=a.trim,m=a.matchFrom,g=f?bN(r):r,v=f?bN(u(n)):u(n);return o&&(g=g.toLowerCase(),v=v.toLowerCase()),c&&(g=MG(g),v=UD(v)),m==="start"?v.substr(0,g.length)===g:v.indexOf(g)>-1}},LG=["innerRef"];function FG(t){var e=t.innerRef,n=ws(t,LG),r=uW(n,"onExited","in","enter","exit","appear");return De("input",Pe({ref:e},r,{css:Rx({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var UG=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function BG(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,a=t.onTopArrive,o=t.onTopLeave,c=x.useRef(!1),u=x.useRef(!1),f=x.useRef(0),m=x.useRef(null),g=x.useCallback(function(S,C){if(m.current!==null){var N=m.current,I=N.scrollTop,T=N.scrollHeight,R=N.clientHeight,D=m.current,j=C>0,P=T-R-I,F=!1;P>C&&c.current&&(r&&r(S),c.current=!1),j&&u.current&&(o&&o(S),u.current=!1),j&&C>P?(n&&!c.current&&n(S),D.scrollTop=T,F=!0,c.current=!0):!j&&-C>I&&(a&&!u.current&&a(S),D.scrollTop=0,F=!0,u.current=!0),F&&UG(S)}},[n,r,a,o]),v=x.useCallback(function(S){g(S,S.deltaY)},[g]),y=x.useCallback(function(S){f.current=S.changedTouches[0].clientY},[]),w=x.useCallback(function(S){var C=f.current-S.changedTouches[0].clientY;g(S,C)},[g]),_=x.useCallback(function(S){if(S){var C=oW?{passive:!1}:!1;S.addEventListener("wheel",v,C),S.addEventListener("touchstart",y,C),S.addEventListener("touchmove",w,C)}},[w,y,v]),E=x.useCallback(function(S){S&&(S.removeEventListener("wheel",v,!1),S.removeEventListener("touchstart",y,!1),S.removeEventListener("touchmove",w,!1))},[w,y,v]);return x.useEffect(function(){if(e){var S=m.current;return _(S),function(){E(S)}}},[e,_,E]),function(S){m.current=S}}var xN=["boxSizing","height","overflow","paddingRight","position"],wN={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function _N(t){t.cancelable&&t.preventDefault()}function SN(t){t.stopPropagation()}function EN(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function CN(){return"ontouchstart"in window||navigator.maxTouchPoints}var NN=!!(typeof window<"u"&&window.document&&window.document.createElement),Du=0,Al={capture:!1,passive:!1};function VG(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,a=x.useRef({}),o=x.useRef(null),c=x.useCallback(function(f){if(NN){var m=document.body,g=m&&m.style;if(r&&xN.forEach(function(_){var E=g&&g[_];a.current[_]=E}),r&&Du<1){var v=parseInt(a.current.paddingRight,10)||0,y=document.body?document.body.clientWidth:0,w=window.innerWidth-y+v||0;Object.keys(wN).forEach(function(_){var E=wN[_];g&&(g[_]=E)}),g&&(g.paddingRight="".concat(w,"px"))}m&&CN()&&(m.addEventListener("touchmove",_N,Al),f&&(f.addEventListener("touchstart",EN,Al),f.addEventListener("touchmove",SN,Al))),Du+=1}},[r]),u=x.useCallback(function(f){if(NN){var m=document.body,g=m&&m.style;Du=Math.max(Du-1,0),r&&Du<1&&xN.forEach(function(v){var y=a.current[v];g&&(g[v]=y)}),m&&CN()&&(m.removeEventListener("touchmove",_N,Al),f&&(f.removeEventListener("touchstart",EN,Al),f.removeEventListener("touchmove",SN,Al)))}},[r]);return x.useEffect(function(){if(e){var f=o.current;return c(f),function(){u(f)}}},[e,c,u]),function(f){o.current=f}}var $G=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},zG={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function HG(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,a=r===void 0?!0:r,o=t.onBottomArrive,c=t.onBottomLeave,u=t.onTopArrive,f=t.onTopLeave,m=BG({isEnabled:a,onBottomArrive:o,onBottomLeave:c,onTopArrive:u,onTopLeave:f}),g=VG({isEnabled:n}),v=function(w){m(w),g(w)};return De(x.Fragment,null,n&&De("div",{onClick:$G,css:zG}),e(v))}var qG={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},WG=function(e){var n=e.name,r=e.onFocus;return De("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:qG,value:"",onChange:function(){}})},GG=WG;function Lx(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function YG(){return Lx(/^iPhone/i)}function BD(){return Lx(/^Mac/i)}function KG(){return Lx(/^iPad/i)||BD()&&navigator.maxTouchPoints>1}function XG(){return YG()||KG()}function QG(){return BD()||XG()}var ZG=function(e){return e.label},JG=function(e){return e.label},eY=function(e){return e.value},tY=function(e){return!!e.isDisabled},nY={clearIndicator:FW,container:TW,control:qW,dropdownIndicator:kW,group:KW,groupHeading:QW,indicatorsContainer:DW,indicatorSeparator:BW,input:tG,loadingIndicator:zW,loadingMessage:_W,menu:pW,menuList:bW,menuPortal:CW,multiValue:iG,multiValueLabel:oG,multiValueRemove:lG,noOptionsMessage:wW,option:mG,placeholder:vG,singleValue:xG,valueContainer:IW},rY={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},aY=4,VD=4,sY=38,iY=VD*2,oY={baseUnit:VD,controlHeight:sY,menuGutter:iY},Ry={borderRadius:aY,colors:rY,spacing:oY},lY={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:pN(),captureMenuScroll:!pN(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:kG(),formatGroupLabel:ZG,getOptionLabel:JG,getOptionValue:eY,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:tY,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!sW(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function TN(t,e,n,r){var a=HD(t,e,n),o=qD(t,e,n),c=zD(t,e),u=_m(t,e);return{type:"option",data:e,isDisabled:a,isSelected:o,label:c,value:u,index:r}}function Fh(t,e){return t.options.map(function(n,r){if("options"in n){var a=n.options.map(function(c,u){return TN(t,c,e,u)}).filter(function(c){return IN(t,c)});return a.length>0?{type:"group",data:n,options:a,index:r}:void 0}var o=TN(t,n,e,r);return IN(t,o)?o:void 0}).filter(lW)}function $D(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,Sx(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function RN(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,Sx(r.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(r.index,"-").concat(a.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function cY(t,e){return $D(Fh(t,e))}function IN(t,e){var n=t.inputValue,r=n===void 0?"":n,a=e.data,o=e.isSelected,c=e.label,u=e.value;return(!GD(t)||!o)&&WD(t,{label:c,value:u,data:a},r)}function uY(t,e){var n=t.focusedValue,r=t.selectValue,a=r.indexOf(n);if(a>-1){var o=e.indexOf(n);if(o>-1)return n;if(a<e.length)return e[a]}return null}function dY(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var Iy=function(e,n){var r,a=(r=e.find(function(o){return o.data===n}))===null||r===void 0?void 0:r.id;return a||null},zD=function(e,n){return e.getOptionLabel(n)},_m=function(e,n){return e.getOptionValue(n)};function HD(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function qD(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=_m(t,e);return n.some(function(a){return _m(t,a)===r})}function WD(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var GD=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},fY=1,YD=function(t){i9(n,t);var e=c9(n);function n(r){var a;if(a9(this,n),a=e.call(this,r),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.isAppleDevice=QG(),a.controlRef=null,a.getControlRef=function(f){a.controlRef=f},a.focusedOptionRef=null,a.getFocusedOptionRef=function(f){a.focusedOptionRef=f},a.menuListRef=null,a.getMenuListRef=function(f){a.menuListRef=f},a.inputRef=null,a.getInputRef=function(f){a.inputRef=f},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(f,m){var g=a.props,v=g.onChange,y=g.name;m.name=y,a.ariaOnChange(f,m),v(f,m)},a.setValue=function(f,m,g){var v=a.props,y=v.closeMenuOnSelect,w=v.isMulti,_=v.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:_}),y&&(a.setState({inputIsHiddenAfterUpdate:!w}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(f,{action:m,option:g})},a.selectOption=function(f){var m=a.props,g=m.blurInputOnSelect,v=m.isMulti,y=m.name,w=a.state.selectValue,_=v&&a.isOptionSelected(f,w),E=a.isOptionDisabled(f,w);if(_){var S=a.getOptionValue(f);a.setValue(w.filter(function(C){return a.getOptionValue(C)!==S}),"deselect-option",f)}else if(!E)v?a.setValue([].concat(Sx(w),[f]),"select-option",f):a.setValue(f,"select-option");else{a.ariaOnChange(f,{action:"select-option",option:f,name:y});return}g&&a.blurInput()},a.removeValue=function(f){var m=a.props.isMulti,g=a.state.selectValue,v=a.getOptionValue(f),y=g.filter(function(_){return a.getOptionValue(_)!==v}),w=Sh(m,y,y[0]||null);a.onChange(w,{action:"remove-value",removedValue:f}),a.focusInput()},a.clearValue=function(){var f=a.state.selectValue;a.onChange(Sh(a.props.isMulti,[],null),{action:"clear",removedValues:f})},a.popValue=function(){var f=a.props.isMulti,m=a.state.selectValue,g=m[m.length-1],v=m.slice(0,m.length-1),y=Sh(f,v,v[0]||null);g&&a.onChange(y,{action:"pop-value",removedValue:g})},a.getFocusedOptionId=function(f){return Iy(a.state.focusableOptionsWithIds,f)},a.getFocusableOptionsWithIds=function(){return RN(Fh(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var f=arguments.length,m=new Array(f),g=0;g<f;g++)m[g]=arguments[g];return eW.apply(void 0,[a.props.classNamePrefix].concat(m))},a.getOptionLabel=function(f){return zD(a.props,f)},a.getOptionValue=function(f){return _m(a.props,f)},a.getStyles=function(f,m){var g=a.props.unstyled,v=nY[f](m,g);v.boxSizing="border-box";var y=a.props.styles[f];return y?y(v,m):v},a.getClassNames=function(f,m){var g,v;return(g=(v=a.props.classNames)[f])===null||g===void 0?void 0:g.call(v,m)},a.getElementId=function(f){return"".concat(a.state.instancePrefix,"-").concat(f)},a.getComponents=function(){return EG(a.props)},a.buildCategorizedOptions=function(){return Fh(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return $D(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(f,m){a.setState({ariaSelection:je({value:f},m)})},a.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(f){a.blockOptionHover=!1},a.onControlMouseDown=function(f){if(!f.defaultPrevented){var m=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&a.onMenuClose():m&&a.openMenu("first"):(m&&(a.openAfterFocus=!0),a.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()}},a.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0)&&!a.props.isDisabled){var m=a.props,g=m.isMulti,v=m.menuIsOpen;a.focusInput(),v?(a.setState({inputIsHiddenAfterUpdate:!g}),a.onMenuClose()):a.openMenu("first"),f.preventDefault()}},a.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(a.clearValue(),f.preventDefault(),a.openAfterFocus=!1,f.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(f){typeof a.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&mp(f.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(f)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(f){var m=f.touches,g=m&&m.item(0);g&&(a.initialTouchX=g.clientX,a.initialTouchY=g.clientY,a.userIsDragging=!1)},a.onTouchMove=function(f){var m=f.touches,g=m&&m.item(0);if(g){var v=Math.abs(g.clientX-a.initialTouchX),y=Math.abs(g.clientY-a.initialTouchY),w=5;a.userIsDragging=v>w||y>w}},a.onTouchEnd=function(f){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(f.target)&&a.menuListRef&&!a.menuListRef.contains(f.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(f){a.userIsDragging||a.onControlMouseDown(f)},a.onClearIndicatorTouchEnd=function(f){a.userIsDragging||a.onClearIndicatorMouseDown(f)},a.onDropdownIndicatorTouchEnd=function(f){a.userIsDragging||a.onDropdownIndicatorMouseDown(f)},a.handleInputChange=function(f){var m=a.props.inputValue,g=f.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(g,{action:"input-change",prevInputValue:m}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(f){a.props.onFocus&&a.props.onFocus(f),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(f){var m=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(f),a.onInputChange("",{action:"input-blur",prevInputValue:m}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(f){if(!(a.blockOptionHover||a.state.focusedOption===f)){var m=a.getFocusableOptions(),g=m.indexOf(f);a.setState({focusedOption:f,focusedOptionId:g>-1?a.getFocusedOptionId(f):null})}},a.shouldHideSelectedOptions=function(){return GD(a.props)},a.onValueInputFocus=function(f){f.preventDefault(),f.stopPropagation(),a.focus()},a.onKeyDown=function(f){var m=a.props,g=m.isMulti,v=m.backspaceRemovesValue,y=m.escapeClearsValue,w=m.inputValue,_=m.isClearable,E=m.isDisabled,S=m.menuIsOpen,C=m.onKeyDown,N=m.tabSelectsValue,I=m.openMenuOnFocus,T=a.state,R=T.focusedOption,D=T.focusedValue,j=T.selectValue;if(!E&&!(typeof C=="function"&&(C(f),f.defaultPrevented))){switch(a.blockOptionHover=!0,f.key){case"ArrowLeft":if(!g||w)return;a.focusValue("previous");break;case"ArrowRight":if(!g||w)return;a.focusValue("next");break;case"Delete":case"Backspace":if(w)return;if(D)a.removeValue(D);else{if(!v)return;g?a.popValue():_&&a.clearValue()}break;case"Tab":if(a.isComposing||f.shiftKey||!S||!N||!R||I&&a.isOptionSelected(R,j))return;a.selectOption(R);break;case"Enter":if(f.keyCode===229)break;if(S){if(!R||a.isComposing)return;a.selectOption(R);break}return;case"Escape":S?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:w}),a.onMenuClose()):_&&y&&a.clearValue();break;case" ":if(w)return;if(!S){a.openMenu("first");break}if(!R)return;a.selectOption(R);break;case"ArrowUp":S?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":S?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!S)return;a.focusOption("pageup");break;case"PageDown":if(!S)return;a.focusOption("pagedown");break;case"Home":if(!S)return;a.focusOption("first");break;case"End":if(!S)return;a.focusOption("last");break;default:return}f.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++fY),a.state.selectValue=hN(r.value),r.menuIsOpen&&a.state.selectValue.length){var o=a.getFocusableOptionsWithIds(),c=a.buildFocusableOptions(),u=c.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=o,a.state.focusedOption=c[u],a.state.focusedOptionId=Iy(o,c[u])}return a}return s9(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&mN(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(a){var o=this.props,c=o.isDisabled,u=o.menuIsOpen,f=this.state.isFocused;(f&&!c&&a.isDisabled||f&&u&&!a.menuIsOpen)&&this.focusInput(),f&&c&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!f&&!c&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(mN(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,o){this.props.onInputChange(a,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var o=this,c=this.state,u=c.selectValue,f=c.isFocused,m=this.buildFocusableOptions(),g=a==="first"?0:m.length-1;if(!this.props.isMulti){var v=m.indexOf(u[0]);v>-1&&(g=v)}this.scrollToFocusedOptionOnUpdate=!(f&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:m[g],focusedOptionId:this.getFocusedOptionId(m[g])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(a){var o=this.state,c=o.selectValue,u=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var f=c.indexOf(u);u||(f=-1);var m=c.length-1,g=-1;if(c.length){switch(a){case"previous":f===0?g=0:f===-1?g=m:g=f-1;break;case"next":f>-1&&f<m&&(g=f+1);break}this.setState({inputIsHidden:g!==-1,focusedValue:c[g]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,c=this.state.focusedOption,u=this.getFocusableOptions();if(u.length){var f=0,m=u.indexOf(c);c||(m=-1),a==="up"?f=m>0?m-1:u.length-1:a==="down"?f=(m+1)%u.length:a==="pageup"?(f=m-o,f<0&&(f=0)):a==="pagedown"?(f=m+o,f>u.length-1&&(f=u.length-1)):a==="last"&&(f=u.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:u[f],focusedValue:null,focusedOptionId:this.getFocusedOptionId(u[f])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Ry):je(je({},Ry),this.props.theme):Ry}},{key:"getCommonProps",value:function(){var a=this.clearValue,o=this.cx,c=this.getStyles,u=this.getClassNames,f=this.getValue,m=this.selectOption,g=this.setValue,v=this.props,y=v.isMulti,w=v.isRtl,_=v.options,E=this.hasValue();return{clearValue:a,cx:o,getStyles:c,getClassNames:u,getValue:f,hasValue:E,isMulti:y,isRtl:w,options:_,selectOption:m,selectProps:v,setValue:g,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,o=a.isClearable,c=a.isMulti;return o===void 0?c:o}},{key:"isOptionDisabled",value:function(a,o){return HD(this.props,a,o)}},{key:"isOptionSelected",value:function(a,o){return qD(this.props,a,o)}},{key:"filterOption",value:function(a,o){return WD(this.props,a,o)}},{key:"formatOptionLabel",value:function(a,o){if(typeof this.props.formatOptionLabel=="function"){var c=this.props.inputValue,u=this.state.selectValue;return this.props.formatOptionLabel(a,{context:o,inputValue:c,selectValue:u})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,o=a.isDisabled,c=a.isSearchable,u=a.inputId,f=a.inputValue,m=a.tabIndex,g=a.form,v=a.menuIsOpen,y=a.required,w=this.getComponents(),_=w.Input,E=this.state,S=E.inputIsHidden,C=E.ariaSelection,N=this.commonProps,I=u||this.getElementId("input"),T=je(je(je({"aria-autocomplete":"list","aria-expanded":v,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":y,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},v&&{"aria-controls":this.getElementId("listbox")}),!c&&{"aria-readonly":!0}),this.hasValue()?(C==null?void 0:C.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return c?x.createElement(_,Pe({},N,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:I,innerRef:this.getInputRef,isDisabled:o,isHidden:S,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:m,form:g,type:"text",value:f},T)):x.createElement(FG,Pe({id:I,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:xm,onFocus:this.onInputFocus,disabled:o,tabIndex:m,inputMode:"none",form:g,value:""},T))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,o=this.getComponents(),c=o.MultiValue,u=o.MultiValueContainer,f=o.MultiValueLabel,m=o.MultiValueRemove,g=o.SingleValue,v=o.Placeholder,y=this.commonProps,w=this.props,_=w.controlShouldRenderValue,E=w.isDisabled,S=w.isMulti,C=w.inputValue,N=w.placeholder,I=this.state,T=I.selectValue,R=I.focusedValue,D=I.isFocused;if(!this.hasValue()||!_)return C?null:x.createElement(v,Pe({},y,{key:"placeholder",isDisabled:E,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),N);if(S)return T.map(function(P,F){var B=P===R,K="".concat(a.getOptionLabel(P),"-").concat(a.getOptionValue(P));return x.createElement(c,Pe({},y,{components:{Container:u,Label:f,Remove:m},isFocused:B,isDisabled:E,key:K,index:F,removeProps:{onClick:function(){return a.removeValue(P)},onTouchEnd:function(){return a.removeValue(P)},onMouseDown:function(Q){Q.preventDefault()}},data:P}),a.formatOptionLabel(P,"value"))});if(C)return null;var j=T[0];return x.createElement(g,Pe({},y,{data:j,isDisabled:E}),this.formatOptionLabel(j,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),o=a.ClearIndicator,c=this.commonProps,u=this.props,f=u.isDisabled,m=u.isLoading,g=this.state.isFocused;if(!this.isClearable()||!o||f||!this.hasValue()||m)return null;var v={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(o,Pe({},c,{innerProps:v,isFocused:g}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),o=a.LoadingIndicator,c=this.commonProps,u=this.props,f=u.isDisabled,m=u.isLoading,g=this.state.isFocused;if(!o||!m)return null;var v={"aria-hidden":"true"};return x.createElement(o,Pe({},c,{innerProps:v,isDisabled:f,isFocused:g}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),o=a.DropdownIndicator,c=a.IndicatorSeparator;if(!o||!c)return null;var u=this.commonProps,f=this.props.isDisabled,m=this.state.isFocused;return x.createElement(c,Pe({},u,{isDisabled:f,isFocused:m}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),o=a.DropdownIndicator;if(!o)return null;var c=this.commonProps,u=this.props.isDisabled,f=this.state.isFocused,m={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(o,Pe({},c,{innerProps:m,isDisabled:u,isFocused:f}))}},{key:"renderMenu",value:function(){var a=this,o=this.getComponents(),c=o.Group,u=o.GroupHeading,f=o.Menu,m=o.MenuList,g=o.MenuPortal,v=o.LoadingMessage,y=o.NoOptionsMessage,w=o.Option,_=this.commonProps,E=this.state.focusedOption,S=this.props,C=S.captureMenuScroll,N=S.inputValue,I=S.isLoading,T=S.loadingMessage,R=S.minMenuHeight,D=S.maxMenuHeight,j=S.menuIsOpen,P=S.menuPlacement,F=S.menuPosition,B=S.menuPortalTarget,K=S.menuShouldBlockScroll,re=S.menuShouldScrollIntoView,Q=S.noOptionsMessage,$=S.onMenuScrollToTop,q=S.onMenuScrollToBottom;if(!j)return null;var k=function(le,ue){var _e=le.type,he=le.data,Ae=le.isDisabled,ne=le.isSelected,de=le.label,ve=le.value,ze=E===he,at=Ae?void 0:function(){return a.onOptionHover(he)},Oe=Ae?void 0:function(){return a.selectOption(he)},tt="".concat(a.getElementId("option"),"-").concat(ue),dt={id:tt,onClick:Oe,onMouseMove:at,onMouseOver:at,tabIndex:-1,role:"option","aria-selected":a.isAppleDevice?void 0:ne};return x.createElement(w,Pe({},_,{innerProps:dt,data:he,isDisabled:Ae,isSelected:ne,key:tt,label:de,type:_e,value:ve,isFocused:ze,innerRef:ze?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(le.data,"menu"))},Z;if(this.hasOptions())Z=this.getCategorizedOptions().map(function(ie){if(ie.type==="group"){var le=ie.data,ue=ie.options,_e=ie.index,he="".concat(a.getElementId("group"),"-").concat(_e),Ae="".concat(he,"-heading");return x.createElement(c,Pe({},_,{key:he,data:le,options:ue,Heading:u,headingProps:{id:Ae,data:ie.data},label:a.formatGroupLabel(ie.data)}),ie.options.map(function(ne){return k(ne,"".concat(_e,"-").concat(ne.index))}))}else if(ie.type==="option")return k(ie,"".concat(ie.index))});else if(I){var z=T({inputValue:N});if(z===null)return null;Z=x.createElement(v,_,z)}else{var G=Q({inputValue:N});if(G===null)return null;Z=x.createElement(y,_,G)}var L={minMenuHeight:R,maxMenuHeight:D,menuPlacement:P,menuPosition:F,menuShouldScrollIntoView:re},Y=x.createElement(gW,Pe({},_,L),function(ie){var le=ie.ref,ue=ie.placerProps,_e=ue.placement,he=ue.maxHeight;return x.createElement(f,Pe({},_,L,{innerRef:le,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:I,placement:_e}),x.createElement(HG,{captureEnabled:C,onTopArrive:$,onBottomArrive:q,lockEnabled:K},function(Ae){return x.createElement(m,Pe({},_,{innerRef:function(de){a.getMenuListRef(de),Ae(de)},innerProps:{role:"listbox","aria-multiselectable":_.isMulti,id:a.getElementId("listbox")},isLoading:I,maxHeight:he,focusedOption:E}),Z)}))});return B||F==="fixed"?x.createElement(g,Pe({},_,{appendTo:B,controlElement:this.controlRef,menuPlacement:P,menuPosition:F}),Y):Y}},{key:"renderFormField",value:function(){var a=this,o=this.props,c=o.delimiter,u=o.isDisabled,f=o.isMulti,m=o.name,g=o.required,v=this.state.selectValue;if(g&&!this.hasValue()&&!u)return x.createElement(GG,{name:m,onFocus:this.onValueInputFocus});if(!(!m||u))if(f)if(c){var y=v.map(function(E){return a.getOptionValue(E)}).join(c);return x.createElement("input",{name:m,type:"hidden",value:y})}else{var w=v.length>0?v.map(function(E,S){return x.createElement("input",{key:"i-".concat(S),name:m,type:"hidden",value:a.getOptionValue(E)})}):x.createElement("input",{name:m,type:"hidden",value:""});return x.createElement("div",null,w)}else{var _=v[0]?this.getOptionValue(v[0]):"";return x.createElement("input",{name:m,type:"hidden",value:_})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,o=this.state,c=o.ariaSelection,u=o.focusedOption,f=o.focusedValue,m=o.isFocused,g=o.selectValue,v=this.getFocusableOptions();return x.createElement(OG,Pe({},a,{id:this.getElementId("live-region"),ariaSelection:c,focusedOption:u,focusedValue:f,isFocused:m,selectValue:g,focusableOptions:v,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),o=a.Control,c=a.IndicatorsContainer,u=a.SelectContainer,f=a.ValueContainer,m=this.props,g=m.className,v=m.id,y=m.isDisabled,w=m.menuIsOpen,_=this.state.isFocused,E=this.commonProps=this.getCommonProps();return x.createElement(u,Pe({},E,{className:g,innerProps:{id:v,onKeyDown:this.onKeyDown},isDisabled:y,isFocused:_}),this.renderLiveRegion(),x.createElement(o,Pe({},E,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:y,isFocused:_,menuIsOpen:w}),x.createElement(f,Pe({},E,{isDisabled:y}),this.renderPlaceholderOrValue(),this.renderInput()),x.createElement(c,Pe({},E,{isDisabled:y}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,o){var c=o.prevProps,u=o.clearFocusValueOnUpdate,f=o.inputIsHiddenAfterUpdate,m=o.ariaSelection,g=o.isFocused,v=o.prevWasFocused,y=o.instancePrefix,w=a.options,_=a.value,E=a.menuIsOpen,S=a.inputValue,C=a.isMulti,N=hN(_),I={};if(c&&(_!==c.value||w!==c.options||E!==c.menuIsOpen||S!==c.inputValue)){var T=E?cY(a,N):[],R=E?RN(Fh(a,N),"".concat(y,"-option")):[],D=u?uY(o,N):null,j=dY(o,T),P=Iy(R,j);I={selectValue:N,focusedOption:j,focusedOptionId:P,focusableOptionsWithIds:R,focusedValue:D,clearFocusValueOnUpdate:!1}}var F=f!=null&&a!==c?{inputIsHidden:f,inputIsHiddenAfterUpdate:void 0}:{},B=m,K=g&&v;return g&&!K&&(B={value:Sh(C,N,N[0]||null),options:N,action:"initial-input-focus"},K=!v),(m==null?void 0:m.action)==="initial-input-focus"&&(B=null),je(je(je({},I),F),{},{prevProps:a,ariaSelection:B,prevWasFocused:K})}}]),n}(x.Component);YD.defaultProps=lY;var hY=x.forwardRef(function(t,e){var n=r9(t);return x.createElement(YD,Pe({ref:e},n))}),mY=hY;const xi=x.forwardRef(({options:t=[],onChange:e,value:n,placeholder:r="Seleccione una opcin...",searchPlaceholder:a="Escriba para buscar...",notFoundText:o="No se encontraron resultados.",disabled:c,readOnly:u,className:f,label:m,error:g,...v},y)=>{const w=x.useMemo(()=>{const C=t.reduce((N,I)=>{const T=I.group||"default";return N[T]||(N[T]=[]),N[T].push(I),N},{});return Object.entries(C).map(([N,I])=>({label:N==="default"?void 0:N,options:I})).filter(N=>N.label!==void 0)},[t]),_=x.useMemo(()=>n==null||n===""?null:t.find(C=>String(C.value)===String(n))||null,[n,t]),E=C=>{e&&e(C?String(C.value):"")},S={control:(C,N)=>({...C,backgroundColor:"hsl(var(--background))",borderColor:g?"hsl(var(--destructive))":N.isFocused?"hsl(var(--ring))":"hsl(var(--input))",boxShadow:N.isFocused?g?"0 0 0 2px hsl(var(--background)), 0 0 0 4px hsl(var(--destructive))":"0 0 0 2px hsl(var(--background)), 0 0 0 4px hsl(var(--ring))":"none","&:hover":{borderColor:g?"hsl(var(--destructive))":"hsl(var(--ring))"},borderRadius:"0.5rem",padding:"1px",minHeight:"2.5rem",cursor:c?"not-allowed":"pointer",opacity:c?.5:1,transition:"all 150ms"}),menu:C=>({...C,backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--input))",boxShadow:"0px 4px 16px hsl(var(--card-foreground) / 0.1)",borderRadius:"0.5rem",overflow:"hidden",zIndex:9999,marginTop:"8px",position:"absolute",width:"100%"}),menuPortal:C=>({...C,zIndex:9999}),menuList:C=>({...C,padding:"4px",maxHeight:"300px"}),option:(C,N)=>({...C,backgroundColor:N.isSelected?"hsl(var(--primary))":N.isFocused?"hsl(var(--accent))":"transparent",color:N.isSelected?"hsl(var(--primary-foreground))":N.isFocused?"hsl(var(--accent-foreground))":"hsl(var(--foreground))",cursor:"pointer",padding:"8px 12px",fontSize:"0.875rem",transition:"all 150ms","&:active":{backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},"&:hover":{backgroundColor:N.isSelected?"hsl(var(--primary))":"hsl(var(--accent))",color:N.isSelected?"hsl(var(--primary-foreground))":"hsl(var(--accent-foreground))"}}),input:C=>({...C,color:"hsl(var(--foreground))"}),singleValue:C=>({...C,color:"hsl(var(--foreground))",fontSize:"0.875rem"}),placeholder:C=>({...C,color:"hsl(var(--muted-foreground))",fontSize:"0.875rem"}),dropdownIndicator:(C,N)=>({...C,transition:"transform 150ms ease",transform:N.selectProps.menuIsOpen?"rotate(180deg)":void 0,color:"hsl(var(--muted-foreground))",padding:"0 4px","&:hover":{color:"hsl(var(--foreground))"}}),clearIndicator:C=>({...C,color:"hsl(var(--muted-foreground))",padding:"0 2px","&:hover":{color:"hsl(var(--foreground))"}}),multiValue:C=>({...C,backgroundColor:"hsl(var(--accent))",borderRadius:"4px"}),multiValueLabel:C=>({...C,color:"hsl(var(--accent-foreground))",fontSize:"0.875rem"}),multiValueRemove:C=>({...C,color:"hsl(var(--accent-foreground))","&:hover":{backgroundColor:"hsl(var(--destructive))",color:"hsl(var(--destructive-foreground))"}})};return d.jsxs("div",{className:"w-full space-y-2",children:[m&&d.jsx("label",{htmlFor:v.id||v.name,className:"text-sm font-bold leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:m}),d.jsx(mY,{...v,ref:y,options:w.length>0?w:t,value:_,onChange:C=>E(C),isDisabled:c||u,placeholder:r,noOptionsMessage:()=>o,classNamePrefix:"react-select",className:f,styles:S,isSearchable:!u,isClearable:!u,menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"auto",menuShouldBlockScroll:!0,menuShouldScrollIntoView:!1,closeMenuOnScroll:!1,blurInputOnSelect:!0,captureMenuScroll:!1,closeMenuOnSelect:!0,pageSize:5,tabSelectsValue:!0,openMenuOnFocus:!u,components:{IndicatorSeparator:()=>null},theme:C=>({...C,spacing:{...C.spacing,controlHeight:40,menuGutter:8},colors:{...C.colors,primary:"hsl(var(--primary))",primary75:"hsl(var(--primary-foreground))",primary50:"hsl(var(--accent))",primary25:"hsl(var(--accent))",danger:"hsl(var(--destructive))",dangerLight:"hsl(var(--destructive) / 0.1)"}})}),g&&d.jsx("p",{className:"text-sm font-medium text-destructive",children:g})]})});xi.displayName="Select";const Fx=x.forwardRef(({className:t,label:e,error:n,...r},a)=>d.jsxs("div",{className:"w-full space-y-2",children:[e&&d.jsx("label",{htmlFor:r.id||r.name,className:"text-sm font-bold leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:e}),d.jsx("textarea",{ref:a,className:ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","resize-none",n&&"border-destructive focus-visible:ring-destructive",t),...r}),n&&d.jsx("p",{className:"text-sm font-medium text-destructive",children:n})]}));Fx.displayName="Textarea";const Wd=O.forwardRef(({className:t,label:e,error:n,containerClassName:r,value:a,onChange:o,defaultValue:c,...u},f)=>{const m=O.useRef(null),g=E=>{try{if(E instanceof Date)return E;if(typeof E=="string"){if(E.includes("GMT")){const I=E.match(/(\w+)\s+(\w+)\s+(\d+)\s+(\d+)/);if(I){const[,,T,R,D]=I,P={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11}[T];if(P!==void 0)return new Date(Number(D),P,Number(R))}}else if(E.includes("T"))return _i(E);const[S,C,N]=E.split("-").map(Number);return new Date(S,C-1,N)}return new Date(E)}catch(S){return console.error("Error converting to date:",S),null}},v=O.useMemo(()=>{const E=a||c;if(!E)return"";const S=g(E);if(!S)return"";const C=S.getFullYear(),N=String(S.getMonth()+1).padStart(2,"0"),I=String(S.getDate()).padStart(2,"0");return`${C}-${N}-${I}`},[a,c]),y=O.useMemo(()=>{const E=a||c;if(!E)return"";const S=g(E);return S?iR(S):""},[a,c]),w=E=>{const S=E.target.value;o&&o(S)},_=()=>{m.current&&m.current.showPicker()};return d.jsxs("div",{className:ke("w-full space-y-2",r),children:[e&&d.jsx("label",{htmlFor:u.id||u.name,className:"text-sm font-bold leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:e}),d.jsxs("div",{className:"relative",children:[d.jsxs("div",{onClick:_,className:ke("flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2","text-sm ring-offset-background cursor-pointer","hover:bg-accent hover:text-accent-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",!a&&!c&&"text-muted-foreground",n&&"border-destructive focus-visible:ring-destructive",t),children:[d.jsx(VL,{className:"mr-2 h-4 w-4 opacity-50"}),y||u.placeholder||"Seleccione una fecha"]}),d.jsx("input",{...u,type:"date",ref:E=>{m.current=E,typeof f=="function"?f(E):f&&(f.current=E)},value:v,onChange:w,className:"sr-only"})]}),n&&d.jsx("p",{className:"text-sm font-medium text-destructive",children:n})]})});Wd.displayName="DatePicker";const KD=x.forwardRef(({className:t,...e},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:ke("w-full caption-bottom text-sm",t),...e})}));KD.displayName="Table";const XD=x.forwardRef(({className:t,...e},n)=>d.jsx("thead",{ref:n,className:ke("[&_tr]:border-b",t),...e}));XD.displayName="TableHeader";const QD=x.forwardRef(({className:t,...e},n)=>d.jsx("tbody",{ref:n,className:ke("[&_tr:last-child]:border-0",t),...e}));QD.displayName="TableBody";const pY=x.forwardRef(({className:t,...e},n)=>d.jsx("tfoot",{ref:n,className:ke("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));pY.displayName="TableFooter";const Mb=x.forwardRef(({className:t,...e},n)=>d.jsx("tr",{ref:n,className:ke("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Mb.displayName="TableRow";const Pb=x.forwardRef(({className:t,...e},n)=>d.jsx("th",{ref:n,className:ke("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Pb.displayName="TableHead";const Uh=x.forwardRef(({className:t,...e},n)=>d.jsx("td",{ref:n,className:ke("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Uh.displayName="TableCell";const gY=x.forwardRef(({className:t,...e},n)=>d.jsx("caption",{ref:n,className:ke("mt-4 text-sm text-muted-foreground",t),...e}));gY.displayName="TableCaption";var Bh=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Sm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Sm(t[r],e[r]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,a[r]))return!1;for(r=n;r--!==0;){const o=a[r];if(!(o==="_owner"&&t.$$typeof)&&!Sm(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function ZD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function AN(t,e){const n=ZD(t);return Math.round(e*n)/n}function Ay(t){const e=x.useRef(t);return Bh(()=>{e.current=t}),e}function vY(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:c}={},transform:u=!0,whileElementsMounted:f,open:m}=t,[g,v]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,w]=x.useState(r);Sm(y,r)||w(r);const[_,E]=x.useState(null),[S,C]=x.useState(null),N=x.useCallback(z=>{z!==D.current&&(D.current=z,E(z))},[]),I=x.useCallback(z=>{z!==j.current&&(j.current=z,C(z))},[]),T=o||_,R=c||S,D=x.useRef(null),j=x.useRef(null),P=x.useRef(g),F=f!=null,B=Ay(f),K=Ay(a),re=Ay(m),Q=x.useCallback(()=>{if(!D.current||!j.current)return;const z={placement:e,strategy:n,middleware:y};K.current&&(z.platform=K.current),Qq(D.current,j.current,z).then(G=>{const L={...G,isPositioned:re.current!==!1};$.current&&!Sm(P.current,L)&&(P.current=L,Rd.flushSync(()=>{v(L)}))})},[y,e,n,K,re]);Bh(()=>{m===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,v(z=>({...z,isPositioned:!1})))},[m]);const $=x.useRef(!1);Bh(()=>($.current=!0,()=>{$.current=!1}),[]),Bh(()=>{if(T&&(D.current=T),R&&(j.current=R),T&&R){if(B.current)return B.current(T,R,Q);Q()}},[T,R,Q,B,F]);const q=x.useMemo(()=>({reference:D,floating:j,setReference:N,setFloating:I}),[N,I]),k=x.useMemo(()=>({reference:T,floating:R}),[T,R]),Z=x.useMemo(()=>{const z={position:n,left:0,top:0};if(!k.floating)return z;const G=AN(k.floating,g.x),L=AN(k.floating,g.y);return u?{...z,transform:"translate("+G+"px, "+L+"px)",...ZD(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:L}},[n,u,k.floating,g.x,g.y]);return x.useMemo(()=>({...g,update:Q,refs:q,elements:k,floatingStyles:Z}),[g,Q,q,k,Z])}const yY=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:a}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?fN({element:r.current,padding:a}).fn(n):{}:r?fN({element:r,padding:a}).fn(n):{}}}},bY=(t,e)=>({...qq(t),options:[t,e]}),xY=(t,e)=>({...Wq(t),options:[t,e]}),wY=(t,e)=>({...Xq(t),options:[t,e]}),_Y=(t,e)=>({...Gq(t),options:[t,e]}),SY=(t,e)=>({...Yq(t),options:[t,e]}),EY=(t,e)=>({...Kq(t),options:[t,e]}),CY=(t,e)=>({...yY(t),options:[t,e]});var NY="Arrow",JD=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:a=5,...o}=t;return d.jsx(wt.svg,{...o,ref:e,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});JD.displayName=NY;var TY=JD;function e2(t){const[e,n]=x.useState(void 0);return gi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let c,u;if("borderBoxSize"in o){const f=o.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,u=m.blockSize}else c=t.offsetWidth,u=t.offsetHeight;n({width:c,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ux="Popper",[t2,pp]=bs(Ux),[RY,n2]=t2(Ux),r2=t=>{const{__scopePopper:e,children:n}=t,[r,a]=x.useState(null);return d.jsx(RY,{scope:e,anchor:r,onAnchorChange:a,children:n})};r2.displayName=Ux;var a2="PopperAnchor",s2=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...a}=t,o=n2(a2,n),c=x.useRef(null),u=Wt(e,c);return x.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:d.jsx(wt.div,{...a,ref:u})});s2.displayName=a2;var Bx="PopperContent",[IY,AY]=t2(Bx),i2=x.forwardRef((t,e)=>{var Ae,ne,de,ve,ze,at;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:y=!1,updatePositionStrategy:w="optimized",onPlaced:_,...E}=t,S=n2(Bx,n),[C,N]=x.useState(null),I=Wt(e,Oe=>N(Oe)),[T,R]=x.useState(null),D=e2(T),j=(D==null?void 0:D.width)??0,P=(D==null?void 0:D.height)??0,F=r+(o!=="center"?"-"+o:""),B=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},K=Array.isArray(m)?m:[m],re=K.length>0,Q={padding:B,boundary:K.filter(OY),altBoundary:re},{refs:$,floatingStyles:q,placement:k,isPositioned:Z,middlewareData:z}=vY({strategy:"fixed",placement:F,whileElementsMounted:(...Oe)=>ND(...Oe,{animationFrame:w==="always"}),elements:{reference:S.anchor},middleware:[bY({mainAxis:a+P,alignmentAxis:c}),f&&xY({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?wY():void 0,...Q}),f&&_Y({...Q}),SY({...Q,apply:({elements:Oe,rects:tt,availableWidth:dt,availableHeight:yt})=>{const{width:Cn,height:V}=tt.reference,J=Oe.floating.style;J.setProperty("--radix-popper-available-width",`${dt}px`),J.setProperty("--radix-popper-available-height",`${yt}px`),J.setProperty("--radix-popper-anchor-width",`${Cn}px`),J.setProperty("--radix-popper-anchor-height",`${V}px`)}}),T&&CY({element:T,padding:u}),jY({arrowWidth:j,arrowHeight:P}),y&&EY({strategy:"referenceHidden",...Q})]}),[G,L]=c2(k),Y=ea(_);gi(()=>{Z&&(Y==null||Y())},[Z,Y]);const ie=(Ae=z.arrow)==null?void 0:Ae.x,le=(ne=z.arrow)==null?void 0:ne.y,ue=((de=z.arrow)==null?void 0:de.centerOffset)!==0,[_e,he]=x.useState();return gi(()=>{C&&he(window.getComputedStyle(C).zIndex)},[C]),d.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:Z?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[(ve=z.transformOrigin)==null?void 0:ve.x,(ze=z.transformOrigin)==null?void 0:ze.y].join(" "),...((at=z.hide)==null?void 0:at.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(IY,{scope:n,placedSide:G,onArrowChange:R,arrowX:ie,arrowY:le,shouldHideArrow:ue,children:d.jsx(wt.div,{"data-side":G,"data-align":L,...E,ref:I,style:{...E.style,animation:Z?void 0:"none"}})})})});i2.displayName=Bx;var o2="PopperArrow",DY={top:"bottom",right:"left",bottom:"top",left:"right"},l2=x.forwardRef(function(e,n){const{__scopePopper:r,...a}=e,o=AY(o2,r),c=DY[o.placedSide];return d.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:d.jsx(TY,{...a,ref:n,style:{...a.style,display:"block"}})})});l2.displayName=o2;function OY(t){return t!==null}var jY=t=>({name:"transformOrigin",options:t,fn(e){var S,C,N;const{placement:n,rects:r,middlewareData:a}=e,c=((S=a.arrow)==null?void 0:S.centerOffset)!==0,u=c?0:t.arrowWidth,f=c?0:t.arrowHeight,[m,g]=c2(n),v={start:"0%",center:"50%",end:"100%"}[g],y=(((C=a.arrow)==null?void 0:C.x)??0)+u/2,w=(((N=a.arrow)==null?void 0:N.y)??0)+f/2;let _="",E="";return m==="bottom"?(_=c?v:`${y}px`,E=`${-f}px`):m==="top"?(_=c?v:`${y}px`,E=`${r.floating.height+f}px`):m==="right"?(_=`${-f}px`,E=c?v:`${w}px`):m==="left"&&(_=`${r.floating.width+f}px`,E=c?v:`${w}px`),{data:{x:_,y:E}}}});function c2(t){const[e,n="center"]=t.split("-");return[e,n]}var u2=r2,d2=s2,f2=i2,h2=l2,MY="VisuallyHidden",m2=x.forwardRef((t,e)=>d.jsx(wt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));m2.displayName=MY;var PY=m2,[gp,yee]=bs("Tooltip",[pp]),vp=pp(),p2="TooltipProvider",kY=700,kb="tooltip.open",[LY,Vx]=gp(p2),g2=t=>{const{__scopeTooltip:e,delayDuration:n=kY,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:o}=t,[c,u]=x.useState(!0),f=x.useRef(!1),m=x.useRef(0);return x.useEffect(()=>{const g=m.current;return()=>window.clearTimeout(g)},[]),d.jsx(LY,{scope:e,isOpenDelayed:c,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(m.current),u(!1)},[]),onClose:x.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>u(!0),r)},[r]),isPointerInTransitRef:f,onPointerInTransitChange:x.useCallback(g=>{f.current=g},[]),disableHoverableContent:a,children:o})};g2.displayName=p2;var yp="Tooltip",[FY,bp]=gp(yp),v2=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:a=!1,onOpenChange:o,disableHoverableContent:c,delayDuration:u}=t,f=Vx(yp,t.__scopeTooltip),m=vp(e),[g,v]=x.useState(null),y=ci(),w=x.useRef(0),_=c??f.disableHoverableContent,E=u??f.delayDuration,S=x.useRef(!1),[C=!1,N]=yc({prop:r,defaultProp:a,onChange:j=>{j?(f.onOpen(),document.dispatchEvent(new CustomEvent(kb))):f.onClose(),o==null||o(j)}}),I=x.useMemo(()=>C?S.current?"delayed-open":"instant-open":"closed",[C]),T=x.useCallback(()=>{window.clearTimeout(w.current),w.current=0,S.current=!1,N(!0)},[N]),R=x.useCallback(()=>{window.clearTimeout(w.current),w.current=0,N(!1)},[N]),D=x.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{S.current=!0,N(!0),w.current=0},E)},[E,N]);return x.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),d.jsx(u2,{...m,children:d.jsx(FY,{scope:e,contentId:y,open:C,stateAttribute:I,trigger:g,onTriggerChange:v,onTriggerEnter:x.useCallback(()=>{f.isOpenDelayed?D():T()},[f.isOpenDelayed,D,T]),onTriggerLeave:x.useCallback(()=>{_?R():(window.clearTimeout(w.current),w.current=0)},[R,_]),onOpen:T,onClose:R,disableHoverableContent:_,children:n})})};v2.displayName=yp;var Lb="TooltipTrigger",y2=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,a=bp(Lb,n),o=Vx(Lb,n),c=vp(n),u=x.useRef(null),f=Wt(e,u,a.onTriggerChange),m=x.useRef(!1),g=x.useRef(!1),v=x.useCallback(()=>m.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),d.jsx(d2,{asChild:!0,...c,children:d.jsx(wt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:f,onPointerMove:Be(t.onPointerMove,y=>{y.pointerType!=="touch"&&!g.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),g.current=!0)}),onPointerLeave:Be(t.onPointerLeave,()=>{a.onTriggerLeave(),g.current=!1}),onPointerDown:Be(t.onPointerDown,()=>{m.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Be(t.onFocus,()=>{m.current||a.onOpen()}),onBlur:Be(t.onBlur,a.onClose),onClick:Be(t.onClick,a.onClose)})})});y2.displayName=Lb;var UY="TooltipPortal",[bee,BY]=gp(UY,{forceMount:void 0}),tc="TooltipContent",b2=x.forwardRef((t,e)=>{const n=BY(tc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...o}=t,c=bp(tc,t.__scopeTooltip);return d.jsx(aa,{present:r||c.open,children:c.disableHoverableContent?d.jsx(x2,{side:a,...o,ref:e}):d.jsx(VY,{side:a,...o,ref:e})})}),VY=x.forwardRef((t,e)=>{const n=bp(tc,t.__scopeTooltip),r=Vx(tc,t.__scopeTooltip),a=x.useRef(null),o=Wt(e,a),[c,u]=x.useState(null),{trigger:f,onClose:m}=n,g=a.current,{onPointerInTransitChange:v}=r,y=x.useCallback(()=>{u(null),v(!1)},[v]),w=x.useCallback((_,E)=>{const S=_.currentTarget,C={x:_.clientX,y:_.clientY},N=qY(C,S.getBoundingClientRect()),I=WY(C,N),T=GY(E.getBoundingClientRect()),R=KY([...I,...T]);u(R),v(!0)},[v]);return x.useEffect(()=>()=>y(),[y]),x.useEffect(()=>{if(f&&g){const _=S=>w(S,g),E=S=>w(S,f);return f.addEventListener("pointerleave",_),g.addEventListener("pointerleave",E),()=>{f.removeEventListener("pointerleave",_),g.removeEventListener("pointerleave",E)}}},[f,g,w,y]),x.useEffect(()=>{if(c){const _=E=>{const S=E.target,C={x:E.clientX,y:E.clientY},N=(f==null?void 0:f.contains(S))||(g==null?void 0:g.contains(S)),I=!YY(C,c);N?y():I&&(y(),m())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[f,g,c,m,y]),d.jsx(x2,{...t,ref:o})}),[$Y,zY]=gp(yp,{isInside:!1}),x2=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:c,...u}=t,f=bp(tc,n),m=vp(n),{onClose:g}=f;return x.useEffect(()=>(document.addEventListener(kb,g),()=>document.removeEventListener(kb,g)),[g]),x.useEffect(()=>{if(f.trigger){const v=y=>{const w=y.target;w!=null&&w.contains(f.trigger)&&g()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[f.trigger,g]),d.jsx(ip,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:v=>v.preventDefault(),onDismiss:g,children:d.jsxs(f2,{"data-state":f.stateAttribute,...m,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(bA,{children:r}),d.jsx($Y,{scope:n,isInside:!0,children:d.jsx(PY,{id:f.contentId,role:"tooltip",children:a||r})})]})})});b2.displayName=tc;var w2="TooltipArrow",HY=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,a=vp(n);return zY(w2,n).isInside?null:d.jsx(h2,{...a,...r,ref:e})});HY.displayName=w2;function qY(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,a,o)){case o:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function WY(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function GY(t){const{top:e,right:n,bottom:r,left:a}=t;return[{x:a,y:e},{x:n,y:e},{x:n,y:r},{x:a,y:r}]}function YY(t,e){const{x:n,y:r}=t;let a=!1;for(let o=0,c=e.length-1;o<e.length;c=o++){const u=e[o].x,f=e[o].y,m=e[c].x,g=e[c].y;f>r!=g>r&&n<(m-u)*(r-f)/(g-f)+u&&(a=!a)}return a}function KY(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),XY(e)}function XY(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const a=t[r];for(;e.length>=2;){const o=e[e.length-1],c=e[e.length-2];if((o.x-c.x)*(a.y-c.y)>=(o.y-c.y)*(a.x-c.x))e.pop();else break}e.push(a)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const a=t[r];for(;n.length>=2;){const o=n[n.length-1],c=n[n.length-2];if((o.x-c.x)*(a.y-c.y)>=(o.y-c.y)*(a.x-c.x))n.pop();else break}n.push(a)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var QY=g2,ZY=v2,_2=y2,S2=b2;const JY=QY,Fb=ZY,Em=x.forwardRef(({className:t,...e},n)=>d.jsx(_2,{ref:n,className:ke("",t),...e}));Em.displayName=_2.displayName;const Cm=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(S2,{ref:r,sideOffset:e,className:ke("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Cm.displayName=S2.displayName;function eK({value:t=[],onChange:e,config:n,FormContent:r}){const[a,o]=x.useState(!1),[c,u]=x.useState(!1),[f,m]=x.useState(null),[g,v]=x.useState({}),[y,w]=x.useState(!1),[_,E]=x.useState(null),{columns:S,form:{emptyState:C={title:"No hay elementos",description:'Haga clic en el botn "Agregar" para comenzar.'},modalTitles:N={add:"Agregar elemento",edit:"Editar elemento"},addButtonText:I="Agregar",editButtonTooltip:T="Editar",deleteButtonTooltip:R="Eliminar",disableEditIf:D}}=n;x.useEffect(()=>{(async()=>{const k=S.filter(G=>{var L;return(L=G.reference)==null?void 0:L.field.relatedService}).map(async G=>{try{const Y=await G.reference.field.relatedService.service.findAll();return{field:G.accessor,data:Y}}catch(L){return console.error(`Error loading referenced data for ${G.accessor}:`,L),{field:G.accessor,data:[]}}}),Z=await Promise.all(k),z={};Z.forEach(({field:G,data:L})=>{const Y={};L.forEach(ie=>{Y[ie.id]=ie}),z[G.replace("Id","")]=Y}),v(z)})()},[S]),x.useEffect(()=>{a&&(o(!1),setTimeout(()=>o(!0),0))},[g]),x.useEffect(()=>{if(f!==null){const $=f;m(null),setTimeout(()=>m($),0)}},[g]);const j=$=>{$.preventDefault(),$.stopPropagation(),o(!0)},P=($,q)=>{m(q)},F=$=>{const q=[...t];q.splice($,1),e(q)},B=$=>{E($),w(!0)},K=$=>{const q=[...t];f!==null?(q[f]=$,m(null)):(q.push($),c||o(!1)),e(q)},re=()=>{o(!1),m(null)},Q=($,q)=>{var k;if(q.render)return q.render($[q.accessor],$);if(q.reference){const Z=$[q.accessor],z=q.accessor.replace("Id",""),G=(k=g[z])==null?void 0:k[Z];return G?G[q.reference.displayField]:"N/A"}return $[q.accessor]};return d.jsx(JY,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsx(wx,{open:y,onOpenChange:w,title:"Confirmar eliminacin",description:"Est seguro de que desea eliminar este elemento? Esta accin no se puede deshacer.",onConfirm:()=>_!==null&&F(_),confirmText:"Eliminar",variant:"destructive"}),d.jsx("div",{className:"flex items-center justify-between",children:!a&&d.jsxs(Se,{onClick:j,size:"sm",variant:"secondary",className:"h-8",type:"button",children:[d.jsx(Ea,{className:"h-4 w-4 mr-1"}),I]})}),a&&d.jsx("div",{className:"rounded-lg border border-border/50 p-4",children:d.jsx("div",{className:"flex flex-col gap-4",children:d.jsx("div",{className:"flex-1",children:d.jsx(r,{arrayForm:n.form,initialData:{},onSubmit:K,onCancel:re,keepOpen:c,onKeepOpenChange:$=>u($)})})})}),t.length===0&&!a?d.jsxs("div",{className:"text-center py-6 rounded-lg bg-muted/5 border border-dashed",children:[d.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:C.title}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:C.description})]}):d.jsx("div",{className:"rounded-lg border border-border/50 overflow-hidden",children:d.jsxs(KD,{children:[d.jsx(XD,{children:d.jsxs(Mb,{className:"hover:bg-transparent",children:[S.map(($,q)=>d.jsx(Pb,{className:"h-9 text-xs",children:$.header},q)),d.jsx(Pb,{className:"h-9 w-[80px] text-xs",children:"Acciones"})]})}),d.jsx(QD,{children:t.map(($,q)=>d.jsx(Mb,{className:"hover:bg-muted/5",children:f===q?d.jsx(Uh,{colSpan:S.length+1,className:"p-0",children:d.jsx("div",{className:"p-4",children:d.jsx(r,{arrayForm:n.form,initialData:$,onSubmit:K,onCancel:re})})}):d.jsxs(d.Fragment,{children:[S.map((k,Z)=>d.jsx(Uh,{className:"py-2 text-sm",children:Q($,k)},Z)),d.jsx(Uh,{className:"py-2",children:d.jsxs("div",{className:"flex items-center gap-0.5",children:[(D?!D($):!0)&&d.jsxs(Fb,{children:[d.jsx(Em,{asChild:!0,children:d.jsx(Se,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground hover:bg-transparent",onClick:k=>{k.preventDefault(),k.stopPropagation(),P($,q)},children:d.jsx(Id,{className:"h-5 w-5"})})}),d.jsx(Cm,{children:d.jsx("p",{children:T})})]}),d.jsxs(Fb,{children:[d.jsx(Em,{asChild:!0,children:d.jsx(Se,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive hover:bg-transparent",onClick:k=>{k.preventDefault(),k.stopPropagation(),B(q)},children:d.jsx(Ad,{className:"h-5 w-5"})})}),d.jsx(Cm,{children:d.jsx("p",{children:R})})]})]})})]})},q))})]})})]})})}function tK(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var $x="Checkbox",[nK,xee]=bs($x),[rK,aK]=nK($x),E2=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:o,required:c,disabled:u,value:f="on",onCheckedChange:m,form:g,...v}=t,[y,w]=x.useState(null),_=Wt(e,T=>w(T)),E=x.useRef(!1),S=y?g||!!y.closest("form"):!0,[C=!1,N]=yc({prop:a,defaultProp:o,onChange:m}),I=x.useRef(C);return x.useEffect(()=>{const T=y==null?void 0:y.form;if(T){const R=()=>N(I.current);return T.addEventListener("reset",R),()=>T.removeEventListener("reset",R)}},[y,N]),d.jsxs(rK,{scope:n,state:C,disabled:u,children:[d.jsx(wt.button,{type:"button",role:"checkbox","aria-checked":ui(C)?"mixed":C,"aria-required":c,"data-state":T2(C),"data-disabled":u?"":void 0,disabled:u,value:f,...v,ref:_,onKeyDown:Be(t.onKeyDown,T=>{T.key==="Enter"&&T.preventDefault()}),onClick:Be(t.onClick,T=>{N(R=>ui(R)?!0:!R),S&&(E.current=T.isPropagationStopped(),E.current||T.stopPropagation())})}),S&&d.jsx(sK,{control:y,bubbles:!E.current,name:r,value:f,checked:C,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"},defaultChecked:ui(o)?!1:o})]})});E2.displayName=$x;var C2="CheckboxIndicator",N2=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...a}=t,o=aK(C2,n);return d.jsx(aa,{present:r||ui(o.state)||o.state===!0,children:d.jsx(wt.span,{"data-state":T2(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});N2.displayName=C2;var sK=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:a,...o}=t,c=x.useRef(null),u=tK(n),f=e2(e);x.useEffect(()=>{const g=c.current,v=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(v,"checked").set;if(u!==n&&w){const _=new Event("click",{bubbles:r});g.indeterminate=ui(n),w.call(g,ui(n)?!1:n),g.dispatchEvent(_)}},[u,n,r]);const m=x.useRef(ui(n)?!1:n);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??m.current,...o,tabIndex:-1,ref:c,style:{...t.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ui(t){return t==="indeterminate"}function T2(t){return ui(t)?"indeterminate":t?"checked":"unchecked"}var R2=E2,iK=N2;const Sc=x.forwardRef(({className:t,...e},n)=>d.jsx(R2,{ref:n,className:ke("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:d.jsx(iK,{className:ke("flex items-center justify-center text-current"),children:d.jsx(MT,{className:"h-4 w-4"})})}));Sc.displayName=R2.displayName;var Gd=t=>t.type==="checkbox",mo=t=>t instanceof Date,Ln=t=>t==null;const I2=t=>typeof t=="object";var qt=t=>!Ln(t)&&!Array.isArray(t)&&I2(t)&&!mo(t),A2=t=>qt(t)&&t.target?Gd(t.target)?t.target.checked:t.target.value:t,oK=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,D2=(t,e)=>t.has(oK(e)),lK=t=>{const e=t.constructor&&t.constructor.prototype;return qt(e)&&e.hasOwnProperty("isPrototypeOf")},zx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(zx&&(t instanceof Blob||r))&&(n||qt(t)))if(e=n?[]:{},!n&&!lK(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=Xn(t[a]));else return t;return e}var xp=t=>Array.isArray(t)?t.filter(Boolean):[],zt=t=>t===void 0,xe=(t,e,n)=>{if(!e||!qt(t))return n;const r=xp(e.split(/[,[\].]+?/)).reduce((a,o)=>Ln(a)?a:a[o],t);return zt(r)||r===t?zt(t[e])?n:t[e]:r},jr=t=>typeof t=="boolean",Hx=t=>/^\w*$/.test(t),O2=t=>xp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),xt=(t,e,n)=>{let r=-1;const a=Hx(e)?[e]:O2(e),o=a.length,c=o-1;for(;++r<o;){const u=a[r];let f=n;if(r!==c){const m=t[u];f=qt(m)||Array.isArray(m)?m:isNaN(+a[r+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;t[u]=f,t=t[u]}return t};const Nm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Kr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},j2=O.createContext(null),wp=()=>O.useContext(j2),cK=t=>{const{children:e,...n}=t;return O.createElement(j2.Provider,{value:n},e)};var M2=(t,e,n,r=!0)=>{const a={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(a,o,{get:()=>{const c=o;return e._proxyFormState[c]!==Kr.all&&(e._proxyFormState[c]=!r||Kr.all),n&&(n[c]=!0),t[c]}});return a},Qn=t=>qt(t)&&!Object.keys(t).length,P2=(t,e,n,r)=>{n(t);const{name:a,...o}=t;return Qn(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(c=>e[c]===(!r||Kr.all))},Zu=t=>Array.isArray(t)?t:[t],k2=(t,e,n)=>!t||!e||t===e||Zu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function qx(t){const e=O.useRef(t);e.current=t,O.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function uK(t){const e=wp(),{control:n=e.control,disabled:r,name:a,exact:o}=t||{},[c,u]=O.useState(n._formState),f=O.useRef(!0),m=O.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),g=O.useRef(a);return g.current=a,qx({disabled:r,next:v=>f.current&&k2(g.current,v.name,o)&&P2(v,m.current,n._updateFormState)&&u({...n._formState,...v}),subject:n._subjects.state}),O.useEffect(()=>(f.current=!0,m.current.isValid&&n._updateValid(!0),()=>{f.current=!1}),[n]),O.useMemo(()=>M2(c,n,m.current,!1),[c,n])}var Sa=t=>typeof t=="string",L2=(t,e,n,r,a)=>Sa(t)?(r&&e.watch.add(t),xe(n,t,a)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),xe(n,o))):(r&&(e.watchAll=!0),n);function dK(t){const e=wp(),{control:n=e.control,name:r,defaultValue:a,disabled:o,exact:c}=t||{},u=O.useRef(r);u.current=r,qx({disabled:o,subject:n._subjects.values,next:g=>{k2(u.current,g.name,c)&&m(Xn(L2(u.current,n._names,g.values||n._formValues,!1,a)))}});const[f,m]=O.useState(n._getWatch(r,a));return O.useEffect(()=>n._removeUnmounted()),f}function fK(t){const e=wp(),{name:n,disabled:r,control:a=e.control,shouldUnregister:o}=t,c=D2(a._names.array,n),u=dK({control:a,name:n,defaultValue:xe(a._formValues,n,xe(a._defaultValues,n,t.defaultValue)),exact:!0}),f=uK({control:a,name:n,exact:!0}),m=O.useRef(a.register(n,{...t.rules,value:u,...jr(t.disabled)?{disabled:t.disabled}:{}})),g=O.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!xe(f.errors,n)},isDirty:{enumerable:!0,get:()=>!!xe(f.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!xe(f.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!xe(f.validatingFields,n)},error:{enumerable:!0,get:()=>xe(f.errors,n)}}),[f,n]),v=O.useMemo(()=>({name:n,value:u,...jr(r)||f.disabled?{disabled:f.disabled||r}:{},onChange:y=>m.current.onChange({target:{value:A2(y),name:n},type:Nm.CHANGE}),onBlur:()=>m.current.onBlur({target:{value:xe(a._formValues,n),name:n},type:Nm.BLUR}),ref:y=>{const w=xe(a._fields,n);w&&y&&(w._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:_=>y.setCustomValidity(_),reportValidity:()=>y.reportValidity()})}}),[n,a._formValues,r,f.disabled,u,a._fields]);return O.useEffect(()=>{const y=a._options.shouldUnregister||o,w=(_,E)=>{const S=xe(a._fields,_);S&&S._f&&(S._f.mount=E)};if(w(n,!0),y){const _=Xn(xe(a._options.defaultValues,n));xt(a._defaultValues,n,_),zt(xe(a._formValues,n))&&xt(a._formValues,n,_)}return!c&&a.register(n),()=>{(c?y&&!a._state.action:y)?a.unregister(n):w(n,!1)}},[n,a,c,o]),O.useEffect(()=>{a._updateDisabledField({disabled:r,fields:a._fields,name:n})},[r,n,a]),O.useMemo(()=>({field:v,formState:f,fieldState:g}),[v,f,g])}const hK=t=>t.render(fK(t));var mK=(t,e,n,r,a)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:a||!0}}:{},DN=t=>({isOnSubmit:!t||t===Kr.onSubmit,isOnBlur:t===Kr.onBlur,isOnChange:t===Kr.onChange,isOnAll:t===Kr.all,isOnTouch:t===Kr.onTouched}),ON=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Ju=(t,e,n,r)=>{for(const a of n||Object.keys(t)){const o=xe(t,a);if(o){const{_f:c,...u}=o;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],a)&&!r)return!0;if(c.ref&&e(c.ref,c.name)&&!r)return!0;if(Ju(u,e))break}else if(qt(u)&&Ju(u,e))break}}};var pK=(t,e,n)=>{const r=Zu(xe(t,n));return xt(r,"root",e[n]),xt(t,n,r),t},Wx=t=>t.type==="file",_a=t=>typeof t=="function",Tm=t=>{if(!zx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Vh=t=>Sa(t),Gx=t=>t.type==="radio",Rm=t=>t instanceof RegExp;const jN={value:!1,isValid:!1},MN={value:!0,isValid:!0};var F2=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!zt(t[0].attributes.value)?zt(t[0].value)||t[0].value===""?MN:{value:t[0].value,isValid:!0}:MN:jN}return jN};const PN={isValid:!1,value:null};var U2=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,PN):PN;function kN(t,e,n="validate"){if(Vh(t)||Array.isArray(t)&&t.every(Vh)||jr(t)&&!t)return{type:n,message:Vh(t)?t:"",ref:e}}var Dl=t=>qt(t)&&!Rm(t)?t:{value:t,message:""},LN=async(t,e,n,r,a,o)=>{const{ref:c,refs:u,required:f,maxLength:m,minLength:g,min:v,max:y,pattern:w,validate:_,name:E,valueAsNumber:S,mount:C}=t._f,N=xe(n,E);if(!C||e.has(E))return{};const I=u?u[0]:c,T=re=>{a&&I.reportValidity&&(I.setCustomValidity(jr(re)?"":re||""),I.reportValidity())},R={},D=Gx(c),j=Gd(c),P=D||j,F=(S||Wx(c))&&zt(c.value)&&zt(N)||Tm(c)&&c.value===""||N===""||Array.isArray(N)&&!N.length,B=mK.bind(null,E,r,R),K=(re,Q,$,q=Qa.maxLength,k=Qa.minLength)=>{const Z=re?Q:$;R[E]={type:re?q:k,message:Z,ref:c,...B(re?q:k,Z)}};if(o?!Array.isArray(N)||!N.length:f&&(!P&&(F||Ln(N))||jr(N)&&!N||j&&!F2(u).isValid||D&&!U2(u).isValid)){const{value:re,message:Q}=Vh(f)?{value:!!f,message:f}:Dl(f);if(re&&(R[E]={type:Qa.required,message:Q,ref:I,...B(Qa.required,Q)},!r))return T(Q),R}if(!F&&(!Ln(v)||!Ln(y))){let re,Q;const $=Dl(y),q=Dl(v);if(!Ln(N)&&!isNaN(N)){const k=c.valueAsNumber||N&&+N;Ln($.value)||(re=k>$.value),Ln(q.value)||(Q=k<q.value)}else{const k=c.valueAsDate||new Date(N),Z=L=>new Date(new Date().toDateString()+" "+L),z=c.type=="time",G=c.type=="week";Sa($.value)&&N&&(re=z?Z(N)>Z($.value):G?N>$.value:k>new Date($.value)),Sa(q.value)&&N&&(Q=z?Z(N)<Z(q.value):G?N<q.value:k<new Date(q.value))}if((re||Q)&&(K(!!re,$.message,q.message,Qa.max,Qa.min),!r))return T(R[E].message),R}if((m||g)&&!F&&(Sa(N)||o&&Array.isArray(N))){const re=Dl(m),Q=Dl(g),$=!Ln(re.value)&&N.length>+re.value,q=!Ln(Q.value)&&N.length<+Q.value;if(($||q)&&(K($,re.message,Q.message),!r))return T(R[E].message),R}if(w&&!F&&Sa(N)){const{value:re,message:Q}=Dl(w);if(Rm(re)&&!N.match(re)&&(R[E]={type:Qa.pattern,message:Q,ref:c,...B(Qa.pattern,Q)},!r))return T(Q),R}if(_){if(_a(_)){const re=await _(N,n),Q=kN(re,I);if(Q&&(R[E]={...Q,...B(Qa.validate,Q.message)},!r))return T(Q.message),R}else if(qt(_)){let re={};for(const Q in _){if(!Qn(re)&&!r)break;const $=kN(await _[Q](N,n),I,Q);$&&(re={...$,...B(Q,$.message)},T($.message),r&&(R[E]=re))}if(!Qn(re)&&(R[E]={ref:I,...re},!r))return R}}return T(!0),R};function gK(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=zt(t)?r++:t[e[r++]];return t}function vK(t){for(const e in t)if(t.hasOwnProperty(e)&&!zt(t[e]))return!1;return!0}function nn(t,e){const n=Array.isArray(e)?e:Hx(e)?[e]:O2(e),r=n.length===1?t:gK(t,n),a=n.length-1,o=n[a];return r&&delete r[o],a!==0&&(qt(r)&&Qn(r)||Array.isArray(r)&&vK(r))&&nn(t,n.slice(0,-1)),t}var Dy=()=>{let t=[];return{get observers(){return t},next:a=>{for(const o of t)o.next&&o.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(o=>o!==a)}}),unsubscribe:()=>{t=[]}}},Ub=t=>Ln(t)||!I2(t);function Js(t,e){if(Ub(t)||Ub(e))return t===e;if(mo(t)&&mo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const a of n){const o=t[a];if(!r.includes(a))return!1;if(a!=="ref"){const c=e[a];if(mo(o)&&mo(c)||qt(o)&&qt(c)||Array.isArray(o)&&Array.isArray(c)?!Js(o,c):o!==c)return!1}}return!0}var B2=t=>t.type==="select-multiple",yK=t=>Gx(t)||Gd(t),Oy=t=>Tm(t)&&t.isConnected,V2=t=>{for(const e in t)if(_a(t[e]))return!0;return!1};function Im(t,e={}){const n=Array.isArray(t);if(qt(t)||n)for(const r in t)Array.isArray(t[r])||qt(t[r])&&!V2(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Im(t[r],e[r])):Ln(t[r])||(e[r]=!0);return e}function $2(t,e,n){const r=Array.isArray(t);if(qt(t)||r)for(const a in t)Array.isArray(t[a])||qt(t[a])&&!V2(t[a])?zt(e)||Ub(n[a])?n[a]=Array.isArray(t[a])?Im(t[a],[]):{...Im(t[a])}:$2(t[a],Ln(e)?{}:e[a],n[a]):n[a]=!Js(t[a],e[a]);return n}var Ou=(t,e)=>$2(t,e,Im(e)),z2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>zt(t)?t:e?t===""?NaN:t&&+t:n&&Sa(t)?new Date(t):r?r(t):t;function jy(t){const e=t.ref;return Wx(e)?e.files:Gx(e)?U2(t.refs).value:B2(e)?[...e.selectedOptions].map(({value:n})=>n):Gd(e)?F2(t.refs).value:z2(zt(e.value)?t.ref.value:e.value,t)}var bK=(t,e,n,r)=>{const a={};for(const o of t){const c=xe(e,o);c&&xt(a,o,c._f)}return{criteriaMode:n,names:[...t],fields:a,shouldUseNativeValidation:r}},ju=t=>zt(t)?t:Rm(t)?t.source:qt(t)?Rm(t.value)?t.value.source:t.value:t;const FN="AsyncFunction";var xK=t=>!!t&&!!t.validate&&!!(_a(t.validate)&&t.validate.constructor.name===FN||qt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===FN)),wK=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function UN(t,e,n){const r=xe(t,n);if(r||Hx(n))return{error:r,name:n};const a=n.split(".");for(;a.length;){const o=a.join("."),c=xe(e,o),u=xe(t,o);if(c&&!Array.isArray(c)&&n!==o)return{name:n};if(u&&u.type)return{name:o,error:u};a.pop()}return{name:n}}var _K=(t,e,n,r,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(e||t):(n?r.isOnBlur:a.isOnBlur)?!t:(n?r.isOnChange:a.isOnChange)?t:!0,SK=(t,e)=>!xp(xe(t,e)).length&&nn(t,e);const EK={mode:Kr.onSubmit,reValidateMode:Kr.onChange,shouldFocusError:!0};function CK(t={}){let e={...EK,...t},n={submitCount:0,isDirty:!1,isLoading:_a(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},a=qt(e.defaultValues)||qt(e.values)?Xn(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Xn(a),c={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,m=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:Dy(),array:Dy(),state:Dy()},y=DN(e.mode),w=DN(e.reValidateMode),_=e.criteriaMode===Kr.all,E=V=>J=>{clearTimeout(m),m=setTimeout(V,J)},S=async V=>{if(!e.disabled&&(g.isValid||V)){const J=e.resolver?Qn((await P()).errors):await B(r,!0);J!==n.isValid&&v.state.next({isValid:J})}},C=(V,J)=>{!e.disabled&&(g.isValidating||g.validatingFields)&&((V||Array.from(u.mount)).forEach(ae=>{ae&&(J?xt(n.validatingFields,ae,J):nn(n.validatingFields,ae))}),v.state.next({validatingFields:n.validatingFields,isValidating:!Qn(n.validatingFields)}))},N=(V,J=[],ae,be,pe=!0,me=!0)=>{if(be&&ae&&!e.disabled){if(c.action=!0,me&&Array.isArray(xe(r,V))){const Ee=ae(xe(r,V),be.argA,be.argB);pe&&xt(r,V,Ee)}if(me&&Array.isArray(xe(n.errors,V))){const Ee=ae(xe(n.errors,V),be.argA,be.argB);pe&&xt(n.errors,V,Ee),SK(n.errors,V)}if(g.touchedFields&&me&&Array.isArray(xe(n.touchedFields,V))){const Ee=ae(xe(n.touchedFields,V),be.argA,be.argB);pe&&xt(n.touchedFields,V,Ee)}g.dirtyFields&&(n.dirtyFields=Ou(a,o)),v.state.next({name:V,isDirty:re(V,J),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else xt(o,V,J)},I=(V,J)=>{xt(n.errors,V,J),v.state.next({errors:n.errors})},T=V=>{n.errors=V,v.state.next({errors:n.errors,isValid:!1})},R=(V,J,ae,be)=>{const pe=xe(r,V);if(pe){const me=xe(o,V,zt(ae)?xe(a,V):ae);zt(me)||be&&be.defaultChecked||J?xt(o,V,J?me:jy(pe._f)):q(V,me),c.mount&&S()}},D=(V,J,ae,be,pe)=>{let me=!1,Ee=!1;const We={name:V};if(!e.disabled){const _t=!!(xe(r,V)&&xe(r,V)._f&&xe(r,V)._f.disabled);if(!ae||be){g.isDirty&&(Ee=n.isDirty,n.isDirty=We.isDirty=re(),me=Ee!==We.isDirty);const It=_t||Js(xe(a,V),J);Ee=!!(!_t&&xe(n.dirtyFields,V)),It||_t?nn(n.dirtyFields,V):xt(n.dirtyFields,V,!0),We.dirtyFields=n.dirtyFields,me=me||g.dirtyFields&&Ee!==!It}if(ae){const It=xe(n.touchedFields,V);It||(xt(n.touchedFields,V,ae),We.touchedFields=n.touchedFields,me=me||g.touchedFields&&It!==ae)}me&&pe&&v.state.next(We)}return me?We:{}},j=(V,J,ae,be)=>{const pe=xe(n.errors,V),me=g.isValid&&jr(J)&&n.isValid!==J;if(e.delayError&&ae?(f=E(()=>I(V,ae)),f(e.delayError)):(clearTimeout(m),f=null,ae?xt(n.errors,V,ae):nn(n.errors,V)),(ae?!Js(pe,ae):pe)||!Qn(be)||me){const Ee={...be,...me&&jr(J)?{isValid:J}:{},errors:n.errors,name:V};n={...n,...Ee},v.state.next(Ee)}},P=async V=>{C(V,!0);const J=await e.resolver(o,e.context,bK(V||u.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return C(V),J},F=async V=>{const{errors:J}=await P(V);if(V)for(const ae of V){const be=xe(J,ae);be?xt(n.errors,ae,be):nn(n.errors,ae)}else n.errors=J;return J},B=async(V,J,ae={valid:!0})=>{for(const be in V){const pe=V[be];if(pe){const{_f:me,...Ee}=pe;if(me){const We=u.array.has(me.name),_t=pe._f&&xK(pe._f);_t&&g.validatingFields&&C([be],!0);const It=await LN(pe,u.disabled,o,_,e.shouldUseNativeValidation&&!J,We);if(_t&&g.validatingFields&&C([be]),It[me.name]&&(ae.valid=!1,J))break;!J&&(xe(It,me.name)?We?pK(n.errors,It,me.name):xt(n.errors,me.name,It[me.name]):nn(n.errors,me.name))}!Qn(Ee)&&await B(Ee,J,ae)}}return ae.valid},K=()=>{for(const V of u.unMount){const J=xe(r,V);J&&(J._f.refs?J._f.refs.every(ae=>!Oy(ae)):!Oy(J._f.ref))&&he(V)}u.unMount=new Set},re=(V,J)=>!e.disabled&&(V&&J&&xt(o,V,J),!Js(Y(),a)),Q=(V,J,ae)=>L2(V,u,{...c.mount?o:zt(J)?a:Sa(V)?{[V]:J}:J},ae,J),$=V=>xp(xe(c.mount?o:a,V,e.shouldUnregister?xe(a,V,[]):[])),q=(V,J,ae={})=>{const be=xe(r,V);let pe=J;if(be){const me=be._f;me&&(!me.disabled&&xt(o,V,z2(J,me)),pe=Tm(me.ref)&&Ln(J)?"":J,B2(me.ref)?[...me.ref.options].forEach(Ee=>Ee.selected=pe.includes(Ee.value)):me.refs?Gd(me.ref)?me.refs.length>1?me.refs.forEach(Ee=>(!Ee.defaultChecked||!Ee.disabled)&&(Ee.checked=Array.isArray(pe)?!!pe.find(We=>We===Ee.value):pe===Ee.value)):me.refs[0]&&(me.refs[0].checked=!!pe):me.refs.forEach(Ee=>Ee.checked=Ee.value===pe):Wx(me.ref)?me.ref.value="":(me.ref.value=pe,me.ref.type||v.values.next({name:V,values:{...o}})))}(ae.shouldDirty||ae.shouldTouch)&&D(V,pe,ae.shouldTouch,ae.shouldDirty,!0),ae.shouldValidate&&L(V)},k=(V,J,ae)=>{for(const be in J){const pe=J[be],me=`${V}.${be}`,Ee=xe(r,me);(u.array.has(V)||qt(pe)||Ee&&!Ee._f)&&!mo(pe)?k(me,pe,ae):q(me,pe,ae)}},Z=(V,J,ae={})=>{const be=xe(r,V),pe=u.array.has(V),me=Xn(J);xt(o,V,me),pe?(v.array.next({name:V,values:{...o}}),(g.isDirty||g.dirtyFields)&&ae.shouldDirty&&v.state.next({name:V,dirtyFields:Ou(a,o),isDirty:re(V,me)})):be&&!be._f&&!Ln(me)?k(V,me,ae):q(V,me,ae),ON(V,u)&&v.state.next({...n}),v.values.next({name:c.mount?V:void 0,values:{...o}})},z=async V=>{c.mount=!0;const J=V.target;let ae=J.name,be=!0;const pe=xe(r,ae),me=()=>J.type?jy(pe._f):A2(V),Ee=We=>{be=Number.isNaN(We)||mo(We)&&isNaN(We.getTime())||Js(We,xe(o,ae,We))};if(pe){let We,_t;const It=me(),Nn=V.type===Nm.BLUR||V.type===Nm.FOCUS_OUT,Ti=!wK(pe._f)&&!e.resolver&&!xe(n.errors,ae)&&!pe._f.deps||_K(Nn,xe(n.touchedFields,ae),n.isSubmitted,w,y),ar=ON(ae,u,Nn);xt(o,ae,It),Nn?(pe._f.onBlur&&pe._f.onBlur(V),f&&f(0)):pe._f.onChange&&pe._f.onChange(V);const _s=D(ae,It,Nn,!1),ia=!Qn(_s)||ar;if(!Nn&&v.values.next({name:ae,type:V.type,values:{...o}}),Ti)return g.isValid&&(e.mode==="onBlur"&&Nn?S():Nn||S()),ia&&v.state.next({name:ae,...ar?{}:_s});if(!Nn&&ar&&v.state.next({...n}),e.resolver){const{errors:oa}=await P([ae]);if(Ee(It),be){const vn=UN(n.errors,r,ae),Ri=UN(oa,r,vn.name||ae);We=Ri.error,ae=Ri.name,_t=Qn(oa)}}else C([ae],!0),We=(await LN(pe,u.disabled,o,_,e.shouldUseNativeValidation))[ae],C([ae]),Ee(It),be&&(We?_t=!1:g.isValid&&(_t=await B(r,!0)));be&&(pe._f.deps&&L(pe._f.deps),j(ae,_t,We,_s))}},G=(V,J)=>{if(xe(n.errors,J)&&V.focus)return V.focus(),1},L=async(V,J={})=>{let ae,be;const pe=Zu(V);if(e.resolver){const me=await F(zt(V)?V:pe);ae=Qn(me),be=V?!pe.some(Ee=>xe(me,Ee)):ae}else V?(be=(await Promise.all(pe.map(async me=>{const Ee=xe(r,me);return await B(Ee&&Ee._f?{[me]:Ee}:Ee)}))).every(Boolean),!(!be&&!n.isValid)&&S()):be=ae=await B(r);return v.state.next({...!Sa(V)||g.isValid&&ae!==n.isValid?{}:{name:V},...e.resolver||!V?{isValid:ae}:{},errors:n.errors}),J.shouldFocus&&!be&&Ju(r,G,V?pe:u.mount),be},Y=V=>{const J={...c.mount?o:a};return zt(V)?J:Sa(V)?xe(J,V):V.map(ae=>xe(J,ae))},ie=(V,J)=>({invalid:!!xe((J||n).errors,V),isDirty:!!xe((J||n).dirtyFields,V),error:xe((J||n).errors,V),isValidating:!!xe(n.validatingFields,V),isTouched:!!xe((J||n).touchedFields,V)}),le=V=>{V&&Zu(V).forEach(J=>nn(n.errors,J)),v.state.next({errors:V?n.errors:{}})},ue=(V,J,ae)=>{const be=(xe(r,V,{_f:{}})._f||{}).ref,pe=xe(n.errors,V)||{},{ref:me,message:Ee,type:We,..._t}=pe;xt(n.errors,V,{..._t,...J,ref:be}),v.state.next({name:V,errors:n.errors,isValid:!1}),ae&&ae.shouldFocus&&be&&be.focus&&be.focus()},_e=(V,J)=>_a(V)?v.values.subscribe({next:ae=>V(Q(void 0,J),ae)}):Q(V,J,!0),he=(V,J={})=>{for(const ae of V?Zu(V):u.mount)u.mount.delete(ae),u.array.delete(ae),J.keepValue||(nn(r,ae),nn(o,ae)),!J.keepError&&nn(n.errors,ae),!J.keepDirty&&nn(n.dirtyFields,ae),!J.keepTouched&&nn(n.touchedFields,ae),!J.keepIsValidating&&nn(n.validatingFields,ae),!e.shouldUnregister&&!J.keepDefaultValue&&nn(a,ae);v.values.next({values:{...o}}),v.state.next({...n,...J.keepDirty?{isDirty:re()}:{}}),!J.keepIsValid&&S()},Ae=({disabled:V,name:J,field:ae,fields:be})=>{(jr(V)&&c.mount||V||u.disabled.has(J))&&(V?u.disabled.add(J):u.disabled.delete(J),D(J,jy(ae?ae._f:xe(be,J)._f),!1,!1,!0))},ne=(V,J={})=>{let ae=xe(r,V);const be=jr(J.disabled)||jr(e.disabled);return xt(r,V,{...ae||{},_f:{...ae&&ae._f?ae._f:{ref:{name:V}},name:V,mount:!0,...J}}),u.mount.add(V),ae?Ae({field:ae,disabled:jr(J.disabled)?J.disabled:e.disabled,name:V}):R(V,!0,J.value),{...be?{disabled:J.disabled||e.disabled}:{},...e.progressive?{required:!!J.required,min:ju(J.min),max:ju(J.max),minLength:ju(J.minLength),maxLength:ju(J.maxLength),pattern:ju(J.pattern)}:{},name:V,onChange:z,onBlur:z,ref:pe=>{if(pe){ne(V,J),ae=xe(r,V);const me=zt(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,Ee=yK(me),We=ae._f.refs||[];if(Ee?We.find(_t=>_t===me):me===ae._f.ref)return;xt(r,V,{_f:{...ae._f,...Ee?{refs:[...We.filter(Oy),me,...Array.isArray(xe(a,V))?[{}]:[]],ref:{type:me.type,name:V}}:{ref:me}}}),R(V,!1,void 0,me)}else ae=xe(r,V,{}),ae._f&&(ae._f.mount=!1),(e.shouldUnregister||J.shouldUnregister)&&!(D2(u.array,V)&&c.action)&&u.unMount.add(V)}}},de=()=>e.shouldFocusError&&Ju(r,G,u.mount),ve=V=>{jr(V)&&(v.state.next({disabled:V}),Ju(r,(J,ae)=>{const be=xe(r,ae);be&&(J.disabled=be._f.disabled||V,Array.isArray(be._f.refs)&&be._f.refs.forEach(pe=>{pe.disabled=be._f.disabled||V}))},0,!1))},ze=(V,J)=>async ae=>{let be;ae&&(ae.preventDefault&&ae.preventDefault(),ae.persist&&ae.persist());let pe=Xn(o);if(u.disabled.size)for(const me of u.disabled)xt(pe,me,void 0);if(v.state.next({isSubmitting:!0}),e.resolver){const{errors:me,values:Ee}=await P();n.errors=me,pe=Ee}else await B(r);if(nn(n.errors,"root"),Qn(n.errors)){v.state.next({errors:{}});try{await V(pe,ae)}catch(me){be=me}}else J&&await J({...n.errors},ae),de(),setTimeout(de);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qn(n.errors)&&!be,submitCount:n.submitCount+1,errors:n.errors}),be)throw be},at=(V,J={})=>{xe(r,V)&&(zt(J.defaultValue)?Z(V,Xn(xe(a,V))):(Z(V,J.defaultValue),xt(a,V,Xn(J.defaultValue))),J.keepTouched||nn(n.touchedFields,V),J.keepDirty||(nn(n.dirtyFields,V),n.isDirty=J.defaultValue?re(V,Xn(xe(a,V))):re()),J.keepError||(nn(n.errors,V),g.isValid&&S()),v.state.next({...n}))},Oe=(V,J={})=>{const ae=V?Xn(V):a,be=Xn(ae),pe=Qn(V),me=pe?a:be;if(J.keepDefaultValues||(a=ae),!J.keepValues){if(J.keepDirtyValues){const Ee=new Set([...u.mount,...Object.keys(Ou(a,o))]);for(const We of Array.from(Ee))xe(n.dirtyFields,We)?xt(me,We,xe(o,We)):Z(We,xe(me,We))}else{if(zx&&zt(V))for(const Ee of u.mount){const We=xe(r,Ee);if(We&&We._f){const _t=Array.isArray(We._f.refs)?We._f.refs[0]:We._f.ref;if(Tm(_t)){const It=_t.closest("form");if(It){It.reset();break}}}}r={}}o=e.shouldUnregister?J.keepDefaultValues?Xn(a):{}:Xn(me),v.array.next({values:{...me}}),v.values.next({values:{...me}})}u={mount:J.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!g.isValid||!!J.keepIsValid||!!J.keepDirtyValues,c.watch=!!e.shouldUnregister,v.state.next({submitCount:J.keepSubmitCount?n.submitCount:0,isDirty:pe?!1:J.keepDirty?n.isDirty:!!(J.keepDefaultValues&&!Js(V,a)),isSubmitted:J.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:pe?{}:J.keepDirtyValues?J.keepDefaultValues&&o?Ou(a,o):n.dirtyFields:J.keepDefaultValues&&V?Ou(a,V):J.keepDirty?n.dirtyFields:{},touchedFields:J.keepTouched?n.touchedFields:{},errors:J.keepErrors?n.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},tt=(V,J)=>Oe(_a(V)?V(o):V,J);return{control:{register:ne,unregister:he,getFieldState:ie,handleSubmit:ze,setError:ue,_executeSchema:P,_getWatch:Q,_getDirty:re,_updateValid:S,_removeUnmounted:K,_updateFieldArray:N,_updateDisabledField:Ae,_getFieldArray:$,_reset:Oe,_resetDefaultValues:()=>_a(e.defaultValues)&&e.defaultValues().then(V=>{tt(V,e.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:V=>{n={...n,...V}},_disableForm:ve,_subjects:v,_proxyFormState:g,_setErrors:T,get _fields(){return r},get _formValues(){return o},get _state(){return c},set _state(V){c=V},get _defaultValues(){return a},get _names(){return u},set _names(V){u=V},get _formState(){return n},set _formState(V){n=V},get _options(){return e},set _options(V){e={...e,...V}}},trigger:L,register:ne,handleSubmit:ze,watch:_e,setValue:Z,getValues:Y,reset:tt,resetField:at,clearErrors:le,unregister:he,setError:ue,setFocus:(V,J={})=>{const ae=xe(r,V),be=ae&&ae._f;if(be){const pe=be.refs?be.refs[0]:be.ref;pe.focus&&(pe.focus(),J.shouldSelect&&_a(pe.select)&&pe.select())}},getFieldState:ie}}function NK(t={}){const e=O.useRef(void 0),n=O.useRef(void 0),[r,a]=O.useState({isDirty:!1,isValidating:!1,isLoading:_a(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:_a(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...CK(t),formState:r});const o=e.current.control;return o._options=t,qx({subject:o._subjects.state,next:c=>{P2(c,o._proxyFormState,o._updateFormState,!0)&&a({...o._formState})}}),O.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),O.useEffect(()=>{if(o._proxyFormState.isDirty){const c=o._getDirty();c!==r.isDirty&&o._subjects.state.next({isDirty:c})}},[o,r.isDirty]),O.useEffect(()=>{t.values&&!Js(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,a(c=>({...c}))):o._resetDefaultValues()},[t.values,o]),O.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),O.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),O.useEffect(()=>{t.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[t.shouldUnregister,o]),e.current.formState=M2(r,o),e.current}const TK=cK,H2=x.createContext({}),RK=({...t})=>d.jsx(H2.Provider,{value:{name:t.name},children:d.jsx(hK,{...t})}),_p=()=>{const t=x.useContext(H2),e=x.useContext(q2),{getFieldState:n,formState:r}=wp(),a=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:o}=e;return{id:o,name:t.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...a}},q2=x.createContext({}),W2=x.forwardRef(({className:t,...e},n)=>{const r=x.useId();return d.jsx(q2.Provider,{value:{id:r},children:d.jsx("div",{ref:n,className:ke("space-y-2",t),...e})})});W2.displayName="FormItem";const G2=x.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:a}=_p();return d.jsx(Pr,{ref:n,className:ke(r&&"text-destructive",t),htmlFor:a,...e})});G2.displayName="FormLabel";const Y2=x.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:a,formMessageId:o}=_p();return d.jsx(No,{ref:e,id:r,"aria-describedby":n?`${a} ${o}`:`${a}`,"aria-invalid":!!n,...t})});Y2.displayName="FormControl";const IK=x.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=_p();return d.jsx("p",{ref:n,id:r,className:ke("text-sm text-muted-foreground",t),...e})});IK.displayName="FormDescription";const K2=x.forwardRef(({className:t,children:e,...n},r)=>{const{error:a,formMessageId:o}=_p(),c=a?String(a==null?void 0:a.message):e;return c?d.jsx("p",{ref:r,id:o,className:ke("text-sm font-medium text-destructive",t),...n,children:c}):null});K2.displayName="FormMessage";const AK=({arrayForm:t,initialData:e,onSubmit:n,onCancel:r,keepOpen:a,onKeepOpenChange:o})=>{const c=Uo("ArrayFormContent"),[u,f]=O.useState(e),[m,g]=O.useState({}),[v,y]=O.useState(!0),w=()=>{f({})},_=()=>{n(u),a&&w()};O.useEffect(()=>{(async()=>{y(!0);try{const N=t.fields.filter(D=>{var j;return((j=D.relatedService)==null?void 0:j.service)&&typeof D.relatedService.service.findAll=="function"});c.debug("Fields with service:",{fields:N.map(D=>D.name)});const I=N.map(async D=>{try{const j=await D.relatedService.service.findAll();return c.debug(`Data loaded for ${D.name}`,{data:j}),{field:D.name,data:j}}catch(j){return c.error(`Error loading data for ${D.name}`,{error:j}),qe.error(`Error al cargar datos para ${D.label}`),{field:D.name,data:[]}}}),T=await Promise.all(I),R={};T.forEach(({field:D,data:j})=>{j&&Array.isArray(j)&&(R[D]=j)}),c.debug("Final related data",{data:R}),g(R)}catch(N){c.error("Error loading related data",{error:N})}finally{y(!1)}})()},[t.fields,c]),O.useEffect(()=>{f(e)},[e]);const E=(C,N)=>{if(c.debug(`Field ${N.name} changed`,{value:C,field:N}),f(I=>({...I,[N.name]:C})),N.onChange){const I=N.onChange(C,u);I&&f(T=>({...T,...I}))}},S=C=>{if(C.options)return C.options;if(C.relatedService&&m[C.name]&&Array.isArray(m[C.name])){const N=m[C.name],I=[];return N.forEach(T=>{var P,F,B,K;let R,D;const j=T;if((P=C.relatedService)!=null&&P.valueField?R=j[C.relatedService.valueField]:(F=C.relatedService)!=null&&F.valueKey?R=j[C.relatedService.valueKey]:R=j.id,(B=C.relatedService)!=null&&B.labelField?D=j[C.relatedService.labelField]:(K=C.relatedService)!=null&&K.labelKey?D=j[C.relatedService.labelKey]:D=j.name,R==null||D===void 0||D===null){c.warn(`Invalid item data for field ${C.name}`,{item:T});return}I.push({value:String(R),label:String(D)})}),c.debug(`Options generated for ${C.name}`,{options:I}),I}return C.options||[]};return v?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(UT,{className:"h-4 w-4 animate-spin"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"Cargando opciones..."})]}):d.jsxs("div",{className:"flex items-center gap-4 w-full",children:[t.fields.map(C=>{const N=C.type==="select"?S(C):[],I=u[C.name];return c.debug(`Rendering field ${C.name}:`,{type:C.type,value:I,options:N,hasRelatedService:!!C.relatedService,relatedData:C.relatedService?m[C.name]:void 0}),d.jsxs("div",{className:"flex-1 min-w-[200px]",children:[d.jsxs(Pr,{htmlFor:C.name,className:"sr-only",children:[C.label,C.required&&d.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),C.type==="select"?d.jsx(xi,{id:C.name,name:C.name,value:I?String(I):"",onChange:T=>E(T,C),required:C.required,readOnly:C.readOnly,className:"w-full",options:N,placeholder:C.placeholder||C.label,searchPlaceholder:"Buscar...",notFoundText:"No se encontraron resultados"}):C.type==="textarea"?d.jsx(Fx,{id:C.name,name:C.name,value:I?String(I):"",onChange:T=>E(T.target.value,C),required:C.required,placeholder:C.placeholder||C.label,className:"min-h-[38px] max-h-[38px]"}):d.jsx(pn,{id:C.name,type:C.type,name:C.name,value:I?String(I):"",onChange:T=>E(T.target.value,C),required:C.required,placeholder:C.placeholder||C.label,className:"w-full"})]},C.name)}),d.jsx("div",{className:"flex items-center gap-2 shrink-0",children:d.jsxs("div",{className:"flex items-center gap-2",children:[o&&d.jsxs(Fb,{children:[d.jsx(Em,{asChild:!0,children:d.jsx("div",{className:"flex items-center",children:d.jsx(Sc,{id:"keepOpen",checked:a,onCheckedChange:o})})}),d.jsx(Cm,{children:d.jsx("p",{children:"Mantener abierto"})})]}),d.jsx(Se,{type:"button",variant:"ghost",onClick:r,size:"sm",children:"Cancelar"}),d.jsx(Se,{type:"button",onClick:_,size:"sm",children:"Agregar"})]})})]})};function br({title:t,fields:e=[],sections:n,initialValues:r={},backPath:a,service:o,onSuccess:c}){const u=Uo("GenericForm"),f=Tt(),[m,g]=O.useState(!1),[v,y]=O.useState({}),w=NK({defaultValues:r});O.useEffect(()=>{u.debug("Actualizando valores iniciales del formulario",{hasId:!!r.id,fieldsCount:e.length}),w.reset(r)},[w,r,u]),O.useEffect(()=>{(async()=>{const T=(n?n.flatMap(P=>P.fields):e||[]).filter(P=>P.relatedService&&P.relatedService.service&&typeof P.relatedService.service.findAll=="function"&&!v[P.name]);if(T.length===0)return;u.info("Cargando datos relacionados",{fieldsCount:T.length,fields:T.map(P=>P.name)});const R=T.map(async P=>{var F,B;try{if(!((B=(F=P.relatedService)==null?void 0:F.service)!=null&&B.findAll))return u.warn(`Servicio no configurado correctamente para el campo ${P.name}`),{field:P.name,data:[]};const K=await P.relatedService.service.findAll();return u.debug(`Datos cargados para ${P.name}`,{count:K.length}),{field:P.name,data:K}}catch(K){return u.error(`Error al cargar datos para ${P.name}`,{error:K}),qe.error(`Error al cargar datos relacionados para ${P.label}`),{field:P.name,data:[]}}}),D=await Promise.all(R),j={...v};D.forEach(({field:P,data:F})=>{j[P]=F}),y(j)})()},[e,n,v,u]);const _=async N=>{g(!0),u.info("Iniciando envo del formulario",{hasId:!!r.id,fieldsCount:Object.keys(N).length});try{const I=Object.entries(N).reduce((R,[D,j])=>(j instanceof Date?R[D]=j.toISOString():R[D]=j,R),{}),T=Object.fromEntries(Object.entries(I).filter(([,R])=>R!==void 0));u.debug("Datos procesados para enviar:",{originalData:N,processedData:T}),r.id?(u.debug("Actualizando registro existente",{id:r.id,data:T}),await o.update(r.id,T),u.info("Registro actualizado exitosamente",{id:r.id}),qe.success("Registro actualizado exitosamente")):(u.debug("Creando nuevo registro",{data:T}),await o.create(T),u.info("Registro creado exitosamente"),qe.success("Registro creado exitosamente")),c==null||c(),f(a)}catch(I){u.error("Error al guardar el registro",{error:I}),console.error("Error al guardar el registro:",I);const T=I instanceof Error?I.message:"Error al guardar el registro";qe.error(T)}finally{g(!1)}},E=N=>{if(N.options)return N.options;if(N.relatedService&&v[N.name]&&Array.isArray(v[N.name])){const I=v[N.name],T=[];return I.forEach(R=>{var F,B,K,re;let D,j;const P=R;if((F=N.relatedService)!=null&&F.valueField?D=P[N.relatedService.valueField]:(B=N.relatedService)!=null&&B.valueKey?D=P[N.relatedService.valueKey]:D=P.id,(K=N.relatedService)!=null&&K.labelField?j=P[N.relatedService.labelField]:(re=N.relatedService)!=null&&re.labelKey?j=P[N.relatedService.labelKey]:j=P.name,D==null||j===void 0||j===null){u.warn(`Invalid item data for field ${N.name}`,{item:R});return}T.push({value:String(D),label:String(j)})}),u.debug(`Options generated for ${N.name}`,{options:T}),T}return N.options||[]},S=(N,I)=>N.type==="boolean"?!!I:N.type==="array"?Array.isArray(I)?I:[]:I==null?"":String(I),C=N=>{const I=w.getValues();return N.visible&&!N.visible(I)?null:d.jsx(RK,{control:w.control,name:N.name,render:({field:T})=>{u.debug(`Renderizando campo ${N.name}`,{type:N.type,hasOnChange:!!N.onChange,currentValue:T.value});const R=D=>{if(u.debug(`Cambio en campo ${N.name}`,{oldValue:T.value,newValue:D,hasOnChange:!!N.onChange}),T.onChange(D),N.onChange){const j=N.onChange(D,w.getValues());j&&Object.entries(j).forEach(([P,F])=>{w.setValue(P,F,{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0})})}};return d.jsxs(W2,{className:ke(N.fullWidth||N.type==="array"||N.type==="textarea"?"md:col-span-2 2xl:col-span-3":"",N.type==="boolean"?"flex flex-row items-center space-x-3 space-y-0 rounded-md border p-4":"","w-full"),children:[d.jsx(G2,{className:ke(N.type==="boolean"?"leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70":""),children:N.label}),d.jsx(Y2,{children:N.type==="select"?d.jsx(xi,{value:S(N,T.value),onChange:R,options:E(N),placeholder:N.placeholder,className:"w-full"}):N.type==="textarea"?d.jsx(Fx,{value:S(N,T.value),onChange:D=>R(D.target.value),className:"w-full min-h-[100px]"}):N.type==="custom"?N.component:N.type==="boolean"?d.jsx(Sc,{checked:S(N,T.value),onCheckedChange:R,className:"h-5 w-5"}):N.type==="array"?d.jsx(eK,{config:N.arrayConfig,value:S(N,T.value),onChange:R,FormContent:AK}):N.type==="date"?d.jsx(Wd,{value:S(N,T.value),onChange:R,placeholder:N.placeholder,className:"w-full"}):d.jsx(pn,{type:N.type,placeholder:N.placeholder,value:S(N,T.value),onChange:D=>R(D.target.value),className:"w-full"})}),d.jsx(K2,{})]})}},N.name)};return d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx(_x,{title:t,subtitle:r.id?"Editar registro":"Crear nuevo registro",actions:d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs(Se,{variant:"ghost",onClick:()=>f(a),className:"flex items-center gap-2",children:[d.jsx(u0,{className:"h-4 w-4 mr-2"}),"Volver"]})})}),d.jsx(TK,{...w,children:d.jsxs("form",{onSubmit:w.handleSubmit(_),className:"flex flex-col flex-1 w-full h-full",children:[d.jsx("div",{className:"flex-1 w-full bg-card",children:n?d.jsx("div",{className:"space-y-8 p-6",children:n.map((N,I)=>(!N.visible||N.visible(w.getValues()))&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-col space-y-1.5 pb-4 border-b",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[N.icon,d.jsx("h3",{className:"text-lg font-semibold",children:N.title})]}),N.description&&d.jsx("p",{className:"text-sm text-muted-foreground",children:N.description})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-6",children:N.fields.map(T=>C(T))})]},I))}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-6 p-6",children:e.map(N=>C(N))})}),d.jsxs("div",{className:"flex justify-end gap-2 p-4 bg-card border-t",children:[d.jsx(Se,{type:"button",variant:"ghost",onClick:()=>f(a),children:"Cancelar"}),d.jsx(Se,{type:"submit",disabled:m,children:m?d.jsxs(d.Fragment,{children:[d.jsx(UT,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Guardar"})]})]})})]})}function BN(){const{id:t}=rt(),[e,n]=O.useState(),[r,a]=O.useState(!0),o=new xs;O.useEffect(()=>{(async()=>{if(t)try{const f=await o.findById(t);f&&n(f)}catch(f){console.error("Error loading customer:",f)}a(!1)})()},[t]);const c=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"phone",label:"Telfono",type:"text"},{name:"email",label:"Email",type:"text"},{name:"address",label:"Direccin",type:"textarea"},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:Zl.ACTIVE,label:"Activo"},{value:Zl.INACTIVE,label:"Inactivo"}]}];return r?d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"Cargando..."})]})}):d.jsx("div",{className:"flex flex-col h-screen w-full",children:d.jsx(br,{title:t?"Editar Cliente":"Nuevo Cliente",fields:c,initialValues:e||{},service:o,backPath:"/customers"})})}function xr({title:t,fields:e,editPath:n,backPath:r,service:a,id:o}){const c=Uo("GenericDetails"),u=Tt(),[f,m]=O.useState(null),[g,v]=O.useState(!0),[y,w]=O.useState(!1);O.useEffect(()=>{(async()=>{try{c.info("Cargando detalles del registro",{id:o,title:t});const C=await a.findById(o);C?(c.debug("Registro cargado exitosamente",{id:o}),m(C)):(c.warn("Registro no encontrado",{id:o}),qe.error("Registro no encontrado"),u(r))}catch(C){c.error("Error al cargar el registro",{error:C,id:o}),console.error("Error al cargar el registro:",C),qe.error("Error al cargar el registro"),u(r)}finally{v(!1)}})()},[o,a,r,u,t,c]);const _=async()=>{try{c.info("Iniciando eliminacin del registro",{id:o}),await a.delete(o),c.debug("Registro eliminado exitosamente",{id:o}),qe.success("Registro eliminado exitosamente"),u(r)}catch(S){c.error("Error al eliminar el registro",{error:S,id:o}),console.error("Error al eliminar el registro:",S),qe.error("Error al eliminar el registro")}};if(g||!f)return c.debug("Mostrando estado de carga",{isLoading:g,hasData:!!f}),d.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})});const E=e(f);return c.debug("Renderizando detalles",{fieldsCount:E.length,hasData:!!f}),d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx(_x,{title:t,subtitle:"Detalles del registro",actions:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(Se,{variant:"ghost",onClick:()=>u(r),className:"flex items-center gap-2",children:[d.jsx(u0,{className:"h-4 w-4 mr-2"}),"Volver"]}),d.jsx(ss,{to:n,children:d.jsxs(Se,{variant:"ghost",className:"flex items-center gap-2",children:[d.jsx(Id,{className:"h-4 w-4 mr-2"}),"Editar"]})}),d.jsxs(Se,{variant:"ghost",onClick:()=>{c.debug("Iniciando proceso de eliminacin",{id:o}),w(!0)},className:"flex items-center gap-2 hover:text-destructive",children:[d.jsx(Ad,{className:"h-4 w-4 mr-2"}),"Eliminar"]})]})}),d.jsx("div",{className:"flex-1 p-4",children:d.jsx("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map((S,C)=>d.jsx("div",{className:ke(O.isValidElement(S.value)?"col-span-full":""),children:O.isValidElement(S.value)?d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-base font-bold text-muted-foreground",children:S.label}),S.value]}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("dt",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:[S.label,":"]}),d.jsx("dd",{children:d.jsx("span",{className:"text-base",children:!S.value||typeof S.value=="string"&&S.value.trim()===""?d.jsx("span",{className:"text-muted-foreground italic",children:"No disponible"}):S.value})})]})},C))})}),d.jsx(wx,{open:y,onOpenChange:w,title:"Confirmar eliminacin",description:"Est seguro de que desea eliminar este registro? Esta accin no se puede deshacer.",onConfirm:_,confirmText:"Eliminar",variant:"destructive"})]})}function DK(){const{id:t}=rt(),e=new xs,n=r=>[{label:"Nombre",value:r.name},{label:"Telfono",value:r.phone||"-"},{label:"Email",value:r.email||"-"},{label:"Direccin",value:r.address||"-"},{label:"Estado",value:r.status===Zl.ACTIVE?"Activo":"Inactivo"}];return t?d.jsx(xr,{title:"Cliente",fields:n,editPath:`/customers/${t}/edit`,backPath:"/customers",service:e,id:t}):null}var nc=(t=>(t.ACTIVE="active",t.INACTIVE="inactive",t))(nc||{});class X2 extends vr{constructor(n){super(n,"suppliers");$e(this,"modelProperties",["commercialName","legalName","phone","address","email","rut","status"])}async findByCommercialName(n){return this.findByField("commercialName",n)}async findByEmail(n){return this.findByField("email",n)}async findByPhone(n){return this.findByField("phone",n)}}class tr extends yr{constructor(){super(X2)}async findByName(e){return this.repository.findByCommercialName(e)}async findByEmail(e){return this.repository.findByEmail(e)}async findByPhone(e){return this.repository.findByPhone(e)}async findByStatus(e){return(await this.repository.findAll()).filter(r=>r.status===e)}}function OK(){const t=new tr,e=[{header:"Nombre Comercial",accessor:"commercialName"},{header:"Telfono",accessor:"phone",render:n=>n.phone||"-"},{header:"Estado",accessor:"status",type:"tag",tags:[{value:nc.ACTIVE,label:"Activo",color:"success"},{value:nc.INACTIVE,label:"Inactivo",color:"secondary"}]}];return d.jsx(gr,{columns:e,title:"Proveedores",addPath:"/suppliers/new",backPath:"/suppliers",service:t})}function VN(){const{id:t}=rt(),[e,n]=O.useState({}),r=new tr;O.useEffect(()=>{t&&r.findById(t).then(o=>{o&&n(o)})},[t]);const a=[{name:"commercialName",label:"Nombre Comercial",type:"text",required:!0},{name:"legalName",label:"Razn Social",type:"text"},{name:"phone",label:"Telfono",type:"text"},{name:"email",label:"Email",type:"email"},{name:"address",label:"Direccin",type:"textarea"},{name:"rut",label:"RUT",type:"text"},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:nc.ACTIVE,label:"Activo"},{value:nc.INACTIVE,label:"Inactivo"}]}];return d.jsx(br,{title:t?"Editar Proveedor":"Nuevo Proveedor",fields:a,initialValues:e,service:r,backPath:"/suppliers"})}function jK(){const{id:t}=rt(),e=new tr,n=r=>[{label:"Nombre Comercial",value:r.commercialName},{label:"Razn Social",value:r.legalName||"-"},{label:"Telfono",value:r.phone||"-"},{label:"Email",value:r.email||"-"},{label:"Direccin",value:r.address||"-"},{label:"RUT",value:r.rut||"-"},{label:"Estado",value:r.status===nc.ACTIVE?"Activo":"Inactivo"}];return t?d.jsx(xr,{title:"Proveedor",fields:n,editPath:`/suppliers/${t}/edit`,backPath:"/suppliers",service:e,id:t}):null}class Q2 extends vr{constructor(n){super(n,"workers");$e(this,"modelProperties",["name","primaryRoleId","phone","hireDate","monthlySalary","leaveBalance","leaveSalaryBalance","vacationSalaryBalance","bonusSalaryBalance","leaveHistory","payments"])}async findByPrimaryRole(n){return this.findByField("primaryRoleId",n)}async findByName(n){return this.findByField("name",n)}}class nr extends yr{constructor(){super(Q2)}async findByName(e){return this.repository.findByName(e)}async findByPrimaryRoleId(e){return this.repository.findByPrimaryRole(e)}async findByHireDateRange(e,n){return(await this.repository.findAll()).filter(a=>{const o=new Date(a.hireDate);return o>=e&&o<=n})}async findBySalaryRange(e,n){return(await this.repository.findAll()).filter(a=>a.monthlySalary>=e&&a.monthlySalary<=n)}}class MK extends vr{constructor(n){super(n,"roles");$e(this,"modelProperties",["name","isProduction","tasks"])}async findByName(n){return this.findByField("name",n)}}class Ci extends yr{constructor(){super(MK)}async findByName(e){return this.repository.findByName(e)}async findByIsProduction(e){return(await this.repository.findAll()).filter(r=>r.isProduction===e)}async findByTaskName(e){return(await this.repository.findAll()).filter(r=>{var a;return(a=r.tasks)==null?void 0:a.some(o=>o.taskName===e)})}}function PK(){const t=new nr,e=new Ci,[n,r]=O.useState({});O.useEffect(()=>{(async()=>{const f=(await e.findAll()).reduce((m,g)=>({...m,[g.id]:g.name}),{});r(f)})()},[]);const a=c=>{const u=new Date,f=new Date(c);let m=u.getFullYear()-f.getFullYear();const g=u.getMonth()-f.getMonth();return(g<0||g===0&&u.getDate()<f.getDate())&&m--,m},o=[{header:"Nombre",accessor:"name"},{header:"Fecha de Contratacin",accessor:"hireDate",render:c=>{const u=new Date(c.hireDate),f=a(u);return`${u.toLocaleDateString()} (${f} ${f===1?"ao":"aos"})`}},{header:"Rol Principal",accessor:"primaryRoleId",render:c=>n[c.primaryRoleId]||"Rol no encontrado"}];return d.jsx(gr,{columns:o,title:"Colaboradores",addPath:"/workers/new",backPath:"/workers",service:t})}var po=(t=>(t.PAID="paid",t.PENDING="pending",t))(po||{}),go=(t=>(t.SALARY="salary",t.LEAVE="leave",t))(go||{});function $N(){const{id:t}=rt(),[e,n]=O.useState({}),r=new nr;O.useEffect(()=>{t&&r.findById(t).then(o=>{o&&n(o)})},[t]);const a=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"primaryRoleId",label:"Rol Principal",type:"select",required:!0,relatedService:{service:new Ci,labelField:"name"}},{name:"phone",label:"Telfono",type:"text"},{name:"hireDate",label:"Fecha de Contratacin",type:"date",required:!0},{name:"monthlySalary",label:"Salario Mensual",type:"number",required:!0},{name:"leaveBalance",label:"Saldo de Licencias",type:"number",required:!0},{name:"leaveSalaryBalance",label:"Saldo de Salario por Licencias",type:"number",required:!0},{name:"vacationSalaryBalance",label:"Saldo de Salario por Vacaciones",type:"number",required:!0},{name:"bonusSalaryBalance",label:"Saldo de Aguinaldos",type:"number",required:!0},{name:"leaveHistory",label:"Historial de Licencias Tomadas",type:"array",arrayConfig:{columns:[{header:"Fecha de Inicio",accessor:"startDate",render:o=>new Date(o).toLocaleDateString("es-UY")},{header:"Fecha de Fin",accessor:"endDate",render:o=>new Date(o).toLocaleDateString("es-UY")},{header:"Das",accessor:"day"}],form:{fields:[{name:"startDate",label:"Fecha de Inicio",type:"date",required:!0},{name:"endDate",label:"Fecha de Fin",type:"date",required:!0},{name:"day",label:"Das",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay licencias registrados",description:'Haga clic en el botn "Agregar" para comenzar a registrar las licencias tomadas del trabajador.'},modalTitles:{add:"Agregar Licencias Tomadas",edit:"Modificar Licencias Tomada"},addButtonText:"Agregar Licencias Tomada",editButtonTooltip:"Modificar este Licencias Tomada",deleteButtonTooltip:"Eliminar este Licencias Tomada"}}},{name:"payments",label:"Pagos",type:"array",arrayConfig:{columns:[{header:"Monto",accessor:"amount",render:o=>(o==null?void 0:o.toLocaleString("es-UY",{style:"currency",currency:"UYU",currencyDisplay:"symbol",minimumFractionDigits:0,maximumFractionDigits:0}))||"N/A"},{header:"Estado",accessor:"status",render:o=>{switch(o){case po.PENDING:return"Pendiente";case po.PAID:return"Pagado";default:return"N/A"}}},{header:"Concepto",accessor:"concept",render:o=>{switch(o){case go.SALARY:return"Salario";case go.LEAVE:return"Permiso";default:return"N/A"}}},{header:"Fecha de Pago",accessor:"paymentDate",render:o=>new Date(o).toLocaleDateString("es-UY")}],form:{fields:[{name:"amount",label:"Monto",type:"number",required:!0,placeholder:"Ej: 500000"},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:po.PENDING,label:"Pendiente"},{value:po.PAID,label:"Pagado"}]},{name:"concept",label:"Concepto",type:"select",required:!0,options:[{value:go.SALARY,label:"Salario"},{value:go.LEAVE,label:"Permiso"}]},{name:"paymentDate",label:"Fecha de Pago",type:"date",required:!0}],emptyState:{title:"No hay pagos registrados",description:'Haga clic en el botn "Agregar" para comenzar a registrar los pagos del trabajador.'},modalTitles:{add:"Agregar Pago",edit:"Modificar Pago"},addButtonText:"Agregar Pago",editButtonTooltip:"Modificar este pago",deleteButtonTooltip:"Eliminar este pago"}}}];return d.jsx(br,{title:t?"Editar Trabajador":"Nuevo Trabajador",fields:a,initialValues:e,service:r,backPath:"/workers"})}function Ao({data:t,columns:e,title:n,emptyMessage:r}){return t!=null&&t.length?d.jsxs("div",{className:"space-y-2",children:[n&&d.jsxs("div",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:[n,":"]}),d.jsx("div",{className:"rounded-md border",children:d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsxs("table",{className:"w-full caption-bottom text-sm",children:[d.jsx("thead",{children:d.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:e.map((a,o)=>d.jsx("th",{className:"h-9 px-3 text-left align-middle text-xs font-medium uppercase tracking-wider text-muted-foreground",children:a.header},o))})}),d.jsx("tbody",{children:t.map((a,o)=>d.jsx("tr",{className:"border-b last:border-b-0 transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:e.map((c,u)=>d.jsx("td",{className:"p-2 align-middle",children:typeof c.accessor=="function"?c.accessor(a):d.jsx("div",{className:"font-medium",children:String(a[c.accessor])})},u))},o))})]})})})]}):d.jsxs("div",{className:"flex items-center gap-2",children:[n&&d.jsxs(d.Fragment,{children:[d.jsxs("span",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:[n,":"]}),d.jsx("span",{className:"text-base font-medium text-muted-foreground",children:"No hay registros"})]}),!n&&d.jsx("span",{className:"text-base font-medium text-muted-foreground",children:r||"No hay registros"})]})}function kK(){const{id:t}=rt(),e=new nr,n=new Ci,[r,a]=O.useState({});O.useEffect(()=>{(async()=>{const y=(await n.findAll()).reduce((w,_)=>({...w,[_.id]:_.name}),{});a(y)})()},[]);const o=g=>g.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0,maximumFractionDigits:0}),c=g=>new Date(g).toLocaleDateString("es-UY",{year:"numeric",month:"long",day:"numeric"}),u=g=>{const v=[{header:"Fecha Inicio",accessor:y=>c(y.startDate)},{header:"Fecha Fin",accessor:y=>c(y.endDate)},{header:"Das",accessor:y=>y.day}];return d.jsx(Ao,{data:g,columns:v,emptyMessage:"No hay historial de licencias tomadas"})},f=g=>{const v=[{header:"Fecha",accessor:y=>c(y.paymentDate)},{header:"Concepto",accessor:y=>{switch(y.concept){case go.SALARY:return"Salario";case go.LEAVE:return"Permiso";default:return y.concept}}},{header:"Estado",accessor:y=>{switch(y.status){case po.PAID:return"Pagado";case po.PENDING:return"Pendiente";default:return y.status}}},{header:"Monto",accessor:y=>o(y.amount)}];return d.jsx(Ao,{data:g,columns:v,emptyMessage:"No hay pagos"})},m=g=>[{label:"Nombre",value:g.name},{label:"Rol Principal",value:r[g.primaryRoleId]||"Rol no encontrado"},{label:"Fecha de Contratacin",value:c(g.hireDate)},{label:"Salario Mensual",value:o(g.monthlySalary)},{label:"Balance de Licencias",value:g.leaveBalance},{label:"Balance de Salario por Licencias",value:o(g.leaveSalaryBalance)},{label:"Balance de Salario por Vacaciones",value:o(g.vacationSalaryBalance)},{label:"Balance de Aguinaldo",value:o(g.bonusSalaryBalance)},{label:"Historial de Licencias Tomadas",value:u(g.leaveHistory||[])},{label:"Historial de Pagos",value:f(g.payments||[])}];return t?d.jsx(xr,{title:"Trabajador",fields:m,editPath:`/workers/${t}/edit`,backPath:"/workers",service:e,id:t}):null}function LK(){const t=new Ci,e=[{header:"Nombre",accessor:"name"},{header:"Tipo",accessor:"isProduction",render:n=>n.isProduction?"Produccin":"Administrativo"},{header:"Tareas",accessor:"tasks",render:n=>{var r;return((r=n.tasks)==null?void 0:r.length)||0}}];return d.jsx(gr,{columns:e,title:"Roles",addPath:"/roles/new",backPath:"/roles",service:t})}var ao=(t=>(t.DAILY="daily",t.HOURLY="hourly",t.END_OF_SHIFT="end_of_shift",t))(ao||{});function zN(){const{id:t}=rt(),[e,n]=O.useState({}),r=new Ci;O.useEffect(()=>{t&&r.findById(t).then(o=>{o&&n(o)})},[t]);const a=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"isProduction",label:"Es de Produccin?",type:"boolean",required:!0,placeholder:"Marque si el rol es de produccin"},{name:"tasks",label:"Tareas",type:"array",arrayConfig:{columns:[{header:"Tarea",accessor:"taskName"},{header:"Frecuencia",accessor:"frequency",render:o=>{switch(o){case ao.DAILY:return"Diaria";case ao.HOURLY:return"Por Hora";case ao.END_OF_SHIFT:return"Fin de Turno";default:return"N/A"}}}],form:{fields:[{name:"taskName",label:"Nombre de la Tarea",type:"text",required:!0,placeholder:"Ej: Limpiar rea de trabajo"},{name:"frequency",label:"Frecuencia",type:"select",required:!0,options:[{value:ao.DAILY,label:"Diaria"},{value:ao.HOURLY,label:"Por Hora"},{value:ao.END_OF_SHIFT,label:"Fin de Turno"}]}],emptyState:{title:"No hay tareas definidas",description:'Haga clic en el botn "Agregar" para comenzar a definir las tareas de este rol.'},modalTitles:{add:"Agregar Tarea",edit:"Modificar Tarea"},addButtonText:"Agregar Tarea",editButtonTooltip:"Modificar esta tarea",deleteButtonTooltip:"Eliminar esta tarea"}}}];return d.jsx(br,{title:t?"Editar Rol":"Nuevo Rol",fields:a,initialValues:e,service:r,backPath:"/roles"})}function FK(){const{id:t}=rt(),e=new Ci,n=a=>{const o=[{header:"Tarea",accessor:c=>d.jsx("div",{className:"font-medium",children:c.taskName})},{header:"Frecuencia",accessor:c=>c.frequency}];return d.jsx(Ao,{data:a,columns:o})},r=a=>[{label:"Nombre",value:a.name},{label:"Tipo",value:a.isProduction?"Produccin":"Administrativo"},{label:"Tareas",value:n(a.tasks||[])}];return t?d.jsx(xr,{title:"Rol",fields:r,editPath:`/roles/${t}/edit`,backPath:"/roles",service:e,id:t}):null}class UK extends vr{constructor(n){super(n,"units");$e(this,"modelProperties",["name","symbol","conversions"])}async findByName(n){return this.findByField("name",n)}async findBySymbol(n){return this.findByField("symbol",n)}}class Jt extends yr{constructor(){super(UK)}async findByName(e){return this.repository.findByName(e)}async findBySymbol(e){return this.repository.findBySymbol(e)}async create(e){const n=await super.create(e),r={toUnitId:n.id,factor:1,operation:"multiply",isDefault:!0},a=e.conversions||[],o=[r,...a];return await this.update(n.id,{...n,conversions:o}),this.findById(n.id)}}function BK(){const t=new Jt,e=[{header:"Nombre",accessor:"name"},{header:"Smbolo",accessor:"symbol"},{header:"Conversiones",accessor:"conversions",render:n=>{var r;return((r=n.conversions)==null?void 0:r.length)||0}}];return d.jsx(gr,{columns:e,title:"Unidades",addPath:"/units/new",backPath:"/units",service:t})}function HN(){const{id:t}=rt(),[e,n]=O.useState({}),r=new Jt;O.useEffect(()=>{t&&r.findById(t).then(o=>{o&&n(o)})},[t]);const a=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"symbol",label:"Smbolo",type:"text",required:!0},{name:"conversions",label:"Conversiones",type:"array",arrayConfig:{columns:[{header:"Unidad Destino",accessor:"toUnitId",reference:{field:{name:"toUnitId",label:"Unidad Destino",type:"select",relatedService:{service:new Jt,labelField:"name"}},displayField:"name"}},{header:"Factor",accessor:"factor"},{header:"Operacin",accessor:"operation",render:o=>o==="multiply"?"Multiplicar":"Dividir"}],form:{fields:[{name:"toUnitId",label:"Unidad Destino",type:"select",required:!0,relatedService:{service:new Jt,labelField:"name"}},{name:"factor",label:"Factor",type:"number",required:!0,placeholder:"Ej: 1000"},{name:"operation",label:"Operacin",type:"select",required:!0,options:[{value:"multiply",label:"Multiplicar"},{value:"divide",label:"Dividir"}]}],emptyState:{title:"No hay conversiones definidas",description:'Haga clic en el botn "Agregar" para comenzar a definir las conversiones de esta unidad.'},modalTitles:{add:"Agregar Conversin",edit:"Modificar Conversin"},addButtonText:"Agregar Conversin",editButtonTooltip:"Modificar esta conversin",deleteButtonTooltip:"Eliminar esta conversin",disableEditIf:o=>o.isDefault===!0,disableDeleteIf:o=>o.isDefault===!0}}}];return d.jsx(br,{title:t?"Editar Unidad":"Nueva Unidad",fields:a,initialValues:e,service:r,backPath:"/units"})}function VK(){const{id:t}=rt(),e=new Jt,[n,r]=O.useState({});O.useEffect(()=>{(async()=>{const m=(await e.findAll()).reduce((g,v)=>({...g,[v.id]:v.name}),{});r(m)})()},[]);const a=u=>{switch(u){case"multiply":return"Multiplicar";case"divide":return"Dividir";default:return u}},o=u=>u!=null&&u.length?d.jsx(d.Fragment,{children:u.map((f,m)=>d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[d.jsx("td",{className:"p-4 align-middle",children:d.jsx("div",{className:"font-medium",children:n[f.toUnitId]||"Unidad no encontrada"})}),d.jsxs("td",{className:"p-4 align-middle text-muted-foreground",children:[f.factor," (",a(f.operation),")"]})]},m))}):"No hay conversiones",c=u=>{var f;return[{label:"Nombre",value:u.name},{label:"Smbolo",value:u.symbol},{label:"Conversiones",value:(f=u.conversions)!=null&&f.length?o(u.conversions):"No hay conversiones"}]};return t?d.jsx(xr,{title:"Unidad",fields:c,editPath:`/units/${t}/edit`,backPath:"/units",service:e,id:t}):null}class $K extends vr{constructor(n){super(n,"parameters");$e(this,"modelProperties",["name","code","value","description"])}async findByName(n){return this.findByField("name",n)}async findByCode(n){return this.findByField("code",n)}}class Yx extends yr{constructor(){super($K)}async findByName(e){return this.repository.findByName(e)}async findByCode(e){return this.repository.findByCode(e)}async update(e,n){if(n.code){const r=await this.findById(e);if(!r)throw new Error("Parmetro no encontrado");if(r.code!==n.code&&(await this.findByCode(n.code)).length>0)throw new Error(`Ya existe un parmetro con el cdigo ${n.code}`)}return super.update(e,n)}}function zK(){const t=new Yx,e=[{header:"Nombre",accessor:"name"},{header:"Cdigo",accessor:"code"},{header:"Valor",accessor:"value"},{header:"Descripcin",accessor:"description",render:n=>n.description||"-"}];return d.jsx(gr,{columns:e,title:"Parmetros",addPath:"/parameters/new",backPath:"/parameters",service:t})}function qN(){const{id:t}=rt(),[e,n]=O.useState({}),r=new Yx;O.useEffect(()=>{t&&r.findById(t).then(o=>{o&&n(o)})},[t]);const a=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"code",label:"Cdigo",type:"text",required:!0},{name:"value",label:"Valor",type:"text",required:!0},{name:"description",label:"Descripcin",type:"textarea"}];return d.jsx(br,{title:t?"Editar Parmetro":"Nuevo Parmetro",fields:a,initialValues:e,service:r,backPath:"/parameters"})}function HK(){const{id:t}=rt(),e=new Yx,n=r=>[{label:"Nombre",value:r.name},{label:"Cdigo",value:r.code},{label:"Valor",value:r.value},{label:"Descripcin",value:r.description||"-"}];return t?d.jsx(xr,{title:"Parmetro",fields:n,editPath:`/parameters/${t}/edit`,backPath:"/parameters",service:e,id:t}):null}class Z2 extends vr{constructor(n){super(n,"purchase-orders");$e(this,"modelProperties",["orderDate","status","supplierId","products","totalItems","totalProducts"])}async findBySupplierId(n){return this.findByField("supplierId",n)}async findByStatus(n){return this.findByField("status",n.toString())}async findByDateRange(n,r){return(await this.findAll()).filter(o=>o.orderDate>=n&&o.orderDate<=r)}}var we=(t=>(t.PENDIENTE="PENDIENTE",t.ENVIADA="ENVIADA",t.COMPLETADA="COMPLETADA",t.CANCELADA="CANCELADA",t))(we||{});const Ec=t=>{switch(t){case"PENDIENTE":return"bg-yellow-100 text-yellow-800";case"ENVIADA":return"bg-blue-100 text-blue-800";case"COMPLETADA":return"bg-green-100 text-green-800";case"CANCELADA":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Hn={PENDIENTE:"PENDIENTE",ENVIADA:"ENVIADA",COMPLETADA:"COMPLETADA",CANCELADA:"CANCELADA"};class gs extends yr{constructor(){super(Z2,"purchase-orders")}calculateTotals(e){e.products||(e.products=[]),e.totalProducts=e.products.length,e.totalItems=e.products.reduce((n,r)=>{const a=Number(r.quantity)||0;return n+a},0)}validateOrder(e){if(!e.supplierId)throw new Error("La orden de compra debe tener un proveedor asignado");if(!e.orderDate)throw new Error("La orden de compra debe tener una fecha");if(!e.status)throw new Error("La orden de compra debe tener un estado");if(!e.referenceOrderNumber&&(!e.products||e.products.length===0))throw new Error("La orden de compra debe tener al menos un producto");e.products&&e.products.forEach((n,r)=>{if(!n.productId)throw new Error(`El producto #${r+1} debe tener un ID vlido`);if(!n.quantity||n.quantity<=0)throw new Error(`El producto #${r+1} debe tener una cantidad vlida mayor a 0`)})}async create(e){if(e.status=e.status||we.PENDIENTE,e.referenceOrderNumber){const n=await this.findById(e.referenceOrderNumber);if(!n)throw new Error("La orden de referencia no existe");e.products=n.products}return this.calculateTotals(e),this.validateOrder(e),super.create(e)}async update(e,n){(!n.supplierId||!n.orderDate||!n.status||!n.products)&&(n={...await this.findById(e),...n}),this.calculateTotals(n),this.validateOrder(n);const r=await super.update(e,n);if(!r)throw new Error("Order not found after update");return r}async findBySupplierId(e){return this.repository.findBySupplierId(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByDateRange(e,n){return this.repository.findByDateRange(e,n)}async findByNro(e){return(await this.findAll()).find(r=>r.nro===e)||null}async copyOrder(e){const n=await this.findByNro(e);if(!n)throw new Error(`La orden nmero ${e} no existe`);return{orderDate:new Date,status:we.PENDIENTE,supplierId:n.supplierId,products:n.products,totalItems:n.totalItems,totalProducts:n.totalProducts}}}class J2 extends vr{constructor(n){super(n,"products");$e(this,"modelProperties",["name","sku","imageUrl","isForSale","isMaterial","materialName","materialCode","salePrice","state","salesUnitCost","materialUnitCost","purchasePrice","salesUnitId","materialUnitId","purchaseUnitId","primarySupplierId","sector","sectorOrder","desiredStock","salesChannels","priceHistory","margin"])}async findByName(n){return this.findByField("name",n)}async findBySku(n){return this.findByField("sku",n)}async findByState(n){return this.findByField("state",n)}async findBySector(n){return this.findByField("sector",n)}async findByPrimarySupplierId(n){return this.findByField("primarySupplierId",n)}async findByMaterialUnit(n){return this.findByField("materialUnitId",n)}async findBySalesUnit(n){return this.findByField("salesUnitId",n)}async findByIsForSale(n){return this.findByField("isForSale",n)}async findByIsMaterial(n){return this.findByField("isMaterial",n)}async findByStatus(n){return this.findByField("state",n)}async findBySaleStatus(n){return this.findByField("isForSale",n)}async findByMaterialStatus(n){return this.findByField("isMaterial",n)}async findByDesiredStockBelow(n){const r=Vu(this.getRef(),Bu("desiredStock")),a=await ho(r);if(!a.exists())return[];const o=a.val();return Object.entries(o).filter(([,c])=>c.desiredStock&&c.desiredStock<n).map(([c,u])=>this.mapDocumentToEntity(u,c))}async findBySalesChannel(n){const r=Vu(this.getRef(),Bu("salesChannels"),gA(n)),a=await ho(r);if(!a.exists())return[];const o=a.val();return Object.entries(o).filter(([,c])=>{var u;return(u=c.salesChannels)==null?void 0:u.some(f=>f.code===n)}).map(([c,u])=>this.mapDocumentToEntity(u,c))}async findByPriceRange(n,r){const a=Vu(this.getRef(),Bu("salePrice")),o=await ho(a);if(!o.exists())return[];const c=o.val();return Object.entries(c).filter(([,u])=>u.salePrice>=n&&u.salePrice<=r).map(([u,f])=>this.mapDocumentToEntity(f,u))}async findByStockRange(n,r){const a=Vu(this.getRef(),Bu("desiredStock")),o=await ho(a);if(!o.exists())return[];const c=o.val();return Object.entries(c).filter(([,u])=>u.desiredStock&&u.desiredStock>=n&&u.desiredStock<=r).map(([u,f])=>this.mapDocumentToEntity(f,u))}}class on extends yr{constructor(){super(J2,"products");$e(this,"unitService");$e(this,"supplierService");this.unitService=new Jt,this.supplierService=new tr}async calculateUnitCosts(n){var o,c;if(!n.purchasePrice||!n.purchaseUnitId)return n;const r=await this.unitService.findById(n.purchaseUnitId);if(!r)return n;const a={...n};if(n.primarySupplierId){const u=await this.supplierService.findById(n.primarySupplierId);u&&(a.primarySupplier={id:u.id||"",commercialName:u.commercialName,email:u.email||"",phone:u.phone||"",status:u.status})}if(n.isForSale&&n.salesUnitId){const u=(o=r.conversions)==null?void 0:o.find(f=>f.toUnitId===n.salesUnitId);if(u){const{factor:f,operation:m}=u;a.salesUnitCost=m==="multiply"?n.purchasePrice*f:n.purchasePrice/f,n.salePrice&&a.salesUnitCost&&(a.margin=(1-a.salesUnitCost/n.salePrice)*100)}}if(n.isMaterial&&n.materialUnitId){const u=(c=r.conversions)==null?void 0:c.find(f=>f.toUnitId===n.materialUnitId);if(u){const{factor:f,operation:m}=u;a.materialUnitCost=m==="multiply"?n.purchasePrice*f:n.purchasePrice/f}}return a}async create(n){const r=await this.calculateUnitCosts(n),a=await super.create(r);if(!a)throw new Error("Failed to create product");return a}async update(n,r){const a=await this.findById(n);if(!a)throw new Error("Product not found");const o={...a,...r},c=await this.calculateUnitCosts(o),u=await super.update(n,c);if(!u)throw new Error("Failed to update product");return u}async findByName(n){return this.repository.findByName(n)}async findBySku(n){return this.repository.findBySku(n)}async findByState(n){return this.repository.findByState(n)}async findBySector(n){return this.repository.findBySector(n)}async findByPrimarySupplierId(n){return this.repository.findByPrimarySupplierId(n)}async findByMaterialUnit(n){return this.repository.findByMaterialUnit(n)}async findBySalesUnit(n){return this.repository.findBySalesUnit(n)}async findByIsForSale(n){return this.repository.findByIsForSale(n)}async findByIsMaterial(n){return this.repository.findByIsMaterial(n)}async findByPriceRange(n,r){return this.repository.findByPriceRange(n,r)}async findByDesiredStockBelow(n){return this.repository.findByDesiredStockBelow(n)}async findById(n){const r=await super.findById(n);if(!r)return null;if(r.primarySupplierId){const a=await this.supplierService.findById(r.primarySupplierId);a&&(r.primarySupplier={id:a.id,commercialName:a.commercialName,email:a.email,phone:a.phone,status:a.status})}return r}async findAll(){const n=await super.findAll();return await Promise.all(n.map(async a=>{if(a.primarySupplierId){const o=await this.supplierService.findById(a.primarySupplierId);if(o)return{...a,primarySupplier:{id:o.id,commercialName:o.commercialName,email:o.email,phone:o.phone,status:o.status}}}return a}))}}function Kx({open:t,onClose:e,onCreateEmpty:n,onCreateFromCopy:r,onCreateCalculated:a,orderType:o,suppliers:c=[],customers:u=[],workers:f=[]}){const[m,g]=O.useState(null),[v,y]=O.useState(""),[w,_]=O.useState(""),E=()=>{switch(m){case"empty":n();break;case"copy":v&&r(v);break;case"calculated":w&&a(w);break}S()},S=()=>{g(null),y(""),_(""),e()},C=()=>{switch(o){case"customer":return{label:"Cliente",placeholder:"Seleccione un cliente",options:u.map(T=>({value:T.id,label:T.name}))};case"purchase":return{label:"Proveedor",placeholder:"Seleccione un proveedor",options:c.map(T=>({value:T.id,label:T.commercialName}))};case"production":return{label:"Trabajador",placeholder:"Seleccione un trabajador",options:f.map(T=>({value:T.id,label:T.name}))}}},N=new Intl.DateTimeFormat("es",{day:"numeric",month:"long",year:"numeric"}).format(new Date),I=C();return d.jsx(bc,{open:t,onOpenChange:S,children:d.jsxs(ko,{className:"sm:max-w-[600px] p-0",children:[d.jsxs(Lo,{className:"p-6 pb-0",children:[d.jsx(Fo,{className:"text-2xl",children:"Nueva Orden"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:N})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("button",{className:`aspect-square rounded-lg transition-colors flex flex-col items-center justify-center gap-3 ${m==="empty"?"bg-blue-600 text-white":"bg-blue-100 hover:bg-blue-200 text-blue-700"}`,onClick:()=>{m==="empty"?g(null):(g("empty"),n())},children:[d.jsx(kT,{className:"h-10 w-10"}),d.jsx("span",{className:"font-medium text-lg",children:"Vaca"})]}),d.jsxs("button",{className:`aspect-square rounded-lg transition-colors flex flex-col items-center justify-center gap-3 ${m==="copy"?"bg-orange-600 text-white":"bg-orange-100 hover:bg-orange-200 text-orange-700"}`,onClick:()=>g(m==="copy"?null:"copy"),children:[d.jsx(LT,{className:"h-10 w-10"}),d.jsx("span",{className:"font-medium text-lg",children:"Copiada"})]}),d.jsxs("button",{className:`aspect-square rounded-lg transition-colors flex flex-col items-center justify-center gap-3 ${m==="calculated"?"bg-red-600 text-white":"bg-red-100 hover:bg-red-200 text-red-700"}`,onClick:()=>g(m==="calculated"?null:"calculated"),children:[d.jsx(Vm,{className:"h-10 w-10"}),d.jsx("span",{className:"font-medium text-lg",children:"Calculada"})]})]}),m==="copy"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Nmero de Orden"}),d.jsx(pn,{placeholder:"Ingrese el nmero de la orden a copiar",value:v,onChange:T=>y(T.target.value),className:"h-11"})]}),d.jsx(Se,{variant:"primary",className:"w-full h-11",onClick:E,disabled:!v,children:"Copiar Orden"})]}),m==="calculated"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:I.label}),d.jsx(xi,{value:w,onChange:T=>_(T),options:I.options,placeholder:I.placeholder,className:"h-11"})]}),d.jsx(Se,{variant:"primary",className:"w-full h-11",onClick:E,disabled:!w,children:"Crear Orden Calculada"})]})]})]})})}const kn={printContainer:{fontFamily:"Arial, sans-serif",fontSize:"14px",width:"80mm",margin:0,padding:"10px",fontWeight:"bold"},ticket:{textAlign:"left",fontWeight:"bold"},orderNumber:{margin:0,fontSize:"18px",fontWeight:"bold"},date:{margin:"5px 0",fontSize:"14px",fontWeight:"bold"},businessName:{margin:0,fontSize:"12px",textAlign:"left",fontWeight:"bold"},contact:{fontSize:"12px",margin:"5px 0",fontWeight:"bold"},line:{borderTop:"1px dashed black",margin:"5px 0"},itemsTable:{width:"100%",textAlign:"left",tableLayout:"auto"},checkbox:{display:"inline-block",width:"8px",height:"8px",border:"1px solid black",marginRight:"6px",marginTop:"8px"},itemRow:{display:"flex",alignItems:"flex-start",width:"100%"},itemQuantity:{padding:"5px",paddingRight:"15px",fontSize:"14px",whiteSpace:"nowrap",fontWeight:"bold"},itemDescription:{padding:"5px",paddingLeft:"0",fontSize:"14px",flex:1,wordWrap:"break-word",fontWeight:"bold"},totals:{fontSize:"14px",margin:"5px 0",fontWeight:"bold"},spacer:{height:"30px"}},Xx=({orderNumber:t,date:e,contactType:n,contactName:r,items:a})=>{const o=a.length,c=a.reduce((u,f)=>u+f.quantity,0);return d.jsx("div",{style:kn.printContainer,children:d.jsxs("div",{style:kn.ticket,children:[d.jsxs("h2",{style:kn.orderNumber,children:["Orden N: ",t]}),d.jsxs("p",{style:kn.date,children:["Fecha: ",e.toLocaleDateString()]}),d.jsx("h1",{style:kn.businessName,children:"TEJAS DE LA CRUZ YOSBANY"}),d.jsxs("p",{style:kn.contact,children:[n.toUpperCase(),": ",d.jsx("strong",{children:r})]}),d.jsx("div",{style:kn.line}),d.jsx("table",{style:kn.itemsTable,children:d.jsx("tbody",{children:a.map((u,f)=>d.jsx("tr",{children:d.jsx("td",{colSpan:2,children:d.jsxs("div",{style:kn.itemRow,children:[d.jsx("div",{style:kn.checkbox}),d.jsxs("div",{style:kn.itemQuantity,children:[u.quantity," ",u.unit]}),d.jsx("div",{style:kn.itemDescription,children:u.description})]})})},f))})}),d.jsx("div",{style:kn.line}),d.jsxs("p",{style:kn.totals,children:["Totales (Productos/ Items): ",o," / ",c]}),d.jsx("div",{style:kn.spacer})]})})};function qK(){const t=Tt(),e=new gs,n=new tr,r=new on,a=new Jt,[o,c]=O.useState({}),[u,f]=O.useState([]),[m,g]=O.useState([]),[v,y]=O.useState({}),[w,_]=O.useState(!1);O.useEffect(()=>{(async()=>{try{const[R,D,j]=await Promise.all([n.findAll(),r.findAll(),a.findAll()]),P=R.reduce((B,K)=>(B[K.id]=K.commercialName,B),{}),F=j.reduce((B,K)=>(B[K.id]=K.name,B),{});c(P),f(R),g(D),y(F)}catch(R){console.error("Error loading data:",R)}})()},[]);const E=()=>{t("/purchase-orders/new")},S=T=>{t(`/purchase-orders/new?copy=${T}`)},C=T=>{t(`/purchase-orders/new?calculate=${T}`)},N=T=>{const R=T.products.map(P=>{const F=m.find(K=>K.id===P.productId),B=v[(F==null?void 0:F.purchaseUnitId)||""]||"Unidad";return{quantity:P.quantity,unit:B,description:(F==null?void 0:F.name)||"Producto no encontrado"}}),D=u.find(P=>P.id===T.supplierId),j=window.open("","_blank");if(j){j.document.write("<html><head><title>Orden de Compra</title></head><body>"),j.document.write('<div id="print-root"></div>'),j.document.write("</body></html>");const P=j.document.getElementById("print-root");P&&(Lm.createRoot(P).render(d.jsx(Xx,{orderNumber:T.nro,date:new Date(T.orderDate),contactType:"proveedor",contactName:(D==null?void 0:D.commercialName)||"Proveedor no encontrado",items:R})),setTimeout(()=>{j.print(),j.close()},500))}},I=[{header:"Proveedor",accessor:"supplierId",render:T=>o[T.supplierId]||"Proveedor no encontrado"},{header:"Fecha",accessor:"orderDate",render:T=>(T.orderDate instanceof Date?T.orderDate:new Date(T.orderDate)).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"})},{header:"Totales",accessor:"totalProducts",render:T=>`${T.totalProducts||0} / ${T.totalItems||0}`},{header:"Estado",accessor:"status",type:"tag",className:"rounded-md px-2 py-1",tags:[{value:we.PENDIENTE,label:we.PENDIENTE,color:"warning"},{value:we.ENVIADA,label:we.ENVIADA,color:"info"},{value:we.COMPLETADA,label:we.COMPLETADA,color:"success"},{value:we.CANCELADA,label:we.CANCELADA,color:"danger"}]}];return d.jsxs(d.Fragment,{children:[d.jsx(Kx,{open:w,onClose:()=>_(!1),onCreateEmpty:E,onCreateFromCopy:S,onCreateCalculated:C,orderType:"purchase",suppliers:u}),d.jsx(gr,{columns:I,title:"rdenes de Compra",onAddClick:()=>_(!0),backPath:"/purchase-orders",service:e,type:"purchase",onPrint:N})]})}function WN(){const{id:t}=rt(),[e]=Bm(),n=Tt(),[r,a]=O.useState(!0),o=Uo("PurchaseOrderForm"),c=O.useMemo(()=>{const I=e.get("calculate"),T=e.get("copy");return I||T?"calculated":"manual"},[e]),[u,f]=O.useState({orderDate:new Date,status:we.PENDIENTE,products:[]}),[m,g]=O.useState([]),[v,y]=O.useState([]),w=O.useMemo(()=>new gs,[]),_=O.useMemo(()=>new on,[]),E=O.useMemo(()=>new tr,[]);O.useEffect(()=>{(async()=>{try{const[T,R]=await Promise.all([E.findAll(),_.findAll()]);y(T);const D=e.get("copy");if(D){o.info("Copiando orden existente",{copyNro:D});try{const P=await w.copyOrder(D);if(f(P),P.supplierId){const F=await _.findByPrimarySupplierId(P.supplierId);g(F),o.debug("Productos cargados del proveedor de la orden copiada",{supplierId:P.supplierId,productsCount:F.length})}}catch(P){o.error("Error al copiar orden",{error:P}),qe.error("La orden no existe o no se puede copiar"),n("/purchase-orders");return}return}g(R);const j=e.get("calculate");if(j){o.info("Configurando orden de clculo",{calculateId:j}),f(F=>({...F,supplierId:j}));const P=await _.findByPrimarySupplierId(j);g(P),o.debug("Productos cargados para clculo",{count:P.length})}}catch(T){o.error("Error al cargar datos iniciales",{error:T}),qe.error("Error al cargar los datos")}finally{a(!1)}})()},[t,w,_,e,o,n]);const S=I=>{o.info("Cambiando orden de referencia",{value:I}),w.findById(I).then(T=>{T&&(f(R=>({...R,referenceOrderNumber:I,products:T.products})),o.debug("Orden de referencia actualizada",{orderId:T.id,productsCount:T.products.length}))}).catch(T=>{o.error("Error al cargar orden de referencia",{error:T})})},C=I=>{var R;const T=I;o.info("Iniciando cambio de proveedor",{supplierId:T,currentProductsCount:m.length,currentOrderProductsCount:((R=u.products)==null?void 0:R.length)||0}),f(D=>{var j;return o.debug("Actualizando estado de la orden",{previousSupplierId:D.supplierId,newSupplierId:T,previousProductsCount:((j=D.products)==null?void 0:j.length)||0}),{...D,supplierId:T,products:[]}}),T?(o.debug("Iniciando carga de productos del proveedor",{supplierId:T}),_.findByPrimarySupplierId(T).then(D=>{o.info("Productos cargados exitosamente del proveedor",{supplierId:T,productsCount:D.length,products:D.map(j=>({id:j.id,name:j.name}))}),g(D)}).catch(D=>{o.error("Error al cargar productos del proveedor",{error:D,supplierId:T,errorMessage:D instanceof Error?D.message:"Error desconocido"}),g([])})):(o.debug("Limpieza de productos - sin proveedor seleccionado",{previousProductsCount:m.length}),g([]))},N=O.useMemo(()=>e.get("copy")?[{name:"supplierId",label:"Proveedor",type:"select",required:!0,readOnly:!0,relatedService:{service:E,labelField:"commercialName"}},{name:"orderDate",label:"Fecha",type:"date",required:!0,readOnly:!1},{name:"products",label:"Productos",type:"array",visible:()=>!0,arrayConfig:{columns:[{header:"Producto",accessor:"productId",render:I=>{const T=m.find(R=>R.id===I);return(T==null?void 0:T.name)||"Producto no encontrado"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"productId",label:"Producto",type:"select",required:!0,options:m.map(I=>({value:I.id||"",label:I.name})),onChange:I=>(o.debug("Producto seleccionado",{value:I}),{})},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay productos agregados",description:'Haga clic en el botn "Agregar" para comenzar a agregar productos a la orden de compra.'},modalTitles:{add:"Agregar Producto",edit:"Modificar Producto"},addButtonText:"Agregar Producto",editButtonTooltip:"Modificar este producto",deleteButtonTooltip:"Eliminar este producto",dialogDescription:"Complete los detalles del producto para la orden de compra."}}}]:[...c==="calculated"?[{name:"referenceOrderNumber",label:"Orden de Referencia",type:"select",required:!0,options:v.map(I=>({value:I.id||"",label:`Proveedor: ${I.commercialName}`})),onChange:S}]:[],{name:"supplierId",label:"Proveedor",type:"select",required:!0,relatedService:{service:E,labelField:"commercialName"},onChange:C},{name:"orderDate",label:"Fecha",type:"date",required:!0,readOnly:!1},...t?[{name:"status",label:"Estado",type:"select",required:!0,readOnly:!t,options:Object.values(we).map(I=>({value:I,label:I}))}]:[],...c==="manual"?[{name:"products",label:"Productos",type:"array",visible:()=>!0,arrayConfig:{columns:[{header:"Producto",accessor:"productId",render:I=>{const T=m.find(R=>R.id===I);return(T==null?void 0:T.name)||"Producto no encontrado"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"productId",label:"Producto",type:"select",required:!0,options:m.map(I=>({value:I.id||"",label:I.name})),onChange:I=>(o.debug("Producto seleccionado",{value:I}),{})},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay productos agregados",description:'Haga clic en el botn "Agregar" para comenzar a agregar productos a la orden de compra.'},modalTitles:{add:"Agregar Producto",edit:"Modificar Producto"},addButtonText:"Agregar Producto",editButtonTooltip:"Modificar este producto",deleteButtonTooltip:"Eliminar este producto",dialogDescription:"Complete los detalles del producto para la orden de compra."}}}]:[]],[t,c,v,m,S,C,e]);return r?d.jsx("div",{children:"Cargando..."}):d.jsx("div",{className:"space-y-4",children:d.jsx(br,{title:t?"Editar Orden de Compra":"Nueva Orden de Compra",fields:N,initialValues:u,service:w,backPath:"/purchase-orders"})})}function WK(){const{id:t}=rt(),e=new gs,n=new tr,r=new on,a=new Jt,[o,c]=O.useState({}),[u,f]=O.useState({}),[m,g]=O.useState({});O.useEffect(()=>{(async()=>{const[_,E,S]=await Promise.all([n.findAll(),r.findAll(),a.findAll()]),C=_.reduce((T,R)=>({...T,[R.id]:R.commercialName}),{}),N=E.reduce((T,R)=>({...T,[R.id]:R}),{}),I=S.reduce((T,R)=>({...T,[R.id]:R.name}),{});c(C),f(N),g(I)})()},[]);const v=w=>{const _=[{header:"Producto",accessor:E=>{if(E.productId){const S=u[E.productId];return d.jsx("div",{className:"font-medium",children:(S==null?void 0:S.name)||"Producto no encontrado"})}return"Producto no especificado"}},{header:"Cantidad",accessor:E=>{if(E.productId){const S=u[E.productId],C=S!=null&&S.purchaseUnitId?m[S.purchaseUnitId]:"Unidad no encontrada";return`${E.quantity} ${C}`}return E.quantity}}];return d.jsx(Ao,{data:w,columns:_,emptyMessage:"No hay productos"})},y=w=>[{label:"Proveedor",value:o[w.supplierId]||"Proveedor no encontrado"},{label:"Estado",value:Hn[w.status]},{label:"Fecha",value:new Date(w.orderDate).toLocaleDateString()},{label:"Productos",value:v(w.products)},{label:"Total de Items",value:w.totalItems},{label:"Total de Productos",value:w.totalProducts}];return t?d.jsx(xr,{title:"Pedido de Compra",fields:y,editPath:`/purchase-orders/${t}/edit`,backPath:"/purchase-orders",service:e,id:t}):null}class eO extends vr{constructor(n){super(n,"customer-orders");$e(this,"modelProperties",["orderDate","status","customerId","items","totalItems","totalProducts"])}async findByCustomerId(n){return this.findByField("customerId",n)}async findByStatus(n){return this.findByField("status",n.toString())}async findByDateRange(n,r){return(await this.findAll()).filter(o=>o.orderDate>=n&&o.orderDate<=r)}}class Ia extends yr{constructor(){super(eO,"customer-orders")}calculateTotals(e){e.items||(e.items=[]),e.totalProducts=e.items.length,e.totalItems=e.items.reduce((n,r)=>n+(Number(r.quantity)||0),0)}validateOrder(e){if(!e.customerId)throw new Error("La orden debe tener un cliente asignado");if(!e.orderDate)throw new Error("La orden debe tener una fecha");if(!e.status)throw new Error("La orden debe tener un estado");if(!e.items||e.items.length===0)throw new Error("La orden debe tener al menos un item");e.items.forEach((n,r)=>{if(!n.itemId)throw new Error(`El item #${r+1} debe tener un ID vlido`);if(!n.typeItem)throw new Error(`El item #${r+1} debe tener un tipo vlido`);if(!n.quantity||n.quantity<=0)throw new Error(`El item #${r+1} debe tener una cantidad vlida mayor a 0`)})}async create(e){return e.status=e.status||we.PENDIENTE,this.calculateTotals(e),this.validateOrder(e),super.create(e)}async update(e,n){if(!n.customerId||!n.orderDate||!n.status||!n.items){const r=await this.findById(e);if(!r)throw new Error("Orden no encontrada");n={...r,...n}}return this.calculateTotals(n),this.validateOrder(n),super.update(e,n)}async findByCustomerId(e){return this.repository.findByCustomerId(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByDateRange(e,n){return this.repository.findByDateRange(e,n)}async findByNro(e){return(await this.findAll()).find(r=>r.nro===e)||null}async copyOrder(e){const n=await this.findByNro(e);if(!n)throw new Error(`La orden nmero ${e} no existe`);return{orderDate:new Date,status:we.PENDIENTE,customerId:n.customerId,items:n.items,totalItems:n.totalItems,totalProducts:n.totalProducts}}}class tO extends vr{constructor(n){super(n,"recipes");$e(this,"modelProperties",["name","recipeType","yieldUnitId","yield","cost","materials","primaryWorkerId","notes"])}async findByName(n){return this.findByField("name",n)}}class En extends yr{constructor(){super(tO)}async findByName(e){return this.repository.findByName(e)}async findByType(e){return(await this.repository.findAll()).filter(r=>r.recipeType===e)}async findByPrimaryWorkerId(e){return(await this.repository.findAll()).filter(r=>r.primaryWorkerId===e)}}var Bb=(t=>(t.PRODUCTO="PRODUCTO",t.RECETA="RECETA",t))(Bb||{});function GK(){const t=Tt(),e=new Ia,n=new xs,r=new on,a=new En,o=new Jt,[c,u]=O.useState({}),[f,m]=O.useState([]),[g,v]=O.useState([]),[y,w]=O.useState([]),[_,E]=O.useState({}),[S,C]=O.useState(!1);O.useEffect(()=>{(async()=>{try{const[P,F,B,K]=await Promise.all([n.findAll(),r.findAll(),a.findAll(),o.findAll()]),re=P.reduce(($,q)=>($[q.id]=q.name,$),{}),Q=K.reduce(($,q)=>($[q.id]=q.name,$),{});u(re),m(P),v(F),w(B),E(Q)}catch(P){console.error("Error loading data:",P)}})()},[]);const N=()=>{t("/customer-orders/new")},I=j=>{t(`/customer-orders/new?copy=${j}`)},T=j=>{t(`/customer-orders/new?calculate=${j}`)},R=j=>{if(console.log("Order to print (detailed):",JSON.stringify(j,null,2)),console.log("Order to print:",j),console.log("Order items:",j.items),!j.items||j.items.length===0){console.warn("No hay items para imprimir");return}const P=j.items.map(K=>{console.log("Processing item:",K);let re="",Q="Unidad";if(K.typeItem===Bb.PRODUCTO){const $=g.find(k=>k.id===K.itemId);console.log("Found product:",$);const q=$==null?void 0:$.salesUnitId;q&&q in _&&(Q=_[q]),re=($==null?void 0:$.name)||"Producto no encontrado"}else if(K.typeItem===Bb.RECETA){const $=y.find(k=>k.id===K.itemId);console.log("Found recipe:",$);const q=$==null?void 0:$.yieldUnitId;q&&q in _&&(Q=_[q]),re=($==null?void 0:$.name)||"Receta no encontrada"}return{quantity:K.quantity,unit:Q,description:re}}),F=f.find(K=>K.id===j.customerId),B=window.open("","_blank");if(B){B.document.write("<html><head><title>Pedido de Cliente</title></head><body>"),B.document.write('<div id="print-root"></div>'),B.document.write("</body></html>");const K=B.document.getElementById("print-root");K&&(Lm.createRoot(K).render(d.jsx(Xx,{orderNumber:j.nro,date:new Date(j.orderDate),contactType:"cliente",contactName:(F==null?void 0:F.name)||"Cliente no encontrado",items:P})),setTimeout(()=>{B.print(),B.close()},500))}},D=[{header:"Cliente",accessor:"customerId",render:j=>c[j.customerId]||"Cliente no encontrado"},{header:"Fecha",accessor:"orderDate",type:"date"},{header:"Totales",accessor:"totalProducts",render:j=>`${j.totalProducts}/${j.totalItems}`},{header:"Estado",accessor:"status",type:"tag",tags:[{value:we.PENDIENTE,label:we.PENDIENTE,color:"warning"},{value:we.ENVIADA,label:we.ENVIADA,color:"info"},{value:we.COMPLETADA,label:we.COMPLETADA,color:"success"},{value:we.CANCELADA,label:we.CANCELADA,color:"danger"}]}];return d.jsxs(d.Fragment,{children:[d.jsx(Kx,{open:S,onClose:()=>C(!1),onCreateEmpty:N,onCreateFromCopy:I,onCreateCalculated:T,orderType:"customer",customers:f}),d.jsx(gr,{columns:D,title:"Pedidos de Clientes",onAddClick:()=>C(!0),backPath:"/customer-orders",service:e,type:"customer",onPrint:R})]})}function GN(){const{id:t}=rt(),[e]=Bm(),n=Tt(),[r,a]=O.useState(!0),o=Uo("CustomerOrderForm"),[c,u]=O.useState({orderDate:new Date,status:we.PENDIENTE,items:[]}),[f,m]=O.useState([]),[g,v]=O.useState([]),y=O.useMemo(()=>new Ia,[]),w=O.useMemo(()=>new xs,[]),_=O.useMemo(()=>new on,[]),E=O.useMemo(()=>new En,[]);O.useEffect(()=>{(async()=>{var N;try{const[I,T]=await Promise.all([_.findAll(),E.findAll()]),R=e.get("copy");if(R){o.info("Copiando orden existente",{copyNro:R});try{const D=await y.copyOrder(R);u(D),m(I),v(T),o.debug("Orden copiada exitosamente",{customerId:D.customerId,itemsCount:((N=D.items)==null?void 0:N.length)||0})}catch(D){o.error("Error al copiar orden",{error:D}),qe.error("La orden no existe o no se puede copiar"),n("/customer-orders");return}return}m(I),v(T)}catch(I){o.error("Error al cargar datos iniciales",{error:I}),qe.error("Error al cargar los datos")}finally{a(!1)}})()},[t,y,_,E,e,o,n]);const S=O.useMemo(()=>e.get("copy")?[{name:"customerId",label:"Cliente",type:"select",required:!0,readOnly:!0,relatedService:{service:w,labelField:"name"}},{name:"orderDate",label:"Fecha",type:"date",required:!0,readOnly:!1},{name:"items",label:"Items",type:"array",visible:()=>!0,arrayConfig:{columns:[{header:"Item",accessor:"itemId",render:(C,N)=>{if(N.typeItem==="PRODUCT"){const I=f.find(T=>T.id===C);return(I==null?void 0:I.name)||"Producto no encontrado"}else{const I=g.find(T=>T.id===C);return(I==null?void 0:I.name)||"Receta no encontrada"}}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"typeItem",label:"Tipo",type:"select",required:!0,options:[{value:"PRODUCT",label:"Producto"},{value:"RECIPE",label:"Receta"}]},{name:"itemId",label:"Item",type:"select",required:!0,options:C=>C.typeItem==="PRODUCT"?f.map(N=>({value:N.id||"",label:N.name})):g.map(N=>({value:N.id||"",label:N.name}))},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay items agregados",description:'Haga clic en el botn "Agregar" para comenzar a agregar items al pedido.'},modalTitles:{add:"Agregar Item",edit:"Modificar Item"},addButtonText:"Agregar Item",editButtonTooltip:"Modificar este item",deleteButtonTooltip:"Eliminar este item",dialogDescription:"Complete los detalles del item para el pedido."}}}]:[{name:"customerId",label:"Cliente",type:"select",required:!0,relatedService:{service:w,labelField:"name"}},{name:"orderDate",label:"Fecha",type:"date",required:!0,readOnly:!1},...t?[{name:"status",label:"Estado",type:"select",required:!0,readOnly:!t,options:Object.values(we).map(C=>({value:C,label:C}))}]:[],{name:"items",label:"Items",type:"array",visible:()=>!0,arrayConfig:{columns:[{header:"Item",accessor:"itemId",render:(C,N)=>{if(N.typeItem==="PRODUCT"){const I=f.find(T=>T.id===C);return(I==null?void 0:I.name)||"Producto no encontrado"}else{const I=g.find(T=>T.id===C);return(I==null?void 0:I.name)||"Receta no encontrada"}}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"typeItem",label:"Tipo",type:"select",required:!0,options:[{value:"PRODUCT",label:"Producto"},{value:"RECIPE",label:"Receta"}]},{name:"itemId",label:"Item",type:"select",required:!0,options:C=>C.typeItem==="PRODUCT"?f.map(N=>({value:N.id||"",label:N.name})):g.map(N=>({value:N.id||"",label:N.name}))},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay items agregados",description:'Haga clic en el botn "Agregar" para comenzar a agregar items al pedido.'},modalTitles:{add:"Agregar Item",edit:"Modificar Item"},addButtonText:"Agregar Item",editButtonTooltip:"Modificar este item",deleteButtonTooltip:"Eliminar este item",dialogDescription:"Complete los detalles del item para el pedido."}}}],[t,f,g,w,e]);return r?d.jsx("div",{children:"Cargando..."}):d.jsx("div",{className:"space-y-4",children:d.jsx(br,{title:t?"Editar Pedido":"Nuevo Pedido",fields:S,initialValues:c,service:y,backPath:"/customer-orders"})})}function YK(){const{id:t}=rt(),e=new Ia,n=new xs,r=new on,a=new En,o=new Jt,[c,u]=O.useState({}),[f,m]=O.useState({}),[g,v]=O.useState({}),[y,w]=O.useState({});O.useEffect(()=>{(async()=>{const[C,N,I,T]=await Promise.all([n.findAll(),r.findAll(),a.findAll(),o.findAll()]),R=C.reduce((F,B)=>({...F,[B.id]:B.name}),{}),D=N.reduce((F,B)=>({...F,[B.id]:B}),{}),j=I.reduce((F,B)=>({...F,[B.id]:B}),{}),P=T.reduce((F,B)=>({...F,[B.id]:B.name}),{});u(R),m(D),v(j),w(P)})()},[]);const _=S=>{const C=[{header:"Item",accessor:N=>{let I="";if(N.typeItem==="product"){const T=f[N.itemId];I=(T==null?void 0:T.name)||"Producto no encontrado"}else if(N.typeItem==="recipe"){const T=g[N.itemId];I=(T==null?void 0:T.name)||"Receta no encontrada"}return d.jsx("div",{className:"font-medium",children:I})}},{header:"Tipo",accessor:N=>N.typeItem==="product"?"Producto":"Receta"},{header:"Cantidad",accessor:N=>{let I="Unidad";if(N.typeItem==="product"){const T=f[N.itemId];I=T!=null&&T.salesUnitId&&y[T.salesUnitId]||"Unidad"}else if(N.typeItem==="recipe"){const T=g[N.itemId];I=T!=null&&T.yieldUnitId&&y[T.yieldUnitId]||"Unidad"}return`${N.quantity} ${I}`}}];return d.jsx(Ao,{data:S,columns:C,emptyMessage:"No hay items"})},E=S=>[{label:"Cliente",value:c[S.customerId]||"Cliente no encontrado"},{label:"Estado",value:Hn[S.status]},{label:"Fecha",value:new Date(S.orderDate).toLocaleDateString()},{label:"Items",value:_(S.items)},{label:"Total de Items",value:S.totalItems},{label:"Total de Productos",value:S.totalProducts}];return t?d.jsx(xr,{title:"Pedido de Cliente",fields:E,editPath:`/customer-orders/${t}/edit`,backPath:"/customer-orders",service:e,id:t}):null}class nO extends vr{constructor(n){super(n,"production-orders");$e(this,"modelProperties",["consecutive","orderDate","status","responsibleWorkerId","recipes","ratios","totalItems","totalProducts"])}async findByResponsibleWorkerId(n){return this.findByField("responsibleWorkerId",n)}async findByStatus(n){return this.findByField("status",n.toString())}async findByRecipeId(n){return(await this.findAll()).filter(a=>a.recipes.some(o=>o.recipeId===n))}async findByDateRange(n,r){return(await this.findAll()).filter(o=>o.orderDate>=n&&o.orderDate<=r)}}class vs extends yr{constructor(){super(nO,"production-orders")}calculateTotals(e){e.recipes||(e.recipes=[]),e.totalProducts=e.recipes.length,e.totalItems=e.recipes.reduce((n,r)=>n+(Number(r.quantity)||0),0)}validateOrder(e){if(!e.responsibleWorkerId)throw new Error("La orden debe tener un trabajador responsable asignado");if(!e.orderDate)throw new Error("La orden debe tener una fecha");if(!e.status)throw new Error("La orden debe tener un estado");if(!e.recipes||e.recipes.length===0)throw new Error("La orden debe tener al menos una receta");e.recipes.forEach((n,r)=>{if(!n.recipeId)throw new Error(`La receta #${r+1} debe tener un ID vlido`);if(!n.quantity||n.quantity<=0)throw new Error(`La receta #${r+1} debe tener una cantidad vlida mayor a 0`)})}async create(e){return e.status=e.status||we.PENDIENTE,this.calculateTotals(e),this.validateOrder(e),super.create(e)}async update(e,n){if(!n.responsibleWorkerId||!n.orderDate||!n.status||!n.recipes){const r=await this.findById(e);if(!r)throw new Error("Orden no encontrada");n={...r,...n}}return this.calculateTotals(n),this.validateOrder(n),super.update(e,n)}async findByResponsibleWorkerId(e){return this.repository.findByResponsibleWorkerId(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByDateRange(e,n){return this.repository.findByDateRange(e,n)}async findByNro(e){return(await this.findAll()).find(r=>r.nro===e)||null}async copyOrder(e){const n=await this.findByNro(e);if(!n)throw new Error(`La orden nmero ${e} no existe`);return{orderDate:new Date,status:we.PENDIENTE,responsibleWorkerId:n.responsibleWorkerId,recipes:n.recipes,totalItems:n.totalItems,totalProducts:n.totalProducts}}}function KK(){const t=Tt(),e=new vs,n=new nr,r=new En,a=new Jt,[o,c]=O.useState({}),[u,f]=O.useState([]),[m,g]=O.useState([]),[v,y]=O.useState({}),[w,_]=O.useState(!1);O.useEffect(()=>{(async()=>{try{const[R,D,j]=await Promise.all([n.findAll(),r.findAll(),a.findAll()]),P=R.reduce((B,K)=>(B[K.id]=K.name,B),{}),F=j.reduce((B,K)=>(B[K.id]=K.name,B),{});c(P),f(R),g(D),y(F)}catch(R){console.error("Error loading data:",R)}})()},[]);const E=()=>{t("/production-orders/new")},S=T=>{t(`/production-orders/new?copy=${T}`)},C=T=>{t(`/production-orders/new?calculate=${T}`)},N=T=>{const R=T.recipes.map(P=>{const F=m.find(K=>K.id===P.recipeId),B=v[(F==null?void 0:F.yieldUnitId)||""]||"Unidad";return{quantity:P.quantity,unit:B,description:(F==null?void 0:F.name)||"Receta no encontrada"}}),D=u.find(P=>P.id===T.responsibleWorkerId),j=window.open("","_blank");if(j){j.document.write("<html><head><title>Orden de Produccin</title></head><body>"),j.document.write('<div id="print-root"></div>'),j.document.write("</body></html>");const P=j.document.getElementById("print-root");P&&(Lm.createRoot(P).render(d.jsx(Xx,{orderNumber:T.id,date:new Date(T.orderDate),contactType:"empleado",contactName:(D==null?void 0:D.name)||"Empleado no encontrado",items:R})),setTimeout(()=>{j.print(),j.close()},500))}},I=[{header:"Trabajador",accessor:"responsibleWorkerId",render:T=>{const R=T.responsibleWorkerId;return R&&o[R]?o[R]:"Trabajador no encontrado"}},{header:"Fecha",accessor:"orderDate",type:"date"},{header:"Totales",accessor:"totalProducts",render:T=>{const R=T.totalProducts||0,D=T.totalItems||0;return`${R} / ${D}`}},{header:"Estado",accessor:"status",type:"tag",tags:[{value:we.PENDIENTE,label:we.PENDIENTE,color:"warning"},{value:we.ENVIADA,label:we.ENVIADA,color:"info"},{value:we.COMPLETADA,label:we.COMPLETADA,color:"success"},{value:we.CANCELADA,label:we.CANCELADA,color:"danger"}]}];return d.jsxs(d.Fragment,{children:[d.jsx(Kx,{open:w,onClose:()=>_(!1),onCreateEmpty:E,onCreateFromCopy:S,onCreateCalculated:C,orderType:"production",workers:u}),d.jsx(gr,{columns:I,title:"rdenes de Produccin",onAddClick:()=>_(!0),backPath:"/production-orders",service:e,type:"production",onPrint:N})]})}function YN(){const{id:t}=rt(),[e]=Bm(),n=Tt(),[r,a]=O.useState(!0),o=Uo("ProductionOrderForm"),[c,u]=O.useState({orderDate:new Date,status:we.PENDIENTE,recipes:[]}),[f,m]=O.useState([]),g=O.useMemo(()=>new vs,[]),v=O.useMemo(()=>new En,[]),y=O.useMemo(()=>new nr,[]);O.useEffect(()=>{(async()=>{var E;try{const S=await v.findAll(),C=e.get("copy");if(C){o.info("Copiando orden existente",{copyNro:C});try{const N=await g.copyOrder(C);u(N),m(S),o.debug("Orden copiada exitosamente",{recipesCount:((E=N.recipes)==null?void 0:E.length)||0})}catch(N){o.error("Error al copiar orden",{error:N}),qe.error("La orden no existe o no se puede copiar"),n("/production-orders");return}return}m(S)}catch(S){o.error("Error al cargar datos iniciales",{error:S}),qe.error("Error al cargar los datos")}finally{a(!1)}})()},[t,g,v,e,o,n]);const w=O.useMemo(()=>e.get("copy")?[{name:"responsibleWorkerId",label:"Empleado Responsable",type:"select",required:!0,readOnly:!0,relatedService:{service:y,labelField:"name"}},{name:"orderDate",label:"Fecha",type:"date",required:!0,readOnly:!1},{name:"recipes",label:"Recetas",type:"array",visible:()=>!0,arrayConfig:{columns:[{header:"Receta",accessor:"recipeId",render:_=>{const E=f.find(S=>S.id===_);return(E==null?void 0:E.name)||"Receta no encontrada"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"recipeId",label:"Receta",type:"select",required:!0,options:f.map(_=>({value:_.id||"",label:_.name}))},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay recetas agregadas",description:'Haga clic en el botn "Agregar" para comenzar a agregar recetas a la orden.'},modalTitles:{add:"Agregar Receta",edit:"Modificar Receta"},addButtonText:"Agregar Receta",editButtonTooltip:"Modificar esta receta",deleteButtonTooltip:"Eliminar esta receta",dialogDescription:"Complete los detalles de la receta para la orden."}}}]:[{name:"responsibleWorkerId",label:"Empleado Responsable",type:"select",required:!0,relatedService:{service:y,labelField:"name"}},{name:"orderDate",label:"Fecha",type:"date",required:!0,readOnly:!1},...t?[{name:"status",label:"Estado",type:"select",required:!0,readOnly:!t,options:Object.values(we).map(_=>({value:_,label:_}))}]:[],{name:"recipes",label:"Recetas",type:"array",visible:()=>!0,arrayConfig:{columns:[{header:"Receta",accessor:"recipeId",render:_=>{const E=f.find(S=>S.id===_);return(E==null?void 0:E.name)||"Receta no encontrada"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"recipeId",label:"Receta",type:"select",required:!0,options:f.map(_=>({value:_.id||"",label:_.name}))},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay recetas agregadas",description:'Haga clic en el botn "Agregar" para comenzar a agregar recetas a la orden.'},modalTitles:{add:"Agregar Receta",edit:"Modificar Receta"},addButtonText:"Agregar Receta",editButtonTooltip:"Modificar esta receta",deleteButtonTooltip:"Eliminar esta receta",dialogDescription:"Complete los detalles de la receta para la orden."}}}],[t,f,v,y,e]);return r?d.jsx("div",{children:"Cargando..."}):d.jsx("div",{className:"space-y-4",children:d.jsx(br,{title:t?"Editar Orden de Produccin":"Nueva Orden de Produccin",fields:w,initialValues:c,service:g,backPath:"/production-orders"})})}function XK(){const{id:t}=rt(),e=new vs,n=new nr,r=new En,[a,o]=O.useState({}),[c,u]=O.useState({});O.useEffect(()=>{(async()=>{const[w,_]=await Promise.all([n.findAll(),r.findAll()]),E=w.reduce((C,N)=>(C[N.id]=N.name,C),{}),S=_.reduce((C,N)=>(C[N.id]=N.name,C),{});o(E),u(S)})()},[]);const f=y=>new Date(y).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),m=y=>y!=null&&y.length?d.jsx("table",{className:"w-full",children:d.jsx("tbody",{children:y.map((w,_)=>d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[d.jsx("td",{className:"p-4 align-middle",children:d.jsx("div",{className:"font-medium",children:c[w.recipeId]||"Receta no encontrada"})}),d.jsxs("td",{className:"p-4 align-middle text-muted-foreground",children:["Cantidad: ",w.quantity]})]},_))})}):"No hay recetas",g=y=>y!=null&&y.length?d.jsx("table",{className:"w-full",children:d.jsx("tbody",{children:y.map((w,_)=>d.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[d.jsx("td",{className:"p-4 align-middle",children:d.jsx("div",{className:"font-medium",children:w.name})}),d.jsxs("td",{className:"p-4 align-middle text-muted-foreground",children:["Valor: ",w.value||"No especificado"]})]},_))})}):"No hay ratios definidos",v=y=>{var w,_;return[{label:"Trabajador Responsable",value:a[y.responsibleWorkerId]||"Trabajador no encontrado"},{label:"Fecha de Produccin",value:f(y.orderDate)},{label:"Estado",value:Hn[y.status]},{label:"Recetas",value:(w=y.recipes)!=null&&w.length?m(y.recipes):"No hay recetas"},{label:"Ratios de Produccin",value:(_=y.ratios)!=null&&_.length?g(y.ratios):"No hay ratios definidos"}]};return t?d.jsx(xr,{title:"Orden de Produccin",fields:v,editPath:`/production-orders/${t}/edit`,backPath:"/production-orders",service:e,id:t}):null}var Do=(t=>(t.SALE_RECIPE="sale_recipe",t.INTERNAL_USE="internal_use",t))(Do||{});function QK(){const t=new En,e=new Jt,[n,r]=O.useState({});O.useEffect(()=>{(async()=>{try{const f=(await e.findAll()).reduce((m,g)=>({...m,[g.id]:g.symbol}),{});r(f)}catch(u){console.error("Error loading units:",u)}})()},[]);const a=c=>{switch(c){case Do.SALE_RECIPE:return"Receta de Venta";case Do.INTERNAL_USE:return"Uso Interno";default:return c}},o=[{header:"Nombre",accessor:"name"},{header:"Tipo",accessor:"recipeType",render:c=>a(c.recipeType)},{header:"Rendimiento",accessor:"yield",render:c=>`${c.yield} ${n[c.yieldUnitId]||""}`},{header:"Materiales",accessor:"materials",render:c=>{var u;return((u=c.materials)==null?void 0:u.length)||0}}];return d.jsx(gr,{columns:o,title:"Recetas",addPath:"/recipes/new",backPath:"/recipes",service:t})}function KN(){const{id:t}=rt(),[e,n]=O.useState({}),[r,a]=O.useState([]),[o,c]=O.useState({}),[u,f]=O.useState(0),m=new En,g=new on,v=new Jt,y=E=>{if(console.log("====== INICIO CLCULO DE COSTO TOTAL ======"),console.log("Materiales recibidos:",E),!E||E.length===0)return console.log("No hay materiales para calcular"),f(0),n(D=>({...D,cost:0})),0;let S=0;for(const D of E){if(console.log(`
Procesando material:`,D),!D.materialId){console.log(" Material sin ID");continue}const j=w(D.materialId);if(console.log("Info del material encontrada:",j),!j){console.log(" No se encontr info del material");continue}if(!D.quantity){console.log(" Material sin cantidad");continue}const P=j.cost*D.quantity;console.log("Clculo:",`${j.cost}  ${D.quantity} = ${P}`),S+=P}console.log(`
Resumen de costos:`),console.log("Costo total de materiales:",S);const C=S*.05;console.log("Costo por merma (5%):",C);const N=S*.1;console.log("Gastos fijos (10%):",N);const I=S+C+N;console.log("COSTO TOTAL FINAL:",I);const T=e.yield||1,R=I/T;return console.log("Rendimiento:",T),console.log("COSTO UNITARIO:",R),console.log(`====== FIN CLCULO DE COSTO TOTAL ======
`),f(I),n(D=>({...D,cost:R,materials:E})),I};O.useEffect(()=>{v.findAll().then(E=>{const S=E.reduce((C,N)=>(C[N.id]=N.name,C),{});c(S)})},[]),O.useEffect(()=>{t&&m.findById(t).then(E=>{E&&(n(E),y(E.materials||[]))})},[t]),O.useEffect(()=>{Promise.all([g.findAll(),m.findAll()]).then(([E,S])=>{const C=E.filter(I=>I.isMaterial).map(I=>{const T=I.materialUnitId&&o[I.materialUnitId]?o[I.materialUnitId]:"";return{id:I.id,name:I.name,materialType:"Producto",displayName:`P - ${I.name}`,unitName:T,cost:I.materialUnitCost||0,originalData:I}}),N=S.filter(I=>I.id!==t).map(I=>{const T=I.yieldUnitId&&o[I.yieldUnitId]?o[I.yieldUnitId]:"";return{id:I.id,name:I.name,materialType:"Receta",displayName:`R - ${I.name}`,unitName:T,cost:I.cost||0,originalData:I}});a([...C,...N]),e.materials&&y(e.materials)})},[t,o]),O.useEffect(()=>{e.materials&&r.length>0&&y(e.materials)},[r,e.materials]);const w=E=>r.find(S=>S.id===E),_=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"recipeType",label:"Tipo",type:"select",required:!0,options:[{value:Do.SALE_RECIPE,label:"Receta de Venta"},{value:Do.INTERNAL_USE,label:"Uso Interno"}]},{name:"yieldUnitId",label:"Unidad de Rendimiento",type:"select",required:!0,relatedService:{service:new Jt,labelField:"name"}},{name:"yield",label:"Rendimiento",type:"number",required:!0,placeholder:"Ej: 1.5",onChange:E=>{if(E===""||E===null||E===void 0)return"";const S=parseFloat(E);return!isNaN(S)&&S>=0?S:""}},{name:"primaryWorkerId",label:"Trabajador Principal",type:"select",required:!0,relatedService:{service:new nr,labelField:"name"}},{name:"notes",label:"Notas",type:"textarea"},{name:"materials",label:"Materiales",type:"array",arrayConfig:{columns:[{header:"Material",accessor:"materialId",render:(E,S)=>{const C=w(E);return C?C.displayName:"N/A"}},{header:"Cantidad",accessor:"quantity",render:(E,S)=>{const C=w(S.materialId);return C&&E?`${E} ${C.unitName}`:E||""}},{header:"Sub Total",accessor:"quantity",render:(E,S)=>{const C=w(S.materialId);return!C||!S.quantity?"":(C.cost*E).toLocaleString("es-UY",{style:"currency",currency:"UYU",currencyDisplay:"symbol",minimumFractionDigits:0,maximumFractionDigits:0})}}],form:{fields:[{name:"materialId",label:"Material",type:"select",required:!0,searchable:!0,options:r.map(E=>({value:E.id,label:`${E.displayName} (${E.cost.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})} por ${E.unitName})`,group:E.materialType==="Producto"?"Productos":"Recetas"})),placeholder:"Buscar material...",isSearchable:!0,isClearable:!0},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 1.5",onChange:E=>{if(E===""||E===null||E===void 0)return"";const S=parseFloat(E);return isNaN(S)||S<0?"":S}}],emptyState:{title:"No hay materiales agregados",description:'Haga clic en el botn "Agregar" para comenzar a agregar materiales a la receta.'},modalTitles:{add:"Agregar Material",edit:"Modificar Material"},addButtonText:"Agregar Material",editButtonTooltip:"Modificar este material",deleteButtonTooltip:"Eliminar este material"}}}];return d.jsx("div",{className:"space-y-4",children:d.jsx(br,{title:t?"Editar Receta":"Nueva Receta",fields:_,initialValues:{...e,materials:e.materials||[]},service:m,backPath:"/recipes",onFieldChange:(E,S)=>{E==="materials"?y(S||[]):E==="yield"&&y(e.materials||[]),n(C=>({...C,[E]:S}))},children:d.jsxs("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Desglose de Costos"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Costo de Materiales:"}),d.jsx("span",{children:(u*.87).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Costo por Merma (5%):"}),d.jsx("span",{children:(u*.05).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Gastos Fijos (10%):"}),d.jsx("span",{children:(u*.1).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Costo Total:"}),d.jsx("span",{children:u.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),d.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[d.jsx("span",{children:"Costo Unitario:"}),d.jsxs("span",{children:[(u/(e.yield||1)).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0}),e.yieldUnitId&&o[e.yieldUnitId]?` X ${o[e.yieldUnitId]}`:""]})]})]})]})})})}function ZK(){const{id:t}=rt(),e=new En,n=new nr,r=new Jt,a=new on,[o,c]=O.useState({}),[u,f]=O.useState({}),[m,g]=O.useState({}),[v,y]=O.useState({});O.useEffect(()=>{(async()=>{const[C,N,I,T]=await Promise.all([n.findAll(),r.findAll(),a.findAll(),e.findAll()]),R=C.reduce((F,B)=>({...F,[B.id]:B.name}),{}),D=N.reduce((F,B)=>({...F,[B.id]:B.name}),{}),j=I.reduce((F,B)=>({...F,[B.id]:B}),{}),P=T.reduce((F,B)=>({...F,[B.id]:B}),{});c(R),f(D),g(j),y(P)})()},[]);const w=S=>{switch(S){case Do.SALE_RECIPE:return"Receta de Venta";case Do.INTERNAL_USE:return"Uso Interno";default:return S}},_=S=>{const C=[{header:"Material",accessor:N=>{let I="Material no encontrado";if(N.materialId){const T=m[N.materialId],R=v[N.materialId];T?I=T.name:R&&(I=`R - ${R.name}`)}return d.jsx("div",{className:"font-medium",children:I})}},{header:"Cantidad",accessor:N=>{let I="Unidad no encontrada";if(N.materialId){const T=m[N.materialId],R=v[N.materialId];T?I=T.materialUnitId?u[T.materialUnitId]:"Unidad no encontrada":R&&(I=u[R.yieldUnitId]||"Unidad no encontrada")}return`${N.quantity} ${I}`}}];return d.jsx(Ao,{data:S||[],columns:C,emptyMessage:"No hay materiales"})},E=S=>[{label:"Nombre",value:S.name},{label:"Tipo",value:w(S.recipeType)},{label:"Unidad de Rendimiento",value:u[S.yieldUnitId]||"Unidad no encontrada"},{label:"Rendimiento",value:S.yield},{label:"Trabajador Principal",value:o[S.primaryWorkerId]||"Trabajador no encontrado"},{label:"Notas",value:S.notes||"-"},{label:"Materiales",value:_(S.materials)}];return t?d.jsx(xr,{title:"Receta",fields:E,editPath:`/recipes/${t}/edit`,backPath:"/recipes",service:e,id:t}):null}var Oo=(t=>(t.ACTIVE="active",t.INACTIVE="inactive",t))(Oo||{}),Sd=(t=>(t.GENERAL="general",t.OTHER="other",t))(Sd||{});function JK(){const t=new on,e=[{header:"SKU",accessor:"sku"},{header:"Nombre",accessor:"name"},{header:"Tipo",accessor:"isMaterial",render:n=>n.isMaterial&&n.isForSale?"Material y Venta":n.isMaterial?"Material":n.isForSale?"Venta":""},{header:"Estado",accessor:"state",type:"tag",tags:[{value:Oo.ACTIVE,label:"Activo",color:"success"},{value:Oo.INACTIVE,label:"Inactivo",color:"secondary"}]}];return d.jsx(gr,{columns:e,title:"Productos",addPath:"/products/new",backPath:"/products",service:t})}function XN(){const{id:t}=rt(),[e,n]=O.useState({}),r=new on,a=new Jt;O.useEffect(()=>{t&&r.findById(t).then(c=>{c&&n(c)})},[t]);const o=[{title:"Informacin General",icon:d.jsx(o4,{className:"h-5 w-5"}),fields:[{name:"name",label:"Nombre",type:"text",required:!0},{name:"sku",label:"SKU",type:"text",required:!0},{name:"imageUrl",label:"URL de Imagen",type:"text"},{name:"state",label:"Estado",type:"select",required:!0,options:[{value:Oo.ACTIVE,label:"Activo"},{value:Oo.INACTIVE,label:"Inactivo"}]},{name:"isForSale",label:"Es para Venta?",type:"boolean",required:!0,placeholder:"Marque si el producto es para venta"},{name:"isMaterial",label:"Es Material?",type:"boolean",required:!0,placeholder:"Marque si el producto es un material"}]},{title:"Informacin de Compra",icon:d.jsx(Hh,{className:"h-5 w-5"}),fields:[{name:"purchasePrice",label:"Precio de Compra",type:"number"},{name:"purchaseUnitId",label:"Unidad de Compra",type:"select",relatedService:{service:a,labelKey:"name",valueKey:"id"}},{name:"primarySupplierId",label:"Proveedor Principal",type:"select",relatedService:{service:new tr,labelKey:"commercialName",valueKey:"id"}}]},{title:"Informacin de Venta",icon:d.jsx(VT,{className:"h-5 w-5"}),fields:[{name:"salePrice",label:"Precio de Venta",type:"number"},{name:"salesUnitId",label:"Unidad de Venta",type:"select",relatedService:{service:a,labelKey:"name",valueKey:"id"}}],visible:c=>c.isForSale===!0},{title:"Informacin de Material",icon:d.jsx(_4,{className:"h-5 w-5"}),fields:[{name:"materialName",label:"Nombre del Material",type:"text"},{name:"materialCode",label:"Cdigo del Material",type:"text"},{name:"materialUnitId",label:"Unidad de Material",type:"select",relatedService:{service:a,labelKey:"name",valueKey:"id"}}],visible:c=>c.isMaterial===!0},{title:"Informacin de Inventario",icon:d.jsx(c4,{className:"h-5 w-5"}),fields:[{name:"sector",label:"Sector",type:"select",options:[{value:Sd.GENERAL,label:"General"},{value:Sd.OTHER,label:"Otro"}]},{name:"sectorOrder",label:"Orden en el Sector",type:"number"},{name:"desiredStock",label:"Stock Deseado",type:"number"}]}];return d.jsx(br,{title:t?"Editar Producto":"Nuevo Producto",sections:o,initialValues:e,service:r,backPath:"/products"})}function eX(){const{id:t}=rt(),e=new on,n=new Jt,r=new tr,[a,o]=O.useState({}),[c,u]=O.useState({});O.useEffect(()=>{(async()=>{const[w,_]=await Promise.all([n.findAll(),r.findAll()]),E=w.reduce((C,N)=>({...C,[N.id]:N.name}),{}),S=_.reduce((C,N)=>({...C,[N.id]:N.commercialName}),{});o(E),u(S)})()},[]);const f=y=>{switch(y){case Oo.ACTIVE:return"Activo";case Oo.INACTIVE:return"Inactivo";default:return y}},m=y=>{switch(y){case Sd.GENERAL:return"General";case Sd.OTHER:return"Otro";default:return y}},g=y=>{const w=[{header:"Cdigo",accessor:_=>_.code},{header:"Nombre",accessor:_=>_.name},{header:"Precio de Venta",accessor:_=>_.salePrice.toLocaleString("es-UY",{style:"currency",currency:"UYU"})}];return d.jsx(Ao,{data:y,columns:w,emptyMessage:"No hay canales de venta"})},v=y=>{var w,_,E;return[{label:"Nombre",value:y.name},{label:"SKU",value:y.sku},{label:"Estado",value:f(y.state)},{label:"Sector",value:y.sector?m(y.sector):"-"},{label:"Orden en Sector",value:y.sectorOrder||"-"},{label:"Stock Deseado",value:y.desiredStock||"-"},{label:"Precio de Venta",value:y.salePrice.toLocaleString("es-UY",{style:"currency",currency:"UYU"})},{label:"Costo Unitario de Venta",value:((w=y.salesUnitCost)==null?void 0:w.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||"-"},{label:"Costo Unitario de Material",value:((_=y.materialUnitCost)==null?void 0:_.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||"-"},{label:"Precio de Compra",value:((E=y.purchasePrice)==null?void 0:E.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||"-"},{label:"Unidad de Venta",value:y.salesUnitId?a[y.salesUnitId]:"-"},{label:"Unidad de Material",value:y.materialUnitId?a[y.materialUnitId]:"-"},{label:"Unidad de Compra",value:y.purchaseUnitId?a[y.purchaseUnitId]:"-"},{label:"Proveedor Principal",value:y.primarySupplierId?c[y.primarySupplierId]:"-"},{label:"Canales de Venta",value:g(y.salesChannels||[])}]};return t?d.jsx(xr,{title:"Producto",fields:v,editPath:`/products/${t}/edit`,backPath:"/products",service:e,id:t}):null}var rc=(t=>(t.PENDING="pending",t.RESOLVED="resolved",t))(rc||{}),rn=(t=>(t.PRODUCTION="production",t.TASK="task",t.INVENTORY="inventory",t))(rn||{});class tX extends vr{constructor(n){super(n,"incidents");$e(this,"modelProperties",["type","description","reportedByWorkerId","status","taskId","productId","recipeId"])}async findByType(n){return this.findByField("type",n)}async findByStatus(n){return this.findByField("status",n)}async findByReportedBy(n){return this.findByField("reportedByWorkerId",n)}}class Qx extends yr{constructor(){super(tX)}async findByType(e){return this.repository.findByType(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByReportedBy(e){return(await this.repository.findAll()).filter(r=>r.reportedByWorkerId===e)}async findByDateRange(e,n){return(await this.repository.findAll()).filter(a=>{const o=new Date(a.createdAt);return o>=e&&o<=n})}async findByTaskId(e){return(await this.repository.findAll()).filter(r=>r.taskId===e)}async findByProductId(e){return(await this.repository.findAll()).filter(r=>r.productId===e)}async findByRecipeId(e){return(await this.repository.findAll()).filter(r=>r.recipeId===e)}}function nX(){const t=new Qx,e=new nr,[n,r]=O.useState({});O.useEffect(()=>{(async()=>{try{const c=await e.findAll(),u={};c.forEach(f=>{u[f.id]=f.name}),r(u)}catch(c){console.error("Error loading worker names:",c)}})()},[]);const a=[{header:"Tipo",accessor:"type",type:"tag",tags:[{value:rn.PRODUCTION,label:"Produccin",color:"primary"},{value:rn.TASK,label:"Tarea",color:"info"},{value:rn.INVENTORY,label:"Inventario",color:"warning"}]},{header:"Descripcin",accessor:"description"},{header:"Reportado Por",accessor:"reportedByWorkerId",render:o=>n[o.reportedByWorkerId]||"Cargando..."},{header:"Estado",accessor:"status",type:"tag",tags:[{value:rc.PENDING,label:"Pendiente",color:"warning"},{value:rc.RESOLVED,label:"Resuelto",color:"success"}]}];return d.jsx(gr,{columns:a,title:"Incidentes",addPath:"/incidents/new",backPath:"/incidents",service:t})}function QN(){const{id:t}=rt(),[e,n]=O.useState({}),[r,a]=O.useState(""),o=new Qx;O.useEffect(()=>{t&&o.findById(t).then(v=>{v&&(n(v),a(v.type))})},[t]);const c=v=>{const y=v.target.value;a(y)},u=[{name:"type",label:"Tipo",type:"select",required:!0,options:[{value:rn.PRODUCTION,label:"Produccin"},{value:rn.TASK,label:"Tarea"},{value:rn.INVENTORY,label:"Inventario"}],onChange:c},{name:"reportedByWorkerId",label:"Reportado Por",type:"select",required:!0,relatedService:{service:new nr,labelField:"name"}},{name:"description",label:"Descripcin",type:"textarea",required:!0},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:rc.PENDING,label:"Pendiente"},{value:rc.RESOLVED,label:"Resuelto"}]}],m=(()=>{switch(r){case rn.PRODUCTION:return{name:"recipeId",label:"Receta",type:"select",required:!0,relatedService:{service:new En,labelField:"name"}};case rn.TASK:return{name:"taskId",label:"Tarea",type:"select",required:!0,relatedService:{service:new Ci,labelField:"name"}};case rn.INVENTORY:return{name:"productId",label:"Producto",type:"select",required:!0,relatedService:{service:new on,labelField:"name"}};default:return null}})(),g=m?[...u,m]:u;return d.jsx(br,{title:t?"Editar Incidente":"Nuevo Incidente",fields:g,initialValues:e,service:o,backPath:"/incidents"})}function rX(){const{id:t}=rt(),e=new Qx,n=new nr,r=new Ci,a=new on,o=new En,[c,u]=O.useState(""),[f,m]=O.useState(""),[g,v]=O.useState(""),[y,w]=O.useState("");O.useEffect(()=>{if(!t)return;(async()=>{const N=await e.findById(t);if(N){if(N.reportedByWorkerId){const I=await n.findById(N.reportedByWorkerId);I&&u(I.name)}switch(N.type){case rn.TASK:if(N.taskId){const I=await r.findById(N.taskId);I&&m(I.name)}break;case rn.INVENTORY:if(N.productId){const I=await a.findById(N.productId);I&&v(I.name)}break;case rn.PRODUCTION:if(N.recipeId){const I=await o.findById(N.recipeId);I&&w(I.name)}break}}})()},[t]);const _=C=>{switch(C){case rn.PRODUCTION:return"Produccin";case rn.TASK:return"Tarea";case rn.INVENTORY:return"Inventario";default:return C}},E=C=>{switch(C.type){case rn.TASK:return{label:"Tarea",value:f||"Cargando..."};case rn.INVENTORY:return{label:"Producto",value:g||"Cargando..."};case rn.PRODUCTION:return{label:"Receta",value:y||"Cargando..."};default:return null}},S=C=>{const N=[{label:"Tipo",value:_(C.type)},{label:"Descripcin",value:C.description},{label:"Reportado Por",value:c||"Cargando..."},{label:"Estado",value:C.status===rc.PENDING?"Pendiente":"Resuelto"}],I=E(C);return I&&N.push(I),N};return t?d.jsx(xr,{title:"Incidente",fields:S,editPath:`/incidents/${t}/edit`,backPath:"/incidents",service:e,id:t}):null}class aX extends vr{constructor(n){super(n,"daily-closures");$e(this,"modelProperties",["date","totalExpenses","totalIncome","totalDifference","observations","accounts","transactions"])}async findByDate(n){return this.findByField("date",n.toISOString())}}class Zx extends yr{constructor(){super(aX)}async findByDate(e){return this.repository.findByDate(e)}async findByDateRange(e,n){return(await this.repository.findAll()).filter(a=>{const o=new Date(a.date);return o>=e&&o<=n})}async findByAccountCode(e){return(await this.repository.findAll()).filter(r=>r.accounts.some(a=>a.accountCode===e))}async findByTransactionCode(e){return(await this.repository.findAll()).filter(r=>{var a;return(a=r.transactions)==null?void 0:a.some(o=>o.transactionCode===e)})}async getTotalsByDate(e){const n=await this.findByDate(e),r={};return n.forEach(a=>{var o;(o=a.transactions)==null||o.forEach(c=>{const u=c.concept;r[u]||(r[u]=0),r[u]+=c.amount})}),r}async getBalanceByDate(e){return(await this.findByDate(e)).reduce((r,a)=>{var o;return r+(((o=a.transactions)==null?void 0:o.reduce((c,u)=>c+u.amount,0))||0)},0)}}function sX(){const t=new Zx,e=[{header:"Fecha",accessor:"date",render:n=>new Date(n.date).toLocaleDateString()},{header:"Total Ingresos",accessor:"totalIncome",render:n=>`$${n.totalIncome.toFixed(2)}`},{header:"Total Gastos",accessor:"totalExpenses",render:n=>`$${n.totalExpenses.toFixed(2)}`},{header:"Diferencia Total",accessor:"totalDifference",render:n=>`$${n.totalDifference.toFixed(2)}`},{header:"Cuentas",accessor:"accounts",render:n=>{var r;return((r=n.accounts)==null?void 0:r.length)||0}},{header:"Transacciones",accessor:"transactions",render:n=>{var r;return((r=n.transactions)==null?void 0:r.length)||0}}];return d.jsx(gr,{columns:e,title:"Cierres Diarios",addPath:"/daily-closures/new",backPath:"/daily-closures",service:t})}function ZN(){const{id:t}=rt(),[e,n]=O.useState({}),r=new Zx;O.useEffect(()=>{t&&r.findById(t).then(o=>{o&&n(o)})},[t]);const a=[{name:"date",label:"Fecha",type:"date",required:!0},{name:"totalExpenses",label:"Total de Gastos",type:"number",required:!0},{name:"totalIncome",label:"Total de Ingresos",type:"number",required:!0},{name:"totalDifference",label:"Diferencia Total",type:"number",required:!0},{name:"observations",label:"Observaciones",type:"textarea"},{name:"accounts",label:"Cuentas",type:"array",arrayConfig:{columns:[{header:"Nombre",accessor:"name"},{header:"Saldo",accessor:"balance",render:o=>(o==null?void 0:o.toLocaleString("es-CL",{style:"currency",currency:"CLP"}))||"N/A"}],form:{fields:[{name:"name",label:"Nombre",type:"text",required:!0,placeholder:"Ej: Caja Principal"},{name:"balance",label:"Saldo",type:"number",required:!0,placeholder:"Ej: 100000"}],emptyState:{title:"No hay cuentas registradas",description:'Haga clic en el botn "Agregar" para comenzar a registrar las cuentas del cierre diario.'},modalTitles:{add:"Agregar Cuenta",edit:"Modificar Cuenta"},addButtonText:"Agregar Cuenta",editButtonTooltip:"Modificar esta cuenta",deleteButtonTooltip:"Eliminar esta cuenta"}}},{name:"transactions",label:"Transacciones",type:"array",arrayConfig:{columns:[{header:"Descripcin",accessor:"description"},{header:"Monto",accessor:"amount",render:o=>(o==null?void 0:o.toLocaleString("es-CL",{style:"currency",currency:"CLP"}))||"N/A"},{header:"Tipo",accessor:"type"}],form:{fields:[{name:"description",label:"Descripcin",type:"text",required:!0,placeholder:"Ej: Venta de pan"},{name:"amount",label:"Monto",type:"number",required:!0,placeholder:"Ej: 5000"},{name:"type",label:"Tipo",type:"select",required:!0,options:[{value:"income",label:"Ingreso"},{value:"expense",label:"Gasto"}]}],emptyState:{title:"No hay transacciones registradas",description:'Haga clic en el botn "Agregar" para comenzar a registrar las transacciones del cierre diario.'},modalTitles:{add:"Agregar Transaccin",edit:"Modificar Transaccin"},addButtonText:"Agregar Transaccin",editButtonTooltip:"Modificar esta transaccin",deleteButtonTooltip:"Eliminar esta transaccin"}}}];return d.jsx(br,{title:t?"Editar Cierre Diario":"Nuevo Cierre Diario",fields:a,initialValues:e,service:r,backPath:"/daily-closures"})}function iX(){const{id:t}=rt(),e=new Zx,n=o=>new Date(o).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),r=o=>o.toLocaleString("es-CL",{style:"currency",currency:"CLP"}),a=o=>{var c,u;return[{label:"Fecha",value:n(o.date)},{label:"Total Ingresos",value:r(o.totalIncome)},{label:"Total Gastos",value:r(o.totalExpenses)},{label:"Diferencia Total",value:r(o.totalDifference)},{label:"Observaciones",value:o.observations||"-"},{label:"Cantidad de Cuentas",value:((c=o.accounts)==null?void 0:c.length)||0},{label:"Cantidad de Transacciones",value:((u=o.transactions)==null?void 0:u.length)||0}]};return t?d.jsx(xr,{title:"Cierre Diario",fields:a,editPath:`/daily-closures/${t}/edit`,backPath:"/daily-closures",service:e,id:t}):null}class oX{constructor(){$e(this,"customerOrderRepo");$e(this,"productionOrderRepo");$e(this,"purchaseOrderRepo");$e(this,"productRepo");$e(this,"customerRepo");$e(this,"supplierRepo");$e(this,"workerRepo");$e(this,"recipeRepo");this.customerOrderRepo=new eO(Za),this.productionOrderRepo=new nO(Za),this.purchaseOrderRepo=new Z2(Za),this.productRepo=new J2(Za),this.customerRepo=new nD(Za),this.supplierRepo=new X2(Za),this.workerRepo=new Q2(Za),this.recipeRepo=new tO(Za)}async getDashboardData(){const[e,n,r,a,o,c,u,f]=await Promise.all([this.productRepo.findAll(),this.customerOrderRepo.findAll(),this.productionOrderRepo.findAll(),this.purchaseOrderRepo.findAll(),this.customerRepo.findAll(),this.supplierRepo.findAll(),this.workerRepo.findAll(),this.recipeRepo.findAll()]);console.log("Debug - Raw Data:",{products:e,recipes:f,customerOrders:n,productionOrders:r,purchaseOrders:a,customers:o,suppliers:c,workers:u});const m=Array.isArray(e)?e.length:0,g=Array.isArray(f)?f.length:0;console.log("Debug - Counts:",{productsCount:m,recipesCount:g,total:m+g});const v={totalProducts:m,totalRecipes:g,totalInventory:m+g,totalOrders:Array.isArray(n)?n.length:0,totalPurchases:Array.isArray(a)?a.length:0,totalProduction:Array.isArray(r)?r.length:0,totalSuppliers:Array.isArray(c)?c.length:0,totalCustomers:Array.isArray(o)?o.length:0,totalWorkers:Array.isArray(u)?u.length:0};console.log("Debug - Stats:",v);const y=new Map;a.forEach(R=>{var D;(D=R.products)==null||D.forEach(j=>{const P=e.find(F=>F.id===j.productId);if(P){const F=y.get(P.id)||{quantity:0,amount:0,count:0};y.set(P.id,{quantity:F.quantity+(Number(j.quantity)||0),amount:F.amount+(Number(j.quantity)||0)*(Number(P.purchasePrice)||0),count:F.count+1})}})});const w=new Map;r.forEach(R=>{var D;R.status===we.COMPLETADA&&((D=R.recipes)==null||D.forEach(j=>{const P=f.find(F=>F.id===j.recipeId);if(P){const F=w.get(P.id)||{quantity:0,amount:0,count:0};w.set(P.id,{quantity:F.quantity+(Number(j.quantity)||0),amount:F.amount+(Number(j.quantity)||0)*(Number(P.cost)||0),count:F.count+1})}}))});const _=new Map;n.forEach(R=>{var D;(D=R.products)==null||D.forEach(j=>{const P=e.find(F=>F.id===j.productId);if(P){const F=_.get(P.id)||{quantity:0,amount:0,count:0};_.set(P.id,{quantity:F.quantity+(Number(j.quantity)||0),amount:F.amount+(Number(j.quantity)||0)*(Number(P.salePrice)||0),count:F.count+1})}})});const E=R=>`$${R.toLocaleString("es-UY")}`,S=R=>R.toFixed(2),C=(R,D)=>`+${(R/D*100).toFixed(0)}%`,N=Array.from(y.entries()).map(([R,D])=>{const j=e.find(P=>P.id===R);return{name:(j==null?void 0:j.name)||"",quantity:S(D.quantity),amount:E(D.amount),trend:C(D.count,a.length),status:we.COMPLETADA}}).sort((R,D)=>Number(D.amount.slice(1).replace(/,/g,""))-Number(R.amount.slice(1).replace(/,/g,""))).slice(0,3),I=Array.from(w.entries()).map(([R,D])=>{const j=f.find(P=>P.id===R);return{name:(j==null?void 0:j.name)||"",quantity:S(D.quantity),amount:E(D.amount),trend:C(D.count,r.length),status:we.COMPLETADA}}).sort((R,D)=>Number(D.amount.slice(1).replace(/,/g,""))-Number(R.amount.slice(1).replace(/,/g,""))).slice(0,3),T=Array.from(_.entries()).map(([R,D])=>{const j=e.find(P=>P.id===R);return{name:(j==null?void 0:j.name)||"",quantity:S(D.quantity),amount:E(D.amount),trend:C(D.count,n.length),status:we.COMPLETADA}}).sort((R,D)=>Number(D.amount.slice(1).replace(/,/g,""))-Number(R.amount.slice(1).replace(/,/g,""))).slice(0,3);return{stats:v,topPurchased:N,topProduced:I,topOrdered:T}}}var lX=Object.defineProperty,cX=(t,e,n)=>e in t?lX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,My=(t,e,n)=>(cX(t,typeof e!="symbol"?e+"":e,n),n);let uX=class{constructor(){My(this,"current",this.detect()),My(this,"handoffState","pending"),My(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},bo=new uX;function Sp(t){return bo.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}function Ep(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Ni(){let t=[],e={addEventListener(n,r,a,o){return n.addEventListener(r,a,o),e.add(()=>n.removeEventListener(r,a,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Ep(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,a){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:a}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=Ni();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let a of t.splice(r,1))a()}},dispose(){for(let n of t.splice(0))n()}};return e}function Jx(){let[t]=x.useState(Ni);return x.useEffect(()=>()=>t.dispose(),[t]),t}let $n=(t,e)=>{bo.isServer?x.useEffect(t,e):x.useLayoutEffect(t,e)};function Bo(t){let e=x.useRef(t);return $n(()=>{e.current=t},[t]),e}let Mt=function(t){let e=Bo(t);return O.useCallback((...n)=>e.current(...n),[e])},dX=x.createContext(void 0);function fX(){return x.useContext(dX)}function Vb(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function wi(t,e,...n){if(t in e){let a=e[t];return typeof a=="function"?a(...n):a}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,wi),r}var Am=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Am||{}),ni=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(ni||{});function Vr(){let t=mX();return x.useCallback(e=>hX({mergeRefs:t,...e}),[t])}function hX({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:a,visible:o=!0,name:c,mergeRefs:u}){u=u??pX;let f=rO(e,t);if(o)return Eh(f,n,r,c,u);let m=a??0;if(m&2){let{static:g=!1,...v}=f;if(g)return Eh(v,n,r,c,u)}if(m&1){let{unmount:g=!0,...v}=f;return wi(g?0:1,{0(){return null},1(){return Eh({...v,hidden:!0,style:{display:"none"}},n,r,c,u)}})}return Eh(f,n,r,c,u)}function Eh(t,e={},n,r,a){let{as:o=n,children:c,refName:u="ref",...f}=Py(t,["unmount","static"]),m=t.ref!==void 0?{[u]:t.ref}:{},g=typeof c=="function"?c(e):c;"className"in f&&f.className&&typeof f.className=="function"&&(f.className=f.className(e)),f["aria-labelledby"]&&f["aria-labelledby"]===f.id&&(f["aria-labelledby"]=void 0);let v={};if(e){let y=!1,w=[];for(let[_,E]of Object.entries(e))typeof E=="boolean"&&(y=!0),E===!0&&w.push(_.replace(/([A-Z])/g,S=>`-${S.toLowerCase()}`));if(y){v["data-headlessui-state"]=w.join(" ");for(let _ of w)v[`data-${_}`]=""}}if(o===x.Fragment&&(Object.keys(so(f)).length>0||Object.keys(so(v)).length>0))if(!x.isValidElement(g)||Array.isArray(g)&&g.length>1){if(Object.keys(so(f)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(so(f)).concat(Object.keys(so(v))).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`))}else{let y=g.props,w=y==null?void 0:y.className,_=typeof w=="function"?(...C)=>Vb(w(...C),f.className):Vb(w,f.className),E=_?{className:_}:{},S=rO(g.props,so(Py(f,["ref"])));for(let C in v)C in S&&delete v[C];return x.cloneElement(g,Object.assign({},S,v,m,{ref:a(gX(g),m.ref)},E))}return x.createElement(o,Object.assign({},Py(f,["ref"]),o!==x.Fragment&&m,o!==x.Fragment&&v),g)}function mX(){let t=x.useRef([]),e=x.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function pX(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function rO(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let a in r)a.startsWith("on")&&typeof r[a]=="function"?(n[a]!=null||(n[a]=[]),n[a].push(r[a])):e[a]=r[a];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[a=>{var o;return(o=a==null?void 0:a.preventDefault)==null?void 0:o.call(a)}]);for(let r in n)Object.assign(e,{[r](a,...o){let c=n[r];for(let u of c){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;u(a,...o)}}});return e}function rr(t){var e;return Object.assign(x.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function so(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Py(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function gX(t){return O.version.split(".")[0]>="19"?t.props.ref:t.ref}let vX="span";var Dm=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Dm||{});function yX(t,e){var n;let{features:r=1,...a}=t,o={ref:e,"aria-hidden":(r&2)===2?!0:(n=a["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Vr()({ourProps:o,theirProps:a,slot:{},defaultTag:vX,name:"Hidden"})}let $b=rr(yX),aO=Symbol();function bX(t,e=!0){return Object.assign(t,{[aO]:e})}function ja(...t){let e=x.useRef(t);x.useEffect(()=>{e.current=t},[t]);let n=Mt(r=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(r):a.current=r)});return t.every(r=>r==null||(r==null?void 0:r[aO]))?void 0:n}let ew=x.createContext(null);ew.displayName="DescriptionContext";function sO(){let t=x.useContext(ew);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,sO),e}return t}function xX(){let[t,e]=x.useState([]);return[t.length>0?t.join(" "):void 0,x.useMemo(()=>function(n){let r=Mt(o=>(e(c=>[...c,o]),()=>e(c=>{let u=c.slice(),f=u.indexOf(o);return f!==-1&&u.splice(f,1),u}))),a=x.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return O.createElement(ew.Provider,{value:a},n.children)},[e])]}let wX="p";function _X(t,e){let n=x.useId(),r=fX(),{id:a=`headlessui-description-${n}`,...o}=t,c=sO(),u=ja(e);$n(()=>c.register(a),[a,c.register]);let f=r||!1,m=x.useMemo(()=>({...c.slot,disabled:f}),[c.slot,f]),g={ref:u,...c.props,id:a};return Vr()({ourProps:g,theirProps:o,slot:m,defaultTag:wX,name:c.name||"Description"})}let SX=rr(_X),EX=Object.assign(SX,{});var iO=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(iO||{});let CX=x.createContext(()=>{});function NX({value:t,children:e}){return O.createElement(CX.Provider,{value:t},e)}let TX=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};function oO(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(a){return r.add(a),()=>r.delete(a)},dispatch(a,...o){let c=e[a].call(n,...o);c&&(n=c,r.forEach(u=>u()))}}}function lO(t){return x.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}let RX=new TX(()=>oO(()=>[],{ADD(t){return this.includes(t)?this:[...this,t]},REMOVE(t){let e=this.indexOf(t);if(e===-1)return this;let n=this.slice();return n.splice(e,1),n}}));function Cc(t,e){let n=RX.get(e),r=x.useId(),a=lO(n);if($n(()=>{if(t)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,t]),!t)return!1;let o=a.indexOf(r),c=a.length;return o===-1&&(o=c,c+=1),o===c-1}let zb=new Map,ed=new Map;function JN(t){var e;let n=(e=ed.get(t))!=null?e:0;return ed.set(t,n+1),n!==0?()=>eT(t):(zb.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>eT(t))}function eT(t){var e;let n=(e=ed.get(t))!=null?e:1;if(n===1?ed.delete(t):ed.set(t,n-1),n!==1)return;let r=zb.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,zb.delete(t))}function IX(t,{allowed:e,disallowed:n}={}){let r=Cc(t,"inert-others");$n(()=>{var a,o;if(!r)return;let c=Ni();for(let f of(a=n==null?void 0:n())!=null?a:[])f&&c.add(JN(f));let u=(o=e==null?void 0:e())!=null?o:[];for(let f of u){if(!f)continue;let m=Sp(f);if(!m)continue;let g=f.parentElement;for(;g&&g!==m.body;){for(let v of g.children)u.some(y=>v.contains(y))||c.add(JN(v));g=g.parentElement}}return c.dispose},[r,e,n])}function AX(t,e,n){let r=Bo(a=>{let o=a.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});x.useEffect(()=>{if(!t)return;let a=e===null?null:e instanceof HTMLElement?e:e.current;if(!a)return;let o=Ni();if(typeof ResizeObserver<"u"){let c=new ResizeObserver(()=>r.current(a));c.observe(a),o.add(()=>c.disconnect())}if(typeof IntersectionObserver<"u"){let c=new IntersectionObserver(()=>r.current(a));c.observe(a),o.add(()=>c.disconnect())}return()=>o.dispose()},[e,r,t])}let Om=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),DX=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Ja=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Ja||{}),Hb=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Hb||{}),OX=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(OX||{});function jX(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Om)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function MX(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(DX)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var cO=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(cO||{});function PX(t,e=0){var n;return t===((n=Sp(t))==null?void 0:n.body)?!1:wi(e,{0(){return t.matches(Om)},1(){let r=t;for(;r!==null;){if(r.matches(Om))return!0;r=r.parentElement}return!1}})}var kX=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(kX||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ls(t){t==null||t.focus({preventScroll:!0})}let LX=["textarea","input"].join(",");function FX(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,LX))!=null?n:!1}function UX(t,e=n=>n){return t.slice().sort((n,r)=>{let a=e(n),o=e(r);if(a===null||o===null)return 0;let c=a.compareDocumentPosition(o);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function td(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:a=[]}={}){let o=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,c=Array.isArray(t)?n?UX(t):t:e&64?MX(t):jX(t);a.length>0&&c.length>1&&(c=c.filter(w=>!a.some(_=>_!=null&&"current"in _?(_==null?void 0:_.current)===w:_===w))),r=r??o.activeElement;let u=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(r))-1;if(e&4)return Math.max(0,c.indexOf(r))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=e&32?{preventScroll:!0}:{},g=0,v=c.length,y;do{if(g>=v||g+v<=0)return 0;let w=f+g;if(e&16)w=(w+v)%v;else{if(w<0)return 3;if(w>=v)return 1}y=c[w],y==null||y.focus(m),g+=u}while(y!==o.activeElement);return e&6&&FX(y)&&y.select(),2}function uO(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function BX(){return/Android/gi.test(window.navigator.userAgent)}function VX(){return uO()||BX()}function Mu(t,e,n,r){let a=Bo(n);x.useEffect(()=>{if(!t)return;function o(c){a.current(c)}return document.addEventListener(e,o,r),()=>document.removeEventListener(e,o,r)},[t,e,r])}function dO(t,e,n,r){let a=Bo(n);x.useEffect(()=>{if(!t)return;function o(c){a.current(c)}return window.addEventListener(e,o,r),()=>window.removeEventListener(e,o,r)},[t,e,r])}const tT=30;function $X(t,e,n){let r=Cc(t,"outside-click"),a=Bo(n),o=x.useCallback(function(f,m){if(f.defaultPrevented)return;let g=m(f);if(g===null||!g.getRootNode().contains(g)||!g.isConnected)return;let v=function y(w){return typeof w=="function"?y(w()):Array.isArray(w)||w instanceof Set?w:[w]}(e);for(let y of v)if(y!==null&&(y.contains(g)||f.composed&&f.composedPath().includes(y)))return;return!PX(g,cO.Loose)&&g.tabIndex!==-1&&f.preventDefault(),a.current(f,g)},[a,e]),c=x.useRef(null);Mu(r,"pointerdown",f=>{var m,g;c.current=((g=(m=f.composedPath)==null?void 0:m.call(f))==null?void 0:g[0])||f.target},!0),Mu(r,"mousedown",f=>{var m,g;c.current=((g=(m=f.composedPath)==null?void 0:m.call(f))==null?void 0:g[0])||f.target},!0),Mu(r,"click",f=>{VX()||c.current&&(o(f,()=>c.current),c.current=null)},!0);let u=x.useRef({x:0,y:0});Mu(r,"touchstart",f=>{u.current.x=f.touches[0].clientX,u.current.y=f.touches[0].clientY},!0),Mu(r,"touchend",f=>{let m={x:f.changedTouches[0].clientX,y:f.changedTouches[0].clientY};if(!(Math.abs(m.x-u.current.x)>=tT||Math.abs(m.y-u.current.y)>=tT))return o(f,()=>f.target instanceof HTMLElement?f.target:null)},!0),dO(r,"blur",f=>o(f,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Yd(...t){return x.useMemo(()=>Sp(...t),[...t])}function fO(t,e,n,r){let a=Bo(n);x.useEffect(()=>{t=t??window;function o(c){a.current(c)}return t.addEventListener(e,o,r),()=>t.removeEventListener(e,o,r)},[t,e,r])}function zX(){let t;return{before({doc:e}){var n;let r=e.documentElement,a=(n=e.defaultView)!=null?n:window;t=Math.max(0,a.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,a=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,t-a);n.style(r,"paddingRight",`${o}px`)}}}function HX(){return uO()?{before({doc:t,d:e,meta:n}){function r(a){return n.containers.flatMap(o=>o()).some(o=>o.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let u=Ni();u.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>u.dispose()))}let o=(a=window.scrollY)!=null?a:window.pageYOffset,c=null;e.addEventListener(t,"click",u=>{if(u.target instanceof HTMLElement)try{let f=u.target.closest("a");if(!f)return;let{hash:m}=new URL(f.href),g=t.querySelector(m);g&&!r(g)&&(c=g)}catch{}},!0),e.addEventListener(t,"touchstart",u=>{if(u.target instanceof HTMLElement)if(r(u.target)){let f=u.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;e.style(f,"overscrollBehavior","contain")}else e.style(u.target,"touchAction","none")}),e.addEventListener(t,"touchmove",u=>{if(u.target instanceof HTMLElement){if(u.target.tagName==="INPUT")return;if(r(u.target)){let f=u.target;for(;f.parentElement&&f.dataset.headlessuiPortal!==""&&!(f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth);)f=f.parentElement;f.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),e.add(()=>{var u;let f=(u=window.scrollY)!=null?u:window.pageYOffset;o!==f&&window.scrollTo(0,o),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})})}}:{}}function qX(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function WX(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let vo=oO(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Ni(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:WX(n)},a=[HX(),zX(),qX()];a.forEach(({before:o})=>o==null?void 0:o(r)),a.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});vo.subscribe(()=>{let t=vo.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",a=n.count!==0;(a&&!r||!a&&r)&&vo.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&vo.dispatch("TEARDOWN",n)}});function GX(t,e,n=()=>({containers:[]})){let r=lO(vo),a=e?r.get(e):void 0,o=a?a.count>0:!1;return $n(()=>{if(!(!e||!t))return vo.dispatch("PUSH",e,n),()=>vo.dispatch("POP",e,n)},[t,e]),o}function YX(t,e,n=()=>[document.body]){let r=Cc(t,"scroll-lock");GX(r,e,a=>{var o;return{containers:[...(o=a.containers)!=null?o:[],n]}})}function KX(t=0){let[e,n]=x.useState(t),r=x.useCallback(f=>n(f),[e]),a=x.useCallback(f=>n(m=>m|f),[e]),o=x.useCallback(f=>(e&f)===f,[e]),c=x.useCallback(f=>n(m=>m&~f),[n]),u=x.useCallback(f=>n(m=>m^f),[n]);return{flags:e,setFlag:r,addFlag:a,hasFlag:o,removeFlag:c,toggleFlag:u}}var XX={},nT,rT;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((nT=process==null?void 0:XX)==null?void 0:nT.NODE_ENV)==="test"&&typeof((rT=Element==null?void 0:Element.prototype)==null?void 0:rT.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var QX=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(QX||{});function ZX(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function JX(t,e,n,r){let[a,o]=x.useState(n),{hasFlag:c,addFlag:u,removeFlag:f}=KX(t&&a?3:0),m=x.useRef(!1),g=x.useRef(!1),v=Jx();return $n(()=>{var y;if(t){if(n&&o(!0),!e){n&&u(3);return}return(y=r==null?void 0:r.start)==null||y.call(r,n),eQ(e,{inFlight:m,prepare(){g.current?g.current=!1:g.current=m.current,m.current=!0,!g.current&&(n?(u(3),f(4)):(u(4),f(2)))},run(){g.current?n?(f(3),u(4)):(f(4),u(3)):n?f(1):u(1)},done(){var w;g.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(m.current=!1,f(7),n||o(!1),(w=r==null?void 0:r.end)==null||w.call(r,n))}})}},[t,n,e,v]),t?[a,{closed:c(1),enter:c(2),leave:c(4),transition:c(2)||c(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function eQ(t,{prepare:e,run:n,done:r,inFlight:a}){let o=Ni();return nQ(t,{prepare:e,inFlight:a}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(tQ(t,r))})}),o.dispose}function tQ(t,e){var n,r;let a=Ni();if(!t)return a.dispose;let o=!1;a.add(()=>{o=!0});let c=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(u=>u instanceof CSSTransition))!=null?r:[];return c.length===0?(e(),a.dispose):(Promise.allSettled(c.map(u=>u.finished)).then(()=>{o||e()}),a.dispose)}function nQ(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function tw(t,e){let n=x.useRef([]),r=Mt(t);x.useEffect(()=>{let a=[...n.current];for(let[o,c]of e.entries())if(n.current[o]!==c){let u=r(e,a);return n.current=e,u}},[r,...e])}let Cp=x.createContext(null);Cp.displayName="OpenClosedContext";var Qr=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Qr||{});function Np(){return x.useContext(Cp)}function rQ({value:t,children:e}){return O.createElement(Cp.Provider,{value:t},e)}function aQ({children:t}){return O.createElement(Cp.Provider,{value:null},t)}function sQ(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let ei=[];sQ(()=>{function t(e){if(!(e.target instanceof HTMLElement)||e.target===document.body||ei[0]===e.target)return;let n=e.target;n=n.closest(Om),ei.unshift(n??e.target),ei=ei.filter(r=>r!=null&&r.isConnected),ei.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function hO(t){let e=Mt(t),n=x.useRef(!1);x.useEffect(()=>(n.current=!1,()=>{n.current=!0,Ep(()=>{n.current&&e()})}),[e])}function iQ(){let t=typeof document>"u";return"useSyncExternalStore"in nd?(e=>e.useSyncExternalStore)(nd)(()=>()=>{},()=>!1,()=>!t):!1}function Kd(){let t=iQ(),[e,n]=x.useState(bo.isHandoffComplete);return e&&bo.isHandoffComplete===!1&&n(!1),x.useEffect(()=>{e!==!0&&n(!0)},[e]),x.useEffect(()=>bo.handoff(),[]),t?!1:e}let mO=x.createContext(!1);function oQ(){return x.useContext(mO)}function aT(t){return O.createElement(mO.Provider,{value:t.force},t.children)}function lQ(t){let e=oQ(),n=x.useContext(gO),r=Yd(t),[a,o]=x.useState(()=>{var c;if(!e&&n!==null)return(c=n.current)!=null?c:null;if(bo.isServer)return null;let u=r==null?void 0:r.getElementById("headlessui-portal-root");if(u)return u;if(r===null)return null;let f=r.createElement("div");return f.setAttribute("id","headlessui-portal-root"),r.body.appendChild(f)});return x.useEffect(()=>{a!==null&&(r!=null&&r.body.contains(a)||r==null||r.body.appendChild(a))},[a,r]),x.useEffect(()=>{e||n!==null&&o(n.current)},[n,o,e]),a}let pO=x.Fragment,cQ=rr(function(t,e){let n=t,r=x.useRef(null),a=ja(bX(v=>{r.current=v}),e),o=Yd(r),c=lQ(r),[u]=x.useState(()=>{var v;return bo.isServer?null:(v=o==null?void 0:o.createElement("div"))!=null?v:null}),f=x.useContext(qb),m=Kd();$n(()=>{!c||!u||c.contains(u)||(u.setAttribute("data-headlessui-portal",""),c.appendChild(u))},[c,u]),$n(()=>{if(u&&f)return f.register(u)},[f,u]),hO(()=>{var v;!c||!u||(u instanceof Node&&c.contains(u)&&c.removeChild(u),c.childNodes.length<=0&&((v=c.parentElement)==null||v.removeChild(c)))});let g=Vr();return m?!c||!u?null:Rd.createPortal(g({ourProps:{ref:a},theirProps:n,slot:{},defaultTag:pO,name:"Portal"}),u):null});function uQ(t,e){let n=ja(e),{enabled:r=!0,...a}=t,o=Vr();return r?O.createElement(cQ,{...a,ref:n}):o({ourProps:{ref:n},theirProps:a,slot:{},defaultTag:pO,name:"Portal"})}let dQ=x.Fragment,gO=x.createContext(null);function fQ(t,e){let{target:n,...r}=t,a={ref:ja(e)},o=Vr();return O.createElement(gO.Provider,{value:n},o({ourProps:a,theirProps:r,defaultTag:dQ,name:"Popover.Group"}))}let qb=x.createContext(null);function hQ(){let t=x.useContext(qb),e=x.useRef([]),n=Mt(o=>(e.current.push(o),t&&t.register(o),()=>r(o))),r=Mt(o=>{let c=e.current.indexOf(o);c!==-1&&e.current.splice(c,1),t&&t.unregister(o)}),a=x.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,x.useMemo(()=>function({children:o}){return O.createElement(qb.Provider,{value:a},o)},[a])]}let mQ=rr(uQ),vO=rr(fQ),pQ=Object.assign(mQ,{Group:vO});function gQ(t,e=typeof document<"u"?document.defaultView:null,n){let r=Cc(t,"escape");fO(e,"keydown",a=>{r&&(a.defaultPrevented||a.key===iO.Escape&&n(a))})}function vQ(){var t;let[e]=x.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=x.useState((t=e==null?void 0:e.matches)!=null?t:!1);return $n(()=>{if(!e)return;function a(o){r(o.matches)}return e.addEventListener("change",a),()=>e.removeEventListener("change",a)},[e]),n}function yQ({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Yd(n),a=Mt(()=>{var o,c;let u=[];for(let f of t)f!==null&&(f instanceof HTMLElement?u.push(f):"current"in f&&f.current instanceof HTMLElement&&u.push(f.current));if(e!=null&&e.current)for(let f of e.current)u.push(f);for(let f of(o=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?o:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(n&&(f.contains(n)||f.contains((c=n==null?void 0:n.getRootNode())==null?void 0:c.host))||u.some(m=>f.contains(m))||u.push(f));return u});return{resolveContainers:a,contains:Mt(o=>a().some(c=>c.contains(o)))}}let yO=x.createContext(null);function sT({children:t,node:e}){let[n,r]=x.useState(null),a=bO(e??n);return O.createElement(yO.Provider,{value:a},t,a===null&&O.createElement($b,{features:Dm.Hidden,ref:o=>{var c,u;if(o){for(let f of(u=(c=Sp(o))==null?void 0:c.querySelectorAll("html > *, body > *"))!=null?u:[])if(f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f!=null&&f.contains(o)){r(f);break}}}}))}function bO(t=null){var e;return(e=x.useContext(yO))!=null?e:t}function nw(){let t=x.useRef(!1);return $n(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var zu=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(zu||{});function bQ(){let t=x.useRef(0);return dO(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function xO(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let xQ="div";var co=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(co||{});function wQ(t,e){let n=x.useRef(null),r=ja(n,e),{initialFocus:a,initialFocusFallback:o,containers:c,features:u=15,...f}=t;Kd()||(u=0);let m=Yd(n);CQ(u,{ownerDocument:m});let g=NQ(u,{ownerDocument:m,container:n,initialFocus:a,initialFocusFallback:o});TQ(u,{ownerDocument:m,container:n,containers:c,previousActiveElement:g});let v=bQ(),y=Mt(N=>{let I=n.current;I&&(T=>T())(()=>{wi(v.current,{[zu.Forwards]:()=>{td(I,Ja.First,{skipElements:[N.relatedTarget,o]})},[zu.Backwards]:()=>{td(I,Ja.Last,{skipElements:[N.relatedTarget,o]})}})})}),w=Cc(!!(u&2),"focus-trap#tab-lock"),_=Jx(),E=x.useRef(!1),S={ref:r,onKeyDown(N){N.key=="Tab"&&(E.current=!0,_.requestAnimationFrame(()=>{E.current=!1}))},onBlur(N){if(!(u&4))return;let I=xO(c);n.current instanceof HTMLElement&&I.add(n.current);let T=N.relatedTarget;T instanceof HTMLElement&&T.dataset.headlessuiFocusGuard!=="true"&&(wO(I,T)||(E.current?td(n.current,wi(v.current,{[zu.Forwards]:()=>Ja.Next,[zu.Backwards]:()=>Ja.Previous})|Ja.WrapAround,{relativeTo:N.target}):N.target instanceof HTMLElement&&ls(N.target)))}},C=Vr();return O.createElement(O.Fragment,null,w&&O.createElement($b,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:Dm.Focusable}),C({ourProps:S,theirProps:f,defaultTag:xQ,name:"FocusTrap"}),w&&O.createElement($b,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:Dm.Focusable}))}let _Q=rr(wQ),SQ=Object.assign(_Q,{features:co});function EQ(t=!0){let e=x.useRef(ei.slice());return tw(([n],[r])=>{r===!0&&n===!1&&Ep(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=ei.slice())},[t,ei,e]),Mt(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function CQ(t,{ownerDocument:e}){let n=!!(t&8),r=EQ(n);tw(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&ls(r())},[n]),hO(()=>{n&&ls(r())})}function NQ(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:a}){let o=x.useRef(null),c=Cc(!!(t&1),"focus-trap#initial-focus"),u=nw();return tw(()=>{if(t===0)return;if(!c){a!=null&&a.current&&ls(a.current);return}let f=n.current;f&&Ep(()=>{if(!u.current)return;let m=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===m){o.current=m;return}}else if(f.contains(m)){o.current=m;return}if(r!=null&&r.current)ls(r.current);else{if(t&16){if(td(f,Ja.First|Ja.AutoFocus)!==Hb.Error)return}else if(td(f,Ja.First)!==Hb.Error)return;if(a!=null&&a.current&&(ls(a.current),(e==null?void 0:e.activeElement)===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=e==null?void 0:e.activeElement})},[a,c,t]),o}function TQ(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:a}){let o=nw(),c=!!(t&4);fO(e==null?void 0:e.defaultView,"focus",u=>{if(!c||!o.current)return;let f=xO(r);n.current instanceof HTMLElement&&f.add(n.current);let m=a.current;if(!m)return;let g=u.target;g&&g instanceof HTMLElement?wO(f,g)?(a.current=g,ls(g)):(u.preventDefault(),u.stopPropagation(),ls(m)):ls(a.current)},!0)}function wO(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function _O(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:EO)!==x.Fragment||O.Children.count(t.children)===1}let Tp=x.createContext(null);Tp.displayName="TransitionContext";var RQ=(t=>(t.Visible="visible",t.Hidden="hidden",t))(RQ||{});function IQ(){let t=x.useContext(Tp);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function AQ(){let t=x.useContext(Rp);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Rp=x.createContext(null);Rp.displayName="NestingContext";function Ip(t){return"children"in t?Ip(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function SO(t,e){let n=Bo(t),r=x.useRef([]),a=nw(),o=Jx(),c=Mt((w,_=ni.Hidden)=>{let E=r.current.findIndex(({el:S})=>S===w);E!==-1&&(wi(_,{[ni.Unmount](){r.current.splice(E,1)},[ni.Hidden](){r.current[E].state="hidden"}}),o.microTask(()=>{var S;!Ip(r)&&a.current&&((S=n.current)==null||S.call(n))}))}),u=Mt(w=>{let _=r.current.find(({el:E})=>E===w);return _?_.state!=="visible"&&(_.state="visible"):r.current.push({el:w,state:"visible"}),()=>c(w,ni.Unmount)}),f=x.useRef([]),m=x.useRef(Promise.resolve()),g=x.useRef({enter:[],leave:[]}),v=Mt((w,_,E)=>{f.current.splice(0),e&&(e.chains.current[_]=e.chains.current[_].filter(([S])=>S!==w)),e==null||e.chains.current[_].push([w,new Promise(S=>{f.current.push(S)})]),e==null||e.chains.current[_].push([w,new Promise(S=>{Promise.all(g.current[_].map(([C,N])=>N)).then(()=>S())})]),_==="enter"?m.current=m.current.then(()=>e==null?void 0:e.wait.current).then(()=>E(_)):E(_)}),y=Mt((w,_,E)=>{Promise.all(g.current[_].splice(0).map(([S,C])=>C)).then(()=>{var S;(S=f.current.shift())==null||S()}).then(()=>E(_))});return x.useMemo(()=>({children:r,register:u,unregister:c,onStart:v,onStop:y,wait:m,chains:g}),[u,c,r,v,y,g,m])}let EO=x.Fragment,CO=Am.RenderStrategy;function DQ(t,e){var n,r;let{transition:a=!0,beforeEnter:o,afterEnter:c,beforeLeave:u,afterLeave:f,enter:m,enterFrom:g,enterTo:v,entered:y,leave:w,leaveFrom:_,leaveTo:E,...S}=t,[C,N]=x.useState(null),I=x.useRef(null),T=_O(t),R=ja(...T?[I,e,N]:e===null?[]:[e]),D=(n=S.unmount)==null||n?ni.Unmount:ni.Hidden,{show:j,appear:P,initial:F}=IQ(),[B,K]=x.useState(j?"visible":"hidden"),re=AQ(),{register:Q,unregister:$}=re;$n(()=>Q(I),[Q,I]),$n(()=>{if(D===ni.Hidden&&I.current){if(j&&B!=="visible"){K("visible");return}return wi(B,{hidden:()=>$(I),visible:()=>Q(I)})}},[B,I,Q,$,j,D]);let q=Kd();$n(()=>{if(T&&q&&B==="visible"&&I.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[I,B,q,T]);let k=F&&!P,Z=P&&j&&F,z=x.useRef(!1),G=SO(()=>{z.current||(K("hidden"),$(I))},re),L=Mt(Ae=>{z.current=!0;let ne=Ae?"enter":"leave";G.onStart(I,ne,de=>{de==="enter"?o==null||o():de==="leave"&&(u==null||u())})}),Y=Mt(Ae=>{let ne=Ae?"enter":"leave";z.current=!1,G.onStop(I,ne,de=>{de==="enter"?c==null||c():de==="leave"&&(f==null||f())}),ne==="leave"&&!Ip(G)&&(K("hidden"),$(I))});x.useEffect(()=>{T&&a||(L(j),Y(j))},[j,T,a]);let ie=!(!a||!T||!q||k),[,le]=JX(ie,C,j,{start:L,end:Y}),ue=so({ref:R,className:((r=Vb(S.className,Z&&m,Z&&g,le.enter&&m,le.enter&&le.closed&&g,le.enter&&!le.closed&&v,le.leave&&w,le.leave&&!le.closed&&_,le.leave&&le.closed&&E,!le.transition&&j&&y))==null?void 0:r.trim())||void 0,...ZX(le)}),_e=0;B==="visible"&&(_e|=Qr.Open),B==="hidden"&&(_e|=Qr.Closed),le.enter&&(_e|=Qr.Opening),le.leave&&(_e|=Qr.Closing);let he=Vr();return O.createElement(Rp.Provider,{value:G},O.createElement(rQ,{value:_e},he({ourProps:ue,theirProps:S,defaultTag:EO,features:CO,visible:B==="visible",name:"Transition.Child"})))}function OQ(t,e){let{show:n,appear:r=!1,unmount:a=!0,...o}=t,c=x.useRef(null),u=_O(t),f=ja(...u?[c,e]:e===null?[]:[e]);Kd();let m=Np();if(n===void 0&&m!==null&&(n=(m&Qr.Open)===Qr.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[g,v]=x.useState(n?"visible":"hidden"),y=SO(()=>{n||v("hidden")}),[w,_]=x.useState(!0),E=x.useRef([n]);$n(()=>{w!==!1&&E.current[E.current.length-1]!==n&&(E.current.push(n),_(!1))},[E,n]);let S=x.useMemo(()=>({show:n,appear:r,initial:w}),[n,r,w]);$n(()=>{n?v("visible"):!Ip(y)&&c.current!==null&&v("hidden")},[n,y]);let C={unmount:a},N=Mt(()=>{var R;w&&_(!1),(R=t.beforeEnter)==null||R.call(t)}),I=Mt(()=>{var R;w&&_(!1),(R=t.beforeLeave)==null||R.call(t)}),T=Vr();return O.createElement(Rp.Provider,{value:y},O.createElement(Tp.Provider,{value:S},T({ourProps:{...C,as:x.Fragment,children:O.createElement(NO,{ref:f,...C,...o,beforeEnter:N,beforeLeave:I})},theirProps:{},defaultTag:x.Fragment,features:CO,visible:g==="visible",name:"Transition"})))}function jQ(t,e){let n=x.useContext(Tp)!==null,r=Np()!==null;return O.createElement(O.Fragment,null,!n&&r?O.createElement(Wb,{ref:e,...t}):O.createElement(NO,{ref:e,...t}))}let Wb=rr(OQ),NO=rr(DQ),rw=rr(jQ),MQ=Object.assign(Wb,{Child:rw,Root:Wb});var PQ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(PQ||{}),kQ=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(kQ||{});let LQ={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},aw=x.createContext(null);aw.displayName="DialogContext";function Ap(t){let e=x.useContext(aw);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ap),n}return e}function FQ(t,e){return wi(e.type,LQ,t,e)}let iT=rr(function(t,e){let n=x.useId(),{id:r=`headlessui-dialog-${n}`,open:a,onClose:o,initialFocus:c,role:u="dialog",autoFocus:f=!0,__demoMode:m=!1,unmount:g=!1,...v}=t,y=x.useRef(!1);u=function(){return u==="dialog"||u==="alertdialog"?u:(y.current||(y.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let w=Np();a===void 0&&w!==null&&(a=(w&Qr.Open)===Qr.Open);let _=x.useRef(null),E=ja(_,e),S=Yd(_),C=a?0:1,[N,I]=x.useReducer(FQ,{titleId:null,descriptionId:null,panelRef:x.createRef()}),T=Mt(()=>o(!1)),R=Mt(Y=>I({type:0,id:Y})),D=Kd()?C===0:!1,[j,P]=hQ(),F={get current(){var Y;return(Y=N.panelRef.current)!=null?Y:_.current}},B=bO(),{resolveContainers:K}=yQ({mainTreeNode:B,portals:j,defaultContainers:[F]}),re=w!==null?(w&Qr.Closing)===Qr.Closing:!1;IX(m||re?!1:D,{allowed:Mt(()=>{var Y,ie;return[(ie=(Y=_.current)==null?void 0:Y.closest("[data-headlessui-portal]"))!=null?ie:null]}),disallowed:Mt(()=>{var Y;return[(Y=B==null?void 0:B.closest("body > *:not(#headlessui-portal-root)"))!=null?Y:null]})}),$X(D,K,Y=>{Y.preventDefault(),T()}),gQ(D,S==null?void 0:S.defaultView,Y=>{Y.preventDefault(),Y.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),T()}),YX(m||re?!1:D,S,K),AX(D,_,T);let[Q,$]=xX(),q=x.useMemo(()=>[{dialogState:C,close:T,setTitleId:R,unmount:g},N],[C,N,T,R,g]),k=x.useMemo(()=>({open:C===0}),[C]),Z={ref:E,id:r,role:u,tabIndex:-1,"aria-modal":m?void 0:C===0?!0:void 0,"aria-labelledby":N.titleId,"aria-describedby":Q,unmount:g},z=!vQ(),G=co.None;D&&!m&&(G|=co.RestoreFocus,G|=co.TabLock,f&&(G|=co.AutoFocus),z&&(G|=co.InitialFocus));let L=Vr();return O.createElement(aQ,null,O.createElement(aT,{force:!0},O.createElement(pQ,null,O.createElement(aw.Provider,{value:q},O.createElement(vO,{target:_},O.createElement(aT,{force:!1},O.createElement($,{slot:k},O.createElement(P,null,O.createElement(SQ,{initialFocus:c,initialFocusFallback:_,containers:K,features:G},O.createElement(NX,{value:T},L({ourProps:Z,theirProps:v,slot:k,defaultTag:UQ,features:BQ,visible:C===0,name:"Dialog"})))))))))))}),UQ="div",BQ=Am.RenderStrategy|Am.Static;function VQ(t,e){let{transition:n=!1,open:r,...a}=t,o=Np(),c=t.hasOwnProperty("open")||o!==null,u=t.hasOwnProperty("onClose");if(!c&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!c)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!a.static?O.createElement(sT,null,O.createElement(MQ,{show:r,transition:n,unmount:a.unmount},O.createElement(iT,{ref:e,...a}))):O.createElement(sT,null,O.createElement(iT,{ref:e,open:r,...a}))}let $Q="div";function zQ(t,e){let n=x.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:a=!1,...o}=t,[{dialogState:c,unmount:u},f]=Ap("Dialog.Panel"),m=ja(e,f.panelRef),g=x.useMemo(()=>({open:c===0}),[c]),v=Mt(S=>{S.stopPropagation()}),y={ref:m,id:r,onClick:v},w=a?rw:x.Fragment,_=a?{unmount:u}:{},E=Vr();return O.createElement(w,{..._},E({ourProps:y,theirProps:o,slot:g,defaultTag:$Q,name:"Dialog.Panel"}))}let HQ="div";function qQ(t,e){let{transition:n=!1,...r}=t,[{dialogState:a,unmount:o}]=Ap("Dialog.Backdrop"),c=x.useMemo(()=>({open:a===0}),[a]),u={ref:e,"aria-hidden":!0},f=n?rw:x.Fragment,m=n?{unmount:o}:{},g=Vr();return O.createElement(f,{...m},g({ourProps:u,theirProps:r,slot:c,defaultTag:HQ,name:"Dialog.Backdrop"}))}let WQ="h2";function GQ(t,e){let n=x.useId(),{id:r=`headlessui-dialog-title-${n}`,...a}=t,[{dialogState:o,setTitleId:c}]=Ap("Dialog.Title"),u=ja(e);x.useEffect(()=>(c(r),()=>c(null)),[r,c]);let f=x.useMemo(()=>({open:o===0}),[o]),m={ref:u,id:r};return Vr()({ourProps:m,theirProps:a,slot:f,defaultTag:WQ,name:"Dialog.Title"})}let YQ=rr(VQ),KQ=rr(zQ);rr(qQ);let XQ=rr(GQ),Hl=Object.assign(YQ,{Panel:KQ,Title:XQ,Description:EX});function QQ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const TO=x.forwardRef(QQ),ZQ={EXENTO:0,MINIMO:10,BASICO:22},JQ=[{value:"EXENTO",label:"IVA Exento"},{value:"MINIMO",label:"IVA Mnimo (10%)"},{value:"BASICO",label:"IVA Bsico (22%)"}],ky="price-calculator-data";function eZ({isOpen:t,onClose:e}){const[n,r]=x.useState({totalAmount:"",units:"1",profitPercentage:"25",ivaType:"EXENTO"});x.useEffect(()=>{const u=localStorage.getItem(ky);u&&r(JSON.parse(u))},[]);const a=nZ(n),o=u=>f=>{const m=typeof f=="string"?f:f.target.value;if(u==="profitPercentage"&&parseFloat(m)>=100){qe.error("El porcentaje de ganancia debe ser menor a 100%");return}const g={...n,[u]:u==="ivaType"?f:m,lastUsed:new Date().toLocaleString()};r(g),localStorage.setItem(ky,JSON.stringify(g))},c=()=>{const u={totalAmount:"",units:"1",profitPercentage:"25",ivaType:"EXENTO",lastUsed:new Date().toLocaleString()};r(u),localStorage.setItem(ky,JSON.stringify(u))};return d.jsxs(Hl,{open:t,onClose:e,className:"relative z-50",children:[d.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),d.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:d.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:d.jsxs(Hl.Panel,{className:"mx-auto max-w-3xl rounded-xl bg-white dark:bg-gray-800 shadow-2xl w-full",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 rounded-t-xl",children:[d.jsx(Hl.Title,{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Calculadora de Precios"}),d.jsx("button",{type:"button",onClick:e,className:"rounded-lg p-1.5 text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600",children:d.jsx(TO,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"max-h-[calc(100vh-12rem)] overflow-y-auto",children:d.jsxs("div",{className:"flex flex-col space-y-4 p-4",children:[d.jsxs("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 dark:from-gray-700 dark:to-gray-800 p-4 rounded-lg border border-primary-200 dark:border-gray-600 shadow-sm",children:[d.jsxs("h3",{className:"text-base font-semibold text-primary-900 dark:text-white mb-4 flex items-center",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 0v12h8V4H6z",clipRule:"evenodd"})}),"Datos de Entrada"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx(pn,{label:"$ Importe Total",type:"number",value:n.totalAmount,onChange:o("totalAmount"),placeholder:"0.00",min:"0",step:"0.01",className:"font-bold"}),d.jsx(pn,{label:"Cantidad",type:"number",value:n.units,onChange:o("units"),placeholder:"1",min:"1",className:"font-bold"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(xi,{label:"IVA",value:n.ivaType,onChange:o("ivaType"),options:JQ,className:"font-bold"}),d.jsx(pn,{label:"% Ganancia",type:"number",value:n.profitPercentage,onChange:o("profitPercentage"),placeholder:"25",min:"0",max:"100",className:"font-bold"})]})]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-600 shadow-sm",children:[d.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2 flex items-center",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-primary-500",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z",clipRule:"evenodd"})}),"Resultados del Clculo"]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[d.jsx(Ch,{label:"Costo Unitario",value:a.unitCost}),d.jsx(Ch,{label:"Ganancia por Unidad",value:a.profitPerUnit}),d.jsx(Ch,{label:"IVA",value:n.ivaType==="EXENTO"?"0.00":a.ivaAmount})]}),d.jsx("div",{className:"w-full",children:n.ivaType==="EXENTO"?d.jsx(Ch,{label:"Precio Final",value:a.priceWithoutIVA,className:"bg-primary-50 dark:bg-primary-900/30 border-2 border-primary-200 dark:border-primary-700"}):d.jsx(tZ,{withoutIVA:a.priceWithoutIVA,withIVA:a.finalPrice})})]})]})]})}),d.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 rounded-b-xl",children:d.jsxs("div",{className:"flex items-center justify-between",children:[n.lastUsed&&d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ltimo uso: ",n.lastUsed]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Se,{variant:"secondary",onClick:c,size:"sm",children:"Limpiar"}),d.jsx(Se,{onClick:e,size:"sm",children:"Cerrar"})]})]})})]})})})]})}function Ch({label:t,value:e,className:n=""}){return d.jsx("div",{className:`bg-white dark:bg-gray-700 rounded-lg p-2 shadow-sm ${n}`,children:d.jsxs("div",{className:"flex flex-col space-y-0.5",children:[d.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:t}),d.jsxs("span",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:["$",e]})]})})}function tZ({withoutIVA:t,withIVA:e}){return d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-2 shadow-sm",children:d.jsxs("div",{className:"flex flex-col space-y-0.5",children:[d.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Precio sin IVA"}),d.jsxs("span",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:["$",t]})]})}),d.jsx("div",{className:"bg-primary-50 dark:bg-primary-900/30 rounded-lg p-2 shadow-sm border-2 border-primary-200 dark:border-primary-700",children:d.jsxs("div",{className:"flex flex-col space-y-0.5",children:[d.jsx("span",{className:"text-xs font-medium text-primary-700 dark:text-primary-300",children:"Precio con IVA"}),d.jsxs("span",{className:"text-xl font-bold text-primary-700 dark:text-primary-300",children:["$",e]})]})})]})}function nZ(t){const e=parseFloat(t.totalAmount)||0,n=parseInt(t.units)||1,r=parseFloat(t.profitPercentage)||0,a=ZQ[t.ivaType]||0,o=e/n,c=o/(1-r/100),u=c-o,f=c*a/100,m=c+f;return{unitCost:o.toFixed(2),profitPerUnit:u.toFixed(2),priceWithoutIVA:c.toFixed(2),ivaAmount:f.toFixed(2),finalPrice:m.toFixed(2)}}const rZ=[{id:"caja-carton",name:"Caja de Cartn",weight:250},{id:"bolsa-plastica",name:"Bolsa Plstica",weight:50},{id:"caja-madera",name:"Caja de Madera",weight:500},{id:"malla",name:"Malla",weight:30}],$h=[{id:"manzana",name:"Manzana",type:"FRUTA",wastagePercentage:5,profitPercentage:25},{id:"banana",name:"Banana",type:"FRUTA",wastagePercentage:8,profitPercentage:25},{id:"tomate",name:"Tomate",type:"VERDURA",wastagePercentage:10,profitPercentage:25},{id:"lechuga",name:"Lechuga",type:"VERDURA",wastagePercentage:15,profitPercentage:25}],Ly="produce-calculator-data",Pu="produce-order-items",aZ=$h.map(t=>({value:t.id,label:t.name,group:t.type==="FRUTA"?"Frutas":"Verduras"})),sZ=rZ.map(t=>({value:t.id,label:t.name}));function iZ({isOpen:t,onClose:e}){const[n,r]=x.useState({productId:"",totalWeight:"",totalCost:"",packageId:"bolsa-plastica",profitPercentage:"25"}),[a,o]=x.useState([]),[c,u]=x.useState(null);x.useEffect(()=>{const R=localStorage.getItem(Ly),D=localStorage.getItem(Pu);R&&r(JSON.parse(R)),D&&o(JSON.parse(D))},[]);const f=oT(n),m=$h.find(R=>R.id===n.productId),g=a.reduce((R,D)=>R+parseFloat(D.results.sellingPrice),0),v=a.reduce((R,D)=>R+parseFloat(D.results.profitAmount),0),y=R=>D=>{const j=typeof D=="string"?D:D.target.value,P={...n,[R]:j,lastUsed:new Date().toLocaleString()};r(P),localStorage.setItem(Ly,JSON.stringify(P))},w=R=>{const D=a.find(j=>j.id===R);D&&(r({productId:D.productId,totalWeight:D.totalWeight,totalCost:D.totalCost,packageId:D.packageId,profitPercentage:D.profitPercentage}),u(R))},_=()=>{N(),u(null)},E=()=>{if(!c||!m||!n.totalWeight||!n.totalCost||!n.profitPercentage)return;const R=a.map(D=>D.id===c?{...D,...n,results:oT(n)}:D);o(R),localStorage.setItem(Pu,JSON.stringify(R)),_()},S=()=>{if(!m||!n.totalWeight||!n.totalCost||!n.profitPercentage)return;const R={id:crypto.randomUUID(),...n,results:f},D=[...a,R];o(D),localStorage.setItem(Pu,JSON.stringify(D)),N()},C=R=>{const D=a.filter(j=>j.id!==R);o(D),localStorage.setItem(Pu,JSON.stringify(D))},N=()=>{const R={productId:"",totalWeight:"",totalCost:"",packageId:"bolsa-plastica",profitPercentage:"25",lastUsed:new Date().toLocaleString()};r(R),localStorage.setItem(Ly,JSON.stringify(R))},I=()=>{o([]),localStorage.removeItem(Pu)},T=()=>{const R=window.open("","_blank");if(!R){qe.error("No se pudo abrir la ventana de impresin");return}const D=a.map(j=>{const P=$h.find(F=>F.id===j.productId);return`
        <div style="page-break-after: always; margin-bottom: 15px;">
          <div style="font-size: 24px; font-weight: bold; margin-bottom: 5px;">
            ${(P==null?void 0:P.name)||"Producto"}
          </div>
          <div style="font-size: 18px; margin-bottom: 5px;">
            SKU: ${(P==null?void 0:P.id)||"N/A"}
          </div>
          <div style="font-size: 28px; font-weight: bold;">
            $${j.results.sellingPrice}
          </div>
        </div>
      `}).join("");R.document.write(`
      <html>
        <head>
          <style>
            @page {
              size: 80mm auto;
              margin: 5mm;
            }
            body {
              font-family: Arial, sans-serif;
              width: 70mm;
              margin: 0 auto;
              padding: 2mm;
            }
            div {
              text-align: center;
            }
          </style>
        </head>
        <body>
          ${D}
        </body>
      </html>
    `),R.document.close(),R.print()};return d.jsxs(Hl,{open:t,onClose:e,className:"relative z-50",children:[d.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),d.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:d.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:d.jsxs(Hl.Panel,{className:"mx-auto max-w-5xl rounded-xl bg-white dark:bg-gray-800 shadow-2xl w-full",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 rounded-t-xl",children:[d.jsx(Hl.Title,{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Calculadora de Productos"}),d.jsx("button",{type:"button",onClick:e,className:"rounded-lg p-1.5 text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600",children:d.jsx(TO,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"max-h-[calc(100vh-12rem)] overflow-y-auto",children:d.jsx("div",{className:"p-3",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[d.jsx("div",{className:"space-y-3",children:d.jsxs("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 dark:from-gray-700 dark:to-gray-800 p-3 rounded-lg border border-primary-200 dark:border-gray-600 shadow-sm",children:[d.jsx("h3",{className:"text-sm font-semibold text-primary-900 dark:text-white mb-3",children:c?"Editar Producto":"Agregar Producto"}),d.jsxs("div",{className:"grid gap-3",children:[d.jsx(xi,{label:"Producto",value:n.productId,onChange:y("productId"),options:aZ,placeholder:"Seleccionar producto",searchPlaceholder:"Buscar producto...",notFoundText:"No se encontraron productos",className:"font-bold text-lg"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsx(pn,{label:"Peso Total (Kg)",type:"number",value:n.totalWeight,onChange:y("totalWeight"),placeholder:"0",min:"0",step:"0.01",className:"font-bold text-lg"}),d.jsx(pn,{label:"Costo Total ($)",type:"number",value:n.totalCost,onChange:y("totalCost"),placeholder:"0.00",min:"0",step:"0.01",className:"font-bold text-lg"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsx(xi,{label:"Tipo de Empaque",value:n.packageId,onChange:y("packageId"),options:sZ,placeholder:"Seleccionar empaque",className:"font-bold text-lg"}),d.jsx(pn,{label:"Ganancia (%)",type:"number",value:n.profitPercentage,onChange:y("profitPercentage"),placeholder:"25",min:"0",max:"100",className:"font-bold text-lg"})]}),d.jsx("div",{className:"flex justify-end space-x-2 pt-2",children:c?d.jsxs(d.Fragment,{children:[d.jsx(Se,{variant:"secondary",onClick:_,size:"sm",children:"Cancelar"}),d.jsx(Se,{onClick:E,size:"sm",disabled:!m||!n.totalWeight||!n.totalCost||!n.profitPercentage,children:"Guardar"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Se,{variant:"secondary",onClick:N,size:"sm",children:"Limpiar"}),d.jsxs(Se,{onClick:S,size:"sm",disabled:!m||!n.totalWeight||!n.totalCost||!n.profitPercentage,children:[d.jsx(Ea,{className:"h-4 w-4 mr-1"}),"Agregar"]})]})})]})]})}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm flex flex-col",children:[d.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:d.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Productos"})}),d.jsx("div",{className:"p-3 space-y-2",children:a.length===0?d.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400 py-4",children:"No hay productos"}):a.map(R=>{const D=$h.find(j=>j.id===R.productId);return d.jsxs("div",{className:"flex flex-col p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-sm",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:D==null?void 0:D.name}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>w(R.id),className:"text-blue-500 hover:text-blue-700 dark:text-blue-400",disabled:c!==null,children:d.jsx(Id,{className:"h-4 w-4"})}),d.jsx("button",{onClick:()=>C(R.id),className:"text-red-500 hover:text-red-700 dark:text-red-400",disabled:c===R.id,children:d.jsx(Ad,{className:"h-4 w-4"})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-500 dark:text-gray-400",children:[d.jsxs("span",{children:["Peso Unitario: ",R.results.unitWeight," Kg"]}),d.jsxs("span",{children:["Precio Unitario: $",R.results.unitPrice]}),d.jsxs("span",{children:["Ganancia: $",R.results.profitAmount]}),d.jsxs("span",{children:["Precio Venta: $",R.results.sellingPrice]})]})]},R.id)})}),d.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:d.jsxs("div",{className:"space-y-2 mb-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Ganancia Total:"}),d.jsxs("span",{className:"text-base font-semibold text-green-600 dark:text-green-400",children:["$",v.toFixed(2)]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Importe Total:"}),d.jsxs("span",{className:"text-lg font-bold text-primary-600 dark:text-primary-400",children:["$",g.toFixed(2)]})]})]})})]})]})})}),d.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 rounded-b-xl",children:d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx(Se,{variant:"secondary",onClick:I,size:"sm",disabled:a.length===0,children:"Limpiar"}),d.jsxs(Se,{variant:"secondary",onClick:T,size:"sm",disabled:a.length===0,children:[d.jsx(BT,{className:"h-4 w-4 mr-1"}),"Imprimir Etiquetas"]}),d.jsx(Se,{onClick:e,size:"sm",children:"Cerrar"})]})})]})})})]})}function oT(t){const e=parseFloat(t.totalWeight)||0,n=parseFloat(t.totalCost)||0,r=parseFloat(t.profitPercentage)||0,a=n/e,o=n*r/100,c=n+o;return{unitWeight:e.toFixed(2),unitPrice:a.toFixed(2),profitAmount:o.toFixed(2),sellingPrice:c.toFixed(2)}}const oZ=()=>{const[t,e]=x.useState(null),[n,r]=x.useState(!0),[a,o]=x.useState(null),[c,u]=x.useState(!1),[f,m]=x.useState(!1);x.useEffect(()=>{(async()=>{try{r(!0),o(null);const _=await new oX().getDashboardData();console.log("Debug - Dashboard Data:",_),e(_)}catch(w){console.error("Error loading dashboard data:",w),o("Error al cargar los datos del dashboard")}finally{r(!1)}})()},[]);const g=[{name:"Calculadora de Precios",icon:Vm,color:"bg-blue-500/10 text-blue-500",onClick:()=>u(!0)},{name:"Frutas y Verduras",icon:jL,color:"bg-green-500/10 text-green-500",onClick:()=>m(!0)},{name:"Actualizacin de Precios",icon:R4,color:"bg-purple-500/10 text-purple-500"}],v=[{title:"Inventarios",icon:qy,color:"bg-blue-500/10 text-blue-500",total:((t==null?void 0:t.stats.totalProducts)||0)+((t==null?void 0:t.stats.totalRecipes)||0),items:[{name:"Productos",value:(t==null?void 0:t.stats.totalProducts)||0,icon:qy,color:"text-blue-500"},{name:"Recetas",value:(t==null?void 0:t.stats.totalRecipes)||0,icon:ku,color:"text-blue-500"}]},{title:"rdenes",icon:Kv,color:"bg-green-500/10 text-green-500",total:((t==null?void 0:t.stats.totalOrders)||0)+((t==null?void 0:t.stats.totalPurchases)||0)+((t==null?void 0:t.stats.totalProduction)||0),items:[{name:"Pedidos",value:(t==null?void 0:t.stats.totalOrders)||0,icon:Kv,color:"text-green-500"},{name:"Compras",value:(t==null?void 0:t.stats.totalPurchases)||0,icon:Hh,color:"text-green-500"},{name:"Produccin",value:(t==null?void 0:t.stats.totalProduction)||0,icon:ku,color:"text-green-500"}]},{title:"Contactos",icon:Gy,color:"bg-purple-500/10 text-purple-500",total:((t==null?void 0:t.stats.totalCustomers)||0)+((t==null?void 0:t.stats.totalSuppliers)||0)+((t==null?void 0:t.stats.totalWorkers)||0),items:[{name:"Clientes",value:(t==null?void 0:t.stats.totalCustomers)||0,icon:Gy,color:"text-purple-500"},{name:"Proveedores",value:(t==null?void 0:t.stats.totalSuppliers)||0,icon:$4,color:"text-purple-500"},{name:"Colaboradores",value:(t==null?void 0:t.stats.totalWorkers)||0,icon:s4,color:"text-purple-500"}]}];return n?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):a?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4",children:[d.jsx("p",{className:"text-destructive text-lg",children:a}),d.jsx(Se,{onClick:()=>window.location.reload(),variant:"secondary",children:"Reintentar"})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:g.map(y=>d.jsx(Ut,{className:"backdrop-blur-sm bg-card/80 hover:bg-card/90 transition-colors cursor-pointer",onClick:y.onClick,children:d.jsx(Ht,{className:"p-6",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:`p-3 rounded-lg ${y.color}`,children:d.jsx(y.icon,{className:"h-6 w-6"})}),d.jsx("h3",{className:"text-lg font-semibold",children:y.name})]})})},y.name))}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:v.map(y=>d.jsxs(Ut,{className:"backdrop-blur-sm bg-card/80",children:[d.jsx(Fn,{className:"pb-0 pt-4 px-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:`p-1.5 rounded-lg ${y.color}`,children:d.jsx(y.icon,{className:"h-4 w-4"})}),d.jsx(Un,{className:"text-lg font-semibold",children:y.title})]}),d.jsx("p",{className:"text-xl font-bold",children:y.total})]})}),d.jsx(Ht,{className:"pt-2 pb-3 px-4",children:d.jsx("div",{className:"space-y-1",children:y.items.map(w=>d.jsxs("div",{className:"flex items-center justify-between py-1",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(w.icon,{className:`h-3.5 w-3.5 ${w.color}`}),d.jsx("span",{className:"text-sm",children:w.name})]}),d.jsx("span",{className:"text-sm font-medium",children:w.value})]},w.name))})})]},y.title))}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs(Ut,{className:"backdrop-blur-sm bg-card/80",children:[d.jsx(Fn,{children:d.jsx(Un,{className:"text-xl font-semibold",children:"Ms Comprados"})}),d.jsx(Ht,{className:"space-y-4",children:t==null?void 0:t.topPurchased.map((y,w)=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:`p-2 rounded-lg ${y.status===we.PENDIENTE?"bg-yellow-500/10":y.status===we.ENVIADA?"bg-blue-500/10":y.status===we.COMPLETADA?"bg-green-500/10":"bg-red-500/10"}`,children:d.jsx(Hh,{className:`h-5 w-5 ${y.status===we.PENDIENTE?"text-yellow-500":y.status===we.ENVIADA?"text-blue-500":y.status===we.COMPLETADA?"text-green-500":"text-red-500"}`})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:y.name}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Estado: ",y.status===we.PENDIENTE?"Pendiente":y.status===we.ENVIADA?"Enviada":y.status===we.COMPLETADA?"Completada":"Cancelada"]}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Cantidad: ",y.quantity]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium",children:y.amount}),d.jsx("p",{className:"text-xs text-green-500",children:y.trend})]})]},w))})]}),d.jsxs(Ut,{className:"backdrop-blur-sm bg-card/80",children:[d.jsx(Fn,{children:d.jsx(Un,{className:"text-xl font-semibold",children:"Ms Producidos"})}),d.jsx(Ht,{className:"space-y-4",children:t!=null&&t.topProduced&&t.topProduced.length>0?t.topProduced.map((y,w)=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:d.jsx(ku,{className:"h-5 w-5 text-green-500"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:y.name}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Cantidad: ",y.quantity]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium",children:y.amount}),d.jsx("p",{className:"text-xs text-green-500",children:y.trend})]})]},w)):d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[d.jsx(ku,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay datos de produccin disponibles"})]})})]}),d.jsxs(Ut,{className:"backdrop-blur-sm bg-card/80",children:[d.jsx(Fn,{children:d.jsx(Un,{className:"text-xl font-semibold",children:"Ms Pedidos"})}),d.jsx(Ht,{className:"space-y-4",children:t==null?void 0:t.topOrdered.map((y,w)=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:`p-2 rounded-lg ${y.status===we.PENDIENTE?"bg-yellow-500/10":y.status===we.ENVIADA?"bg-blue-500/10":y.status===we.COMPLETADA?"bg-green-500/10":"bg-red-500/10"}`,children:d.jsx(Kv,{className:`h-5 w-5 ${y.status===we.PENDIENTE?"text-yellow-500":y.status===we.ENVIADA?"text-blue-500":y.status===we.COMPLETADA?"text-green-500":"text-red-500"}`})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:y.name}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Estado: ",y.status===we.PENDIENTE?"Pendiente":y.status===we.ENVIADA?"Enviada":y.status===we.COMPLETADA?"Completada":"Cancelada"]}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Cantidad: ",y.quantity]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium",children:y.amount}),d.jsx("p",{className:"text-xs text-green-500",children:y.trend})]})]},w))})]})]}),d.jsx(eZ,{isOpen:c,onClose:()=>u(!1)}),d.jsx(iZ,{isOpen:f,onClose:()=>m(!1)})]})},lZ=d.jsxs(d.Fragment,{children:[d.jsx(ye,{path:"dashboard",element:d.jsx(oZ,{})}),d.jsx(ye,{path:"customers",element:d.jsx(X7,{})}),d.jsx(ye,{path:"customers/new",element:d.jsx(BN,{})}),d.jsx(ye,{path:"customers/:id",element:d.jsx(DK,{})}),d.jsx(ye,{path:"customers/:id/edit",element:d.jsx(BN,{})}),d.jsx(ye,{path:"suppliers",element:d.jsx(OK,{})}),d.jsx(ye,{path:"suppliers/new",element:d.jsx(VN,{})}),d.jsx(ye,{path:"suppliers/:id",element:d.jsx(jK,{})}),d.jsx(ye,{path:"suppliers/:id/edit",element:d.jsx(VN,{})}),d.jsx(ye,{path:"workers",element:d.jsx(PK,{})}),d.jsx(ye,{path:"workers/new",element:d.jsx($N,{})}),d.jsx(ye,{path:"workers/:id",element:d.jsx(kK,{})}),d.jsx(ye,{path:"workers/:id/edit",element:d.jsx($N,{})}),d.jsx(ye,{path:"roles",element:d.jsx(LK,{})}),d.jsx(ye,{path:"roles/new",element:d.jsx(zN,{})}),d.jsx(ye,{path:"roles/:id",element:d.jsx(FK,{})}),d.jsx(ye,{path:"roles/:id/edit",element:d.jsx(zN,{})}),d.jsx(ye,{path:"units",element:d.jsx(BK,{})}),d.jsx(ye,{path:"units/new",element:d.jsx(HN,{})}),d.jsx(ye,{path:"units/:id",element:d.jsx(VK,{})}),d.jsx(ye,{path:"units/:id/edit",element:d.jsx(HN,{})}),d.jsx(ye,{path:"parameters",element:d.jsx(zK,{})}),d.jsx(ye,{path:"parameters/new",element:d.jsx(qN,{})}),d.jsx(ye,{path:"parameters/:id",element:d.jsx(HK,{})}),d.jsx(ye,{path:"parameters/:id/edit",element:d.jsx(qN,{})}),d.jsx(ye,{path:"purchase-orders",element:d.jsx(qK,{})}),d.jsx(ye,{path:"purchase-orders/new",element:d.jsx(WN,{})}),d.jsx(ye,{path:"purchase-orders/:id",element:d.jsx(WK,{})}),d.jsx(ye,{path:"purchase-orders/:id/edit",element:d.jsx(WN,{})}),d.jsx(ye,{path:"customer-orders",element:d.jsx(GK,{})}),d.jsx(ye,{path:"customer-orders/new",element:d.jsx(GN,{})}),d.jsx(ye,{path:"customer-orders/:id",element:d.jsx(YK,{})}),d.jsx(ye,{path:"customer-orders/:id/edit",element:d.jsx(GN,{})}),d.jsx(ye,{path:"production-orders",element:d.jsx(KK,{})}),d.jsx(ye,{path:"production-orders/new",element:d.jsx(YN,{})}),d.jsx(ye,{path:"production-orders/:id",element:d.jsx(XK,{})}),d.jsx(ye,{path:"production-orders/:id/edit",element:d.jsx(YN,{})}),d.jsx(ye,{path:"recipes",element:d.jsx(QK,{})}),d.jsx(ye,{path:"recipes/new",element:d.jsx(KN,{})}),d.jsx(ye,{path:"recipes/:id",element:d.jsx(ZK,{})}),d.jsx(ye,{path:"recipes/:id/edit",element:d.jsx(KN,{})}),d.jsx(ye,{path:"products",element:d.jsx(JK,{})}),d.jsx(ye,{path:"products/new",element:d.jsx(XN,{})}),d.jsx(ye,{path:"products/:id",element:d.jsx(eX,{})}),d.jsx(ye,{path:"products/:id/edit",element:d.jsx(XN,{})}),d.jsx(ye,{path:"incidents",element:d.jsx(nX,{})}),d.jsx(ye,{path:"incidents/new",element:d.jsx(QN,{})}),d.jsx(ye,{path:"incidents/:id",element:d.jsx(rX,{})}),d.jsx(ye,{path:"incidents/:id/edit",element:d.jsx(QN,{})}),d.jsx(ye,{path:"daily-closures",element:d.jsx(sX,{})}),d.jsx(ye,{path:"daily-closures/new",element:d.jsx(ZN,{})}),d.jsx(ye,{path:"daily-closures/:id",element:d.jsx(iX,{})}),d.jsx(ye,{path:"daily-closures/:id/edit",element:d.jsx(ZN,{})})]});var RO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},lT=O.createContext&&O.createContext(RO),cZ=["attr","size","title"];function uZ(t,e){if(t==null)return{};var n=dZ(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jm(){return jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jm.apply(this,arguments)}function cT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cT(Object(n),!0).forEach(function(r){fZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fZ(t,e,n){return e=hZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hZ(t){var e=mZ(t,"string");return typeof e=="symbol"?e:e+""}function mZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IO(t){return t&&t.map((e,n)=>O.createElement(e.tag,Mm({key:n},e.attr),IO(e.child)))}function Xd(t){return e=>O.createElement(pZ,jm({attr:Mm({},t.attr)},e),IO(t.child))}function pZ(t){var e=n=>{var{attr:r,size:a,title:o}=t,c=uZ(t,cZ),u=a||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),O.createElement("svg",jm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:f,style:Mm(Mm({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&O.createElement("title",null,o),t.children)};return lT!==void 0?O.createElement(lT.Consumer,null,n=>e(n)):e(RO)}function gZ(t){return Xd({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function io(t){return Xd({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function Fy(t){return Xd({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function oo(t){return Xd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M475.115 163.781L336 252.309v-68.28c0-18.916-20.931-30.399-36.885-20.248L160 252.309V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h464c13.255 0 24-10.745 24-24V184.029c0-18.917-20.931-30.399-36.885-20.248z"},child:[]}]})(t)}function lo(t){return Xd({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}const Gb=()=>{const t=Tt(),[e,n]=O.useState({purchases:0,customerOrders:0,production:0}),[r,a]=O.useState(!0);O.useEffect(()=>{o()},[]);const o=async()=>{try{const u=new Ia,f=new vs,m=new gs,[g,v,y]=await Promise.all([u.findByStatus(we.PENDIENTE),f.findByStatus(we.PENDIENTE),m.findByStatus(we.PENDIENTE)]);n({purchases:y.length,customerOrders:g.length,production:v.length})}catch(u){console.error("Error loading order counts:",u)}finally{a(!1)}},c=[{title:"Compras",icon:lo,path:"/mobile/purchases",description:"Gestin de rdenes de compra",count:e.purchases,status:"Pendientes"},{title:"Pedidos",icon:io,path:"/mobile/orders",description:"Gestin de pedidos de clientes",count:e.customerOrders,status:"Pendientes"},{title:"Produccin",icon:oo,path:"/mobile/production",description:"Control de rdenes de produccin",count:e.production,status:"En Progreso"}];return r?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"p-4 space-y-4",children:d.jsx("div",{className:"grid grid-cols-1 gap-4",children:c.map((u,f)=>d.jsxs(Ut,{className:"hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>t(u.path),children:[d.jsxs(Fn,{className:"flex flex-row items-center space-y-0 pb-2",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[d.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary/10",children:O.createElement(u.icon,{className:"w-5 h-5 text-primary"})}),d.jsx(Un,{className:"text-xl",children:u.title})]}),u.count>0&&d.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10",children:d.jsx("span",{className:"text-sm font-medium text-primary",children:u.count})})]}),d.jsx(Ht,{children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:u.description}),u.count>0&&d.jsxs("p",{className:"text-sm font-medium text-primary",children:[u.count," ",u.status]})]})})]},f))})})};class vZ{constructor(e){$e(this,"order");$e(this,"type");$e(this,"products");$e(this,"recipes");$e(this,"outputFormat");$e(this,"units");$e(this,"customerName");this.order=e.order,this.type=e.type,this.products=e.products,this.recipes=e.recipes,this.outputFormat=e.outputFormat||"whatsapp",this.units=e.units,this.customerName=e.customerName}wrap(e,n=!1){return this.outputFormat==="print"&&n?`<div style="font-size: 14px;"><b>${e}</b></div>`:e}formatDate(e){try{const n=e instanceof Date?e:new Date(e);return Zt(n,"dd/MM/yyyy",{locale:us})}catch(n){return console.error("Error formatting date:",n),"Fecha no disponible"}}getUnitName(e){if(!e||!this.units)return"Unidad";const n=this.units.find(r=>r.id===e);return(n==null?void 0:n.name)||"Unidad"}formatWhatsAppHeader(e,n){return`${e} #${n}
Fecha: ${this.formatDate(this.order.orderDate)}
--------------------------------`}formatPrintHeader(e,n){return`<div style="font-size: 14px;"><b>${e} #${n}</b></div><br>Fecha: ${this.formatDate(this.order.orderDate)}<br><div style="border-bottom: 1px solid black; margin: 2px 0;"></div>`}getHeader(){const e=this.order.id.slice(-4).toUpperCase();let n="";switch(this.type){case"customer":n="PEDIDO";break;case"production":n="PRODUCCIN";break;case"purchase":n="COMPRA";break}return this.outputFormat==="print"?this.formatPrintHeader(n,e):this.formatWhatsAppHeader(n,e)}formatWhatsAppItem(e,n,r){const o=`${e.toString().padStart(2," ")} ${r} `,c=" ".repeat(o.length);if(n.length>35){const u=n.split(" "),f=[];let m="";return u.forEach(g=>{(m+" "+g).length<=35?m+=(m?" ":"")+g:(m&&f.push(m),m=g)}),m&&f.push(m),o+f.join(`
`+c)}return`${o}${n}`}formatPrintItem(e,n,r){const a=e.toString().padStart(2," "),o=n.split(" "),c=[];let u="";return o.forEach(f=>{(u+" "+f).length<=35?u+=(u?" ":"")+f:(u&&c.push(u),u=f)}),u&&c.push(u),`<tr>
      <td style="text-align: right; white-space: nowrap; padding: 0;"><b>${a}</b></td>
      <td style="white-space: nowrap; padding: 0 4px;"><b>${r}</b></td>
      <td style="text-align: left; padding: 0;"><b>${c.join("<br>")}</b></td>
    </tr>`}formatItem(e,n,r){return this.outputFormat==="print"?this.formatPrintItem(e,n,r):this.formatWhatsAppItem(e,n,r)}formatWhatsAppItems(e){return e.length>0?`
`+e.join(`
`):""}formatPrintItems(e){return e.length===0?"":'<br><table style="border-collapse: collapse; width: 100%;"><tbody>'+e.join("")+"</tbody></table>"}getItems(){return this.type==="customer"?this.order.items.map(n=>{var o,c;let r="",a="Unidad";if(n.typeItem==="product"){const u=(o=this.products)==null?void 0:o.find(f=>f.id===n.itemId);a=this.getUnitName(u==null?void 0:u.salesUnitId),r=(u==null?void 0:u.name)||"Producto no encontrado"}else if(n.typeItem==="recipe"){const u=(c=this.recipes)==null?void 0:c.find(f=>f.id===n.itemId);a=this.getUnitName(u==null?void 0:u.yieldUnitId),r=(u==null?void 0:u.name)||"Receta no encontrada"}return`${n.quantity} ${a} - ${r}`}).join(this.outputFormat==="print"?"<br>":`
`):""}formatWhatsAppTotal(e){return e?`

`+e:""}formatPrintTotal(e){return e?"<br><br>"+e:""}getTotal(){var a,o,c,u,f,m;let e=0,n="und",r="";if(this.type==="customer"){const g=this.order,v=g.items.map(y=>{var E,S;let w="",_="Unidad";if(y.typeItem==="product"){const C=(E=this.products)==null?void 0:E.find(N=>N.id===y.itemId);_=this.getUnitName(C==null?void 0:C.salesUnitId),w=(C==null?void 0:C.name)||"Producto no encontrado"}else if(y.typeItem==="recipe"){const C=(S=this.recipes)==null?void 0:S.find(N=>N.id===y.itemId);_=this.getUnitName(C==null?void 0:C.yieldUnitId),w=(C==null?void 0:C.name)||"Receta no encontrada"}return{quantity:y.quantity,unit:_,description:w}});if(v.length>0){const y=v[0];r=`Total Items: ${g.totalItems} ${y.unit}`}}else if(this.type==="production"){const g=this.order;e=((a=g.recipes)==null?void 0:a.reduce((y,w)=>y+w.quantity,0))||0;const v=(o=g.recipes)==null?void 0:o[0];if(v){const y=(c=this.recipes)==null?void 0:c.find(w=>w.id===v.recipeId);n=this.getUnitName(y==null?void 0:y.yieldUnitId)}e>0&&(r=`Total Items: ${e} ${n}`)}else if(this.type==="purchase"){const g=this.order;e=((u=g.products)==null?void 0:u.reduce((y,w)=>y+w.quantity,0))||0;const v=(f=g.products)==null?void 0:f[0];if(v){const y=(m=this.products)==null?void 0:m.find(w=>w.id===v.productId);n=this.getUnitName(y==null?void 0:y.purchaseUnitId)}e>0&&(r=`Total Productos: ${e} ${n}`)}return this.outputFormat==="print"?this.formatPrintTotal(r):this.formatWhatsAppTotal(r)}toString(){const e=Zt(new Date(this.order.orderDate),"dd/MM/yyyy",{locale:us}),n=this.getItems(),r=this.getTotal();let a="";this.type==="customer"&&(a=`Pedido de Cliente #${this.order.id}
`,a+=`Cliente: ${this.customerName||"No especificado"}
`);const o=`
Fecha: ${e}
${n}
${r}
`;return a+o}}const sw=({onView:t,onEdit:e,onDelete:n,order:r,type:a,customerName:o,customerPhone:c,workerName:u,workerPhone:f,supplierName:m,supplierPhone:g,products:v,recipes:y})=>{const w=()=>{let _="";switch(a){case"customer":_=c||"";break;case"production":_=f||"";break;case"purchase":_=g||"";break}const E=new vZ({order:r,type:a,customerName:o,workerName:u,supplierName:m,products:v,recipes:y}).toString();let S=_.replace(/\D/g,"");S&&(S.startsWith("0")&&(S=S.slice(1)),S.startsWith("598")||(S="598"+S));const C=S?`https://api.whatsapp.com/send?phone=${S}&text=${encodeURIComponent(E)}`:`https://api.whatsapp.com/send?text=${encodeURIComponent(E)}`;window.open(C,"_blank")};return d.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4",children:[d.jsxs(Se,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px]",onClick:t,children:[d.jsx(FT,{className:"h-8 w-8"}),d.jsx("span",{className:"text-base",children:"Ver"})]}),d.jsxs(Se,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px] bg-orange-500 hover:bg-orange-600 text-white border-orange-500",onClick:e,children:[d.jsx(Id,{className:"h-8 w-8"}),d.jsx("span",{className:"text-base",children:"Editar"})]}),d.jsxs(Se,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px] bg-green-500 hover:bg-green-600 text-white border-green-500",onClick:w,children:[d.jsx(b4,{className:"h-8 w-8"}),d.jsx("span",{className:"text-base",children:"WhatsApp"})]}),d.jsxs(Se,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px] bg-red-500 hover:bg-red-600 text-white border-red-500",onClick:n,children:[d.jsx(Ad,{className:"h-8 w-8"}),d.jsx("span",{className:"text-base",children:"Eliminar"})]})]})};function iw({open:t,onClose:e,onCreateEmpty:n,onCreateFromCopy:r,onCreateCalculated:a,orderType:o,suppliers:c=[],customers:u=[],workers:f=[]}){const[m,g]=O.useState(null),[v,y]=O.useState(""),[w,_]=O.useState(""),E=()=>{switch(m){case"empty":n();break;case"copy":v&&r(v);break;case"calculated":w&&a(w);break}S()},S=()=>{g(null),y(""),_(""),e()},C=()=>{switch(o){case"customer":return{label:"Cliente",placeholder:"Seleccione un cliente",options:u.map(T=>({value:T.id,label:T.name}))};case"purchase":return{label:"Proveedor",placeholder:"Seleccione un proveedor",options:c.map(T=>({value:T.id,label:T.commercialName}))};case"production":return{label:"Trabajador",placeholder:"Seleccione un trabajador",options:f.map(T=>({value:T.id,label:T.name}))}}},N=new Intl.DateTimeFormat("es",{day:"numeric",month:"long",year:"numeric"}).format(new Date),I=C();return d.jsx(bc,{open:t,onOpenChange:S,children:d.jsxs(ko,{className:"sm:max-w-[425px] p-0",children:[d.jsxs(Lo,{className:"p-4 pb-0",children:[d.jsx(Fo,{children:"Orden: Nueva"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:N})]}),d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsxs("button",{className:`aspect-square rounded-lg transition-colors flex flex-col items-center justify-center gap-2 ${m==="empty"?"bg-blue-600 text-white":"bg-blue-100 hover:bg-blue-200 text-blue-700"}`,onClick:()=>{m==="empty"?g(null):(g("empty"),n())},children:[d.jsx(kT,{className:"h-8 w-8"}),d.jsx("span",{className:"font-medium",children:"Vaca"})]}),d.jsxs("button",{className:`aspect-square rounded-lg transition-colors flex flex-col items-center justify-center gap-2 ${m==="copy"?"bg-orange-600 text-white":"bg-orange-100 hover:bg-orange-200 text-orange-700"}`,onClick:()=>g(m==="copy"?null:"copy"),children:[d.jsx(LT,{className:"h-8 w-8"}),d.jsx("span",{className:"font-medium",children:"Copiada"})]}),d.jsxs("button",{className:`aspect-square rounded-lg transition-colors flex flex-col items-center justify-center gap-2 ${m==="calculated"?"bg-red-600 text-white":"bg-red-100 hover:bg-red-200 text-red-700"}`,onClick:()=>g(m==="calculated"?null:"calculated"),children:[d.jsx(Vm,{className:"h-8 w-8"}),d.jsx("span",{className:"font-medium",children:"Calculada"})]})]}),m==="copy"&&d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Nmero de Orden"}),d.jsx(pn,{placeholder:"Ingrese el nmero de la orden a copiar",value:v,onChange:T=>y(T.target.value)})]}),d.jsx(Se,{variant:"primary",className:"w-full",onClick:E,disabled:!v,children:"Copiar Orden"})]}),m==="calculated"&&d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:I.label}),d.jsx(xi,{value:w,onChange:T=>_(T),options:I.options,placeholder:I.placeholder})]}),d.jsx(Se,{variant:"primary",className:"w-full",onClick:E,disabled:!w,children:"Crear Orden Calculada"})]})]})]})})}const yZ=()=>{const[t,e]=O.useState([]),[n,r]=O.useState([]),[a,o]=O.useState([]),[c,u]=O.useState(!0),[f,m]=O.useState(!1),g=Tt(),v=new gs;O.useEffect(()=>{y()},[]);const y=async()=>{try{const[T,R,D]=await Promise.all([v.findAll(),new tr().findAll(),new on().findAll()]),j=T.sort((P,F)=>new Date(F.orderDate).getTime()-new Date(P.orderDate).getTime());e(j),r(R),o(D)}catch(T){console.error("Error loading data:",T)}finally{u(!1)}},w=T=>{try{if(!T)return"Fecha no disponible";let R;if(T instanceof Date)R=T;else if(typeof T=="string")R=_i(T);else if(typeof T=="object"&&"seconds"in T)R=new Date(T.seconds*1e3);else throw new Error("Invalid date format");return isNaN(R.getTime())?"Fecha invlida":Zt(R,"PPP",{locale:us})}catch(R){return console.error("Error formatting date:",R),"Fecha no disponible"}},_=T=>{if(!T)return"";const R=T.slice(0,3),D=T.slice(-2);return`${R}${D}`.toUpperCase()},E=T=>{const R=n.find(D=>D.id===T);return(R==null?void 0:R.commercialName)||"No asignado"},S=(T,R)=>{const D=document.querySelector('[role="dialog"]');if(D){const j=D.querySelector('button[data-state="open"]');j&&j instanceof HTMLButtonElement&&j.click()}switch(T){case"view":g(`/mobile/purchases/${R.id}/view`);break;case"edit":g(`/mobile/purchases/${R.id}/edit`);break;case"delete":g(`/mobile/purchases/${R.id}/delete`);break}},C=()=>{g("/mobile/purchases/new")},N=T=>{g(`/mobile/purchases/new?copy=${T}`)},I=T=>{g(`/mobile/purchases/new?calculate=${T}`)};return c?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(Se,{className:"w-full flex items-center gap-2",onClick:()=>m(!0),children:[d.jsx(Ea,{className:"h-4 w-4"}),"Nueva Orden de Compra"]}),d.jsx(iw,{open:f,onClose:()=>m(!1),onCreateEmpty:C,onCreateFromCopy:N,onCreateCalculated:I,orderType:"purchase",suppliers:n}),d.jsxs("div",{className:"space-y-4",children:[t.map(T=>{var R,D;return d.jsxs(bc,{children:[d.jsx(xx,{asChild:!0,children:d.jsx(Ut,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:d.jsx(Ht,{className:"p-4",children:d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"font-medium",children:["Compra #",_(T.id)]}),d.jsx("span",{className:"text-sm text-muted-foreground",children:w(T.orderDate)})]}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ec(T.status)}`,children:Hn[T.status]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Proveedor:"}),d.jsx("span",{className:"font-medium",children:E(T.supplierId)})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Productos:"}),d.jsx("span",{className:"font-medium",children:((R=T.products)==null?void 0:R.length)||0})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Total:"}),d.jsx("span",{className:"font-medium",children:T.totalItems||0})]})]})]})})})}),d.jsxs(ko,{className:"sm:max-w-[425px]",children:[d.jsx(Lo,{children:d.jsx(Fo,{children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("span",{children:["Compra #",_(T.id)]}),d.jsx("span",{className:"text-sm font-normal text-gray-500",children:w(T.orderDate)})]})})}),d.jsx(sw,{onView:()=>S("view",T),onEdit:()=>S("edit",T),onDelete:()=>S("delete",T),onShare:()=>{},order:T,type:"purchase",supplierName:E(T.supplierId),supplierPhone:(D=n.find(j=>j.id===T.supplierId))==null?void 0:D.phone,products:a})]})]},T.id)}),t.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay rdenes de compra"})})]})]})})},bZ=()=>{const{id:t}=rt(),[e,n]=O.useState(null),[r,a]=O.useState([]),[o,c]=O.useState([]),[u,f]=O.useState(!0);O.useEffect(()=>{(async()=>{if(t)try{const[w,_,E]=await Promise.all([new gs().findById(t),new tr().findAll(),new on().findAll()]);n(w),a(_),c(E)}catch(w){console.error("Error loading data:",w)}finally{f(!1)}})()},[t]);const m=y=>{try{if(!y)return"Fecha no disponible";let w;if(y instanceof Date)w=y;else if(typeof y=="string")w=_i(y);else if(typeof y=="object"&&"seconds"in y)w=new Date(y.seconds*1e3);else throw new Error("Invalid date format");return isNaN(w.getTime())?"Fecha invlida":Zt(w,"PPP",{locale:us})}catch(w){return console.error("Error formatting date:",w),"Fecha no disponible"}},g=y=>{const w=r.find(_=>_.id===y);return(w==null?void 0:w.commercialName)||"No asignado"},v=y=>{const w=o.find(_=>_.id===y);return(w==null?void 0:w.name)||"Producto no encontrado"};return u?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):e?d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(Ut,{children:[d.jsx(Fn,{children:d.jsx(Un,{children:"Informacin General"})}),d.jsxs(Ht,{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-muted-foreground",children:"Estado"}),d.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${Ec(e.status)}`,children:Hn[e.status]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Fecha de Compra"}),d.jsx("span",{children:m(e.orderDate)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Proveedor"}),d.jsx("span",{children:g(e.supplierId)})]})]})]}),e.products&&e.products.length>0&&d.jsxs(Ut,{children:[d.jsx(Fn,{children:d.jsx(Un,{children:"Productos"})}),d.jsx(Ht,{children:d.jsx("div",{className:"space-y-4",children:e.products.map((y,w)=>d.jsx("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"font-medium",children:v(y.productId)}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Cantidad: ",y.quantity]})]})},w))})})]})]}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Orden no encontrada"})})};var ow="Collapsible",[xZ,See]=bs(ow),[wZ,lw]=xZ(ow),AO=x.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:o,onOpenChange:c,...u}=t,[f=!1,m]=yc({prop:r,defaultProp:a,onChange:c});return d.jsx(wZ,{scope:n,disabled:o,contentId:ci(),open:f,onOpenToggle:x.useCallback(()=>m(g=>!g),[m]),children:d.jsx(wt.div,{"data-state":uw(f),"data-disabled":o?"":void 0,...u,ref:e})})});AO.displayName=ow;var DO="CollapsibleTrigger",OO=x.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,a=lw(DO,n);return d.jsx(wt.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":uw(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:e,onClick:Be(t.onClick,a.onOpenToggle)})});OO.displayName=DO;var cw="CollapsibleContent",jO=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,a=lw(cw,t.__scopeCollapsible);return d.jsx(aa,{present:n||a.open,children:({present:o})=>d.jsx(_Z,{...r,ref:e,present:o})})});jO.displayName=cw;var _Z=x.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:a,...o}=t,c=lw(cw,n),[u,f]=x.useState(r),m=x.useRef(null),g=Wt(e,m),v=x.useRef(0),y=v.current,w=x.useRef(0),_=w.current,E=c.open||u,S=x.useRef(E),C=x.useRef(void 0);return x.useEffect(()=>{const N=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(N)},[]),gi(()=>{const N=m.current;if(N){C.current=C.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const I=N.getBoundingClientRect();v.current=I.height,w.current=I.width,S.current||(N.style.transitionDuration=C.current.transitionDuration,N.style.animationName=C.current.animationName),f(r)}},[c.open,r]),d.jsx(wt.div,{"data-state":uw(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!E,...o,ref:g,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...t.style},children:E&&a})});function uw(t){return t?"open":"closed"}var SZ=AO;const dw=SZ,fw=OO,hw=jO,MO=({value:t,unit:e,onQuantityChange:n,onClick:r})=>{const[a,o]=O.useState(!1),c=O.useRef(null);return O.useEffect(()=>{a&&c.current&&c.current.focus()},[a]),a?d.jsxs("div",{className:"flex items-center bg-transparent",children:[d.jsx(pn,{ref:c,type:"number",min:"1",className:"h-10 w-20 text-left pl-0 border-0 text-lg font-bold text-blue-600 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0",defaultValue:"",onBlur:u=>{const f=Number(u.target.value);f>0&&n(f),o(!1)},onKeyDown:u=>{u.key==="Enter"&&u.target.blur(),u.key==="Escape"&&o(!1)},onClick:u=>u.stopPropagation()}),d.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(e==null?void 0:e.name)||(e==null?void 0:e.symbol)})]}):d.jsxs("button",{type:"button",className:"flex items-center gap-2 text-left",onClick:u=>{u.stopPropagation(),o(!0),r==null||r(u)},children:[d.jsx("span",{className:"text-lg font-bold text-blue-600",children:t}),d.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(e==null?void 0:e.name)||(e==null?void 0:e.symbol)})]})},uT=()=>{var $,q;const{id:t}=rt(),e=Tt(),[n,r]=O.useState(!0),[a,o]=O.useState(!1),[c,u]=O.useState(!t),[f,m]=O.useState([]),[g,v]=O.useState([]),[y,w]=O.useState([]),[_,E]=O.useState(""),[S,C]=O.useState(1),[N,I]=O.useState([]),[T,R]=O.useState(""),[D,j]=O.useState({orderDate:new Date,status:we.PENDIENTE,supplierId:"",products:[]}),P=O.useCallback(k=>{if(!D.supplierId){I([]);return}const Z=g.filter(z=>z.primarySupplierId===D.supplierId&&z.name.toLowerCase().includes(k.toLowerCase())).sort((z,G)=>z.name.localeCompare(G.name));I(Z)},[g,D.supplierId]);O.useEffect(()=>{P(T)},[P,T,D.supplierId]),O.useEffect(()=>{F()},[t]);const F=async()=>{try{const[k,Z,z]=await Promise.all([new tr().findAll(),new on().findAll(),new Jt().findAll()]);if(m(k.map(G=>({id:G.id,commercialName:G.commercialName}))),v(Z),w(z),t){const L=await new gs().findById(t);if(L){const Y=L.orderDate instanceof Date?L.orderDate:new Date(L.orderDate);j({...L,orderDate:isNaN(Y.getTime())?new Date:Y})}}}catch(k){console.error("Error loading data:",k),qe.error("Error al cargar los datos")}finally{r(!1)}},B=()=>{var Z;if(!_)return;if(S<=0){qe.error("La cantidad debe ser mayor a 0");return}const k=(Z=D.products)==null?void 0:Z.findIndex(z=>z.productId===_);if(k!==void 0&&k>=0){const z=[...D.products||[]];z[k].quantity+=S,j(G=>({...G,products:z}))}else j(z=>({...z,products:[...z.products||[],{productId:_,quantity:S}]}));E(""),C(1)},K=k=>{j(Z=>{var z;return{...Z,products:(z=Z.products)==null?void 0:z.filter((G,L)=>L!==k)}})},re=async k=>{var Z;if(k.preventDefault(),!D.supplierId){qe.error("Debe seleccionar un proveedor");return}if(!((Z=D.products)!=null&&Z.length)){qe.error("Debe agregar al menos un producto");return}o(!0);try{const z=new gs,G={...D,orderDate:D.orderDate||new Date};t?(await z.update(t,G),qe.success("Orden actualizada correctamente")):(await z.create(G),qe.success("Orden creada correctamente")),e("/mobile/purchases")}catch(z){console.error("Error saving order:",z),qe.error("Error al guardar la orden")}finally{o(!1)}},Q=()=>{try{if(!D.orderDate)return Zt(new Date,"yyyy-MM-dd");const k=D.orderDate instanceof Date?D.orderDate:new Date(D.orderDate);return isNaN(k.getTime())?Zt(new Date,"yyyy-MM-dd"):Zt(k,"yyyy-MM-dd")}catch(k){return console.error("Error formatting date:",k),Zt(new Date,"yyyy-MM-dd")}};return n?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("form",{onSubmit:re,className:"p-4 space-y-4 max-w-lg mx-auto",children:[d.jsx(dw,{open:c,onOpenChange:u,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>u(!c),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-sm font-medium",children:"Informacin General"}),!c&&d.jsx("span",{className:"text-xs text-gray-500",children:D.supplierId?($=f.find(k=>k.id===D.supplierId))==null?void 0:$.commercialName:"Sin asignar"})]}),d.jsx(fw,{asChild:!0,children:d.jsx(Se,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:c?d.jsx(f0,{className:"h-4 w-4"}):d.jsx(d0,{className:"h-4 w-4"})})})]}),d.jsx(hw,{children:d.jsxs("div",{className:"p-4 space-y-4 border-t",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Pr,{htmlFor:"orderDate",className:"text-sm text-gray-600",children:"Fecha de Orden"}),d.jsx(Wd,{value:Q(),onChange:k=>{if(!k)return;const Z=new Date(k);j(z=>({...z,orderDate:Z}))},className:"w-full"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Pr,{htmlFor:"supplierId",className:"text-sm text-gray-600",children:"Proveedor"}),d.jsxs("select",{id:"supplierId",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:D.supplierId,onChange:k=>j(Z=>({...Z,supplierId:k.target.value})),children:[d.jsx("option",{value:"",children:"Seleccionar proveedor"}),f.map(k=>d.jsx("option",{value:k.id,children:k.commercialName},k.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Pr,{htmlFor:"status",className:"text-sm text-gray-600",children:"Estado"}),d.jsx("select",{id:"status",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:D.status,onChange:k=>j(Z=>({...Z,status:k.target.value})),disabled:!t,children:t?Object.values(we).map(k=>d.jsx("option",{value:k,children:Hn[k]},k)):d.jsx("option",{value:we.PENDIENTE,children:Hn[we.PENDIENTE]})})]})]})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm border px-4 py-2",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex items-center gap-4",children:d.jsxs("span",{className:"text-sm text-gray-500",children:[((q=D.products)==null?void 0:q.length)||0," productos  ",(D.products||[]).reduce((k,Z)=>k+Z.quantity,0)," items"]})}),d.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(D.products||[]).reduce((k,Z)=>{const z=g.find(G=>G.id===Z.productId);return k+((z==null?void 0:z.purchasePrice)||0)*Z.quantity},0).toFixed(2)]})]})}),d.jsx("div",{className:"space-y-4",children:D.supplierId?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative",children:[d.jsx(pn,{type:"text",placeholder:"Buscar productos...",className:"w-full pl-9",value:T,onChange:k=>R(k.target.value)}),d.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.3-4.3"})]})]}),d.jsx("div",{className:"grid grid-cols-1 gap-2",children:N.map(k=>{var z;const Z=(z=D.products)==null?void 0:z.find(G=>G.productId===k.id);return d.jsx("div",{className:`w-full bg-white rounded-lg border shadow-sm cursor-pointer transition-all relative ${Z?"border-primary ring-1 ring-primary":"hover:bg-gray-50/50"}`,onClick:G=>{G.target.tagName},onDoubleClick:()=>{var G;Z?K(((G=D.products)==null?void 0:G.findIndex(L=>L.productId===k.id))||0):(E(k.id),C(1),B())},children:d.jsxs("div",{className:"p-4",children:[d.jsx("span",{className:"absolute top-0 right-0 w-6 h-6 flex items-center justify-center text-xs font-medium text-white rounded-bl-lg bg-purple-500",children:"P"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Sc,{checked:Z!==void 0,onCheckedChange:G=>{var L;G?(E(k.id),C(1),B()):K(((L=D.products)==null?void 0:L.findIndex(Y=>Y.productId===k.id))||0)},className:"h-5 w-5"}),d.jsx("div",{className:"flex-1",children:d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:"font-medium text-base",children:k.name})})})]}),Z&&d.jsx("div",{className:"mt-3",children:d.jsxs("div",{className:"ml-8 space-y-2",children:[d.jsx(MO,{value:Z.quantity,unit:y.find(G=>G.id===k.purchaseUnitId),onQuantityChange:G=>{const L=[...D.products||[]],Y=L.findIndex(ie=>ie.productId===k.id);Y>=0&&(L[Y].quantity=G,j(ie=>({...ie,products:L})))}}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Costo unitario:"}),d.jsxs("span",{className:"font-medium",children:["$",(k.purchasePrice||0).toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Total:"}),d.jsxs("span",{className:"font-semibold text-blue-600",children:["$",((k.purchasePrice||0)*Z.quantity).toFixed(2)]})]})]})})]})},k.id)})}),N.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay productos disponibles para este proveedor"})})]}):d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"Seleccione un proveedor para ver los productos disponibles"})})}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:d.jsxs("div",{className:"flex flex-col gap-2 max-w-lg mx-auto",children:[d.jsx(Se,{type:"submit",disabled:a,className:"h-11",children:a?"Guardando...":t?"Guardar Cambios":"Crear Orden"}),d.jsx(Se,{type:"button",variant:"secondary",onClick:()=>e(-1),disabled:a,className:"h-11",children:"Cancelar"})]})})]})})},EZ=()=>{const{id:t}=rt(),e=Tt(),n=async()=>{if(t)try{await new gs().delete(t),e("/mobile/purchases")}catch(a){console.error("Error deleting order:",a)}},r=()=>{e(-1)};return d.jsx("div",{className:"p-4",children:d.jsx(Ut,{children:d.jsx(Ht,{className:"pt-6",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-center",children:"Est seguro que desea eliminar esta orden de compra?"}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx(Se,{variant:"destructive",onClick:n,className:"w-full",children:"Eliminar"}),d.jsx(Se,{variant:"outline",onClick:r,className:"w-full",children:"Cancelar"})]})]})})})})},CZ=()=>{const[t,e]=O.useState([]),[n,r]=O.useState([]),[a,o]=O.useState([]),[c,u]=O.useState([]),[f,m]=O.useState([]),[g,v]=O.useState(!0),[y,w]=O.useState(!1),_=Tt(),E=new Ia;O.useEffect(()=>{S()},[]);const S=async()=>{try{const[P,F,B,K,re]=await Promise.all([E.findAll(),new xs().findAll(),new on().findAll(),new En().findAll(),new tr().findAll()]),Q=P.sort(($,q)=>{const k=new Date($.orderDate).getTime();return new Date(q.orderDate).getTime()-k});e(Q),r(F),o(B),u(K),m(re)}catch(P){console.error("Error loading data:",P)}finally{v(!1)}},C=P=>{try{if(!P)return"Fecha no disponible";let F;if(P instanceof Date)F=P;else if(typeof P=="string")F=_i(P);else if(typeof P=="object"&&"seconds"in P)F=new Date(P.seconds*1e3);else throw new Error("Invalid date format");return isNaN(F.getTime())?"Fecha invlida":Zt(F,"PPP",{locale:us})}catch(F){return console.error("Error formatting date:",F),"Fecha no disponible"}},N=P=>{if(!P)return"";const F=P.slice(0,3),B=P.slice(-2);return`${F}${B}`.toUpperCase()},I=P=>{const F=n.find(B=>B.id===P);return(F==null?void 0:F.name)||"No asignado"},T=(P,F)=>{const B=document.querySelector('[role="dialog"]');if(B){const K=B.querySelector('button[data-state="open"]');K&&K instanceof HTMLButtonElement&&K.click()}switch(P){case"view":_(`/mobile/orders/${F.id}/view`);break;case"edit":_(`/mobile/orders/${F.id}/edit`);break;case"delete":_(`/mobile/orders/${F.id}/delete`);break}},R=()=>{_("/mobile/orders/new")},D=P=>{_(`/mobile/orders/new?copy=${P}`)},j=P=>{_(`/mobile/orders/new?calculate=${P}`)};return g?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(Se,{className:"w-full flex items-center gap-2",onClick:()=>w(!0),children:[d.jsx(Ea,{className:"h-4 w-4"}),"Nuevo Pedido"]}),d.jsx(iw,{open:y,onClose:()=>w(!1),onCreateEmpty:R,onCreateFromCopy:D,onCreateCalculated:j,orderType:"customer",customers:n}),d.jsxs("div",{className:"space-y-4",children:[t.map(P=>{var F;return d.jsxs(bc,{children:[d.jsx(xx,{asChild:!0,children:d.jsx(Ut,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:d.jsx(Ht,{className:"p-4",children:d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"font-medium",children:["Pedido #",N(P.id)]}),d.jsx("span",{className:"text-sm text-muted-foreground",children:C(P.orderDate)})]}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ec(P.status)}`,children:Hn[P.status]})]}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Cliente: ",I(P.customerId)]})]})})})}),d.jsxs(ko,{className:"sm:max-w-[425px]",children:[d.jsx(Lo,{children:d.jsx(Fo,{children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("span",{children:["Pedido #",N(P.id)]}),d.jsx("span",{className:"text-sm font-normal text-gray-500",children:C(P.orderDate)})]})})}),d.jsx(sw,{onView:()=>T("view",P),onEdit:()=>T("edit",P),onDelete:()=>T("delete",P),onShare:()=>{},order:P,type:"customer",customerName:I(P.customerId),customerPhone:(F=n.find(B=>B.id===P.customerId))==null?void 0:F.phone,products:a,recipes:c})]})]},P.id)}),t.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay pedidos"})})]})]})})},NZ=()=>{const{id:t}=rt(),[e,n]=O.useState(null),[r,a]=O.useState([]),[o,c]=O.useState([]),[u,f]=O.useState([]),[m,g]=O.useState(!0);O.useEffect(()=>{(async()=>{if(t)try{const[S,C,N,I]=await Promise.all([new Ia().findById(t),new xs().findAll(),new on().findAll(),new En().findAll()]);n(S),a(C),c(N),f(I)}catch(S){console.error("Error loading data:",S)}finally{g(!1)}})()},[t]);const v=E=>{try{if(!E)return"Fecha no disponible";let S;if(E instanceof Date)S=E;else if(typeof E=="string")S=_i(E);else if(typeof E=="object"&&"seconds"in E)S=new Date(E.seconds*1e3);else throw new Error("Invalid date format");return isNaN(S.getTime())?"Fecha invlida":Zt(S,"PPP",{locale:us})}catch(S){return console.error("Error formatting date:",S),"Fecha no disponible"}},y=E=>{const S=r.find(C=>C.id===E);return(S==null?void 0:S.name)||"No asignado"},w=E=>{const S=o.find(C=>C.id===E);return(S==null?void 0:S.name)||"Producto no encontrado"},_=E=>{const S=u.find(C=>C.id===E);return(S==null?void 0:S.name)||"Receta no encontrada"};return m?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):e?d.jsxs("div",{className:"p-2 space-y-3 max-w-full",children:[d.jsxs(Ut,{className:"w-full",children:[d.jsx(Fn,{className:"pb-2",children:d.jsx(Un,{className:"text-lg",children:"Informacin General"})}),d.jsxs(Ht,{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Estado"}),d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Ec(e.status)}`,children:Hn[e.status]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Fecha del Pedido"}),d.jsx("span",{className:"text-sm",children:v(e.orderDate)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Cliente"}),d.jsx("span",{className:"text-sm text-right",children:y(e.customerId)})]})]})]}),e.products&&e.products.length>0&&d.jsxs(Ut,{className:"w-full",children:[d.jsx(Fn,{className:"pb-2",children:d.jsx(Un,{className:"text-lg",children:"Productos"})}),d.jsx(Ht,{children:d.jsx("div",{className:"space-y-3",children:e.products.map((E,S)=>d.jsx("div",{className:"p-3 rounded-lg bg-muted/30",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"font-medium text-base break-words",children:w(E.productId)}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Cantidad:"}),d.jsx("span",{className:"text-sm font-medium",children:E.quantity})]})]})},S))})})]}),e.recipes&&e.recipes.length>0&&d.jsxs(Ut,{className:"w-full",children:[d.jsx(Fn,{className:"pb-2",children:d.jsx(Un,{className:"text-lg",children:"Recetas"})}),d.jsx(Ht,{children:d.jsx("div",{className:"space-y-3",children:e.recipes.map((E,S)=>d.jsx("div",{className:"p-3 rounded-lg bg-muted/30",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"font-medium text-base break-words",children:_(E.recipeId)}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Cantidad:"}),d.jsx("span",{className:"text-sm font-medium",children:E.quantity})]})]})},S))})})]})]}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Pedido no encontrado"})})},TZ=({value:t,unit:e,onQuantityChange:n,onClick:r})=>{const[a,o]=O.useState(!1),c=O.useRef(null);return O.useEffect(()=>{a&&c.current&&c.current.focus()},[a]),a?d.jsxs("div",{className:"flex items-center bg-transparent",children:[d.jsx(pn,{ref:c,type:"number",min:"1",className:"h-10 w-20 text-left pl-0 border-0 text-lg font-bold text-blue-600 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0",defaultValue:"",onBlur:u=>{const f=Number(u.target.value);f>0&&n(f),o(!1)},onKeyDown:u=>{u.key==="Enter"&&u.target.blur(),u.key==="Escape"&&o(!1)},onClick:u=>u.stopPropagation()}),d.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(e==null?void 0:e.name)||(e==null?void 0:e.symbol)})]}):d.jsxs("button",{type:"button",className:"flex items-center gap-2 text-left",onClick:u=>{u.stopPropagation(),o(!0),r==null||r(u)},children:[d.jsx("span",{className:"text-lg font-bold text-blue-600",children:t}),d.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(e==null?void 0:e.name)||(e==null?void 0:e.symbol)})]})},dT=()=>{var _e,he,Ae;const{id:t}=rt(),[e]=Bm(),n=e.get("copy"),r=e.get("calculate"),a=Tt(),[o,c]=O.useState(!0),[u,f]=O.useState(!1),[m,g]=O.useState(!t),[v,y]=O.useState([]),[w,_]=O.useState([]),[E,S]=O.useState([]),[C,N]=O.useState([]),[I,T]=O.useState(""),[R,D]=O.useState(""),[j,P]=O.useState(1),[F,B]=O.useState(1),[K,re]=O.useState({orderDate:new Date,status:we.PENDIENTE,customerId:"",products:[],recipes:[]}),[Q,$]=O.useState([]),[q,k]=O.useState(""),Z=O.useCallback(ne=>{if(!K.customerId){$([]);return}const de=E.filter(ze=>ze.name.toLowerCase().includes(ne.toLowerCase())).map(ze=>({...ze,type:"recipe"})),ve=w.filter(ze=>ze.name.toLowerCase().includes(ne.toLowerCase())).map(ze=>({...ze,type:"product"}));$([...de,...ve])},[E,w,K.customerId]);O.useEffect(()=>{Z(q)},[Z,q,K.customerId]),O.useEffect(()=>{z()},[t,n,r]);const z=async()=>{try{const[ne,de,ve,ze]=await Promise.all([new xs().findAll(),new on().findAll(),new En().findAll(),new Jt().findAll()]);if(y(ne),_(de),S(ve),N(ze),$([...ve.map(at=>({...at,type:"recipe"})),...de.map(at=>({...at,type:"product"}))]),t){const Oe=await new Ia().findById(t);Oe&&re({...Oe,orderDate:Oe.orderDate instanceof Date?Oe.orderDate:new Date(Oe.orderDate)})}else if(n){const Oe=await new Ia().findById(n);Oe&&re({...Oe,id:void 0,orderDate:new Date,status:we.PENDIENTE})}else if(r&&await new tr().findById(r)){const tt=w.filter(dt=>dt.primarySupplierId===r);re({orderDate:new Date,status:we.PENDIENTE,products:tt.map(dt=>({productId:dt.id,quantity:0})),recipes:[]})}}catch(ne){console.error("Error loading data:",ne),qe.error("Error al cargar los datos")}finally{c(!1)}},G=()=>{var de;if(!I)return;if(j<=0){qe.error("La cantidad debe ser mayor a 0");return}const ne=(de=K.products)==null?void 0:de.findIndex(ve=>ve.productId===I);if(ne!==void 0&&ne>=0){const ve=[...K.products||[]];ve[ne].quantity+=j,re(ze=>({...ze,products:ve}))}else re(ve=>({...ve,products:[...ve.products||[],{productId:I,quantity:j}]}));T(""),P(1)},L=()=>{var de;if(!R)return;if(F<=0){qe.error("La cantidad debe ser mayor a 0");return}const ne=(de=K.recipes)==null?void 0:de.findIndex(ve=>ve.recipeId===R);if(ne!==void 0&&ne>=0){const ve=[...K.recipes||[]];ve[ne].quantity+=F,re(ze=>({...ze,recipes:ve}))}else re(ve=>({...ve,recipes:[...ve.recipes||[],{recipeId:R,quantity:F}]}));D(""),B(1)},Y=ne=>{re(de=>{var ve;return{...de,products:(ve=de.products)==null?void 0:ve.filter((ze,at)=>at!==ne)}})},ie=ne=>{re(de=>{var ve;return{...de,recipes:(ve=de.recipes)==null?void 0:ve.filter((ze,at)=>at!==ne)}})},le=async ne=>{var de,ve;if(ne.preventDefault(),!K.customerId){qe.error("Debe seleccionar un cliente");return}if(!((de=K.products)!=null&&de.length)&&!((ve=K.recipes)!=null&&ve.length)){qe.error("Debe agregar al menos un producto o receta");return}f(!0);try{const ze=new Ia,at=K.products||[],Oe=K.recipes||[],tt=at.reduce((Cn,V)=>Cn+V.quantity,0)+Oe.reduce((Cn,V)=>Cn+V.quantity,0),dt=at.length+Oe.length,yt={customerId:K.customerId,orderDate:K.orderDate instanceof Date?K.orderDate:new Date(K.orderDate||new Date),status:K.status,products:at,recipes:Oe,totalItems:tt,totalProducts:dt};t?(await ze.update(t,yt),qe.success("Pedido actualizado correctamente")):(await ze.create(yt),qe.success("Pedido creado correctamente")),a("/mobile/orders")}catch(ze){console.error("Error saving order:",ze),qe.error("Error al guardar el pedido")}finally{f(!1)}},ue=()=>{try{return K.orderDate?Zt(K.orderDate,"yyyy-MM-dd"):Zt(new Date,"yyyy-MM-dd")}catch(ne){return console.error("Error formatting date:",ne),Zt(new Date,"yyyy-MM-dd")}};return o?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("form",{onSubmit:le,className:"p-4 space-y-4 max-w-lg mx-auto",children:[d.jsx(dw,{open:m,onOpenChange:g,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>g(!m),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-sm font-medium",children:"INFORMACIN GENERAL"}),!m&&d.jsxs("span",{className:"text-xs text-gray-500",children:[K.customerId?(_e=v.find(ne=>ne.id===K.customerId))==null?void 0:_e.name:"Sin asignar","  ",K.orderDate?Zt(new Date(K.orderDate),"dd/MM/yyyy"):""]})]}),d.jsx(fw,{asChild:!0,children:d.jsx(Se,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:m?d.jsx(f0,{className:"h-4 w-4"}):d.jsx(d0,{className:"h-4 w-4"})})})]}),d.jsx(hw,{children:d.jsxs("div",{className:"p-4 space-y-4 border-t",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Pr,{htmlFor:"orderDate",className:"text-sm text-gray-600",children:"FECHA DEL PEDIDO"}),d.jsx(Wd,{value:ue(),onChange:ne=>{if(!ne)return;const de=new Date(ne);re(ve=>({...ve,orderDate:de}))},className:"w-full"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Pr,{htmlFor:"customerId",className:"text-sm text-gray-600",children:"CLIENTE"}),d.jsxs("select",{id:"customerId",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:K.customerId,onChange:ne=>re(de=>({...de,customerId:ne.target.value})),children:[d.jsx("option",{value:"",children:"Seleccionar cliente"}),v.map(ne=>d.jsx("option",{value:ne.id,children:ne.name},ne.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Pr,{htmlFor:"status",className:"text-sm text-gray-600",children:"ESTADO"}),d.jsx("select",{id:"status",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:K.status,onChange:ne=>re(de=>({...de,status:ne.target.value})),disabled:!t,children:t?Object.values(we).map(ne=>d.jsx("option",{value:ne,children:Hn[ne]},ne)):d.jsx("option",{value:we.PENDIENTE,children:Hn[we.PENDIENTE]})})]})]})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm border px-4 py-2",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex items-center gap-4",children:d.jsxs("span",{className:"text-sm text-gray-500",children:[((he=K.products)==null?void 0:he.length)||0," productos  ",((Ae=K.recipes)==null?void 0:Ae.length)||0," recetas  ",[...(K.products||[]).map(ne=>ne.quantity),...(K.recipes||[]).map(ne=>ne.quantity)].reduce((ne,de)=>ne+de,0)," items"]})}),d.jsxs("span",{className:"font-semibold text-blue-600",children:["$",[...(K.products||[]).map(ne=>{const de=w.find(ve=>ve.id===ne.productId);return((de==null?void 0:de.purchasePrice)||0)*ne.quantity}),...(K.recipes||[]).map(ne=>{const de=E.find(ve=>ve.id===ne.recipeId);return((de==null?void 0:de.cost)||0)*ne.quantity})].reduce((ne,de)=>ne+de,0).toFixed(2)]})]})}),d.jsx("div",{className:"space-y-4",children:K.customerId?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative",children:[d.jsx(pn,{type:"text",placeholder:"Buscar productos o recetas...",className:"w-full pl-9",value:q,onChange:ne=>k(ne.target.value)}),d.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.3-4.3"})]})]}),d.jsx("div",{className:"grid grid-cols-1 gap-2",children:Q.map(ne=>{var ze,at;const de=ne.type==="recipe",ve=de?(ze=K.recipes)==null?void 0:ze.find(Oe=>Oe.recipeId===ne.id):(at=K.products)==null?void 0:at.find(Oe=>Oe.productId===ne.id);return d.jsx("div",{className:`w-full bg-white rounded-lg border shadow-sm cursor-pointer transition-all relative ${ve?"border-primary ring-1 ring-primary":"hover:bg-gray-50/50"}`,onClick:Oe=>{Oe.target.tagName},onDoubleClick:()=>{var Oe,tt;ve?de?ie(((Oe=K.recipes)==null?void 0:Oe.findIndex(dt=>dt.recipeId===ne.id))||0):Y(((tt=K.products)==null?void 0:tt.findIndex(dt=>dt.productId===ne.id))||0):de?(D(ne.id),B(1),L()):(T(ne.id),P(1),G())},children:d.jsxs("div",{className:"p-4",children:[d.jsx("span",{className:`absolute top-0 right-0 w-6 h-6 flex items-center justify-center text-xs font-medium text-white rounded-bl-lg ${de?"bg-blue-500":"bg-purple-500"}`,children:de?"R":"P"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Sc,{checked:ve!==void 0,onCheckedChange:Oe=>{var tt,dt;Oe?de?(D(ne.id),B(1),L()):(T(ne.id),P(1),G()):de?ie(((tt=K.recipes)==null?void 0:tt.findIndex(yt=>yt.recipeId===ne.id))||0):Y(((dt=K.products)==null?void 0:dt.findIndex(yt=>yt.productId===ne.id))||0)},className:"h-5 w-5"}),d.jsx("div",{className:"flex-1",children:d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:"font-medium text-base",children:ne.name})})})]}),ve&&d.jsx("div",{className:"mt-3",children:d.jsxs("div",{className:"ml-8 space-y-2",children:[d.jsx(TZ,{value:ve.quantity,unit:de?C.find(Oe=>Oe.id===ne.yieldUnitId):C.find(Oe=>Oe.id===ne.salesUnitId),onQuantityChange:Oe=>{if(de){const tt=[...K.recipes||[]],dt=tt.findIndex(yt=>yt.recipeId===ne.id);dt>=0&&(tt[dt].quantity=Oe,re(yt=>({...yt,recipes:tt})))}else{const tt=[...K.products||[]],dt=tt.findIndex(yt=>yt.productId===ne.id);dt>=0&&(tt[dt].quantity=Oe,re(yt=>({...yt,products:tt})))}}}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Costo unitario:"}),d.jsxs("span",{className:"font-medium",children:["$",de?ne.cost.toFixed(2):(ne.purchasePrice||0).toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Total:"}),d.jsxs("span",{className:"font-semibold text-blue-600",children:["$",de?(ne.cost*ve.quantity).toFixed(2):((ne.purchasePrice||0)*ve.quantity).toFixed(2)]})]})]})})]})},`${ne.type}-${ne.id}`)})}),Q.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay items disponibles que coincidan con la bsqueda"})})]}):d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"Seleccione un cliente para ver los productos y recetas disponibles"})})}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:d.jsxs("div",{className:"flex flex-col gap-2 max-w-lg mx-auto",children:[d.jsx(Se,{type:"submit",disabled:u,className:"h-11",children:u?"Guardando...":t?"Guardar Cambios":"Crear Pedido"}),d.jsx(Se,{type:"button",variant:"secondary",onClick:()=>a(-1),disabled:u,className:"h-11",children:"Cancelar"})]})})]})})},RZ=()=>{const{id:t}=rt(),e=Tt(),n=async()=>{if(t)try{await new Ia().delete(t),e("/mobile/orders")}catch(a){console.error("Error deleting order:",a)}},r=()=>{e(-1)};return d.jsx("div",{className:"p-4",children:d.jsx(Ut,{children:d.jsx(Ht,{className:"pt-6",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-center",children:"Est seguro que desea eliminar este pedido?"}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx(Se,{variant:"destructive",onClick:n,className:"w-full",children:"Eliminar"}),d.jsx(Se,{variant:"outline",onClick:r,className:"w-full",children:"Cancelar"})]})]})})})})},IZ=()=>{const[t,e]=O.useState([]),[n,r]=O.useState(!0),[a,o]=O.useState([]),[c,u]=O.useState([]),[f,m]=O.useState(!1),g=Tt(),v=new vs,y=new nr;O.useEffect(()=>{w()},[]);const w=async()=>{try{const[T,R,D]=await Promise.all([v.findAll(),y.findAll(),new En().findAll()]),j=T.sort((P,F)=>{const B=P.orderDate instanceof Date?P.orderDate:new Date(P.orderDate);return(F.orderDate instanceof Date?F.orderDate:new Date(F.orderDate)).getTime()-B.getTime()});e(j),o(R),u(D)}catch(T){console.error("Error loading data:",T)}finally{r(!1)}},_=T=>{try{if(!T)return"Fecha no disponible";let R;if(T instanceof Date)R=T;else if(typeof T=="string")R=_i(T);else if(typeof T=="object"&&"seconds"in T)R=new Date(T.seconds*1e3);else throw new Error("Invalid date format");return isNaN(R.getTime())?"Fecha invlida":Zt(R,"PPP",{locale:us})}catch(R){return console.error("Error formatting date:",R),"Fecha no disponible"}},E=T=>{if(!T)return"";const R=T.slice(0,3),D=T.slice(-2);return`${R}${D}`.toUpperCase()},S=(T,R)=>{const D=document.querySelector('[role="dialog"]');if(D){const j=D.querySelector('button[data-state="open"]');j&&j instanceof HTMLButtonElement&&j.click()}switch(T){case"view":g(`/mobile/production/${R.id}/view`);break;case"edit":g(`/mobile/production/${R.id}/edit`);break;case"delete":g(`/mobile/production/${R.id}/delete`);break}},C=()=>{g("/mobile/production/new")},N=T=>{g(`/mobile/production/new?copy=${T}`)},I=T=>{g(`/mobile/production/new?calculate=${T}`)};return n?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(Se,{className:"w-full flex items-center gap-2",onClick:()=>m(!0),children:[d.jsx(Ea,{className:"h-4 w-4"}),"Nueva Orden de Produccin"]}),d.jsx(iw,{open:f,onClose:()=>m(!1),onCreateEmpty:C,onCreateFromCopy:N,onCreateCalculated:I,orderType:"production",workers:a}),d.jsxs("div",{className:"space-y-4",children:[t.map(T=>{var R,D,j,P,F;return d.jsxs(bc,{children:[d.jsx(xx,{asChild:!0,children:d.jsx(Ut,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:d.jsx(Ht,{className:"p-4",children:d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"font-medium",children:["Produccin #",E(T.id)]}),d.jsx("span",{className:"text-sm text-muted-foreground",children:_(T.orderDate)})]}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ec(T.status)}`,children:Hn[T.status]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Responsable:"}),d.jsx("span",{className:"font-medium",children:((R=a.find(B=>B.id===T.responsibleWorkerId))==null?void 0:R.name)||"No asignado"})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Recetas:"}),d.jsx("span",{className:"font-medium",children:((D=T.recipes)==null?void 0:D.length)||0})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Total:"}),d.jsx("span",{className:"font-medium",children:((j=T.recipes)==null?void 0:j.reduce((B,K)=>B+(K.quantity||0),0))||0})]})]})]})})})}),d.jsxs(ko,{className:"sm:max-w-[425px]",children:[d.jsx(Lo,{children:d.jsx(Fo,{children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("span",{children:["Produccin #",E(T.id)]}),d.jsx("span",{className:"text-sm font-normal text-gray-500",children:_(T.orderDate)})]})})}),d.jsx(sw,{onView:()=>S("view",T),onEdit:()=>S("edit",T),onDelete:()=>S("delete",T),onShare:()=>{},order:T,type:"production",workerName:(P=a.find(B=>B.id===T.responsibleWorkerId))==null?void 0:P.name,workerPhone:(F=a.find(B=>B.id===T.responsibleWorkerId))==null?void 0:F.phone,recipes:c})]})]},T.id)}),t.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay rdenes de produccin"})})]})]})})},AZ=()=>{var g;const{id:t}=rt(),[e,n]=O.useState(null),[r,a]=O.useState({}),[o,c]=O.useState({}),[u,f]=O.useState(!0);O.useEffect(()=>{(async()=>{if(t)try{const y=new vs,w=new nr,_=new En,[E,S,C]=await Promise.all([y.findById(t),w.findAll(),_.findAll()]);n(E),a(S.reduce((N,I)=>({...N,[I.id]:I.name}),{})),c(C.reduce((N,I)=>({...N,[I.id]:I.name}),{}))}catch(y){console.error("Error loading data:",y)}finally{f(!1)}})()},[t]);const m=v=>{try{if(!v)return"Fecha no disponible";let y;if(v instanceof Date)y=v;else if(typeof v=="string")y=_i(v);else if(typeof v=="object"&&"seconds"in v)y=new Date(v.seconds*1e3);else throw new Error("Invalid date format");return isNaN(y.getTime())?"Fecha invlida":Zt(y,"PPP",{locale:us})}catch(y){return console.error("Error formatting date:",y),"Fecha no disponible"}};return u?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):e?d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(Ut,{children:[d.jsx(Fn,{children:d.jsx(Un,{children:"Informacin General"})}),d.jsxs(Ht,{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-muted-foreground",children:"Estado"}),d.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${Ec(e.status)}`,children:Hn[e.status]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Fecha de Produccin"}),d.jsx("span",{children:m(e.orderDate)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Responsable"}),d.jsx("span",{children:r[e.responsibleWorkerId]||"No asignado"})]})]})]}),d.jsxs(Ut,{children:[d.jsx(Fn,{children:d.jsx(Un,{children:"Recetas"})}),d.jsx(Ht,{children:d.jsxs("div",{className:"space-y-4",children:[(g=e.recipes)==null?void 0:g.map((v,y)=>d.jsx("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"font-medium",children:o[v.recipeId]||"Receta no encontrada"}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Cantidad: ",v.quantity]})]})},y)),(!e.recipes||e.recipes.length===0)&&d.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No hay recetas asignadas"})]})})]})]}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Orden no encontrada"})})},DZ=()=>{const{id:t}=rt(),e=Tt(),[n,r]=O.useState(null),[a,o]=O.useState(!0),[c,u]=O.useState(!1),f=new vs;O.useEffect(()=>{(async()=>{if(t)try{const y=await f.findById(t);r(y)}catch(y){console.error("Error loading order:",y),qe.error("Error al cargar la orden")}finally{o(!1)}})()},[t]);const m=async()=>{if(t)try{u(!0),await f.delete(t),qe.success("Orden eliminada correctamente"),e("/mobile/production")}catch(v){console.error("Error deleting order:",v),qe.error("Error al eliminar la orden")}finally{u(!1)}},g=v=>{if(!v)return"";const y=v.slice(0,3),w=v.slice(-2);return`${y}${w}`.toUpperCase()};return a?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):n?d.jsx("div",{className:"p-4",children:d.jsxs(Ut,{children:[d.jsx(Fn,{children:d.jsx(Un,{className:"text-center text-red-500",children:"Ests seguro de eliminar esta orden?"})}),d.jsx(Ht,{className:"space-y-4",children:d.jsxs("p",{className:"text-center text-muted-foreground",children:["Esta accin no se puede deshacer. Se eliminar la Orden #",n.consecutive||g(n.id)," y todos sus datos asociados."]})}),d.jsxs(lR,{className:"flex flex-col gap-2",children:[d.jsx(Se,{variant:"danger",className:"w-full",onClick:m,disabled:c,children:c?"Eliminando...":"S, eliminar"}),d.jsx(Se,{variant:"secondary",className:"w-full",onClick:()=>e(-1),disabled:c,children:"Cancelar"})]})]})}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Orden no encontrada"})})},fT=()=>{var re;const{id:t}=rt(),e=Tt(),[n,r]=O.useState(!0),[a,o]=O.useState(!1),[c,u]=O.useState(!t),[f,m]=O.useState([]),[g,v]=O.useState([]),[y,w]=O.useState([]),[_,E]=O.useState(new Set),[S,C]=O.useState([]),[N,I]=O.useState(""),[T,R]=O.useState({orderDate:new Date,status:we.PENDIENTE,responsibleWorkerId:"",recipes:[]}),D=O.useCallback(Q=>{if(!T.responsibleWorkerId){C([]);return}const $=g.filter(q=>q.primaryWorkerId===T.responsibleWorkerId&&q.name.toLowerCase().includes(Q.toLowerCase())).sort((q,k)=>q.name.localeCompare(k.name));C($)},[g,T.responsibleWorkerId]);O.useEffect(()=>{D(N)},[D,N,T.responsibleWorkerId]),O.useEffect(()=>{j()},[t]);const j=async()=>{var Q;try{const[$,q,k]=await Promise.all([new nr().findAll(),new En().findAll(),new Jt().findAll()]);if(m($),v(q),w(k),C(q),t){const z=await new vs().findById(t);if(z){R({...z,orderDate:z.orderDate instanceof Date?z.orderDate:new Date(z.orderDate)});const G=new Set((Q=z.recipes)==null?void 0:Q.map(L=>L.recipeId));E(G)}}}catch($){console.error("Error loading data:",$),qe.error("Error al cargar los datos")}finally{r(!1)}},P=async Q=>{if(Q.preventDefault(),_.size===0){qe.error("Debe seleccionar al menos una receta");return}o(!0);try{const $=new vs,q={...T,orderDate:T.orderDate};t?(await $.update(t,q),qe.success("Orden actualizada correctamente")):(await $.create(q),qe.success("Orden creada correctamente")),e("/mobile/production")}catch($){console.error("Error saving order:",$),qe.error("Error al guardar la orden")}finally{o(!1)}},F=(Q,$)=>{Q&&R(q=>({...q,recipes:[...(q.recipes||[]).filter(k=>k.recipeId!==Q),...$>0?[{recipeId:Q,quantity:$}]:[]]}))},B=(Q,$=1)=>{E(q=>{const k=new Set(q);return k.has(Q)?(k.delete(Q),F(Q,0)):(k.add(Q),F(Q,$)),k})},K=()=>{try{return T.orderDate?Zt(T.orderDate,"yyyy-MM-dd"):Zt(new Date,"yyyy-MM-dd")}catch(Q){return console.error("Error formatting date:",Q),Zt(new Date,"yyyy-MM-dd")}};return n?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):d.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:d.jsxs("form",{onSubmit:P,className:"p-4 space-y-4 max-w-lg mx-auto",children:[d.jsx(dw,{open:c,onOpenChange:u,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>u(!c),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-sm font-medium",children:"Informacin General"}),!c&&d.jsx("span",{className:"text-xs text-gray-500",children:T.responsibleWorkerId?(re=f.find(Q=>Q.id===T.responsibleWorkerId))==null?void 0:re.name:"Sin asignar"})]}),d.jsx(fw,{asChild:!0,children:d.jsx(Se,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:c?d.jsx(f0,{className:"h-4 w-4"}):d.jsx(d0,{className:"h-4 w-4"})})})]}),d.jsx(hw,{children:d.jsxs("div",{className:"p-4 space-y-4 border-t",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Pr,{htmlFor:"orderDate",className:"text-sm text-gray-600",children:"Fecha de Orden"}),d.jsx(Wd,{value:K(),onChange:Q=>{if(!Q)return;const $=new Date(Q);R(q=>({...q,orderDate:$}))},className:"w-full"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Pr,{htmlFor:"responsibleWorkerId",className:"text-sm text-gray-600",children:"Responsable"}),d.jsxs("select",{id:"responsibleWorkerId",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:T.responsibleWorkerId,onChange:Q=>R($=>({...$,responsibleWorkerId:Q.target.value})),children:[d.jsx("option",{value:"",children:"Seleccionar responsable"}),f.map(Q=>d.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Pr,{htmlFor:"status",className:"text-sm text-gray-600",children:"Estado"}),d.jsx("select",{id:"status",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:T.status,onChange:Q=>R($=>({...$,status:Q.target.value})),disabled:!t,children:t?Object.values(we).map(Q=>d.jsx("option",{value:Q,children:Hn[Q]},Q)):d.jsx("option",{value:we.PENDIENTE,children:Hn[we.PENDIENTE]})})]})]})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm border px-4 py-2",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex items-center gap-4",children:d.jsxs("span",{className:"text-sm text-gray-500",children:[_.size," recetas  ",(T.recipes||[]).reduce((Q,$)=>Q+$.quantity,0)," items"]})}),d.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(T.recipes||[]).reduce((Q,$)=>{const q=g.find(k=>k.id===$.recipeId);return Q+((q==null?void 0:q.cost)||0)*$.quantity},0).toFixed(2)]})]})}),d.jsx("div",{className:"space-y-4",children:T.responsibleWorkerId?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative",children:[d.jsx(pn,{type:"text",placeholder:"Buscar recetas...",className:"w-full pl-9",value:N,onChange:Q=>I(Q.target.value)}),d.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.3-4.3"})]})]}),d.jsx("div",{className:"grid grid-cols-1 gap-3",children:S.map(Q=>{var k;const $=_.has(Q.id),q=(k=T.recipes)==null?void 0:k.find(Z=>Z.recipeId===Q.id);return d.jsx("div",{className:`w-full bg-white rounded-lg border shadow-sm cursor-pointer transition-all relative ${$?"border-primary ring-1 ring-primary":"hover:bg-gray-50/50"}`,onClick:Z=>{Z.target.tagName},onDoubleClick:()=>{$?(F(Q.id,0),E(Z=>{const z=new Set(Z);return z.delete(Q.id),z})):B(Q.id,1)},children:d.jsxs("div",{className:"p-4",children:[d.jsx("span",{className:"absolute top-0 right-0 w-6 h-6 flex items-center justify-center text-xs font-medium text-white rounded-bl-lg bg-blue-500",children:"R"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Sc,{checked:$,onCheckedChange:Z=>{Z?B(Q.id,1):(F(Q.id,0),E(z=>{const G=new Set(z);return G.delete(Q.id),G}))},className:"h-5 w-5"}),d.jsx("div",{className:"flex-1",children:d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:"font-medium text-base",children:Q.name})})})]}),q&&d.jsx("div",{className:"mt-3",children:d.jsxs("div",{className:"ml-8 space-y-2",children:[d.jsx(MO,{value:q.quantity,unit:y.find(Z=>Z.id===Q.yieldUnitId),onQuantityChange:Z=>{const z=[...T.recipes||[]],G=z.findIndex(L=>L.recipeId===Q.id);G>=0&&(z[G].quantity=Z,R(L=>({...L,recipes:z})))}}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Costo unitario:"}),d.jsxs("span",{className:"font-medium",children:["$",Q.cost.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Total:"}),d.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(Q.cost*q.quantity).toFixed(2)]})]})]})})]})},Q.id)})}),S.length===0&&d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"No hay recetas disponibles para este trabajador"})})]}):d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:d.jsx("p",{children:"Seleccione un trabajador para ver las recetas disponibles"})})}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:d.jsxs("div",{className:"flex flex-col gap-2 max-w-lg mx-auto",children:[d.jsx(Se,{type:"submit",disabled:a||_.size===0,className:"h-11",children:a?"Guardando...":t?"Guardar Cambios":"Crear Orden"}),d.jsx(Se,{type:"button",variant:"secondary",onClick:()=>e(-1),disabled:a,className:"h-11",children:"Cancelar"})]})})]})})},OZ=d.jsxs(d.Fragment,{children:[d.jsx(ye,{path:"/mobile",element:d.jsx(Gb,{})}),d.jsx(ye,{path:"/mobile/dashboard",element:d.jsx(Gb,{})}),d.jsx(ye,{path:"/mobile/purchases",element:d.jsx(yZ,{})}),d.jsx(ye,{path:"/mobile/purchases/new",element:d.jsx(uT,{})}),d.jsx(ye,{path:"/mobile/purchases/:id/view",element:d.jsx(bZ,{})}),d.jsx(ye,{path:"/mobile/purchases/:id/edit",element:d.jsx(uT,{})}),d.jsx(ye,{path:"/mobile/purchases/:id/delete",element:d.jsx(EZ,{})}),d.jsx(ye,{path:"/mobile/orders",element:d.jsx(CZ,{})}),d.jsx(ye,{path:"/mobile/orders/new",element:d.jsx(dT,{})}),d.jsx(ye,{path:"/mobile/orders/:id/view",element:d.jsx(NZ,{})}),d.jsx(ye,{path:"/mobile/orders/:id/edit",element:d.jsx(dT,{})}),d.jsx(ye,{path:"/mobile/orders/:id/delete",element:d.jsx(RZ,{})}),d.jsx(ye,{path:"/mobile/production",element:d.jsx(IZ,{})}),d.jsx(ye,{path:"/mobile/production/new",element:d.jsx(fT,{})}),d.jsx(ye,{path:"/mobile/production/:id/view",element:d.jsx(AZ,{})}),d.jsx(ye,{path:"/mobile/production/:id/edit",element:d.jsx(fT,{})}),d.jsx(ye,{path:"/mobile/production/:id/delete",element:d.jsx(DZ,{})})]});function PO(t){const e=t+"CollectionProvider",[n,r]=bs(e),[a,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:_,children:E}=w,S=O.useRef(null),C=O.useRef(new Map).current;return d.jsx(a,{scope:_,itemMap:C,collectionRef:S,children:E})};c.displayName=e;const u=t+"CollectionSlot",f=O.forwardRef((w,_)=>{const{scope:E,children:S}=w,C=o(u,E),N=Wt(_,C.collectionRef);return d.jsx(No,{ref:N,children:S})});f.displayName=u;const m=t+"CollectionItemSlot",g="data-radix-collection-item",v=O.forwardRef((w,_)=>{const{scope:E,children:S,...C}=w,N=O.useRef(null),I=Wt(_,N),T=o(m,E);return O.useEffect(()=>(T.itemMap.set(N,{ref:N,...C}),()=>void T.itemMap.delete(N))),d.jsx(No,{[g]:"",ref:I,children:S})});v.displayName=m;function y(w){const _=o(t+"CollectionConsumer",w);return O.useCallback(()=>{const S=_.collectionRef.current;if(!S)return[];const C=Array.from(S.querySelectorAll(`[${g}]`));return Array.from(_.itemMap.values()).sort((T,R)=>C.indexOf(T.ref.current)-C.indexOf(R.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:c,Slot:f,ItemSlot:v},y,r]}var jZ=x.createContext(void 0);function kO(t){const e=x.useContext(jZ);return t||e||"ltr"}var Uy="rovingFocusGroup.onEntryFocus",MZ={bubbles:!1,cancelable:!0},Dp="RovingFocusGroup",[Yb,LO,PZ]=PO(Dp),[kZ,FO]=bs(Dp,[PZ]),[LZ,FZ]=kZ(Dp),UO=x.forwardRef((t,e)=>d.jsx(Yb.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Yb.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(UZ,{...t,ref:e})})}));UO.displayName=Dp;var UZ=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...v}=t,y=x.useRef(null),w=Wt(e,y),_=kO(o),[E=null,S]=yc({prop:c,defaultProp:u,onChange:f}),[C,N]=x.useState(!1),I=ea(m),T=LO(n),R=x.useRef(!1),[D,j]=x.useState(0);return x.useEffect(()=>{const P=y.current;if(P)return P.addEventListener(Uy,I),()=>P.removeEventListener(Uy,I)},[I]),d.jsx(LZ,{scope:n,orientation:r,dir:_,loop:a,currentTabStopId:E,onItemFocus:x.useCallback(P=>S(P),[S]),onItemShiftTab:x.useCallback(()=>N(!0),[]),onFocusableItemAdd:x.useCallback(()=>j(P=>P+1),[]),onFocusableItemRemove:x.useCallback(()=>j(P=>P-1),[]),children:d.jsx(wt.div,{tabIndex:C||D===0?-1:0,"data-orientation":r,...v,ref:w,style:{outline:"none",...t.style},onMouseDown:Be(t.onMouseDown,()=>{R.current=!0}),onFocus:Be(t.onFocus,P=>{const F=!R.current;if(P.target===P.currentTarget&&F&&!C){const B=new CustomEvent(Uy,MZ);if(P.currentTarget.dispatchEvent(B),!B.defaultPrevented){const K=T().filter(k=>k.focusable),re=K.find(k=>k.active),Q=K.find(k=>k.id===E),q=[re,Q,...K].filter(Boolean).map(k=>k.ref.current);$O(q,g)}}R.current=!1}),onBlur:Be(t.onBlur,()=>N(!1))})})}),BO="RovingFocusGroupItem",VO=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:o,...c}=t,u=ci(),f=o||u,m=FZ(BO,n),g=m.currentTabStopId===f,v=LO(n),{onFocusableItemAdd:y,onFocusableItemRemove:w}=m;return x.useEffect(()=>{if(r)return y(),()=>w()},[r,y,w]),d.jsx(Yb.ItemSlot,{scope:n,id:f,focusable:r,active:a,children:d.jsx(wt.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:Be(t.onMouseDown,_=>{r?m.onItemFocus(f):_.preventDefault()}),onFocus:Be(t.onFocus,()=>m.onItemFocus(f)),onKeyDown:Be(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const E=$Z(_,m.orientation,m.dir);if(E!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let C=v().filter(N=>N.focusable).map(N=>N.ref.current);if(E==="last")C.reverse();else if(E==="prev"||E==="next"){E==="prev"&&C.reverse();const N=C.indexOf(_.currentTarget);C=m.loop?zZ(C,N+1):C.slice(N+1)}setTimeout(()=>$O(C))}})})})});VO.displayName=BO;var BZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VZ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function $Z(t,e,n){const r=VZ(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return BZ[r]}function $O(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function zZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var HZ=UO,qZ=VO,Kb=["Enter"," "],WZ=["ArrowDown","PageUp","Home"],zO=["ArrowUp","PageDown","End"],GZ=[...WZ,...zO],YZ={ltr:[...Kb,"ArrowRight"],rtl:[...Kb,"ArrowLeft"]},KZ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qd="Menu",[Ed,XZ,QZ]=PO(Qd),[Vo,HO]=bs(Qd,[QZ,pp,FO]),Op=pp(),qO=FO(),[ZZ,$o]=Vo(Qd),[JZ,Zd]=Vo(Qd),WO=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:a,onOpenChange:o,modal:c=!0}=t,u=Op(e),[f,m]=x.useState(null),g=x.useRef(!1),v=ea(o),y=kO(a);return x.useEffect(()=>{const w=()=>{g.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>g.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),d.jsx(u2,{...u,children:d.jsx(ZZ,{scope:e,open:n,onOpenChange:v,content:f,onContentChange:m,children:d.jsx(JZ,{scope:e,onClose:x.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:g,dir:y,modal:c,children:r})})})};WO.displayName=Qd;var eJ="MenuAnchor",mw=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,a=Op(n);return d.jsx(d2,{...a,...r,ref:e})});mw.displayName=eJ;var pw="MenuPortal",[tJ,GO]=Vo(pw,{forceMount:void 0}),YO=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:a}=t,o=$o(pw,e);return d.jsx(tJ,{scope:e,forceMount:n,children:d.jsx(aa,{present:n||o.open,children:d.jsx(mx,{asChild:!0,container:a,children:r})})})};YO.displayName=pw;var kr="MenuContent",[nJ,gw]=Vo(kr),KO=x.forwardRef((t,e)=>{const n=GO(kr,t.__scopeMenu),{forceMount:r=n.forceMount,...a}=t,o=$o(kr,t.__scopeMenu),c=Zd(kr,t.__scopeMenu);return d.jsx(Ed.Provider,{scope:t.__scopeMenu,children:d.jsx(aa,{present:r||o.open,children:d.jsx(Ed.Slot,{scope:t.__scopeMenu,children:c.modal?d.jsx(rJ,{...a,ref:e}):d.jsx(aJ,{...a,ref:e})})})})}),rJ=x.forwardRef((t,e)=>{const n=$o(kr,t.__scopeMenu),r=x.useRef(null),a=Wt(e,r);return x.useEffect(()=>{const o=r.current;if(o)return OA(o)},[]),d.jsx(vw,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Be(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),aJ=x.forwardRef((t,e)=>{const n=$o(kr,t.__scopeMenu);return d.jsx(vw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),vw=x.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:f,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:y,onDismiss:w,disableOutsideScroll:_,...E}=t,S=$o(kr,n),C=Zd(kr,n),N=Op(n),I=qO(n),T=XZ(n),[R,D]=x.useState(null),j=x.useRef(null),P=Wt(e,j,S.onContentChange),F=x.useRef(0),B=x.useRef(""),K=x.useRef(0),re=x.useRef(null),Q=x.useRef("right"),$=x.useRef(0),q=_?px:x.Fragment,k=_?{as:No,allowPinchZoom:!0}:void 0,Z=G=>{var Ae,ne;const L=B.current+G,Y=T().filter(de=>!de.disabled),ie=document.activeElement,le=(Ae=Y.find(de=>de.ref.current===ie))==null?void 0:Ae.textValue,ue=Y.map(de=>de.textValue),_e=gJ(ue,L,le),he=(ne=Y.find(de=>de.textValue===_e))==null?void 0:ne.ref.current;(function de(ve){B.current=ve,window.clearTimeout(F.current),ve!==""&&(F.current=window.setTimeout(()=>de(""),1e3))})(L),he&&setTimeout(()=>he.focus())};x.useEffect(()=>()=>window.clearTimeout(F.current),[]),EA();const z=x.useCallback(G=>{var Y,ie;return Q.current===((Y=re.current)==null?void 0:Y.side)&&yJ(G,(ie=re.current)==null?void 0:ie.area)},[]);return d.jsx(nJ,{scope:n,searchRef:B,onItemEnter:x.useCallback(G=>{z(G)&&G.preventDefault()},[z]),onItemLeave:x.useCallback(G=>{var L;z(G)||((L=j.current)==null||L.focus(),D(null))},[z]),onTriggerLeave:x.useCallback(G=>{z(G)&&G.preventDefault()},[z]),pointerGraceTimerRef:K,onPointerGraceIntentChange:x.useCallback(G=>{re.current=G},[]),children:d.jsx(q,{...k,children:d.jsx(hx,{asChild:!0,trapped:a,onMountAutoFocus:Be(o,G=>{var L;G.preventDefault(),(L=j.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:d.jsx(ip,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:y,onDismiss:w,children:d.jsx(HZ,{asChild:!0,...I,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:R,onCurrentTabStopIdChange:D,onEntryFocus:Be(f,G=>{C.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(f2,{role:"menu","aria-orientation":"vertical","data-state":dj(S.open),"data-radix-menu-content":"",dir:C.dir,...N,...E,ref:P,style:{outline:"none",...E.style},onKeyDown:Be(E.onKeyDown,G=>{const Y=G.target.closest("[data-radix-menu-content]")===G.currentTarget,ie=G.ctrlKey||G.altKey||G.metaKey,le=G.key.length===1;Y&&(G.key==="Tab"&&G.preventDefault(),!ie&&le&&Z(G.key));const ue=j.current;if(G.target!==ue||!GZ.includes(G.key))return;G.preventDefault();const he=T().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);zO.includes(G.key)&&he.reverse(),mJ(he)}),onBlur:Be(t.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(F.current),B.current="")}),onPointerMove:Be(t.onPointerMove,Cd(G=>{const L=G.target,Y=$.current!==G.clientX;if(G.currentTarget.contains(L)&&Y){const ie=G.clientX>$.current?"right":"left";Q.current=ie,$.current=G.clientX}}))})})})})})})});KO.displayName=kr;var sJ="MenuGroup",yw=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(wt.div,{role:"group",...r,ref:e})});yw.displayName=sJ;var iJ="MenuLabel",XO=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(wt.div,{...r,ref:e})});XO.displayName=iJ;var Pm="MenuItem",hT="menu.itemSelect",jp=x.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...a}=t,o=x.useRef(null),c=Zd(Pm,t.__scopeMenu),u=gw(Pm,t.__scopeMenu),f=Wt(e,o),m=x.useRef(!1),g=()=>{const v=o.current;if(!n&&v){const y=new CustomEvent(hT,{bubbles:!0,cancelable:!0});v.addEventListener(hT,w=>r==null?void 0:r(w),{once:!0}),xA(v,y),y.defaultPrevented?m.current=!1:c.onClose()}};return d.jsx(QO,{...a,ref:f,disabled:n,onClick:Be(t.onClick,g),onPointerDown:v=>{var y;(y=t.onPointerDown)==null||y.call(t,v),m.current=!0},onPointerUp:Be(t.onPointerUp,v=>{var y;m.current||(y=v.currentTarget)==null||y.click()}),onKeyDown:Be(t.onKeyDown,v=>{const y=u.searchRef.current!=="";n||y&&v.key===" "||Kb.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});jp.displayName=Pm;var QO=x.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...o}=t,c=gw(Pm,n),u=qO(n),f=x.useRef(null),m=Wt(e,f),[g,v]=x.useState(!1),[y,w]=x.useState("");return x.useEffect(()=>{const _=f.current;_&&w((_.textContent??"").trim())},[o.children]),d.jsx(Ed.ItemSlot,{scope:n,disabled:r,textValue:a??y,children:d.jsx(qZ,{asChild:!0,...u,focusable:!r,children:d.jsx(wt.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:m,onPointerMove:Be(t.onPointerMove,Cd(_=>{r?c.onItemLeave(_):(c.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Be(t.onPointerLeave,Cd(_=>c.onItemLeave(_))),onFocus:Be(t.onFocus,()=>v(!0)),onBlur:Be(t.onBlur,()=>v(!1))})})})}),oJ="MenuCheckboxItem",ZO=x.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...a}=t;return d.jsx(rj,{scope:t.__scopeMenu,checked:n,children:d.jsx(jp,{role:"menuitemcheckbox","aria-checked":km(n)?"mixed":n,...a,ref:e,"data-state":xw(n),onSelect:Be(a.onSelect,()=>r==null?void 0:r(km(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ZO.displayName=oJ;var JO="MenuRadioGroup",[lJ,cJ]=Vo(JO,{value:void 0,onValueChange:()=>{}}),ej=x.forwardRef((t,e)=>{const{value:n,onValueChange:r,...a}=t,o=ea(r);return d.jsx(lJ,{scope:t.__scopeMenu,value:n,onValueChange:o,children:d.jsx(yw,{...a,ref:e})})});ej.displayName=JO;var tj="MenuRadioItem",nj=x.forwardRef((t,e)=>{const{value:n,...r}=t,a=cJ(tj,t.__scopeMenu),o=n===a.value;return d.jsx(rj,{scope:t.__scopeMenu,checked:o,children:d.jsx(jp,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":xw(o),onSelect:Be(r.onSelect,()=>{var c;return(c=a.onValueChange)==null?void 0:c.call(a,n)},{checkForDefaultPrevented:!1})})})});nj.displayName=tj;var bw="MenuItemIndicator",[rj,uJ]=Vo(bw,{checked:!1}),aj=x.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...a}=t,o=uJ(bw,n);return d.jsx(aa,{present:r||km(o.checked)||o.checked===!0,children:d.jsx(wt.span,{...a,ref:e,"data-state":xw(o.checked)})})});aj.displayName=bw;var dJ="MenuSeparator",sj=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(wt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});sj.displayName=dJ;var fJ="MenuArrow",ij=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,a=Op(n);return d.jsx(h2,{...a,...r,ref:e})});ij.displayName=fJ;var hJ="MenuSub",[Eee,oj]=Vo(hJ),Hu="MenuSubTrigger",lj=x.forwardRef((t,e)=>{const n=$o(Hu,t.__scopeMenu),r=Zd(Hu,t.__scopeMenu),a=oj(Hu,t.__scopeMenu),o=gw(Hu,t.__scopeMenu),c=x.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:f}=o,m={__scopeMenu:t.__scopeMenu},g=x.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return x.useEffect(()=>g,[g]),x.useEffect(()=>{const v=u.current;return()=>{window.clearTimeout(v),f(null)}},[u,f]),d.jsx(mw,{asChild:!0,...m,children:d.jsx(QO,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":dj(n.open),...t,ref:sp(e,a.onTriggerChange),onClick:v=>{var y;(y=t.onClick)==null||y.call(t,v),!(t.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Be(t.onPointerMove,Cd(v=>{o.onItemEnter(v),!v.defaultPrevented&&!t.disabled&&!n.open&&!c.current&&(o.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:Be(t.onPointerLeave,Cd(v=>{var w,_;g();const y=(w=n.content)==null?void 0:w.getBoundingClientRect();if(y){const E=(_=n.content)==null?void 0:_.dataset.side,S=E==="right",C=S?-5:5,N=y[S?"left":"right"],I=y[S?"right":"left"];o.onPointerGraceIntentChange({area:[{x:v.clientX+C,y:v.clientY},{x:N,y:y.top},{x:I,y:y.top},{x:I,y:y.bottom},{x:N,y:y.bottom}],side:E}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(v),v.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Be(t.onKeyDown,v=>{var w;const y=o.searchRef.current!=="";t.disabled||y&&v.key===" "||YZ[r.dir].includes(v.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),v.preventDefault())})})})});lj.displayName=Hu;var cj="MenuSubContent",uj=x.forwardRef((t,e)=>{const n=GO(kr,t.__scopeMenu),{forceMount:r=n.forceMount,...a}=t,o=$o(kr,t.__scopeMenu),c=Zd(kr,t.__scopeMenu),u=oj(cj,t.__scopeMenu),f=x.useRef(null),m=Wt(e,f);return d.jsx(Ed.Provider,{scope:t.__scopeMenu,children:d.jsx(aa,{present:r||o.open,children:d.jsx(Ed.Slot,{scope:t.__scopeMenu,children:d.jsx(vw,{id:u.contentId,"aria-labelledby":u.triggerId,...a,ref:m,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var v;c.isUsingKeyboardRef.current&&((v=f.current)==null||v.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Be(t.onFocusOutside,g=>{g.target!==u.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Be(t.onEscapeKeyDown,g=>{c.onClose(),g.preventDefault()}),onKeyDown:Be(t.onKeyDown,g=>{var w;const v=g.currentTarget.contains(g.target),y=KZ[c.dir].includes(g.key);v&&y&&(o.onOpenChange(!1),(w=u.trigger)==null||w.focus(),g.preventDefault())})})})})})});uj.displayName=cj;function dj(t){return t?"open":"closed"}function km(t){return t==="indeterminate"}function xw(t){return km(t)?"indeterminate":t?"checked":"unchecked"}function mJ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function pJ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function gJ(t,e,n){const a=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let c=pJ(t,Math.max(o,0));a.length===1&&(c=c.filter(m=>m!==n));const f=c.find(m=>m.toLowerCase().startsWith(a.toLowerCase()));return f!==n?f:void 0}function vJ(t,e){const{x:n,y:r}=t;let a=!1;for(let o=0,c=e.length-1;o<e.length;c=o++){const u=e[o].x,f=e[o].y,m=e[c].x,g=e[c].y;f>r!=g>r&&n<(m-u)*(r-f)/(g-f)+u&&(a=!a)}return a}function yJ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return vJ(n,e)}function Cd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var bJ=WO,xJ=mw,wJ=YO,_J=KO,SJ=yw,EJ=XO,CJ=jp,NJ=ZO,TJ=ej,RJ=nj,IJ=aj,AJ=sj,DJ=ij,OJ=lj,jJ=uj,ww="DropdownMenu",[MJ,Cee]=bs(ww,[HO]),qn=HO(),[PJ,fj]=MJ(ww),hj=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:a,defaultOpen:o,onOpenChange:c,modal:u=!0}=t,f=qn(e),m=x.useRef(null),[g=!1,v]=yc({prop:a,defaultProp:o,onChange:c});return d.jsx(PJ,{scope:e,triggerId:ci(),triggerRef:m,contentId:ci(),open:g,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(y=>!y),[v]),modal:u,children:d.jsx(bJ,{...f,open:g,onOpenChange:v,dir:r,modal:u,children:n})})};hj.displayName=ww;var mj="DropdownMenuTrigger",pj=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=t,o=fj(mj,n),c=qn(n);return d.jsx(xJ,{asChild:!0,...c,children:d.jsx(wt.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:sp(e,o.triggerRef),onPointerDown:Be(t.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:Be(t.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});pj.displayName=mj;var kJ="DropdownMenuPortal",gj=t=>{const{__scopeDropdownMenu:e,...n}=t,r=qn(e);return d.jsx(wJ,{...r,...n})};gj.displayName=kJ;var vj="DropdownMenuContent",yj=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=fj(vj,n),o=qn(n),c=x.useRef(!1);return d.jsx(_J,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...r,ref:e,onCloseAutoFocus:Be(t.onCloseAutoFocus,u=>{var f;c.current||(f=a.triggerRef.current)==null||f.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:Be(t.onInteractOutside,u=>{const f=u.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,g=f.button===2||m;(!a.modal||g)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yj.displayName=vj;var LJ="DropdownMenuGroup",FJ=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=qn(n);return d.jsx(SJ,{...a,...r,ref:e})});FJ.displayName=LJ;var UJ="DropdownMenuLabel",bj=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=qn(n);return d.jsx(EJ,{...a,...r,ref:e})});bj.displayName=UJ;var BJ="DropdownMenuItem",xj=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=qn(n);return d.jsx(CJ,{...a,...r,ref:e})});xj.displayName=BJ;var VJ="DropdownMenuCheckboxItem",wj=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=qn(n);return d.jsx(NJ,{...a,...r,ref:e})});wj.displayName=VJ;var $J="DropdownMenuRadioGroup",zJ=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=qn(n);return d.jsx(TJ,{...a,...r,ref:e})});zJ.displayName=$J;var HJ="DropdownMenuRadioItem",_j=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=qn(n);return d.jsx(RJ,{...a,...r,ref:e})});_j.displayName=HJ;var qJ="DropdownMenuItemIndicator",Sj=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=qn(n);return d.jsx(IJ,{...a,...r,ref:e})});Sj.displayName=qJ;var WJ="DropdownMenuSeparator",Ej=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=qn(n);return d.jsx(AJ,{...a,...r,ref:e})});Ej.displayName=WJ;var GJ="DropdownMenuArrow",YJ=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=qn(n);return d.jsx(DJ,{...a,...r,ref:e})});YJ.displayName=GJ;var KJ="DropdownMenuSubTrigger",Cj=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=qn(n);return d.jsx(OJ,{...a,...r,ref:e})});Cj.displayName=KJ;var XJ="DropdownMenuSubContent",Nj=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=qn(n);return d.jsx(jJ,{...a,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Nj.displayName=XJ;var QJ=hj,ZJ=pj,JJ=gj,Tj=yj,Rj=bj,Ij=xj,Aj=wj,Dj=_j,Oj=Sj,jj=Ej,Mj=Cj,Pj=Nj;const mT=QJ,pT=ZJ,eee=x.forwardRef(({className:t,inset:e,children:n,...r},a)=>d.jsxs(Mj,{ref:a,className:ke("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,d.jsx(GL,{className:"ml-auto h-4 w-4"})]}));eee.displayName=Mj.displayName;const tee=x.forwardRef(({className:t,...e},n)=>d.jsx(Pj,{ref:n,className:ke("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));tee.displayName=Pj.displayName;const Xb=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(JJ,{children:d.jsx(Tj,{ref:r,sideOffset:e,className:ke("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Xb.displayName=Tj.displayName;const qu=x.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(Ij,{ref:r,className:ke("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));qu.displayName=Ij.displayName;const nee=x.forwardRef(({className:t,children:e,checked:n,...r},a)=>d.jsxs(Aj,{ref:a,className:ke("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Oj,{children:d.jsx(MT,{className:"h-4 w-4"})})}),e]}));nee.displayName=Aj.displayName;const ree=x.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(Dj,{ref:r,className:ke("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Oj,{children:d.jsx(JL,{className:"h-2 w-2 fill-current"})})}),e]}));ree.displayName=Dj.displayName;const Qb=x.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(Rj,{ref:r,className:ke("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Qb.displayName=Rj.displayName;const Zb=x.forwardRef(({className:t,...e},n)=>d.jsx(jj,{ref:n,className:ke("-mx-1 my-1 h-px bg-muted",t),...e}));Zb.displayName=jj.displayName;const gT=[{label:"Administracin",icon:d1,submenu:[{label:"Clientes",path:"/customers",icon:Gy},{label:"Proveedores",path:"/suppliers",icon:FL},{label:"Colaboradores",path:"/workers",icon:zy},{label:"Roles",path:"/roles",icon:O4},{label:"Unidades",path:"/units",icon:A4},{label:"Parmetros",path:"/parameters",icon:d1},{label:"Incidentes",path:"/incidents",icon:PT}]},{label:"Operacin",icon:VT,submenu:[{label:"Compras",path:"/purchase-orders",icon:Hh},{label:"Pedidos",path:"/customer-orders",icon:dr},{label:"Produccin",path:"/production-orders",icon:ku},{label:"Cierres Diarios",path:"/daily-closures",icon:Vm}]},{label:"Inventario",icon:qy,submenu:[{label:"Productos",path:"/products",icon:kL},{label:"Recetas",path:"/recipes",icon:HL}]}],aee=({children:t})=>{const e=Tt(),[n,r]=x.useState(!1),[a,o]=x.useState(null),[c,u]=x.useState(document.documentElement.classList.contains("dark")),[f,m]=x.useState(null);x.useEffect(()=>{const _=Ml.onAuthStateChanged(E=>{m((E==null?void 0:E.email)||null)});return()=>_()},[]);const g=()=>{const _=!c;u(_),_?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")},v=()=>{localStorage.removeItem("token"),e("/login",{replace:!0})},y=_=>{o(a===_?null:_)},w=()=>{r(!1),o(null)};return d.jsxs("div",{className:"min-h-screen bg-background",onClick:()=>o(null),children:[d.jsx("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:d.jsx("div",{className:"absolute -top-[40rem] left-1/2 -z-10 transform -translate-x-1/2",children:d.jsx("div",{className:"aspect-[1200/800] w-[80rem] bg-gradient-to-tr from-primary/20 to-primary-foreground/20 opacity-30 blur-3xl"})})}),d.jsxs("nav",{className:"sticky top-0 z-40 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[d.jsx("div",{className:"container mx-auto px-1",children:d.jsxs("div",{className:"flex h-14 items-center justify-between",children:[d.jsxs(ss,{to:"/dashboard",className:"flex items-center space-x-3 cursor-pointer",onClick:w,children:[d.jsx("img",{src:yA,alt:"Logo",className:"h-8 w-8 rounded-lg object-cover"}),d.jsx("span",{className:"text-base sm:text-lg md:text-xl font-bold truncate",children:"Sistema de Gestin Operativa"})]}),d.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[d.jsx("div",{className:"flex items-center gap-1",children:gT.map((_,E)=>d.jsxs("div",{className:"relative group px-3",children:[d.jsxs("button",{onClick:S=>{S.stopPropagation(),y(E)},className:"flex items-center space-x-2 text-sm font-medium transition-colors hover:text-primary py-2",children:[_.icon&&d.jsx(_.icon,{className:"h-4 w-4"}),d.jsx("span",{children:_.label})]}),_.submenu&&a===E&&d.jsx("div",{className:"absolute right-0 top-full w-56 pt-2 z-50",onClick:S=>S.stopPropagation(),children:d.jsx(Ut,{className:"p-2 shadow-lg",children:d.jsx("nav",{className:"grid gap-1",children:_.submenu.map((S,C)=>d.jsxs(ss,{to:S.path||"#",onClick:w,className:"flex w-full items-center space-x-2 rounded-md p-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground cursor-pointer",children:[S.icon&&d.jsx(S.icon,{className:"h-4 w-4"}),d.jsx("span",{children:S.label})]},C))})})})]},E))}),d.jsx("div",{className:"flex items-center space-x-2 border-l border-border/40 pl-4 ml-2",children:d.jsxs(mT,{children:[d.jsx(pT,{asChild:!0,children:d.jsx(Se,{variant:"ghost",size:"sm",className:"rounded-full",children:d.jsx(zy,{className:"h-5 w-5"})})}),d.jsxs(Xb,{align:"end",className:"w-56",children:[d.jsx(Qb,{className:"font-normal",children:d.jsxs("div",{className:"flex flex-col space-y-1",children:[d.jsx("p",{className:"text-sm font-medium leading-none",children:"Mi Perfil"}),d.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:f})]})}),d.jsx(Zb,{}),d.jsxs(qu,{onClick:g,children:[c?d.jsx(Wy,{className:"mr-2 h-4 w-4"}):d.jsx(Hy,{className:"mr-2 h-4 w-4"}),d.jsxs("span",{children:["Tema ",c?"Claro":"Oscuro"]})]}),d.jsxs(qu,{onClick:v,children:[d.jsx(Yv,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:"Cerrar Sesin"})]})]})]})})]}),d.jsxs("div",{className:"flex md:hidden items-center space-x-2",children:[d.jsxs(mT,{children:[d.jsx(pT,{asChild:!0,children:d.jsx(Se,{variant:"ghost",size:"sm",className:"rounded-full",children:d.jsx(zy,{className:"h-5 w-5"})})}),d.jsxs(Xb,{align:"end",className:"w-56",children:[d.jsx(Qb,{className:"font-normal",children:d.jsxs("div",{className:"flex flex-col space-y-1",children:[d.jsx("p",{className:"text-sm font-medium leading-none",children:"Mi Perfil"}),d.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:f})]})}),d.jsx(Zb,{}),d.jsxs(qu,{onClick:g,children:[c?d.jsx(Wy,{className:"mr-2 h-4 w-4"}):d.jsx(Hy,{className:"mr-2 h-4 w-4"}),d.jsxs("span",{children:["Tema ",c?"Claro":"Oscuro"]})]}),d.jsxs(qu,{onClick:v,children:[d.jsx(Yv,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:"Cerrar Sesin"})]})]})]}),d.jsx(Se,{variant:"secondary",size:"sm",className:"md:hidden",onClick:()=>r(!n),children:n?d.jsx($T,{className:"h-6 w-6"}):d.jsx(v4,{className:"h-6 w-6"})})]})]})}),n&&d.jsx("div",{className:"md:hidden border-t border-border/40",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[gT.map((_,E)=>d.jsxs("div",{className:"py-2",children:[d.jsxs("button",{onClick:S=>{S.stopPropagation(),y(E)},className:"flex items-center space-x-2 font-medium mb-1 w-full text-left",children:[_.icon&&d.jsx(_.icon,{className:"h-4 w-4"}),d.jsx("span",{children:_.label})]}),_.submenu&&a===E&&d.jsx("div",{className:"pl-4 space-y-1",children:_.submenu.map((S,C)=>d.jsxs(ss,{to:S.path||"#",onClick:w,className:"flex items-center space-x-2 py-2 text-sm text-muted-foreground hover:text-primary cursor-pointer",children:[S.icon&&d.jsx(S.icon,{className:"h-4 w-4"}),d.jsx("span",{children:S.label})]},C))})]},E)),d.jsx("div",{className:"pt-4 border-t border-border/40",children:d.jsxs(Se,{variant:"ghost",className:"w-full justify-start text-sm text-muted-foreground hover:text-primary",onClick:v,children:[d.jsx(Yv,{className:"h-4 w-4 mr-2"}),"Cerrar sesin"]})})]})})]}),d.jsx("main",{className:"flex-1",children:d.jsx("div",{className:"container mx-auto px-1",children:d.jsx("div",{className:"fade-in pt-2",children:t})})})]})},see=({children:t})=>{const e=Br(),n=Tt(),r=e.pathname==="/mobile"||e.pathname==="/mobile/dashboard";x.useEffect(()=>((async()=>{try{const u=document.documentElement;u.requestFullscreen?await u.requestFullscreen():u.webkitRequestFullscreen?await u.webkitRequestFullscreen():u.msRequestFullscreen&&await u.msRequestFullscreen()}catch(u){console.log("No se pudo activar el modo pantalla completa:",u)}})(),()=>{document.fullscreenElement&&document.exitFullscreen().catch(u=>{console.log("Error al salir de pantalla completa:",u)})}),[]);const o=(()=>{const c=e.pathname;return r?{title:"Inicio",icon:Fy,showBack:!1,action:null}:c.includes("/mobile/production")?c.includes("/new")?{title:"Nueva Produccin",icon:oo,showBack:!0,action:()=>null,actionIcon:dr}:c.includes("/edit")?{title:"Editar Produccin",icon:oo,showBack:!0,action:()=>null,actionIcon:dr}:c.includes("/view")?{title:"Ver Produccin",icon:oo,showBack:!0,action:()=>null,actionIcon:dr}:c.includes("/delete")?{title:"Eliminar Produccin",icon:oo,showBack:!0,action:()=>null,actionIcon:dr}:{title:"Producciones",icon:oo,showBack:!1,action:()=>n("/mobile/production/new"),actionIcon:Ea}:c.includes("/mobile/purchases")?c.includes("/new")?{title:"Nueva Compra",icon:lo,showBack:!0,action:()=>null,actionIcon:dr}:c.includes("/edit")?{title:"Editar Compra",icon:lo,showBack:!0,action:()=>null,actionIcon:dr}:c.includes("/view")?{title:"Ver Compra",icon:lo,showBack:!0,action:()=>null,actionIcon:dr}:c.includes("/delete")?{title:"Eliminar Compra",icon:lo,showBack:!0,action:()=>null,actionIcon:dr}:{title:"Compras",icon:lo,showBack:!1,action:()=>n("/mobile/purchases/new"),actionIcon:Ea}:c.includes("/mobile/orders")?c.includes("/new")?{title:"Nuevo Pedido",icon:io,showBack:!0,action:()=>null,actionIcon:dr}:c.includes("/edit")?{title:"Editar Pedido",icon:io,showBack:!0,action:()=>null,actionIcon:dr}:c.includes("/view")?{title:"Ver Pedido",icon:io,showBack:!0,action:()=>null,actionIcon:dr}:c.includes("/delete")?{title:"Eliminar Pedido",icon:io,showBack:!0,action:()=>null,actionIcon:dr}:{title:"Pedidos",icon:io,showBack:!1,action:()=>n("/mobile/orders/new"),actionIcon:Ea}:{title:"SGO",icon:Fy,showBack:!1,action:null}})();return d.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[d.jsx("div",{className:"h-[env(safe-area-inset-top)] bg-background"}),d.jsx("header",{className:ke("sticky top-0 z-40 w-full bg-background/80 backdrop-blur-xl","transition-all duration-200 ease-in-out","border-b border-border/40"),children:d.jsxs("div",{className:"flex items-center justify-between px-2 h-14",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[o.showBack&&d.jsx(Se,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>n(-1),children:d.jsx(gZ,{className:"h-4 w-4"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[O.createElement(o.icon,{className:ke("h-5 w-5",e.pathname.includes("/mobile/production")?"text-primary":"",e.pathname.includes("/mobile/purchases")?"text-primary":"",e.pathname.includes("/mobile/orders")?"text-primary":"",r?"text-primary":"")}),d.jsx("h1",{className:"text-lg font-medium",children:o.title})]})]}),o.action&&o.actionIcon&&d.jsx(Se,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:o.action,children:O.createElement(o.actionIcon,{className:"h-5 w-5"})})]})}),d.jsx("main",{className:"flex-1",children:r?d.jsx(Gb,{}):d.jsx(o0,{})}),d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-t border-border/40",children:d.jsxs("div",{className:"flex justify-around items-center h-14",children:[d.jsxs(Se,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${r?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile"),children:[d.jsx(Fy,{className:"h-5 w-5"}),d.jsx("span",{className:"text-[10px] font-medium",children:"Inicio"}),r&&d.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]}),d.jsxs(Se,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${e.pathname.includes("/mobile/purchases")?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile/purchases"),children:[d.jsx(lo,{className:"h-5 w-5"}),d.jsx("span",{className:"text-[10px] font-medium",children:"Compras"}),e.pathname.includes("/mobile/purchases")&&d.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]}),d.jsxs(Se,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${e.pathname.includes("/mobile/orders")?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile/orders"),children:[d.jsx(io,{className:"h-5 w-5"}),d.jsx("span",{className:"text-[10px] font-medium",children:"Pedidos"}),e.pathname.includes("/mobile/orders")&&d.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]}),d.jsxs(Se,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${e.pathname.includes("/mobile/production")?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile/production"),children:[d.jsx(oo,{className:"h-5 w-5"}),d.jsx("span",{className:"text-[10px] font-medium",children:"Produccin"}),e.pathname.includes("/mobile/production")&&d.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]})]})}),d.jsx("div",{className:"h-[calc(env(safe-area-inset-bottom)+3.5rem)]"})]})};class iee extends O.Component{constructor(){super(...arguments);$e(this,"resizeObserver",null);$e(this,"state",{isMobile:window.innerWidth<=768})}componentDidMount(){this.resizeObserver=new ResizeObserver(n=>{for(const r of n){const o=r.contentRect.width<=768;this.state.isMobile!==o&&this.setState({isMobile:o},()=>{const c=o?"/mobile":"/dashboard";this.props.navigate(c)})}}),this.resizeObserver.observe(document.body)}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}render(){const{isMobile:n}=this.state,r=n?see:aee;return d.jsx(TT,{children:d.jsxs(ye,{element:d.jsx(r,{children:d.jsx(o0,{})}),children:[n&&OZ,!n&&lZ,d.jsx(ye,{path:"*",element:d.jsx(i0,{to:n?"/mobile":"/dashboard",replace:!0})})]})})}}const oee=()=>{const t=Tt();return d.jsx(iee,{navigate:t})},lee=()=>d.jsx("div",{className:"fixed inset-0 bg-gray-50 dark:bg-gray-900 z-50 flex items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Cargando..."})]})}),cee=({children:t})=>{const e=Br(),[n,r]=O.useState(!0),[a,o]=O.useState(null);return O.useEffect(()=>{let c=!0;const u=Ml.onAuthStateChanged(f=>{c&&(o(f),r(!1))});return()=>{c=!1,u()}},[]),n?d.jsx(lee,{}):a?t||d.jsx(o0,{}):d.jsx(i0,{to:"/login",state:{from:e.pathname},replace:!0})},uee=()=>{O.useEffect(()=>{new hm},[]);const t=window.innerWidth<=768;return d.jsx(bL,{basename:"/nrd-sgo",children:d.jsxs(TT,{children:[d.jsx(ye,{path:"login",element:d.jsx(wH,{})}),d.jsx(ye,{element:d.jsx(cee,{}),children:d.jsx(ye,{path:"/*",element:d.jsx(oee,{})})}),d.jsx(ye,{path:"",element:d.jsx(i0,{to:"/dashboard",replace:!0})})]})})};function dee(){return d.jsxs(d.Fragment,{children:[d.jsx(uee,{}),d.jsx(xH,{richColors:!0,position:"top-right",closeButton:!0,duration:4e3})]})}class fee extends x.Component{constructor(){super(...arguments);$e(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by error boundary:",n,r)}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:d.jsx("div",{className:"max-w-md w-full space-y-8",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(PT,{className:"h-12 w-12 text-red-500 mb-4"}),d.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Algo sali mal"}),d.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Ha ocurrido un error inesperado. Por favor, intente recargar la pgina."}),d.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Recargar pgina"}),!1]})})}):this.props.children}}rk.createRoot(document.getElementById("root")).render(d.jsx(O.StrictMode,{children:d.jsx(fee,{children:d.jsx(dee,{})})}));
//# sourceMappingURL=index-DnYVUT97.js.map
