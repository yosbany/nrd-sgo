var bj=Object.defineProperty;var xj=(t,e,n)=>e in t?bj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ve=(t,e,n)=>xj(t,typeof e!="symbol"?e+"":e,n);function wj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function db(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tv={exports:{}},Xc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function _j(){if(XE)return Xc;XE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:c,ref:s!==void 0?s:null,props:o}}return Xc.Fragment=e,Xc.jsx=n,Xc.jsxs=n,Xc}var QE;function Ej(){return QE||(QE=1,tv.exports=_j()),tv.exports}var h=Ej(),nv={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function Sj(){if(ZE)return je;ZE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function y(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,_={};function S(P,$,re){this.props=P,this.context=$,this.refs=_,this.updater=re||w}S.prototype.isReactComponent={},S.prototype.setState=function(P,$){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,$,"setState")},S.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function C(){}C.prototype=S.prototype;function T(P,$,re){this.props=P,this.context=$,this.refs=_,this.updater=re||w}var R=T.prototype=new C;R.constructor=T,E(R,S.prototype),R.isPureReactComponent=!0;var M=Array.isArray,A={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function k(P,$,re,ae,oe,J){return re=J.ref,{$$typeof:t,type:P,key:$,ref:re!==void 0?re:null,props:J}}function U(P,$){return k(P.type,$,void 0,void 0,void 0,P.props)}function F(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function Y(P){var $={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(re){return $[re]})}var se=/\/+/g;function de(P,$){return typeof P=="object"&&P!==null&&P.key!=null?Y(""+P.key):$.toString(36)}function W(){}function Q(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(W,W):(P.status="pending",P.then(function($){P.status==="pending"&&(P.status="fulfilled",P.value=$)},function($){P.status==="pending"&&(P.status="rejected",P.reason=$)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Z(P,$,re,ae,oe){var J=typeof P;(J==="undefined"||J==="boolean")&&(P=null);var ee=!1;if(P===null)ee=!0;else switch(J){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(P.$$typeof){case t:case e:ee=!0;break;case g:return ee=P._init,Z(ee(P._payload),$,re,ae,oe)}}if(ee)return oe=oe(P),ee=ae===""?"."+de(P,0):ae,M(oe)?(re="",ee!=null&&(re=ee.replace(se,"$&/")+"/"),Z(oe,$,re,"",function(me){return me})):oe!=null&&(F(oe)&&(oe=U(oe,re+(oe.key==null||P&&P.key===oe.key?"":(""+oe.key).replace(se,"$&/")+"/")+ee)),$.push(oe)),1;ee=0;var ce=ae===""?".":ae+":";if(M(P))for(var fe=0;fe<P.length;fe++)ae=P[fe],J=ce+de(ae,fe),ee+=Z(ae,$,re,J,oe);else if(fe=y(P),typeof fe=="function")for(P=fe.call(P),fe=0;!(ae=P.next()).done;)ae=ae.value,J=ce+de(ae,fe++),ee+=Z(ae,$,re,J,oe);else if(J==="object"){if(typeof P.then=="function")return Z(Q(P),$,re,ae,oe);throw $=String(P),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ee}function j(P,$,re){if(P==null)return P;var ae=[],oe=0;return Z(P,ae,"","",function(J){return $.call(re,J,oe++)}),ae}function K(P){if(P._status===-1){var $=P._result;$=$(),$.then(function(re){(P._status===0||P._status===-1)&&(P._status=1,P._result=re)},function(re){(P._status===0||P._status===-1)&&(P._status=2,P._result=re)}),P._status===-1&&(P._status=0,P._result=$)}if(P._status===1)return P._result.default;throw P._result}var B=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function H(){}return je.Children={map:j,forEach:function(P,$,re){j(P,function(){$.apply(this,arguments)},re)},count:function(P){var $=0;return j(P,function(){$++}),$},toArray:function(P){return j(P,function($){return $})||[]},only:function(P){if(!F(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},je.Component=S,je.Fragment=n,je.Profiler=s,je.PureComponent=T,je.StrictMode=r,je.Suspense=f,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,je.act=function(){throw Error("act(...) is not supported in production builds of React.")},je.cache=function(P){return function(){return P.apply(null,arguments)}},je.cloneElement=function(P,$,re){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ae=E({},P.props),oe=P.key,J=void 0;if($!=null)for(ee in $.ref!==void 0&&(J=void 0),$.key!==void 0&&(oe=""+$.key),$)!I.call($,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&$.ref===void 0||(ae[ee]=$[ee]);var ee=arguments.length-2;if(ee===1)ae.children=re;else if(1<ee){for(var ce=Array(ee),fe=0;fe<ee;fe++)ce[fe]=arguments[fe+2];ae.children=ce}return k(P.type,oe,void 0,void 0,J,ae)},je.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},je.createElement=function(P,$,re){var ae,oe={},J=null;if($!=null)for(ae in $.key!==void 0&&(J=""+$.key),$)I.call($,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(oe[ae]=$[ae]);var ee=arguments.length-2;if(ee===1)oe.children=re;else if(1<ee){for(var ce=Array(ee),fe=0;fe<ee;fe++)ce[fe]=arguments[fe+2];oe.children=ce}if(P&&P.defaultProps)for(ae in ee=P.defaultProps,ee)oe[ae]===void 0&&(oe[ae]=ee[ae]);return k(P,J,void 0,void 0,null,oe)},je.createRef=function(){return{current:null}},je.forwardRef=function(P){return{$$typeof:u,render:P}},je.isValidElement=F,je.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:K}},je.memo=function(P,$){return{$$typeof:m,type:P,compare:$===void 0?null:$}},je.startTransition=function(P){var $=A.T,re={};A.T=re;try{var ae=P(),oe=A.S;oe!==null&&oe(re,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(H,B)}catch(J){B(J)}finally{A.T=$}},je.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},je.use=function(P){return A.H.use(P)},je.useActionState=function(P,$,re){return A.H.useActionState(P,$,re)},je.useCallback=function(P,$){return A.H.useCallback(P,$)},je.useContext=function(P){return A.H.useContext(P)},je.useDebugValue=function(){},je.useDeferredValue=function(P,$){return A.H.useDeferredValue(P,$)},je.useEffect=function(P,$){return A.H.useEffect(P,$)},je.useId=function(){return A.H.useId()},je.useImperativeHandle=function(P,$,re){return A.H.useImperativeHandle(P,$,re)},je.useInsertionEffect=function(P,$){return A.H.useInsertionEffect(P,$)},je.useLayoutEffect=function(P,$){return A.H.useLayoutEffect(P,$)},je.useMemo=function(P,$){return A.H.useMemo(P,$)},je.useOptimistic=function(P,$){return A.H.useOptimistic(P,$)},je.useReducer=function(P,$,re){return A.H.useReducer(P,$,re)},je.useRef=function(P){return A.H.useRef(P)},je.useState=function(P){return A.H.useState(P)},je.useSyncExternalStore=function(P,$,re){return A.H.useSyncExternalStore(P,$,re)},je.useTransition=function(){return A.H.useTransition()},je.version="19.0.0",je}var JE;function fb(){return JE||(JE=1,nv.exports=Sj()),nv.exports}var x=fb();const D=db(x),Tu=wj({__proto__:null,default:D},[x]);var rv={exports:{}},Qc={},av={exports:{}},sv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eS;function Cj(){return eS||(eS=1,function(t){function e(j,K){var B=j.length;j.push(K);e:for(;0<B;){var H=B-1>>>1,P=j[H];if(0<s(P,K))j[H]=K,j[B]=P,B=H;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var K=j[0],B=j.pop();if(B!==K){j[0]=B;e:for(var H=0,P=j.length,$=P>>>1;H<$;){var re=2*(H+1)-1,ae=j[re],oe=re+1,J=j[oe];if(0>s(ae,B))oe<P&&0>s(J,ae)?(j[H]=J,j[oe]=B,H=oe):(j[H]=ae,j[re]=B,H=re);else if(oe<P&&0>s(J,B))j[H]=J,j[oe]=B,H=oe;else break e}}return K}function s(j,K){var B=j.sortIndex-K.sortIndex;return B!==0?B:j.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],m=[],g=1,v=null,y=3,w=!1,E=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(j){for(var K=n(m);K!==null;){if(K.callback===null)r(m);else if(K.startTime<=j)r(m),K.sortIndex=K.expirationTime,e(f,K);else break;K=n(m)}}function M(j){if(_=!1,R(j),!E)if(n(f)!==null)E=!0,Q();else{var K=n(m);K!==null&&Z(M,K.startTime-j)}}var A=!1,I=-1,k=5,U=-1;function F(){return!(t.unstable_now()-U<k)}function Y(){if(A){var j=t.unstable_now();U=j;var K=!0;try{e:{E=!1,_&&(_=!1,C(I),I=-1),w=!0;var B=y;try{t:{for(R(j),v=n(f);v!==null&&!(v.expirationTime>j&&F());){var H=v.callback;if(typeof H=="function"){v.callback=null,y=v.priorityLevel;var P=H(v.expirationTime<=j);if(j=t.unstable_now(),typeof P=="function"){v.callback=P,R(j),K=!0;break t}v===n(f)&&r(f),R(j)}else r(f);v=n(f)}if(v!==null)K=!0;else{var $=n(m);$!==null&&Z(M,$.startTime-j),K=!1}}break e}finally{v=null,y=B,w=!1}K=void 0}}finally{K?se():A=!1}}}var se;if(typeof T=="function")se=function(){T(Y)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,W=de.port2;de.port1.onmessage=Y,se=function(){W.postMessage(null)}}else se=function(){S(Y,0)};function Q(){A||(A=!0,se())}function Z(j,K){I=S(function(){j(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){E||w||(E=!0,Q())},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(j){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var B=y;y=K;try{return j()}finally{y=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,K){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var B=y;y=j;try{return K()}finally{y=B}},t.unstable_scheduleCallback=function(j,K,B){var H=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?H+B:H):B=H,j){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=B+P,j={id:g++,callback:K,priorityLevel:j,startTime:B,expirationTime:P,sortIndex:-1},B>H?(j.sortIndex=B,e(m,j),n(f)===null&&j===n(m)&&(_?(C(I),I=-1):_=!0,Z(M,B-H))):(j.sortIndex=P,e(f,j),E||w||(E=!0,Q())),j},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(j){var K=y;return function(){var B=y;y=K;try{return j.apply(this,arguments)}finally{y=B}}}}(sv)),sv}var tS;function Nj(){return tS||(tS=1,av.exports=Cj()),av.exports}var iv={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS;function Tj(){if(nS)return un;nS=1;var t=fb();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,un.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,g)},un.flushSync=function(f){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=m,r.p=g,r.d.f()}},un.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},un.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},un.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,v=u(g,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:w}):g==="script"&&r.d.X(f,{crossOrigin:v,integrity:y,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},un.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=u(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},un.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=u(g,m.crossOrigin);r.d.L(f,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},un.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=u(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},un.requestFormReset=function(f){r.d.r(f)},un.unstable_batchedUpdates=function(f,m){return f(m)},un.useFormState=function(f,m,g){return c.H.useFormState(f,m,g)},un.useFormStatus=function(){return c.H.useHostTransitionStatus()},un.version="19.0.0",un}var rS;function cN(){if(rS)return iv.exports;rS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),iv.exports=Tj(),iv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aS;function Rj(){if(aS)return Qc;aS=1;var t=Nj(),e=fb(),n=cN();function r(a){var i="https://react.dev/errors/"+a;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var o=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),w=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),M=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function I(a){return a===null||typeof a!="object"?null:(a=A&&a[A]||a["@@iterator"],typeof a=="function"?a:null)}var k=Symbol.for("react.client.reference");function U(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===k?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case f:return"Fragment";case u:return"Portal";case g:return"Profiler";case m:return"StrictMode";case _:return"Suspense";case S:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case w:return(a.displayName||"Context")+".Provider";case y:return(a._context.displayName||"Context")+".Consumer";case E:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case C:return i=a.displayName||null,i!==null?i:U(a.type)||"Memo";case T:i=a._payload,a=a._init;try{return U(a(i))}catch{}}return null}var F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=Object.assign,se,de;function W(a){if(se===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);se=i&&i[1]||"",de=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+a+de}var Q=!1;function Z(a,i){if(!a||Q)return"";Q=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var X=te}Reflect.construct(a,[],le)}else{try{le.call()}catch(te){X=te}a.call(le.prototype)}}else{try{throw Error()}catch(te){X=te}(le=a())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&X&&typeof te.stack=="string")return[te.stack,X.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),N=b[0],O=b[1];if(N&&O){var L=N.split(`
`),z=O.split(`
`);for(p=d=0;d<L.length&&!L[d].includes("DetermineComponentFrameRoot");)d++;for(;p<z.length&&!z[p].includes("DetermineComponentFrameRoot");)p++;if(d===L.length||p===z.length)for(d=L.length-1,p=z.length-1;1<=d&&0<=p&&L[d]!==z[p];)p--;for(;1<=d&&0<=p;d--,p--)if(L[d]!==z[p]){if(d!==1||p!==1)do if(d--,p--,0>p||L[d]!==z[p]){var ne=`
`+L[d].replace(" at new "," at ");return a.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",a.displayName)),ne}while(1<=d&&0<=p);break}}}finally{Q=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?W(l):""}function j(a){switch(a.tag){case 26:case 27:case 5:return W(a.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 15:return a=Z(a.type,!1),a;case 11:return a=Z(a.type.render,!1),a;case 1:return a=Z(a.type,!0),a;default:return""}}function K(a){try{var i="";do i+=j(a),a=a.return;while(a);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function B(a){var i=a,l=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(l=i.return),a=i.return;while(a)}return i.tag===3?l:null}function H(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function P(a){if(B(a)!==a)throw Error(r(188))}function $(a){var i=a.alternate;if(!i){if(i=B(a),i===null)throw Error(r(188));return i!==a?null:a}for(var l=a,d=i;;){var p=l.return;if(p===null)break;var b=p.alternate;if(b===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===l)return P(p),a;if(b===d)return P(p),i;b=b.sibling}throw Error(r(188))}if(l.return!==d.return)l=p,d=b;else{for(var N=!1,O=p.child;O;){if(O===l){N=!0,l=p,d=b;break}if(O===d){N=!0,d=p,l=b;break}O=O.sibling}if(!N){for(O=b.child;O;){if(O===l){N=!0,l=b,d=p;break}if(O===d){N=!0,d=b,l=p;break}O=O.sibling}if(!N)throw Error(r(189))}}if(l.alternate!==d)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?a:i}function re(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a;for(a=a.child;a!==null;){if(i=re(a),i!==null)return i;a=a.sibling}return null}var ae=Array.isArray,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ee=[],ce=-1;function fe(a){return{current:a}}function me(a){0>ce||(a.current=ee[ce],ee[ce]=null,ce--)}function pe(a,i){ce++,ee[ce]=a.current,a.current=i}var We=fe(null),tt=fe(null),Ye=fe(null),Ht=fe(null);function Nn(a,i){switch(pe(Ye,i),pe(tt,a),pe(We,null),a=i.nodeType,a){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?CE(i):0;break;default:if(a=a===8?i.parentNode:i,i=a.tagName,a=a.namespaceURI)a=CE(a),i=NE(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}me(We),pe(We,i)}function yr(){me(We),me(tt),me(Ye)}function br(a){a.memoizedState!==null&&pe(Ht,a);var i=We.current,l=NE(i,a.type);i!==l&&(pe(tt,a),pe(We,l))}function la(a){tt.current===a&&(me(We),me(tt)),Ht.current===a&&(me(Ht),qc._currentValue=J)}var $t=Object.prototype.hasOwnProperty,Zl=t.unstable_scheduleCallback,Jl=t.unstable_cancelCallback,Tn=t.unstable_shouldYield,Ja=t.unstable_requestPaint,Jn=t.unstable_now,Ym=t.unstable_getCurrentPriorityLevel,ri=t.unstable_ImmediatePriority,Cd=t.unstable_UserBlockingPriority,ai=t.unstable_NormalPriority,ec=t.unstable_LowPriority,ca=t.unstable_IdlePriority,Nd=t.log,es=t.unstable_setDisableYieldValue,si=null,hn=null;function Td(a){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(si,a,void 0,(a.current.flags&128)===128)}catch{}}function xr(a){if(typeof Nd=="function"&&es(a),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(si,a)}catch{}}var mn=Math.clz32?Math.clz32:Km,tc=Math.log,Br=Math.LN2;function Km(a){return a>>>=0,a===0?32:31-(tc(a)/Br|0)|0}var ii=128,oi=4194304;function Ie(a){var i=a&42;if(i!==0)return i;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function pt(a,i){var l=a.pendingLanes;if(l===0)return 0;var d=0,p=a.suspendedLanes,b=a.pingedLanes,N=a.warmLanes;a=a.finishedLanes!==0;var O=l&134217727;return O!==0?(l=O&~p,l!==0?d=Ie(l):(b&=O,b!==0?d=Ie(b):a||(N=O&~N,N!==0&&(d=Ie(N))))):(O=l&~p,O!==0?d=Ie(O):b!==0?d=Ie(b):a||(N=l&~N,N!==0&&(d=Ie(N)))),d===0?0:i!==0&&i!==d&&(i&p)===0&&(p=d&-d,N=i&-i,p>=N||p===32&&(N&4194176)!==0)?i:d}function xt(a,i){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&i)===0}function pn(a,i){switch(a){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function li(){var a=ii;return ii<<=1,(ii&4194176)===0&&(ii=128),a}function Dt(){var a=oi;return oi<<=1,(oi&62914560)===0&&(oi=4194304),a}function on(a){for(var i=[],l=0;31>l;l++)i.push(a);return i}function Vr(a,i){a.pendingLanes|=i,i!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ln(a,i,l,d,p,b){var N=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var O=a.entanglements,L=a.expirationTimes,z=a.hiddenUpdates;for(l=N&~l;0<l;){var ne=31-mn(l),le=1<<ne;O[ne]=0,L[ne]=-1;var X=z[ne];if(X!==null)for(z[ne]=null,ne=0;ne<X.length;ne++){var te=X[ne];te!==null&&(te.lane&=-536870913)}l&=~le}d!==0&&Rn(a,d,0),b!==0&&p===0&&a.tag!==0&&(a.suspendedLanes|=b&~(N&~i))}function Rn(a,i,l){a.pendingLanes|=i,a.suspendedLanes&=~i;var d=31-mn(i);a.entangledLanes|=i,a.entanglements[d]=a.entanglements[d]|1073741824|l&4194218}function nc(a,i){var l=a.entangledLanes|=i;for(a=a.entanglements;l;){var d=31-mn(l),p=1<<d;p&i|a[d]&i&&(a[d]|=i),l&=~p}}function zr(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Xm(){var a=oe.p;return a!==0?a:(a=window.event,a===void 0?32:$E(a.type))}function cO(a,i){var l=oe.p;try{return oe.p=a,i()}finally{oe.p=l}}var ts=Math.random().toString(36).slice(2),ln="__reactFiber$"+ts,In="__reactProps$"+ts,fo="__reactContainer$"+ts,Qm="__reactEvents$"+ts,uO="__reactListeners$"+ts,dO="__reactHandles$"+ts,Ex="__reactResources$"+ts,rc="__reactMarker$"+ts;function Zm(a){delete a[ln],delete a[In],delete a[Qm],delete a[uO],delete a[dO]}function ci(a){var i=a[ln];if(i)return i;for(var l=a.parentNode;l;){if(i=l[fo]||l[ln]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(a=IE(a);a!==null;){if(l=a[ln])return l;a=IE(a)}return i}a=l,l=a.parentNode}return null}function ho(a){if(a=a[ln]||a[fo]){var i=a.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return a}return null}function ac(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a.stateNode;throw Error(r(33))}function mo(a){var i=a[Ex];return i||(i=a[Ex]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function qt(a){a[rc]=!0}var Sx=new Set,Cx={};function ui(a,i){po(a,i),po(a+"Capture",i)}function po(a,i){for(Cx[a]=i,a=0;a<i.length;a++)Sx.add(i[a])}var ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nx={},Tx={};function hO(a){return $t.call(Tx,a)?!0:$t.call(Nx,a)?!1:fO.test(a)?Tx[a]=!0:(Nx[a]=!0,!1)}function Rd(a,i,l){if(hO(i))if(l===null)a.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(i);return}}a.setAttribute(i,""+l)}}function Id(a,i,l){if(l===null)a.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(i);return}a.setAttribute(i,""+l)}}function da(a,i,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(i,l,""+d)}}function er(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Rx(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function mO(a){var i=Rx(a)?"checked":"value",l=Object.getOwnPropertyDescriptor(a.constructor.prototype,i),d=""+a[i];if(!a.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,b=l.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return p.call(this)},set:function(N){d=""+N,b.call(this,N)}}),Object.defineProperty(a,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(N){d=""+N},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function Ad(a){a._valueTracker||(a._valueTracker=mO(a))}function Ix(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return a&&(d=Rx(a)?a.checked?"true":"false":a.value),a=d,a!==l?(i.setValue(a),!0):!1}function Dd(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var pO=/[\n"\\]/g;function tr(a){return a.replace(pO,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Jm(a,i,l,d,p,b,N,O){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),i!=null?N==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+er(i)):a.value!==""+er(i)&&(a.value=""+er(i)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),i!=null?ep(a,N,er(i)):l!=null?ep(a,N,er(l)):d!=null&&a.removeAttribute("value"),p==null&&b!=null&&(a.defaultChecked=!!b),p!=null&&(a.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.name=""+er(O):a.removeAttribute("name")}function Ax(a,i,l,d,p,b,N,O){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),i!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||i!=null))return;l=l!=null?""+er(l):"",i=i!=null?""+er(i):l,O||i===a.value||(a.value=i),a.defaultValue=i}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=O?a.checked:!!d,a.defaultChecked=!!d,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N)}function ep(a,i,l){i==="number"&&Dd(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function go(a,i,l,d){if(a=a.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<a.length;l++)p=i.hasOwnProperty("$"+a[l].value),a[l].selected!==p&&(a[l].selected=p),p&&d&&(a[l].defaultSelected=!0)}else{for(l=""+er(l),i=null,p=0;p<a.length;p++){if(a[p].value===l){a[p].selected=!0,d&&(a[p].defaultSelected=!0);return}i!==null||a[p].disabled||(i=a[p])}i!==null&&(i.selected=!0)}}function Dx(a,i,l){if(i!=null&&(i=""+er(i),i!==a.value&&(a.value=i),l==null)){a.defaultValue!==i&&(a.defaultValue=i);return}a.defaultValue=l!=null?""+er(l):""}function Ox(a,i,l,d){if(i==null){if(d!=null){if(l!=null)throw Error(r(92));if(ae(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),i=l}l=er(i),a.defaultValue=l,d=a.textContent,d===l&&d!==""&&d!==null&&(a.value=d)}function vo(a,i){if(i){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=i;return}}a.textContent=i}var gO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mx(a,i,l){var d=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?a.setProperty(i,""):i==="float"?a.cssFloat="":a[i]="":d?a.setProperty(i,l):typeof l!="number"||l===0||gO.has(i)?i==="float"?a.cssFloat=l:a[i]=(""+l).trim():a[i]=l+"px"}function jx(a,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(a=a.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var p in i)d=i[p],i.hasOwnProperty(p)&&l[p]!==d&&Mx(a,p,d)}else for(var b in i)i.hasOwnProperty(b)&&Mx(a,b,i[b])}function tp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Od(a){return yO.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var np=null;function rp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var yo=null,bo=null;function Px(a){var i=ho(a);if(i&&(a=i.stateNode)){var l=a[In]||null;e:switch(a=i.stateNode,i.type){case"input":if(Jm(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+tr(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==a&&d.form===a.form){var p=d[In]||null;if(!p)throw Error(r(90));Jm(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<l.length;i++)d=l[i],d.form===a.form&&Ix(d)}break e;case"textarea":Dx(a,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&go(a,!!l.multiple,i,!1)}}}var ap=!1;function kx(a,i,l){if(ap)return a(i,l);ap=!0;try{var d=a(i);return d}finally{if(ap=!1,(yo!==null||bo!==null)&&(gf(),yo&&(i=yo,a=bo,bo=yo=null,Px(i),a)))for(i=0;i<a.length;i++)Px(a[i])}}function sc(a,i){var l=a.stateNode;if(l===null)return null;var d=l[In]||null;if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var sp=!1;if(ua)try{var ic={};Object.defineProperty(ic,"passive",{get:function(){sp=!0}}),window.addEventListener("test",ic,ic),window.removeEventListener("test",ic,ic)}catch{sp=!1}var ns=null,ip=null,Md=null;function Lx(){if(Md)return Md;var a,i=ip,l=i.length,d,p="value"in ns?ns.value:ns.textContent,b=p.length;for(a=0;a<l&&i[a]===p[a];a++);var N=l-a;for(d=1;d<=N&&i[l-d]===p[b-d];d++);return Md=p.slice(a,1<d?1-d:void 0)}function jd(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function Pd(){return!0}function Ux(){return!1}function An(a){function i(l,d,p,b,N){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=b,this.target=N,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(l=a[O],this[O]=l?l(b):b[O]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Pd:Ux,this.isPropagationStopped=Ux,this}return Y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Pd)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Pd)},persist:function(){},isPersistent:Pd}),i}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kd=An(di),oc=Y({},di,{view:0,detail:0}),bO=An(oc),op,lp,lc,Ld=Y({},oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:up,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==lc&&(lc&&a.type==="mousemove"?(op=a.screenX-lc.screenX,lp=a.screenY-lc.screenY):lp=op=0,lc=a),op)},movementY:function(a){return"movementY"in a?a.movementY:lp}}),Fx=An(Ld),xO=Y({},Ld,{dataTransfer:0}),wO=An(xO),_O=Y({},oc,{relatedTarget:0}),cp=An(_O),EO=Y({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),SO=An(EO),CO=Y({},di,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),NO=An(CO),TO=Y({},di,{data:0}),Bx=An(TO),RO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DO(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=AO[a])?!!i[a]:!1}function up(){return DO}var OO=Y({},oc,{key:function(a){if(a.key){var i=RO[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=jd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?IO[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:up,charCode:function(a){return a.type==="keypress"?jd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?jd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),MO=An(OO),jO=Y({},Ld,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vx=An(jO),PO=Y({},oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:up}),kO=An(PO),LO=Y({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),UO=An(LO),FO=Y({},Ld,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),BO=An(FO),VO=Y({},di,{newState:0,oldState:0}),zO=An(VO),HO=[9,13,27,32],dp=ua&&"CompositionEvent"in window,cc=null;ua&&"documentMode"in document&&(cc=document.documentMode);var $O=ua&&"TextEvent"in window&&!cc,zx=ua&&(!dp||cc&&8<cc&&11>=cc),Hx=" ",$x=!1;function qx(a,i){switch(a){case"keyup":return HO.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wx(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var xo=!1;function qO(a,i){switch(a){case"compositionend":return Wx(i);case"keypress":return i.which!==32?null:($x=!0,Hx);case"textInput":return a=i.data,a===Hx&&$x?null:a;default:return null}}function WO(a,i){if(xo)return a==="compositionend"||!dp&&qx(a,i)?(a=Lx(),Md=ip=ns=null,xo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return zx&&i.locale!=="ko"?null:i.data;default:return null}}var GO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gx(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!GO[a.type]:i==="textarea"}function Yx(a,i,l,d){yo?bo?bo.push(d):bo=[d]:yo=d,i=wf(i,"onChange"),0<i.length&&(l=new kd("onChange","change",null,l,d),a.push({event:l,listeners:i}))}var uc=null,dc=null;function YO(a){xE(a,0)}function Ud(a){var i=ac(a);if(Ix(i))return a}function Kx(a,i){if(a==="change")return i}var Xx=!1;if(ua){var fp;if(ua){var hp="oninput"in document;if(!hp){var Qx=document.createElement("div");Qx.setAttribute("oninput","return;"),hp=typeof Qx.oninput=="function"}fp=hp}else fp=!1;Xx=fp&&(!document.documentMode||9<document.documentMode)}function Zx(){uc&&(uc.detachEvent("onpropertychange",Jx),dc=uc=null)}function Jx(a){if(a.propertyName==="value"&&Ud(dc)){var i=[];Yx(i,dc,a,rp(a)),kx(YO,i)}}function KO(a,i,l){a==="focusin"?(Zx(),uc=i,dc=l,uc.attachEvent("onpropertychange",Jx)):a==="focusout"&&Zx()}function XO(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ud(dc)}function QO(a,i){if(a==="click")return Ud(i)}function ZO(a,i){if(a==="input"||a==="change")return Ud(i)}function JO(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var Un=typeof Object.is=="function"?Object.is:JO;function fc(a,i){if(Un(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var l=Object.keys(a),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!$t.call(i,p)||!Un(a[p],i[p]))return!1}return!0}function ew(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function tw(a,i){var l=ew(a);a=0;for(var d;l;){if(l.nodeType===3){if(d=a+l.textContent.length,a<=i&&d>=i)return{node:l,offset:i-a};a=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ew(l)}}function nw(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?nw(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function rw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var i=Dd(a.document);i instanceof a.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)a=i.contentWindow;else break;i=Dd(a.document)}return i}function mp(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}function eM(a,i){var l=rw(i);i=a.focusedElem;var d=a.selectionRange;if(l!==i&&i&&i.ownerDocument&&nw(i.ownerDocument.documentElement,i)){if(d!==null&&mp(i)){if(a=d.start,l=d.end,l===void 0&&(l=a),"selectionStart"in i)i.selectionStart=a,i.selectionEnd=Math.min(l,i.value.length);else if(l=(a=i.ownerDocument||document)&&a.defaultView||window,l.getSelection){l=l.getSelection();var p=i.textContent.length,b=Math.min(d.start,p);d=d.end===void 0?b:Math.min(d.end,p),!l.extend&&b>d&&(p=d,d=b,b=p),p=tw(i,b);var N=tw(i,d);p&&N&&(l.rangeCount!==1||l.anchorNode!==p.node||l.anchorOffset!==p.offset||l.focusNode!==N.node||l.focusOffset!==N.offset)&&(a=a.createRange(),a.setStart(p.node,p.offset),l.removeAllRanges(),b>d?(l.addRange(a),l.extend(N.node,N.offset)):(a.setEnd(N.node,N.offset),l.addRange(a)))}}for(a=[],l=i;l=l.parentNode;)l.nodeType===1&&a.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<a.length;i++)l=a[i],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var tM=ua&&"documentMode"in document&&11>=document.documentMode,wo=null,pp=null,hc=null,gp=!1;function aw(a,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;gp||wo==null||wo!==Dd(d)||(d=wo,"selectionStart"in d&&mp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),hc&&fc(hc,d)||(hc=d,d=wf(pp,"onSelect"),0<d.length&&(i=new kd("onSelect","select",null,i,l),a.push({event:i,listeners:d}),i.target=wo)))}function fi(a,i){var l={};return l[a.toLowerCase()]=i.toLowerCase(),l["Webkit"+a]="webkit"+i,l["Moz"+a]="moz"+i,l}var _o={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionrun:fi("Transition","TransitionRun"),transitionstart:fi("Transition","TransitionStart"),transitioncancel:fi("Transition","TransitionCancel"),transitionend:fi("Transition","TransitionEnd")},vp={},sw={};ua&&(sw=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function hi(a){if(vp[a])return vp[a];if(!_o[a])return a;var i=_o[a],l;for(l in i)if(i.hasOwnProperty(l)&&l in sw)return vp[a]=i[l];return a}var iw=hi("animationend"),ow=hi("animationiteration"),lw=hi("animationstart"),nM=hi("transitionrun"),rM=hi("transitionstart"),aM=hi("transitioncancel"),cw=hi("transitionend"),uw=new Map,dw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function wr(a,i){uw.set(a,i),ui(i,[a])}var nr=[],Eo=0,yp=0;function Fd(){for(var a=Eo,i=yp=Eo=0;i<a;){var l=nr[i];nr[i++]=null;var d=nr[i];nr[i++]=null;var p=nr[i];nr[i++]=null;var b=nr[i];if(nr[i++]=null,d!==null&&p!==null){var N=d.pending;N===null?p.next=p:(p.next=N.next,N.next=p),d.pending=p}b!==0&&fw(l,p,b)}}function Bd(a,i,l,d){nr[Eo++]=a,nr[Eo++]=i,nr[Eo++]=l,nr[Eo++]=d,yp|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function bp(a,i,l,d){return Bd(a,i,l,d),Vd(a)}function rs(a,i){return Bd(a,null,null,i),Vd(a)}function fw(a,i,l){a.lanes|=l;var d=a.alternate;d!==null&&(d.lanes|=l);for(var p=!1,b=a.return;b!==null;)b.childLanes|=l,d=b.alternate,d!==null&&(d.childLanes|=l),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(p=!0)),a=b,b=b.return;p&&i!==null&&a.tag===3&&(b=a.stateNode,p=31-mn(l),b=b.hiddenUpdates,a=b[p],a===null?b[p]=[i]:a.push(i),i.lane=l|536870912)}function Vd(a){if(50<Uc)throw Uc=0,Cg=null,Error(r(185));for(var i=a.return;i!==null;)a=i,i=a.return;return a.tag===3?a.stateNode:null}var So={},hw=new WeakMap;function rr(a,i){if(typeof a=="object"&&a!==null){var l=hw.get(a);return l!==void 0?l:(i={value:a,source:i,stack:K(i)},hw.set(a,i),i)}return{value:a,source:i,stack:K(i)}}var Co=[],No=0,zd=null,Hd=0,ar=[],sr=0,mi=null,fa=1,ha="";function pi(a,i){Co[No++]=Hd,Co[No++]=zd,zd=a,Hd=i}function mw(a,i,l){ar[sr++]=fa,ar[sr++]=ha,ar[sr++]=mi,mi=a;var d=fa;a=ha;var p=32-mn(d)-1;d&=~(1<<p),l+=1;var b=32-mn(i)+p;if(30<b){var N=p-p%5;b=(d&(1<<N)-1).toString(32),d>>=N,p-=N,fa=1<<32-mn(i)+p|l<<p|d,ha=b+a}else fa=1<<b|l<<p|d,ha=a}function xp(a){a.return!==null&&(pi(a,1),mw(a,1,0))}function wp(a){for(;a===zd;)zd=Co[--No],Co[No]=null,Hd=Co[--No],Co[No]=null;for(;a===mi;)mi=ar[--sr],ar[sr]=null,ha=ar[--sr],ar[sr]=null,fa=ar[--sr],ar[sr]=null}var gn=null,en=null,Ke=!1,_r=null,Hr=!1,_p=Error(r(519));function gi(a){var i=Error(r(418,""));throw gc(rr(i,a)),_p}function pw(a){var i=a.stateNode,l=a.type,d=a.memoizedProps;switch(i[ln]=a,i[In]=d,l){case"dialog":$e("cancel",i),$e("close",i);break;case"iframe":case"object":case"embed":$e("load",i);break;case"video":case"audio":for(l=0;l<Bc.length;l++)$e(Bc[l],i);break;case"source":$e("error",i);break;case"img":case"image":case"link":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"input":$e("invalid",i),Ax(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ad(i);break;case"select":$e("invalid",i);break;case"textarea":$e("invalid",i),Ox(i,d.value,d.defaultValue,d.children),Ad(i)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||d.suppressHydrationWarning===!0||SE(i.textContent,l)?(d.popover!=null&&($e("beforetoggle",i),$e("toggle",i)),d.onScroll!=null&&$e("scroll",i),d.onScrollEnd!=null&&$e("scrollend",i),d.onClick!=null&&(i.onclick=_f),i=!0):i=!1,i||gi(a)}function gw(a){for(gn=a.return;gn;)switch(gn.tag){case 3:case 27:Hr=!0;return;case 5:case 13:Hr=!1;return;default:gn=gn.return}}function mc(a){if(a!==gn)return!1;if(!Ke)return gw(a),Ke=!0,!1;var i=!1,l;if((l=a.tag!==3&&a.tag!==27)&&((l=a.tag===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||zg(a.type,a.memoizedProps)),l=!l),l&&(i=!0),i&&en&&gi(a),gw(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,i=0;a;){if(a.nodeType===8)if(l=a.data,l==="/$"){if(i===0){en=Sr(a.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;a=a.nextSibling}en=null}}else en=gn?Sr(a.stateNode.nextSibling):null;return!0}function pc(){en=gn=null,Ke=!1}function gc(a){_r===null?_r=[a]:_r.push(a)}var vc=Error(r(460)),vw=Error(r(474)),Ep={then:function(){}};function yw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function $d(){}function bw(a,i,l){switch(l=a[l],l===void 0?a.push(i):l!==i&&(i.then($d,$d),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,a===vc?Error(r(483)):a;default:if(typeof i.status=="string")i.then($d,$d);else{if(a=ct,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=i,a.status="pending",a.then(function(d){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=d}},function(d){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,a===vc?Error(r(483)):a}throw yc=i,vc}}var yc=null;function xw(){if(yc===null)throw Error(r(459));var a=yc;return yc=null,a}var To=null,bc=0;function qd(a){var i=bc;return bc+=1,To===null&&(To=[]),bw(To,a,i)}function xc(a,i){i=i.props.ref,a.ref=i!==void 0?i:null}function Wd(a,i){throw i.$$typeof===o?Error(r(525)):(a=Object.prototype.toString.call(i),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a)))}function ww(a){var i=a._init;return i(a._payload)}function _w(a){function i(q,V){if(a){var G=q.deletions;G===null?(q.deletions=[V],q.flags|=16):G.push(V)}}function l(q,V){if(!a)return null;for(;V!==null;)i(q,V),V=V.sibling;return null}function d(q){for(var V=new Map;q!==null;)q.key!==null?V.set(q.key,q):V.set(q.index,q),q=q.sibling;return V}function p(q,V){return q=ps(q,V),q.index=0,q.sibling=null,q}function b(q,V,G){return q.index=G,a?(G=q.alternate,G!==null?(G=G.index,G<V?(q.flags|=33554434,V):G):(q.flags|=33554434,V)):(q.flags|=1048576,V)}function N(q){return a&&q.alternate===null&&(q.flags|=33554434),q}function O(q,V,G,ie){return V===null||V.tag!==6?(V=vg(G,q.mode,ie),V.return=q,V):(V=p(V,G),V.return=q,V)}function L(q,V,G,ie){var ge=G.type;return ge===f?ne(q,V,G.props.children,ie,G.key):V!==null&&(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===T&&ww(ge)===V.type)?(V=p(V,G.props),xc(V,G),V.return=q,V):(V=df(G.type,G.key,G.props,null,q.mode,ie),xc(V,G),V.return=q,V)}function z(q,V,G,ie){return V===null||V.tag!==4||V.stateNode.containerInfo!==G.containerInfo||V.stateNode.implementation!==G.implementation?(V=yg(G,q.mode,ie),V.return=q,V):(V=p(V,G.children||[]),V.return=q,V)}function ne(q,V,G,ie,ge){return V===null||V.tag!==7?(V=Ni(G,q.mode,ie,ge),V.return=q,V):(V=p(V,G),V.return=q,V)}function le(q,V,G){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=vg(""+V,q.mode,G),V.return=q,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case c:return G=df(V.type,V.key,V.props,null,q.mode,G),xc(G,V),G.return=q,G;case u:return V=yg(V,q.mode,G),V.return=q,V;case T:var ie=V._init;return V=ie(V._payload),le(q,V,G)}if(ae(V)||I(V))return V=Ni(V,q.mode,G,null),V.return=q,V;if(typeof V.then=="function")return le(q,qd(V),G);if(V.$$typeof===w)return le(q,lf(q,V),G);Wd(q,V)}return null}function X(q,V,G,ie){var ge=V!==null?V.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ge!==null?null:O(q,V,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case c:return G.key===ge?L(q,V,G,ie):null;case u:return G.key===ge?z(q,V,G,ie):null;case T:return ge=G._init,G=ge(G._payload),X(q,V,G,ie)}if(ae(G)||I(G))return ge!==null?null:ne(q,V,G,ie,null);if(typeof G.then=="function")return X(q,V,qd(G),ie);if(G.$$typeof===w)return X(q,V,lf(q,G),ie);Wd(q,G)}return null}function te(q,V,G,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return q=q.get(G)||null,O(V,q,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case c:return q=q.get(ie.key===null?G:ie.key)||null,L(V,q,ie,ge);case u:return q=q.get(ie.key===null?G:ie.key)||null,z(V,q,ie,ge);case T:var Le=ie._init;return ie=Le(ie._payload),te(q,V,G,ie,ge)}if(ae(ie)||I(ie))return q=q.get(G)||null,ne(V,q,ie,ge,null);if(typeof ie.then=="function")return te(q,V,G,qd(ie),ge);if(ie.$$typeof===w)return te(q,V,G,lf(V,ie),ge);Wd(V,ie)}return null}function xe(q,V,G,ie){for(var ge=null,Le=null,_e=V,Ce=V=0,Yt=null;_e!==null&&Ce<G.length;Ce++){_e.index>Ce?(Yt=_e,_e=null):Yt=_e.sibling;var Xe=X(q,_e,G[Ce],ie);if(Xe===null){_e===null&&(_e=Yt);break}a&&_e&&Xe.alternate===null&&i(q,_e),V=b(Xe,V,Ce),Le===null?ge=Xe:Le.sibling=Xe,Le=Xe,_e=Yt}if(Ce===G.length)return l(q,_e),Ke&&pi(q,Ce),ge;if(_e===null){for(;Ce<G.length;Ce++)_e=le(q,G[Ce],ie),_e!==null&&(V=b(_e,V,Ce),Le===null?ge=_e:Le.sibling=_e,Le=_e);return Ke&&pi(q,Ce),ge}for(_e=d(_e);Ce<G.length;Ce++)Yt=te(_e,q,Ce,G[Ce],ie),Yt!==null&&(a&&Yt.alternate!==null&&_e.delete(Yt.key===null?Ce:Yt.key),V=b(Yt,V,Ce),Le===null?ge=Yt:Le.sibling=Yt,Le=Yt);return a&&_e.forEach(function(_s){return i(q,_s)}),Ke&&pi(q,Ce),ge}function De(q,V,G,ie){if(G==null)throw Error(r(151));for(var ge=null,Le=null,_e=V,Ce=V=0,Yt=null,Xe=G.next();_e!==null&&!Xe.done;Ce++,Xe=G.next()){_e.index>Ce?(Yt=_e,_e=null):Yt=_e.sibling;var _s=X(q,_e,Xe.value,ie);if(_s===null){_e===null&&(_e=Yt);break}a&&_e&&_s.alternate===null&&i(q,_e),V=b(_s,V,Ce),Le===null?ge=_s:Le.sibling=_s,Le=_s,_e=Yt}if(Xe.done)return l(q,_e),Ke&&pi(q,Ce),ge;if(_e===null){for(;!Xe.done;Ce++,Xe=G.next())Xe=le(q,Xe.value,ie),Xe!==null&&(V=b(Xe,V,Ce),Le===null?ge=Xe:Le.sibling=Xe,Le=Xe);return Ke&&pi(q,Ce),ge}for(_e=d(_e);!Xe.done;Ce++,Xe=G.next())Xe=te(_e,q,Ce,Xe.value,ie),Xe!==null&&(a&&Xe.alternate!==null&&_e.delete(Xe.key===null?Ce:Xe.key),V=b(Xe,V,Ce),Le===null?ge=Xe:Le.sibling=Xe,Le=Xe);return a&&_e.forEach(function(yj){return i(q,yj)}),Ke&&pi(q,Ce),ge}function Et(q,V,G,ie){if(typeof G=="object"&&G!==null&&G.type===f&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case c:e:{for(var ge=G.key;V!==null;){if(V.key===ge){if(ge=G.type,ge===f){if(V.tag===7){l(q,V.sibling),ie=p(V,G.props.children),ie.return=q,q=ie;break e}}else if(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===T&&ww(ge)===V.type){l(q,V.sibling),ie=p(V,G.props),xc(ie,G),ie.return=q,q=ie;break e}l(q,V);break}else i(q,V);V=V.sibling}G.type===f?(ie=Ni(G.props.children,q.mode,ie,G.key),ie.return=q,q=ie):(ie=df(G.type,G.key,G.props,null,q.mode,ie),xc(ie,G),ie.return=q,q=ie)}return N(q);case u:e:{for(ge=G.key;V!==null;){if(V.key===ge)if(V.tag===4&&V.stateNode.containerInfo===G.containerInfo&&V.stateNode.implementation===G.implementation){l(q,V.sibling),ie=p(V,G.children||[]),ie.return=q,q=ie;break e}else{l(q,V);break}else i(q,V);V=V.sibling}ie=yg(G,q.mode,ie),ie.return=q,q=ie}return N(q);case T:return ge=G._init,G=ge(G._payload),Et(q,V,G,ie)}if(ae(G))return xe(q,V,G,ie);if(I(G)){if(ge=I(G),typeof ge!="function")throw Error(r(150));return G=ge.call(G),De(q,V,G,ie)}if(typeof G.then=="function")return Et(q,V,qd(G),ie);if(G.$$typeof===w)return Et(q,V,lf(q,G),ie);Wd(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,V!==null&&V.tag===6?(l(q,V.sibling),ie=p(V,G),ie.return=q,q=ie):(l(q,V),ie=vg(G,q.mode,ie),ie.return=q,q=ie),N(q)):l(q,V)}return function(q,V,G,ie){try{bc=0;var ge=Et(q,V,G,ie);return To=null,ge}catch(_e){if(_e===vc)throw _e;var Le=cr(29,_e,null,q.mode);return Le.lanes=ie,Le.return=q,Le}finally{}}}var vi=_w(!0),Ew=_w(!1),Ro=fe(null),Gd=fe(0);function Sw(a,i){a=Sa,pe(Gd,a),pe(Ro,i),Sa=a|i.baseLanes}function Sp(){pe(Gd,Sa),pe(Ro,Ro.current)}function Cp(){Sa=Gd.current,me(Ro),me(Gd)}var ir=fe(null),$r=null;function as(a){var i=a.alternate;pe(Lt,Lt.current&1),pe(ir,a),$r===null&&(i===null||Ro.current!==null||i.memoizedState!==null)&&($r=a)}function Cw(a){if(a.tag===22){if(pe(Lt,Lt.current),pe(ir,a),$r===null){var i=a.alternate;i!==null&&i.memoizedState!==null&&($r=a)}}else ss()}function ss(){pe(Lt,Lt.current),pe(ir,ir.current)}function ma(a){me(ir),$r===a&&($r=null),me(Lt)}var Lt=fe(0);function Yd(a){for(var i=a;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var sM=typeof AbortController<"u"?AbortController:function(){var a=[],i=this.signal={aborted:!1,addEventListener:function(l,d){a.push(d)}};this.abort=function(){i.aborted=!0,a.forEach(function(l){return l()})}},iM=t.unstable_scheduleCallback,oM=t.unstable_NormalPriority,Ut={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Np(){return{controller:new sM,data:new Map,refCount:0}}function wc(a){a.refCount--,a.refCount===0&&iM(oM,function(){a.controller.abort()})}var _c=null,Tp=0,Io=0,Ao=null;function lM(a,i){if(_c===null){var l=_c=[];Tp=0,Io=Mg(),Ao={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Tp++,i.then(Nw,Nw),i}function Nw(){if(--Tp===0&&_c!==null){Ao!==null&&(Ao.status="fulfilled");var a=_c;_c=null,Io=0,Ao=null;for(var i=0;i<a.length;i++)(0,a[i])()}}function cM(a,i){var l=[],d={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return a.then(function(){d.status="fulfilled",d.value=i;for(var p=0;p<l.length;p++)(0,l[p])(i)},function(p){for(d.status="rejected",d.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),d}var Tw=F.S;F.S=function(a,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&lM(a,i),Tw!==null&&Tw(a,i)};var yi=fe(null);function Rp(){var a=yi.current;return a!==null?a:ct.pooledCache}function Kd(a,i){i===null?pe(yi,yi.current):pe(yi,i.pool)}function Rw(){var a=Rp();return a===null?null:{parent:Ut._currentValue,pool:a}}var is=0,Pe=null,at=null,Ot=null,Xd=!1,Do=!1,bi=!1,Qd=0,Ec=0,Oo=null,uM=0;function Tt(){throw Error(r(321))}function Ip(a,i){if(i===null)return!1;for(var l=0;l<i.length&&l<a.length;l++)if(!Un(a[l],i[l]))return!1;return!0}function Ap(a,i,l,d,p,b){return is=b,Pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=a===null||a.memoizedState===null?xi:os,bi=!1,b=l(d,p),bi=!1,Do&&(b=Aw(i,l,d,p)),Iw(a),b}function Iw(a){F.H=qr;var i=at!==null&&at.next!==null;if(is=0,Ot=at=Pe=null,Xd=!1,Ec=0,Oo=null,i)throw Error(r(300));a===null||Wt||(a=a.dependencies,a!==null&&of(a)&&(Wt=!0))}function Aw(a,i,l,d){Pe=a;var p=0;do{if(Do&&(Oo=null),Ec=0,Do=!1,25<=p)throw Error(r(301));if(p+=1,Ot=at=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}F.H=wi,b=i(l,d)}while(Do);return b}function dM(){var a=F.H,i=a.useState()[0];return i=typeof i.then=="function"?Sc(i):i,a=a.useState()[0],(at!==null?at.memoizedState:null)!==a&&(Pe.flags|=1024),i}function Dp(){var a=Qd!==0;return Qd=0,a}function Op(a,i,l){i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~l}function Mp(a){if(Xd){for(a=a.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}Xd=!1}is=0,Ot=at=Pe=null,Do=!1,Ec=Qd=0,Oo=null}function Dn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Pe.memoizedState=Ot=a:Ot=Ot.next=a,Ot}function Mt(){if(at===null){var a=Pe.alternate;a=a!==null?a.memoizedState:null}else a=at.next;var i=Ot===null?Pe.memoizedState:Ot.next;if(i!==null)Ot=i,at=a;else{if(a===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));at=a,a={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Ot===null?Pe.memoizedState=Ot=a:Ot=Ot.next=a}return Ot}var Zd;Zd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Sc(a){var i=Ec;return Ec+=1,Oo===null&&(Oo=[]),a=bw(Oo,a,i),i=Pe,(Ot===null?i.memoizedState:Ot.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?xi:os),a}function Jd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Sc(a);if(a.$$typeof===w)return cn(a)}throw Error(r(438,String(a)))}function jp(a){var i=null,l=Pe.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var d=Pe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Zd(),Pe.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(a),d=0;d<a;d++)l[d]=M;return i.index++,l}function pa(a,i){return typeof i=="function"?i(a):i}function ef(a){var i=Mt();return Pp(i,at,a)}function Pp(a,i,l){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var p=a.baseQueue,b=d.pending;if(b!==null){if(p!==null){var N=p.next;p.next=b.next,b.next=N}i.baseQueue=p=b,d.pending=null}if(b=a.baseState,p===null)a.memoizedState=b;else{i=p.next;var O=N=null,L=null,z=i,ne=!1;do{var le=z.lane&-536870913;if(le!==z.lane?(Ge&le)===le:(is&le)===le){var X=z.revertLane;if(X===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),le===Io&&(ne=!0);else if((is&X)===X){z=z.next,X===Io&&(ne=!0);continue}else le={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},L===null?(O=L=le,N=b):L=L.next=le,Pe.lanes|=X,gs|=X;le=z.action,bi&&l(b,le),b=z.hasEagerState?z.eagerState:l(b,le)}else X={lane:le,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},L===null?(O=L=X,N=b):L=L.next=X,Pe.lanes|=le,gs|=le;z=z.next}while(z!==null&&z!==i);if(L===null?N=b:L.next=O,!Un(b,a.memoizedState)&&(Wt=!0,ne&&(l=Ao,l!==null)))throw l;a.memoizedState=b,a.baseState=N,a.baseQueue=L,d.lastRenderedState=b}return p===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function kp(a){var i=Mt(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var d=l.dispatch,p=l.pending,b=i.memoizedState;if(p!==null){l.pending=null;var N=p=p.next;do b=a(b,N.action),N=N.next;while(N!==p);Un(b,i.memoizedState)||(Wt=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),l.lastRenderedState=b}return[b,d]}function Dw(a,i,l){var d=Pe,p=Mt(),b=Ke;if(b){if(l===void 0)throw Error(r(407));l=l()}else l=i();var N=!Un((at||p).memoizedState,l);if(N&&(p.memoizedState=l,Wt=!0),p=p.queue,Fp(jw.bind(null,d,p,a),[a]),p.getSnapshot!==i||N||Ot!==null&&Ot.memoizedState.tag&1){if(d.flags|=2048,Mo(9,Mw.bind(null,d,p,l,i),{destroy:void 0},null),ct===null)throw Error(r(349));b||(is&60)!==0||Ow(d,i,l)}return l}function Ow(a,i,l){a.flags|=16384,a={getSnapshot:i,value:l},i=Pe.updateQueue,i===null?(i=Zd(),Pe.updateQueue=i,i.stores=[a]):(l=i.stores,l===null?i.stores=[a]:l.push(a))}function Mw(a,i,l,d){i.value=l,i.getSnapshot=d,Pw(i)&&kw(a)}function jw(a,i,l){return l(function(){Pw(i)&&kw(a)})}function Pw(a){var i=a.getSnapshot;a=a.value;try{var l=i();return!Un(a,l)}catch{return!0}}function kw(a){var i=rs(a,2);i!==null&&vn(i,a,2)}function Lp(a){var i=Dn();if(typeof a=="function"){var l=a;if(a=l(),bi){xr(!0);try{l()}finally{xr(!1)}}}return i.memoizedState=i.baseState=a,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:a},i}function Lw(a,i,l,d){return a.baseState=l,Pp(a,at,typeof d=="function"?d:pa)}function fM(a,i,l,d,p){if(rf(a))throw Error(r(485));if(a=i.action,a!==null){var b={payload:p,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){b.listeners.push(N)}};F.T!==null?l(!0):b.isTransition=!1,d(b),l=i.pending,l===null?(b.next=i.pending=b,Uw(i,b)):(b.next=l.next,i.pending=l.next=b)}}function Uw(a,i){var l=i.action,d=i.payload,p=a.state;if(i.isTransition){var b=F.T,N={};F.T=N;try{var O=l(p,d),L=F.S;L!==null&&L(N,O),Fw(a,i,O)}catch(z){Up(a,i,z)}finally{F.T=b}}else try{b=l(p,d),Fw(a,i,b)}catch(z){Up(a,i,z)}}function Fw(a,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){Bw(a,i,d)},function(d){return Up(a,i,d)}):Bw(a,i,l)}function Bw(a,i,l){i.status="fulfilled",i.value=l,Vw(i),a.state=l,i=a.pending,i!==null&&(l=i.next,l===i?a.pending=null:(l=l.next,i.next=l,Uw(a,l)))}function Up(a,i,l){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=l,Vw(i),i=i.next;while(i!==d)}a.action=null}function Vw(a){a=a.listeners;for(var i=0;i<a.length;i++)(0,a[i])()}function zw(a,i){return i}function Hw(a,i){if(Ke){var l=ct.formState;if(l!==null){e:{var d=Pe;if(Ke){if(en){t:{for(var p=en,b=Hr;p.nodeType!==8;){if(!b){p=null;break t}if(p=Sr(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){en=Sr(p.nextSibling),d=p.data==="F!";break e}}gi(d)}d=!1}d&&(i=l[0])}}return l=Dn(),l.memoizedState=l.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zw,lastRenderedState:i},l.queue=d,l=o_.bind(null,Pe,d),d.dispatch=l,d=Lp(!1),b=$p.bind(null,Pe,!1,d.queue),d=Dn(),p={state:i,dispatch:null,action:a,pending:null},d.queue=p,l=fM.bind(null,Pe,p,b,l),p.dispatch=l,d.memoizedState=a,[i,l,!1]}function $w(a){var i=Mt();return qw(i,at,a)}function qw(a,i,l){i=Pp(a,i,zw)[0],a=ef(pa)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Sc(i):i;var d=Mt(),p=d.queue,b=p.dispatch;return l!==d.memoizedState&&(Pe.flags|=2048,Mo(9,hM.bind(null,p,l),{destroy:void 0},null)),[i,b,a]}function hM(a,i){a.action=i}function Ww(a){var i=Mt(),l=at;if(l!==null)return qw(i,l,a);Mt(),i=i.memoizedState,l=Mt();var d=l.queue.dispatch;return l.memoizedState=a,[i,d,!1]}function Mo(a,i,l,d){return a={tag:a,create:i,inst:l,deps:d,next:null},i=Pe.updateQueue,i===null&&(i=Zd(),Pe.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=a.next=a:(d=l.next,l.next=a,a.next=d,i.lastEffect=a),a}function Gw(){return Mt().memoizedState}function tf(a,i,l,d){var p=Dn();Pe.flags|=a,p.memoizedState=Mo(1|i,l,{destroy:void 0},d===void 0?null:d)}function nf(a,i,l,d){var p=Mt();d=d===void 0?null:d;var b=p.memoizedState.inst;at!==null&&d!==null&&Ip(d,at.memoizedState.deps)?p.memoizedState=Mo(i,l,b,d):(Pe.flags|=a,p.memoizedState=Mo(1|i,l,b,d))}function Yw(a,i){tf(8390656,8,a,i)}function Fp(a,i){nf(2048,8,a,i)}function Kw(a,i){return nf(4,2,a,i)}function Xw(a,i){return nf(4,4,a,i)}function Qw(a,i){if(typeof i=="function"){a=a();var l=i(a);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function Zw(a,i,l){l=l!=null?l.concat([a]):null,nf(4,4,Qw.bind(null,i,a),l)}function Bp(){}function Jw(a,i){var l=Mt();i=i===void 0?null:i;var d=l.memoizedState;return i!==null&&Ip(i,d[1])?d[0]:(l.memoizedState=[a,i],a)}function e_(a,i){var l=Mt();i=i===void 0?null:i;var d=l.memoizedState;if(i!==null&&Ip(i,d[1]))return d[0];if(d=a(),bi){xr(!0);try{a()}finally{xr(!1)}}return l.memoizedState=[d,i],d}function Vp(a,i,l){return l===void 0||(is&1073741824)!==0?a.memoizedState=i:(a.memoizedState=l,a=nE(),Pe.lanes|=a,gs|=a,l)}function t_(a,i,l,d){return Un(l,i)?l:Ro.current!==null?(a=Vp(a,l,d),Un(a,i)||(Wt=!0),a):(is&42)===0?(Wt=!0,a.memoizedState=l):(a=nE(),Pe.lanes|=a,gs|=a,i)}function n_(a,i,l,d,p){var b=oe.p;oe.p=b!==0&&8>b?b:8;var N=F.T,O={};F.T=O,$p(a,!1,i,l);try{var L=p(),z=F.S;if(z!==null&&z(O,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ne=cM(L,d);Cc(a,i,ne,zn(a))}else Cc(a,i,d,zn(a))}catch(le){Cc(a,i,{then:function(){},status:"rejected",reason:le},zn())}finally{oe.p=b,F.T=N}}function mM(){}function zp(a,i,l,d){if(a.tag!==5)throw Error(r(476));var p=r_(a).queue;n_(a,p,i,J,l===null?mM:function(){return a_(a),l(d)})}function r_(a){var i=a.memoizedState;if(i!==null)return i;i={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:J},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:l},next:null},a.memoizedState=i,a=a.alternate,a!==null&&(a.memoizedState=i),i}function a_(a){var i=r_(a).next.queue;Cc(a,i,{},zn())}function Hp(){return cn(qc)}function s_(){return Mt().memoizedState}function i_(){return Mt().memoizedState}function pM(a){for(var i=a.return;i!==null;){switch(i.tag){case 24:case 3:var l=zn();a=us(l);var d=ds(i,a,l);d!==null&&(vn(d,i,l),Rc(d,i,l)),i={cache:Np()},a.payload=i;return}i=i.return}}function gM(a,i,l){var d=zn();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},rf(a)?l_(i,l):(l=bp(a,i,l,d),l!==null&&(vn(l,a,d),c_(l,i,d)))}function o_(a,i,l){var d=zn();Cc(a,i,l,d)}function Cc(a,i,l,d){var p={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(rf(a))l_(i,p);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var N=i.lastRenderedState,O=b(N,l);if(p.hasEagerState=!0,p.eagerState=O,Un(O,N))return Bd(a,i,p,0),ct===null&&Fd(),!1}catch{}finally{}if(l=bp(a,i,p,d),l!==null)return vn(l,a,d),c_(l,i,d),!0}return!1}function $p(a,i,l,d){if(d={lane:2,revertLane:Mg(),action:d,hasEagerState:!1,eagerState:null,next:null},rf(a)){if(i)throw Error(r(479))}else i=bp(a,l,d,2),i!==null&&vn(i,a,2)}function rf(a){var i=a.alternate;return a===Pe||i!==null&&i===Pe}function l_(a,i){Do=Xd=!0;var l=a.pending;l===null?i.next=i:(i.next=l.next,l.next=i),a.pending=i}function c_(a,i,l){if((l&4194176)!==0){var d=i.lanes;d&=a.pendingLanes,l|=d,i.lanes=l,nc(a,l)}}var qr={readContext:cn,use:Jd,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt};qr.useCacheRefresh=Tt,qr.useMemoCache=Tt,qr.useHostTransitionStatus=Tt,qr.useFormState=Tt,qr.useActionState=Tt,qr.useOptimistic=Tt;var xi={readContext:cn,use:Jd,useCallback:function(a,i){return Dn().memoizedState=[a,i===void 0?null:i],a},useContext:cn,useEffect:Yw,useImperativeHandle:function(a,i,l){l=l!=null?l.concat([a]):null,tf(4194308,4,Qw.bind(null,i,a),l)},useLayoutEffect:function(a,i){return tf(4194308,4,a,i)},useInsertionEffect:function(a,i){tf(4,2,a,i)},useMemo:function(a,i){var l=Dn();i=i===void 0?null:i;var d=a();if(bi){xr(!0);try{a()}finally{xr(!1)}}return l.memoizedState=[d,i],d},useReducer:function(a,i,l){var d=Dn();if(l!==void 0){var p=l(i);if(bi){xr(!0);try{l(i)}finally{xr(!1)}}}else p=i;return d.memoizedState=d.baseState=p,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:p},d.queue=a,a=a.dispatch=gM.bind(null,Pe,a),[d.memoizedState,a]},useRef:function(a){var i=Dn();return a={current:a},i.memoizedState=a},useState:function(a){a=Lp(a);var i=a.queue,l=o_.bind(null,Pe,i);return i.dispatch=l,[a.memoizedState,l]},useDebugValue:Bp,useDeferredValue:function(a,i){var l=Dn();return Vp(l,a,i)},useTransition:function(){var a=Lp(!1);return a=n_.bind(null,Pe,a.queue,!0,!1),Dn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,i,l){var d=Pe,p=Dn();if(Ke){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),ct===null)throw Error(r(349));(Ge&60)!==0||Ow(d,i,l)}p.memoizedState=l;var b={value:l,getSnapshot:i};return p.queue=b,Yw(jw.bind(null,d,b,a),[a]),d.flags|=2048,Mo(9,Mw.bind(null,d,b,l,i),{destroy:void 0},null),l},useId:function(){var a=Dn(),i=ct.identifierPrefix;if(Ke){var l=ha,d=fa;l=(d&~(1<<32-mn(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=Qd++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=uM++,i=":"+i+"r"+l.toString(32)+":";return a.memoizedState=i},useCacheRefresh:function(){return Dn().memoizedState=pM.bind(null,Pe)}};xi.useMemoCache=jp,xi.useHostTransitionStatus=Hp,xi.useFormState=Hw,xi.useActionState=Hw,xi.useOptimistic=function(a){var i=Dn();i.memoizedState=i.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=$p.bind(null,Pe,!0,l),l.dispatch=i,[a,i]};var os={readContext:cn,use:Jd,useCallback:Jw,useContext:cn,useEffect:Fp,useImperativeHandle:Zw,useInsertionEffect:Kw,useLayoutEffect:Xw,useMemo:e_,useReducer:ef,useRef:Gw,useState:function(){return ef(pa)},useDebugValue:Bp,useDeferredValue:function(a,i){var l=Mt();return t_(l,at.memoizedState,a,i)},useTransition:function(){var a=ef(pa)[0],i=Mt().memoizedState;return[typeof a=="boolean"?a:Sc(a),i]},useSyncExternalStore:Dw,useId:s_};os.useCacheRefresh=i_,os.useMemoCache=jp,os.useHostTransitionStatus=Hp,os.useFormState=$w,os.useActionState=$w,os.useOptimistic=function(a,i){var l=Mt();return Lw(l,at,a,i)};var wi={readContext:cn,use:Jd,useCallback:Jw,useContext:cn,useEffect:Fp,useImperativeHandle:Zw,useInsertionEffect:Kw,useLayoutEffect:Xw,useMemo:e_,useReducer:kp,useRef:Gw,useState:function(){return kp(pa)},useDebugValue:Bp,useDeferredValue:function(a,i){var l=Mt();return at===null?Vp(l,a,i):t_(l,at.memoizedState,a,i)},useTransition:function(){var a=kp(pa)[0],i=Mt().memoizedState;return[typeof a=="boolean"?a:Sc(a),i]},useSyncExternalStore:Dw,useId:s_};wi.useCacheRefresh=i_,wi.useMemoCache=jp,wi.useHostTransitionStatus=Hp,wi.useFormState=Ww,wi.useActionState=Ww,wi.useOptimistic=function(a,i){var l=Mt();return at!==null?Lw(l,at,a,i):(l.baseState=a,[a,l.queue.dispatch])};function qp(a,i,l,d){i=a.memoizedState,l=l(d,i),l=l==null?i:Y({},i,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var Wp={isMounted:function(a){return(a=a._reactInternals)?B(a)===a:!1},enqueueSetState:function(a,i,l){a=a._reactInternals;var d=zn(),p=us(d);p.payload=i,l!=null&&(p.callback=l),i=ds(a,p,d),i!==null&&(vn(i,a,d),Rc(i,a,d))},enqueueReplaceState:function(a,i,l){a=a._reactInternals;var d=zn(),p=us(d);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=ds(a,p,d),i!==null&&(vn(i,a,d),Rc(i,a,d))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var l=zn(),d=us(l);d.tag=2,i!=null&&(d.callback=i),i=ds(a,d,l),i!==null&&(vn(i,a,l),Rc(i,a,l))}};function u_(a,i,l,d,p,b,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,b,N):i.prototype&&i.prototype.isPureReactComponent?!fc(l,d)||!fc(p,b):!0}function d_(a,i,l,d){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==a&&Wp.enqueueReplaceState(i,i.state,null)}function _i(a,i){var l=i;if("ref"in i){l={};for(var d in i)d!=="ref"&&(l[d]=i[d])}if(a=a.defaultProps){l===i&&(l=Y({},l));for(var p in a)l[p]===void 0&&(l[p]=a[p])}return l}var af=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function f_(a){af(a)}function h_(a){console.error(a)}function m_(a){af(a)}function sf(a,i){try{var l=a.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function p_(a,i,l){try{var d=a.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Gp(a,i,l){return l=us(l),l.tag=3,l.payload={element:null},l.callback=function(){sf(a,i)},l}function g_(a){return a=us(a),a.tag=3,a}function v_(a,i,l,d){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var b=d.value;a.payload=function(){return p(b)},a.callback=function(){p_(i,l,d)}}var N=l.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){p_(i,l,d),typeof p!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var O=d.stack;this.componentDidCatch(d.value,{componentStack:O!==null?O:""})})}function vM(a,i,l,d,p){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=l.alternate,i!==null&&Tc(i,l,p,!0),l=ir.current,l!==null){switch(l.tag){case 13:return $r===null?Rg():l.alternate===null&&_t===0&&(_t=3),l.flags&=-257,l.flags|=65536,l.lanes=p,d===Ep?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([d]):i.add(d),Ag(a,d,p)),!1;case 22:return l.flags|=65536,d===Ep?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([d]):l.add(d)),Ag(a,d,p)),!1}throw Error(r(435,l.tag))}return Ag(a,d,p),Rg(),!1}if(Ke)return i=ir.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,d!==_p&&(a=Error(r(422),{cause:d}),gc(rr(a,l)))):(d!==_p&&(i=Error(r(423),{cause:d}),gc(rr(i,l))),a=a.current.alternate,a.flags|=65536,p&=-p,a.lanes|=p,d=rr(d,l),p=Gp(a.stateNode,d,p),lg(a,p),_t!==4&&(_t=2)),!1;var b=Error(r(520),{cause:d});if(b=rr(b,l),kc===null?kc=[b]:kc.push(b),_t!==4&&(_t=2),i===null)return!0;d=rr(d,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,a=p&-p,l.lanes|=a,a=Gp(l.stateNode,d,a),lg(l,a),!1;case 1:if(i=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(vs===null||!vs.has(b))))return l.flags|=65536,p&=-p,l.lanes|=p,p=g_(p),v_(p,a,l,d),lg(l,p),!1}l=l.return}while(l!==null);return!1}var y_=Error(r(461)),Wt=!1;function tn(a,i,l,d){i.child=a===null?Ew(i,null,l,d):vi(i,a.child,l,d)}function b_(a,i,l,d,p){l=l.render;var b=i.ref;if("ref"in d){var N={};for(var O in d)O!=="ref"&&(N[O]=d[O])}else N=d;return Si(i),d=Ap(a,i,l,N,b,p),O=Dp(),a!==null&&!Wt?(Op(a,i,p),ga(a,i,p)):(Ke&&O&&xp(i),i.flags|=1,tn(a,i,d,p),i.child)}function x_(a,i,l,d,p){if(a===null){var b=l.type;return typeof b=="function"&&!gg(b)&&b.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=b,w_(a,i,b,d,p)):(a=df(l.type,null,d,i,i.mode,p),a.ref=i.ref,a.return=i,i.child=a)}if(b=a.child,!ng(a,p)){var N=b.memoizedProps;if(l=l.compare,l=l!==null?l:fc,l(N,d)&&a.ref===i.ref)return ga(a,i,p)}return i.flags|=1,a=ps(b,d),a.ref=i.ref,a.return=i,i.child=a}function w_(a,i,l,d,p){if(a!==null){var b=a.memoizedProps;if(fc(b,d)&&a.ref===i.ref)if(Wt=!1,i.pendingProps=d=b,ng(a,p))(a.flags&131072)!==0&&(Wt=!0);else return i.lanes=a.lanes,ga(a,i,p)}return Yp(a,i,l,d,p)}function __(a,i,l){var d=i.pendingProps,p=d.children,b=(i.stateNode._pendingVisibility&2)!==0,N=a!==null?a.memoizedState:null;if(Nc(a,i),d.mode==="hidden"||b){if((i.flags&128)!==0){if(d=N!==null?N.baseLanes|l:l,a!==null){for(p=i.child=a.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;i.childLanes=b&~d}else i.childLanes=0,i.child=null;return E_(a,i,d,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},a!==null&&Kd(i,N!==null?N.cachePool:null),N!==null?Sw(i,N):Sp(),Cw(i);else return i.lanes=i.childLanes=536870912,E_(a,i,N!==null?N.baseLanes|l:l,l)}else N!==null?(Kd(i,N.cachePool),Sw(i,N),ss(),i.memoizedState=null):(a!==null&&Kd(i,null),Sp(),ss());return tn(a,i,p,l),i.child}function E_(a,i,l,d){var p=Rp();return p=p===null?null:{parent:Ut._currentValue,pool:p},i.memoizedState={baseLanes:l,cachePool:p},a!==null&&Kd(i,null),Sp(),Cw(i),a!==null&&Tc(a,i,d,!0),null}function Nc(a,i){var l=i.ref;if(l===null)a!==null&&a.ref!==null&&(i.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(a===null||a.ref!==l)&&(i.flags|=2097664)}}function Yp(a,i,l,d,p){return Si(i),l=Ap(a,i,l,d,void 0,p),d=Dp(),a!==null&&!Wt?(Op(a,i,p),ga(a,i,p)):(Ke&&d&&xp(i),i.flags|=1,tn(a,i,l,p),i.child)}function S_(a,i,l,d,p,b){return Si(i),i.updateQueue=null,l=Aw(i,d,l,p),Iw(a),d=Dp(),a!==null&&!Wt?(Op(a,i,b),ga(a,i,b)):(Ke&&d&&xp(i),i.flags|=1,tn(a,i,l,b),i.child)}function C_(a,i,l,d,p){if(Si(i),i.stateNode===null){var b=So,N=l.contextType;typeof N=="object"&&N!==null&&(b=cn(N)),b=new l(d,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Wp,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=d,b.state=i.memoizedState,b.refs={},ig(i),N=l.contextType,b.context=typeof N=="object"&&N!==null?cn(N):So,b.state=i.memoizedState,N=l.getDerivedStateFromProps,typeof N=="function"&&(qp(i,l,N,d),b.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(N=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),N!==b.state&&Wp.enqueueReplaceState(b,b.state,null),Ac(i,d,b,p),Ic(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(a===null){b=i.stateNode;var O=i.memoizedProps,L=_i(l,O);b.props=L;var z=b.context,ne=l.contextType;N=So,typeof ne=="object"&&ne!==null&&(N=cn(ne));var le=l.getDerivedStateFromProps;ne=typeof le=="function"||typeof b.getSnapshotBeforeUpdate=="function",O=i.pendingProps!==O,ne||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O||z!==N)&&d_(i,b,d,N),cs=!1;var X=i.memoizedState;b.state=X,Ac(i,d,b,p),Ic(),z=i.memoizedState,O||X!==z||cs?(typeof le=="function"&&(qp(i,l,le,d),z=i.memoizedState),(L=cs||u_(i,l,L,d,X,z,N))?(ne||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=z),b.props=d,b.state=z,b.context=N,d=L):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{b=i.stateNode,og(a,i),N=i.memoizedProps,ne=_i(l,N),b.props=ne,le=i.pendingProps,X=b.context,z=l.contextType,L=So,typeof z=="object"&&z!==null&&(L=cn(z)),O=l.getDerivedStateFromProps,(z=typeof O=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==le||X!==L)&&d_(i,b,d,L),cs=!1,X=i.memoizedState,b.state=X,Ac(i,d,b,p),Ic();var te=i.memoizedState;N!==le||X!==te||cs||a!==null&&a.dependencies!==null&&of(a.dependencies)?(typeof O=="function"&&(qp(i,l,O,d),te=i.memoizedState),(ne=cs||u_(i,l,ne,d,X,te,L)||a!==null&&a.dependencies!==null&&of(a.dependencies))?(z||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,te,L),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,te,L)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||N===a.memoizedProps&&X===a.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&X===a.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=te),b.props=d,b.state=te,b.context=L,d=ne):(typeof b.componentDidUpdate!="function"||N===a.memoizedProps&&X===a.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&X===a.memoizedState||(i.flags|=1024),d=!1)}return b=d,Nc(a,i),d=(i.flags&128)!==0,b||d?(b=i.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,a!==null&&d?(i.child=vi(i,a.child,null,p),i.child=vi(i,null,l,p)):tn(a,i,l,p),i.memoizedState=b.state,a=i.child):a=ga(a,i,p),a}function N_(a,i,l,d){return pc(),i.flags|=256,tn(a,i,l,d),i.child}var Kp={dehydrated:null,treeContext:null,retryLane:0};function Xp(a){return{baseLanes:a,cachePool:Rw()}}function Qp(a,i,l){return a=a!==null?a.childLanes&~l:0,i&&(a|=ur),a}function T_(a,i,l){var d=i.pendingProps,p=!1,b=(i.flags&128)!==0,N;if((N=b)||(N=a!==null&&a.memoizedState===null?!1:(Lt.current&2)!==0),N&&(p=!0,i.flags&=-129),N=(i.flags&32)!==0,i.flags&=-33,a===null){if(Ke){if(p?as(i):ss(),Ke){var O=en,L;if(L=O){e:{for(L=O,O=Hr;L.nodeType!==8;){if(!O){O=null;break e}if(L=Sr(L.nextSibling),L===null){O=null;break e}}O=L}O!==null?(i.memoizedState={dehydrated:O,treeContext:mi!==null?{id:fa,overflow:ha}:null,retryLane:536870912},L=cr(18,null,null,0),L.stateNode=O,L.return=i,i.child=L,gn=i,en=null,L=!0):L=!1}L||gi(i)}if(O=i.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return O.data==="$!"?i.lanes=16:i.lanes=536870912,null;ma(i)}return O=d.children,d=d.fallback,p?(ss(),p=i.mode,O=Jp({mode:"hidden",children:O},p),d=Ni(d,p,l,null),O.return=i,d.return=i,O.sibling=d,i.child=O,p=i.child,p.memoizedState=Xp(l),p.childLanes=Qp(a,N,l),i.memoizedState=Kp,d):(as(i),Zp(i,O))}if(L=a.memoizedState,L!==null&&(O=L.dehydrated,O!==null)){if(b)i.flags&256?(as(i),i.flags&=-257,i=eg(a,i,l)):i.memoizedState!==null?(ss(),i.child=a.child,i.flags|=128,i=null):(ss(),p=d.fallback,O=i.mode,d=Jp({mode:"visible",children:d.children},O),p=Ni(p,O,l,null),p.flags|=2,d.return=i,p.return=i,d.sibling=p,i.child=d,vi(i,a.child,null,l),d=i.child,d.memoizedState=Xp(l),d.childLanes=Qp(a,N,l),i.memoizedState=Kp,i=p);else if(as(i),O.data==="$!"){if(N=O.nextSibling&&O.nextSibling.dataset,N)var z=N.dgst;N=z,d=Error(r(419)),d.stack="",d.digest=N,gc({value:d,source:null,stack:null}),i=eg(a,i,l)}else if(Wt||Tc(a,i,l,!1),N=(l&a.childLanes)!==0,Wt||N){if(N=ct,N!==null){if(d=l&-l,(d&42)!==0)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=(d&(N.suspendedLanes|l))!==0?0:d,d!==0&&d!==L.retryLane)throw L.retryLane=d,rs(a,d),vn(N,a,d),y_}O.data==="$?"||Rg(),i=eg(a,i,l)}else O.data==="$?"?(i.flags|=128,i.child=a.child,i=OM.bind(null,a),O._reactRetry=i,i=null):(a=L.treeContext,en=Sr(O.nextSibling),gn=i,Ke=!0,_r=null,Hr=!1,a!==null&&(ar[sr++]=fa,ar[sr++]=ha,ar[sr++]=mi,fa=a.id,ha=a.overflow,mi=i),i=Zp(i,d.children),i.flags|=4096);return i}return p?(ss(),p=d.fallback,O=i.mode,L=a.child,z=L.sibling,d=ps(L,{mode:"hidden",children:d.children}),d.subtreeFlags=L.subtreeFlags&31457280,z!==null?p=ps(z,p):(p=Ni(p,O,l,null),p.flags|=2),p.return=i,d.return=i,d.sibling=p,i.child=d,d=p,p=i.child,O=a.child.memoizedState,O===null?O=Xp(l):(L=O.cachePool,L!==null?(z=Ut._currentValue,L=L.parent!==z?{parent:z,pool:z}:L):L=Rw(),O={baseLanes:O.baseLanes|l,cachePool:L}),p.memoizedState=O,p.childLanes=Qp(a,N,l),i.memoizedState=Kp,d):(as(i),l=a.child,a=l.sibling,l=ps(l,{mode:"visible",children:d.children}),l.return=i,l.sibling=null,a!==null&&(N=i.deletions,N===null?(i.deletions=[a],i.flags|=16):N.push(a)),i.child=l,i.memoizedState=null,l)}function Zp(a,i){return i=Jp({mode:"visible",children:i},a.mode),i.return=a,a.child=i}function Jp(a,i){return J_(a,i,0,null)}function eg(a,i,l){return vi(i,a.child,null,l),a=Zp(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function R_(a,i,l){a.lanes|=i;var d=a.alternate;d!==null&&(d.lanes|=i),ag(a.return,i,l)}function tg(a,i,l,d,p){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=l,b.tailMode=p)}function I_(a,i,l){var d=i.pendingProps,p=d.revealOrder,b=d.tail;if(tn(a,i,d.children,l),d=Lt.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&R_(a,l,i);else if(a.tag===19)R_(a,l,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}switch(pe(Lt,d),p){case"forwards":for(l=i.child,p=null;l!==null;)a=l.alternate,a!==null&&Yd(a)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),tg(i,!1,p,l,b);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(a=p.alternate,a!==null&&Yd(a)===null){i.child=p;break}a=p.sibling,p.sibling=l,l=p,p=a}tg(i,!0,l,null,b);break;case"together":tg(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ga(a,i,l){if(a!==null&&(i.dependencies=a.dependencies),gs|=i.lanes,(l&i.childLanes)===0)if(a!==null){if(Tc(a,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(a!==null&&i.child!==a.child)throw Error(r(153));if(i.child!==null){for(a=i.child,l=ps(a,a.pendingProps),i.child=l,l.return=i;a.sibling!==null;)a=a.sibling,l=l.sibling=ps(a,a.pendingProps),l.return=i;l.sibling=null}return i.child}function ng(a,i){return(a.lanes&i)!==0?!0:(a=a.dependencies,!!(a!==null&&of(a)))}function yM(a,i,l){switch(i.tag){case 3:Nn(i,i.stateNode.containerInfo),ls(i,Ut,a.memoizedState.cache),pc();break;case 27:case 5:br(i);break;case 4:Nn(i,i.stateNode.containerInfo);break;case 10:ls(i,i.type,i.memoizedProps.value);break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(as(i),i.flags|=128,null):(l&i.child.childLanes)!==0?T_(a,i,l):(as(i),a=ga(a,i,l),a!==null?a.sibling:null);as(i);break;case 19:var p=(a.flags&128)!==0;if(d=(l&i.childLanes)!==0,d||(Tc(a,i,l,!1),d=(l&i.childLanes)!==0),p){if(d)return I_(a,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),pe(Lt,Lt.current),d)break;return null;case 22:case 23:return i.lanes=0,__(a,i,l);case 24:ls(i,Ut,a.memoizedState.cache)}return ga(a,i,l)}function A_(a,i,l){if(a!==null)if(a.memoizedProps!==i.pendingProps)Wt=!0;else{if(!ng(a,l)&&(i.flags&128)===0)return Wt=!1,yM(a,i,l);Wt=(a.flags&131072)!==0}else Wt=!1,Ke&&(i.flags&1048576)!==0&&mw(i,Hd,i.index);switch(i.lanes=0,i.tag){case 16:e:{a=i.pendingProps;var d=i.elementType,p=d._init;if(d=p(d._payload),i.type=d,typeof d=="function")gg(d)?(a=_i(d,a),i.tag=1,i=C_(null,i,d,a,l)):(i.tag=0,i=Yp(null,i,d,a,l));else{if(d!=null){if(p=d.$$typeof,p===E){i.tag=11,i=b_(null,i,d,a,l);break e}else if(p===C){i.tag=14,i=x_(null,i,d,a,l);break e}}throw i=U(d)||d,Error(r(306,i,""))}}return i;case 0:return Yp(a,i,i.type,i.pendingProps,l);case 1:return d=i.type,p=_i(d,i.pendingProps),C_(a,i,d,p,l);case 3:e:{if(Nn(i,i.stateNode.containerInfo),a===null)throw Error(r(387));var b=i.pendingProps;p=i.memoizedState,d=p.element,og(a,i),Ac(i,b,null,l);var N=i.memoizedState;if(b=N.cache,ls(i,Ut,b),b!==p.cache&&sg(i,[Ut],l,!0),Ic(),b=N.element,p.isDehydrated)if(p={element:b,isDehydrated:!1,cache:N.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=N_(a,i,b,l);break e}else if(b!==d){d=rr(Error(r(424)),i),gc(d),i=N_(a,i,b,l);break e}else for(en=Sr(i.stateNode.containerInfo.firstChild),gn=i,Ke=!0,_r=null,Hr=!0,l=Ew(i,null,b,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(pc(),b===d){i=ga(a,i,l);break e}tn(a,i,b,l)}i=i.child}return i;case 26:return Nc(a,i),a===null?(l=ME(i.type,null,i.pendingProps,null))?i.memoizedState=l:Ke||(l=i.type,a=i.pendingProps,d=Ef(Ye.current).createElement(l),d[ln]=i,d[In]=a,nn(d,l,a),qt(d),i.stateNode=d):i.memoizedState=ME(i.type,a.memoizedProps,i.pendingProps,a.memoizedState),null;case 27:return br(i),a===null&&Ke&&(d=i.stateNode=AE(i.type,i.pendingProps,Ye.current),gn=i,Hr=!0,en=Sr(d.firstChild)),d=i.pendingProps.children,a!==null||Ke?tn(a,i,d,l):i.child=vi(i,null,d,l),Nc(a,i),i.child;case 5:return a===null&&Ke&&((p=d=en)&&(d=YM(d,i.type,i.pendingProps,Hr),d!==null?(i.stateNode=d,gn=i,en=Sr(d.firstChild),Hr=!1,p=!0):p=!1),p||gi(i)),br(i),p=i.type,b=i.pendingProps,N=a!==null?a.memoizedProps:null,d=b.children,zg(p,b)?d=null:N!==null&&zg(p,N)&&(i.flags|=32),i.memoizedState!==null&&(p=Ap(a,i,dM,null,null,l),qc._currentValue=p),Nc(a,i),tn(a,i,d,l),i.child;case 6:return a===null&&Ke&&((a=l=en)&&(l=KM(l,i.pendingProps,Hr),l!==null?(i.stateNode=l,gn=i,en=null,a=!0):a=!1),a||gi(i)),null;case 13:return T_(a,i,l);case 4:return Nn(i,i.stateNode.containerInfo),d=i.pendingProps,a===null?i.child=vi(i,null,d,l):tn(a,i,d,l),i.child;case 11:return b_(a,i,i.type,i.pendingProps,l);case 7:return tn(a,i,i.pendingProps,l),i.child;case 8:return tn(a,i,i.pendingProps.children,l),i.child;case 12:return tn(a,i,i.pendingProps.children,l),i.child;case 10:return d=i.pendingProps,ls(i,i.type,d.value),tn(a,i,d.children,l),i.child;case 9:return p=i.type._context,d=i.pendingProps.children,Si(i),p=cn(p),d=d(p),i.flags|=1,tn(a,i,d,l),i.child;case 14:return x_(a,i,i.type,i.pendingProps,l);case 15:return w_(a,i,i.type,i.pendingProps,l);case 19:return I_(a,i,l);case 22:return __(a,i,l);case 24:return Si(i),d=cn(Ut),a===null?(p=Rp(),p===null&&(p=ct,b=Np(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=l),p=b),i.memoizedState={parent:d,cache:p},ig(i),ls(i,Ut,p)):((a.lanes&l)!==0&&(og(a,i),Ac(i,null,null,l),Ic()),p=a.memoizedState,b=i.memoizedState,p.parent!==d?(p={parent:d,cache:d},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),ls(i,Ut,d)):(d=b.cache,ls(i,Ut,d),d!==p.cache&&sg(i,[Ut],l,!0))),tn(a,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}var rg=fe(null),Ei=null,va=null;function ls(a,i,l){pe(rg,i._currentValue),i._currentValue=l}function ya(a){a._currentValue=rg.current,me(rg)}function ag(a,i,l){for(;a!==null;){var d=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),a===l)break;a=a.return}}function sg(a,i,l,d){var p=a.child;for(p!==null&&(p.return=a);p!==null;){var b=p.dependencies;if(b!==null){var N=p.child;b=b.firstContext;e:for(;b!==null;){var O=b;b=p;for(var L=0;L<i.length;L++)if(O.context===i[L]){b.lanes|=l,O=b.alternate,O!==null&&(O.lanes|=l),ag(b.return,l,a),d||(N=null);break e}b=O.next}}else if(p.tag===18){if(N=p.return,N===null)throw Error(r(341));N.lanes|=l,b=N.alternate,b!==null&&(b.lanes|=l),ag(N,l,a),N=null}else N=p.child;if(N!==null)N.return=p;else for(N=p;N!==null;){if(N===a){N=null;break}if(p=N.sibling,p!==null){p.return=N.return,N=p;break}N=N.return}p=N}}function Tc(a,i,l,d){a=null;for(var p=i,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var N=p.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var O=p.type;Un(p.pendingProps.value,N.value)||(a!==null?a.push(O):a=[O])}}else if(p===Ht.current){if(N=p.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(a!==null?a.push(qc):a=[qc])}p=p.return}a!==null&&sg(i,a,l,d),i.flags|=262144}function of(a){for(a=a.firstContext;a!==null;){if(!Un(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Si(a){Ei=a,va=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function cn(a){return D_(Ei,a)}function lf(a,i){return Ei===null&&Si(a),D_(a,i)}function D_(a,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},va===null){if(a===null)throw Error(r(308));va=i,a.dependencies={lanes:0,firstContext:i},a.flags|=524288}else va=va.next=i;return l}var cs=!1;function ig(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function og(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function us(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ds(a,i,l){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(vt&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,i=Vd(a),fw(a,null,l),i}return Bd(a,d,i,l),Vd(a)}function Rc(a,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194176)!==0)){var d=i.lanes;d&=a.pendingLanes,l|=d,i.lanes=l,nc(a,l)}}function lg(a,i){var l=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var N={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?p=b=N:b=b.next=N,l=l.next}while(l!==null);b===null?p=b=i:b=b.next=i}else p=b=i;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=i:a.next=i,l.lastBaseUpdate=i}var cg=!1;function Ic(){if(cg){var a=Ao;if(a!==null)throw a}}function Ac(a,i,l,d){cg=!1;var p=a.updateQueue;cs=!1;var b=p.firstBaseUpdate,N=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var L=O,z=L.next;L.next=null,N===null?b=z:N.next=z,N=L;var ne=a.alternate;ne!==null&&(ne=ne.updateQueue,O=ne.lastBaseUpdate,O!==N&&(O===null?ne.firstBaseUpdate=z:O.next=z,ne.lastBaseUpdate=L))}if(b!==null){var le=p.baseState;N=0,ne=z=L=null,O=b;do{var X=O.lane&-536870913,te=X!==O.lane;if(te?(Ge&X)===X:(d&X)===X){X!==0&&X===Io&&(cg=!0),ne!==null&&(ne=ne.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var xe=a,De=O;X=i;var Et=l;switch(De.tag){case 1:if(xe=De.payload,typeof xe=="function"){le=xe.call(Et,le,X);break e}le=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=De.payload,X=typeof xe=="function"?xe.call(Et,le,X):xe,X==null)break e;le=Y({},le,X);break e;case 2:cs=!0}}X=O.callback,X!==null&&(a.flags|=64,te&&(a.flags|=8192),te=p.callbacks,te===null?p.callbacks=[X]:te.push(X))}else te={lane:X,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ne===null?(z=ne=te,L=le):ne=ne.next=te,N|=X;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;te=O,O=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);ne===null&&(L=le),p.baseState=L,p.firstBaseUpdate=z,p.lastBaseUpdate=ne,b===null&&(p.shared.lanes=0),gs|=N,a.lanes=N,a.memoizedState=le}}function O_(a,i){if(typeof a!="function")throw Error(r(191,a));a.call(i)}function M_(a,i){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)O_(l[a],i)}function Dc(a,i){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&a)===a){d=void 0;var b=l.create,N=l.inst;d=b(),N.destroy=d}l=l.next}while(l!==p)}}catch(O){lt(i,i.return,O)}}function fs(a,i,l){try{var d=i.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&a)===a){var N=d.inst,O=N.destroy;if(O!==void 0){N.destroy=void 0,p=i;var L=l;try{O()}catch(z){lt(p,L,z)}}}d=d.next}while(d!==b)}}catch(z){lt(i,i.return,z)}}function j_(a){var i=a.updateQueue;if(i!==null){var l=a.stateNode;try{M_(i,l)}catch(d){lt(a,a.return,d)}}}function P_(a,i,l){l.props=_i(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(d){lt(a,i,d)}}function Ci(a,i){try{var l=a.ref;if(l!==null){var d=a.stateNode;switch(a.tag){case 26:case 27:case 5:var p=d;break;default:p=d}typeof l=="function"?a.refCleanup=l(p):l.current=p}}catch(b){lt(a,i,b)}}function Fn(a,i){var l=a.ref,d=a.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(p){lt(a,i,p)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){lt(a,i,p)}else l.current=null}function k_(a){var i=a.type,l=a.memoizedProps,d=a.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(p){lt(a,a.return,p)}}function L_(a,i,l){try{var d=a.stateNode;HM(d,a.type,l,i),d[In]=i}catch(p){lt(a,a.return,p)}}function U_(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function ug(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||U_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function dg(a,i,l){var d=a.tag;if(d===5||d===6)a=a.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(a,i):l.insertBefore(a,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(a,l)):(i=l,i.appendChild(a)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=_f));else if(d!==4&&d!==27&&(a=a.child,a!==null))for(dg(a,i,l),a=a.sibling;a!==null;)dg(a,i,l),a=a.sibling}function cf(a,i,l){var d=a.tag;if(d===5||d===6)a=a.stateNode,i?l.insertBefore(a,i):l.appendChild(a);else if(d!==4&&d!==27&&(a=a.child,a!==null))for(cf(a,i,l),a=a.sibling;a!==null;)cf(a,i,l),a=a.sibling}var ba=!1,wt=!1,fg=!1,F_=typeof WeakSet=="function"?WeakSet:Set,Gt=null,B_=!1;function bM(a,i){if(a=a.containerInfo,Bg=If,a=rw(a),mp(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var N=0,O=-1,L=-1,z=0,ne=0,le=a,X=null;t:for(;;){for(var te;le!==l||p!==0&&le.nodeType!==3||(O=N+p),le!==b||d!==0&&le.nodeType!==3||(L=N+d),le.nodeType===3&&(N+=le.nodeValue.length),(te=le.firstChild)!==null;)X=le,le=te;for(;;){if(le===a)break t;if(X===l&&++z===p&&(O=N),X===b&&++ne===d&&(L=N),(te=le.nextSibling)!==null)break;le=X,X=le.parentNode}le=te}l=O===-1||L===-1?null:{start:O,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Vg={focusedElem:a,selectionRange:l},If=!1,Gt=i;Gt!==null;)if(i=Gt,a=i.child,(i.subtreeFlags&1028)!==0&&a!==null)a.return=i,Gt=a;else for(;Gt!==null;){switch(i=Gt,b=i.alternate,a=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,l=i,p=b.memoizedProps,b=b.memoizedState,d=l.stateNode;try{var xe=_i(l.type,p,l.elementType===l.type);a=d.getSnapshotBeforeUpdate(xe,b),d.__reactInternalSnapshotBeforeUpdate=a}catch(De){lt(l,l.return,De)}}break;case 3:if((a&1024)!==0){if(a=i.stateNode.containerInfo,l=a.nodeType,l===9)qg(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":qg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=i.sibling,a!==null){a.return=i.return,Gt=a;break}Gt=i.return}return xe=B_,B_=!1,xe}function V_(a,i,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:wa(a,l),d&4&&Dc(5,l);break;case 1:if(wa(a,l),d&4)if(a=l.stateNode,i===null)try{a.componentDidMount()}catch(O){lt(l,l.return,O)}else{var p=_i(l.type,i.memoizedProps);i=i.memoizedState;try{a.componentDidUpdate(p,i,a.__reactInternalSnapshotBeforeUpdate)}catch(O){lt(l,l.return,O)}}d&64&&j_(l),d&512&&Ci(l,l.return);break;case 3:if(wa(a,l),d&64&&(d=l.updateQueue,d!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{M_(d,a)}catch(O){lt(l,l.return,O)}}break;case 26:wa(a,l),d&512&&Ci(l,l.return);break;case 27:case 5:wa(a,l),i===null&&d&4&&k_(l),d&512&&Ci(l,l.return);break;case 12:wa(a,l);break;case 13:wa(a,l),d&4&&$_(a,l);break;case 22:if(p=l.memoizedState!==null||ba,!p){i=i!==null&&i.memoizedState!==null||wt;var b=ba,N=wt;ba=p,(wt=i)&&!N?hs(a,l,(l.subtreeFlags&8772)!==0):wa(a,l),ba=b,wt=N}d&512&&(l.memoizedProps.mode==="manual"?Ci(l,l.return):Fn(l,l.return));break;default:wa(a,l)}}function z_(a){var i=a.alternate;i!==null&&(a.alternate=null,z_(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&Zm(i)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var jt=null,Bn=!1;function xa(a,i,l){for(l=l.child;l!==null;)H_(a,i,l),l=l.sibling}function H_(a,i,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(si,l)}catch{}switch(l.tag){case 26:wt||Fn(l,i),xa(a,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:wt||Fn(l,i);var d=jt,p=Bn;for(jt=l.stateNode,xa(a,i,l),l=l.stateNode,i=l.attributes;i.length;)l.removeAttributeNode(i[0]);Zm(l),jt=d,Bn=p;break;case 5:wt||Fn(l,i);case 6:p=jt;var b=Bn;if(jt=null,xa(a,i,l),jt=p,Bn=b,jt!==null)if(Bn)try{a=jt,d=l.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)}catch(N){lt(l,i,N)}else try{jt.removeChild(l.stateNode)}catch(N){lt(l,i,N)}break;case 18:jt!==null&&(Bn?(i=jt,l=l.stateNode,i.nodeType===8?$g(i.parentNode,l):i.nodeType===1&&$g(i,l),Kc(i)):$g(jt,l.stateNode));break;case 4:d=jt,p=Bn,jt=l.stateNode.containerInfo,Bn=!0,xa(a,i,l),jt=d,Bn=p;break;case 0:case 11:case 14:case 15:wt||fs(2,l,i),wt||fs(4,l,i),xa(a,i,l);break;case 1:wt||(Fn(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"&&P_(l,i,d)),xa(a,i,l);break;case 21:xa(a,i,l);break;case 22:wt||Fn(l,i),wt=(d=wt)||l.memoizedState!==null,xa(a,i,l),wt=d;break;default:xa(a,i,l)}}function $_(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Kc(a)}catch(l){lt(i,i.return,l)}}function xM(a){switch(a.tag){case 13:case 19:var i=a.stateNode;return i===null&&(i=a.stateNode=new F_),i;case 22:return a=a.stateNode,i=a._retryCache,i===null&&(i=a._retryCache=new F_),i;default:throw Error(r(435,a.tag))}}function hg(a,i){var l=xM(a);i.forEach(function(d){var p=MM.bind(null,a,d);l.has(d)||(l.add(d),d.then(p,p))})}function or(a,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d],b=a,N=i,O=N;e:for(;O!==null;){switch(O.tag){case 27:case 5:jt=O.stateNode,Bn=!1;break e;case 3:jt=O.stateNode.containerInfo,Bn=!0;break e;case 4:jt=O.stateNode.containerInfo,Bn=!0;break e}O=O.return}if(jt===null)throw Error(r(160));H_(b,N,p),jt=null,Bn=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)q_(i,a),i=i.sibling}var Er=null;function q_(a,i){var l=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:or(i,a),lr(a),d&4&&(fs(3,a,a.return),Dc(3,a),fs(5,a,a.return));break;case 1:or(i,a),lr(a),d&512&&(wt||l===null||Fn(l,l.return)),d&64&&ba&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var p=Er;if(or(i,a),lr(a),d&512&&(wt||l===null||Fn(l,l.return)),d&4){var b=l!==null?l.memoizedState:null;if(d=a.memoizedState,l===null)if(d===null)if(a.stateNode===null){e:{d=a.type,l=a.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":b=p.getElementsByTagName("title")[0],(!b||b[rc]||b[ln]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(d),p.head.insertBefore(b,p.querySelector("head > title"))),nn(b,d,l),b[ln]=a,qt(b),d=b;break e;case"link":var N=kE("link","href",p).get(d+(l.href||""));if(N){for(var O=0;O<N.length;O++)if(b=N[O],b.getAttribute("href")===(l.href==null?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){N.splice(O,1);break t}}b=p.createElement(d),nn(b,d,l),p.head.appendChild(b);break;case"meta":if(N=kE("meta","content",p).get(d+(l.content||""))){for(O=0;O<N.length;O++)if(b=N[O],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){N.splice(O,1);break t}}b=p.createElement(d),nn(b,d,l),p.head.appendChild(b);break;default:throw Error(r(468,d))}b[ln]=a,qt(b),d=b}a.stateNode=d}else LE(p,a.type,a.stateNode);else a.stateNode=PE(p,d,a.memoizedProps);else b!==d?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,d===null?LE(p,a.type,a.stateNode):PE(p,d,a.memoizedProps)):d===null&&a.stateNode!==null&&L_(a,a.memoizedProps,l.memoizedProps)}break;case 27:if(d&4&&a.alternate===null){p=a.stateNode,b=a.memoizedProps;try{for(var L=p.firstChild;L;){var z=L.nextSibling,ne=L.nodeName;L[rc]||ne==="HEAD"||ne==="BODY"||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&L.rel.toLowerCase()==="stylesheet"||p.removeChild(L),L=z}for(var le=a.type,X=p.attributes;X.length;)p.removeAttributeNode(X[0]);nn(p,le,b),p[ln]=a,p[In]=b}catch(xe){lt(a,a.return,xe)}}case 5:if(or(i,a),lr(a),d&512&&(wt||l===null||Fn(l,l.return)),a.flags&32){p=a.stateNode;try{vo(p,"")}catch(xe){lt(a,a.return,xe)}}d&4&&a.stateNode!=null&&(p=a.memoizedProps,L_(a,p,l!==null?l.memoizedProps:p)),d&1024&&(fg=!0);break;case 6:if(or(i,a),lr(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,l=a.stateNode;try{l.nodeValue=d}catch(xe){lt(a,a.return,xe)}}break;case 3:if(Nf=null,p=Er,Er=Sf(i.containerInfo),or(i,a),Er=p,lr(a),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Kc(i.containerInfo)}catch(xe){lt(a,a.return,xe)}fg&&(fg=!1,W_(a));break;case 4:d=Er,Er=Sf(a.stateNode.containerInfo),or(i,a),lr(a),Er=d;break;case 12:or(i,a),lr(a);break;case 13:or(i,a),lr(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(_g=Jn()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,hg(a,d)));break;case 22:if(d&512&&(wt||l===null||Fn(l,l.return)),L=a.memoizedState!==null,z=l!==null&&l.memoizedState!==null,ne=ba,le=wt,ba=ne||L,wt=le||z,or(i,a),wt=le,ba=ne,lr(a),i=a.stateNode,i._current=a,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,d&8192&&(i._visibility=L?i._visibility&-2:i._visibility|1,L&&(i=ba||wt,l===null||z||i||jo(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))e:for(l=null,i=a;;){if(i.tag===5||i.tag===26||i.tag===27){if(l===null){z=l=i;try{if(p=z.stateNode,L)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{N=z.stateNode,O=z.memoizedProps.style;var te=O!=null&&O.hasOwnProperty("display")?O.display:null;N.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(xe){lt(z,z.return,xe)}}}else if(i.tag===6){if(l===null){z=i;try{z.stateNode.nodeValue=L?"":z.memoizedProps}catch(xe){lt(z,z.return,xe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===a)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=a.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,hg(a,l))));break;case 19:or(i,a),lr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,hg(a,d)));break;case 21:break;default:or(i,a),lr(a)}}function lr(a){var i=a.flags;if(i&2){try{if(a.tag!==27){e:{for(var l=a.return;l!==null;){if(U_(l)){var d=l;break e}l=l.return}throw Error(r(160))}switch(d.tag){case 27:var p=d.stateNode,b=ug(a);cf(a,b,p);break;case 5:var N=d.stateNode;d.flags&32&&(vo(N,""),d.flags&=-33);var O=ug(a);cf(a,O,N);break;case 3:case 4:var L=d.stateNode.containerInfo,z=ug(a);dg(a,z,L);break;default:throw Error(r(161))}}}catch(ne){lt(a,a.return,ne)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function W_(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var i=a;W_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),a=a.sibling}}function wa(a,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)V_(a,i.alternate,i),i=i.sibling}function jo(a){for(a=a.child;a!==null;){var i=a;switch(i.tag){case 0:case 11:case 14:case 15:fs(4,i,i.return),jo(i);break;case 1:Fn(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&P_(i,i.return,l),jo(i);break;case 26:case 27:case 5:Fn(i,i.return),jo(i);break;case 22:Fn(i,i.return),i.memoizedState===null&&jo(i);break;default:jo(i)}a=a.sibling}}function hs(a,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,p=a,b=i,N=b.flags;switch(b.tag){case 0:case 11:case 15:hs(p,b,l),Dc(4,b);break;case 1:if(hs(p,b,l),d=b,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(z){lt(d,d.return,z)}if(d=b,p=d.updateQueue,p!==null){var O=d.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)O_(L[p],O)}catch(z){lt(d,d.return,z)}}l&&N&64&&j_(b),Ci(b,b.return);break;case 26:case 27:case 5:hs(p,b,l),l&&d===null&&N&4&&k_(b),Ci(b,b.return);break;case 12:hs(p,b,l);break;case 13:hs(p,b,l),l&&N&4&&$_(p,b);break;case 22:b.memoizedState===null&&hs(p,b,l),Ci(b,b.return);break;default:hs(p,b,l)}i=i.sibling}}function mg(a,i){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&wc(l))}function pg(a,i){a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&wc(a))}function ms(a,i,l,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)G_(a,i,l,d),i=i.sibling}function G_(a,i,l,d){var p=i.flags;switch(i.tag){case 0:case 11:case 15:ms(a,i,l,d),p&2048&&Dc(9,i);break;case 3:ms(a,i,l,d),p&2048&&(a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&wc(a)));break;case 12:if(p&2048){ms(a,i,l,d),a=i.stateNode;try{var b=i.memoizedProps,N=b.id,O=b.onPostCommit;typeof O=="function"&&O(N,i.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(L){lt(i,i.return,L)}}else ms(a,i,l,d);break;case 23:break;case 22:b=i.stateNode,i.memoizedState!==null?b._visibility&4?ms(a,i,l,d):Oc(a,i):b._visibility&4?ms(a,i,l,d):(b._visibility|=4,Po(a,i,l,d,(i.subtreeFlags&10256)!==0)),p&2048&&mg(i.alternate,i);break;case 24:ms(a,i,l,d),p&2048&&pg(i.alternate,i);break;default:ms(a,i,l,d)}}function Po(a,i,l,d,p){for(p=p&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var b=a,N=i,O=l,L=d,z=N.flags;switch(N.tag){case 0:case 11:case 15:Po(b,N,O,L,p),Dc(8,N);break;case 23:break;case 22:var ne=N.stateNode;N.memoizedState!==null?ne._visibility&4?Po(b,N,O,L,p):Oc(b,N):(ne._visibility|=4,Po(b,N,O,L,p)),p&&z&2048&&mg(N.alternate,N);break;case 24:Po(b,N,O,L,p),p&&z&2048&&pg(N.alternate,N);break;default:Po(b,N,O,L,p)}i=i.sibling}}function Oc(a,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=a,d=i,p=d.flags;switch(d.tag){case 22:Oc(l,d),p&2048&&mg(d.alternate,d);break;case 24:Oc(l,d),p&2048&&pg(d.alternate,d);break;default:Oc(l,d)}i=i.sibling}}var Mc=8192;function ko(a){if(a.subtreeFlags&Mc)for(a=a.child;a!==null;)Y_(a),a=a.sibling}function Y_(a){switch(a.tag){case 26:ko(a),a.flags&Mc&&a.memoizedState!==null&&lj(Er,a.memoizedState,a.memoizedProps);break;case 5:ko(a);break;case 3:case 4:var i=Er;Er=Sf(a.stateNode.containerInfo),ko(a),Er=i;break;case 22:a.memoizedState===null&&(i=a.alternate,i!==null&&i.memoizedState!==null?(i=Mc,Mc=16777216,ko(a),Mc=i):ko(a));break;default:ko(a)}}function K_(a){var i=a.alternate;if(i!==null&&(a=i.child,a!==null)){i.child=null;do i=a.sibling,a.sibling=null,a=i;while(a!==null)}}function jc(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];Gt=d,Q_(d,a)}K_(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)X_(a),a=a.sibling}function X_(a){switch(a.tag){case 0:case 11:case 15:jc(a),a.flags&2048&&fs(9,a,a.return);break;case 3:jc(a);break;case 12:jc(a);break;case 22:var i=a.stateNode;a.memoizedState!==null&&i._visibility&4&&(a.return===null||a.return.tag!==13)?(i._visibility&=-5,uf(a)):jc(a);break;default:jc(a)}}function uf(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];Gt=d,Q_(d,a)}K_(a)}for(a=a.child;a!==null;){switch(i=a,i.tag){case 0:case 11:case 15:fs(8,i,i.return),uf(i);break;case 22:l=i.stateNode,l._visibility&4&&(l._visibility&=-5,uf(i));break;default:uf(i)}a=a.sibling}}function Q_(a,i){for(;Gt!==null;){var l=Gt;switch(l.tag){case 0:case 11:case 15:fs(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:wc(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Gt=d;else e:for(l=a;Gt!==null;){d=Gt;var p=d.sibling,b=d.return;if(z_(d),d===l){Gt=null;break e}if(p!==null){p.return=b,Gt=p;break e}Gt=b}}}function wM(a,i,l,d){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(a,i,l,d){return new wM(a,i,l,d)}function gg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ps(a,i){var l=a.alternate;return l===null?(l=cr(a.tag,i,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=i,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&31457280,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,i=a.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function Z_(a,i){a.flags&=31457282;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=i,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,i=l.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a}function df(a,i,l,d,p,b){var N=0;if(d=a,typeof a=="function")gg(a)&&(N=1);else if(typeof a=="string")N=ij(a,l,We.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case f:return Ni(l.children,p,b,i);case m:N=8,p|=24;break;case g:return a=cr(12,l,i,p|2),a.elementType=g,a.lanes=b,a;case _:return a=cr(13,l,i,p),a.elementType=_,a.lanes=b,a;case S:return a=cr(19,l,i,p),a.elementType=S,a.lanes=b,a;case R:return J_(l,p,b,i);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case v:case w:N=10;break e;case y:N=9;break e;case E:N=11;break e;case C:N=14;break e;case T:N=16,d=null;break e}N=29,l=Error(r(130,a===null?"null":typeof a,"")),d=null}return i=cr(N,l,i,p),i.elementType=a,i.type=d,i.lanes=b,i}function Ni(a,i,l,d){return a=cr(7,a,d,i),a.lanes=l,a}function J_(a,i,l,d){a=cr(22,a,d,i),a.elementType=R,a.lanes=l;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var b=p._current;if(b===null)throw Error(r(456));if((p._pendingVisibility&2)===0){var N=rs(b,2);N!==null&&(p._pendingVisibility|=2,vn(N,b,2))}},attach:function(){var b=p._current;if(b===null)throw Error(r(456));if((p._pendingVisibility&2)!==0){var N=rs(b,2);N!==null&&(p._pendingVisibility&=-3,vn(N,b,2))}}};return a.stateNode=p,a}function vg(a,i,l){return a=cr(6,a,null,i),a.lanes=l,a}function yg(a,i,l){return i=cr(4,a.children!==null?a.children:[],a.key,i),i.lanes=l,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}function _a(a){a.flags|=4}function eE(a,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!UE(i)){if(i=ir.current,i!==null&&((Ge&4194176)===Ge?$r!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||i!==$r))throw yc=Ep,vw;a.flags|=8192}}function ff(a,i){i!==null&&(a.flags|=4),a.flags&16384&&(i=a.tag!==22?Dt():536870912,a.lanes|=i,Uo|=i)}function Pc(a,i){if(!Ke)switch(a.tailMode){case"hidden":i=a.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function gt(a){var i=a.alternate!==null&&a.alternate.child===a.child,l=0,d=0;if(i)for(var p=a.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&31457280,d|=p.flags&31457280,p.return=a,p=p.sibling;else for(p=a.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=a,p=p.sibling;return a.subtreeFlags|=d,a.childLanes=l,i}function _M(a,i,l){var d=i.pendingProps;switch(wp(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(i),null;case 1:return gt(i),null;case 3:return l=i.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),ya(Ut),yr(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(mc(i)?_a(i):a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,_r!==null&&(Ng(_r),_r=null))),gt(i),null;case 26:return l=i.memoizedState,a===null?(_a(i),l!==null?(gt(i),eE(i,l)):(gt(i),i.flags&=-16777217)):l?l!==a.memoizedState?(_a(i),gt(i),eE(i,l)):(gt(i),i.flags&=-16777217):(a.memoizedProps!==d&&_a(i),gt(i),i.flags&=-16777217),null;case 27:la(i),l=Ye.current;var p=i.type;if(a!==null&&i.stateNode!=null)a.memoizedProps!==d&&_a(i);else{if(!d){if(i.stateNode===null)throw Error(r(166));return gt(i),null}a=We.current,mc(i)?pw(i):(a=AE(p,d,l),i.stateNode=a,_a(i))}return gt(i),null;case 5:if(la(i),l=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==d&&_a(i);else{if(!d){if(i.stateNode===null)throw Error(r(166));return gt(i),null}if(a=We.current,mc(i))pw(i);else{switch(p=Ef(Ye.current),a){case 1:a=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:a=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":a=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":a=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":a=p.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?a.multiple=!0:d.size&&(a.size=d.size);break;default:a=typeof d.is=="string"?p.createElement(l,{is:d.is}):p.createElement(l)}}a[ln]=i,a[In]=d;e:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)a.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break e;for(;p.sibling===null;){if(p.return===null||p.return===i)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=a;e:switch(nn(a,l,d),l){case"button":case"input":case"select":case"textarea":a=!!d.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&_a(i)}}return gt(i),i.flags&=-16777217,null;case 6:if(a&&i.stateNode!=null)a.memoizedProps!==d&&_a(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(r(166));if(a=Ye.current,mc(i)){if(a=i.stateNode,l=i.memoizedProps,d=null,p=gn,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}a[ln]=i,a=!!(a.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||SE(a.nodeValue,l)),a||gi(i)}else a=Ef(a).createTextNode(d),a[ln]=i,i.stateNode=a}return gt(i),null;case 13:if(d=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(p=mc(i),d!==null&&d.dehydrated!==null){if(a===null){if(!p)throw Error(r(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[ln]=i}else pc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),p=!1}else _r!==null&&(Ng(_r),_r=null),p=!0;if(!p)return i.flags&256?(ma(i),i):(ma(i),null)}if(ma(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=d!==null,a=a!==null&&a.memoizedState!==null,l){d=i.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==p&&(d.flags|=2048)}return l!==a&&l&&(i.child.flags|=8192),ff(i,i.updateQueue),gt(i),null;case 4:return yr(),a===null&&Lg(i.stateNode.containerInfo),gt(i),null;case 10:return ya(i.type),gt(i),null;case 19:if(me(Lt),p=i.memoizedState,p===null)return gt(i),null;if(d=(i.flags&128)!==0,b=p.rendering,b===null)if(d)Pc(p,!1);else{if(_t!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(b=Yd(a),b!==null){for(i.flags|=128,Pc(p,!1),a=b.updateQueue,i.updateQueue=a,ff(i,a),i.subtreeFlags=0,a=l,l=i.child;l!==null;)Z_(l,a),l=l.sibling;return pe(Lt,Lt.current&1|2),i.child}a=a.sibling}p.tail!==null&&Jn()>hf&&(i.flags|=128,d=!0,Pc(p,!1),i.lanes=4194304)}else{if(!d)if(a=Yd(b),a!==null){if(i.flags|=128,d=!0,a=a.updateQueue,i.updateQueue=a,ff(i,a),Pc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!Ke)return gt(i),null}else 2*Jn()-p.renderingStartTime>hf&&l!==536870912&&(i.flags|=128,d=!0,Pc(p,!1),i.lanes=4194304);p.isBackwards?(b.sibling=i.child,i.child=b):(a=p.last,a!==null?a.sibling=b:i.child=b,p.last=b)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Jn(),i.sibling=null,a=Lt.current,pe(Lt,d?a&1|2:a&1),i):(gt(i),null);case 22:case 23:return ma(i),Cp(),d=i.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(l&536870912)!==0&&(i.flags&128)===0&&(gt(i),i.subtreeFlags&6&&(i.flags|=8192)):gt(i),l=i.updateQueue,l!==null&&ff(i,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==l&&(i.flags|=2048),a!==null&&me(yi),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ya(Ut),gt(i),null;case 25:return null}throw Error(r(156,i.tag))}function EM(a,i){switch(wp(i),i.tag){case 1:return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return ya(Ut),yr(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 26:case 27:case 5:return la(i),null;case 13:if(ma(i),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(r(340));pc()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return me(Lt),null;case 4:return yr(),null;case 10:return ya(i.type),null;case 22:case 23:return ma(i),Cp(),a!==null&&me(yi),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 24:return ya(Ut),null;case 25:return null;default:return null}}function tE(a,i){switch(wp(i),i.tag){case 3:ya(Ut),yr();break;case 26:case 27:case 5:la(i);break;case 4:yr();break;case 13:ma(i);break;case 19:me(Lt);break;case 10:ya(i.type);break;case 22:case 23:ma(i),Cp(),a!==null&&me(yi);break;case 24:ya(Ut)}}var SM={getCacheForType:function(a){var i=cn(Ut),l=i.data.get(a);return l===void 0&&(l=a(),i.data.set(a,l)),l}},CM=typeof WeakMap=="function"?WeakMap:Map,vt=0,ct=null,Be=null,Ge=0,ut=0,Vn=null,Ea=!1,Lo=!1,bg=!1,Sa=0,_t=0,gs=0,Ti=0,xg=0,ur=0,Uo=0,kc=null,Wr=null,wg=!1,_g=0,hf=1/0,mf=null,vs=null,pf=!1,Ri=null,Lc=0,Eg=0,Sg=null,Uc=0,Cg=null;function zn(){if((vt&2)!==0&&Ge!==0)return Ge&-Ge;if(F.T!==null){var a=Io;return a!==0?a:Mg()}return Xm()}function nE(){ur===0&&(ur=(Ge&536870912)===0||Ke?li():536870912);var a=ir.current;return a!==null&&(a.flags|=32),ur}function vn(a,i,l){(a===ct&&ut===2||a.cancelPendingCommit!==null)&&(Fo(a,0),Ca(a,Ge,ur,!1)),Vr(a,l),((vt&2)===0||a!==ct)&&(a===ct&&((vt&2)===0&&(Ti|=l),_t===4&&Ca(a,Ge,ur,!1)),Gr(a))}function rE(a,i,l){if((vt&6)!==0)throw Error(r(327));var d=!l&&(i&60)===0&&(i&a.expiredLanes)===0||xt(a,i),p=d?RM(a,i):Ig(a,i,!0),b=d;do{if(p===0){Lo&&!d&&Ca(a,i,0,!1);break}else if(p===6)Ca(a,i,0,!Ea);else{if(l=a.current.alternate,b&&!NM(l)){p=Ig(a,i,!1),b=!1;continue}if(p===2){if(b=i,a.errorRecoveryDisabledLanes&b)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){i=N;e:{var O=a;p=kc;var L=O.current.memoizedState.isDehydrated;if(L&&(Fo(O,N).flags|=256),N=Ig(O,N,!1),N!==2){if(bg&&!L){O.errorRecoveryDisabledLanes|=b,Ti|=b,p=4;break e}b=Wr,Wr=p,b!==null&&Ng(b)}p=N}if(b=!1,p!==2)continue}}if(p===1){Fo(a,0),Ca(a,i,0,!0);break}e:{switch(d=a,p){case 0:case 1:throw Error(r(345));case 4:if((i&4194176)===i){Ca(d,i,ur,!Ea);break e}break;case 2:Wr=null;break;case 3:case 5:break;default:throw Error(r(329))}if(d.finishedWork=l,d.finishedLanes=i,(i&62914560)===i&&(b=_g+300-Jn(),10<b)){if(Ca(d,i,ur,!Ea),pt(d,0)!==0)break e;d.timeoutHandle=TE(aE.bind(null,d,l,Wr,mf,wg,i,ur,Ti,Uo,Ea,2,-0,0),b);break e}aE(d,l,Wr,mf,wg,i,ur,Ti,Uo,Ea,0,-0,0)}}break}while(!0);Gr(a)}function Ng(a){Wr===null?Wr=a:Wr.push.apply(Wr,a)}function aE(a,i,l,d,p,b,N,O,L,z,ne,le,X){var te=i.subtreeFlags;if((te&8192||(te&16785408)===16785408)&&($c={stylesheets:null,count:0,unsuspend:oj},Y_(i),i=cj(),i!==null)){a.cancelPendingCommit=i(dE.bind(null,a,l,d,p,N,O,L,1,le,X)),Ca(a,b,N,!z);return}dE(a,l,d,p,N,O,L,ne,le,X)}function NM(a){for(var i=a;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var p=l[d],b=p.getSnapshot;p=p.value;try{if(!Un(b(),p))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ca(a,i,l,d){i&=~xg,i&=~Ti,a.suspendedLanes|=i,a.pingedLanes&=~i,d&&(a.warmLanes|=i),d=a.expirationTimes;for(var p=i;0<p;){var b=31-mn(p),N=1<<b;d[b]=-1,p&=~N}l!==0&&Rn(a,l,i)}function gf(){return(vt&6)===0?(Fc(0),!1):!0}function Tg(){if(Be!==null){if(ut===0)var a=Be.return;else a=Be,va=Ei=null,Mp(a),To=null,bc=0,a=Be;for(;a!==null;)tE(a.alternate,a),a=a.return;Be=null}}function Fo(a,i){a.finishedWork=null,a.finishedLanes=0;var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,qM(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),Tg(),ct=a,Be=l=ps(a.current,null),Ge=i,ut=0,Vn=null,Ea=!1,Lo=xt(a,i),bg=!1,Uo=ur=xg=Ti=gs=_t=0,Wr=kc=null,wg=!1,(i&8)!==0&&(i|=i&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=i;0<d;){var p=31-mn(d),b=1<<p;i|=a[p],d&=~b}return Sa=i,Fd(),l}function sE(a,i){Pe=null,F.H=qr,i===vc?(i=xw(),ut=3):i===vw?(i=xw(),ut=4):ut=i===y_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Vn=i,Be===null&&(_t=1,sf(a,rr(i,a.current)))}function iE(){var a=F.H;return F.H=qr,a===null?qr:a}function oE(){var a=F.A;return F.A=SM,a}function Rg(){_t=4,Ea||(Ge&4194176)!==Ge&&ir.current!==null||(Lo=!0),(gs&134217727)===0&&(Ti&134217727)===0||ct===null||Ca(ct,Ge,ur,!1)}function Ig(a,i,l){var d=vt;vt|=2;var p=iE(),b=oE();(ct!==a||Ge!==i)&&(mf=null,Fo(a,i)),i=!1;var N=_t;e:do try{if(ut!==0&&Be!==null){var O=Be,L=Vn;switch(ut){case 8:Tg(),N=6;break e;case 3:case 2:case 6:ir.current===null&&(i=!0);var z=ut;if(ut=0,Vn=null,Bo(a,O,L,z),l&&Lo){N=0;break e}break;default:z=ut,ut=0,Vn=null,Bo(a,O,L,z)}}TM(),N=_t;break}catch(ne){sE(a,ne)}while(!0);return i&&a.shellSuspendCounter++,va=Ei=null,vt=d,F.H=p,F.A=b,Be===null&&(ct=null,Ge=0,Fd()),N}function TM(){for(;Be!==null;)lE(Be)}function RM(a,i){var l=vt;vt|=2;var d=iE(),p=oE();ct!==a||Ge!==i?(mf=null,hf=Jn()+500,Fo(a,i)):Lo=xt(a,i);e:do try{if(ut!==0&&Be!==null){i=Be;var b=Vn;t:switch(ut){case 1:ut=0,Vn=null,Bo(a,i,b,1);break;case 2:if(yw(b)){ut=0,Vn=null,cE(i);break}i=function(){ut===2&&ct===a&&(ut=7),Gr(a)},b.then(i,i);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:yw(b)?(ut=0,Vn=null,cE(i)):(ut=0,Vn=null,Bo(a,i,b,7));break;case 5:var N=null;switch(Be.tag){case 26:N=Be.memoizedState;case 5:case 27:var O=Be;if(!N||UE(N)){ut=0,Vn=null;var L=O.sibling;if(L!==null)Be=L;else{var z=O.return;z!==null?(Be=z,vf(z)):Be=null}break t}}ut=0,Vn=null,Bo(a,i,b,5);break;case 6:ut=0,Vn=null,Bo(a,i,b,6);break;case 8:Tg(),_t=6;break e;default:throw Error(r(462))}}IM();break}catch(ne){sE(a,ne)}while(!0);return va=Ei=null,F.H=d,F.A=p,vt=l,Be!==null?0:(ct=null,Ge=0,Fd(),_t)}function IM(){for(;Be!==null&&!Tn();)lE(Be)}function lE(a){var i=A_(a.alternate,a,Sa);a.memoizedProps=a.pendingProps,i===null?vf(a):Be=i}function cE(a){var i=a,l=i.alternate;switch(i.tag){case 15:case 0:i=S_(l,i,i.pendingProps,i.type,void 0,Ge);break;case 11:i=S_(l,i,i.pendingProps,i.type.render,i.ref,Ge);break;case 5:Mp(i);default:tE(l,i),i=Be=Z_(i,Sa),i=A_(l,i,Sa)}a.memoizedProps=a.pendingProps,i===null?vf(a):Be=i}function Bo(a,i,l,d){va=Ei=null,Mp(i),To=null,bc=0;var p=i.return;try{if(vM(a,p,i,l,Ge)){_t=1,sf(a,rr(l,a.current)),Be=null;return}}catch(b){if(p!==null)throw Be=p,b;_t=1,sf(a,rr(l,a.current)),Be=null;return}i.flags&32768?(Ke||d===1?a=!0:Lo||(Ge&536870912)!==0?a=!1:(Ea=a=!0,(d===2||d===3||d===6)&&(d=ir.current,d!==null&&d.tag===13&&(d.flags|=16384))),uE(i,a)):vf(i)}function vf(a){var i=a;do{if((i.flags&32768)!==0){uE(i,Ea);return}a=i.return;var l=_M(i.alternate,i,Sa);if(l!==null){Be=l;return}if(i=i.sibling,i!==null){Be=i;return}Be=i=a}while(i!==null);_t===0&&(_t=5)}function uE(a,i){do{var l=EM(a.alternate,a);if(l!==null){l.flags&=32767,Be=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(a=a.sibling,a!==null)){Be=a;return}Be=a=l}while(a!==null);_t=6,Be=null}function dE(a,i,l,d,p,b,N,O,L,z){var ne=F.T,le=oe.p;try{oe.p=2,F.T=null,AM(a,i,l,d,le,p,b,N,O,L,z)}finally{F.T=ne,oe.p=le}}function AM(a,i,l,d,p,b,N,O){do Vo();while(Ri!==null);if((vt&6)!==0)throw Error(r(327));var L=a.finishedWork;if(d=a.finishedLanes,L===null)return null;if(a.finishedWork=null,a.finishedLanes=0,L===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var z=L.lanes|L.childLanes;if(z|=yp,Ln(a,d,z,b,N,O),a===ct&&(Be=ct=null,Ge=0),(L.subtreeFlags&10256)===0&&(L.flags&10256)===0||pf||(pf=!0,Eg=z,Sg=l,jM(ai,function(){return Vo(),null})),l=(L.flags&15990)!==0,(L.subtreeFlags&15990)!==0||l?(l=F.T,F.T=null,b=oe.p,oe.p=2,N=vt,vt|=4,bM(a,L),q_(L,a),eM(Vg,a.containerInfo),If=!!Bg,Vg=Bg=null,a.current=L,V_(a,L.alternate,L),Ja(),vt=N,oe.p=b,F.T=l):a.current=L,pf?(pf=!1,Ri=a,Lc=d):fE(a,z),z=a.pendingLanes,z===0&&(vs=null),Td(L.stateNode),Gr(a),i!==null)for(p=a.onRecoverableError,L=0;L<i.length;L++)z=i[L],p(z.value,{componentStack:z.stack});return(Lc&3)!==0&&Vo(),z=a.pendingLanes,(d&4194218)!==0&&(z&42)!==0?a===Cg?Uc++:(Uc=0,Cg=a):Uc=0,Fc(0),null}function fE(a,i){(a.pooledCacheLanes&=i)===0&&(i=a.pooledCache,i!=null&&(a.pooledCache=null,wc(i)))}function Vo(){if(Ri!==null){var a=Ri,i=Eg;Eg=0;var l=zr(Lc),d=F.T,p=oe.p;try{if(oe.p=32>l?32:l,F.T=null,Ri===null)var b=!1;else{l=Sg,Sg=null;var N=Ri,O=Lc;if(Ri=null,Lc=0,(vt&6)!==0)throw Error(r(331));var L=vt;if(vt|=4,X_(N.current),G_(N,N.current,O,l),vt=L,Fc(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(si,N)}catch{}b=!0}return b}finally{oe.p=p,F.T=d,fE(a,i)}}return!1}function hE(a,i,l){i=rr(l,i),i=Gp(a.stateNode,i,2),a=ds(a,i,2),a!==null&&(Vr(a,2),Gr(a))}function lt(a,i,l){if(a.tag===3)hE(a,a,l);else for(;i!==null;){if(i.tag===3){hE(i,a,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(vs===null||!vs.has(d))){a=rr(l,a),l=g_(2),d=ds(i,l,2),d!==null&&(v_(l,d,i,a),Vr(d,2),Gr(d));break}}i=i.return}}function Ag(a,i,l){var d=a.pingCache;if(d===null){d=a.pingCache=new CM;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(l)||(bg=!0,p.add(l),a=DM.bind(null,a,i,l),i.then(a,a))}function DM(a,i,l){var d=a.pingCache;d!==null&&d.delete(i),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,ct===a&&(Ge&l)===l&&(_t===4||_t===3&&(Ge&62914560)===Ge&&300>Jn()-_g?(vt&2)===0&&Fo(a,0):xg|=l,Uo===Ge&&(Uo=0)),Gr(a)}function mE(a,i){i===0&&(i=Dt()),a=rs(a,i),a!==null&&(Vr(a,i),Gr(a))}function OM(a){var i=a.memoizedState,l=0;i!==null&&(l=i.retryLane),mE(a,l)}function MM(a,i){var l=0;switch(a.tag){case 13:var d=a.stateNode,p=a.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(i),mE(a,l)}function jM(a,i){return Zl(a,i)}var yf=null,zo=null,Dg=!1,bf=!1,Og=!1,Ii=0;function Gr(a){a!==zo&&a.next===null&&(zo===null?yf=zo=a:zo=zo.next=a),bf=!0,Dg||(Dg=!0,kM(PM))}function Fc(a,i){if(!Og&&bf){Og=!0;do for(var l=!1,d=yf;d!==null;){if(a!==0){var p=d.pendingLanes;if(p===0)var b=0;else{var N=d.suspendedLanes,O=d.pingedLanes;b=(1<<31-mn(42|a)+1)-1,b&=p&~(N&~O),b=b&201326677?b&201326677|1:b?b|2:0}b!==0&&(l=!0,vE(d,b))}else b=Ge,b=pt(d,d===ct?b:0),(b&3)===0||xt(d,b)||(l=!0,vE(d,b));d=d.next}while(l);Og=!1}}function PM(){bf=Dg=!1;var a=0;Ii!==0&&($M()&&(a=Ii),Ii=0);for(var i=Jn(),l=null,d=yf;d!==null;){var p=d.next,b=pE(d,i);b===0?(d.next=null,l===null?yf=p:l.next=p,p===null&&(zo=l)):(l=d,(a!==0||(b&3)!==0)&&(bf=!0)),d=p}Fc(a)}function pE(a,i){for(var l=a.suspendedLanes,d=a.pingedLanes,p=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var N=31-mn(b),O=1<<N,L=p[N];L===-1?((O&l)===0||(O&d)!==0)&&(p[N]=pn(O,i)):L<=i&&(a.expiredLanes|=O),b&=~O}if(i=ct,l=Ge,l=pt(a,a===i?l:0),d=a.callbackNode,l===0||a===i&&ut===2||a.cancelPendingCommit!==null)return d!==null&&d!==null&&Jl(d),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||xt(a,l)){if(i=l&-l,i===a.callbackPriority)return i;switch(d!==null&&Jl(d),zr(l)){case 2:case 8:l=Cd;break;case 32:l=ai;break;case 268435456:l=ca;break;default:l=ai}return d=gE.bind(null,a),l=Zl(l,d),a.callbackPriority=i,a.callbackNode=l,i}return d!==null&&d!==null&&Jl(d),a.callbackPriority=2,a.callbackNode=null,2}function gE(a,i){var l=a.callbackNode;if(Vo()&&a.callbackNode!==l)return null;var d=Ge;return d=pt(a,a===ct?d:0),d===0?null:(rE(a,d,i),pE(a,Jn()),a.callbackNode!=null&&a.callbackNode===l?gE.bind(null,a):null)}function vE(a,i){if(Vo())return null;rE(a,i,!0)}function kM(a){WM(function(){(vt&6)!==0?Zl(ri,a):a()})}function Mg(){return Ii===0&&(Ii=li()),Ii}function yE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Od(""+a)}function bE(a,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,a.id&&l.setAttribute("form",a.id),i.parentNode.insertBefore(l,i),a=new FormData(a),l.parentNode.removeChild(l),a}function LM(a,i,l,d,p){if(i==="submit"&&l&&l.stateNode===p){var b=yE((p[In]||null).action),N=d.submitter;N&&(i=(i=N[In]||null)?yE(i.formAction):N.getAttribute("formAction"),i!==null&&(b=i,N=null));var O=new kd("action","action",null,d,p);a.push({event:O,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ii!==0){var L=N?bE(p,N):new FormData(p);zp(l,{pending:!0,data:L,method:p.method,action:b},null,L)}}else typeof b=="function"&&(O.preventDefault(),L=N?bE(p,N):new FormData(p),zp(l,{pending:!0,data:L,method:p.method,action:b},b,L))},currentTarget:p}]})}}for(var jg=0;jg<dw.length;jg++){var Pg=dw[jg],UM=Pg.toLowerCase(),FM=Pg[0].toUpperCase()+Pg.slice(1);wr(UM,"on"+FM)}wr(iw,"onAnimationEnd"),wr(ow,"onAnimationIteration"),wr(lw,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(nM,"onTransitionRun"),wr(rM,"onTransitionStart"),wr(aM,"onTransitionCancel"),wr(cw,"onTransitionEnd"),po("onMouseEnter",["mouseout","mouseover"]),po("onMouseLeave",["mouseout","mouseover"]),po("onPointerEnter",["pointerout","pointerover"]),po("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bc));function xE(a,i){i=(i&4)!==0;for(var l=0;l<a.length;l++){var d=a[l],p=d.event;d=d.listeners;e:{var b=void 0;if(i)for(var N=d.length-1;0<=N;N--){var O=d[N],L=O.instance,z=O.currentTarget;if(O=O.listener,L!==b&&p.isPropagationStopped())break e;b=O,p.currentTarget=z;try{b(p)}catch(ne){af(ne)}p.currentTarget=null,b=L}else for(N=0;N<d.length;N++){if(O=d[N],L=O.instance,z=O.currentTarget,O=O.listener,L!==b&&p.isPropagationStopped())break e;b=O,p.currentTarget=z;try{b(p)}catch(ne){af(ne)}p.currentTarget=null,b=L}}}}function $e(a,i){var l=i[Qm];l===void 0&&(l=i[Qm]=new Set);var d=a+"__bubble";l.has(d)||(wE(i,a,2,!1),l.add(d))}function kg(a,i,l){var d=0;i&&(d|=4),wE(l,a,d,i)}var xf="_reactListening"+Math.random().toString(36).slice(2);function Lg(a){if(!a[xf]){a[xf]=!0,Sx.forEach(function(l){l!=="selectionchange"&&(BM.has(l)||kg(l,!1,a),kg(l,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[xf]||(i[xf]=!0,kg("selectionchange",!1,i))}}function wE(a,i,l,d){switch($E(i)){case 2:var p=fj;break;case 8:p=hj;break;default:p=Xg}l=p.bind(null,i,l,a),p=void 0,!sp||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?a.addEventListener(i,l,{capture:!0,passive:p}):a.addEventListener(i,l,!0):p!==void 0?a.addEventListener(i,l,{passive:p}):a.addEventListener(i,l,!1)}function Ug(a,i,l,d,p){var b=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var N=d.tag;if(N===3||N===4){var O=d.stateNode.containerInfo;if(O===p||O.nodeType===8&&O.parentNode===p)break;if(N===4)for(N=d.return;N!==null;){var L=N.tag;if((L===3||L===4)&&(L=N.stateNode.containerInfo,L===p||L.nodeType===8&&L.parentNode===p))return;N=N.return}for(;O!==null;){if(N=ci(O),N===null)return;if(L=N.tag,L===5||L===6||L===26||L===27){d=b=N;continue e}O=O.parentNode}}d=d.return}kx(function(){var z=b,ne=rp(l),le=[];e:{var X=uw.get(a);if(X!==void 0){var te=kd,xe=a;switch(a){case"keypress":if(jd(l)===0)break e;case"keydown":case"keyup":te=MO;break;case"focusin":xe="focus",te=cp;break;case"focusout":xe="blur",te=cp;break;case"beforeblur":case"afterblur":te=cp;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Fx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=wO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=kO;break;case iw:case ow:case lw:te=SO;break;case cw:te=UO;break;case"scroll":case"scrollend":te=bO;break;case"wheel":te=BO;break;case"copy":case"cut":case"paste":te=NO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Vx;break;case"toggle":case"beforetoggle":te=zO}var De=(i&4)!==0,Et=!De&&(a==="scroll"||a==="scrollend"),q=De?X!==null?X+"Capture":null:X;De=[];for(var V=z,G;V!==null;){var ie=V;if(G=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||G===null||q===null||(ie=sc(V,q),ie!=null&&De.push(Vc(V,ie,G))),Et)break;V=V.return}0<De.length&&(X=new te(X,xe,null,l,ne),le.push({event:X,listeners:De}))}}if((i&7)===0){e:{if(X=a==="mouseover"||a==="pointerover",te=a==="mouseout"||a==="pointerout",X&&l!==np&&(xe=l.relatedTarget||l.fromElement)&&(ci(xe)||xe[fo]))break e;if((te||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,te?(xe=l.relatedTarget||l.toElement,te=z,xe=xe?ci(xe):null,xe!==null&&(Et=B(xe),De=xe.tag,xe!==Et||De!==5&&De!==27&&De!==6)&&(xe=null)):(te=null,xe=z),te!==xe)){if(De=Fx,ie="onMouseLeave",q="onMouseEnter",V="mouse",(a==="pointerout"||a==="pointerover")&&(De=Vx,ie="onPointerLeave",q="onPointerEnter",V="pointer"),Et=te==null?X:ac(te),G=xe==null?X:ac(xe),X=new De(ie,V+"leave",te,l,ne),X.target=Et,X.relatedTarget=G,ie=null,ci(ne)===z&&(De=new De(q,V+"enter",xe,l,ne),De.target=G,De.relatedTarget=Et,ie=De),Et=ie,te&&xe)t:{for(De=te,q=xe,V=0,G=De;G;G=Ho(G))V++;for(G=0,ie=q;ie;ie=Ho(ie))G++;for(;0<V-G;)De=Ho(De),V--;for(;0<G-V;)q=Ho(q),G--;for(;V--;){if(De===q||q!==null&&De===q.alternate)break t;De=Ho(De),q=Ho(q)}De=null}else De=null;te!==null&&_E(le,X,te,De,!1),xe!==null&&Et!==null&&_E(le,Et,xe,De,!0)}}e:{if(X=z?ac(z):window,te=X.nodeName&&X.nodeName.toLowerCase(),te==="select"||te==="input"&&X.type==="file")var ge=Kx;else if(Gx(X))if(Xx)ge=ZO;else{ge=XO;var Le=KO}else te=X.nodeName,!te||te.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?z&&tp(z.elementType)&&(ge=Kx):ge=QO;if(ge&&(ge=ge(a,z))){Yx(le,ge,l,ne);break e}Le&&Le(a,X,z),a==="focusout"&&z&&X.type==="number"&&z.memoizedProps.value!=null&&ep(X,"number",X.value)}switch(Le=z?ac(z):window,a){case"focusin":(Gx(Le)||Le.contentEditable==="true")&&(wo=Le,pp=z,hc=null);break;case"focusout":hc=pp=wo=null;break;case"mousedown":gp=!0;break;case"contextmenu":case"mouseup":case"dragend":gp=!1,aw(le,l,ne);break;case"selectionchange":if(tM)break;case"keydown":case"keyup":aw(le,l,ne)}var _e;if(dp)e:{switch(a){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else xo?qx(a,l)&&(Ce="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(zx&&l.locale!=="ko"&&(xo||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&xo&&(_e=Lx()):(ns=ne,ip="value"in ns?ns.value:ns.textContent,xo=!0)),Le=wf(z,Ce),0<Le.length&&(Ce=new Bx(Ce,a,null,l,ne),le.push({event:Ce,listeners:Le}),_e?Ce.data=_e:(_e=Wx(l),_e!==null&&(Ce.data=_e)))),(_e=$O?qO(a,l):WO(a,l))&&(Ce=wf(z,"onBeforeInput"),0<Ce.length&&(Le=new Bx("onBeforeInput","beforeinput",null,l,ne),le.push({event:Le,listeners:Ce}),Le.data=_e)),LM(le,a,z,l,ne)}xE(le,i)})}function Vc(a,i,l){return{instance:a,listener:i,currentTarget:l}}function wf(a,i){for(var l=i+"Capture",d=[];a!==null;){var p=a,b=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=sc(a,l),p!=null&&d.unshift(Vc(a,p,b)),p=sc(a,i),p!=null&&d.push(Vc(a,p,b))),a=a.return}return d}function Ho(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function _E(a,i,l,d,p){for(var b=i._reactName,N=[];l!==null&&l!==d;){var O=l,L=O.alternate,z=O.stateNode;if(O=O.tag,L!==null&&L===d)break;O!==5&&O!==26&&O!==27||z===null||(L=z,p?(z=sc(l,b),z!=null&&N.unshift(Vc(l,z,L))):p||(z=sc(l,b),z!=null&&N.push(Vc(l,z,L)))),l=l.return}N.length!==0&&a.push({event:i,listeners:N})}var VM=/\r\n?/g,zM=/\u0000|\uFFFD/g;function EE(a){return(typeof a=="string"?a:""+a).replace(VM,`
`).replace(zM,"")}function SE(a,i){return i=EE(i),EE(a)===i}function _f(){}function st(a,i,l,d,p,b){switch(l){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||vo(a,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&vo(a,""+d);break;case"className":Id(a,"class",d);break;case"tabIndex":Id(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Id(a,l,d);break;case"style":jx(a,d,b);break;case"data":if(i!=="object"){Id(a,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||l!=="href")){a.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(l);break}d=Od(""+d),a.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(i!=="input"&&st(a,i,"name",p.name,p,null),st(a,i,"formEncType",p.formEncType,p,null),st(a,i,"formMethod",p.formMethod,p,null),st(a,i,"formTarget",p.formTarget,p,null)):(st(a,i,"encType",p.encType,p,null),st(a,i,"method",p.method,p,null),st(a,i,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(l);break}d=Od(""+d),a.setAttribute(l,d);break;case"onClick":d!=null&&(a.onclick=_f);break;case"onScroll":d!=null&&$e("scroll",a);break;case"onScrollEnd":d!=null&&$e("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(r(60));a.innerHTML=l}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}l=Od(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,""+d):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":d===!0?a.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,d):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(l,d):a.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(l):a.setAttribute(l,d);break;case"popover":$e("beforetoggle",a),$e("toggle",a),Rd(a,"popover",d);break;case"xlinkActuate":da(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":da(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":da(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":da(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":da(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":da(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":da(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":da(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":da(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Rd(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=vO.get(l)||l,Rd(a,l,d))}}function Fg(a,i,l,d,p,b){switch(l){case"style":jx(a,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(r(60));a.innerHTML=l}}break;case"children":typeof d=="string"?vo(a,d):(typeof d=="number"||typeof d=="bigint")&&vo(a,""+d);break;case"onScroll":d!=null&&$e("scroll",a);break;case"onScrollEnd":d!=null&&$e("scrollend",a);break;case"onClick":d!=null&&(a.onclick=_f);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cx.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),i=l.slice(2,p?l.length-7:void 0),b=a[In]||null,b=b!=null?b[l]:null,typeof b=="function"&&a.removeEventListener(i,b,p),typeof d=="function")){typeof b!="function"&&b!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(i,d,p);break e}l in a?a[l]=d:d===!0?a.setAttribute(l,""):Rd(a,l,d)}}}function nn(a,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",a),$e("load",a);var d=!1,p=!1,b;for(b in l)if(l.hasOwnProperty(b)){var N=l[b];if(N!=null)switch(b){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:st(a,i,b,N,l,null)}}p&&st(a,i,"srcSet",l.srcSet,l,null),d&&st(a,i,"src",l.src,l,null);return;case"input":$e("invalid",a);var O=b=N=p=null,L=null,z=null;for(d in l)if(l.hasOwnProperty(d)){var ne=l[d];if(ne!=null)switch(d){case"name":p=ne;break;case"type":N=ne;break;case"checked":L=ne;break;case"defaultChecked":z=ne;break;case"value":b=ne;break;case"defaultValue":O=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,i));break;default:st(a,i,d,ne,l,null)}}Ax(a,b,O,L,z,N,p,!1),Ad(a);return;case"select":$e("invalid",a),d=N=b=null;for(p in l)if(l.hasOwnProperty(p)&&(O=l[p],O!=null))switch(p){case"value":b=O;break;case"defaultValue":N=O;break;case"multiple":d=O;default:st(a,i,p,O,l,null)}i=b,l=N,a.multiple=!!d,i!=null?go(a,!!d,i,!1):l!=null&&go(a,!!d,l,!0);return;case"textarea":$e("invalid",a),b=p=d=null;for(N in l)if(l.hasOwnProperty(N)&&(O=l[N],O!=null))switch(N){case"value":d=O;break;case"defaultValue":p=O;break;case"children":b=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:st(a,i,N,O,l,null)}Ox(a,d,p,b),Ad(a);return;case"option":for(L in l)if(l.hasOwnProperty(L)&&(d=l[L],d!=null))switch(L){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:st(a,i,L,d,l,null)}return;case"dialog":$e("cancel",a),$e("close",a);break;case"iframe":case"object":$e("load",a);break;case"video":case"audio":for(d=0;d<Bc.length;d++)$e(Bc[d],a);break;case"image":$e("error",a),$e("load",a);break;case"details":$e("toggle",a);break;case"embed":case"source":case"link":$e("error",a),$e("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in l)if(l.hasOwnProperty(z)&&(d=l[z],d!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:st(a,i,z,d,l,null)}return;default:if(tp(i)){for(ne in l)l.hasOwnProperty(ne)&&(d=l[ne],d!==void 0&&Fg(a,i,ne,d,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(d=l[O],d!=null&&st(a,i,O,d,l,null))}function HM(a,i,l,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,N=null,O=null,L=null,z=null,ne=null;for(te in l){var le=l[te];if(l.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":L=le;default:d.hasOwnProperty(te)||st(a,i,te,null,d,le)}}for(var X in d){var te=d[X];if(le=l[X],d.hasOwnProperty(X)&&(te!=null||le!=null))switch(X){case"type":b=te;break;case"name":p=te;break;case"checked":z=te;break;case"defaultChecked":ne=te;break;case"value":N=te;break;case"defaultValue":O=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,i));break;default:te!==le&&st(a,i,X,te,d,le)}}Jm(a,N,O,L,z,ne,b,p);return;case"select":te=N=O=X=null;for(b in l)if(L=l[b],l.hasOwnProperty(b)&&L!=null)switch(b){case"value":break;case"multiple":te=L;default:d.hasOwnProperty(b)||st(a,i,b,null,d,L)}for(p in d)if(b=d[p],L=l[p],d.hasOwnProperty(p)&&(b!=null||L!=null))switch(p){case"value":X=b;break;case"defaultValue":O=b;break;case"multiple":N=b;default:b!==L&&st(a,i,p,b,d,L)}i=O,l=N,d=te,X!=null?go(a,!!l,X,!1):!!d!=!!l&&(i!=null?go(a,!!l,i,!0):go(a,!!l,l?[]:"",!1));return;case"textarea":te=X=null;for(O in l)if(p=l[O],l.hasOwnProperty(O)&&p!=null&&!d.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:st(a,i,O,null,d,p)}for(N in d)if(p=d[N],b=l[N],d.hasOwnProperty(N)&&(p!=null||b!=null))switch(N){case"value":X=p;break;case"defaultValue":te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==b&&st(a,i,N,p,d,b)}Dx(a,X,te);return;case"option":for(var xe in l)if(X=l[xe],l.hasOwnProperty(xe)&&X!=null&&!d.hasOwnProperty(xe))switch(xe){case"selected":a.selected=!1;break;default:st(a,i,xe,null,d,X)}for(L in d)if(X=d[L],te=l[L],d.hasOwnProperty(L)&&X!==te&&(X!=null||te!=null))switch(L){case"selected":a.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:st(a,i,L,X,d,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in l)X=l[De],l.hasOwnProperty(De)&&X!=null&&!d.hasOwnProperty(De)&&st(a,i,De,null,d,X);for(z in d)if(X=d[z],te=l[z],d.hasOwnProperty(z)&&X!==te&&(X!=null||te!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,i));break;default:st(a,i,z,X,d,te)}return;default:if(tp(i)){for(var Et in l)X=l[Et],l.hasOwnProperty(Et)&&X!==void 0&&!d.hasOwnProperty(Et)&&Fg(a,i,Et,void 0,d,X);for(ne in d)X=d[ne],te=l[ne],!d.hasOwnProperty(ne)||X===te||X===void 0&&te===void 0||Fg(a,i,ne,X,d,te);return}}for(var q in l)X=l[q],l.hasOwnProperty(q)&&X!=null&&!d.hasOwnProperty(q)&&st(a,i,q,null,d,X);for(le in d)X=d[le],te=l[le],!d.hasOwnProperty(le)||X===te||X==null&&te==null||st(a,i,le,X,d,te)}var Bg=null,Vg=null;function Ef(a){return a.nodeType===9?a:a.ownerDocument}function CE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function NE(a,i){if(a===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&i==="foreignObject"?0:a}function zg(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hg=null;function $M(){var a=window.event;return a&&a.type==="popstate"?a===Hg?!1:(Hg=a,!0):(Hg=null,!1)}var TE=typeof setTimeout=="function"?setTimeout:void 0,qM=typeof clearTimeout=="function"?clearTimeout:void 0,RE=typeof Promise=="function"?Promise:void 0,WM=typeof queueMicrotask=="function"?queueMicrotask:typeof RE<"u"?function(a){return RE.resolve(null).then(a).catch(GM)}:TE;function GM(a){setTimeout(function(){throw a})}function $g(a,i){var l=i,d=0;do{var p=l.nextSibling;if(a.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){a.removeChild(p),Kc(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);Kc(i)}function qg(a){var i=a.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":qg(l),Zm(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function YM(a,i,l,d){for(;a.nodeType===1;){var p=l;if(a.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[rc])switch(i){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==p.rel||a.getAttribute("href")!==(p.href==null?null:p.href)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||a.getAttribute("title")!==(p.title==null?null:p.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(p.src==null?null:p.src)||a.getAttribute("type")!==(p.type==null?null:p.type)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(i==="input"&&a.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Sr(a.nextSibling),a===null)break}return null}function KM(a,i,l){if(i==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Sr(a.nextSibling),a===null))return null;return a}function Sr(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return a}function IE(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return a;i--}else l==="/$"&&i++}a=a.previousSibling}return null}function AE(a,i,l){switch(i=Ef(l),a){case"html":if(a=i.documentElement,!a)throw Error(r(452));return a;case"head":if(a=i.head,!a)throw Error(r(453));return a;case"body":if(a=i.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}var dr=new Map,DE=new Set;function Sf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var Na=oe.d;oe.d={f:XM,r:QM,D:ZM,C:JM,L:ej,m:tj,X:rj,S:nj,M:aj};function XM(){var a=Na.f(),i=gf();return a||i}function QM(a){var i=ho(a);i!==null&&i.tag===5&&i.type==="form"?a_(i):Na.r(a)}var $o=typeof document>"u"?null:document;function OE(a,i,l){var d=$o;if(d&&typeof i=="string"&&i){var p=tr(i);p='link[rel="'+a+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),DE.has(p)||(DE.add(p),a={rel:a,crossOrigin:l,href:i},d.querySelector(p)===null&&(i=d.createElement("link"),nn(i,"link",a),qt(i),d.head.appendChild(i)))}}function ZM(a){Na.D(a),OE("dns-prefetch",a,null)}function JM(a,i){Na.C(a,i),OE("preconnect",a,i)}function ej(a,i,l){Na.L(a,i,l);var d=$o;if(d&&a&&i){var p='link[rel="preload"][as="'+tr(i)+'"]';i==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+tr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+tr(l.imageSizes)+'"]')):p+='[href="'+tr(a)+'"]';var b=p;switch(i){case"style":b=qo(a);break;case"script":b=Wo(a)}dr.has(b)||(a=Y({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:a,as:i},l),dr.set(b,a),d.querySelector(p)!==null||i==="style"&&d.querySelector(zc(b))||i==="script"&&d.querySelector(Hc(b))||(i=d.createElement("link"),nn(i,"link",a),qt(i),d.head.appendChild(i)))}}function tj(a,i){Na.m(a,i);var l=$o;if(l&&a){var d=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+tr(d)+'"][href="'+tr(a)+'"]',b=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Wo(a)}if(!dr.has(b)&&(a=Y({rel:"modulepreload",href:a},i),dr.set(b,a),l.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Hc(b)))return}d=l.createElement("link"),nn(d,"link",a),qt(d),l.head.appendChild(d)}}}function nj(a,i,l){Na.S(a,i,l);var d=$o;if(d&&a){var p=mo(d).hoistableStyles,b=qo(a);i=i||"default";var N=p.get(b);if(!N){var O={loading:0,preload:null};if(N=d.querySelector(zc(b)))O.loading=5;else{a=Y({rel:"stylesheet",href:a,"data-precedence":i},l),(l=dr.get(b))&&Wg(a,l);var L=N=d.createElement("link");qt(L),nn(L,"link",a),L._p=new Promise(function(z,ne){L.onload=z,L.onerror=ne}),L.addEventListener("load",function(){O.loading|=1}),L.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Cf(N,i,d)}N={type:"stylesheet",instance:N,count:1,state:O},p.set(b,N)}}}function rj(a,i){Na.X(a,i);var l=$o;if(l&&a){var d=mo(l).hoistableScripts,p=Wo(a),b=d.get(p);b||(b=l.querySelector(Hc(p)),b||(a=Y({src:a,async:!0},i),(i=dr.get(p))&&Gg(a,i),b=l.createElement("script"),qt(b),nn(b,"link",a),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function aj(a,i){Na.M(a,i);var l=$o;if(l&&a){var d=mo(l).hoistableScripts,p=Wo(a),b=d.get(p);b||(b=l.querySelector(Hc(p)),b||(a=Y({src:a,async:!0,type:"module"},i),(i=dr.get(p))&&Gg(a,i),b=l.createElement("script"),qt(b),nn(b,"link",a),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function ME(a,i,l,d){var p=(p=Ye.current)?Sf(p):null;if(!p)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=qo(l.href),l=mo(p).hoistableStyles,d=l.get(i),d||(d={type:"style",instance:null,count:0,state:null},l.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=qo(l.href);var b=mo(p).hoistableStyles,N=b.get(a);if(N||(p=p.ownerDocument||p,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,N),(b=p.querySelector(zc(a)))&&!b._p&&(N.instance=b,N.state.loading=5),dr.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},dr.set(a,l),b||sj(p,a,l,N.state))),i&&d===null)throw Error(r(528,""));return N}if(i&&d!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wo(l),l=mo(p).hoistableScripts,d=l.get(i),d||(d={type:"script",instance:null,count:0,state:null},l.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function qo(a){return'href="'+tr(a)+'"'}function zc(a){return'link[rel="stylesheet"]['+a+"]"}function jE(a){return Y({},a,{"data-precedence":a.precedence,precedence:null})}function sj(a,i,l,d){a.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=a.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),nn(i,"link",l),qt(i),a.head.appendChild(i))}function Wo(a){return'[src="'+tr(a)+'"]'}function Hc(a){return"script[async]"+a}function PE(a,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var d=a.querySelector('style[data-href~="'+tr(l.href)+'"]');if(d)return i.instance=d,qt(d),d;var p=Y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),qt(d),nn(d,"style",p),Cf(d,l.precedence,a),i.instance=d;case"stylesheet":p=qo(l.href);var b=a.querySelector(zc(p));if(b)return i.state.loading|=4,i.instance=b,qt(b),b;d=jE(l),(p=dr.get(p))&&Wg(d,p),b=(a.ownerDocument||a).createElement("link"),qt(b);var N=b;return N._p=new Promise(function(O,L){N.onload=O,N.onerror=L}),nn(b,"link",d),i.state.loading|=4,Cf(b,l.precedence,a),i.instance=b;case"script":return b=Wo(l.src),(p=a.querySelector(Hc(b)))?(i.instance=p,qt(p),p):(d=l,(p=dr.get(b))&&(d=Y({},l),Gg(d,p)),a=a.ownerDocument||a,p=a.createElement("script"),qt(p),nn(p,"link",d),a.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,Cf(d,l.precedence,a));return i.instance}function Cf(a,i,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,b=p,N=0;N<d.length;N++){var O=d[N];if(O.dataset.precedence===i)b=O;else if(b!==p)break}b?b.parentNode.insertBefore(a,b.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(a,i.firstChild))}function Wg(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.title==null&&(a.title=i.title)}function Gg(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.integrity==null&&(a.integrity=i.integrity)}var Nf=null;function kE(a,i,l){if(Nf===null){var d=new Map,p=Nf=new Map;p.set(l,d)}else p=Nf,d=p.get(l),d||(d=new Map,p.set(l,d));if(d.has(a))return d;for(d.set(a,null),l=l.getElementsByTagName(a),p=0;p<l.length;p++){var b=l[p];if(!(b[rc]||b[ln]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var N=b.getAttribute(i)||"";N=a+N;var O=d.get(N);O?O.push(b):d.set(N,[b])}}return d}function LE(a,i,l){a=a.ownerDocument||a,a.head.insertBefore(l,i==="title"?a.querySelector("head > title"):null)}function ij(a,i,l){if(l===1||i.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return a=i.disabled,typeof i.precedence=="string"&&a==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function UE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var $c=null;function oj(){}function lj(a,i,l){if($c===null)throw Error(r(475));var d=$c;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var p=qo(l.href),b=a.querySelector(zc(p));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(d.count++,d=Tf.bind(d),a.then(d,d)),i.state.loading|=4,i.instance=b,qt(b);return}b=a.ownerDocument||a,l=jE(l),(p=dr.get(p))&&Wg(l,p),b=b.createElement("link"),qt(b);var N=b;N._p=new Promise(function(O,L){N.onload=O,N.onerror=L}),nn(b,"link",l),i.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(i,a),(a=i.state.preload)&&(i.state.loading&3)===0&&(d.count++,i=Tf.bind(d),a.addEventListener("load",i),a.addEventListener("error",i))}}function cj(){if($c===null)throw Error(r(475));var a=$c;return a.stylesheets&&a.count===0&&Yg(a,a.stylesheets),0<a.count?function(i){var l=setTimeout(function(){if(a.stylesheets&&Yg(a,a.stylesheets),a.unsuspend){var d=a.unsuspend;a.unsuspend=null,d()}},6e4);return a.unsuspend=i,function(){a.unsuspend=null,clearTimeout(l)}}:null}function Tf(){if(this.count--,this.count===0){if(this.stylesheets)Yg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Rf=null;function Yg(a,i){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Rf=new Map,i.forEach(uj,a),Rf=null,Tf.call(a))}function uj(a,i){if(!(i.state.loading&4)){var l=Rf.get(a);if(l)var d=l.get(null);else{l=new Map,Rf.set(a,l);for(var p=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var N=p[b];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(l.set(N.dataset.precedence,N),d=N)}d&&l.set(null,d)}p=i.instance,N=p.getAttribute("data-precedence"),b=l.get(N)||d,b===d&&l.set(null,p),l.set(N,p),this.count++,d=Tf.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),b?b.parentNode.insertBefore(p,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(p,a.firstChild)),i.state.loading|=4}}var qc={$$typeof:w,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function dj(a,i,l,d,p,b,N,O){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=on(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=on(0),this.hiddenUpdates=on(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function FE(a,i,l,d,p,b,N,O,L,z,ne,le){return a=new dj(a,i,l,N,O,L,z,le),i=1,b===!0&&(i|=24),b=cr(3,null,null,i),a.current=b,b.stateNode=a,i=Np(),i.refCount++,a.pooledCache=i,i.refCount++,b.memoizedState={element:d,isDehydrated:l,cache:i},ig(b),a}function BE(a){return a?(a=So,a):So}function VE(a,i,l,d,p,b){p=BE(p),d.context===null?d.context=p:d.pendingContext=p,d=us(i),d.payload={element:l},b=b===void 0?null:b,b!==null&&(d.callback=b),l=ds(a,d,i),l!==null&&(vn(l,a,i),Rc(l,a,i))}function zE(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<i?l:i}}function Kg(a,i){zE(a,i),(a=a.alternate)&&zE(a,i)}function HE(a){if(a.tag===13){var i=rs(a,67108864);i!==null&&vn(i,a,67108864),Kg(a,67108864)}}var If=!0;function fj(a,i,l,d){var p=F.T;F.T=null;var b=oe.p;try{oe.p=2,Xg(a,i,l,d)}finally{oe.p=b,F.T=p}}function hj(a,i,l,d){var p=F.T;F.T=null;var b=oe.p;try{oe.p=8,Xg(a,i,l,d)}finally{oe.p=b,F.T=p}}function Xg(a,i,l,d){if(If){var p=Qg(d);if(p===null)Ug(a,i,d,Af,l),qE(a,d);else if(pj(p,a,i,l,d))d.stopPropagation();else if(qE(a,d),i&4&&-1<mj.indexOf(a)){for(;p!==null;){var b=ho(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var N=Ie(b.pendingLanes);if(N!==0){var O=b;for(O.pendingLanes|=2,O.entangledLanes|=2;N;){var L=1<<31-mn(N);O.entanglements[1]|=L,N&=~L}Gr(b),(vt&6)===0&&(hf=Jn()+500,Fc(0))}}break;case 13:O=rs(b,2),O!==null&&vn(O,b,2),gf(),Kg(b,2)}if(b=Qg(d),b===null&&Ug(a,i,d,Af,l),b===p)break;p=b}p!==null&&d.stopPropagation()}else Ug(a,i,d,null,l)}}function Qg(a){return a=rp(a),Zg(a)}var Af=null;function Zg(a){if(Af=null,a=ci(a),a!==null){var i=B(a);if(i===null)a=null;else{var l=i.tag;if(l===13){if(a=H(i),a!==null)return a;a=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return Af=a,null}function $E(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ym()){case ri:return 2;case Cd:return 8;case ai:case ec:return 32;case ca:return 268435456;default:return 32}default:return 32}}var Jg=!1,ys=null,bs=null,xs=null,Wc=new Map,Gc=new Map,ws=[],mj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qE(a,i){switch(a){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":Wc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(i.pointerId)}}function Yc(a,i,l,d,p,b){return a===null||a.nativeEvent!==b?(a={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:b,targetContainers:[p]},i!==null&&(i=ho(i),i!==null&&HE(i)),a):(a.eventSystemFlags|=d,i=a.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),a)}function pj(a,i,l,d,p){switch(i){case"focusin":return ys=Yc(ys,a,i,l,d,p),!0;case"dragenter":return bs=Yc(bs,a,i,l,d,p),!0;case"mouseover":return xs=Yc(xs,a,i,l,d,p),!0;case"pointerover":var b=p.pointerId;return Wc.set(b,Yc(Wc.get(b)||null,a,i,l,d,p)),!0;case"gotpointercapture":return b=p.pointerId,Gc.set(b,Yc(Gc.get(b)||null,a,i,l,d,p)),!0}return!1}function WE(a){var i=ci(a.target);if(i!==null){var l=B(i);if(l!==null){if(i=l.tag,i===13){if(i=H(l),i!==null){a.blockedOn=i,cO(a.priority,function(){if(l.tag===13){var d=zn(),p=rs(l,d);p!==null&&vn(p,l,d),Kg(l,d)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Df(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var l=Qg(a.nativeEvent);if(l===null){l=a.nativeEvent;var d=new l.constructor(l.type,l);np=d,l.target.dispatchEvent(d),np=null}else return i=ho(l),i!==null&&HE(i),a.blockedOn=l,!1;i.shift()}return!0}function GE(a,i,l){Df(a)&&l.delete(i)}function gj(){Jg=!1,ys!==null&&Df(ys)&&(ys=null),bs!==null&&Df(bs)&&(bs=null),xs!==null&&Df(xs)&&(xs=null),Wc.forEach(GE),Gc.forEach(GE)}function Of(a,i){a.blockedOn===i&&(a.blockedOn=null,Jg||(Jg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gj)))}var Mf=null;function YE(a){Mf!==a&&(Mf=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mf===a&&(Mf=null);for(var i=0;i<a.length;i+=3){var l=a[i],d=a[i+1],p=a[i+2];if(typeof d!="function"){if(Zg(d||l)===null)continue;break}var b=ho(l);b!==null&&(a.splice(i,3),i-=3,zp(b,{pending:!0,data:p,method:l.method,action:d},d,p))}}))}function Kc(a){function i(L){return Of(L,a)}ys!==null&&Of(ys,a),bs!==null&&Of(bs,a),xs!==null&&Of(xs,a),Wc.forEach(i),Gc.forEach(i);for(var l=0;l<ws.length;l++){var d=ws[l];d.blockedOn===a&&(d.blockedOn=null)}for(;0<ws.length&&(l=ws[0],l.blockedOn===null);)WE(l),l.blockedOn===null&&ws.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var p=l[d],b=l[d+1],N=p[In]||null;if(typeof b=="function")N||YE(l);else if(N){var O=null;if(b&&b.hasAttribute("formAction")){if(p=b,N=b[In]||null)O=N.formAction;else if(Zg(p)!==null)continue}else O=N.action;typeof O=="function"?l[d+1]=O:(l.splice(d,3),d-=3),YE(l)}}}function ev(a){this._internalRoot=a}jf.prototype.render=ev.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,d=zn();VE(l,d,a,i,null,null)},jf.prototype.unmount=ev.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;a.tag===0&&Vo(),VE(a.current,2,null,a,null,null),gf(),i[fo]=null}};function jf(a){this._internalRoot=a}jf.prototype.unstable_scheduleHydration=function(a){if(a){var i=Xm();a={blockedOn:null,target:a,priority:i};for(var l=0;l<ws.length&&i!==0&&i<ws[l].priority;l++);ws.splice(l,0,a),l===0&&WE(a)}};var KE=e.version;if(KE!=="19.0.0")throw Error(r(527,KE,"19.0.0"));oe.findDOMNode=function(a){var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=$(i),a=a!==null?re(a):null,a=a===null?null:a.stateNode,a};var vj={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:F,findFiberByHostInstance:ci,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pf.isDisabled&&Pf.supportsFiber)try{si=Pf.inject(vj),hn=Pf}catch{}}return Qc.createRoot=function(a,i){if(!s(a))throw Error(r(299));var l=!1,d="",p=f_,b=h_,N=m_,O=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(N=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(O=i.unstable_transitionCallbacks)),i=FE(a,1,!1,null,null,l,d,p,b,N,O,null),a[fo]=i.current,Lg(a.nodeType===8?a.parentNode:a),new ev(i)},Qc.hydrateRoot=function(a,i,l){if(!s(a))throw Error(r(299));var d=!1,p="",b=f_,N=h_,O=m_,L=null,z=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks),l.formState!==void 0&&(z=l.formState)),i=FE(a,1,!0,i,l??null,d,p,b,N,O,L,z),i.context=BE(null),l=i.current,d=zn(),p=us(d),p.callback=null,ds(l,p,d),i.current.lanes=d,Vr(i,d),Gr(i),a[fo]=i.current,Lg(a),new jf(i)},Qc.version="19.0.0",Qc}var sS;function Ij(){if(sS)return rv.exports;sS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rv.exports=Rj(),rv.exports}var Aj=Ij();const Dj=db(Aj);var Zc={},iS;function Oj(){if(iS)return Zc;iS=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.parse=c,Zc.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function c(y,w){const E=new o,_=y.length;if(_<2)return E;const S=(w==null?void 0:w.decode)||g;let C=0;do{const T=y.indexOf("=",C);if(T===-1)break;const R=y.indexOf(";",C),M=R===-1?_:R;if(T>M){C=y.lastIndexOf(";",T-1)+1;continue}const A=u(y,C,T),I=f(y,T,A),k=y.slice(A,I);if(E[k]===void 0){let U=u(y,T+1,M),F=f(y,M,U);const Y=S(y.slice(U,F));E[k]=Y}C=M+1}while(C<_);return E}function u(y,w,E){do{const _=y.charCodeAt(w);if(_!==32&&_!==9)return w}while(++w<E);return E}function f(y,w,E){for(;w>E;){const _=y.charCodeAt(--w);if(_!==32&&_!==9)return w+1}return E}function m(y,w,E){const _=(E==null?void 0:E.encode)||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const S=_(w);if(!e.test(S))throw new TypeError(`argument val is invalid: ${w}`);let C=y+"="+S;if(!E)return C;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);C+="; Max-Age="+E.maxAge}if(E.domain){if(!n.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);C+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);C+="; Path="+E.path}if(E.expires){if(!v(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);C+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(C+="; HttpOnly"),E.secure&&(C+="; Secure"),E.partitioned&&(C+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return C}function g(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function v(y){return s.call(y)==="[object Date]"}return Zc}Oj();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var oS="popstate";function Mj(t={}){function e(r,s){let{pathname:o,search:c,hash:u}=r.location;return Qv("",{pathname:o,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ru(s)}return Pj(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ar(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jj(){return Math.random().toString(36).substring(2,10)}function lS(t,e){return{usr:t.state,key:t.key,idx:e}}function Qv(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Il(e):e,state:n,key:e&&e.key||r||jj()}}function Ru({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Il(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Pj(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,c=s.history,u="POP",f=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function v(){u="POP";let S=g(),C=S==null?null:S-m;m=S,f&&f({action:u,location:_.location,delta:C})}function y(S,C){u="PUSH";let T=Qv(_.location,S,C);m=g()+1;let R=lS(T,m),M=_.createHref(T);try{c.pushState(R,"",M)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(M)}o&&f&&f({action:u,location:_.location,delta:1})}function w(S,C){u="REPLACE";let T=Qv(_.location,S,C);m=g();let R=lS(T,m),M=_.createHref(T);c.replaceState(R,"",M),o&&f&&f({action:u,location:_.location,delta:0})}function E(S){let C=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof S=="string"?S:Ru(S);return T=T.replace(/ $/,"%20"),mt(C,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,C)}let _={get action(){return u},get location(){return t(s,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(oS,v),f=S,()=>{s.removeEventListener(oS,v),f=null}},createHref(S){return e(s,S)},createURL:E,encodeLocation(S){let C=E(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:w,go(S){return c.go(S)}};return _}function uN(t,e,n="/"){return kj(t,e,n,!1)}function kj(t,e,n,r){let s=typeof e=="string"?Il(e):e,o=zs(s.pathname||"/",n);if(o==null)return null;let c=dN(t);Lj(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=Yj(o);u=Wj(c[f],m,r)}return u}function dN(t,e=[],n=[],r=""){let s=(o,c,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(mt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=Ma([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(mt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),dN(o.children,e,g,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:$j(m,o.index),routesMeta:g})};return t.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,c);else for(let f of fN(o.path))s(o,c,f)}),e}function fN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let c=fN(r.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),s&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function Lj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Uj=/^:[\w-]+$/,Fj=3,Bj=2,Vj=1,zj=10,Hj=-2,cS=t=>t==="*";function $j(t,e){let n=t.split("/"),r=n.length;return n.some(cS)&&(r+=Hj),e&&(r+=Bj),n.filter(s=>!cS(s)).reduce((s,o)=>s+(Uj.test(o)?Fj:o===""?Vj:zj),r)}function qj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Wj(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",c=[];for(let u=0;u<r.length;++u){let f=r[u],m=u===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=gh({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),y=f.route;if(!v&&m&&n&&!r[r.length-1].route.index&&(v=gh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),c.push({params:s,pathname:Ma([o,v.pathname]),pathnameBase:Zj(Ma([o,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(o=Ma([o,v.pathnameBase]))}return c}function gh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Gj(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:v},y)=>{if(g==="*"){let E=u[y]||"";c=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const w=u[y];return v&&!w?m[g]=void 0:m[g]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function Gj(t,e=!1,n=!0){Ar(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Yj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ar(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function zs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Kj(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Il(t):t;return{pathname:n?n.startsWith("/")?n:Xj(n,e):e,search:Jj(r),hash:eP(s)}}function Xj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ov(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Qj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hb(t){let e=Qj(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function mb(t,e,n,r=!1){let s;typeof t=="string"?s=Il(t):(s={...t},mt(!s.pathname||!s.pathname.includes("?"),ov("?","pathname","search",s)),mt(!s.pathname||!s.pathname.includes("#"),ov("#","pathname","hash",s)),mt(!s.search||!s.search.includes("#"),ov("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,u;if(c==null)u=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),v-=1;s.pathname=y.join("/")}u=v>=0?e[v]:"/"}let f=Kj(s,u),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var Ma=t=>t.join("/").replace(/\/\/+/g,"/"),Zj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Jj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var hN=["POST","PUT","PATCH","DELETE"];new Set(hN);var nP=["GET",...hN];new Set(nP);var Al=x.createContext(null);Al.displayName="DataRouter";var rm=x.createContext(null);rm.displayName="DataRouterState";var mN=x.createContext({isTransitioning:!1});mN.displayName="ViewTransition";var rP=x.createContext(new Map);rP.displayName="Fetchers";var aP=x.createContext(null);aP.displayName="Await";var Pr=x.createContext(null);Pr.displayName="Navigation";var Qu=x.createContext(null);Qu.displayName="Location";var gr=x.createContext({outlet:null,matches:[],isDataRoute:!1});gr.displayName="Route";var pb=x.createContext(null);pb.displayName="RouteError";function sP(t,{relative:e}={}){mt(Dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(Pr),{hash:s,pathname:o,search:c}=Zu(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Ma([n,o])),r.createHref({pathname:u,search:c,hash:s})}function Dl(){return x.useContext(Qu)!=null}function kr(){return mt(Dl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Qu).location}var pN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gN(t){x.useContext(Pr).static||x.useLayoutEffect(t)}function Zt(){let{isDataRoute:t}=x.useContext(gr);return t?xP():iP()}function iP(){mt(Dl(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(Al),{basename:e,navigator:n}=x.useContext(Pr),{matches:r}=x.useContext(gr),{pathname:s}=kr(),o=JSON.stringify(hb(r)),c=x.useRef(!1);return gN(()=>{c.current=!0}),x.useCallback((f,m={})=>{if(Ar(c.current,pN),!c.current)return;if(typeof f=="number"){n.go(f);return}let g=mb(f,JSON.parse(o),s,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ma([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,o,s,t])}var oP=x.createContext(null);function lP(t){let e=x.useContext(gr).outlet;return e&&x.createElement(oP.Provider,{value:t},e)}function qe(){let{matches:t}=x.useContext(gr),e=t[t.length-1];return e?e.params:{}}function Zu(t,{relative:e}={}){let{matches:n}=x.useContext(gr),{pathname:r}=kr(),s=JSON.stringify(hb(n));return x.useMemo(()=>mb(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function cP(t,e){return vN(t,e)}function vN(t,e,n,r){var T;mt(Dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=x.useContext(Pr),{matches:c}=x.useContext(gr),u=c[c.length-1],f=u?u.params:{},m=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let R=v&&v.path||"";yN(m,!v||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let y=kr(),w;if(e){let R=typeof e=="string"?Il(e):e;mt(g==="/"||((T=R.pathname)==null?void 0:T.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${R.pathname}" was given in the \`location\` prop.`),w=R}else w=y;let E=w.pathname||"/",_=E;if(g!=="/"){let R=g.replace(/^\//,"").split("/");_="/"+E.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=!o&&n&&n.matches&&n.matches.length>0?n.matches:uN(t,{pathname:_});Ar(v||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ar(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=mP(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:Ma([g,s.encodeLocation?s.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:Ma([g,s.encodeLocation?s.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),c,n,r);return e&&C?x.createElement(Qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},C):C}function uP(){let t=bP(),e=tP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,c)}var dP=x.createElement(uP,null),fP=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?x.createElement(gr.Provider,{value:this.props.routeContext},x.createElement(pb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hP({routeContext:t,match:e,children:n}){let r=x.useContext(Al);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(gr.Provider,{value:t},n)}function mP(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let f=s.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);mt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,u=-1;if(n)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:g,errors:v}=n,y=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||y){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((f,m,g)=>{let v,y=!1,w=null,E=null;n&&(v=o&&m.route.id?o[m.route.id]:void 0,w=m.route.errorElement||dP,c&&(u<0&&g===0?(yN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,E=null):u===g&&(y=!0,E=m.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,g+1)),S=()=>{let C;return v?C=w:y?C=E:m.route.Component?C=x.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=f,x.createElement(hP,{match:m,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:C})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?x.createElement(fP,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}function gb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pP(t){let e=x.useContext(Al);return mt(e,gb(t)),e}function gP(t){let e=x.useContext(rm);return mt(e,gb(t)),e}function vP(t){let e=x.useContext(gr);return mt(e,gb(t)),e}function vb(t){let e=vP(t),n=e.matches[e.matches.length-1];return mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function yP(){return vb("useRouteId")}function bP(){var r;let t=x.useContext(pb),e=gP("useRouteError"),n=vb("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function xP(){let{router:t}=pP("useNavigate"),e=vb("useNavigate"),n=x.useRef(!1);return gN(()=>{n.current=!0}),x.useCallback(async(s,o={})=>{Ar(n.current,pN),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var uS={};function yN(t,e,n){!e&&!uS[t]&&(uS[t]=!0,Ar(!1,n))}x.memo(wP);function wP({routes:t,future:e,state:n}){return vN(t,void 0,n,e)}function yb({to:t,replace:e,state:n,relative:r}){mt(Dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=x.useContext(Pr);Ar(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(gr),{pathname:c}=kr(),u=Zt(),f=mb(t,hb(o),c,r==="path"),m=JSON.stringify(f);return x.useEffect(()=>{u(JSON.parse(m),{replace:e,state:n,relative:r})},[u,m,r,e,n]),null}function bb(t){return lP(t.context)}function he(t){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _P({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){mt(!Dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof n=="string"&&(n=Il(n));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:y="default"}=n,w=x.useMemo(()=>{let E=zs(f,c);return E==null?null:{location:{pathname:E,search:m,hash:g,state:v,key:y},navigationType:r}},[c,f,m,g,v,y,r]);return Ar(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:x.createElement(Pr.Provider,{value:u},x.createElement(Qu.Provider,{children:e,value:w}))}function bN({children:t,location:e}){return cP(Zv(t),e)}function Zv(t,e=[]){let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;let o=[...e,s];if(r.type===x.Fragment){n.push.apply(n,Zv(r.props.children,o));return}mt(r.type===he,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Zv(r.props.children,o)),n.push(c)}),n}var th="get",nh="application/x-www-form-urlencoded";function am(t){return t!=null&&typeof t.tagName=="string"}function EP(t){return am(t)&&t.tagName.toLowerCase()==="button"}function SP(t){return am(t)&&t.tagName.toLowerCase()==="form"}function CP(t){return am(t)&&t.tagName.toLowerCase()==="input"}function NP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TP(t,e){return t.button===0&&(!e||e==="_self")&&!NP(t)}var kf=null;function RP(){if(kf===null)try{new FormData(document.createElement("form"),0),kf=!1}catch{kf=!0}return kf}var IP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lv(t){return t!=null&&!IP.has(t)?(Ar(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nh}"`),null):t}function AP(t,e){let n,r,s,o,c;if(SP(t)){let u=t.getAttribute("action");r=u?zs(u,e):null,n=t.getAttribute("method")||th,s=lv(t.getAttribute("enctype"))||nh,o=new FormData(t)}else if(EP(t)||CP(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?zs(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||th,s=lv(t.getAttribute("formenctype"))||lv(u.getAttribute("enctype"))||nh,o=new FormData(u,t),!RP()){let{name:m,type:g,value:v}=t;if(g==="image"){let y=m?`${m}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else m&&o.append(m,v)}}else{if(am(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=th,r=null,s=nh,c=t}return o&&s==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:c}}function xb(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function DP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function MP(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await DP(o,n);return c.links?c.links():[]}return[]}));return LP(r.flat(1).filter(OP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function dS(t,e,n,r,s,o){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,u=(f,m)=>{var g;return n[m].pathname!==f.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,m)=>c(f,m)||u(f,m)):o==="data"?e.filter((f,m)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(c(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function jP(t,e,{includeHydrateFallback:n}={}){return PP(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function PP(t){return[...new Set(t)]}function kP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function LP(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(kP(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function UP(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function FP(){let t=x.useContext(Al);return xb(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function BP(){let t=x.useContext(rm);return xb(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var wb=x.createContext(void 0);wb.displayName="FrameworkContext";function xN(){let t=x.useContext(wb);return xb(t,"You must render this element inside a <HydratedRouter> element"),t}function VP(t,e){let n=x.useContext(wb),[r,s]=x.useState(!1),[o,c]=x.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=e,y=x.useRef(null);x.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let _=C=>{C.forEach(T=>{c(T.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[t]),x.useEffect(()=>{if(r){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[r]);let w=()=>{s(!0)},E=()=>{s(!1),c(!1)};return n?t!=="intent"?[o,y,{}]:[o,y,{onFocus:Jc(u,w),onBlur:Jc(f,E),onMouseEnter:Jc(m,w),onMouseLeave:Jc(g,E),onTouchStart:Jc(v,w)}]:[!1,y,{}]}function Jc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function zP({page:t,...e}){let{router:n}=FP(),r=x.useMemo(()=>uN(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement($P,{page:t,matches:r,...e}):null}function HP(t){let{manifest:e,routeModules:n}=xN(),[r,s]=x.useState([]);return x.useEffect(()=>{let o=!1;return MP(t,e,n).then(c=>{o||s(c)}),()=>{o=!0}},[t,e,n]),r}function $P({page:t,matches:e,...n}){let r=kr(),{manifest:s,routeModules:o}=xN(),{loaderData:c,matches:u}=BP(),f=x.useMemo(()=>dS(t,e,u,s,r,"data"),[t,e,u,s,r]),m=x.useMemo(()=>dS(t,e,u,s,r,"assets"),[t,e,u,s,r]),g=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,E=!1;if(e.forEach(S=>{var T;let C=s.routes[S.route.id];!C||!C.hasLoader||(!f.some(R=>R.route.id===S.route.id)&&S.route.id in c&&((T=o[S.route.id])!=null&&T.shouldRevalidate)||C.hasClientLoader?E=!0:w.add(S.route.id))}),w.size===0)return[];let _=UP(t);return E&&w.size>0&&_.searchParams.set("_routes",e.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[_.pathname+_.search]},[c,r,s,f,e,t,o]),v=x.useMemo(()=>jP(m,s),[m,s]),y=HP(m);return x.createElement(x.Fragment,null,g.map(w=>x.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>x.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),y.map(({key:w,link:E})=>x.createElement("link",{key:w,...E})))}function qP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var wN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wN&&(window.__reactRouterVersion="7.2.0")}catch{}function WP({basename:t,children:e,window:n}){let r=x.useRef();r.current==null&&(r.current=Mj({window:n,v5Compat:!0}));let s=r.current,[o,c]=x.useState({action:s.action,location:s.location}),u=x.useCallback(f=>{x.startTransition(()=>c(f))},[c]);return x.useLayoutEffect(()=>s.listen(u),[s,u]),x.createElement(_P,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var _N=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ja=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:c,state:u,target:f,to:m,preventScrollReset:g,viewTransition:v,...y},w){let{basename:E}=x.useContext(Pr),_=typeof m=="string"&&_N.test(m),S,C=!1;if(typeof m=="string"&&_&&(S=m,wN))try{let F=new URL(window.location.href),Y=m.startsWith("//")?new URL(F.protocol+m):new URL(m),se=zs(Y.pathname,E);Y.origin===F.origin&&se!=null?m=se+Y.search+Y.hash:C=!0}catch{Ar(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=sP(m,{relative:s}),[R,M,A]=VP(r,y),I=XP(m,{replace:c,state:u,target:f,preventScrollReset:g,relative:s,viewTransition:v});function k(F){e&&e(F),F.defaultPrevented||I(F)}let U=x.createElement("a",{...y,...A,href:S||T,onClick:C||o?e:k,ref:qP(w,M),target:f,"data-discover":!_&&n==="render"?"true":void 0});return R&&!_?x.createElement(x.Fragment,null,U,x.createElement(zP,{page:T})):U});ja.displayName="Link";var GP=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:c,viewTransition:u,children:f,...m},g){let v=Zu(c,{relative:m.relative}),y=kr(),w=x.useContext(rm),{navigator:E,basename:_}=x.useContext(Pr),S=w!=null&&tk(v)&&u===!0,C=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,T=y.pathname,R=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(T=T.toLowerCase(),R=R?R.toLowerCase():null,C=C.toLowerCase()),R&&_&&(R=zs(R,_)||R);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let A=T===C||!s&&T.startsWith(C)&&T.charAt(M)==="/",I=R!=null&&(R===C||!s&&R.startsWith(C)&&R.charAt(C.length)==="/"),k={isActive:A,isPending:I,isTransitioning:S},U=A?e:void 0,F;typeof r=="function"?F=r(k):F=[r,A?"active":null,I?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let Y=typeof o=="function"?o(k):o;return x.createElement(ja,{...m,"aria-current":U,className:F,ref:g,style:Y,to:c,viewTransition:u},typeof f=="function"?f(k):f)});GP.displayName="NavLink";var YP=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:c=th,action:u,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:v,...y},w)=>{let E=JP(),_=ek(u,{relative:m}),S=c.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&_N.test(u),T=R=>{if(f&&f(R),R.defaultPrevented)return;R.preventDefault();let M=R.nativeEvent.submitter,A=(M==null?void 0:M.getAttribute("formmethod"))||c;E(M||R.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:s,state:o,relative:m,preventScrollReset:g,viewTransition:v})};return x.createElement("form",{ref:w,method:S,action:_,onSubmit:r?f:T,...y,"data-discover":!C&&t==="render"?"true":void 0})});YP.displayName="Form";function KP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EN(t){let e=x.useContext(Al);return mt(e,KP(t)),e}function XP(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:c}={}){let u=Zt(),f=kr(),m=Zu(t,{relative:o});return x.useCallback(g=>{if(TP(g,e)){g.preventDefault();let v=n!==void 0?n:Ru(f)===Ru(m);u(t,{replace:v,state:r,preventScrollReset:s,relative:o,viewTransition:c})}},[f,u,m,n,r,e,t,s,o,c])}var QP=0,ZP=()=>`__${String(++QP)}__`;function JP(){let{router:t}=EN("useSubmit"),{basename:e}=x.useContext(Pr),n=yP();return x.useCallback(async(r,s={})=>{let{action:o,method:c,encType:u,formData:f,body:m}=AP(r,e);if(s.navigate===!1){let g=s.fetcherKey||ZP();await t.fetch(g,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function ek(t,{relative:e}={}){let{basename:n}=x.useContext(Pr),r=x.useContext(gr);mt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Zu(t||".",{relative:e})},c=kr();if(t==null){o.search=c.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(g=>g==="")){u.delete("index"),f.filter(v=>v).forEach(v=>u.append("index",v));let g=u.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ma([n,o.pathname])),Ru(o)}function tk(t,e={}){let n=x.useContext(mN);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=EN("useViewTransitionState"),s=Zu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=zs(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=zs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gh(s.pathname,c)!=null||gh(s.pathname,o)!=null}new TextEncoder;var Ju=cN();const SN=db(Ju);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:c,...u},f)=>x.createElement("svg",{ref:f,...rk,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:CN("lucide",s),...u},[...c.map(([m,g])=>x.createElement(m,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(t,e)=>{const n=x.forwardRef(({className:r,...s},o)=>x.createElement(ak,{ref:o,iconNode:e,className:CN(`lucide-${nk(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],ik=Oe("Apple",sk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],NN=Oe("ArrowLeft",ok);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],ck=Oe("Boxes",lk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],dk=Oe("Building2",uk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],TN=Oe("Calculator",fk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mk=Oe("Calendar",hk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],RN=Oe("Check",pk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],vk=Oe("ChefHat",gk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_b=Oe("ChevronDown",yk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xk=Oe("ChevronRight",bk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Eb=Oe("ChevronUp",wk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],IN=Oe("CircleAlert",_k);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Jv=Oe("CircleUser",Ek);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ck=Oe("Circle",Sk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Hn=Oe("ClipboardList",Nk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],AN=Oe("Eye",Tk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],cu=Oe("Factory",Rk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],Ak=Oe("HardHat",Ik);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ok=Oe("Lock",Dk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],jk=Oe("LogIn",Mk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],cv=Oe("LogOut",Pk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Lk=Oe("Menu",kk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Fk=Oe("MessageCircle",Uk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],ey=Oe("Moon",Bk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ty=Oe("Package",Vk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ed=Oe("Pencil",zk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pa=Oe("Plus",Hk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],DN=Oe("Printer",$k);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Wk=Oe("RefreshCcw",qk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],Yk=Oe("Ruler",Gk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xk=Oe("Save",Kk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Zk=Oe("ScrollText",Qk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],eL=Oe("Search",Jk);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fS=Oe("Settings",tL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],uv=Oe("ShoppingBag",nL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ny=Oe("ShoppingCart",rL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],sL=Oe("Store",aL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ry=Oe("Sun",iL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],td=Oe("Trash2",oL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],cL=Oe("Truck",lL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dL=Oe("User",uL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],ay=Oe("Users",fL);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ON=Oe("X",hL),be=x.forwardRef(({children:t,variant:e="primary",size:n="md",isLoading:r=!1,className:s="",disabled:o,...c},u)=>{const f="inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",m={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-primary-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"hover:bg-accent hover:text-accent-foreground"},g={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",icon:"p-2"};return h.jsxs("button",{ref:u,className:`
          ${f}
          ${m[e]}
          ${g[n]}
          ${s}
        `,disabled:r||o,...c,children:[r?h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,t]})});function MN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=MN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mL(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=MN(t))&&(r&&(r+=" "),r+=e);return r}const Sb="-",pL=t=>{const e=vL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const u=c.split(Sb);return u[0]===""&&u.length!==1&&u.shift(),jN(u,e)||gL(c)},getConflictingClassGroupIds:(c,u)=>{const f=n[c]||[];return u&&r[c]?[...f,...r[c]]:f}}},jN=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?jN(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(Sb);return(c=e.validators.find(({validator:u})=>u(o)))==null?void 0:c.classGroupId},hS=/^\[(.+)\]$/,gL=t=>{if(hS.test(t)){const e=hS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},vL=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)sy(n[s],r,s,e);return r},sy=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:mS(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(yL(s)){sy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,c])=>{sy(c,mS(e,o),n,r)})})},mS=(t,e)=>{let n=t;return e.split(Sb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},yL=t=>t.isThemeGetter,bL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,c)=>{n.set(o,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let c=n.get(o);if(c!==void 0)return c;if((c=r.get(o))!==void 0)return s(o,c),c},set(o,c){n.has(o)?n.set(o,c):s(o,c)}}},iy="!",oy=":",xL=oy.length,wL=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let c=0,u=0,f=0,m;for(let E=0;E<s.length;E++){let _=s[E];if(c===0&&u===0){if(_===oy){o.push(s.slice(f,E)),f=E+xL;continue}if(_==="/"){m=E;continue}}_==="["?c++:_==="]"?c--:_==="("?u++:_===")"&&u--}const g=o.length===0?s:s.substring(f),v=_L(g),y=v!==g,w=m&&m>f?m-f:void 0;return{modifiers:o,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:w}};if(e){const s=e+oy,o=r;r=c=>c.startsWith(s)?o(c.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},_L=t=>t.endsWith(iy)?t.substring(0,t.length-1):t.startsWith(iy)?t.substring(1):t,EL=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(c=>{c[0]==="["||e[c]?(s.push(...o.sort(),c),o=[]):o.push(c)}),s.push(...o.sort()),s}},SL=t=>({cache:bL(t.cacheSize),parseClassName:wL(t),sortModifiers:EL(t),...pL(t)}),CL=/\s+/,NL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,c=[],u=t.trim().split(CL);let f="";for(let m=u.length-1;m>=0;m-=1){const g=u[m],{isExternal:v,modifiers:y,hasImportantModifier:w,baseClassName:E,maybePostfixModifierPosition:_}=n(g);if(v){f=g+(f.length>0?" "+f:f);continue}let S=!!_,C=r(S?E.substring(0,_):E);if(!C){if(!S){f=g+(f.length>0?" "+f:f);continue}if(C=r(E),!C){f=g+(f.length>0?" "+f:f);continue}S=!1}const T=o(y).join(":"),R=w?T+iy:T,M=R+C;if(c.includes(M))continue;c.push(M);const A=s(C,S);for(let I=0;I<A.length;++I){const k=A[I];c.push(R+k)}f=g+(f.length>0?" "+f:f)}return f};function TL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=PN(e))&&(r&&(r+=" "),r+=n);return r}const PN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=PN(t[r]))&&(n&&(n+=" "),n+=e);return n};function RL(t,...e){let n,r,s,o=c;function c(f){const m=e.reduce((g,v)=>v(g),t());return n=SL(m),r=n.cache.get,s=n.cache.set,o=u,u(f)}function u(f){const m=r(f);if(m)return m;const g=NL(f,n);return s(f,g),g}return function(){return o(TL.apply(null,arguments))}}const Kt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},kN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,LN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,IL=/^\d+\/\d+$/,AL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,DL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ML=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Go=t=>IL.test(t),ze=t=>!!t&&!Number.isNaN(Number(t)),Ai=t=>!!t&&Number.isInteger(Number(t)),pS=t=>t.endsWith("%")&&ze(t.slice(0,-1)),Es=t=>AL.test(t),PL=()=>!0,kL=t=>DL.test(t)&&!OL.test(t),Cb=()=>!1,LL=t=>ML.test(t),UL=t=>jL.test(t),FL=t=>!ve(t)&&!ye(t),BL=t=>Ol(t,BN,Cb),ve=t=>kN.test(t),Di=t=>Ol(t,VN,kL),dv=t=>Ol(t,QL,ze),VL=t=>Ol(t,UN,Cb),zL=t=>Ol(t,FN,UL),HL=t=>Ol(t,Cb,LL),ye=t=>LN.test(t),Lf=t=>Ml(t,VN),$L=t=>Ml(t,ZL),qL=t=>Ml(t,UN),WL=t=>Ml(t,BN),GL=t=>Ml(t,FN),YL=t=>Ml(t,JL,!0),Ol=(t,e,n)=>{const r=kN.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Ml=(t,e,n=!1)=>{const r=LN.exec(t);return r?r[1]?e(r[1]):n:!1},UN=t=>t==="position",KL=new Set(["image","url"]),FN=t=>KL.has(t),XL=new Set(["length","size","percentage"]),BN=t=>XL.has(t),VN=t=>t==="length",QL=t=>t==="number",ZL=t=>t==="family-name",JL=t=>t==="shadow",e4=()=>{const t=Kt("color"),e=Kt("font"),n=Kt("text"),r=Kt("font-weight"),s=Kt("tracking"),o=Kt("leading"),c=Kt("breakpoint"),u=Kt("container"),f=Kt("spacing"),m=Kt("radius"),g=Kt("shadow"),v=Kt("inset-shadow"),y=Kt("drop-shadow"),w=Kt("blur"),E=Kt("perspective"),_=Kt("aspect"),S=Kt("ease"),C=Kt("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],I=()=>[ye,ve,f],k=()=>[Go,"full","auto",...I()],U=()=>[Ai,"none","subgrid",ye,ve],F=()=>["auto",{span:["full",Ai,ye,ve]},ye,ve],Y=()=>[Ai,"auto",ye,ve],se=()=>["auto","min","max","fr",ye,ve],de=()=>["start","end","center","between","around","evenly","stretch","baseline"],W=()=>["start","end","center","stretch"],Q=()=>["auto",...I()],Z=()=>[Go,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],j=()=>[t,ye,ve],K=()=>[pS,Di],B=()=>["","none","full",m,ye,ve],H=()=>["",ze,Lf,Di],P=()=>["solid","dashed","dotted","double"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>["","none",w,ye,ve],ae=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye,ve],oe=()=>["none",ze,ye,ve],J=()=>["none",ze,ye,ve],ee=()=>[ze,ye,ve],ce=()=>[Go,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Es],breakpoint:[Es],color:[PL],container:[Es],"drop-shadow":[Es],ease:["in","out","in-out"],font:[FL],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Es],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Es],shadow:[Es],spacing:["px",ze],text:[Es],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Go,ve,ye,_]}],container:["container"],columns:[{columns:[ze,ve,ye,u]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),ve,ye]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Ai,"auto",ye,ve]}],basis:[{basis:[Go,"full","auto",u,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ze,Go,"auto","initial","none",ve]}],grow:[{grow:["",ze,ye,ve]}],shrink:[{shrink:["",ze,ye,ve]}],order:[{order:[Ai,"first","last","none",ye,ve]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...de(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...de()]}],"align-items":[{items:[...W(),"baseline"]}],"align-self":[{self:["auto",...W(),"baseline"]}],"place-content":[{"place-content":de()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:Q()}],mx:[{mx:Q()}],my:[{my:Q()}],ms:[{ms:Q()}],me:[{me:Q()}],mt:[{mt:Q()}],mr:[{mr:Q()}],mb:[{mb:Q()}],ml:[{ml:Q()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[u,"screen",...Z()]}],"min-w":[{"min-w":[u,"screen","none",...Z()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...Z()]}],h:[{h:["screen",...Z()]}],"min-h":[{"min-h":["screen","none",...Z()]}],"max-h":[{"max-h":["screen",...Z()]}],"font-size":[{text:["base",n,Lf,Di]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ye,dv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",pS,ve]}],"font-family":[{font:[$L,ve,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ye,ve]}],"line-clamp":[{"line-clamp":[ze,"none",ye,dv]}],leading:[{leading:[o,...I()]}],"list-image":[{"list-image":["none",ye,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:[ze,"from-font","auto",ye,Di]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[ze,"auto",ye,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),qL,VL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",WL,BL]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ai,ye,ve],radial:["",ye,ve],conic:[Ai,ye,ve]},GL,zL]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:B()}],"rounded-s":[{"rounded-s":B()}],"rounded-e":[{"rounded-e":B()}],"rounded-t":[{"rounded-t":B()}],"rounded-r":[{"rounded-r":B()}],"rounded-b":[{"rounded-b":B()}],"rounded-l":[{"rounded-l":B()}],"rounded-ss":[{"rounded-ss":B()}],"rounded-se":[{"rounded-se":B()}],"rounded-ee":[{"rounded-ee":B()}],"rounded-es":[{"rounded-es":B()}],"rounded-tl":[{"rounded-tl":B()}],"rounded-tr":[{"rounded-tr":B()}],"rounded-br":[{"rounded-br":B()}],"rounded-bl":[{"rounded-bl":B()}],"border-w":[{border:H()}],"border-w-x":[{"border-x":H()}],"border-w-y":[{"border-y":H()}],"border-w-s":[{"border-s":H()}],"border-w-e":[{"border-e":H()}],"border-w-t":[{"border-t":H()}],"border-w-r":[{"border-r":H()}],"border-w-b":[{"border-b":H()}],"border-w-l":[{"border-l":H()}],"divide-x":[{"divide-x":H()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":H()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...P(),"hidden","none"]}],"divide-style":[{divide:[...P(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...P(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ze,ye,ve]}],"outline-w":[{outline:["",ze,Lf,Di]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",g,YL,HL]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",ye,ve,v]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[ze,Di]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":H()}],"inset-ring-color":[{"inset-ring":j()}],opacity:[{opacity:[ze,ye,ve]}],"mix-blend":[{"mix-blend":[...$(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none",ye,ve]}],blur:[{blur:re()}],brightness:[{brightness:[ze,ye,ve]}],contrast:[{contrast:[ze,ye,ve]}],"drop-shadow":[{"drop-shadow":["","none",y,ye,ve]}],grayscale:[{grayscale:["",ze,ye,ve]}],"hue-rotate":[{"hue-rotate":[ze,ye,ve]}],invert:[{invert:["",ze,ye,ve]}],saturate:[{saturate:[ze,ye,ve]}],sepia:[{sepia:["",ze,ye,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,ve]}],"backdrop-blur":[{"backdrop-blur":re()}],"backdrop-brightness":[{"backdrop-brightness":[ze,ye,ve]}],"backdrop-contrast":[{"backdrop-contrast":[ze,ye,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ze,ye,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ze,ye,ve]}],"backdrop-invert":[{"backdrop-invert":["",ze,ye,ve]}],"backdrop-opacity":[{"backdrop-opacity":[ze,ye,ve]}],"backdrop-saturate":[{"backdrop-saturate":[ze,ye,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",ze,ye,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ze,"initial",ye,ve]}],ease:[{ease:["linear","initial",S,ye,ve]}],delay:[{delay:[ze,ye,ve]}],animate:[{animate:["none",C,ye,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,ye,ve]}],"perspective-origin":[{"perspective-origin":ae()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:J()}],"scale-x":[{"scale-x":J()}],"scale-y":[{"scale-y":J()}],"scale-z":[{"scale-z":J()}],"scale-3d":["scale-3d"],skew:[{skew:ee()}],"skew-x":[{"skew-x":ee()}],"skew-y":[{"skew-y":ee()}],transform:[{transform:[ye,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:ae()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ce()}],"translate-x":[{"translate-x":ce()}],"translate-y":[{"translate-y":ce()}],"translate-z":[{"translate-z":ce()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,ve]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[ze,Lf,Di,dv]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},t4=RL(e4),zN=6048e5,n4=864e5,HN=6e4,$N=36e5,gS=Symbol.for("constructDateFrom");function Fa(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&gS in t?t[gS](e):t instanceof Date?new t.constructor(e):new Date(e)}function Gn(t,e){return Fa(e||t,t)}let r4={};function sm(){return r4}function Iu(t,e){var u,f,m,g;const n=sm(),r=(e==null?void 0:e.weekStartsOn)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((g=(m=n.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,s=Gn(t,e==null?void 0:e.in),o=s.getDay(),c=(o<r?7:0)+o-r;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function vh(t,e){return Iu(t,{...e,weekStartsOn:1})}function qN(t,e){const n=Gn(t,e==null?void 0:e.in),r=n.getFullYear(),s=Fa(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=vh(s),c=Fa(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const u=vh(c);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function vS(t){const e=Gn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function a4(t,...e){const n=Fa.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function yS(t,e){const n=Gn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function s4(t,e,n){const[r,s]=a4(n==null?void 0:n.in,t,e),o=yS(r),c=yS(s),u=+o-vS(o),f=+c-vS(c);return Math.round((u-f)/n4)}function i4(t,e){const n=qN(t,e),r=Fa(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),vh(r)}function o4(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function l4(t){return!(!o4(t)&&typeof t!="number"||isNaN(+Gn(t)))}function c4(t,e){const n=Gn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const u4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},d4=(t,e,n)=>{let r;const s=u4[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function sl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const f4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},h4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},m4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},p4={date:sl({formats:f4,defaultWidth:"full"}),time:sl({formats:h4,defaultWidth:"full"}),dateTime:sl({formats:m4,defaultWidth:"full"})},g4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},v4=(t,e,n,r)=>g4[t];function Qr(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):c;s=t.formattingValues[u]||t.formattingValues[c]}else{const c=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[u]||t.values[c]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const y4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},b4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},x4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},w4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},E4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},S4=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},C4={ordinalNumber:S4,era:Qr({values:y4,defaultWidth:"wide"}),quarter:Qr({values:b4,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Qr({values:x4,defaultWidth:"wide"}),day:Qr({values:w4,defaultWidth:"wide"}),dayPeriod:Qr({values:_4,defaultWidth:"wide",formattingValues:E4,defaultFormattingWidth:"wide"})};function Zr(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const c=o[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(u)?T4(u,v=>v.test(c)):N4(u,v=>v.test(c));let m;m=t.valueCallback?t.valueCallback(f):f,m=n.valueCallback?n.valueCallback(m):m;const g=e.slice(c.length);return{value:m,rest:g}}}function N4(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function T4(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function WN(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],o=e.match(t.parsePattern);if(!o)return null;let c=t.valueCallback?t.valueCallback(o[0]):o[0];c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}const R4=/^(\d+)(th|st|nd|rd)?/i,I4=/\d+/i,A4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},D4={any:[/^b/i,/^(a|c)/i]},O4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},M4={any:[/1/i,/2/i,/3/i,/4/i]},j4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},P4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},k4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},L4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},U4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},F4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},B4={ordinalNumber:WN({matchPattern:R4,parsePattern:I4,valueCallback:t=>parseInt(t,10)}),era:Zr({matchPatterns:A4,defaultMatchWidth:"wide",parsePatterns:D4,defaultParseWidth:"any"}),quarter:Zr({matchPatterns:O4,defaultMatchWidth:"wide",parsePatterns:M4,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zr({matchPatterns:j4,defaultMatchWidth:"wide",parsePatterns:P4,defaultParseWidth:"any"}),day:Zr({matchPatterns:k4,defaultMatchWidth:"wide",parsePatterns:L4,defaultParseWidth:"any"}),dayPeriod:Zr({matchPatterns:U4,defaultMatchWidth:"any",parsePatterns:F4,defaultParseWidth:"any"})},V4={code:"en-US",formatDistance:d4,formatLong:p4,formatRelative:v4,localize:C4,match:B4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function z4(t,e){const n=Gn(t,e==null?void 0:e.in);return s4(n,c4(n))+1}function H4(t,e){const n=Gn(t,e==null?void 0:e.in),r=+vh(n)-+i4(n);return Math.round(r/zN)+1}function GN(t,e){var g,v,y,w;const n=Gn(t,e==null?void 0:e.in),r=n.getFullYear(),s=sm(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(y=s.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??1,c=Fa((e==null?void 0:e.in)||t,0);c.setFullYear(r+1,0,o),c.setHours(0,0,0,0);const u=Iu(c,e),f=Fa((e==null?void 0:e.in)||t,0);f.setFullYear(r,0,o),f.setHours(0,0,0,0);const m=Iu(f,e);return+n>=+u?r+1:+n>=+m?r:r-1}function $4(t,e){var u,f,m,g;const n=sm(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(m=n.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,s=GN(t,e),o=Fa((e==null?void 0:e.in)||t,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),Iu(o,e)}function q4(t,e){const n=Gn(t,e==null?void 0:e.in),r=+Iu(n,e)-+$4(n,e);return Math.round(r/zN)+1}function nt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ss={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return nt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):nt(n+1,2)},d(t,e){return nt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return nt(t.getHours()%12||12,e.length)},H(t,e){return nt(t.getHours(),e.length)},m(t,e){return nt(t.getMinutes(),e.length)},s(t,e){return nt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return nt(s,e.length)}},Yo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bS={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ss.y(t,e)},Y:function(t,e,n,r){const s=GN(t,r),o=s>0?s:1-s;if(e==="YY"){const c=o%100;return nt(c,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):nt(o,e.length)},R:function(t,e){const n=qN(t);return nt(n,e.length)},u:function(t,e){const n=t.getFullYear();return nt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return nt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return nt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ss.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return nt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=q4(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):nt(s,e.length)},I:function(t,e,n){const r=H4(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):nt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ss.d(t,e)},D:function(t,e,n){const r=z4(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):nt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return nt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return nt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return nt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Yo.noon:r===0?s=Yo.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Yo.evening:r>=12?s=Yo.afternoon:r>=4?s=Yo.morning:s=Yo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ss.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ss.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):nt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):nt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ss.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ss.s(t,e)},S:function(t,e){return Ss.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return wS(r);case"XXXX":case"XX":return Oi(r);case"XXXXX":case"XXX":default:return Oi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return wS(r);case"xxxx":case"xx":return Oi(r);case"xxxxx":case"xxx":default:return Oi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+xS(r,":");case"OOOO":default:return"GMT"+Oi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+xS(r,":");case"zzzz":default:return"GMT"+Oi(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return nt(r,e.length)},T:function(t,e,n){return nt(+t,e.length)}};function xS(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+e+nt(o,2)}function wS(t,e){return t%60===0?(t>0?"-":"+")+nt(Math.abs(t)/60,2):Oi(t,e)}function Oi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=nt(Math.trunc(r/60),2),o=nt(r%60,2);return n+s+e+o}const _S=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},YN=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},W4=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return _S(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",_S(r,e)).replace("{{time}}",YN(s,e))},G4={p:YN,P:W4},Y4=/^D+$/,K4=/^Y+$/,X4=["D","DD","YY","YYYY"];function Q4(t){return Y4.test(t)}function Z4(t){return K4.test(t)}function J4(t,e,n){const r=e5(t,e,n);if(console.warn(r),X4.includes(t))throw new RangeError(r)}function e5(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const t5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,n5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,r5=/^'([^]*?)'?$/,a5=/''/g,s5=/[a-zA-Z]/;function kt(t,e,n){var g,v,y,w,E,_,S,C;const r=sm(),s=(n==null?void 0:n.locale)??r.locale??V4,o=(n==null?void 0:n.firstWeekContainsDate)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(y=r.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((_=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((C=(S=r.locale)==null?void 0:S.options)==null?void 0:C.weekStartsOn)??0,u=Gn(t,n==null?void 0:n.in);if(!l4(u))throw new RangeError("Invalid time value");let f=e.match(n5).map(T=>{const R=T[0];if(R==="p"||R==="P"){const M=G4[R];return M(T,s.formatLong)}return T}).join("").match(t5).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const R=T[0];if(R==="'")return{isToken:!1,value:i5(T)};if(bS[R])return{isToken:!0,value:T};if(R.match(s5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:T}});s.localize.preprocessor&&(f=s.localize.preprocessor(u,f));const m={firstWeekContainsDate:o,weekStartsOn:c,locale:s};return f.map(T=>{if(!T.isToken)return T.value;const R=T.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Z4(R)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Q4(R))&&J4(R,e,String(t));const M=bS[R[0]];return M(u,R,s.localize,m)}).join("")}function i5(t){const e=t.match(r5);return e?e[1].replace(a5,"'"):t}function Ya(t,e){const n=()=>Fa(e==null?void 0:e.in,NaN),s=u5(t);let o;if(s.date){const m=d5(s.date,2);o=f5(m.restDateString,m.year)}if(!o||isNaN(+o))return n();const c=+o;let u=0,f;if(s.time&&(u=h5(s.time),isNaN(u)))return n();if(s.timezone){if(f=m5(s.timezone),isNaN(f))return n()}else{const m=new Date(c+u),g=Gn(0,e==null?void 0:e.in);return g.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),g.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),g}return Gn(c+u+f,e==null?void 0:e.in)}const Uf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},o5=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,l5=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,c5=/^([+-])(\d{2})(?::?(\d{2}))?$/;function u5(t){const e={},n=t.split(Uf.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Uf.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Uf.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=Uf.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function d5(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?s:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function f5(t,e){if(e===null)return new Date(NaN);const n=t.match(o5);if(!n)return new Date(NaN);const r=!!n[4],s=eu(n[1]),o=eu(n[2])-1,c=eu(n[3]),u=eu(n[4]),f=eu(n[5])-1;if(r)return b5(e,u,f)?p5(e,u,f):new Date(NaN);{const m=new Date(0);return!v5(e,o,c)||!y5(e,s)?new Date(NaN):(m.setUTCFullYear(e,o,Math.max(s,c)),m)}}function eu(t){return t?parseInt(t):1}function h5(t){const e=t.match(l5);if(!e)return NaN;const n=fv(e[1]),r=fv(e[2]),s=fv(e[3]);return x5(n,r,s)?n*$N+r*HN+s*1e3:NaN}function fv(t){return t&&parseFloat(t.replace(",","."))||0}function m5(t){if(t==="Z")return 0;const e=t.match(c5);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return w5(r,s)?n*(r*$N+s*HN):NaN}function p5(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,o=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+o),r}const g5=[31,null,31,30,31,30,31,31,30,31,30,31];function KN(t){return t%400===0||t%4===0&&t%100!==0}function v5(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(g5[e]||(KN(t)?29:28))}function y5(t,e){return e>=1&&e<=(KN(t)?366:365)}function b5(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function x5(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function w5(t,e){return e>=0&&e<=59}const _5={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},E5=(t,e,n)=>{let r;const s=_5[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},S5={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},C5={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},N5={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},T5={date:sl({formats:S5,defaultWidth:"full"}),time:sl({formats:C5,defaultWidth:"full"}),dateTime:sl({formats:N5,defaultWidth:"full"})},R5={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},I5={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},A5=(t,e,n,r)=>e.getHours()!==1?I5[t]:R5[t],D5={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},O5={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},M5={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},j5={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},P5={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},k5={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},L5=(t,e)=>Number(t)+"º",U5={ordinalNumber:L5,era:Qr({values:D5,defaultWidth:"wide"}),quarter:Qr({values:O5,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Qr({values:M5,defaultWidth:"wide"}),day:Qr({values:j5,defaultWidth:"wide"}),dayPeriod:Qr({values:P5,defaultWidth:"wide",formattingValues:k5,defaultFormattingWidth:"wide"})},F5=/^(\d+)(º)?/i,B5=/\d+/i,V5={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},z5={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},H5={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},$5={any:[/1/i,/2/i,/3/i,/4/i]},q5={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},W5={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},G5={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},Y5={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},K5={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},X5={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Q5={ordinalNumber:WN({matchPattern:F5,parsePattern:B5,valueCallback:function(t){return parseInt(t,10)}}),era:Zr({matchPatterns:V5,defaultMatchWidth:"wide",parsePatterns:z5,defaultParseWidth:"any"}),quarter:Zr({matchPatterns:H5,defaultMatchWidth:"wide",parsePatterns:$5,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zr({matchPatterns:q5,defaultMatchWidth:"wide",parsePatterns:W5,defaultParseWidth:"any"}),day:Zr({matchPatterns:G5,defaultMatchWidth:"wide",parsePatterns:Y5,defaultParseWidth:"any"}),dayPeriod:Zr({matchPatterns:K5,defaultMatchWidth:"any",parsePatterns:X5,defaultParseWidth:"any"})},Zs={code:"es",formatDistance:E5,formatLong:T5,formatRelative:A5,localize:U5,match:Q5,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Me(...t){return t4(mL(t))}const Z5="dd/MM/yyyy";function J5(t){if(!t)return"";try{return(typeof t=="string"?Ya(t):t).toISOString()}catch{return""}}function XN(t){if(!t)return"";try{const e=typeof t=="string"?Ya(t):t;return kt(e,Z5,{locale:Zs})}catch{return""}}function e3(t){if(!t)return null;try{return typeof t=="string"?Ya(t):t}catch{return null}}const fn=x.forwardRef(({label:t,error:e,className:n="",...r},s)=>h.jsxs("div",{className:"w-full space-y-2",children:[t&&h.jsx("label",{htmlFor:r.id||r.name,className:"text-sm font-bold leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:t}),h.jsx("input",{ref:s,className:Me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",e&&"border-destructive focus-visible:ring-destructive",n),...r}),e&&h.jsx("p",{className:"text-sm font-medium text-destructive",children:e})]})),ht=x.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Me("rounded-lg border border-border bg-card text-card-foreground shadow-sm",t),...e}));ht.displayName="Card";const yn=x.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Me("flex flex-col space-y-1.5 p-6",t),...e}));yn.displayName="CardHeader";const bn=x.forwardRef(({className:t,...e},n)=>h.jsx("h3",{ref:n,className:Me("text-2xl font-semibold leading-none tracking-tight",t),...e}));bn.displayName="CardTitle";const QN=x.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:Me("text-sm text-muted-foreground",t),...e}));QN.displayName="CardDescription";const Rt=x.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Me("p-6 pt-0",t),...e}));Rt.displayName="CardContent";const ZN=x.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Me("flex items-center p-6 pt-0",t),...e}));ZN.displayName="CardFooter";const t3=()=>{};var ES={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue=function(t,e){if(!t)throw jl(e)},jl=function(t){return new Error("Firebase Database ("+JN.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},n3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],c=t[n++],u=t[n++],f=((s&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},Nb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],c=s+1<t.length,u=c?t[s+1]:0,f=s+2<t.length,m=f?t[s+2]:0,g=o>>2,v=(o&3)<<4|u>>4;let y=(u&15)<<2|m>>6,w=m&63;f||(w=64,c||(y=64)),r.push(n[g],n[v],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):n3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||u==null||m==null||v==null)throw new r3;const y=o<<2|u>>4;if(r.push(y),m!==64){const w=u<<4&240|m>>2;if(r.push(w),v!==64){const E=m<<6&192|v;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class r3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tT=function(t){const e=eT(t);return Nb.encodeByteArray(e,!0)},yh=function(t){return tT(t).replace(/\./g,"")},bh=function(t){try{return Nb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){return nT(void 0,t)}function nT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!s3(n)||(t[n]=nT(t[n],e[n]));return t}function s3(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=()=>i3().__FIREBASE_DEFAULTS__,l3=()=>{if(typeof process>"u"||typeof ES>"u")return;const t=ES.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},c3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bh(t[1]);return e&&JSON.parse(e)},Tb=()=>{try{return t3()||o3()||l3()||c3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rT=t=>{var e,n;return(n=(e=Tb())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},u3=t=>{const e=rT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aT=()=>{var t;return(t=Tb())===null||t===void 0?void 0:t.config},sT=t=>{var e;return(e=Tb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yh(JSON.stringify(n)),yh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function f3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m3(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function p3(){return JN.NODE_ADMIN===!0}function g3(){try{return typeof indexedDB=="object"}catch{return!1}}function v3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="FirebaseError";class Js extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=y3,Object.setPrototypeOf(this,Js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rd.prototype.create)}}class rd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?b3(o,r):"Error",u=`${this.serviceName}: ${c} (${s}).`;return new Js(s,u,r)}}function b3(t,e){return t.replace(x3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const x3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){return JSON.parse(t)}function Vt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=function(t){let e={},n={},r={},s="";try{const o=t.split(".");e=Au(bh(o[0])||""),n=Au(bh(o[1])||""),s=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},w3=function(t){const e=oT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},_3=function(t){const e=oT(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ml(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ly(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xh(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Gi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],c=e[s];if(SS(o)&&SS(c)){if(!Gi(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function SS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function du(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)r[v]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let v=0;v<16;v++)r[v]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let v=16;v<80;v++){const y=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(y<<1|y>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],c=this.chain_[2],u=this.chain_[3],f=this.chain_[4],m,g;for(let v=0;v<80;v++){v<40?v<20?(m=u^o&(c^u),g=1518500249):(m=o^c^u,g=1859775393):v<60?(m=o&c|u&(o|c),g=2400959708):(m=o^c^u,g=3395469782);const y=(s<<5|s>>>27)+m+f+g+r[v]&4294967295;f=u,u=c,c=(o<<30|o>>>2)&4294967295,o=s,s=y}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const o=this.buf_;let c=this.inbuf_;for(;s<n;){if(c===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(o[c]=e.charCodeAt(s),++c,++s,c===this.blockSize){this.compress_(o),c=0;break}}else for(;s<n;)if(o[c]=e[s],++c,++s,c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[s]>>o&255,++r;return e}}function S3(t,e){const n=new C3(t,e);return n.subscribe.bind(n)}class C3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");N3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=hv),s.error===void 0&&(s.error=hv),s.complete===void 0&&(s.complete=hv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hv(){}function im(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const o=s-55296;r++,ue(r<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(r)-56320;s=65536+(o<<10)+c}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},om=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){return t&&t._delegate?t._delegate:t}class Yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R3=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(A3(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&c.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:I3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function I3(t){return t===Mi?void 0:t}function A3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new R3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const O3={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},M3=it.INFO,j3={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},P3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=j3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ib{constructor(e){this.name=e,this._logLevel=M3,this._logHandler=P3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?O3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const k3=(t,e)=>e.some(n=>t instanceof n);let CS,NS;function L3(){return CS||(CS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U3(){return NS||(NS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lT=new WeakMap,cy=new WeakMap,cT=new WeakMap,mv=new WeakMap,Ab=new WeakMap;function F3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(js(t.result)),s()},c=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&lT.set(n,t)}).catch(()=>{}),Ab.set(e,t),e}function B3(t){if(cy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),s()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});cy.set(t,e)}let uy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function V3(t){uy=t(uy)}function z3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pv(this),e,...n);return cT.set(r,e.sort?e.sort():[e]),js(r)}:U3().includes(t)?function(...e){return t.apply(pv(this),e),js(lT.get(this))}:function(...e){return js(t.apply(pv(this),e))}}function H3(t){return typeof t=="function"?z3(t):(t instanceof IDBTransaction&&B3(t),k3(t,L3())?new Proxy(t,uy):t)}function js(t){if(t instanceof IDBRequest)return F3(t);if(mv.has(t))return mv.get(t);const e=H3(t);return e!==t&&(mv.set(t,e),Ab.set(e,t)),e}const pv=t=>Ab.get(t);function $3(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(t,e),u=js(c);return r&&c.addEventListener("upgradeneeded",f=>{r(js(c.result),f.oldVersion,f.newVersion,js(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const q3=["get","getKey","getAll","getAllKeys","count"],W3=["put","add","delete","clear"],gv=new Map;function TS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gv.get(e))return gv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=W3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||q3.includes(n)))return;const o=async function(c,...u){const f=this.transaction(c,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),s&&f.done]))[0]};return gv.set(e,o),o}V3(t=>({...t,get:(e,n,r)=>TS(e,n)||t.get(e,n,r),has:(e,n)=>!!TS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Y3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dy="@firebase/app",RS="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new Ib("@firebase/app"),K3="@firebase/app-compat",X3="@firebase/analytics-compat",Q3="@firebase/analytics",Z3="@firebase/app-check-compat",J3="@firebase/app-check",eU="@firebase/auth",tU="@firebase/auth-compat",nU="@firebase/database",rU="@firebase/data-connect",aU="@firebase/database-compat",sU="@firebase/functions",iU="@firebase/functions-compat",oU="@firebase/installations",lU="@firebase/installations-compat",cU="@firebase/messaging",uU="@firebase/messaging-compat",dU="@firebase/performance",fU="@firebase/performance-compat",hU="@firebase/remote-config",mU="@firebase/remote-config-compat",pU="@firebase/storage",gU="@firebase/storage-compat",vU="@firebase/firestore",yU="@firebase/vertexai",bU="@firebase/firestore-compat",xU="firebase",wU="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="[DEFAULT]",_U={[dy]:"fire-core",[K3]:"fire-core-compat",[Q3]:"fire-analytics",[X3]:"fire-analytics-compat",[J3]:"fire-app-check",[Z3]:"fire-app-check-compat",[eU]:"fire-auth",[tU]:"fire-auth-compat",[nU]:"fire-rtdb",[rU]:"fire-data-connect",[aU]:"fire-rtdb-compat",[sU]:"fire-fn",[iU]:"fire-fn-compat",[oU]:"fire-iid",[lU]:"fire-iid-compat",[cU]:"fire-fcm",[uU]:"fire-fcm-compat",[dU]:"fire-perf",[fU]:"fire-perf-compat",[hU]:"fire-rc",[mU]:"fire-rc-compat",[pU]:"fire-gcs",[gU]:"fire-gcs-compat",[vU]:"fire-fst",[bU]:"fire-fst-compat",[yU]:"fire-vertex","fire-js":"fire-js",[xU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,EU=new Map,hy=new Map;function IS(t,e){try{t.container.addComponent(e)}catch(n){Ba.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pl(t){const e=t.name;if(hy.has(e))return Ba.debug(`There were multiple attempts to register component ${e}.`),!1;hy.set(e,t);for(const n of wh.values())IS(n,t);for(const n of EU.values())IS(n,t);return!0}function Db(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new rd("app","Firebase",SU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=wU;function uT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fy,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ps.create("bad-app-name",{appName:String(s)});if(n||(n=aT()),!n)throw Ps.create("no-options");const o=wh.get(s);if(o){if(Gi(n,o.options)&&Gi(r,o.config))return o;throw Ps.create("duplicate-app",{appName:s})}const c=new D3(s);for(const f of hy.values())c.addComponent(f);const u=new CU(n,r,c);return wh.set(s,u),u}function dT(t=fy){const e=wh.get(t);if(!e&&t===fy&&aT())return uT();if(!e)throw Ps.create("no-app",{appName:t});return e}function ks(t,e,n){var r;let s=(r=_U[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ba.warn(u.join(" "));return}pl(new Yi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="firebase-heartbeat-database",TU=1,Du="firebase-heartbeat-store";let vv=null;function fT(){return vv||(vv=$3(NU,TU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Du)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ps.create("idb-open",{originalErrorMessage:t.message})})),vv}async function RU(t){try{const n=(await fT()).transaction(Du),r=await n.objectStore(Du).get(hT(t));return await n.done,r}catch(e){if(e instanceof Js)Ba.warn(e.message);else{const n=Ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ba.warn(n.message)}}}async function AS(t,e){try{const r=(await fT()).transaction(Du,"readwrite");await r.objectStore(Du).put(e,hT(t)),await r.done}catch(n){if(n instanceof Js)Ba.warn(n.message);else{const r=Ps.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ba.warn(r.message)}}}function hT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=1024,AU=30;class DU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=DS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>AU){const c=jU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ba.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=DS(),{heartbeatsToSend:r,unsentEntries:s}=OU(this._heartbeatsCache.heartbeats),o=yh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ba.warn(n),""}}}function DS(){return new Date().toISOString().substring(0,10)}function OU(t,e=IU){const n=[];let r=t.slice();for(const s of t){const o=n.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),OS(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),OS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g3()?v3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return AS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return AS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function OS(t){return yh(JSON.stringify({version:2,heartbeats:t})).length}function jU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(t){pl(new Yi("platform-logger",e=>new G3(e),"PRIVATE")),pl(new Yi("heartbeat",e=>new DU(e),"PRIVATE")),ks(dy,RS,t),ks(dy,RS,"esm2017"),ks("fire-js","")}PU("");var Jr=function(){return Jr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Jr.apply(this,arguments)};function ad(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function kU(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function mT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LU=mT,pT=new rd("auth","Firebase",mT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Ib("@firebase/auth");function UU(t,...e){_h.logLevel<=it.WARN&&_h.warn(`Auth (${kl}): ${t}`,...e)}function rh(t,...e){_h.logLevel<=it.ERROR&&_h.error(`Auth (${kl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,...e){throw Ob(t,...e)}function ea(t,...e){return Ob(t,...e)}function gT(t,e,n){const r=Object.assign(Object.assign({},LU()),{[e]:n});return new rd("auth","Firebase",r).create(e,{appName:t.name})}function Ls(t){return gT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ob(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pT.create(t,...e)}function Te(t,e,...n){if(!t)throw Ob(e,...n)}function Ia(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rh(e),new Error(e)}function Va(t,e){t||Ia(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function FU(){return MS()==="http:"||MS()==="https:"}function MS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FU()||h3()||"connection"in navigator)?navigator.onLine:!0}function VU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Va(n>e,"Short delay should be less than long delay!"),this.isMobile=Rb()||iT()}get(){return BU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t,e){Va(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ia("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ia("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ia("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=new sd(3e4,6e4);function so(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ei(t,e,n,r,s={}){return yT(t,s,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const u=Pl(Object.assign({key:t.config.apiKey},c)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:f},o);return f3()||(m.referrerPolicy="no-referrer"),vT.fetch()(bT(t,t.config.apiHost,n,u),m)})}async function yT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zU),e);try{const s=new qU(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Ff(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[f,m]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ff(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Ff(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Ff(t,"user-disabled",c);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw gT(t,g,m);Dr(t,g)}}catch(s){if(s instanceof Js)throw s;Dr(t,"network-request-failed",{message:String(s)})}}async function lm(t,e,n,r,s={}){const o=await ei(t,e,n,r,s);return"mfaPendingCredential"in o&&Dr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function bT(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Mb(t.config,s):`${t.config.apiScheme}://${s}`}function $U(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ea(this.auth,"network-request-failed")),HU.get())})}}function Ff(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ea(t,e,r);return s.customData._tokenResponse=n,s}function jS(t){return t!==void 0&&t.enterprise!==void 0}class WU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $U(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GU(t,e){return ei(t,"GET","/v2/recaptchaConfig",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YU(t,e){return ei(t,"POST","/v1/accounts:delete",e)}async function xT(t,e){return ei(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KU(t,e=!1){const n=Jt(t),r=await n.getIdToken(e),s=jb(r);Te(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:bu(yv(s.auth_time)),issuedAtTime:bu(yv(s.iat)),expirationTime:bu(yv(s.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function yv(t){return Number(t)*1e3}function jb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const s=bh(n);return s?JSON.parse(s):(rh("Failed to decode base64 JWT payload"),null)}catch(s){return rh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function PS(t){const e=jb(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ou(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Js&&XU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bu(this.lastLoginAt),this.creationTime=bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ou(t,xT(n,{idToken:r}));Te(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?wT(o.providerUserInfo):[],u=JU(t.providerData,c),f=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),g=f?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new py(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function ZU(t){const e=Jt(t);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JU(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function wT(t){return t.map(e=>{var{providerId:n}=e,r=ad(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eF(t,e){const n=await yT(t,{},async()=>{const r=Pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,c=bT(t,s,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",vT.fetch()(c,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tF(t,e){return ei(t,"POST","/v2/accounts:revokeToken",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=PS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await eF(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,c=new il;return r&&(Te(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(Te(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(Te(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return Ia("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Aa{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=ad(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new py(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ou(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KU(this,e)}reload(){return ZU(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Aa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cr(this.auth.app))return Promise.reject(Ls(this.auth));const e=await this.getIdToken();return await Ou(this,YU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,c,u,f,m,g;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,E=(c=n.photoURL)!==null&&c!==void 0?c:void 0,_=(u=n.tenantId)!==null&&u!==void 0?u:void 0,S=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,C=(m=n.createdAt)!==null&&m!==void 0?m:void 0,T=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:R,emailVerified:M,isAnonymous:A,providerData:I,stsTokenManager:k}=n;Te(R&&k,e,"internal-error");const U=il.fromJSON(this.name,k);Te(typeof R=="string",e,"internal-error"),Cs(v,e.name),Cs(y,e.name),Te(typeof M=="boolean",e,"internal-error"),Te(typeof A=="boolean",e,"internal-error"),Cs(w,e.name),Cs(E,e.name),Cs(_,e.name),Cs(S,e.name),Cs(C,e.name),Cs(T,e.name);const F=new Aa({uid:R,auth:e,email:y,emailVerified:M,displayName:v,isAnonymous:A,photoURL:E,phoneNumber:w,tenantId:_,stsTokenManager:U,createdAt:C,lastLoginAt:T});return I&&Array.isArray(I)&&(F.providerData=I.map(Y=>Object.assign({},Y))),S&&(F._redirectEventId=S),F}static async _fromIdTokenResponse(e,n,r=!1){const s=new il;s.updateFromServerResponse(n);const o=new Aa({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Eh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Te(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?wT(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),u=new il;u.updateFromIdToken(r);const f=new Aa({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:c}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new py(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=new Map;function Da(t){Va(t instanceof Function,"Expected a class definition");let e=kS.get(t);return e?(Va(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_T.type="NONE";const LS=_T;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t,e,n){return`firebase:${t}:${e}:${n}`}class ol{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=ah(this.userKey,s.apiKey,o),this.fullPersistenceKey=ah("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Aa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ol(Da(LS),e,r);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=s[0]||Da(LS);const c=ah(r,e.config.apiKey,e.name);let u=null;for(const m of n)try{const g=await m._get(c);if(g){const v=Aa._fromJSON(e,g);m!==o&&(u=v),o=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new ol(o,e,r):(o=f[0],u&&await o._set(c,u.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new ol(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ET(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RT(e))return"Blackberry";if(IT(e))return"Webos";if(ST(e))return"Safari";if((e.includes("chrome/")||CT(e))&&!e.includes("edge/"))return"Chrome";if(TT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ET(t=En()){return/firefox\//i.test(t)}function ST(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CT(t=En()){return/crios\//i.test(t)}function NT(t=En()){return/iemobile/i.test(t)}function TT(t=En()){return/android/i.test(t)}function RT(t=En()){return/blackberry/i.test(t)}function IT(t=En()){return/webos/i.test(t)}function Pb(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nF(t=En()){var e;return Pb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rF(){return m3()&&document.documentMode===10}function AT(t=En()){return Pb(t)||TT(t)||IT(t)||RT(t)||/windows phone/i.test(t)||NT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(t,e=[]){let n;switch(t){case"Browser":n=US(En());break;case"Worker":n=`${US(En())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${kl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,u)=>{try{const f=e(o);c(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(t,e={}){return ei(t,"GET","/v2/passwordPolicy",so(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=6;class oF{constructor(e){var n,r,s,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:iF,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,c,u;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(u=f.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FS(this),this.idTokenSubscription=new FS(this),this.beforeStateQueue=new aF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Da(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ol.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xT(this,{idToken:e}),r=await Aa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===u)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cr(this.app))return Promise.reject(Ls(this));const n=e?Jt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cr(this.app)?Promise.reject(Ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cr(this.app)?Promise.reject(Ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Da(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sF(this),n=new oF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Da(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[Da(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&UU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ll(t){return Jt(t)}class FS{constructor(e){this.auth=e,this.observer=null,this.addObserver=S3(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cF(t){cm=t}function OT(t){return cm.loadJS(t)}function uF(){return cm.recaptchaEnterpriseScript}function dF(){return cm.gapiScript}function fF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class hF{constructor(){this.enterprise=new mF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const pF="recaptcha-enterprise",MT="NO_RECAPTCHA";class gF{constructor(e){this.type=pF,this.auth=Ll(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,u)=>{GU(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new WU(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(f=>{u(f)})})}function s(o,c,u){const f=window.grecaptcha;jS(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(MT)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hF().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(u=>{if(!n&&jS(window.grecaptcha))s(u,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=uF();f.length!==0&&(f+=u),OT(f).then(()=>{s(u,o,c)}).catch(m=>{c(m)})}}).catch(u=>{c(u)})})}}async function BS(t,e,n,r=!1,s=!1){const o=new gF(t);let c;if(s)c=MT;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function VS(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await BS(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await BS(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t,e){const n=Db(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Gi(o,e??{}))return s;Dr(s,"already-initialized")}return n.initialize({options:e})}function yF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Da);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bF(t,e,n){const r=Ll(t);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=jT(e),{host:c,port:u}=xF(e),f=u===null?"":`:${u}`,m={url:`${o}//${c}${f}/`},g=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(Gi(m,r.config.emulator)&&Gi(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,wF()}function jT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xF(t){const e=jT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:zS(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:zS(c)}}}function zS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ia("not implemented")}_getIdTokenResponse(e){return Ia("not implemented")}_linkToIdToken(e,n){return Ia("not implemented")}_getReauthenticationResolver(e){return Ia("not implemented")}}async function _F(t,e){return ei(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EF(t,e){return lm(t,"POST","/v1/accounts:signInWithPassword",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SF(t,e){return lm(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}async function CF(t,e){return lm(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends kb{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Mu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Mu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VS(e,n,"signInWithPassword",EF);case"emailLink":return SF(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VS(e,r,"signUpPassword",_F);case"emailLink":return CF(e,{idToken:n,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t,e){return lm(t,"POST","/v1/accounts:signInWithIdp",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF="http://localhost";class Ki extends kb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=ad(n,["providerId","signInMethod"]);if(!r||!s)return null;const c=new Ki(r,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ll(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ll(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ll(e,n)}buildRequest(){const e={requestUri:NF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RF(t){const e=uu(du(t)).link,n=e?uu(du(e)).deep_link_id:null,r=uu(du(t)).deep_link_id;return(r?uu(du(r)).link:null)||r||n||e||t}class Lb{constructor(e){var n,r,s,o,c,u;const f=uu(du(e)),m=(n=f.apiKey)!==null&&n!==void 0?n:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,v=TF((s=f.mode)!==null&&s!==void 0?s:null);Te(m&&g&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=g,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=f.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(u=f.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=RF(e);try{return new Lb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.providerId=Ul.PROVIDER_ID}static credential(e,n){return Mu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Lb.parseLink(n);return Te(r,"argument-error"),Mu._fromEmailAndCode(e,r.code,r.tenantId)}}Ul.PROVIDER_ID="password";Ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends PT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends id{constructor(){super("facebook.com")}static credential(e){return Ki._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends id{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ki._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Rs.credential(n,r)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends id{constructor(){super("github.com")}static credential(e){return Ki._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends id{constructor(){super("twitter.com")}static credential(e,n){return Ki._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return As.credential(n,r)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Aa._fromIdTokenResponse(e,r,s),c=HS(r);return new gl({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=HS(r);return new gl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function HS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends Js{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Sh(e,n,r,s)}}function kT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(t,o,e,r):o})}async function IF(t,e,n=!1){const r=await Ou(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AF(t,e,n=!1){const{auth:r}=t;if(Cr(r.app))return Promise.reject(Ls(r));const s="reauthenticate";try{const o=await Ou(t,kT(r,s,e,t),n);Te(o.idToken,r,"internal-error");const c=jb(o.idToken);Te(c,r,"internal-error");const{sub:u}=c;return Te(t.uid===u,r,"user-mismatch"),gl._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Dr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LT(t,e,n=!1){if(Cr(t.app))return Promise.reject(Ls(t));const r="signIn",s=await kT(t,r,e),o=await gl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function DF(t,e){return LT(Ll(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OF(t){const e=Ll(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function MF(t,e,n){return Cr(t.app)?Promise.reject(Ls(t)):DF(Jt(t),Ul.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&OF(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(t,e){return Jt(t).setPersistence(e)}function PF(t,e,n,r){return Jt(t).onIdTokenChanged(e,n,r)}function kF(t,e,n){return Jt(t).beforeAuthStateChanged(e,n)}function LF(t,e,n,r){return Jt(t).onAuthStateChanged(e,n,r)}function UF(t){return Jt(t).signOut()}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=1e3,BF=10;class FT extends UT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,u,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);rF()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,BF):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},FF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FT.type="LOCAL";const BT=FT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT extends UT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VT.type="SESSION";const Ub=VT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new um(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(c).map(async m=>m(n.origin,o)),f=await VF(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}um.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((u,f)=>{const m=Fb("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(v){const y=v;if(y.data.eventId===m)switch(y.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(y.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(){return window}function HF(t){ta().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){return typeof ta().WorkerGlobalScope<"u"&&typeof ta().importScripts=="function"}async function $F(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function WF(){return zT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="firebaseLocalStorageDb",GF=1,Nh="firebaseLocalStorage",$T="fbase_key";class od{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dm(t,e){return t.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function YF(){const t=indexedDB.deleteDatabase(HT);return new od(t).toPromise()}function gy(){const t=indexedDB.open(HT,GF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Nh,{keyPath:$T})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Nh)?e(r):(r.close(),await YF(),e(await gy()))})})}async function $S(t,e,n){const r=dm(t,!0).put({[$T]:e,value:n});return new od(r).toPromise()}async function KF(t,e){const n=dm(t,!1).get(e),r=await new od(n).toPromise();return r===void 0?null:r.value}function qS(t,e){const n=dm(t,!0).delete(e);return new od(n).toPromise()}const XF=800,QF=3;class qT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>QF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=um._getInstance(WF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $F(),!this.activeServiceWorker)return;this.sender=new zF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gy();return await $S(e,Ch,"1"),await qS(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$S(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>KF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=dm(s,!1).getAll();return new od(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qT.type="LOCAL";const ZF=qT;new sd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t,e){return e?Da(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb extends kb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ll(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ll(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function e6(t){return LT(t.auth,new Bb(t),t.bypassAuthState)}function t6(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),AF(n,new Bb(t),t.bypassAuthState)}async function n6(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),IF(n,new Bb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:c,type:u}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return e6;case"linkViaPopup":case"linkViaRedirect":return n6;case"reauthViaPopup":case"reauthViaRedirect":return t6;default:Dr(this.auth,"internal-error")}}resolve(e){Va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=new sd(2e3,1e4);class el extends WT{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,el.currentPopupAction&&el.currentPopupAction.cancel(),el.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Va(this.filter.length===1,"Popup operations only handle one event");const e=Fb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ea(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ea(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,el.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ea(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,r6.get())};e()}}el.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6="pendingRedirect",sh=new Map;class s6 extends WT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const r=await i6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i6(t,e){const n=c6(e),r=l6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function o6(t,e){sh.set(t._key(),e)}function l6(t){return Da(t._redirectPersistence)}function c6(t){return ah(a6,t.config.apiKey,t.name)}async function u6(t,e,n=!1){if(Cr(t.app))return Promise.reject(Ls(t));const r=Ll(t),s=JF(r,e),c=await new s6(r,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=10*60*1e3;class f6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ea(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=d6&&this.cachedEventUids.clear(),this.cachedEventUids.has(WS(e))}saveEventToCache(e){this.cachedEventUids.add(WS(e)),this.lastProcessedEventTime=Date.now()}}function WS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m6(t,e={}){return ei(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g6=/^https?/;async function v6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await m6(t);for(const n of e)try{if(y6(n))return}catch{}Dr(t,"unauthorized-domain")}function y6(t){const e=my(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!g6.test(n))return!1;if(p6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=new sd(3e4,6e4);function GS(){const t=ta().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function x6(t){return new Promise((e,n)=>{var r,s,o;function c(){GS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GS(),n(ea(t,"network-request-failed"))},timeout:b6.get()})}if(!((s=(r=ta().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=ta().gapi)===null||o===void 0)&&o.load)c();else{const u=fF("iframefcb");return ta()[u]=()=>{gapi.load?c():n(ea(t,"network-request-failed"))},OT(`${dF()}?onload=${u}`).catch(f=>n(f))}}).catch(e=>{throw ih=null,e})}let ih=null;function w6(t){return ih=ih||x6(t),ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=new sd(5e3,15e3),E6="__/auth/iframe",S6="emulator/auth/iframe",C6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T6(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mb(e,S6):`https://${t.config.authDomain}/${E6}`,r={apiKey:e.apiKey,appName:t.name,v:kl},s=N6.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Pl(r).slice(1)}`}async function R6(t){const e=await w6(t),n=ta().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:T6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C6,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const c=ea(t,"network-request-failed"),u=ta().setTimeout(()=>{o(c)},_6.get());function f(){ta().clearTimeout(u),s(r)}r.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A6=500,D6=600,O6="_blank",M6="http://localhost";class YS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j6(t,e,n,r=A6,s=D6){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f=Object.assign(Object.assign({},I6),{width:r.toString(),height:s.toString(),top:o,left:c}),m=En().toLowerCase();n&&(u=CT(m)?O6:n),ET(m)&&(e=e||M6,f.scrollbars="yes");const g=Object.entries(f).reduce((y,[w,E])=>`${y}${w}=${E},`,"");if(nF(m)&&u!=="_self")return P6(e||"",u),new YS(null);const v=window.open(e||"",u,g);Te(v,t,"popup-blocked");try{v.focus()}catch{}return new YS(v)}function P6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6="__/auth/handler",L6="emulator/auth/handler",U6=encodeURIComponent("fac");async function KS(t,e,n,r,s,o){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:kl,eventId:s};if(e instanceof PT){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",ly(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))c[g]=v}if(e instanceof id){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const u=c;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const f=await t._getAppCheckToken(),m=f?`#${U6}=${encodeURIComponent(f)}`:"";return`${F6(t)}?${Pl(u).slice(1)}${m}`}function F6({config:t}){return t.emulator?Mb(t,L6):`https://${t.authDomain}/${k6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="webStorageSupport";class B6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ub,this._completeRedirectFn=u6,this._overrideRedirectResult=o6}async _openPopup(e,n,r,s){var o;Va((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await KS(e,n,r,my(),s);return j6(e,c,Fb())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await KS(e,n,r,my(),s);return HF(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Va(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await R6(e),r=new f6(e);return n.register("authEvent",s=>(Te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bv,{type:bv},s=>{var o;const c=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[bv];c!==void 0&&n(!!c),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=v6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AT()||ST()||Pb()}}const V6=B6;var XS="@firebase/auth",QS="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $6(t){pl(new Yi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=r.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DT(t)},m=new lF(r,s,o,f);return yF(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pl(new Yi("auth-internal",e=>{const n=Ll(e.getProvider("auth").getImmediate());return(r=>new z6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(XS,QS,H6(t)),ks(XS,QS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=5*60,W6=sT("authIdTokenMaxAge")||q6;let ZS=null;const G6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>W6)return;const s=n==null?void 0:n.token;ZS!==s&&(ZS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Y6(t=dT()){const e=Db(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vF(t,{popupRedirectResolver:V6,persistence:[ZF,BT,Ub]}),r=sT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=G6(o.toString());kF(n,c,()=>c(n.currentUser)),PF(n,u=>c(u))}}const s=rT("auth");return s&&bF(n,`http://${s}`),n}function K6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=ea("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",K6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$6("Browser");var X6="firebase",Q6="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(X6,Q6,"app");var JS={};const e1="@firebase/database",t1="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YT="";function Z6(t){YT=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Vt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Au(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return sa(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new J6(e)}}catch{}return new eB},Vi=KT("localStorage"),tB=KT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new Ib("@firebase/database"),nB=function(){let t=1;return function(){return t++}}(),XT=function(t){const e=T3(t),n=new E3;n.update(e);const r=n.digest();return Nb.encodeByteArray(r)},ld=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ld.apply(null,r):typeof r=="object"?e+=Vt(r):e+=r,e+=" "}return e};let xu=null,n1=!0;const rB=function(t,e){ue(!0,"Can't turn on custom loggers persistently."),cl.logLevel=it.VERBOSE,xu=cl.log.bind(cl)},an=function(...t){if(n1===!0&&(n1=!1,xu===null&&tB.get("logging_enabled")===!0&&rB()),xu){const e=ld.apply(null,t);xu(e)}},cd=function(t){return function(...e){an(t,...e)}},vy=function(...t){const e="FIREBASE INTERNAL ERROR: "+ld(...t);cl.error(e)},za=function(...t){const e=`FIREBASE FATAL ERROR: ${ld(...t)}`;throw cl.error(e),new Error(e)},wn=function(...t){const e="FIREBASE WARNING: "+ld(...t);cl.warn(e)},aB=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Vb=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},sB=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xi="[MIN_NAME]",Hs="[MAX_NAME]",io=function(t,e){if(t===e)return 0;if(t===Xi||e===Hs)return-1;if(e===Xi||t===Hs)return 1;{const n=r1(t),r=r1(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},iB=function(t,e){return t===e?0:t<e?-1:1},tu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Vt(e))},zb=function(t){if(typeof t!="object"||t===null)return Vt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Vt(e[r]),n+=":",n+=zb(t[e[r]]);return n+="}",n},QT=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function sn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const ZT=function(t){ue(!Vb(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,o,c,u,f;t===0?(o=0,c=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=u+r,c=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(o=0,c=Math.round(t/Math.pow(2,1-r-n))));const m=[];for(f=n;f;f-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(f=e;f;f-=1)m.push(o%2?1:0),o=Math.floor(o/2);m.push(s?1:0),m.reverse();const g=m.join("");let v="";for(f=0;f<64;f+=8){let y=parseInt(g.substr(f,8),2).toString(16);y.length===1&&(y="0"+y),v=v+y}return v.toLowerCase()},oB=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},lB=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function cB(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const uB=new RegExp("^-?(0*)\\d{1,10}$"),dB=-2147483648,fB=2147483647,r1=function(t){if(uB.test(t)){const e=Number(t);if(e>=dB&&e<=fB)return e}return null},Fl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw wn("Exception was thrown by user callback.",n),e},Math.floor(0))}},hB=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},wu=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Cr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){wn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(an("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wn(e)}}class oh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}oh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="5",JT="v",eR="s",tR="r",nR="f",rR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,aR="ls",sR="p",yy="ac",iR="websocket",oR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,r,s,o=!1,c="",u=!1,f=!1,m=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=f,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Vi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function gB(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function cR(t,e,n){ue(typeof e=="string","typeof type must == string"),ue(typeof n=="object","typeof params must == object");let r;if(e===iR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===oR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);gB(t)&&(n.ns=t.namespace);const s=[];return sn(n,(o,c)=>{s.push(o+"="+c)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(){this.counters_={}}incrementCounter(e,n=1){sa(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return a3(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv={},wv={};function $b(t){const e=t.toString();return xv[e]||(xv[e]=new vB),xv[e]}function yB(t,e){const n=t.toString();return wv[n]||(wv[n]=e()),wv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Fl(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="start",xB="close",wB="pLPCommand",_B="pRTLPCB",uR="id",dR="pw",fR="ser",EB="cb",SB="seg",CB="ts",NB="d",TB="dframe",hR=1870,mR=30,RB=hR-mR,IB=25e3,AB=3e4;class tl{constructor(e,n,r,s,o,c,u){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.transportSessionId=c,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cd(e),this.stats_=$b(n),this.urlFn=f=>(this.appCheckToken&&(f[yy]=this.appCheckToken),cR(n,oR,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new bB(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(AB)),sB(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qb((...o)=>{const[c,u,f,m,g]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===a1)this.id=u,this.password=f;else if(c===xB)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...o)=>{const[c,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,u)},()=>{this.onClosed_()},this.urlFn);const r={};r[a1]="t",r[fR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[EB]=this.scriptTagHolder.uniqueCallbackIdentifier),r[JT]=Hb,this.transportSessionId&&(r[eR]=this.transportSessionId),this.lastSessionId&&(r[aR]=this.lastSessionId),this.applicationId&&(r[sR]=this.applicationId),this.appCheckToken&&(r[yy]=this.appCheckToken),typeof location<"u"&&location.hostname&&rR.test(location.hostname)&&(r[tR]=nR);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){tl.forceAllow_=!0}static forceDisallow(){tl.forceDisallow_=!0}static isAvailable(){return tl.forceAllow_?!0:!tl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!oB()&&!lB()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Vt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=tT(n),s=QT(r,RB);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[TB]="t",r[uR]=e,r[dR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Vt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class qb{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=nB(),window[wB+this.uniqueCallbackIdentifier]=e,window[_B+this.uniqueCallbackIdentifier]=n,this.myIFrame=qb.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(u){an("frame writing exception"),u.stack&&an(u.stack),an(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||an("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[uR]=this.myID,e[dR]=this.myPW,e[fR]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+mR+r.length<=hR;){const c=this.pendingSegs.shift();r=r+"&"+SB+s+"="+c.seg+"&"+CB+s+"="+c.ts+"&"+NB+s+"="+c.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(IB)),o=()=>{clearTimeout(s),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{an("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB=16384,OB=45e3;let Th=null;typeof MozWebSocket<"u"?Th=MozWebSocket:typeof WebSocket<"u"&&(Th=WebSocket);class Nr{constructor(e,n,r,s,o,c,u){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cd(this.connId),this.stats_=$b(n),this.connURL=Nr.connectionURL_(n,c,u,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,o){const c={};return c[JT]=Hb,typeof location<"u"&&location.hostname&&rR.test(location.hostname)&&(c[tR]=nR),n&&(c[eR]=n),r&&(c[aR]=r),s&&(c[yy]=s),o&&(c[sR]=o),cR(e,iR,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vi.set("previous_websocket_failure",!0);try{let r;p3(),this.mySock=new Th(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Nr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Th!==null&&!Nr.forceDisallow_}static previouslyFailed(){return Vi.isInMemoryStorage||Vi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Vi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Au(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ue(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Vt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=QT(n,DB);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(OB))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Nr.responsesRequiredToBeHealthy=2;Nr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{static get ALL_TRANSPORTS(){return[tl,Nr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Nr&&Nr.isAvailable();let r=n&&!Nr.previouslyFailed();if(e.webSocketOnly&&(n||wn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Nr];else{const s=this.transports_=[];for(const o of ju.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);ju.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ju.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=6e4,jB=5e3,PB=10*1024,kB=100*1024,_v="t",s1="d",LB="s",i1="r",UB="e",o1="o",l1="a",c1="n",u1="p",FB="h";class BB{constructor(e,n,r,s,o,c,u,f,m,g){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=c,this.onReady_=u,this.onDisconnect_=f,this.onKill_=m,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cd("c:"+this.id+":"),this.transportManager_=new ju(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=wu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>kB?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>PB?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(_v in e){const n=e[_v];n===l1?this.upgradeIfSecondaryHealthy_():n===i1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===o1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=tu("t",e),r=tu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:u1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:l1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:c1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=tu("t",e),r=tu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=tu(_v,e);if(s1 in e){const r=e[s1];if(n===FB){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===c1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===LB?this.onConnectionShutdown_(r):n===i1?this.onReset_(r):n===UB?vy("Server Error: "+r):n===o1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vy("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Hb!==r&&wn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),wu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(MB))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(jB))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:u1,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.allowedEvents_=e,this.listeners_={},ue(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===n&&(!r||r===s[o].context)){s.splice(o,1);return}}validateEventType_(e){ue(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends gR{static getInstance(){return new Rh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Rb()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ue(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=32,f1=768;class rt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Qe(){return new rt("")}function He(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function $s(t){return t.pieces_.length-t.pieceNum_}function ft(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new rt(t.pieces_,e)}function Wb(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function VB(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Pu(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function vR(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new rt(e,0)}function St(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof rt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new rt(n,0)}function Ue(t){return t.pieceNum_>=t.pieces_.length}function xn(t,e){const n=He(t),r=He(e);if(n===null)return e;if(n===r)return xn(ft(t),ft(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function zB(t,e){const n=Pu(t,0),r=Pu(e,0);for(let s=0;s<n.length&&s<r.length;s++){const o=io(n[s],r[s]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function yR(t,e){if($s(t)!==$s(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function fr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if($s(t)>$s(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class HB{constructor(e,n){this.errorPrefix_=n,this.parts_=Pu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=om(this.parts_[r]);bR(this)}}function $B(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=om(e),bR(t)}function qB(t){const e=t.parts_.pop();t.byteLength_-=om(e),t.parts_.length>0&&(t.byteLength_-=1)}function bR(t){if(t.byteLength_>f1)throw new Error(t.errorPrefix_+"has a key path longer than "+f1+" bytes ("+t.byteLength_+").");if(t.parts_.length>d1)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+d1+") or object contains a cycle "+ji(t))}function ji(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb extends gR{static getInstance(){return new Gb}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ue(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=1e3,WB=60*5*1e3,h1=30*1e3,GB=1.3,YB=3e4,KB="server_kill",m1=3;class ka extends pR{constructor(e,n,r,s,o,c,u,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=u,this.authOverride_=f,this.id=ka.nextPersistentConnectionId_++,this.log_=cd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=nu,this.maxReconnectDelay_=WB,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gb.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Rh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,o={r:s,a:e,b:n};this.log_(Vt(o)),ue(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new nd,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const u=c.d;c.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,s){this.initConnection_();const o=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),ue(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ue(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(c).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r},c="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(c,o,u=>{const f=u.d,m=u.s;ka.warnOnListenWarnings_(f,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",u),m!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(m,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&sa(e,"w")){const r=ml(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();wn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||_3(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=h1)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=w3(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const o=s.s,c=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),ue(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const o={p:e},c="n";s&&(o.q=r,o.t=s),this.sendRequest(c,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,o){this.initConnection_();const c={p:n,d:r};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:e,request:c,onComplete:s}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Vt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):vy("Unrecognized action received from server: "+Vt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ue(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=nu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>YB&&(this.reconnectDelay_=nu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*GB)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+ka.nextConnectionId_++,o=this.lastSessionId;let c=!1,u=null;const f=function(){u?u.close():(c=!0,r())},m=function(v){ue(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(v)};this.realtime_={close:f,sendRequest:m};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,y]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?an("getToken() completed but was canceled"):(an("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,u=new BB(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,w=>{wn(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(KB)},o))}catch(v){this.log_("Failed to get token: "+v),c||(this.repoInfo_.nodeAdmin&&wn(v),f())}}}interrupt(e){an("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){an("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ly(this.interruptReasons_)&&(this.reconnectDelay_=nu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>zb(o)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new rt(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){an("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=m1&&(this.reconnectDelay_=h1,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){an("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=m1&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+YT.replace(/\./g,"-")]=1,Rb()?e["framework.cordova"]=1:iT()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Rh.getInstance().currentlyOnline();return ly(this.interruptReasons_)&&e}}ka.nextPersistentConnectionId_=0;ka.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Fe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Fe(Xi,e),s=new Fe(Xi,n);return this.compare(r,s)!==0}minPost(){return Fe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bf;class xR extends fm{static get __EMPTY_NODE(){return Bf}static set __EMPTY_NODE(e){Bf=e}compare(e,n){return io(e.name,n.name)}isDefinedOn(e){throw jl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Fe.MIN}maxPost(){return new Fe(Hs,Bf)}makePost(e,n){return ue(typeof e=="string","KeyIndex indexValue must always be a string."),new Fe(e,Bf)}toString(){return".key"}}const qi=new xR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,r,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?r(e.key,n):1,s&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=s??Mn.EMPTY_NODE,this.right=o??Mn.EMPTY_NODE}copy(e,n,r,s,o){return new Qt(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Mn.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Qt.RED=!0;Qt.BLACK=!1;class XB{copy(e,n,r,s,o){return this}insert(e,n,r){return new Qt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Mn{constructor(e,n=Mn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Mn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Qt.BLACK,null,null))}remove(e){return new Mn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Vf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Vf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Vf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Vf(this.root_,null,this.comparator_,!0,e)}}Mn.EMPTY_NODE=new XB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(t,e){return io(t.name,e.name)}function Yb(t,e){return io(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let by;function ZB(t){by=t}const wR=function(t){return typeof t=="number"?"number:"+ZT(t):"string:"+t},_R=function(t){if(t.isLeafNode()){const e=t.val();ue(typeof e=="string"||typeof e=="number"||typeof e=="object"&&sa(e,".sv"),"Priority must be a string or number.")}else ue(t===by||t.isEmpty(),"priority of unexpected type.");ue(t===by||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p1;class Xt{static set __childrenNodeConstructor(e){p1=e}static get __childrenNodeConstructor(){return p1}constructor(e,n=Xt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ue(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),_R(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Xt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Xt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ue(e)?this:He(e)===".priority"?this.priorityNode_:Xt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Xt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=He(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ue(r!==".priority"||$s(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Xt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ft(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+wR(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=ZT(this.value_):e+=this.value_,this.lazyHash_=XT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Xt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Xt.__childrenNodeConstructor?-1:(ue(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Xt.VALUE_TYPE_ORDER.indexOf(n),o=Xt.VALUE_TYPE_ORDER.indexOf(r);return ue(s>=0,"Unknown leaf type: "+n),ue(o>=0,"Unknown leaf type: "+r),s===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Xt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ER,SR;function JB(t){ER=t}function e8(t){SR=t}class t8 extends fm{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),o=r.compareTo(s);return o===0?io(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Fe.MIN}maxPost(){return new Fe(Hs,new Xt("[PRIORITY-POST]",SR))}makePost(e,n){const r=ER(e);return new Fe(n,new Xt("[PRIORITY-POST]",r))}toString(){return".priority"}}const yt=new t8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8=Math.log(2);class r8{constructor(e){const n=o=>parseInt(Math.log(o)/n8,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ih=function(t,e,n,r){t.sort(e);const s=function(f,m){const g=m-f;let v,y;if(g===0)return null;if(g===1)return v=t[f],y=n?n(v):v,new Qt(y,v.node,Qt.BLACK,null,null);{const w=parseInt(g/2,10)+f,E=s(f,w),_=s(w+1,m);return v=t[w],y=n?n(v):v,new Qt(y,v.node,Qt.BLACK,E,_)}},o=function(f){let m=null,g=null,v=t.length;const y=function(E,_){const S=v-E,C=v;v-=E;const T=s(S+1,C),R=t[S],M=n?n(R):R;w(new Qt(M,R.node,_,null,T))},w=function(E){m?(m.left=E,m=E):(g=E,m=E)};for(let E=0;E<f.count;++E){const _=f.nextBitIsOne(),S=Math.pow(2,f.count-(E+1));_?y(S,Qt.BLACK):(y(S,Qt.BLACK),y(S,Qt.RED))}return g},c=new r8(t.length),u=o(c);return new Mn(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ev;const Ko={};class Oa{static get Default(){return ue(Ko&&yt,"ChildrenNode.ts has not been loaded"),Ev=Ev||new Oa({".priority":Ko},{".priority":yt}),Ev}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ml(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Mn?n:null}hasIndex(e){return sa(this.indexSet_,e.toString())}addIndex(e,n){ue(e!==qi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const o=n.getIterator(Fe.Wrap);let c=o.getNext();for(;c;)s=s||e.isDefinedOn(c.node),r.push(c),c=o.getNext();let u;s?u=Ih(r,e.getCompare()):u=Ko;const f=e.toString(),m=Object.assign({},this.indexSet_);m[f]=e;const g=Object.assign({},this.indexes_);return g[f]=u,new Oa(g,m)}addToIndexes(e,n){const r=xh(this.indexes_,(s,o)=>{const c=ml(this.indexSet_,o);if(ue(c,"Missing index implementation for "+o),s===Ko)if(c.isDefinedOn(e.node)){const u=[],f=n.getIterator(Fe.Wrap);let m=f.getNext();for(;m;)m.name!==e.name&&u.push(m),m=f.getNext();return u.push(e),Ih(u,c.getCompare())}else return Ko;else{const u=n.get(e.name);let f=s;return u&&(f=f.remove(new Fe(e.name,u))),f.insert(e,e.node)}});return new Oa(r,this.indexSet_)}removeFromIndexes(e,n){const r=xh(this.indexes_,s=>{if(s===Ko)return s;{const o=n.get(e.name);return o?s.remove(new Fe(e.name,o)):s}});return new Oa(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru;class Re{static get EMPTY_NODE(){return ru||(ru=new Re(new Mn(Yb),null,Oa.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&_R(this.priorityNode_),this.children_.isEmpty()&&ue(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ru}updatePriority(e){return this.children_.isEmpty()?this:new Re(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ru:n}}getChild(e){const n=He(e);return n===null?this:this.getImmediateChild(n).getChild(ft(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ue(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Fe(e,n);let s,o;n.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const c=s.isEmpty()?ru:this.priorityNode_;return new Re(s,c,o)}}updateChild(e,n){const r=He(e);if(r===null)return n;{ue(He(e)!==".priority"||$s(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ft(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,o=!0;if(this.forEachChild(yt,(c,u)=>{n[c]=u.val(e),r++,o&&Re.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):o=!1}),!e&&o&&s<2*r){const c=[];for(const u in n)c[u]=n[u];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+wR(this.getPriority().val())+":"),this.forEachChild(yt,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":XT(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new Fe(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Fe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Fe(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Fe.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Fe.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ud?-1:0}withIndex(e){if(e===qi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Re(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===qi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(yt),s=n.getIterator(yt);let o=r.getNext(),c=s.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=r.getNext(),c=s.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===qi?null:this.indexMap_.get(e.toString())}}Re.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class a8 extends Re{constructor(){super(new Mn(Yb),Re.EMPTY_NODE,Oa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Re.EMPTY_NODE}isEmpty(){return!1}}const ud=new a8;Object.defineProperties(Fe,{MIN:{value:new Fe(Xi,Re.EMPTY_NODE)},MAX:{value:new Fe(Hs,ud)}});xR.__EMPTY_NODE=Re.EMPTY_NODE;Xt.__childrenNodeConstructor=Re;ZB(ud);e8(ud);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=!0;function Bt(t,e=null){if(t===null)return Re.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ue(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Xt(n,Bt(e))}if(!(t instanceof Array)&&s8){const n=[];let r=!1;if(sn(t,(c,u)=>{if(c.substring(0,1)!=="."){const f=Bt(u);f.isEmpty()||(r=r||!f.getPriority().isEmpty(),n.push(new Fe(c,f)))}}),n.length===0)return Re.EMPTY_NODE;const o=Ih(n,QB,c=>c.name,Yb);if(r){const c=Ih(n,yt.getCompare());return new Re(o,Bt(e),new Oa({".priority":c},{".priority":yt}))}else return new Re(o,Bt(e),Oa.Default)}else{let n=Re.EMPTY_NODE;return sn(t,(r,s)=>{if(sa(t,r)&&r.substring(0,1)!=="."){const o=Bt(s);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Bt(e))}}JB(Bt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb extends fm{constructor(e){super(),this.indexPath_=e,ue(!Ue(e)&&He(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),o=r.compareTo(s);return o===0?io(e.name,n.name):o}makePost(e,n){const r=Bt(e),s=Re.EMPTY_NODE.updateChild(this.indexPath_,r);return new Fe(n,s)}maxPost(){const e=Re.EMPTY_NODE.updateChild(this.indexPath_,ud);return new Fe(Hs,e)}toString(){return Pu(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8 extends fm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?io(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Fe.MIN}maxPost(){return Fe.MAX}makePost(e,n){const r=Bt(e);return new Fe(n,r)}toString(){return".value"}}const CR=new i8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(t){return{type:"value",snapshotNode:t}}function vl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ku(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Lu(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function o8(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e){this.index_=e}updateChild(e,n,r,s,o,c){ue(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(n);return u.getChild(s).equals(r.getChild(s))&&u.isEmpty()===r.isEmpty()||(c!=null&&(r.isEmpty()?e.hasChild(n)?c.trackChildChange(ku(n,u)):ue(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?c.trackChildChange(vl(n,r)):c.trackChildChange(Lu(n,r,u))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(yt,(s,o)=>{n.hasChild(s)||r.trackChildChange(ku(s,o))}),n.isLeafNode()||n.forEachChild(yt,(s,o)=>{if(e.hasChild(s)){const c=e.getImmediateChild(s);c.equals(o)||r.trackChildChange(Lu(s,o,c))}else r.trackChildChange(vl(s,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Re.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.indexedFilter_=new Xb(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Uu.getStartPost_(e),this.endPost_=Uu.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,o,c){return this.matches(new Fe(n,r))||(r=Re.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,o,c)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Re.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(Re.EMPTY_NODE);const o=this;return n.forEachChild(yt,(c,u)=>{o.matches(new Fe(c,u))||(s=s.updateImmediateChild(c,Re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Uu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,o,c){return this.rangedFilter_.matches(new Fe(n,r))||(r=Re.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,o,c):this.fullLimitUpdateChild_(e,n,r,o,c)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=Re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=Re.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const u=o.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))s=s.updateImmediateChild(u.name,u.node),c++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(Re.EMPTY_NODE);let o;this.reverse_?o=s.getReverseIterator(this.index_):o=s.getIterator(this.index_);let c=0;for(;o.hasNext();){const u=o.getNext();c<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?c++:s=s.updateImmediateChild(u.name,Re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,o){let c;if(this.reverse_){const v=this.index_.getCompare();c=(y,w)=>v(w,y)}else c=this.index_.getCompare();const u=e;ue(u.numChildren()===this.limit_,"");const f=new Fe(n,r),m=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),g=this.rangedFilter_.matches(f);if(u.hasChild(n)){const v=u.getImmediateChild(n);let y=s.getChildAfterChild(this.index_,m,this.reverse_);for(;y!=null&&(y.name===n||u.hasChild(y.name));)y=s.getChildAfterChild(this.index_,y,this.reverse_);const w=y==null?1:c(y,f);if(g&&!r.isEmpty()&&w>=0)return o!=null&&o.trackChildChange(Lu(n,r,v)),u.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(ku(n,v));const _=u.updateImmediateChild(n,Re.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(o!=null&&o.trackChildChange(vl(y.name,y.node)),_.updateImmediateChild(y.name,y.node)):_}}else return r.isEmpty()?e:g&&c(m,f)>=0?(o!=null&&(o.trackChildChange(ku(m.name,m.node)),o.trackChildChange(vl(n,r))),u.updateImmediateChild(n,r).updateImmediateChild(m.name,Re.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ue(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ue(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xi}hasEnd(){return this.endSet_}getIndexEndValue(){return ue(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ue(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ue(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===yt}copy(){const e=new Qb;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function c8(t){return t.loadsAllData()?new Xb(t.getIndex()):t.hasLimit()?new l8(t):new Uu(t)}function u8(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function d8(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function f8(t,e){const n=t.copy();return n.index_=e,n}function g1(t){const e={};if(t.isDefault())return e;let n;if(t.index_===yt?n="$priority":t.index_===CR?n="$value":t.index_===qi?n="$key":(ue(t.index_ instanceof Kb,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Vt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Vt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Vt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Vt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Vt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function v1(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==yt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends pR{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ue(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=cd("p:rest:"),this.listens_={}}listen(e,n,r,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const c=Ah.getListenId_(e,r),u={};this.listens_[c]=u;const f=g1(e._queryParams);this.restRequest_(o+".json",f,(m,g)=>{let v=g;if(m===404&&(v=null,m=null),m===null&&this.onDataUpdate_(o,v,!1,r),ml(this.listens_,c)===u){let y;m?m===401?y="permission_denied":y="rest_error:"+m:y="ok",s(y,null)}})}unlisten(e,n){const r=Ah.getListenId_(e,n);delete this.listens_[r]}get(e){const n=g1(e._queryParams),r=e._path.toString(),s=new nd;return this.restRequest_(r+".json",n,(o,c)=>{let u=c;o===404&&(u=null,o=null),o===null?(this.onDataUpdate_(r,u,!1,null),s.resolve(u)):s.reject(new Error(u))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(n.auth=s.accessToken),o&&o.token&&(n.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Pl(n);this.log_("Sending REST request for "+c);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(r&&u.readyState===4){this.log_("REST Response for "+c+" received. status:",u.status,"response:",u.responseText);let f=null;if(u.status>=200&&u.status<300){try{f=Au(u.responseText)}catch{wn("Failed to parse JSON response for "+c+": "+u.responseText)}r(null,f)}else u.status!==401&&u.status!==404&&wn("Got unsuccessful REST response for "+c+" Status: "+u.status),r(u.status);r=null}},u.open("GET",c,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(){this.rootNode_=Re.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(){return{value:null,children:new Map}}function TR(t,e,n){if(Ue(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=He(e);t.children.has(r)||t.children.set(r,Dh());const s=t.children.get(r);e=ft(e),TR(s,e,n)}}function xy(t,e,n){t.value!==null?n(e,t.value):m8(t,(r,s)=>{const o=new rt(e.toString()+"/"+r);xy(s,o,n)})}function m8(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&sn(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=10*1e3,g8=30*1e3,v8=5*60*1e3;class y8{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new p8(e);const r=y1+(g8-y1)*Math.random();wu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;sn(e,(s,o)=>{o>0&&sa(this.statsToReport_,s)&&(n[s]=o,r=!0)}),r&&this.server_.reportStats(n),wu(this.reportStats_.bind(this),Math.floor(Math.random()*2*v8))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Tr||(Tr={}));function Zb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Jb(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function e0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Tr.ACK_USER_WRITE,this.source=Zb()}operationForChild(e){if(Ue(this.path)){if(this.affectedTree.value!=null)return ue(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new rt(e));return new Oh(Qe(),n,this.revert)}}else return ue(He(this.path)===e,"operationForChild called for unrelated child."),new Oh(ft(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n){this.source=e,this.path=n,this.type=Tr.LISTEN_COMPLETE}operationForChild(e){return Ue(this.path)?new Fu(this.source,Qe()):new Fu(this.source,ft(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Tr.OVERWRITE}operationForChild(e){return Ue(this.path)?new Qi(this.source,Qe(),this.snap.getImmediateChild(e)):new Qi(this.source,ft(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Tr.MERGE}operationForChild(e){if(Ue(this.path)){const n=this.children.subtree(new rt(e));return n.isEmpty()?null:n.value?new Qi(this.source,Qe(),n.value):new yl(this.source,Qe(),n)}else return ue(He(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yl(this.source,ft(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ue(e))return this.isFullyInitialized()&&!this.filtered_;const n=He(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function x8(t,e,n,r){const s=[],o=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(o8(c.childName,c.snapshotNode))}),au(t,s,"child_removed",e,r,n),au(t,s,"child_added",e,r,n),au(t,s,"child_moved",o,r,n),au(t,s,"child_changed",e,r,n),au(t,s,"value",e,r,n),s}function au(t,e,n,r,s,o){const c=r.filter(u=>u.type===n);c.sort((u,f)=>_8(t,u,f)),c.forEach(u=>{const f=w8(t,u,o);s.forEach(m=>{m.respondsTo(u.type)&&e.push(m.createEvent(f,t.query_))})})}function w8(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function _8(t,e,n){if(e.childName==null||n.childName==null)throw jl("Should only compare child_ events.");const r=new Fe(e.childName,e.snapshotNode),s=new Fe(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t,e){return{eventCache:t,serverCache:e}}function _u(t,e,n,r){return hm(new qs(e,n,r),t.serverCache)}function RR(t,e,n,r){return hm(t.eventCache,new qs(e,n,r))}function Mh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Zi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sv;const E8=()=>(Sv||(Sv=new Mn(iB)),Sv);class dt{static fromObject(e){let n=new dt(null);return sn(e,(r,s)=>{n=n.set(new rt(r),s)}),n}constructor(e,n=E8()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Qe(),value:this.value};if(Ue(e))return null;{const r=He(e),s=this.children.get(r);if(s!==null){const o=s.findRootMostMatchingPathAndValue(ft(e),n);return o!=null?{path:St(new rt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ue(e))return this;{const n=He(e),r=this.children.get(n);return r!==null?r.subtree(ft(e)):new dt(null)}}set(e,n){if(Ue(e))return new dt(n,this.children);{const r=He(e),o=(this.children.get(r)||new dt(null)).set(ft(e),n),c=this.children.insert(r,o);return new dt(this.value,c)}}remove(e){if(Ue(e))return this.children.isEmpty()?new dt(null):new dt(null,this.children);{const n=He(e),r=this.children.get(n);if(r){const s=r.remove(ft(e));let o;return s.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,s),this.value===null&&o.isEmpty()?new dt(null):new dt(this.value,o)}else return this}}get(e){if(Ue(e))return this.value;{const n=He(e),r=this.children.get(n);return r?r.get(ft(e)):null}}setTree(e,n){if(Ue(e))return n;{const r=He(e),o=(this.children.get(r)||new dt(null)).setTree(ft(e),n);let c;return o.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,o),new dt(this.value,c)}}fold(e){return this.fold_(Qe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,o)=>{r[s]=o.fold_(St(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Qe(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(Ue(e))return null;{const o=He(e),c=this.children.get(o);return c?c.findOnPath_(ft(e),St(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Qe(),n)}foreachOnPath_(e,n,r){if(Ue(e))return this;{this.value&&r(n,this.value);const s=He(e),o=this.children.get(s);return o?o.foreachOnPath_(ft(e),St(n,s),r):new dt(null)}}foreach(e){this.foreach_(Qe(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(St(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.writeTree_=e}static empty(){return new Ir(new dt(null))}}function Eu(t,e,n){if(Ue(e))return new Ir(new dt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let o=r.value;const c=xn(s,e);return o=o.updateChild(c,n),new Ir(t.writeTree_.set(s,o))}else{const s=new dt(n),o=t.writeTree_.setTree(e,s);return new Ir(o)}}}function wy(t,e,n){let r=t;return sn(n,(s,o)=>{r=Eu(r,St(e,s),o)}),r}function b1(t,e){if(Ue(e))return Ir.empty();{const n=t.writeTree_.setTree(e,new dt(null));return new Ir(n)}}function _y(t,e){return oo(t,e)!=null}function oo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(xn(n.path,e)):null}function x1(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(yt,(r,s)=>{e.push(new Fe(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Fe(r,s.value))}),e}function Us(t,e){if(Ue(e))return t;{const n=oo(t,e);return n!=null?new Ir(new dt(n)):new Ir(t.writeTree_.subtree(e))}}function Ey(t){return t.writeTree_.isEmpty()}function bl(t,e){return IR(Qe(),t.writeTree_,e)}function IR(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(ue(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=IR(St(t,s),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(St(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t,e){return MR(e,t)}function S8(t,e,n,r,s){ue(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Eu(t.visibleWrites,e,n)),t.lastWriteId=r}function C8(t,e,n,r){ue(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=wy(t.visibleWrites,e,n),t.lastWriteId=r}function N8(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function T8(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);ue(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,o=!1,c=t.allWrites.length-1;for(;s&&c>=0;){const u=t.allWrites[c];u.visible&&(c>=n&&R8(u,r.path)?s=!1:fr(r.path,u.path)&&(o=!0)),c--}if(s){if(o)return I8(t),!0;if(r.snap)t.visibleWrites=b1(t.visibleWrites,r.path);else{const u=r.children;sn(u,f=>{t.visibleWrites=b1(t.visibleWrites,St(r.path,f))})}return!0}else return!1}function R8(t,e){if(t.snap)return fr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&fr(St(t.path,n),e))return!0;return!1}function I8(t){t.visibleWrites=AR(t.allWrites,A8,Qe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function A8(t){return t.visible}function AR(t,e,n){let r=Ir.empty();for(let s=0;s<t.length;++s){const o=t[s];if(e(o)){const c=o.path;let u;if(o.snap)fr(n,c)?(u=xn(n,c),r=Eu(r,u,o.snap)):fr(c,n)&&(u=xn(c,n),r=Eu(r,Qe(),o.snap.getChild(u)));else if(o.children){if(fr(n,c))u=xn(n,c),r=wy(r,u,o.children);else if(fr(c,n))if(u=xn(c,n),Ue(u))r=wy(r,Qe(),o.children);else{const f=ml(o.children,He(u));if(f){const m=f.getChild(ft(u));r=Eu(r,Qe(),m)}}}else throw jl("WriteRecord should have .snap or .children")}}return r}function DR(t,e,n,r,s){if(!r&&!s){const o=oo(t.visibleWrites,e);if(o!=null)return o;{const c=Us(t.visibleWrites,e);if(Ey(c))return n;if(n==null&&!_y(c,Qe()))return null;{const u=n||Re.EMPTY_NODE;return bl(c,u)}}}else{const o=Us(t.visibleWrites,e);if(!s&&Ey(o))return n;if(!s&&n==null&&!_y(o,Qe()))return null;{const c=function(m){return(m.visible||s)&&(!r||!~r.indexOf(m.writeId))&&(fr(m.path,e)||fr(e,m.path))},u=AR(t.allWrites,c,e),f=n||Re.EMPTY_NODE;return bl(u,f)}}}function D8(t,e,n){let r=Re.EMPTY_NODE;const s=oo(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(yt,(o,c)=>{r=r.updateImmediateChild(o,c)}),r;if(n){const o=Us(t.visibleWrites,e);return n.forEachChild(yt,(c,u)=>{const f=bl(Us(o,new rt(c)),u);r=r.updateImmediateChild(c,f)}),x1(o).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}else{const o=Us(t.visibleWrites,e);return x1(o).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}}function O8(t,e,n,r,s){ue(r||s,"Either existingEventSnap or existingServerSnap must exist");const o=St(e,n);if(_y(t.visibleWrites,o))return null;{const c=Us(t.visibleWrites,o);return Ey(c)?s.getChild(n):bl(c,s.getChild(n))}}function M8(t,e,n,r){const s=St(e,n),o=oo(t.visibleWrites,s);if(o!=null)return o;if(r.isCompleteForChild(n)){const c=Us(t.visibleWrites,s);return bl(c,r.getNode().getImmediateChild(n))}else return null}function j8(t,e){return oo(t.visibleWrites,e)}function P8(t,e,n,r,s,o,c){let u;const f=Us(t.visibleWrites,e),m=oo(f,Qe());if(m!=null)u=m;else if(n!=null)u=bl(f,n);else return[];if(u=u.withIndex(c),!u.isEmpty()&&!u.isLeafNode()){const g=[],v=c.getCompare(),y=o?u.getReverseIteratorFrom(r,c):u.getIteratorFrom(r,c);let w=y.getNext();for(;w&&g.length<s;)v(w,r)!==0&&g.push(w),w=y.getNext();return g}else return[]}function k8(){return{visibleWrites:Ir.empty(),allWrites:[],lastWriteId:-1}}function jh(t,e,n,r){return DR(t.writeTree,t.treePath,e,n,r)}function t0(t,e){return D8(t.writeTree,t.treePath,e)}function w1(t,e,n,r){return O8(t.writeTree,t.treePath,e,n,r)}function Ph(t,e){return j8(t.writeTree,St(t.treePath,e))}function L8(t,e,n,r,s,o){return P8(t.writeTree,t.treePath,e,n,r,s,o)}function n0(t,e,n){return M8(t.writeTree,t.treePath,e,n)}function OR(t,e){return MR(St(t.treePath,e),t.writeTree)}function MR(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ue(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ue(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const o=s.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Lu(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,ku(r,s.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,vl(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Lu(r,e.snapshotNode,s.oldSnap));else throw jl("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const jR=new F8;class r0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new qs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return n0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zi(this.viewCache_),o=L8(this.writes_,s,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(t){return{filter:t}}function V8(t,e){ue(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ue(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function z8(t,e,n,r,s){const o=new U8;let c,u;if(n.type===Tr.OVERWRITE){const m=n;m.source.fromUser?c=Sy(t,e,m.path,m.snap,r,s,o):(ue(m.source.fromServer,"Unknown source."),u=m.source.tagged||e.serverCache.isFiltered()&&!Ue(m.path),c=kh(t,e,m.path,m.snap,r,s,u,o))}else if(n.type===Tr.MERGE){const m=n;m.source.fromUser?c=$8(t,e,m.path,m.children,r,s,o):(ue(m.source.fromServer,"Unknown source."),u=m.source.tagged||e.serverCache.isFiltered(),c=Cy(t,e,m.path,m.children,r,s,u,o))}else if(n.type===Tr.ACK_USER_WRITE){const m=n;m.revert?c=G8(t,e,m.path,r,s,o):c=q8(t,e,m.path,m.affectedTree,r,s,o)}else if(n.type===Tr.LISTEN_COMPLETE)c=W8(t,e,n.path,r,o);else throw jl("Unknown operation type: "+n.type);const f=o.getChanges();return H8(e,c,f),{viewCache:c,changes:f}}function H8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Mh(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(NR(Mh(e)))}}function PR(t,e,n,r,s,o){const c=e.eventCache;if(Ph(r,n)!=null)return e;{let u,f;if(Ue(n))if(ue(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Zi(e),g=m instanceof Re?m:Re.EMPTY_NODE,v=t0(r,g);u=t.filter.updateFullNode(e.eventCache.getNode(),v,o)}else{const m=jh(r,Zi(e));u=t.filter.updateFullNode(e.eventCache.getNode(),m,o)}else{const m=He(n);if(m===".priority"){ue($s(n)===1,"Can't have a priority with additional path components");const g=c.getNode();f=e.serverCache.getNode();const v=w1(r,n,g,f);v!=null?u=t.filter.updatePriority(g,v):u=c.getNode()}else{const g=ft(n);let v;if(c.isCompleteForChild(m)){f=e.serverCache.getNode();const y=w1(r,n,c.getNode(),f);y!=null?v=c.getNode().getImmediateChild(m).updateChild(g,y):v=c.getNode().getImmediateChild(m)}else v=n0(r,m,e.serverCache);v!=null?u=t.filter.updateChild(c.getNode(),m,v,g,s,o):u=c.getNode()}}return _u(e,u,c.isFullyInitialized()||Ue(n),t.filter.filtersNodes())}}function kh(t,e,n,r,s,o,c,u){const f=e.serverCache;let m;const g=c?t.filter:t.filter.getIndexedFilter();if(Ue(n))m=g.updateFullNode(f.getNode(),r,null);else if(g.filtersNodes()&&!f.isFiltered()){const w=f.getNode().updateChild(n,r);m=g.updateFullNode(f.getNode(),w,null)}else{const w=He(n);if(!f.isCompleteForPath(n)&&$s(n)>1)return e;const E=ft(n),S=f.getNode().getImmediateChild(w).updateChild(E,r);w===".priority"?m=g.updatePriority(f.getNode(),S):m=g.updateChild(f.getNode(),w,S,E,jR,null)}const v=RR(e,m,f.isFullyInitialized()||Ue(n),g.filtersNodes()),y=new r0(s,v,o);return PR(t,v,n,s,y,u)}function Sy(t,e,n,r,s,o,c){const u=e.eventCache;let f,m;const g=new r0(s,e,o);if(Ue(n))m=t.filter.updateFullNode(e.eventCache.getNode(),r,c),f=_u(e,m,!0,t.filter.filtersNodes());else{const v=He(n);if(v===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),r),f=_u(e,m,u.isFullyInitialized(),u.isFiltered());else{const y=ft(n),w=u.getNode().getImmediateChild(v);let E;if(Ue(y))E=r;else{const _=g.getCompleteChild(v);_!=null?Wb(y)===".priority"&&_.getChild(vR(y)).isEmpty()?E=_:E=_.updateChild(y,r):E=Re.EMPTY_NODE}if(w.equals(E))f=e;else{const _=t.filter.updateChild(u.getNode(),v,E,y,g,c);f=_u(e,_,u.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function _1(t,e){return t.eventCache.isCompleteForChild(e)}function $8(t,e,n,r,s,o,c){let u=e;return r.foreach((f,m)=>{const g=St(n,f);_1(e,He(g))&&(u=Sy(t,u,g,m,s,o,c))}),r.foreach((f,m)=>{const g=St(n,f);_1(e,He(g))||(u=Sy(t,u,g,m,s,o,c))}),u}function E1(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Cy(t,e,n,r,s,o,c,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,m;Ue(n)?m=r:m=new dt(null).setTree(n,r);const g=e.serverCache.getNode();return m.children.inorderTraversal((v,y)=>{if(g.hasChild(v)){const w=e.serverCache.getNode().getImmediateChild(v),E=E1(t,w,y);f=kh(t,f,new rt(v),E,s,o,c,u)}}),m.children.inorderTraversal((v,y)=>{const w=!e.serverCache.isCompleteForChild(v)&&y.value===null;if(!g.hasChild(v)&&!w){const E=e.serverCache.getNode().getImmediateChild(v),_=E1(t,E,y);f=kh(t,f,new rt(v),_,s,o,c,u)}}),f}function q8(t,e,n,r,s,o,c){if(Ph(s,n)!=null)return e;const u=e.serverCache.isFiltered(),f=e.serverCache;if(r.value!=null){if(Ue(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return kh(t,e,n,f.getNode().getChild(n),s,o,u,c);if(Ue(n)){let m=new dt(null);return f.getNode().forEachChild(qi,(g,v)=>{m=m.set(new rt(g),v)}),Cy(t,e,n,m,s,o,u,c)}else return e}else{let m=new dt(null);return r.foreach((g,v)=>{const y=St(n,g);f.isCompleteForPath(y)&&(m=m.set(g,f.getNode().getChild(y)))}),Cy(t,e,n,m,s,o,u,c)}}function W8(t,e,n,r,s){const o=e.serverCache,c=RR(e,o.getNode(),o.isFullyInitialized()||Ue(n),o.isFiltered());return PR(t,c,n,r,jR,s)}function G8(t,e,n,r,s,o){let c;if(Ph(r,n)!=null)return e;{const u=new r0(r,e,s),f=e.eventCache.getNode();let m;if(Ue(n)||He(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=jh(r,Zi(e));else{const v=e.serverCache.getNode();ue(v instanceof Re,"serverChildren would be complete if leaf node"),g=t0(r,v)}g=g,m=t.filter.updateFullNode(f,g,o)}else{const g=He(n);let v=n0(r,g,e.serverCache);v==null&&e.serverCache.isCompleteForChild(g)&&(v=f.getImmediateChild(g)),v!=null?m=t.filter.updateChild(f,g,v,ft(n),u,o):e.eventCache.getNode().hasChild(g)?m=t.filter.updateChild(f,g,Re.EMPTY_NODE,ft(n),u,o):m=f,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=jh(r,Zi(e)),c.isLeafNode()&&(m=t.filter.updateFullNode(m,c,o)))}return c=e.serverCache.isFullyInitialized()||Ph(r,Qe())!=null,_u(e,m,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new Xb(r.getIndex()),o=c8(r);this.processor_=B8(o);const c=n.serverCache,u=n.eventCache,f=s.updateFullNode(Re.EMPTY_NODE,c.getNode(),null),m=o.updateFullNode(Re.EMPTY_NODE,u.getNode(),null),g=new qs(f,c.isFullyInitialized(),s.filtersNodes()),v=new qs(m,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=hm(v,g),this.eventGenerator_=new b8(this.query_)}get query(){return this.query_}}function K8(t){return t.viewCache_.serverCache.getNode()}function X8(t){return Mh(t.viewCache_)}function Q8(t,e){const n=Zi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ue(e)&&!n.getImmediateChild(He(e)).isEmpty())?n.getChild(e):null}function S1(t){return t.eventRegistrations_.length===0}function Z8(t,e){t.eventRegistrations_.push(e)}function C1(t,e,n){const r=[];if(n){ue(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(n,s);c&&r.push(c)})}if(e){let s=[];for(let o=0;o<t.eventRegistrations_.length;++o){const c=t.eventRegistrations_[o];if(!c.matches(e))s.push(c);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function N1(t,e,n,r){e.type===Tr.MERGE&&e.source.queryId!==null&&(ue(Zi(t.viewCache_),"We should always have a full cache before handling merges"),ue(Mh(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,o=z8(t.processor_,s,e,n,r);return V8(t.processor_,o.viewCache),ue(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,kR(t,o.changes,o.viewCache.eventCache.getNode(),null)}function J8(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(yt,(o,c)=>{r.push(vl(o,c))}),n.isFullyInitialized()&&r.push(NR(n.getNode())),kR(t,r,n.getNode(),e)}function kR(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return x8(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh;class LR{constructor(){this.views=new Map}}function eV(t){ue(!Lh,"__referenceConstructor has already been defined"),Lh=t}function tV(){return ue(Lh,"Reference.ts has not been loaded"),Lh}function nV(t){return t.views.size===0}function a0(t,e,n,r){const s=e.source.queryId;if(s!==null){const o=t.views.get(s);return ue(o!=null,"SyncTree gave us an op for an invalid query."),N1(o,e,n,r)}else{let o=[];for(const c of t.views.values())o=o.concat(N1(c,e,n,r));return o}}function UR(t,e,n,r,s){const o=e._queryIdentifier,c=t.views.get(o);if(!c){let u=jh(n,s?r:null),f=!1;u?f=!0:r instanceof Re?(u=t0(n,r),f=!1):(u=Re.EMPTY_NODE,f=!1);const m=hm(new qs(u,f,!1),new qs(r,s,!1));return new Y8(e,m)}return c}function rV(t,e,n,r,s,o){const c=UR(t,e,r,s,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),Z8(c,n),J8(c,n)}function aV(t,e,n,r){const s=e._queryIdentifier,o=[];let c=[];const u=Ws(t);if(s==="default")for(const[f,m]of t.views.entries())c=c.concat(C1(m,n,r)),S1(m)&&(t.views.delete(f),m.query._queryParams.loadsAllData()||o.push(m.query));else{const f=t.views.get(s);f&&(c=c.concat(C1(f,n,r)),S1(f)&&(t.views.delete(s),f.query._queryParams.loadsAllData()||o.push(f.query)))}return u&&!Ws(t)&&o.push(new(tV())(e._repo,e._path)),{removed:o,events:c}}function FR(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Fs(t,e){let n=null;for(const r of t.views.values())n=n||Q8(r,e);return n}function BR(t,e){if(e._queryParams.loadsAllData())return pm(t);{const r=e._queryIdentifier;return t.views.get(r)}}function VR(t,e){return BR(t,e)!=null}function Ws(t){return pm(t)!=null}function pm(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh;function sV(t){ue(!Uh,"__referenceConstructor has already been defined"),Uh=t}function iV(){return ue(Uh,"Reference.ts has not been loaded"),Uh}let oV=1;class T1{constructor(e){this.listenProvider_=e,this.syncPointTree_=new dt(null),this.pendingWriteTree_=k8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zR(t,e,n,r,s){return S8(t.pendingWriteTree_,e,n,r,s),s?Bl(t,new Qi(Zb(),e,n)):[]}function lV(t,e,n,r){C8(t.pendingWriteTree_,e,n,r);const s=dt.fromObject(n);return Bl(t,new yl(Zb(),e,s))}function Os(t,e,n=!1){const r=N8(t.pendingWriteTree_,e);if(T8(t.pendingWriteTree_,e)){let o=new dt(null);return r.snap!=null?o=o.set(Qe(),!0):sn(r.children,c=>{o=o.set(new rt(c),!0)}),Bl(t,new Oh(r.path,o,n))}else return[]}function dd(t,e,n){return Bl(t,new Qi(Jb(),e,n))}function cV(t,e,n){const r=dt.fromObject(n);return Bl(t,new yl(Jb(),e,r))}function uV(t,e){return Bl(t,new Fu(Jb(),e))}function dV(t,e,n){const r=i0(t,n);if(r){const s=o0(r),o=s.path,c=s.queryId,u=xn(o,e),f=new Fu(e0(c),u);return l0(t,o,f)}else return[]}function HR(t,e,n,r,s=!1){const o=e._path,c=t.syncPointTree_.get(o);let u=[];if(c&&(e._queryIdentifier==="default"||VR(c,e))){const f=aV(c,e,n,r);nV(c)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const m=f.removed;if(u=f.events,!s){const g=m.findIndex(y=>y._queryParams.loadsAllData())!==-1,v=t.syncPointTree_.findOnPath(o,(y,w)=>Ws(w));if(g&&!v){const y=t.syncPointTree_.subtree(o);if(!y.isEmpty()){const w=pV(y);for(let E=0;E<w.length;++E){const _=w[E],S=_.query,C=GR(t,_);t.listenProvider_.startListening(Su(S),Bu(t,S),C.hashFn,C.onComplete)}}}!v&&m.length>0&&!r&&(g?t.listenProvider_.stopListening(Su(e),null):m.forEach(y=>{const w=t.queryToTagMap.get(gm(y));t.listenProvider_.stopListening(Su(y),w)}))}gV(t,m)}return u}function $R(t,e,n,r){const s=i0(t,r);if(s!=null){const o=o0(s),c=o.path,u=o.queryId,f=xn(c,e),m=new Qi(e0(u),f,n);return l0(t,c,m)}else return[]}function fV(t,e,n,r){const s=i0(t,r);if(s){const o=o0(s),c=o.path,u=o.queryId,f=xn(c,e),m=dt.fromObject(n),g=new yl(e0(u),f,m);return l0(t,c,g)}else return[]}function hV(t,e,n,r=!1){const s=e._path;let o=null,c=!1;t.syncPointTree_.foreachOnPath(s,(y,w)=>{const E=xn(y,s);o=o||Fs(w,E),c=c||Ws(w)});let u=t.syncPointTree_.get(s);u?(c=c||Ws(u),o=o||Fs(u,Qe())):(u=new LR,t.syncPointTree_=t.syncPointTree_.set(s,u));let f;o!=null?f=!0:(f=!1,o=Re.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((w,E)=>{const _=Fs(E,Qe());_&&(o=o.updateImmediateChild(w,_))}));const m=VR(u,e);if(!m&&!e._queryParams.loadsAllData()){const y=gm(e);ue(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const w=vV();t.queryToTagMap.set(y,w),t.tagToQueryMap.set(w,y)}const g=mm(t.pendingWriteTree_,s);let v=rV(u,e,n,g,o,f);if(!m&&!c&&!r){const y=BR(u,e);v=v.concat(yV(t,e,y))}return v}function s0(t,e,n){const s=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(c,u)=>{const f=xn(c,e),m=Fs(u,f);if(m)return m});return DR(s,e,o,n,!0)}function mV(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(m,g)=>{const v=xn(m,n);r=r||Fs(g,v)});let s=t.syncPointTree_.get(n);s?r=r||Fs(s,Qe()):(s=new LR,t.syncPointTree_=t.syncPointTree_.set(n,s));const o=r!=null,c=o?new qs(r,!0,!1):null,u=mm(t.pendingWriteTree_,e._path),f=UR(s,e,u,o?c.getNode():Re.EMPTY_NODE,o);return X8(f)}function Bl(t,e){return qR(e,t.syncPointTree_,null,mm(t.pendingWriteTree_,Qe()))}function qR(t,e,n,r){if(Ue(t.path))return WR(t,e,n,r);{const s=e.get(Qe());n==null&&s!=null&&(n=Fs(s,Qe()));let o=[];const c=He(t.path),u=t.operationForChild(c),f=e.children.get(c);if(f&&u){const m=n?n.getImmediateChild(c):null,g=OR(r,c);o=o.concat(qR(u,f,m,g))}return s&&(o=o.concat(a0(s,t,r,n))),o}}function WR(t,e,n,r){const s=e.get(Qe());n==null&&s!=null&&(n=Fs(s,Qe()));let o=[];return e.children.inorderTraversal((c,u)=>{const f=n?n.getImmediateChild(c):null,m=OR(r,c),g=t.operationForChild(c);g&&(o=o.concat(WR(g,u,f,m)))}),s&&(o=o.concat(a0(s,t,r,n))),o}function GR(t,e){const n=e.query,r=Bu(t,n);return{hashFn:()=>(K8(e)||Re.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?dV(t,n._path,r):uV(t,n._path);{const o=cB(s,n);return HR(t,n,null,o)}}}}function Bu(t,e){const n=gm(e);return t.queryToTagMap.get(n)}function gm(t){return t._path.toString()+"$"+t._queryIdentifier}function i0(t,e){return t.tagToQueryMap.get(e)}function o0(t){const e=t.indexOf("$");return ue(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new rt(t.substr(0,e))}}function l0(t,e,n){const r=t.syncPointTree_.get(e);ue(r,"Missing sync point for query tag that we're tracking");const s=mm(t.pendingWriteTree_,e);return a0(r,n,s,null)}function pV(t){return t.fold((e,n,r)=>{if(n&&Ws(n))return[pm(n)];{let s=[];return n&&(s=FR(n)),sn(r,(o,c)=>{s=s.concat(c)}),s}})}function Su(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(iV())(t._repo,t._path):t}function gV(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=gm(r),o=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(o)}}}function vV(){return oV++}function yV(t,e,n){const r=e._path,s=Bu(t,e),o=GR(t,n),c=t.listenProvider_.startListening(Su(e),s,o.hashFn,o.onComplete),u=t.syncPointTree_.subtree(r);if(s)ue(!Ws(u.value),"If we're adding a query, it shouldn't be shadowed");else{const f=u.fold((m,g,v)=>{if(!Ue(m)&&g&&Ws(g))return[pm(g).query];{let y=[];return g&&(y=y.concat(FR(g).map(w=>w.query))),sn(v,(w,E)=>{y=y.concat(E)}),y}});for(let m=0;m<f.length;++m){const g=f[m];t.listenProvider_.stopListening(Su(g),Bu(t,g))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new c0(n)}node(){return this.node_}}class u0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=St(this.path_,e);return new u0(this.syncTree_,n)}node(){return s0(this.syncTree_,this.path_)}}const bV=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},R1=function(t,e,n){if(!t||typeof t!="object")return t;if(ue(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return xV(t[".sv"],e,n);if(typeof t[".sv"]=="object")return wV(t[".sv"],e);ue(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},xV=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ue(!1,"Unexpected server value: "+t)}},wV=function(t,e,n){t.hasOwnProperty("increment")||ue(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ue(!1,"Unexpected increment value: "+r);const s=e.node();if(ue(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const c=s.getValue();return typeof c!="number"?r:c+r},YR=function(t,e,n,r){return d0(e,new u0(n,t),r)},KR=function(t,e,n){return d0(t,new c0(e),n)};function d0(t,e,n){const r=t.getPriority().val(),s=R1(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const c=t,u=R1(c.getValue(),e,n);return u!==c.getValue()||s!==c.getPriority().val()?new Xt(u,Bt(s)):t}else{const c=t;return o=c,s!==c.getPriority().val()&&(o=o.updatePriority(new Xt(s))),c.forEachChild(yt,(u,f)=>{const m=d0(f,e.getImmediateChild(u),n);m!==f&&(o=o.updateImmediateChild(u,m))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function h0(t,e){let n=e instanceof rt?e:new rt(e),r=t,s=He(n);for(;s!==null;){const o=ml(r.node.children,s)||{children:{},childCount:0};r=new f0(s,r,o),n=ft(n),s=He(n)}return r}function Vl(t){return t.node.value}function XR(t,e){t.node.value=e,Ny(t)}function QR(t){return t.node.childCount>0}function _V(t){return Vl(t)===void 0&&!QR(t)}function vm(t,e){sn(t.node.children,(n,r)=>{e(new f0(n,t,r))})}function ZR(t,e,n,r){n&&e(t),vm(t,s=>{ZR(s,e,!0)})}function EV(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function fd(t){return new rt(t.parent===null?t.name:fd(t.parent)+"/"+t.name)}function Ny(t){t.parent!==null&&SV(t.parent,t.name,t)}function SV(t,e,n){const r=_V(n),s=sa(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Ny(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Ny(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=/[\[\].#$\/\u0000-\u001F\u007F]/,NV=/[\[\].#$\u0000-\u001F\u007F]/,Cv=10*1024*1024,m0=function(t){return typeof t=="string"&&t.length!==0&&!CV.test(t)},JR=function(t){return typeof t=="string"&&t.length!==0&&!NV.test(t)},TV=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),JR(t)},Ty=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Vb(t)||t&&typeof t=="object"&&sa(t,".sv")},hd=function(t,e,n,r){r&&e===void 0||ym(im(t,"value"),e,n)},ym=function(t,e,n){const r=n instanceof rt?new HB(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ji(r));if(typeof e=="function")throw new Error(t+"contains a function "+ji(r)+" with contents = "+e.toString());if(Vb(e))throw new Error(t+"contains "+e.toString()+" "+ji(r));if(typeof e=="string"&&e.length>Cv/3&&om(e)>Cv)throw new Error(t+"contains a string greater than "+Cv+" utf8 bytes "+ji(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(sn(e,(c,u)=>{if(c===".value")s=!0;else if(c!==".priority"&&c!==".sv"&&(o=!0,!m0(c)))throw new Error(t+" contains an invalid key ("+c+") "+ji(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$B(r,c),ym(t,u,r),qB(r)}),s&&o)throw new Error(t+' contains ".value" child '+ji(r)+" in addition to actual children.")}},RV=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=Pu(r);for(let c=0;c<o.length;c++)if(!(o[c]===".priority"&&c===o.length-1)){if(!m0(o[c]))throw new Error(t+"contains an invalid key ("+o[c]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(zB);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&fr(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},IV=function(t,e,n,r){const s=im(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const o=[];sn(e,(c,u)=>{const f=new rt(c);if(ym(s,u,St(n,f)),Wb(f)===".priority"&&!Ty(u))throw new Error(s+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),RV(s,o)},p0=function(t,e,n,r){if(!JR(n))throw new Error(im(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},AV=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),p0(t,e,n)},g0=function(t,e){if(He(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},DV=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!m0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!TV(n))throw new Error(im(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function v0(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],o=s.getPath();n!==null&&!yR(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(s)}n&&t.eventLists_.push(n)}function pr(t,e,n){v0(t,n),MV(t,r=>fr(r,e)||fr(e,r))}function MV(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const o=s.path;e(o)?(jV(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function jV(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();xu&&an("event: "+n.toString()),Fl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV="repo_interrupt",kV=25;class LV{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new OV,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dh(),this.transactionQueueTree_=new f0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function UV(t,e,n){if(t.stats_=$b(t.repoInfo_),t.forceRestClient_||hB())t.server_=new Ah(t.repoInfo_,(r,s,o,c)=>{I1(t,r,s,o,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>A1(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Vt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ka(t.repoInfo_,e,(r,s,o,c)=>{I1(t,r,s,o,c)},r=>{A1(t,r)},r=>{FV(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=yB(t.repoInfo_,()=>new y8(t.stats_,t.server_)),t.infoData_=new h8,t.infoSyncTree_=new T1({startListening:(r,s,o,c)=>{let u=[];const f=t.infoData_.getNode(r._path);return f.isEmpty()||(u=dd(t.infoSyncTree_,r._path,f),setTimeout(()=>{c("ok")},0)),u},stopListening:()=>{}}),y0(t,"connected",!1),t.serverSyncTree_=new T1({startListening:(r,s,o,c)=>(t.server_.listen(r,o,s,(u,f)=>{const m=c(u,f);pr(t.eventQueue_,r._path,m)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function eI(t){const n=t.infoData_.getNode(new rt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function bm(t){return bV({timestamp:eI(t)})}function I1(t,e,n,r,s){t.dataUpdateCount++;const o=new rt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(s)if(r){const f=xh(n,m=>Bt(m));c=fV(t.serverSyncTree_,o,f,s)}else{const f=Bt(n);c=$R(t.serverSyncTree_,o,f,s)}else if(r){const f=xh(n,m=>Bt(m));c=cV(t.serverSyncTree_,o,f)}else{const f=Bt(n);c=dd(t.serverSyncTree_,o,f)}let u=o;c.length>0&&(u=xl(t,o)),pr(t.eventQueue_,u,c)}function A1(t,e){y0(t,"connected",e),e===!1&&HV(t)}function FV(t,e){sn(e,(n,r)=>{y0(t,n,r)})}function y0(t,e,n){const r=new rt("/.info/"+e),s=Bt(n);t.infoData_.updateSnapshot(r,s);const o=dd(t.infoSyncTree_,r,s);pr(t.eventQueue_,r,o)}function b0(t){return t.nextWriteId_++}function BV(t,e,n){const r=mV(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const o=Bt(s).withIndex(e._queryParams.getIndex());hV(t.serverSyncTree_,e,n,!0);let c;if(e._queryParams.loadsAllData())c=dd(t.serverSyncTree_,e._path,o);else{const u=Bu(t.serverSyncTree_,e);c=$R(t.serverSyncTree_,e._path,o,u)}return pr(t.eventQueue_,e._path,c),HR(t.serverSyncTree_,e,n,null,!0),o},s=>(md(t,"get for query "+Vt(e)+" failed: "+s),Promise.reject(new Error(s))))}function VV(t,e,n,r,s){md(t,"set",{path:e.toString(),value:n,priority:r});const o=bm(t),c=Bt(n,r),u=s0(t.serverSyncTree_,e),f=KR(c,u,o),m=b0(t),g=zR(t.serverSyncTree_,e,f,m,!0);v0(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(y,w)=>{const E=y==="ok";E||wn("set at "+e+" failed: "+y);const _=Os(t.serverSyncTree_,m,!E);pr(t.eventQueue_,e,_),Ry(t,s,y,w)});const v=w0(t,e);xl(t,v),pr(t.eventQueue_,v,[])}function zV(t,e,n,r){md(t,"update",{path:e.toString(),value:n});let s=!0;const o=bm(t),c={};if(sn(n,(u,f)=>{s=!1,c[u]=YR(St(e,u),Bt(f),t.serverSyncTree_,o)}),s)an("update() called with empty data.  Don't do anything."),Ry(t,r,"ok",void 0);else{const u=b0(t),f=lV(t.serverSyncTree_,e,c,u);v0(t.eventQueue_,f),t.server_.merge(e.toString(),n,(m,g)=>{const v=m==="ok";v||wn("update at "+e+" failed: "+m);const y=Os(t.serverSyncTree_,u,!v),w=y.length>0?xl(t,e):e;pr(t.eventQueue_,w,y),Ry(t,r,m,g)}),sn(n,m=>{const g=w0(t,St(e,m));xl(t,g)}),pr(t.eventQueue_,e,[])}}function HV(t){md(t,"onDisconnectEvents");const e=bm(t),n=Dh();xy(t.onDisconnect_,Qe(),(s,o)=>{const c=YR(s,o,t.serverSyncTree_,e);TR(n,s,c)});let r=[];xy(n,Qe(),(s,o)=>{r=r.concat(dd(t.serverSyncTree_,s,o));const c=w0(t,s);xl(t,c)}),t.onDisconnect_=Dh(),pr(t.eventQueue_,Qe(),r)}function $V(t){t.persistentConnection_&&t.persistentConnection_.interrupt(PV)}function md(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),an(n,...e)}function Ry(t,e,n,r){e&&Fl(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let o=s;r&&(o+=": "+r);const c=new Error(o);c.code=s,e(c)}})}function tI(t,e,n){return s0(t.serverSyncTree_,e,n)||Re.EMPTY_NODE}function x0(t,e=t.transactionQueueTree_){if(e||xm(t,e),Vl(e)){const n=rI(t,e);ue(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&qV(t,fd(e),n)}else QR(e)&&vm(e,n=>{x0(t,n)})}function qV(t,e,n){const r=n.map(m=>m.currentWriteId),s=tI(t,e,r);let o=s;const c=s.hash();for(let m=0;m<n.length;m++){const g=n[m];ue(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const v=xn(e,g.path);o=o.updateChild(v,g.currentOutputSnapshotRaw)}const u=o.val(!0),f=e;t.server_.put(f.toString(),u,m=>{md(t,"transaction put response",{path:f.toString(),status:m});let g=[];if(m==="ok"){const v=[];for(let y=0;y<n.length;y++)n[y].status=2,g=g.concat(Os(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&v.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();xm(t,h0(t.transactionQueueTree_,e)),x0(t,t.transactionQueueTree_),pr(t.eventQueue_,e,g);for(let y=0;y<v.length;y++)Fl(v[y])}else{if(m==="datastale")for(let v=0;v<n.length;v++)n[v].status===3?n[v].status=4:n[v].status=0;else{wn("transaction at "+f.toString()+" failed: "+m);for(let v=0;v<n.length;v++)n[v].status=4,n[v].abortReason=m}xl(t,e)}},c)}function xl(t,e){const n=nI(t,e),r=fd(n),s=rI(t,n);return WV(t,s,r),r}function WV(t,e,n){if(e.length===0)return;const r=[];let s=[];const c=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const f=e[u],m=xn(n,f.path);let g=!1,v;if(ue(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)g=!0,v=f.abortReason,s=s.concat(Os(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=kV)g=!0,v="maxretry",s=s.concat(Os(t.serverSyncTree_,f.currentWriteId,!0));else{const y=tI(t,f.path,c);f.currentInputSnapshot=y;const w=e[u].update(y.val());if(w!==void 0){ym("transaction failed: Data returned ",w,f.path);let E=Bt(w);typeof w=="object"&&w!=null&&sa(w,".priority")||(E=E.updatePriority(y.getPriority()));const S=f.currentWriteId,C=bm(t),T=KR(E,y,C);f.currentOutputSnapshotRaw=E,f.currentOutputSnapshotResolved=T,f.currentWriteId=b0(t),c.splice(c.indexOf(S),1),s=s.concat(zR(t.serverSyncTree_,f.path,T,f.currentWriteId,f.applyLocally)),s=s.concat(Os(t.serverSyncTree_,S,!0))}else g=!0,v="nodata",s=s.concat(Os(t.serverSyncTree_,f.currentWriteId,!0))}pr(t.eventQueue_,n,s),s=[],g&&(e[u].status=2,function(y){setTimeout(y,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(v==="nodata"?r.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):r.push(()=>e[u].onComplete(new Error(v),!1,null))))}xm(t,t.transactionQueueTree_);for(let u=0;u<r.length;u++)Fl(r[u]);x0(t,t.transactionQueueTree_)}function nI(t,e){let n,r=t.transactionQueueTree_;for(n=He(e);n!==null&&Vl(r)===void 0;)r=h0(r,n),e=ft(e),n=He(e);return r}function rI(t,e){const n=[];return aI(t,e,n),n.sort((r,s)=>r.order-s.order),n}function aI(t,e,n){const r=Vl(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);vm(e,s=>{aI(t,s,n)})}function xm(t,e){const n=Vl(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,XR(e,n.length>0?n:void 0)}vm(e,r=>{xm(t,r)})}function w0(t,e){const n=fd(nI(t,e)),r=h0(t.transactionQueueTree_,e);return EV(r,s=>{Nv(t,s)}),Nv(t,r),ZR(r,s=>{Nv(t,s)}),n}function Nv(t,e){const n=Vl(e);if(n){const r=[];let s=[],o=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(ue(o===c-1,"All SENT items should be at beginning of queue."),o=c,n[c].status=3,n[c].abortReason="set"):(ue(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),s=s.concat(Os(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&r.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));o===-1?XR(e,void 0):n.length=o+1,pr(t.eventQueue_,fd(e),s);for(let c=0;c<r.length;c++)Fl(r[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function YV(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):wn(`Invalid query segment '${n}' in query '${t}'`)}return e}const D1=function(t,e){const n=KV(t),r=n.namespace;n.domain==="firebase.com"&&za(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&za("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||aB();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new lR(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new rt(n.pathString)}},KV=function(t){let e="",n="",r="",s="",o="",c=!0,u="https",f=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(u=t.substring(0,m-1),t=t.substring(m+2));let g=t.indexOf("/");g===-1&&(g=t.length);let v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(g,v)),g<v&&(s=GV(t.substring(g,v)));const y=YV(t.substring(Math.min(t.length,v)));m=e.indexOf(":"),m>=0?(c=u==="https"||u==="wss",f=parseInt(e.substring(m+1),10)):m=e.length;const w=e.slice(0,m);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),o=r}"ns"in y&&(o=y.ns)}return{host:e,port:f,domain:n,subdomain:r,secure:c,scheme:u,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",XV=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const o=new Array(8);for(s=7;s>=0;s--)o[s]=O1.charAt(n%64),n=Math.floor(n/64);ue(n===0,"Cannot push at time == 0");let c=o.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)c+=O1.charAt(e[s]);return ue(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Vt(this.snapshot.exportVal())}}class ZV{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ue(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return Ue(this._path)?null:Wb(this._path)}get ref(){return new Ka(this._repo,this._path)}get _queryIdentifier(){const e=v1(this._queryParams),n=zb(e);return n==="{}"?"default":n}get _queryObject(){return v1(this._queryParams)}isEqual(e){if(e=Jt(e),!(e instanceof zl))return!1;const n=this._repo===e._repo,r=yR(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+VB(this._path)}}function ez(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function _0(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===qi){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Xi)throw new Error(r);if(typeof e!="string")throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==Hs)throw new Error(r);if(typeof n!="string")throw new Error(s)}}else if(t.getIndex()===yt){if(e!=null&&!Ty(e)||n!=null&&!Ty(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ue(t.getIndex()instanceof Kb||t.getIndex()===CR,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function sI(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ka extends zl{constructor(e,n){super(e,n,new Qb,!1)}get parent(){const e=vR(this._path);return e===null?null:new Ka(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Vu{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new rt(e),r=zu(this.ref,e);return new Vu(this._node.getChild(n),r,yt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Vu(s,zu(this.ref,r),yt)))}hasChild(e){const n=new rt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function fu(t,e){return t=Jt(t),t._checkNotDeleted("ref"),e!==void 0?zu(t._root,e):t._root}function zu(t,e){return t=Jt(t),He(t._path)===null?AV("child","path",e):p0("child","path",e),new Ka(t._repo,St(t._path,e))}function tz(t,e){t=Jt(t),g0("push",t._path),hd("push",e,t._path,!0);const n=eI(t._repo),r=XV(n),s=zu(t,r),o=zu(t,r);let c;return c=Promise.resolve(o),s.then=c.then.bind(c),s.catch=c.then.bind(c,void 0),s}function nz(t){return g0("remove",t._path),Iy(t,null)}function Iy(t,e){t=Jt(t),g0("set",t._path),hd("set",e,t._path,!1);const n=new nd;return VV(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function rz(t,e){IV("update",e,t._path);const n=new nd;return zV(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function nl(t){t=Jt(t);const e=new JV(()=>{}),n=new E0(e);return BV(t._repo,t,n).then(r=>new Vu(r,new Ka(t._repo,t._path),t._queryParams.getIndex()))}class E0{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new QV("value",this,new Vu(e.snapshotNode,new Ka(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ZV(this,e,n):null}matches(e){return e instanceof E0?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class wm{}class az extends wm{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){hd("endAt",this._value,e._path,!0);const n=d8(e._queryParams,this._value,this._key);if(sI(n),_0(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new zl(e._repo,e._path,n,e._orderByCalled)}}class sz extends wm{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){hd("startAt",this._value,e._path,!0);const n=u8(e._queryParams,this._value,this._key);if(sI(n),_0(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new zl(e._repo,e._path,n,e._orderByCalled)}}class iz extends wm{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){ez(e,"orderByChild");const n=new rt(this._path);if(Ue(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Kb(n),s=f8(e._queryParams,r);return _0(s),new zl(e._repo,e._path,s,!0)}}function hu(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return p0("orderByChild","path",t),new iz(t)}class oz extends wm{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(hd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new az(this._value,this._key)._apply(new sz(this._value,this._key)._apply(e))}}function iI(t,e){return new oz(t,e)}function mu(t,...e){let n=Jt(t);for(const r of e)n=r._apply(n);return n}eV(Ka);sV(Ka);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz="FIREBASE_DATABASE_EMULATOR_HOST",Ay={};let cz=!1;function uz(t,e,n,r){t.repoInfo_=new lR(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function dz(t,e,n,r,s){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||za("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),an("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=D1(o,s),u=c.repoInfo,f;typeof process<"u"&&JS&&(f=JS[lz]),f?(o=`http://${f}?ns=${u.namespace}`,c=D1(o,s),u=c.repoInfo):c.repoInfo.secure;const m=new pB(t.name,t.options,e);DV("Invalid Firebase Database URL",c),Ue(c.path)||za("Database URL must point to the root of a Firebase Database (not including a child path).");const g=hz(u,t,m,new mB(t,n));return new mz(g,t)}function fz(t,e){const n=Ay[e];(!n||n[t.key]!==t)&&za(`Database ${e}(${t.repoInfo_}) has already been deleted.`),$V(t),delete n[t.key]}function hz(t,e,n,r){let s=Ay[e.name];s||(s={},Ay[e.name]=s);let o=s[t.toURLString()];return o&&za("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new LV(t,cz,n,r),s[t.toURLString()]=o,o}class mz{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(UV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ka(this._repo,Qe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(fz(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&za("Cannot call "+e+" on a deleted database.")}}function pz(t=dT(),e){const n=Db(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=u3("database");r&&gz(n,...r)}return n}function gz(t,e,n,r={}){t=Jt(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&Gi(r,o.repoInfo_.emulatorOptions))return;za("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&za('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new oh(oh.OWNER);else if(r.mockUserToken){const u=typeof r.mockUserToken=="string"?r.mockUserToken:d3(r.mockUserToken,t.app.options.projectId);c=new oh(u)}uz(o,s,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(t){Z6(kl),pl(new Yi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return dz(r,s,o,n)},"PUBLIC").setMultipleInstances(!0)),ks(e1,t1,t),ks(e1,t1,"esm2017")}ka.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ka.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};vz();const yz={apiKey:"AIzaSyCrq7Am9kiE3levq6hOGBuh_wb3lGxfdT0",authDomain:"nrd-sgo.firebaseapp.com",databaseURL:"https://nrd-sgo-default-rtdb.firebaseio.com",projectId:"nrd-sgo",storageBucket:"nrd-sgo.appspot.com",messagingSenderId:"386786255981",appId:"1:386786255981:web:95cabd428cf0ca17c58b64"},oI=uT(yz),Ta=pz(oI),rl=Y6(oI),al=class al{constructor(){Ve(this,"currentUser",null);Ve(this,"authStateReady");Ve(this,"authStateResolver");if(al.instance)return al.instance;this.authStateReady=new Promise(e=>{this.authStateResolver=e}),LF(rl,e=>{this.currentUser=e,console.log("Auth state initialized:",{user:e==null?void 0:e.email,isAuthenticated:!!e}),this.authStateResolver()}),al.instance=this}async login(e,n,r=!1){try{await jF(rl,r?BT:Ub),await MF(rl,e,n),r?localStorage.setItem("rememberMe","true"):localStorage.removeItem("rememberMe")}catch(s){throw console.error("Login error:",s),s}}async logout(){try{await UF(rl),localStorage.removeItem("rememberMe")}catch(e){throw console.error("Logout error:",e),e}}getCurrentUser(){return this.currentUser}async isAuthenticated(){return await this.authStateReady,!!this.currentUser}async waitForAuthReady(){return this.authStateReady}wasRemembered(){return localStorage.getItem("rememberMe")==="true"}};Ve(al,"instance");let Fh=al;function bz(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const xz=t=>{switch(t){case"success":return Ez;case"info":return Cz;case"warning":return Sz;case"error":return Nz;default:return null}},wz=Array(12).fill(0),_z=({visible:t,className:e})=>D.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},D.createElement("div",{className:"sonner-spinner"},wz.map((n,r)=>D.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Ez=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Sz=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Cz=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Nz=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Tz=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},D.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Rz=()=>{const[t,e]=D.useState(document.hidden);return D.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Dy=1;class Iz{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Dy++,c=this.toasts.find(f=>f.id===o),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(f=>f.id===o?(this.publish({...f,...e,id:o,title:r}),{...f,...e,id:o,dismissible:u,title:r}):f):this.addToast({title:r,...s,dismissible:u,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0}))),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,c;const u=s.then(async m=>{if(c=["resolve",m],D.isValidElement(m))o=!1,this.create({id:r,type:"default",message:m});else if(Dz(m)&&!m.ok){o=!1;const v=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,y=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,w=typeof v=="object"?v:{message:v};this.create({id:r,type:"error",description:y,...w})}else if(m instanceof Error){o=!1;const v=typeof n.error=="function"?await n.error(m):n.error,y=typeof n.description=="function"?await n.description(m):n.description,w=typeof v=="object"?v:{message:v};this.create({id:r,type:"error",description:y,...w})}else if(n.success!==void 0){o=!1;const v=typeof n.success=="function"?await n.success(m):n.success,y=typeof n.description=="function"?await n.description(m):n.description,w=typeof v=="object"?v:{message:v};this.create({id:r,type:"success",description:y,...w})}}).catch(async m=>{if(c=["reject",m],n.error!==void 0){o=!1;const g=typeof n.error=="function"?await n.error(m):n.error,v=typeof n.description=="function"?await n.description(m):n.description,y=typeof g=="object"?g:{message:g};this.create({id:r,type:"error",description:v,...y})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((m,g)=>u.then(()=>c[0]==="reject"?g(c[1]):m(c[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||Dy++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const On=new Iz,Az=(t,e)=>{const n=(e==null?void 0:e.id)||Dy++;return On.addToast({title:t,...e,id:n}),n},Dz=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Oz=Az,Mz=()=>On.toasts,jz=()=>On.getActiveToasts(),ke=Object.assign(Oz,{success:On.success,info:On.info,warning:On.warning,error:On.error,custom:On.custom,message:On.message,promise:On.promise,dismiss:On.dismiss,loading:On.loading},{getHistory:Mz,getToasts:jz});bz("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function zf(t){return t.label!==void 0}const Pz=3,kz="24px",Lz="16px",M1=4e3,Uz=356,Fz=14,Bz=45,Vz=200;function Yr(...t){return t.filter(Boolean).join(" ")}function zz(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const Hz=t=>{var e,n,r,s,o,c,u,f,m;const{invert:g,toast:v,unstyled:y,interacting:w,setHeights:E,visibleToasts:_,heights:S,index:C,toasts:T,expanded:R,removeToast:M,defaultRichColors:A,closeButton:I,style:k,cancelButtonStyle:U,actionButtonStyle:F,className:Y="",descriptionClassName:se="",duration:de,position:W,gap:Q,expandByDefault:Z,classNames:j,icons:K,closeButtonAriaLabel:B="Close toast"}=t,[H,P]=D.useState(null),[$,re]=D.useState(null),[ae,oe]=D.useState(!1),[J,ee]=D.useState(!1),[ce,fe]=D.useState(!1),[me,pe]=D.useState(!1),[We,tt]=D.useState(!1),[Ye,Ht]=D.useState(0),[Nn,yr]=D.useState(0),br=D.useRef(v.duration||de||M1),la=D.useRef(null),$t=D.useRef(null),Zl=C===0,Jl=C+1<=_,Tn=v.type,Ja=v.dismissible!==!1,Jn=v.className||"",Ym=v.descriptionClassName||"",ri=D.useMemo(()=>S.findIndex(Ie=>Ie.toastId===v.id)||0,[S,v.id]),Cd=D.useMemo(()=>{var Ie;return(Ie=v.closeButton)!=null?Ie:I},[v.closeButton,I]),ai=D.useMemo(()=>v.duration||de||M1,[v.duration,de]),ec=D.useRef(0),ca=D.useRef(0),Nd=D.useRef(0),es=D.useRef(null),[si,hn]=W.split("-"),Td=D.useMemo(()=>S.reduce((Ie,pt,xt)=>xt>=ri?Ie:Ie+pt.height,0),[S,ri]),xr=Rz(),mn=v.invert||g,tc=Tn==="loading";ca.current=D.useMemo(()=>ri*Q+Td,[ri,Td]),D.useEffect(()=>{br.current=ai},[ai]),D.useEffect(()=>{oe(!0)},[]),D.useEffect(()=>{const Ie=$t.current;if(Ie){const pt=Ie.getBoundingClientRect().height;return yr(pt),E(xt=>[{toastId:v.id,height:pt,position:v.position},...xt]),()=>E(xt=>xt.filter(pn=>pn.toastId!==v.id))}},[E,v.id]),D.useLayoutEffect(()=>{if(!ae)return;const Ie=$t.current,pt=Ie.style.height;Ie.style.height="auto";const xt=Ie.getBoundingClientRect().height;Ie.style.height=pt,yr(xt),E(pn=>pn.find(Dt=>Dt.toastId===v.id)?pn.map(Dt=>Dt.toastId===v.id?{...Dt,height:xt}:Dt):[{toastId:v.id,height:xt,position:v.position},...pn])},[ae,v.title,v.description,E,v.id]);const Br=D.useCallback(()=>{ee(!0),Ht(ca.current),E(Ie=>Ie.filter(pt=>pt.toastId!==v.id)),setTimeout(()=>{M(v)},Vz)},[v,M,E,ca]);D.useEffect(()=>{if(v.promise&&Tn==="loading"||v.duration===1/0||v.type==="loading")return;let Ie;return R||w||xr?(()=>{if(Nd.current<ec.current){const pn=new Date().getTime()-ec.current;br.current=br.current-pn}Nd.current=new Date().getTime()})():(()=>{br.current!==1/0&&(ec.current=new Date().getTime(),Ie=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Br()},br.current))})(),()=>clearTimeout(Ie)},[R,w,v,Tn,xr,Br]),D.useEffect(()=>{v.delete&&Br()},[Br,v.delete]);function Km(){var Ie;if(K!=null&&K.loading){var pt;return D.createElement("div",{className:Yr(j==null?void 0:j.loader,v==null||(pt=v.classNames)==null?void 0:pt.loader,"sonner-loader"),"data-visible":Tn==="loading"},K.loading)}return D.createElement(_z,{className:Yr(j==null?void 0:j.loader,v==null||(Ie=v.classNames)==null?void 0:Ie.loader),visible:Tn==="loading"})}var ii,oi;return D.createElement("li",{tabIndex:0,ref:$t,className:Yr(Y,Jn,j==null?void 0:j.toast,v==null||(e=v.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[Tn],v==null||(n=v.classNames)==null?void 0:n[Tn]),"data-sonner-toast":"","data-rich-colors":(ii=v.richColors)!=null?ii:A,"data-styled":!(v.jsx||v.unstyled||y),"data-mounted":ae,"data-promise":!!v.promise,"data-swiped":We,"data-removed":J,"data-visible":Jl,"data-y-position":si,"data-x-position":hn,"data-index":C,"data-front":Zl,"data-swiping":ce,"data-dismissible":Ja,"data-type":Tn,"data-invert":mn,"data-swipe-out":me,"data-swipe-direction":$,"data-expanded":!!(R||Z&&ae),style:{"--index":C,"--toasts-before":C,"--z-index":T.length-C,"--offset":`${J?Ye:ca.current}px`,"--initial-height":Z?"auto":`${Nn}px`,...k,...v.style},onDragEnd:()=>{fe(!1),P(null),es.current=null},onPointerDown:Ie=>{tc||!Ja||(la.current=new Date,Ht(ca.current),Ie.target.setPointerCapture(Ie.pointerId),Ie.target.tagName!=="BUTTON"&&(fe(!0),es.current={x:Ie.clientX,y:Ie.clientY}))},onPointerUp:()=>{var Ie,pt,xt;if(me||!Ja)return;es.current=null;const pn=Number(((Ie=$t.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),li=Number(((pt=$t.current)==null?void 0:pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Dt=new Date().getTime()-((xt=la.current)==null?void 0:xt.getTime()),on=H==="x"?pn:li,Vr=Math.abs(on)/Dt;if(Math.abs(on)>=Bz||Vr>.11){Ht(ca.current),v.onDismiss==null||v.onDismiss.call(v,v),re(H==="x"?pn>0?"right":"left":li>0?"down":"up"),Br(),pe(!0);return}else{var Ln,Rn;(Ln=$t.current)==null||Ln.style.setProperty("--swipe-amount-x","0px"),(Rn=$t.current)==null||Rn.style.setProperty("--swipe-amount-y","0px")}tt(!1),fe(!1),P(null)},onPointerMove:Ie=>{var pt,xt,pn;if(!es.current||!Ja||((pt=window.getSelection())==null?void 0:pt.toString().length)>0)return;const Dt=Ie.clientY-es.current.y,on=Ie.clientX-es.current.x;var Vr;const Ln=(Vr=t.swipeDirections)!=null?Vr:zz(W);!H&&(Math.abs(on)>1||Math.abs(Dt)>1)&&P(Math.abs(on)>Math.abs(Dt)?"x":"y");let Rn={x:0,y:0};const nc=zr=>1/(1.5+Math.abs(zr)/20);if(H==="y"){if(Ln.includes("top")||Ln.includes("bottom"))if(Ln.includes("top")&&Dt<0||Ln.includes("bottom")&&Dt>0)Rn.y=Dt;else{const zr=Dt*nc(Dt);Rn.y=Math.abs(zr)<Math.abs(Dt)?zr:Dt}}else if(H==="x"&&(Ln.includes("left")||Ln.includes("right")))if(Ln.includes("left")&&on<0||Ln.includes("right")&&on>0)Rn.x=on;else{const zr=on*nc(on);Rn.x=Math.abs(zr)<Math.abs(on)?zr:on}(Math.abs(Rn.x)>0||Math.abs(Rn.y)>0)&&tt(!0),(xt=$t.current)==null||xt.style.setProperty("--swipe-amount-x",`${Rn.x}px`),(pn=$t.current)==null||pn.style.setProperty("--swipe-amount-y",`${Rn.y}px`)}},Cd&&!v.jsx&&Tn!=="loading"?D.createElement("button",{"aria-label":B,"data-disabled":tc,"data-close-button":!0,onClick:tc||!Ja?()=>{}:()=>{Br(),v.onDismiss==null||v.onDismiss.call(v,v)},className:Yr(j==null?void 0:j.closeButton,v==null||(r=v.classNames)==null?void 0:r.closeButton)},(oi=K==null?void 0:K.close)!=null?oi:Tz):null,Tn||v.icon||v.promise?D.createElement("div",{"data-icon":"",className:Yr(j==null?void 0:j.icon,v==null||(s=v.classNames)==null?void 0:s.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Km():null,v.type!=="loading"?v.icon||(K==null?void 0:K[Tn])||xz(Tn):null):null,D.createElement("div",{"data-content":"",className:Yr(j==null?void 0:j.content,v==null||(o=v.classNames)==null?void 0:o.content)},D.createElement("div",{"data-title":"",className:Yr(j==null?void 0:j.title,v==null||(c=v.classNames)==null?void 0:c.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?D.createElement("div",{"data-description":"",className:Yr(se,Ym,j==null?void 0:j.description,v==null||(u=v.classNames)==null?void 0:u.description)},typeof v.description=="function"?v.description():v.description):null),D.isValidElement(v.cancel)?v.cancel:v.cancel&&zf(v.cancel)?D.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||U,onClick:Ie=>{zf(v.cancel)&&Ja&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,Ie),Br())},className:Yr(j==null?void 0:j.cancelButton,v==null||(f=v.classNames)==null?void 0:f.cancelButton)},v.cancel.label):null,D.isValidElement(v.action)?v.action:v.action&&zf(v.action)?D.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||F,onClick:Ie=>{zf(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,Ie),!Ie.defaultPrevented&&Br())},className:Yr(j==null?void 0:j.actionButton,v==null||(m=v.classNames)==null?void 0:m.actionButton)},v.action.label):null)};function j1(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function $z(t,e){const n={};return[t,e].forEach((r,s)=>{const o=s===1,c=o?"--mobile-offset":"--offset",u=o?Lz:kz;function f(m){["top","right","bottom","left"].forEach(g=>{n[`${c}-${g}`]=typeof m=="number"?`${m}px`:m})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(m=>{r[m]===void 0?n[`${c}-${m}`]=u:n[`${c}-${m}`]=typeof r[m]=="number"?`${r[m]}px`:r[m]}):f(u)}),n}const qz=D.forwardRef(function(e,n){const{invert:r,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:u,className:f,offset:m,mobileOffset:g,theme:v="light",richColors:y,duration:w,style:E,visibleToasts:_=Pz,toastOptions:S,dir:C=j1(),gap:T=Fz,icons:R,containerAriaLabel:M="Notifications"}=e,[A,I]=D.useState([]),k=D.useMemo(()=>Array.from(new Set([s].concat(A.filter($=>$.position).map($=>$.position)))),[A,s]),[U,F]=D.useState([]),[Y,se]=D.useState(!1),[de,W]=D.useState(!1),[Q,Z]=D.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=D.useRef(null),K=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=D.useRef(null),H=D.useRef(!1),P=D.useCallback($=>{I(re=>{var ae;return(ae=re.find(oe=>oe.id===$.id))!=null&&ae.delete||On.dismiss($.id),re.filter(({id:oe})=>oe!==$.id)})},[]);return D.useEffect(()=>On.subscribe($=>{if($.dismiss){const re=A.map(ae=>ae.id===$.id?{...ae,delete:!0}:ae);requestAnimationFrame(()=>{I(re)});return}setTimeout(()=>{SN.flushSync(()=>{I(re=>{const ae=re.findIndex(oe=>oe.id===$.id);return ae!==-1?[...re.slice(0,ae),{...re[ae],...$},...re.slice(ae+1)]:[$,...re]})})})}),[A]),D.useEffect(()=>{if(v!=="system"){Z(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:re})=>{Z(re?"dark":"light")})}catch{$.addListener(({matches:ae})=>{try{Z(ae?"dark":"light")}catch(oe){console.error(oe)}})}},[v]),D.useEffect(()=>{A.length<=1&&se(!1)},[A]),D.useEffect(()=>{const $=re=>{var ae;if(o.every(ee=>re[ee]||re.code===ee)){var J;se(!0),(J=j.current)==null||J.focus()}re.code==="Escape"&&(document.activeElement===j.current||(ae=j.current)!=null&&ae.contains(document.activeElement))&&se(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[o]),D.useEffect(()=>{if(j.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,H.current=!1)}},[j.current]),D.createElement("section",{ref:n,"aria-label":`${M} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map(($,re)=>{var ae;const[oe,J]=$.split("-");return A.length?D.createElement("ol",{key:$,dir:C==="auto"?j1():C,tabIndex:-1,ref:j,className:f,"data-sonner-toaster":!0,"data-sonner-theme":Q,"data-y-position":oe,"data-lifted":Y&&A.length>1&&!c,"data-x-position":J,style:{"--front-toast-height":`${((ae=U[0])==null?void 0:ae.height)||0}px`,"--width":`${Uz}px`,"--gap":`${T}px`,...E,...$z(m,g)},onBlur:ee=>{H.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(H.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||H.current||(H.current=!0,B.current=ee.relatedTarget)},onMouseEnter:()=>se(!0),onMouseMove:()=>se(!0),onMouseLeave:()=>{de||se(!1)},onDragEnd:()=>se(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},A.filter(ee=>!ee.position&&re===0||ee.position===$).map((ee,ce)=>{var fe,me;return D.createElement(Hz,{key:ee.id,icons:R,index:ce,toast:ee,defaultRichColors:y,duration:(fe=S==null?void 0:S.duration)!=null?fe:w,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:r,visibleToasts:_,closeButton:(me=S==null?void 0:S.closeButton)!=null?me:u,interacting:de,position:$,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:P,toasts:A.filter(pe=>pe.position==ee.position),heights:U.filter(pe=>pe.position==ee.position),setHeights:F,expandByDefault:c,gap:T,expanded:Y,swipeDirections:e.swipeDirections})})):null}))}),lI="/nrd-sgo/assets/logo-Dugcj0T7.jpg",Wz=()=>{const t=Zt(),e=kr(),[n,r]=x.useState(!1),[s,o]=x.useState({email:"",password:""}),[c,u]=x.useState(document.documentElement.classList.contains("dark")),f=()=>{const v=!c;u(v),v?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")},m=async v=>{var y;v.preventDefault(),r(!0);try{await new Fh().login(s.email,s.password),console.log("Login successful");const E=((y=e.state)==null?void 0:y.from)||"/dashboard";t(E,{replace:!0})}catch(w){console.error("Login error:",w),ke.error("Error al iniciar sesión. Por favor, verifique sus credenciales.")}finally{r(!1)}},g=v=>{const{name:y,value:w}=v.target;o({...s,[y]:w})};return h.jsxs("div",{className:"min-h-screen flex flex-col bg-background relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:h.jsx("div",{className:"absolute -top-[40rem] left-1/2 -z-10 transform -translate-x-1/2",children:h.jsx("div",{className:"aspect-[1200/800] w-[80rem] bg-gradient-to-tr from-primary/20 to-primary-foreground/20 opacity-30 blur-3xl"})})}),h.jsx("div",{className:"absolute top-4 right-4",children:h.jsx(be,{variant:"ghost",size:"icon",onClick:f,className:"rounded-full",children:c?h.jsx(ry,{className:"h-5 w-5"}):h.jsx(ey,{className:"h-5 w-5"})})}),h.jsx("div",{className:"flex-1 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:h.jsxs(ht,{className:"w-full max-w-[90%] sm:max-w-md backdrop-blur-sm bg-card/80 shadow-xl",children:[h.jsxs(yn,{className:"space-y-4 text-center pb-6",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:lI,alt:"Logo",className:"h-16 w-16 sm:h-20 sm:w-20 rounded-lg shadow-lg object-cover"})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(bn,{className:"text-xl sm:text-2xl font-bold tracking-tight",children:"Sistema de Gestión Operativa"}),h.jsx(QN,{className:"text-sm sm:text-base",children:"Inicie sesión para continuar"})]})]}),h.jsx(Rt,{children:h.jsxs("form",{onSubmit:m,className:"space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:h.jsx(dL,{className:"h-4 w-4 text-muted-foreground"})}),h.jsx(fn,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"pl-10 h-11",placeholder:"usuario@ejemplo.com",value:s.email,onChange:g,disabled:n})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:h.jsx(Ok,{className:"h-4 w-4 text-muted-foreground"})}),h.jsx(fn,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"pl-10 h-11",placeholder:"••••••••",value:s.password,onChange:g,disabled:n})]})]}),h.jsx(be,{type:"submit",className:"w-full h-11 text-base",disabled:n,children:n?h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Iniciando sesión..."]}):h.jsxs(h.Fragment,{children:[h.jsx(jk,{className:"h-5 w-5 mr-2"}),"Iniciar sesión"]})})]})})]})}),h.jsx("div",{className:"py-4 text-center",children:h.jsxs("p",{className:"text-sm text-muted-foreground",children:["© ",new Date().getFullYear()," Sistema de Gestión Operativa. Todos los derechos reservados."]})})]})};class cI{constructor(e){Ve(this,"order");Ve(this,"type");Ve(this,"products");Ve(this,"recipes");Ve(this,"format");Ve(this,"units");this.order=e.order,this.type=e.type,this.products=e.products,this.recipes=e.recipes,this.format=e.format||"whatsapp",this.units=e.units}wrap(e,n=!1){return this.format==="print"&&n?`<div style="font-size: 14px;"><b>${e}</b></div>`:e}formatDate(e){try{const n=e instanceof Date?e:new Date(e);return kt(n,"dd/MM/yyyy",{locale:Zs})}catch(n){return console.error("Error formatting date:",n),"Fecha no disponible"}}getUnitName(e){var n,r;return e&&((r=(n=this.units)==null?void 0:n.find(s=>s.id===e))==null?void 0:r.name)||"und"}formatWhatsAppHeader(e,n){return`${e} #${n}
Fecha: ${this.formatDate(this.order.orderDate)}
--------------------------------`}formatPrintHeader(e,n){return`<div style="font-size: 14px;"><b>${e} #${n}</b></div><br>Fecha: ${this.formatDate(this.order.orderDate)}<br><div style="border-bottom: 1px solid black; margin: 2px 0;"></div>`}getHeader(){const e=this.order.id.slice(-4).toUpperCase();let n="";switch(this.type){case"customer":n="PEDIDO";break;case"production":n="PRODUCCIÓN";break;case"purchase":n="COMPRA";break}return this.format==="print"?this.formatPrintHeader(n,e):this.formatWhatsAppHeader(n,e)}formatWhatsAppItem(e,n,r){const o=`${e.toString().padStart(2," ")} ${r} `,c=" ".repeat(o.length);if(n.length>35){const u=n.split(" "),f=[];let m="";return u.forEach(g=>{(m+" "+g).length<=35?m+=(m?" ":"")+g:(m&&f.push(m),m=g)}),m&&f.push(m),o+f.join(`
`+c)}return`${o}${n}`}formatPrintItem(e,n,r){const s=e.toString().padStart(2," "),o=n.split(" "),c=[];let u="";return o.forEach(f=>{(u+" "+f).length<=35?u+=(u?" ":"")+f:(u&&c.push(u),u=f)}),u&&c.push(u),`<tr>
      <td style="text-align: right; white-space: nowrap; padding: 0;"><b>${s}</b></td>
      <td style="white-space: nowrap; padding: 0 4px;"><b>${r}</b></td>
      <td style="text-align: left; padding: 0;"><b>${c.join("<br>")}</b></td>
    </tr>`}formatItem(e,n,r){return this.format==="print"?this.formatPrintItem(e,n,r):this.formatWhatsAppItem(e,n,r)}formatWhatsAppItems(e){return e.length>0?`
`+e.join(`
`):""}formatPrintItems(e){return e.length===0?"":'<br><table style="border-collapse: collapse; width: 100%;"><tbody>'+e.join("")+"</tbody></table>"}getItems(){var n,r,s,o;const e=[];if(this.type==="customer"){const c=this.order;(n=c.products)!=null&&n.length&&c.products.forEach(u=>{var v;const f=(v=this.products)==null?void 0:v.find(y=>y.id===u.productId),m=(f==null?void 0:f.name)||"Producto no encontrado",g=this.getUnitName(f==null?void 0:f.salesUnitId);e.push(this.formatItem(u.quantity,m,g))}),(r=c.recipes)!=null&&r.length&&(e.length>0&&this.format==="whatsapp"&&e.push(""),c.recipes.forEach(u=>{var v;const f=(v=this.recipes)==null?void 0:v.find(y=>y.id===u.recipeId),m=(f==null?void 0:f.name)||"Receta no encontrada",g=this.getUnitName(f==null?void 0:f.yieldUnitId);e.push(this.formatItem(u.quantity,m,g))}))}else if(this.type==="production"){const c=this.order;(s=c.recipes)!=null&&s.length&&c.recipes.forEach(u=>{var v;const f=(v=this.recipes)==null?void 0:v.find(y=>y.id===u.recipeId),m=(f==null?void 0:f.name)||"Receta no encontrada",g=this.getUnitName(f==null?void 0:f.yieldUnitId);e.push(this.formatItem(u.quantity,m,g))})}else if(this.type==="purchase"){const c=this.order;(o=c.products)!=null&&o.length&&c.products.forEach(u=>{var v;const f=(v=this.products)==null?void 0:v.find(y=>y.id===u.productId),m=(f==null?void 0:f.name)||"Producto no encontrado",g=this.getUnitName(f==null?void 0:f.purchaseUnitId);e.push(this.formatItem(u.quantity,m,g))})}return this.format==="print"?this.formatPrintItems(e):this.formatWhatsAppItems(e)}formatWhatsAppTotal(e){return e?`

`+e:""}formatPrintTotal(e){return e?"<br><br>"+e:""}getTotal(){var s,o,c,u,f,m,g,v,y,w,E,_;let e=0,n="und",r="";if(this.type==="customer"){const S=this.order,C=((s=S.products)==null?void 0:s.reduce((R,M)=>R+M.quantity,0))||0,T=((o=S.recipes)==null?void 0:o.reduce((R,M)=>R+M.quantity,0))||0;if(C>0){const R=(c=S.products)==null?void 0:c[0],M=(u=this.products)==null?void 0:u.find(I=>I.id===(R==null?void 0:R.productId)),A=this.getUnitName(M==null?void 0:M.salesUnitId);r+=`Total Productos: ${C} ${A}`}if(T>0){const R=(f=S.recipes)==null?void 0:f[0],M=(m=this.recipes)==null?void 0:m.find(I=>I.id===(R==null?void 0:R.recipeId)),A=this.getUnitName(M==null?void 0:M.yieldUnitId);r&&(r+=this.format==="print"?"<br>":`
`),r+=`Total Items: ${T} ${A}`}}else if(this.type==="production"){const S=this.order;e=((g=S.recipes)==null?void 0:g.reduce((T,R)=>T+R.quantity,0))||0;const C=(v=S.recipes)==null?void 0:v[0];if(C){const T=(y=this.recipes)==null?void 0:y.find(R=>R.id===C.recipeId);n=this.getUnitName(T==null?void 0:T.yieldUnitId)}e>0&&(r=`Total Items: ${e} ${n}`)}else if(this.type==="purchase"){const S=this.order;e=((w=S.products)==null?void 0:w.reduce((T,R)=>T+R.quantity,0))||0;const C=(E=S.products)==null?void 0:E[0];if(C){const T=(_=this.products)==null?void 0:_.find(R=>R.id===C.productId);n=this.getUnitName(T==null?void 0:T.purchaseUnitId)}e>0&&(r=`Total Productos: ${e} ${n}`)}return this.format==="print"?this.formatPrintTotal(r):this.formatWhatsAppTotal(r)}toString(){const e=this.getHeader()+this.getItems()+this.getTotal();return this.format==="print"?"<body>"+e+"</body>":e}}function Ae(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function P1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _m(...t){return e=>{let n=!1;const r=t.map(s=>{const o=P1(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():P1(t[s],null)}}}}function It(...t){return x.useCallback(_m(...t),t)}function Gz(t,e){const n=x.createContext(e),r=o=>{const{children:c,...u}=o,f=x.useMemo(()=>u,Object.values(u));return h.jsx(n.Provider,{value:f,children:c})};r.displayName=t+"Provider";function s(o){const c=x.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function Xa(t,e=[]){let n=[];function r(o,c){const u=x.createContext(c),f=n.length;n=[...n,c];const m=v=>{var C;const{scope:y,children:w,...E}=v,_=((C=y==null?void 0:y[t])==null?void 0:C[f])||u,S=x.useMemo(()=>E,Object.values(E));return h.jsx(_.Provider,{value:S,children:w})};m.displayName=o+"Provider";function g(v,y){var _;const w=((_=y==null?void 0:y[t])==null?void 0:_[f])||u,E=x.useContext(w);if(E)return E;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[m,g]}const s=()=>{const o=n.map(c=>x.createContext(c));return function(u){const f=(u==null?void 0:u[t])||o;return x.useMemo(()=>({[`__scope${t}`]:{...u,[t]:f}}),[u,f])}};return s.scopeName=t,[r,Yz(s,...e)]}function Yz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const c=r.reduce((u,{useScope:f,scopeName:m})=>{const v=f(o)[`__scope${m}`];return{...u,...v}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}var Gs=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},Kz=Tu.useId||(()=>{}),Xz=0;function Bs(t){const[e,n]=x.useState(Kz());return Gs(()=>{n(r=>r??String(Xz++))},[t]),e?`radix-${e}`:""}function Or(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Hl({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=Qz({defaultProp:e,onChange:n}),o=t!==void 0,c=o?t:r,u=Or(n),f=x.useCallback(m=>{if(o){const v=typeof m=="function"?m(t):m;v!==t&&u(v)}else s(m)},[o,t,s,u]);return[c,f]}function Qz({defaultProp:t,onChange:e}){const n=x.useState(t),[r]=n,s=x.useRef(r),o=Or(e);return x.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var wl=x.forwardRef((t,e)=>{const{children:n,...r}=t,s=x.Children.toArray(n),o=s.find(Zz);if(o){const c=o.props.children,u=s.map(f=>f===o?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return h.jsx(Oy,{...r,ref:e,children:x.isValidElement(c)?x.cloneElement(c,void 0,u):null})}return h.jsx(Oy,{...r,ref:e,children:n})});wl.displayName="Slot";var Oy=x.forwardRef((t,e)=>{const{children:n,...r}=t;if(x.isValidElement(n)){const s=eH(n),o=Jz(r,n.props);return n.type!==x.Fragment&&(o.ref=e?_m(e,s):s),x.cloneElement(n,o)}return x.Children.count(n)>1?x.Children.only(null):null});Oy.displayName="SlotClone";var uI=({children:t})=>h.jsx(h.Fragment,{children:t});function Zz(t){return x.isValidElement(t)&&t.type===uI}function Jz(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{o(...u),s(...u)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function eH(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var tH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ot=tH.reduce((t,e)=>{const n=x.forwardRef((r,s)=>{const{asChild:o,...c}=r,u=o?wl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(u,{...c,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function dI(t,e){t&&Ju.flushSync(()=>t.dispatchEvent(e))}function nH(t,e=globalThis==null?void 0:globalThis.document){const n=Or(t);x.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var rH="DismissableLayer",My="dismissableLayer.update",aH="dismissableLayer.pointerDownOutside",sH="dismissableLayer.focusOutside",k1,fI=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Em=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:c,onDismiss:u,...f}=t,m=x.useContext(fI),[g,v]=x.useState(null),y=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=x.useState({}),E=It(e,k=>v(k)),_=Array.from(m.layers),[S]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=_.indexOf(S),T=g?_.indexOf(g):-1,R=m.layersWithOutsidePointerEventsDisabled.size>0,M=T>=C,A=lH(k=>{const U=k.target,F=[...m.branches].some(Y=>Y.contains(U));!M||F||(s==null||s(k),c==null||c(k),k.defaultPrevented||u==null||u())},y),I=cH(k=>{const U=k.target;[...m.branches].some(Y=>Y.contains(U))||(o==null||o(k),c==null||c(k),k.defaultPrevented||u==null||u())},y);return nH(k=>{T===m.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&u&&(k.preventDefault(),u()))},y),x.useEffect(()=>{if(g)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(k1=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),L1(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=k1)}},[g,y,n,m]),x.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),L1())},[g,m]),x.useEffect(()=>{const k=()=>w({});return document.addEventListener(My,k),()=>document.removeEventListener(My,k)},[]),h.jsx(ot.div,{...f,ref:E,style:{pointerEvents:R?M?"auto":"none":void 0,...t.style},onFocusCapture:Ae(t.onFocusCapture,I.onFocusCapture),onBlurCapture:Ae(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Ae(t.onPointerDownCapture,A.onPointerDownCapture)})});Em.displayName=rH;var iH="DismissableLayerBranch",oH=x.forwardRef((t,e)=>{const n=x.useContext(fI),r=x.useRef(null),s=It(e,r);return x.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),h.jsx(ot.div,{...t,ref:s})});oH.displayName=iH;function lH(t,e=globalThis==null?void 0:globalThis.document){const n=Or(t),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let f=function(){hI(aH,n,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function cH(t,e=globalThis==null?void 0:globalThis.document){const n=Or(t),r=x.useRef(!1);return x.useEffect(()=>{const s=o=>{o.target&&!r.current&&hI(sH,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function L1(){const t=new CustomEvent(My);document.dispatchEvent(t)}function hI(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?dI(s,o):s.dispatchEvent(o)}var Tv="focusScope.autoFocusOnMount",Rv="focusScope.autoFocusOnUnmount",U1={bubbles:!1,cancelable:!0},uH="FocusScope",S0=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...c}=t,[u,f]=x.useState(null),m=Or(s),g=Or(o),v=x.useRef(null),y=It(e,_=>f(_)),w=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let _=function(R){if(w.paused||!u)return;const M=R.target;u.contains(M)?v.current=M:Ns(v.current,{select:!0})},S=function(R){if(w.paused||!u)return;const M=R.relatedTarget;M!==null&&(u.contains(M)||Ns(v.current,{select:!0}))},C=function(R){if(document.activeElement===document.body)for(const A of R)A.removedNodes.length>0&&Ns(u)};document.addEventListener("focusin",_),document.addEventListener("focusout",S);const T=new MutationObserver(C);return u&&T.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),T.disconnect()}}},[r,u,w.paused]),x.useEffect(()=>{if(u){B1.add(w);const _=document.activeElement;if(!u.contains(_)){const C=new CustomEvent(Tv,U1);u.addEventListener(Tv,m),u.dispatchEvent(C),C.defaultPrevented||(dH(gH(mI(u)),{select:!0}),document.activeElement===_&&Ns(u))}return()=>{u.removeEventListener(Tv,m),setTimeout(()=>{const C=new CustomEvent(Rv,U1);u.addEventListener(Rv,g),u.dispatchEvent(C),C.defaultPrevented||Ns(_??document.body,{select:!0}),u.removeEventListener(Rv,g),B1.remove(w)},0)}}},[u,m,g,w]);const E=x.useCallback(_=>{if(!n&&!r||w.paused)return;const S=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,C=document.activeElement;if(S&&C){const T=_.currentTarget,[R,M]=fH(T);R&&M?!_.shiftKey&&C===M?(_.preventDefault(),n&&Ns(R,{select:!0})):_.shiftKey&&C===R&&(_.preventDefault(),n&&Ns(M,{select:!0})):C===T&&_.preventDefault()}},[n,r,w.paused]);return h.jsx(ot.div,{tabIndex:-1,...c,ref:y,onKeyDown:E})});S0.displayName=uH;function dH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ns(r,{select:e}),document.activeElement!==n)return}function fH(t){const e=mI(t),n=F1(e,t),r=F1(e.reverse(),t);return[n,r]}function mI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function F1(t,e){for(const n of t)if(!hH(n,{upTo:e}))return n}function hH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function mH(t){return t instanceof HTMLInputElement&&"select"in t}function Ns(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&mH(t)&&e&&t.select()}}var B1=pH();function pH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=V1(t,e),t.unshift(e)},remove(e){var n;t=V1(t,e),(n=t[0])==null||n.resume()}}}function V1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function gH(t){return t.filter(e=>e.tagName!=="A")}var vH="Portal",C0=x.forwardRef((t,e)=>{var u;const{container:n,...r}=t,[s,o]=x.useState(!1);Gs(()=>o(!0),[]);const c=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?SN.createPortal(h.jsx(ot.div,{...r,ref:e}),c):null});C0.displayName=vH;function yH(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var Lr=t=>{const{present:e,children:n}=t,r=bH(e),s=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),o=It(r.ref,xH(s));return typeof n=="function"||r.isPresent?x.cloneElement(s,{ref:o}):null};Lr.displayName="Presence";function bH(t){const[e,n]=x.useState(),r=x.useRef({}),s=x.useRef(t),o=x.useRef("none"),c=t?"mounted":"unmounted",[u,f]=yH(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const m=Hf(r.current);o.current=u==="mounted"?m:"none"},[u]),Gs(()=>{const m=r.current,g=s.current;if(g!==t){const y=o.current,w=Hf(m);t?f("MOUNT"):w==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(g&&y!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,f]),Gs(()=>{if(e){let m;const g=e.ownerDocument.defaultView??window,v=w=>{const _=Hf(r.current).includes(w.animationName);if(w.target===e&&_&&(f("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",m=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},y=w=>{w.target===e&&(o.current=Hf(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(m),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:x.useCallback(m=>{m&&(r.current=getComputedStyle(m)),n(m)},[])}}function Hf(t){return(t==null?void 0:t.animationName)||"none"}function xH(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Iv=0;function pI(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??z1()),document.body.insertAdjacentElement("beforeend",t[1]??z1()),Iv++,()=>{Iv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Iv--}},[])}function z1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var lh="right-scroll-bar-position",ch="width-before-scroll-bar",wH="with-scroll-bars-hidden",_H="--removed-body-scroll-bar-size";function Av(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function EH(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var SH=typeof window<"u"?x.useLayoutEffect:x.useEffect,H1=new WeakMap;function CH(t,e){var n=EH(null,function(r){return t.forEach(function(s){return Av(s,r)})});return SH(function(){var r=H1.get(n);if(r){var s=new Set(r),o=new Set(t),c=n.current;s.forEach(function(u){o.has(u)||Av(u,null)}),o.forEach(function(u){s.has(u)||Av(u,c)})}H1.set(n,t)},[t]),n}function NH(t){return t}function TH(t,e){e===void 0&&(e=NH);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var c=e(o,r);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(o){for(r=!0;n.length;){var c=n;n=[],c.forEach(o)}n={push:function(u){return o(u)},filter:function(){return n}}},assignMedium:function(o){r=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(o),c=n}var f=function(){var g=c;c=[],g.forEach(o)},m=function(){return Promise.resolve().then(f)};m(),n={push:function(g){c.push(g),m()},filter:function(g){return c=c.filter(g),n}}}};return s}function RH(t){t===void 0&&(t={});var e=TH(null);return e.options=Jr({async:!0,ssr:!1},t),e}var gI=function(t){var e=t.sideCar,n=ad(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,Jr({},n))};gI.isSideCarExport=!0;function IH(t,e){return t.useMedium(e),gI}var vI=RH(),Dv=function(){},Sm=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:Dv,onWheelCapture:Dv,onTouchMoveCapture:Dv}),s=r[0],o=r[1],c=t.forwardProps,u=t.children,f=t.className,m=t.removeScrollBar,g=t.enabled,v=t.shards,y=t.sideCar,w=t.noIsolation,E=t.inert,_=t.allowPinchZoom,S=t.as,C=S===void 0?"div":S,T=t.gapMode,R=ad(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=y,A=CH([n,e]),I=Jr(Jr({},R),s);return x.createElement(x.Fragment,null,g&&x.createElement(M,{sideCar:vI,removeScrollBar:m,shards:v,noIsolation:w,inert:E,setCallbacks:o,allowPinchZoom:!!_,lockRef:n,gapMode:T}),c?x.cloneElement(x.Children.only(u),Jr(Jr({},I),{ref:A})):x.createElement(C,Jr({},I,{className:f,ref:A}),u))});Sm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sm.classNames={fullWidth:ch,zeroRight:lh};var AH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function DH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=AH();return e&&t.setAttribute("nonce",e),t}function OH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function MH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var jH=function(){var t=0,e=null;return{add:function(n){t==0&&(e=DH())&&(OH(e,n),MH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},PH=function(){var t=jH();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},yI=function(){var t=PH(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},kH={left:0,top:0,right:0,gap:0},Ov=function(t){return parseInt(t||"",10)||0},LH=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Ov(n),Ov(r),Ov(s)]},UH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return kH;var e=LH(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},FH=yI(),ul="data-scroll-locked",BH=function(t,e,n,r){var s=t.left,o=t.top,c=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(wH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(ul,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lh,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(ch,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(lh," .").concat(lh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ch," .").concat(ch,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ul,`] {
    `).concat(_H,": ").concat(u,`px;
  }
`)},$1=function(){var t=parseInt(document.body.getAttribute(ul)||"0",10);return isFinite(t)?t:0},VH=function(){x.useEffect(function(){return document.body.setAttribute(ul,($1()+1).toString()),function(){var t=$1()-1;t<=0?document.body.removeAttribute(ul):document.body.setAttribute(ul,t.toString())}},[])},zH=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;VH();var o=x.useMemo(function(){return UH(s)},[s]);return x.createElement(FH,{styles:BH(o,!e,s,n?"":"!important")})},jy=!1;if(typeof window<"u")try{var $f=Object.defineProperty({},"passive",{get:function(){return jy=!0,!0}});window.addEventListener("test",$f,$f),window.removeEventListener("test",$f,$f)}catch{jy=!1}var Xo=jy?{passive:!1}:!1,HH=function(t){return t.tagName==="TEXTAREA"},bI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!HH(t)&&n[e]==="visible")},$H=function(t){return bI(t,"overflowY")},qH=function(t){return bI(t,"overflowX")},q1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=xI(t,r);if(s){var o=wI(t,r),c=o[1],u=o[2];if(c>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},WH=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},GH=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},xI=function(t,e){return t==="v"?$H(e):qH(e)},wI=function(t,e){return t==="v"?WH(e):GH(e)},YH=function(t,e){return t==="h"&&e==="rtl"?-1:1},KH=function(t,e,n,r,s){var o=YH(t,window.getComputedStyle(e).direction),c=o*r,u=n.target,f=e.contains(u),m=!1,g=c>0,v=0,y=0;do{var w=wI(t,u),E=w[0],_=w[1],S=w[2],C=_-S-o*E;(E||C)&&xI(t,u)&&(v+=C,y+=E),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(g&&Math.abs(v)<1||!g&&Math.abs(y)<1)&&(m=!0),m},qf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},W1=function(t){return[t.deltaX,t.deltaY]},G1=function(t){return t&&"current"in t?t.current:t},XH=function(t,e){return t[0]===e[0]&&t[1]===e[1]},QH=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ZH=0,Qo=[];function JH(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),s=x.useState(ZH++)[0],o=x.useState(yI)[0],c=x.useRef(t);x.useEffect(function(){c.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var _=kU([t.lockRef.current],(t.shards||[]).map(G1),!0).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=x.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!c.current.allowPinchZoom;var C=qf(_),T=n.current,R="deltaX"in _?_.deltaX:T[0]-C[0],M="deltaY"in _?_.deltaY:T[1]-C[1],A,I=_.target,k=Math.abs(R)>Math.abs(M)?"h":"v";if("touches"in _&&k==="h"&&I.type==="range")return!1;var U=q1(k,I);if(!U)return!0;if(U?A=k:(A=k==="v"?"h":"v",U=q1(k,I)),!U)return!1;if(!r.current&&"changedTouches"in _&&(R||M)&&(r.current=A),!A)return!0;var F=r.current||A;return KH(F,S,_,F==="h"?R:M)},[]),f=x.useCallback(function(_){var S=_;if(!(!Qo.length||Qo[Qo.length-1]!==o)){var C="deltaY"in S?W1(S):qf(S),T=e.current.filter(function(A){return A.name===S.type&&(A.target===S.target||S.target===A.shadowParent)&&XH(A.delta,C)})[0];if(T&&T.should){S.cancelable&&S.preventDefault();return}if(!T){var R=(c.current.shards||[]).map(G1).filter(Boolean).filter(function(A){return A.contains(S.target)}),M=R.length>0?u(S,R[0]):!c.current.noIsolation;M&&S.cancelable&&S.preventDefault()}}},[]),m=x.useCallback(function(_,S,C,T){var R={name:_,delta:S,target:C,should:T,shadowParent:e$(C)};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(M){return M!==R})},1)},[]),g=x.useCallback(function(_){n.current=qf(_),r.current=void 0},[]),v=x.useCallback(function(_){m(_.type,W1(_),_.target,u(_,t.lockRef.current))},[]),y=x.useCallback(function(_){m(_.type,qf(_),_.target,u(_,t.lockRef.current))},[]);x.useEffect(function(){return Qo.push(o),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:y}),document.addEventListener("wheel",f,Xo),document.addEventListener("touchmove",f,Xo),document.addEventListener("touchstart",g,Xo),function(){Qo=Qo.filter(function(_){return _!==o}),document.removeEventListener("wheel",f,Xo),document.removeEventListener("touchmove",f,Xo),document.removeEventListener("touchstart",g,Xo)}},[]);var w=t.removeScrollBar,E=t.inert;return x.createElement(x.Fragment,null,E?x.createElement(o,{styles:QH(s)}):null,w?x.createElement(zH,{gapMode:t.gapMode}):null)}function e$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const t$=IH(vI,JH);var N0=x.forwardRef(function(t,e){return x.createElement(Sm,Jr({},t,{ref:e,sideCar:t$}))});N0.classNames=Sm.classNames;var n$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Zo=new WeakMap,Wf=new WeakMap,Gf={},Mv=0,_I=function(t){return t&&(t.host||_I(t.parentNode))},r$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=_I(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},a$=function(t,e,n,r){var s=r$(e,Array.isArray(t)?t:[t]);Gf[n]||(Gf[n]=new WeakMap);var o=Gf[n],c=[],u=new Set,f=new Set(s),m=function(v){!v||u.has(v)||(u.add(v),m(v.parentNode))};s.forEach(m);var g=function(v){!v||f.has(v)||Array.prototype.forEach.call(v.children,function(y){if(u.has(y))g(y);else try{var w=y.getAttribute(r),E=w!==null&&w!=="false",_=(Zo.get(y)||0)+1,S=(o.get(y)||0)+1;Zo.set(y,_),o.set(y,S),c.push(y),_===1&&E&&Wf.set(y,!0),S===1&&y.setAttribute(n,"true"),E||y.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",y,C)}})};return g(e),u.clear(),Mv++,function(){c.forEach(function(v){var y=Zo.get(v)-1,w=o.get(v)-1;Zo.set(v,y),o.set(v,w),y||(Wf.has(v)||v.removeAttribute(r),Wf.delete(v)),w||v.removeAttribute(n)}),Mv--,Mv||(Zo=new WeakMap,Zo=new WeakMap,Wf=new WeakMap,Gf={})}},EI=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=n$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),a$(r,s,n,"aria-hidden")):function(){return null}},T0="Dialog",[SI,vZ]=Xa(T0),[s$,Ur]=SI(T0),CI=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:c=!0}=t,u=x.useRef(null),f=x.useRef(null),[m=!1,g]=Hl({prop:r,defaultProp:s,onChange:o});return h.jsx(s$,{scope:e,triggerRef:u,contentRef:f,contentId:Bs(),titleId:Bs(),descriptionId:Bs(),open:m,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(v=>!v),[g]),modal:c,children:n})};CI.displayName=T0;var NI="DialogTrigger",TI=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(NI,n),o=It(e,s.triggerRef);return h.jsx(ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":A0(s.open),...r,ref:o,onClick:Ae(t.onClick,s.onOpenToggle)})});TI.displayName=NI;var R0="DialogPortal",[i$,RI]=SI(R0,{forceMount:void 0}),II=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Ur(R0,e);return h.jsx(i$,{scope:e,forceMount:n,children:x.Children.map(r,c=>h.jsx(Lr,{present:n||o.open,children:h.jsx(C0,{asChild:!0,container:s,children:c})}))})};II.displayName=R0;var Bh="DialogOverlay",AI=x.forwardRef((t,e)=>{const n=RI(Bh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Ur(Bh,t.__scopeDialog);return o.modal?h.jsx(Lr,{present:r||o.open,children:h.jsx(o$,{...s,ref:e})}):null});AI.displayName=Bh;var o$=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(Bh,n);return h.jsx(N0,{as:wl,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(ot.div,{"data-state":A0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ji="DialogContent",DI=x.forwardRef((t,e)=>{const n=RI(Ji,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Ur(Ji,t.__scopeDialog);return h.jsx(Lr,{present:r||o.open,children:o.modal?h.jsx(l$,{...s,ref:e}):h.jsx(c$,{...s,ref:e})})});DI.displayName=Ji;var l$=x.forwardRef((t,e)=>{const n=Ur(Ji,t.__scopeDialog),r=x.useRef(null),s=It(e,n.contentRef,r);return x.useEffect(()=>{const o=r.current;if(o)return EI(o)},[]),h.jsx(OI,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(t.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ae(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&o.preventDefault()}),onFocusOutside:Ae(t.onFocusOutside,o=>o.preventDefault())})}),c$=x.forwardRef((t,e)=>{const n=Ur(Ji,t.__scopeDialog),r=x.useRef(!1),s=x.useRef(!1);return h.jsx(OI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,u;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var f,m;(f=t.onInteractOutside)==null||f.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=o.target;((m=n.triggerRef.current)==null?void 0:m.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),OI=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...c}=t,u=Ur(Ji,n),f=x.useRef(null),m=It(e,f);return pI(),h.jsxs(h.Fragment,{children:[h.jsx(S0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:h.jsx(Em,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":A0(u.open),...c,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(u$,{titleId:u.titleId}),h.jsx(f$,{contentRef:f,descriptionId:u.descriptionId})]})]})}),I0="DialogTitle",MI=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(I0,n);return h.jsx(ot.h2,{id:s.titleId,...r,ref:e})});MI.displayName=I0;var jI="DialogDescription",PI=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(jI,n);return h.jsx(ot.p,{id:s.descriptionId,...r,ref:e})});PI.displayName=jI;var kI="DialogClose",LI=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(kI,n);return h.jsx(ot.button,{type:"button",...r,ref:e,onClick:Ae(t.onClick,()=>s.onOpenChange(!1))})});LI.displayName=kI;function A0(t){return t?"open":"closed"}var UI="DialogTitleWarning",[yZ,FI]=Gz(UI,{contentName:Ji,titleName:I0,docsSlug:"dialog"}),u$=({titleId:t})=>{const e=FI(UI),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},d$="DialogDescriptionWarning",f$=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${FI(d$).contentName}}.`;return x.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},h$=CI,m$=TI,p$=II,BI=AI,VI=DI,zI=MI,HI=PI,g$=LI;const pd=h$,D0=m$,v$=p$,$I=x.forwardRef(({className:t,...e},n)=>h.jsx(BI,{ref:n,className:Me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));$I.displayName=BI.displayName;const $l=x.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(v$,{children:[h.jsx($I,{}),h.jsxs(VI,{ref:r,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(g$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(ON,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$l.displayName=VI.displayName;const ql=({className:t,...e})=>h.jsx("div",{className:Me("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ql.displayName="DialogHeader";const qI=({className:t,...e})=>h.jsx("div",{className:Me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});qI.displayName="DialogFooter";const Wl=x.forwardRef(({className:t,...e},n)=>h.jsx(zI,{ref:n,className:Me("text-lg font-semibold leading-none tracking-tight",t),...e}));Wl.displayName=zI.displayName;const WI=x.forwardRef(({className:t,...e},n)=>h.jsx(HI,{ref:n,className:Me("text-sm text-muted-foreground",t),...e}));WI.displayName=HI.displayName;function GI({open:t,onOpenChange:e,title:n,description:r,onConfirm:s,onCancel:o,confirmText:c="Confirmar",cancelText:u="Cancelar",variant:f="default"}){const m=()=>{e(!1),o==null||o()},g=()=>{s(),e(!1)};return h.jsx(pd,{open:t,onOpenChange:e,children:h.jsxs($l,{children:[h.jsxs(ql,{children:[h.jsx(Wl,{children:n}),h.jsx(WI,{children:r})]}),h.jsxs(qI,{children:[h.jsx(be,{variant:"secondary",onClick:m,children:u}),h.jsx(be,{variant:f==="destructive"?"danger":"primary",onClick:g,children:c})]})]})})}const y$=({config:t})=>{const e=n=>{switch(n){case"success":return"bg-green-100 text-green-700";case"warning":return"bg-orange-100 text-orange-700";case"danger":return"bg-red-100 text-red-700";case"info":return"bg-blue-100 text-blue-700";case"primary":return"bg-primary/20 text-primary";case"secondary":return"bg-secondary/20 text-secondary";default:return"bg-gray-100 text-gray-700"}};return h.jsx("span",{className:Me("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",e(t.color)),children:t.label})};function Yn({columns:t,title:e,addPath:n,backPath:r,service:s,type:o,products:c,recipes:u,customerName:f,workerName:m,supplierName:g,units:v}){const[y,w]=D.useState([]),[E,_]=D.useState([]),[S,C]=D.useState(!0),[T,R]=D.useState(""),[M,A]=D.useState(!1),[I,k]=D.useState(null),U=D.useCallback(async()=>{try{const W=await s.findAll();w(W),_(W)}catch(W){console.error("Error al cargar los datos:",W),ke.error("Error al cargar los datos")}finally{C(!1)}},[s]);D.useEffect(()=>{U()},[U]),D.useEffect(()=>{if(T.trim()===""){_(y);return}const W=t.filter(Z=>Z.searchable!==!1),Q=y.filter(Z=>W.some(j=>{var B;const K=j.render?(B=j.render(Z))==null?void 0:B.toString():String(Z[j.accessor]??"");return K==null?void 0:K.toLowerCase().includes(T.toLowerCase())}));_(Q)},[T,y,t]);const F=async W=>{try{await s.delete(W),ke.success("Registro eliminado exitosamente"),U()}catch(Q){console.error("Error al eliminar el registro:",Q),ke.error("Error al eliminar el registro")}},Y=W=>{k(W),A(!0)},se=W=>{if(!o||!("orderDate"in W&&"status"in W&&("customerId"in W||"responsibleWorkerId"in W||"supplierId"in W)))return;const Z=W,j=new cI({order:Z,type:o,units:Object.entries(v||{}).map(([B,H])=>({id:B,name:H})),customerName:o==="customer"&&f?f[Z.customerId]:void 0,workerName:o==="production"&&m?m[Z.responsibleWorkerId]:void 0,supplierName:o==="purchase"&&g?g[Z.supplierId]:void 0,products:c,recipes:u,format:"print"}).toString(),K=window.open("","_blank");if(!K){ke.error("No se pudo abrir la ventana de impresión");return}K.document.write(`
      <html>
        <head>
          <style>
            @page {
              size: 80mm auto;
              margin: 0;
            }
            body {
              font-family: monospace;
              font-size: 12px;
              padding: 10px;
              white-space: pre-wrap;
              width: 80mm;
              text-align: left;
            }
            div {
              text-align: left;
              margin: 0;
              padding: 0;
            }
          </style>
        </head>
        <body>
          ${j.replace(/\n/g,"<br>")}
        </body>
      </html>
    `),K.document.close(),K.print()},de=(W,Q)=>{if(Q.render)return Q.render(W);const Z=W[Q.accessor];if(Q.type==="date")return XN(Z);if(Q.type==="tag"&&Q.tags){const j=Q.tags.find(K=>K.value===Z);if(j)return h.jsx(y$,{config:j})}return String(Z??"")};return S?h.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):h.jsxs("div",{className:"min-h-[80vh] flex flex-col gap-6",children:[h.jsx(GI,{open:M,onOpenChange:A,title:"Confirmar eliminación",description:"¿Está seguro de que desea eliminar este registro? Esta acción no se puede deshacer.",onConfirm:()=>I&&F(I),confirmText:"Eliminar",variant:"destructive"}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:e}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Lista de ",e.toLowerCase()]})]}),h.jsx(ja,{to:n,children:h.jsxs(be,{className:"flex items-center gap-2",children:[h.jsx(Pa,{className:"h-4 w-4"}),"Nuevo"]})})]}),h.jsxs(ht,{children:[h.jsx("div",{className:"p-4",children:h.jsxs("div",{className:"relative",children:[h.jsx(fn,{type:"text",placeholder:"Buscar...",value:T,onChange:W=>R(W.target.value),className:"w-full pl-9"}),h.jsx(eL,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"})]})}),h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsxs("table",{className:"w-full caption-bottom text-sm",children:[h.jsx("thead",{className:"[&_tr]:border-b",children:h.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[t.map((W,Q)=>h.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:W.header},Q)),h.jsx("th",{className:"h-12 px-4 text-right align-middle font-medium text-muted-foreground",children:"Acciones"})]})}),h.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:E.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:t.length+1,className:"p-4 text-center text-muted-foreground",children:T.trim()!==""?`No se encontraron ${e.toLowerCase()} que coincidan con la búsqueda`:`No hay ${e.toLowerCase()} registrados`})}):E.map(W=>h.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[t.map((Q,Z)=>h.jsx("td",{className:"p-4 align-middle",children:de(W,Q)},Z)),h.jsx("td",{className:"p-4 align-middle text-right",children:h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx(ja,{to:`${r||""}/${W.id}`,children:h.jsx(be,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Ver detalles",children:h.jsx(AN,{className:"h-4 w-4"})})}),h.jsx(ja,{to:`${r||""}/${W.id}/edit`,children:h.jsx(be,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Editar",children:h.jsx(ed,{className:"h-4 w-4"})})}),o&&h.jsx(be,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>se(W),title:"Imprimir",children:h.jsx(DN,{className:"h-4 w-4"})}),h.jsx(be,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:text-destructive",onClick:Q=>{Q.preventDefault(),Q.stopPropagation(),Y(W.id.toString())},title:"Eliminar",children:h.jsx(td,{className:"h-4 w-4"})})]})})]},W.id))})]})})]})]})}var _l=(t=>(t.ACTIVE="active",t.INACTIVE="inactive",t))(_l||{});class Kn{constructor(e,n){Ve(this,"dbRef");this.db=e,this.dbRef=n}validateModelData(e){if(!this.modelProperties)throw new Error("Model properties must be defined in the repository implementation");const n=Object.keys(e).filter(r=>!this.modelProperties.includes(r)&&r!=="id"&&r!=="createdAt"&&r!=="updatedAt");if(n.length>0)throw new Error(`Invalid properties found: ${n.join(", ")}`);for(const[r,s]of Object.entries(e))if(s!=null&&r.toLowerCase().includes("date")&&!(s instanceof Date)&&!this.isValidDateString(s))throw new Error(`Invalid date format for property: ${r}`)}isValidDateString(e){const n=new Date(e);return n instanceof Date&&!isNaN(n.getTime())}mapDocumentToEntity(e,n){const r={...e};return r.createdAt&&(r.createdAt=new Date(r.createdAt)),r.updatedAt&&(r.updatedAt=new Date(r.updatedAt)),{id:n,...r}}getRef(e){return fu(this.db,e?`${this.dbRef}/${e}`:this.dbRef)}async getSnapshot(e){return await nl(this.getRef(e))}async setData(e,n){await Iy(this.getRef(e),n)}async updateData(e,n){await rz(this.getRef(e),n)}async removeData(e){await nz(this.getRef(e))}async pushData(e){const n=tz(this.getRef());return await Iy(n,e),n}async queryData(e,n){const r=mu(this.getRef(),hu(e),iI(n));return await nl(r)}async findAll(){const e=await this.getSnapshot();if(!e.exists())return[];const n=e.val();return Object.entries(n).map(([r,s])=>this.mapDocumentToEntity(s,r))}async findById(e){const n=await this.getSnapshot(e);return n.exists()?this.mapDocumentToEntity(n.val(),e):null}async create(e){try{this.validateModelData(e);const n=new Date,r={...e,createdAt:n.toISOString(),updatedAt:n.toISOString()},s=await this.pushData(r);return this.mapDocumentToEntity(r,s.key)}catch(n){throw new Error(`Error creating entity: ${n instanceof Error?n.message:"Unknown error"}`)}}async update(e,n){try{this.validateModelData(n);const r={...n,updatedAt:new Date().toISOString()};await this.updateData(e,r)}catch(r){throw new Error(`Error updating entity: ${r instanceof Error?r.message:"Unknown error"}`)}}async delete(e){try{await this.removeData(e)}catch(n){throw new Error(`Error deleting entity: ${n instanceof Error?n.message:"Unknown error"}`)}}async findByField(e,n){try{const r=await this.queryData(e,n);if(!r.exists())return[];const s=r.val();return Object.entries(s).map(([o,c])=>this.mapDocumentToEntity(c,o))}catch(r){throw new Error(`Error finding by field: ${r instanceof Error?r.message:"Unknown error"}`)}}}class YI extends Kn{constructor(n){super(n,"customers");Ve(this,"modelProperties",["name","phone","email","address","status"])}async findByName(n){return this.findByField("name",n)}async findByEmail(n){return this.findByField("email",n)}async findByPhone(n){return this.findByField("phone",n)}async findByStatus(n){return this.findByField("status",n)}}class Xn{constructor(e){Ve(this,"repository");this.repository=new e(Ta)}async findAll(){return this.repository.findAll()}async findById(e){return this.repository.findById(e)}async create(e){return this.repository.create(e)}async update(e,n){await this.repository.update(e,n);const r=await this.findById(e);if(!r)throw new Error("Entity not found after update");return r}async delete(e){await this.repository.delete(e)}}class Qa extends Xn{constructor(){super(YI)}async findByName(e){return this.repository.findByName(e)}async findByEmail(e){return this.repository.findByEmail(e)}async findByPhone(e){return this.repository.findByPhone(e)}async findByStatus(e){return(await this.repository.findAll()).filter(r=>r.status===e)}}function b$(){const t=new Qa,e=[{header:"Nombre",accessor:"name"},{header:"Teléfono",accessor:"phone",render:n=>n.phone||"-"},{header:"Estado",accessor:"status",type:"tag",tags:[{value:_l.ACTIVE,label:"Activo",color:"success"},{value:_l.INACTIVE,label:"Inactivo",color:"secondary"}]}];return h.jsx(Yn,{columns:e,title:"Clientes",addPath:"/customers/new",backPath:"/customers",service:t})}const hr=x.forwardRef(({className:t,...e},n)=>h.jsx("label",{ref:n,className:Me("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));hr.displayName="Label";function eo(t){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eo(t)}function x$(t,e){if(eo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KI(t){var e=x$(t,"string");return eo(e)=="symbol"?e:e+""}function pu(t,e,n){return(e=KI(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y1(Object(n),!0).forEach(function(r){pu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w$(t){if(Array.isArray(t))return t}function _$(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,o,c,u=[],f=!0,m=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(g){m=!0,s=g}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw s}}return u}}function Py(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function XI(t,e){if(t){if(typeof t=="string")return Py(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Py(t,e):void 0}}function E$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function La(t,e){return w$(t)||_$(t,e)||XI(t,e)||E$()}function S$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Za(t,e){if(t==null)return{};var n,r,s=S$(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var C$=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function N$(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,s=r===void 0?!1:r,o=t.defaultValue,c=o===void 0?null:o,u=t.inputValue,f=t.menuIsOpen,m=t.onChange,g=t.onInputChange,v=t.onMenuClose,y=t.onMenuOpen,w=t.value,E=Za(t,C$),_=x.useState(u!==void 0?u:n),S=La(_,2),C=S[0],T=S[1],R=x.useState(f!==void 0?f:s),M=La(R,2),A=M[0],I=M[1],k=x.useState(w!==void 0?w:c),U=La(k,2),F=U[0],Y=U[1],se=x.useCallback(function(B,H){typeof m=="function"&&m(B,H),Y(B)},[m]),de=x.useCallback(function(B,H){var P;typeof g=="function"&&(P=g(B,H)),T(P!==void 0?P:B)},[g]),W=x.useCallback(function(){typeof y=="function"&&y(),I(!0)},[y]),Q=x.useCallback(function(){typeof v=="function"&&v(),I(!1)},[v]),Z=u!==void 0?u:C,j=f!==void 0?f:A,K=w!==void 0?w:F;return Se(Se({},E),{},{inputValue:Z,menuIsOpen:j,onChange:se,onInputChange:de,onMenuClose:Q,onMenuOpen:W,value:K})}function Ne(){return Ne=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ne.apply(null,arguments)}function T$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KI(r.key),r)}}function R$(t,e,n){return e&&K1(t.prototype,e),n&&K1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ky(t,e){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ky(t,e)}function I$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ky(t,e)}function Vh(t){return Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vh(t)}function QI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QI=function(){return!!t})()}function A$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D$(t,e){if(e&&(eo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A$(t)}function O$(t){var e=QI();return function(){var n,r=Vh(t);if(e){var s=Vh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return D$(this,n)}}function M$(t){if(Array.isArray(t))return Py(t)}function j$(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function P$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O0(t){return M$(t)||j$(t)||XI(t)||P$()}function k$(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function L$(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var U$=function(){function t(n){var r=this;this._insertTag=function(s){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,o),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(L$(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=k$(s);try{o.insertRule(r,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t}(),dn="-ms-",zh="-moz-",Ze="-webkit-",ZI="comm",M0="rule",j0="decl",F$="@import",JI="@keyframes",B$="@layer",V$=Math.abs,Cm=String.fromCharCode,z$=Object.assign;function H$(t,e){return rn(t,0)^45?(((e<<2^rn(t,0))<<2^rn(t,1))<<2^rn(t,2))<<2^rn(t,3):0}function eA(t){return t.trim()}function $$(t,e){return(t=e.exec(t))?t[0]:t}function Je(t,e,n){return t.replace(e,n)}function Ly(t,e){return t.indexOf(e)}function rn(t,e){return t.charCodeAt(e)|0}function Hu(t,e,n){return t.slice(e,n)}function Kr(t){return t.length}function P0(t){return t.length}function Yf(t,e){return e.push(t),t}function q$(t,e){return t.map(e).join("")}var Nm=1,El=1,tA=0,jn=0,Pt=0,Gl="";function Tm(t,e,n,r,s,o,c){return{value:t,root:e,parent:n,type:r,props:s,children:o,line:Nm,column:El,length:c,return:""}}function su(t,e){return z$(Tm("",null,null,"",null,null,0),t,{length:-t.length},e)}function W$(){return Pt}function G$(){return Pt=jn>0?rn(Gl,--jn):0,El--,Pt===10&&(El=1,Nm--),Pt}function qn(){return Pt=jn<tA?rn(Gl,jn++):0,El++,Pt===10&&(El=1,Nm++),Pt}function na(){return rn(Gl,jn)}function uh(){return jn}function gd(t,e){return Hu(Gl,t,e)}function $u(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nA(t){return Nm=El=1,tA=Kr(Gl=t),jn=0,[]}function rA(t){return Gl="",t}function dh(t){return eA(gd(jn-1,Uy(t===91?t+2:t===40?t+1:t)))}function Y$(t){for(;(Pt=na())&&Pt<33;)qn();return $u(t)>2||$u(Pt)>3?"":" "}function K$(t,e){for(;--e&&qn()&&!(Pt<48||Pt>102||Pt>57&&Pt<65||Pt>70&&Pt<97););return gd(t,uh()+(e<6&&na()==32&&qn()==32))}function Uy(t){for(;qn();)switch(Pt){case t:return jn;case 34:case 39:t!==34&&t!==39&&Uy(Pt);break;case 40:t===41&&Uy(t);break;case 92:qn();break}return jn}function X$(t,e){for(;qn()&&t+Pt!==57;)if(t+Pt===84&&na()===47)break;return"/*"+gd(e,jn-1)+"*"+Cm(t===47?t:qn())}function Q$(t){for(;!$u(na());)qn();return gd(t,jn)}function Z$(t){return rA(fh("",null,null,null,[""],t=nA(t),0,[0],t))}function fh(t,e,n,r,s,o,c,u,f){for(var m=0,g=0,v=c,y=0,w=0,E=0,_=1,S=1,C=1,T=0,R="",M=s,A=o,I=r,k=R;S;)switch(E=T,T=qn()){case 40:if(E!=108&&rn(k,v-1)==58){Ly(k+=Je(dh(T),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:k+=dh(T);break;case 9:case 10:case 13:case 32:k+=Y$(E);break;case 92:k+=K$(uh()-1,7);continue;case 47:switch(na()){case 42:case 47:Yf(J$(X$(qn(),uh()),e,n),f);break;default:k+="/"}break;case 123*_:u[m++]=Kr(k)*C;case 125*_:case 59:case 0:switch(T){case 0:case 125:S=0;case 59+g:C==-1&&(k=Je(k,/\f/g,"")),w>0&&Kr(k)-v&&Yf(w>32?Q1(k+";",r,n,v-1):Q1(Je(k," ","")+";",r,n,v-2),f);break;case 59:k+=";";default:if(Yf(I=X1(k,e,n,m,g,s,u,R,M=[],A=[],v),o),T===123)if(g===0)fh(k,e,I,I,M,o,v,u,A);else switch(y===99&&rn(k,3)===110?100:y){case 100:case 108:case 109:case 115:fh(t,I,I,r&&Yf(X1(t,I,I,0,0,s,u,R,s,M=[],v),A),s,A,v,u,r?M:A);break;default:fh(k,I,I,I,[""],A,0,u,A)}}m=g=w=0,_=C=1,R=k="",v=c;break;case 58:v=1+Kr(k),w=E;default:if(_<1){if(T==123)--_;else if(T==125&&_++==0&&G$()==125)continue}switch(k+=Cm(T),T*_){case 38:C=g>0?1:(k+="\f",-1);break;case 44:u[m++]=(Kr(k)-1)*C,C=1;break;case 64:na()===45&&(k+=dh(qn())),y=na(),g=v=Kr(R=k+=Q$(uh())),T++;break;case 45:E===45&&Kr(k)==2&&(_=0)}}return o}function X1(t,e,n,r,s,o,c,u,f,m,g){for(var v=s-1,y=s===0?o:[""],w=P0(y),E=0,_=0,S=0;E<r;++E)for(var C=0,T=Hu(t,v+1,v=V$(_=c[E])),R=t;C<w;++C)(R=eA(_>0?y[C]+" "+T:Je(T,/&\f/g,y[C])))&&(f[S++]=R);return Tm(t,e,n,s===0?M0:u,f,m,g)}function J$(t,e,n){return Tm(t,e,n,ZI,Cm(W$()),Hu(t,2,-2),0)}function Q1(t,e,n,r){return Tm(t,e,n,j0,Hu(t,0,r),Hu(t,r+1,-1),r)}function dl(t,e){for(var n="",r=P0(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function e7(t,e,n,r){switch(t.type){case B$:if(t.children.length)break;case F$:case j0:return t.return=t.return||t.value;case ZI:return"";case JI:return t.return=t.value+"{"+dl(t.children,r)+"}";case M0:t.value=t.props.join(",")}return Kr(n=dl(t.children,r))?t.return=t.value+"{"+n+"}":""}function t7(t){var e=P0(t);return function(n,r,s,o){for(var c="",u=0;u<e;u++)c+=t[u](n,r,s,o)||"";return c}}function n7(t){return function(e){e.root||(e=e.return)&&t(e)}}var r7=function(e,n,r){for(var s=0,o=0;s=o,o=na(),s===38&&o===12&&(n[r]=1),!$u(o);)qn();return gd(e,jn)},a7=function(e,n){var r=-1,s=44;do switch($u(s)){case 0:s===38&&na()===12&&(n[r]=1),e[r]+=r7(jn-1,n,r);break;case 2:e[r]+=dh(s);break;case 4:if(s===44){e[++r]=na()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Cm(s)}while(s=qn());return e},s7=function(e,n){return rA(a7(nA(e),n))},Z1=new WeakMap,i7=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Z1.get(r))&&!s){Z1.set(e,!0);for(var o=[],c=s7(n,o),u=r.props,f=0,m=0;f<c.length;f++)for(var g=0;g<u.length;g++,m++)e.props[m]=o[f]?c[f].replace(/&\f/g,u[g]):u[g]+" "+c[f]}}},o7=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function aA(t,e){switch(H$(t,e)){case 5103:return Ze+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ze+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ze+t+zh+t+dn+t+t;case 6828:case 4268:return Ze+t+dn+t+t;case 6165:return Ze+t+dn+"flex-"+t+t;case 5187:return Ze+t+Je(t,/(\w+).+(:[^]+)/,Ze+"box-$1$2"+dn+"flex-$1$2")+t;case 5443:return Ze+t+dn+"flex-item-"+Je(t,/flex-|-self/,"")+t;case 4675:return Ze+t+dn+"flex-line-pack"+Je(t,/align-content|flex-|-self/,"")+t;case 5548:return Ze+t+dn+Je(t,"shrink","negative")+t;case 5292:return Ze+t+dn+Je(t,"basis","preferred-size")+t;case 6060:return Ze+"box-"+Je(t,"-grow","")+Ze+t+dn+Je(t,"grow","positive")+t;case 4554:return Ze+Je(t,/([^-])(transform)/g,"$1"+Ze+"$2")+t;case 6187:return Je(Je(Je(t,/(zoom-|grab)/,Ze+"$1"),/(image-set)/,Ze+"$1"),t,"")+t;case 5495:case 3959:return Je(t,/(image-set\([^]*)/,Ze+"$1$`$1");case 4968:return Je(Je(t,/(.+:)(flex-)?(.*)/,Ze+"box-pack:$3"+dn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ze+t+t;case 4095:case 3583:case 4068:case 2532:return Je(t,/(.+)-inline(.+)/,Ze+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Kr(t)-1-e>6)switch(rn(t,e+1)){case 109:if(rn(t,e+4)!==45)break;case 102:return Je(t,/(.+:)(.+)-([^]+)/,"$1"+Ze+"$2-$3$1"+zh+(rn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ly(t,"stretch")?aA(Je(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(rn(t,e+1)!==115)break;case 6444:switch(rn(t,Kr(t)-3-(~Ly(t,"!important")&&10))){case 107:return Je(t,":",":"+Ze)+t;case 101:return Je(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ze+(rn(t,14)===45?"inline-":"")+"box$3$1"+Ze+"$2$3$1"+dn+"$2box$3")+t}break;case 5936:switch(rn(t,e+11)){case 114:return Ze+t+dn+Je(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ze+t+dn+Je(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ze+t+dn+Je(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ze+t+dn+t+t}return t}var l7=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case j0:e.return=aA(e.value,e.length);break;case JI:return dl([su(e,{value:Je(e.value,"@","@"+Ze)})],s);case M0:if(e.length)return q$(e.props,function(o){switch($$(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return dl([su(e,{props:[Je(o,/:(read-\w+)/,":"+zh+"$1")]})],s);case"::placeholder":return dl([su(e,{props:[Je(o,/:(plac\w+)/,":"+Ze+"input-$1")]}),su(e,{props:[Je(o,/:(plac\w+)/,":"+zh+"$1")]}),su(e,{props:[Je(o,/:(plac\w+)/,dn+"input-$1")]})],s)}return""})}},c7=[l7],u7=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var S=_.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var s=e.stylisPlugins||c7,o={},c,u=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var S=_.getAttribute("data-emotion").split(" "),C=1;C<S.length;C++)o[S[C]]=!0;u.push(_)});var f,m=[i7,o7];{var g,v=[e7,n7(function(_){g.insert(_)})],y=t7(m.concat(s,v)),w=function(S){return dl(Z$(S),y)};f=function(S,C,T,R){g=T,w(S?S+"{"+C.styles+"}":C.styles),R&&(E.inserted[C.name]=!0)}}var E={key:n,sheet:new U$({key:n,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:f};return E.sheet.hydrate(u),E},jv={exports:{}},et={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1;function d7(){if(J1)return et;J1=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,c=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,g=t?Symbol.for("react.forward_ref"):60112,v=t?Symbol.for("react.suspense"):60113,y=t?Symbol.for("react.suspense_list"):60120,w=t?Symbol.for("react.memo"):60115,E=t?Symbol.for("react.lazy"):60116,_=t?Symbol.for("react.block"):60121,S=t?Symbol.for("react.fundamental"):60117,C=t?Symbol.for("react.responder"):60118,T=t?Symbol.for("react.scope"):60119;function R(A){if(typeof A=="object"&&A!==null){var I=A.$$typeof;switch(I){case e:switch(A=A.type,A){case f:case m:case r:case o:case s:case v:return A;default:switch(A=A&&A.$$typeof,A){case u:case g:case E:case w:case c:return A;default:return I}}case n:return I}}}function M(A){return R(A)===m}return et.AsyncMode=f,et.ConcurrentMode=m,et.ContextConsumer=u,et.ContextProvider=c,et.Element=e,et.ForwardRef=g,et.Fragment=r,et.Lazy=E,et.Memo=w,et.Portal=n,et.Profiler=o,et.StrictMode=s,et.Suspense=v,et.isAsyncMode=function(A){return M(A)||R(A)===f},et.isConcurrentMode=M,et.isContextConsumer=function(A){return R(A)===u},et.isContextProvider=function(A){return R(A)===c},et.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},et.isForwardRef=function(A){return R(A)===g},et.isFragment=function(A){return R(A)===r},et.isLazy=function(A){return R(A)===E},et.isMemo=function(A){return R(A)===w},et.isPortal=function(A){return R(A)===n},et.isProfiler=function(A){return R(A)===o},et.isStrictMode=function(A){return R(A)===s},et.isSuspense=function(A){return R(A)===v},et.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===r||A===m||A===o||A===s||A===v||A===y||typeof A=="object"&&A!==null&&(A.$$typeof===E||A.$$typeof===w||A.$$typeof===c||A.$$typeof===u||A.$$typeof===g||A.$$typeof===S||A.$$typeof===C||A.$$typeof===T||A.$$typeof===_)},et.typeOf=R,et}var eC;function f7(){return eC||(eC=1,jv.exports=d7()),jv.exports}var Pv,tC;function h7(){if(tC)return Pv;tC=1;var t=f7(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=s;function c(E){return t.isMemo(E)?s:o[E.$$typeof]||e}var u=Object.defineProperty,f=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,y=Object.prototype;function w(E,_,S){if(typeof _!="string"){if(y){var C=v(_);C&&C!==y&&w(E,C,S)}var T=f(_);m&&(T=T.concat(m(_)));for(var R=c(E),M=c(_),A=0;A<T.length;++A){var I=T[A];if(!n[I]&&!(S&&S[I])&&!(M&&M[I])&&!(R&&R[I])){var k=g(_,I);try{u(E,I,k)}catch{}}}}return E}return Pv=w,Pv}h7();var m7=!0;function p7(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var sA=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||m7===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},g7=function(e,n,r){sA(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+s:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function v7(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var y7={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function b7(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var x7=/[A-Z]|^ms/g,w7=/_EMO_([^_]+?)_([^]*?)_EMO_/g,iA=function(e){return e.charCodeAt(1)===45},nC=function(e){return e!=null&&typeof e!="boolean"},kv=b7(function(t){return iA(t)?t:t.replace(x7,"-$&").toLowerCase()}),rC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(w7,function(r,s,o){return Xr={name:s,styles:o,next:Xr},s})}return y7[e]!==1&&!iA(e)&&typeof n=="number"&&n!==0?n+"px":n};function qu(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return Xr={name:s.name,styles:s.styles,next:Xr},s.name;var o=n;if(o.styles!==void 0){var c=o.next;if(c!==void 0)for(;c!==void 0;)Xr={name:c.name,styles:c.styles,next:Xr},c=c.next;var u=o.styles+";";return u}return _7(t,e,n)}case"function":{if(t!==void 0){var f=Xr,m=n(t);return Xr=f,qu(t,e,m)}break}}var g=n;return g}function _7(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=qu(t,e,n[s])+";";else for(var o in n){var c=n[o];if(typeof c!="object"){var u=c;nC(u)&&(r+=kv(o)+":"+rC(o,u)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&e==null)for(var f=0;f<c.length;f++)nC(c[f])&&(r+=kv(o)+":"+rC(o,c[f])+";");else{var m=qu(t,e,c);switch(o){case"animation":case"animationName":{r+=kv(o)+":"+m+";";break}default:r+=o+"{"+m+"}"}}}return r}var aC=/label:\s*([^\s;{]+)\s*(;|$)/g,Xr;function oA(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";Xr=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,s+=qu(n,e,o);else{var c=o;s+=c[0]}for(var u=1;u<t.length;u++)if(s+=qu(n,e,t[u]),r){var f=o;s+=f[u]}aC.lastIndex=0;for(var m="",g;(g=aC.exec(s))!==null;)m+="-"+g[1];var v=v7(s)+m;return{name:v,styles:s,next:Xr}}var E7=function(e){return e()},S7=Tu.useInsertionEffect?Tu.useInsertionEffect:!1,C7=S7||E7,lA=x.createContext(typeof HTMLElement<"u"?u7({key:"css"}):null);lA.Provider;var N7=function(e){return x.forwardRef(function(n,r){var s=x.useContext(lA);return e(n,s,r)})},T7=x.createContext({}),k0={}.hasOwnProperty,Fy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",R7=function(e,n){var r={};for(var s in n)k0.call(n,s)&&(r[s]=n[s]);return r[Fy]=e,r},I7=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return sA(n,r,s),C7(function(){return g7(n,r,s)}),null},A7=N7(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=t[Fy],o=[r],c="";typeof t.className=="string"?c=p7(e.registered,o,t.className):t.className!=null&&(c=t.className+" ");var u=oA(o,void 0,x.useContext(T7));c+=e.key+"-"+u.name;var f={};for(var m in t)k0.call(t,m)&&m!=="css"&&m!==Fy&&(f[m]=t[m]);return f.className=c,n&&(f.ref=n),x.createElement(x.Fragment,null,x.createElement(I7,{cache:e,serialized:u,isStringTag:typeof s=="string"}),x.createElement(s,f))}),D7=A7,Ee=function(e,n){var r=arguments;if(n==null||!k0.call(n,"css"))return x.createElement.apply(void 0,r);var s=r.length,o=new Array(s);o[0]=D7,o[1]=R7(e,n);for(var c=2;c<s;c++)o[c]=r[c];return x.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Ee||(Ee={}));function L0(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return oA(e)}function O7(){var t=L0.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function M7(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const j7=["top","right","bottom","left"],Ys=Math.min,$n=Math.max,Hh=Math.round,Kf=Math.floor,ra=t=>({x:t,y:t}),P7={left:"right",right:"left",bottom:"top",top:"bottom"},k7={start:"end",end:"start"};function By(t,e,n){return $n(t,Ys(e,n))}function Ha(t,e){return typeof t=="function"?t(e):t}function $a(t){return t.split("-")[0]}function Yl(t){return t.split("-")[1]}function U0(t){return t==="x"?"y":"x"}function F0(t){return t==="y"?"height":"width"}function Ks(t){return["top","bottom"].includes($a(t))?"y":"x"}function B0(t){return U0(Ks(t))}function L7(t,e,n){n===void 0&&(n=!1);const r=Yl(t),s=B0(t),o=F0(s);let c=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=$h(c)),[c,$h(c)]}function U7(t){const e=$h(t);return[Vy(t),e,Vy(e)]}function Vy(t){return t.replace(/start|end/g,e=>k7[e])}function F7(t,e,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],c=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?o:c;default:return[]}}function B7(t,e,n,r){const s=Yl(t);let o=F7($a(t),n==="start",r);return s&&(o=o.map(c=>c+"-"+s),e&&(o=o.concat(o.map(Vy)))),o}function $h(t){return t.replace(/left|right|bottom|top/g,e=>P7[e])}function V7(t){return{top:0,right:0,bottom:0,left:0,...t}}function cA(t){return typeof t!="number"?V7(t):{top:t,right:t,bottom:t,left:t}}function qh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function sC(t,e,n){let{reference:r,floating:s}=t;const o=Ks(e),c=B0(e),u=F0(c),f=$a(e),m=o==="y",g=r.x+r.width/2-s.width/2,v=r.y+r.height/2-s.height/2,y=r[u]/2-s[u]/2;let w;switch(f){case"top":w={x:g,y:r.y-s.height};break;case"bottom":w={x:g,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:v};break;case"left":w={x:r.x-s.width,y:v};break;default:w={x:r.x,y:r.y}}switch(Yl(e)){case"start":w[c]-=y*(n&&m?-1:1);break;case"end":w[c]+=y*(n&&m?-1:1);break}return w}const z7=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:c}=n,u=o.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:s}),{x:g,y:v}=sC(m,r,f),y=r,w={},E=0;for(let _=0;_<u.length;_++){const{name:S,fn:C}=u[_],{x:T,y:R,data:M,reset:A}=await C({x:g,y:v,initialPlacement:r,placement:y,strategy:s,middlewareData:w,rects:m,platform:c,elements:{reference:t,floating:e}});g=T??g,v=R??v,w={...w,[S]:{...w[S],...M}},A&&E<=50&&(E++,typeof A=="object"&&(A.placement&&(y=A.placement),A.rects&&(m=A.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:s}):A.rects),{x:g,y:v}=sC(m,y,f)),_=-1)}return{x:g,y:v,placement:y,strategy:s,middlewareData:w}};async function Wu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:c,elements:u,strategy:f}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:y=!1,padding:w=0}=Ha(e,t),E=cA(w),S=u[y?v==="floating"?"reference":"floating":v],C=qh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:m,rootBoundary:g,strategy:f})),T=v==="floating"?{x:r,y:s,width:c.floating.width,height:c.floating.height}:c.reference,R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),M=await(o.isElement==null?void 0:o.isElement(R))?await(o.getScale==null?void 0:o.getScale(R))||{x:1,y:1}:{x:1,y:1},A=qh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:T,offsetParent:R,strategy:f}):T);return{top:(C.top-A.top+E.top)/M.y,bottom:(A.bottom-C.bottom+E.bottom)/M.y,left:(C.left-A.left+E.left)/M.x,right:(A.right-C.right+E.right)/M.x}}const H7=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:c,elements:u,middlewareData:f}=e,{element:m,padding:g=0}=Ha(t,e)||{};if(m==null)return{};const v=cA(g),y={x:n,y:r},w=B0(s),E=F0(w),_=await c.getDimensions(m),S=w==="y",C=S?"top":"left",T=S?"bottom":"right",R=S?"clientHeight":"clientWidth",M=o.reference[E]+o.reference[w]-y[w]-o.floating[E],A=y[w]-o.reference[w],I=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let k=I?I[R]:0;(!k||!await(c.isElement==null?void 0:c.isElement(I)))&&(k=u.floating[R]||o.floating[E]);const U=M/2-A/2,F=k/2-_[E]/2-1,Y=Ys(v[C],F),se=Ys(v[T],F),de=Y,W=k-_[E]-se,Q=k/2-_[E]/2+U,Z=By(de,Q,W),j=!f.arrow&&Yl(s)!=null&&Q!==Z&&o.reference[E]/2-(Q<de?Y:se)-_[E]/2<0,K=j?Q<de?Q-de:Q-W:0;return{[w]:y[w]+K,data:{[w]:Z,centerOffset:Q-Z-K,...j&&{alignmentOffset:K}},reset:j}}}),$7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:c,initialPlacement:u,platform:f,elements:m}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:_=!0,...S}=Ha(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const C=$a(s),T=Ks(u),R=$a(u)===u,M=await(f.isRTL==null?void 0:f.isRTL(m.floating)),A=y||(R||!_?[$h(u)]:U7(u)),I=E!=="none";!y&&I&&A.push(...B7(u,_,E,M));const k=[u,...A],U=await Wu(e,S),F=[];let Y=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&F.push(U[C]),v){const Q=L7(s,c,M);F.push(U[Q[0]],U[Q[1]])}if(Y=[...Y,{placement:s,overflows:F}],!F.every(Q=>Q<=0)){var se,de;const Q=(((se=o.flip)==null?void 0:se.index)||0)+1,Z=k[Q];if(Z)return{data:{index:Q,overflows:Y},reset:{placement:Z}};let j=(de=Y.filter(K=>K.overflows[0]<=0).sort((K,B)=>K.overflows[1]-B.overflows[1])[0])==null?void 0:de.placement;if(!j)switch(w){case"bestFit":{var W;const K=(W=Y.filter(B=>{if(I){const H=Ks(B.placement);return H===T||H==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(H=>H>0).reduce((H,P)=>H+P,0)]).sort((B,H)=>B[1]-H[1])[0])==null?void 0:W[0];K&&(j=K);break}case"initialPlacement":j=u;break}if(s!==j)return{reset:{placement:j}}}return{}}}};function iC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function oC(t){return j7.some(e=>t[e]>=0)}const q7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ha(t,e);switch(r){case"referenceHidden":{const o=await Wu(e,{...s,elementContext:"reference"}),c=iC(o,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:oC(c)}}}case"escaped":{const o=await Wu(e,{...s,altBoundary:!0}),c=iC(o,n.floating);return{data:{escapedOffsets:c,escaped:oC(c)}}}default:return{}}}}};async function W7(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),c=$a(n),u=Yl(n),f=Ks(n)==="y",m=["left","top"].includes(c)?-1:1,g=o&&f?-1:1,v=Ha(e,t);let{mainAxis:y,crossAxis:w,alignmentAxis:E}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof E=="number"&&(w=u==="end"?E*-1:E),f?{x:w*g,y:y*m}:{x:y*m,y:w*g}}const G7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:c,middlewareData:u}=e,f=await W7(e,t);return c===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+f.x,y:o+f.y,data:{...f,placement:c}}}}},Y7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:u={fn:S=>{let{x:C,y:T}=S;return{x:C,y:T}}},...f}=Ha(t,e),m={x:n,y:r},g=await Wu(e,f),v=Ks($a(s)),y=U0(v);let w=m[y],E=m[v];if(o){const S=y==="y"?"top":"left",C=y==="y"?"bottom":"right",T=w+g[S],R=w-g[C];w=By(T,w,R)}if(c){const S=v==="y"?"top":"left",C=v==="y"?"bottom":"right",T=E+g[S],R=E-g[C];E=By(T,E,R)}const _=u.fn({...e,[y]:w,[v]:E});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[y]:o,[v]:c}}}}}},K7=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:c}=e,{offset:u=0,mainAxis:f=!0,crossAxis:m=!0}=Ha(t,e),g={x:n,y:r},v=Ks(s),y=U0(v);let w=g[y],E=g[v];const _=Ha(u,e),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(f){const R=y==="y"?"height":"width",M=o.reference[y]-o.floating[R]+S.mainAxis,A=o.reference[y]+o.reference[R]-S.mainAxis;w<M?w=M:w>A&&(w=A)}if(m){var C,T;const R=y==="y"?"width":"height",M=["top","left"].includes($a(s)),A=o.reference[v]-o.floating[R]+(M&&((C=c.offset)==null?void 0:C[v])||0)+(M?0:S.crossAxis),I=o.reference[v]+o.reference[R]+(M?0:((T=c.offset)==null?void 0:T[v])||0)-(M?S.crossAxis:0);E<A?E=A:E>I&&(E=I)}return{[y]:w,[v]:E}}}},X7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:c,elements:u}=e,{apply:f=()=>{},...m}=Ha(t,e),g=await Wu(e,m),v=$a(s),y=Yl(s),w=Ks(s)==="y",{width:E,height:_}=o.floating;let S,C;v==="top"||v==="bottom"?(S=v,C=y===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(C=v,S=y==="end"?"top":"bottom");const T=_-g.top-g.bottom,R=E-g.left-g.right,M=Ys(_-g[S],T),A=Ys(E-g[C],R),I=!e.middlewareData.shift;let k=M,U=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(U=R),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=T),I&&!y){const Y=$n(g.left,0),se=$n(g.right,0),de=$n(g.top,0),W=$n(g.bottom,0);w?U=E-2*(Y!==0||se!==0?Y+se:$n(g.left,g.right)):k=_-2*(de!==0||W!==0?de+W:$n(g.top,g.bottom))}await f({...e,availableWidth:U,availableHeight:k});const F=await c.getDimensions(u.floating);return E!==F.width||_!==F.height?{reset:{rects:!0}}:{}}}};function Rm(){return typeof window<"u"}function Kl(t){return uA(t)?(t.nodeName||"").toLowerCase():"#document"}function Wn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ia(t){var e;return(e=(uA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function uA(t){return Rm()?t instanceof Node||t instanceof Wn(t).Node:!1}function Mr(t){return Rm()?t instanceof Element||t instanceof Wn(t).Element:!1}function aa(t){return Rm()?t instanceof HTMLElement||t instanceof Wn(t).HTMLElement:!1}function lC(t){return!Rm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Wn(t).ShadowRoot}function vd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=jr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function Q7(t){return["table","td","th"].includes(Kl(t))}function Im(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function V0(t){const e=z0(),n=Mr(t)?jr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Z7(t){let e=Xs(t);for(;aa(e)&&!Sl(e);){if(V0(e))return e;if(Im(e))return null;e=Xs(e)}return null}function z0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sl(t){return["html","body","#document"].includes(Kl(t))}function jr(t){return Wn(t).getComputedStyle(t)}function Am(t){return Mr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xs(t){if(Kl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||lC(t)&&t.host||ia(t);return lC(e)?e.host:e}function dA(t){const e=Xs(t);return Sl(e)?t.ownerDocument?t.ownerDocument.body:t.body:aa(e)&&vd(e)?e:dA(e)}function Gu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=dA(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),c=Wn(s);if(o){const u=zy(c);return e.concat(c,c.visualViewport||[],vd(s)?s:[],u&&n?Gu(u):[])}return e.concat(s,Gu(s,[],n))}function zy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fA(t){const e=jr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=aa(t),o=s?t.offsetWidth:n,c=s?t.offsetHeight:r,u=Hh(n)!==o||Hh(r)!==c;return u&&(n=o,r=c),{width:n,height:r,$:u}}function H0(t){return Mr(t)?t:t.contextElement}function fl(t){const e=H0(t);if(!aa(e))return ra(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=fA(e);let c=(o?Hh(n.width):n.width)/r,u=(o?Hh(n.height):n.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const J7=ra(0);function hA(t){const e=Wn(t);return!z0()||!e.visualViewport?J7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function e9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Wn(t)?!1:e}function to(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=H0(t);let c=ra(1);e&&(r?Mr(r)&&(c=fl(r)):c=fl(t));const u=e9(o,n,r)?hA(o):ra(0);let f=(s.left+u.x)/c.x,m=(s.top+u.y)/c.y,g=s.width/c.x,v=s.height/c.y;if(o){const y=Wn(o),w=r&&Mr(r)?Wn(r):r;let E=y,_=zy(E);for(;_&&r&&w!==E;){const S=fl(_),C=_.getBoundingClientRect(),T=jr(_),R=C.left+(_.clientLeft+parseFloat(T.paddingLeft))*S.x,M=C.top+(_.clientTop+parseFloat(T.paddingTop))*S.y;f*=S.x,m*=S.y,g*=S.x,v*=S.y,f+=R,m+=M,E=Wn(_),_=zy(E)}}return qh({width:g,height:v,x:f,y:m})}function $0(t,e){const n=Am(t).scrollLeft;return e?e.left+n:to(ia(t)).left+n}function mA(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:$0(t,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function t9(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",c=ia(r),u=e?Im(e.floating):!1;if(r===c||u&&o)return n;let f={scrollLeft:0,scrollTop:0},m=ra(1);const g=ra(0),v=aa(r);if((v||!v&&!o)&&((Kl(r)!=="body"||vd(c))&&(f=Am(r)),aa(r))){const w=to(r);m=fl(r),g.x=w.x+r.clientLeft,g.y=w.y+r.clientTop}const y=c&&!v&&!o?mA(c,f,!0):ra(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+g.x+y.x,y:n.y*m.y-f.scrollTop*m.y+g.y+y.y}}function n9(t){return Array.from(t.getClientRects())}function r9(t){const e=ia(t),n=Am(t),r=t.ownerDocument.body,s=$n(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=$n(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+$0(t);const u=-n.scrollTop;return jr(r).direction==="rtl"&&(c+=$n(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:c,y:u}}function a9(t,e){const n=Wn(t),r=ia(t),s=n.visualViewport;let o=r.clientWidth,c=r.clientHeight,u=0,f=0;if(s){o=s.width,c=s.height;const m=z0();(!m||m&&e==="fixed")&&(u=s.offsetLeft,f=s.offsetTop)}return{width:o,height:c,x:u,y:f}}function s9(t,e){const n=to(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=aa(t)?fl(t):ra(1),c=t.clientWidth*o.x,u=t.clientHeight*o.y,f=s*o.x,m=r*o.y;return{width:c,height:u,x:f,y:m}}function cC(t,e,n){let r;if(e==="viewport")r=a9(t,n);else if(e==="document")r=r9(ia(t));else if(Mr(e))r=s9(e,n);else{const s=hA(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return qh(r)}function pA(t,e){const n=Xs(t);return n===e||!Mr(n)||Sl(n)?!1:jr(n).position==="fixed"||pA(n,e)}function i9(t,e){const n=e.get(t);if(n)return n;let r=Gu(t,[],!1).filter(u=>Mr(u)&&Kl(u)!=="body"),s=null;const o=jr(t).position==="fixed";let c=o?Xs(t):t;for(;Mr(c)&&!Sl(c);){const u=jr(c),f=V0(c);!f&&u.position==="fixed"&&(s=null),(o?!f&&!s:!f&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||vd(c)&&!f&&pA(t,c))?r=r.filter(g=>g!==c):s=u,c=Xs(c)}return e.set(t,r),r}function o9(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const c=[...n==="clippingAncestors"?Im(e)?[]:i9(e,this._c):[].concat(n),r],u=c[0],f=c.reduce((m,g)=>{const v=cC(e,g,s);return m.top=$n(v.top,m.top),m.right=Ys(v.right,m.right),m.bottom=Ys(v.bottom,m.bottom),m.left=$n(v.left,m.left),m},cC(e,u,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function l9(t){const{width:e,height:n}=fA(t);return{width:e,height:n}}function c9(t,e,n){const r=aa(e),s=ia(e),o=n==="fixed",c=to(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const f=ra(0);if(r||!r&&!o)if((Kl(e)!=="body"||vd(s))&&(u=Am(e)),r){const y=to(e,!0,o,e);f.x=y.x+e.clientLeft,f.y=y.y+e.clientTop}else s&&(f.x=$0(s));const m=s&&!r&&!o?mA(s,u):ra(0),g=c.left+u.scrollLeft-f.x-m.x,v=c.top+u.scrollTop-f.y-m.y;return{x:g,y:v,width:c.width,height:c.height}}function Lv(t){return jr(t).position==="static"}function uC(t,e){if(!aa(t)||jr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ia(t)===n&&(n=n.ownerDocument.body),n}function gA(t,e){const n=Wn(t);if(Im(t))return n;if(!aa(t)){let s=Xs(t);for(;s&&!Sl(s);){if(Mr(s)&&!Lv(s))return s;s=Xs(s)}return n}let r=uC(t,e);for(;r&&Q7(r)&&Lv(r);)r=uC(r,e);return r&&Sl(r)&&Lv(r)&&!V0(r)?n:r||Z7(t)||n}const u9=async function(t){const e=this.getOffsetParent||gA,n=this.getDimensions,r=await n(t.floating);return{reference:c9(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function d9(t){return jr(t).direction==="rtl"}const f9={convertOffsetParentRelativeRectToViewportRelativeRect:t9,getDocumentElement:ia,getClippingRect:o9,getOffsetParent:gA,getElementRects:u9,getClientRects:n9,getDimensions:l9,getScale:fl,isElement:Mr,isRTL:d9};function vA(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function h9(t,e){let n=null,r;const s=ia(t);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),o();const m=t.getBoundingClientRect(),{left:g,top:v,width:y,height:w}=m;if(u||e(),!y||!w)return;const E=Kf(v),_=Kf(s.clientWidth-(g+y)),S=Kf(s.clientHeight-(v+w)),C=Kf(g),R={rootMargin:-E+"px "+-_+"px "+-S+"px "+-C+"px",threshold:$n(0,Ys(1,f))||1};let M=!0;function A(I){const k=I[0].intersectionRatio;if(k!==f){if(!M)return c();k?c(!1,k):r=setTimeout(()=>{c(!1,1e-7)},1e3)}k===1&&!vA(m,t.getBoundingClientRect())&&c(),M=!1}try{n=new IntersectionObserver(A,{...R,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,R)}n.observe(t)}return c(!0),o}function yA(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=H0(t),g=s||o?[...m?Gu(m):[],...Gu(e)]:[];g.forEach(C=>{s&&C.addEventListener("scroll",n,{passive:!0}),o&&C.addEventListener("resize",n)});const v=m&&u?h9(m,n):null;let y=-1,w=null;c&&(w=new ResizeObserver(C=>{let[T]=C;T&&T.target===m&&w&&(w.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var R;(R=w)==null||R.observe(e)})),n()}),m&&!f&&w.observe(m),w.observe(e));let E,_=f?to(t):null;f&&S();function S(){const C=to(t);_&&!vA(_,C)&&n(),_=C,E=requestAnimationFrame(S)}return n(),()=>{var C;g.forEach(T=>{s&&T.removeEventListener("scroll",n),o&&T.removeEventListener("resize",n)}),v==null||v(),(C=w)==null||C.disconnect(),w=null,f&&cancelAnimationFrame(E)}}const m9=G7,p9=Y7,g9=$7,v9=X7,y9=q7,dC=H7,b9=K7,x9=(t,e,n)=>{const r=new Map,s={platform:f9,...n},o={...s.platform,_c:r};return z7(t,e,{...s,platform:o})};var Hy=x.useLayoutEffect,w9=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Wh=function(){};function _9(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function E9(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var o=[].concat(r);if(e&&t)for(var c in e)e.hasOwnProperty(c)&&e[c]&&o.push("".concat(_9(t,c)));return o.filter(function(u){return u}).map(function(u){return String(u).trim()}).join(" ")}var fC=function(e){return O9(e)?e.filter(Boolean):eo(e)==="object"&&e!==null?[e]:[]},bA=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Za(e,w9);return Se({},n)},Nt=function(e,n,r){var s=e.cx,o=e.getStyles,c=e.getClassNames,u=e.className;return{css:o(n,e),className:s(r??{},c(n,e),u)}};function Dm(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function S9(t){return Dm(t)?window.innerHeight:t.clientHeight}function xA(t){return Dm(t)?window.pageYOffset:t.scrollTop}function Gh(t,e){if(Dm(t)){window.scrollTo(0,e);return}t.scrollTop=e}function C9(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=t;s=s.parentElement;)if(e=getComputedStyle(s),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function N9(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Xf(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Wh,s=xA(t),o=e-s,c=10,u=0;function f(){u+=c;var m=N9(u,s,o,n);Gh(t,m),u<n?window.requestAnimationFrame(f):r(t)}f()}function hC(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),s=e.offsetHeight/3;r.bottom+s>n.bottom?Gh(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+s,t.scrollHeight)):r.top-s<n.top&&Gh(t,Math.max(e.offsetTop-s,0))}function T9(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function mC(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function R9(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var wA=!1,I9={get passive(){return wA=!0}},Qf=typeof window<"u"?window:{};Qf.addEventListener&&Qf.removeEventListener&&(Qf.addEventListener("p",Wh,I9),Qf.removeEventListener("p",Wh,!1));var A9=wA;function D9(t){return t!=null}function O9(t){return Array.isArray(t)}function Zf(t,e,n){return t?e:n}var M9=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var o=Object.entries(e).filter(function(c){var u=La(c,1),f=u[0];return!r.includes(f)});return o.reduce(function(c,u){var f=La(u,2),m=f[0],g=f[1];return c[m]=g,c},{})},j9=["children","innerProps"],P9=["children","innerProps"];function k9(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,s=t.placement,o=t.shouldScroll,c=t.isFixedPosition,u=t.controlHeight,f=C9(n),m={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return m;var g=f.getBoundingClientRect(),v=g.height,y=n.getBoundingClientRect(),w=y.bottom,E=y.height,_=y.top,S=n.offsetParent.getBoundingClientRect(),C=S.top,T=c?window.innerHeight:S9(f),R=xA(f),M=parseInt(getComputedStyle(n).marginBottom,10),A=parseInt(getComputedStyle(n).marginTop,10),I=C-A,k=T-_,U=I+R,F=v-R-_,Y=w-T+R+M,se=R+_-A,de=160;switch(s){case"auto":case"bottom":if(k>=E)return{placement:"bottom",maxHeight:e};if(F>=E&&!c)return o&&Xf(f,Y,de),{placement:"bottom",maxHeight:e};if(!c&&F>=r||c&&k>=r){o&&Xf(f,Y,de);var W=c?k-M:F-M;return{placement:"bottom",maxHeight:W}}if(s==="auto"||c){var Q=e,Z=c?I:U;return Z>=r&&(Q=Math.min(Z-M-u,e)),{placement:"top",maxHeight:Q}}if(s==="bottom")return o&&Gh(f,Y),{placement:"bottom",maxHeight:e};break;case"top":if(I>=E)return{placement:"top",maxHeight:e};if(U>=E&&!c)return o&&Xf(f,se,de),{placement:"top",maxHeight:e};if(!c&&U>=r||c&&I>=r){var j=e;return(!c&&U>=r||c&&I>=r)&&(j=c?I-A:U-A),o&&Xf(f,se,de),{placement:"top",maxHeight:j}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return m}function L9(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var _A=function(e){return e==="auto"?"bottom":e},U9=function(e,n){var r,s=e.placement,o=e.theme,c=o.borderRadius,u=o.spacing,f=o.colors;return Se((r={label:"menu"},pu(r,L9(s),"100%"),pu(r,"position","absolute"),pu(r,"width","100%"),pu(r,"zIndex",1),r),n?{}:{backgroundColor:f.neutral0,borderRadius:c,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:u.menuGutter,marginTop:u.menuGutter})},EA=x.createContext(null),F9=function(e){var n=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,o=e.menuPlacement,c=e.menuPosition,u=e.menuShouldScrollIntoView,f=e.theme,m=x.useContext(EA)||{},g=m.setPortalPlacement,v=x.useRef(null),y=x.useState(s),w=La(y,2),E=w[0],_=w[1],S=x.useState(null),C=La(S,2),T=C[0],R=C[1],M=f.spacing.controlHeight;return Hy(function(){var A=v.current;if(A){var I=c==="fixed",k=u&&!I,U=k9({maxHeight:s,menuEl:A,minHeight:r,placement:o,shouldScroll:k,isFixedPosition:I,controlHeight:M});_(U.maxHeight),R(U.placement),g==null||g(U.placement)}},[s,o,c,u,r,g,M]),n({ref:v,placerProps:Se(Se({},e),{},{placement:T||_A(o),maxHeight:E})})},B9=function(e){var n=e.children,r=e.innerRef,s=e.innerProps;return Ee("div",Ne({},Nt(e,"menu",{menu:!0}),{ref:r},s),n)},V9=B9,z9=function(e,n){var r=e.maxHeight,s=e.theme.spacing.baseUnit;return Se({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:s,paddingTop:s})},H9=function(e){var n=e.children,r=e.innerProps,s=e.innerRef,o=e.isMulti;return Ee("div",Ne({},Nt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:s},r),n)},SA=function(e,n){var r=e.theme,s=r.spacing.baseUnit,o=r.colors;return Se({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},$9=SA,q9=SA,W9=function(e){var n=e.children,r=n===void 0?"No options":n,s=e.innerProps,o=Za(e,j9);return Ee("div",Ne({},Nt(Se(Se({},o),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},G9=function(e){var n=e.children,r=n===void 0?"Loading...":n,s=e.innerProps,o=Za(e,P9);return Ee("div",Ne({},Nt(Se(Se({},o),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},Y9=function(e){var n=e.rect,r=e.offset,s=e.position;return{left:n.left,position:s,top:r,width:n.width,zIndex:1}},K9=function(e){var n=e.appendTo,r=e.children,s=e.controlElement,o=e.innerProps,c=e.menuPlacement,u=e.menuPosition,f=x.useRef(null),m=x.useRef(null),g=x.useState(_A(c)),v=La(g,2),y=v[0],w=v[1],E=x.useMemo(function(){return{setPortalPlacement:w}},[]),_=x.useState(null),S=La(_,2),C=S[0],T=S[1],R=x.useCallback(function(){if(s){var k=T9(s),U=u==="fixed"?0:window.pageYOffset,F=k[y]+U;(F!==(C==null?void 0:C.offset)||k.left!==(C==null?void 0:C.rect.left)||k.width!==(C==null?void 0:C.rect.width))&&T({offset:F,rect:k})}},[s,u,y,C==null?void 0:C.offset,C==null?void 0:C.rect.left,C==null?void 0:C.rect.width]);Hy(function(){R()},[R]);var M=x.useCallback(function(){typeof m.current=="function"&&(m.current(),m.current=null),s&&f.current&&(m.current=yA(s,f.current,R,{elementResize:"ResizeObserver"in window}))},[s,R]);Hy(function(){M()},[M]);var A=x.useCallback(function(k){f.current=k,M()},[M]);if(!n&&u!=="fixed"||!C)return null;var I=Ee("div",Ne({ref:A},Nt(Se(Se({},e),{},{offset:C.offset,position:u,rect:C.rect}),"menuPortal",{"menu-portal":!0}),o),r);return Ee(EA.Provider,{value:E},n?Ju.createPortal(I,n):I)},X9=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},Q9=function(e){var n=e.children,r=e.innerProps,s=e.isDisabled,o=e.isRtl;return Ee("div",Ne({},Nt(e,"container",{"--is-disabled":s,"--is-rtl":o}),r),n)},Z9=function(e,n){var r=e.theme.spacing,s=e.isMulti,o=e.hasValue,c=e.selectProps.controlShouldRenderValue;return Se({alignItems:"center",display:s&&o&&c?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},J9=function(e){var n=e.children,r=e.innerProps,s=e.isMulti,o=e.hasValue;return Ee("div",Ne({},Nt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":o}),r),n)},eq=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},tq=function(e){var n=e.children,r=e.innerProps;return Ee("div",Ne({},Nt(e,"indicatorsContainer",{indicators:!0}),r),n)},pC,nq=["size"],rq=["innerProps","isRtl","size"],aq={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},CA=function(e){var n=e.size,r=Za(e,nq);return Ee("svg",Ne({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:aq},r))},q0=function(e){return Ee(CA,Ne({size:20},e),Ee("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},NA=function(e){return Ee(CA,Ne({size:20},e),Ee("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},TA=function(e,n){var r=e.isFocused,s=e.theme,o=s.spacing.baseUnit,c=s.colors;return Se({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?c.neutral60:c.neutral20,padding:o*2,":hover":{color:r?c.neutral80:c.neutral40}})},sq=TA,iq=function(e){var n=e.children,r=e.innerProps;return Ee("div",Ne({},Nt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Ee(NA,null))},oq=TA,lq=function(e){var n=e.children,r=e.innerProps;return Ee("div",Ne({},Nt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Ee(q0,null))},cq=function(e,n){var r=e.isDisabled,s=e.theme,o=s.spacing.baseUnit,c=s.colors;return Se({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?c.neutral10:c.neutral20,marginBottom:o*2,marginTop:o*2})},uq=function(e){var n=e.innerProps;return Ee("span",Ne({},n,Nt(e,"indicatorSeparator",{"indicator-separator":!0})))},dq=O7(pC||(pC=M7([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),fq=function(e,n){var r=e.isFocused,s=e.size,o=e.theme,c=o.colors,u=o.spacing.baseUnit;return Se({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?c.neutral60:c.neutral20,padding:u*2})},Uv=function(e){var n=e.delay,r=e.offset;return Ee("span",{css:L0({animation:"".concat(dq," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},hq=function(e){var n=e.innerProps,r=e.isRtl,s=e.size,o=s===void 0?4:s,c=Za(e,rq);return Ee("div",Ne({},Nt(Se(Se({},c),{},{innerProps:n,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Ee(Uv,{delay:0,offset:r}),Ee(Uv,{delay:160,offset:!0}),Ee(Uv,{delay:320,offset:!r}))},mq=function(e,n){var r=e.isDisabled,s=e.isFocused,o=e.theme,c=o.colors,u=o.borderRadius,f=o.spacing;return Se({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:f.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?c.neutral5:c.neutral0,borderColor:r?c.neutral10:s?c.primary:c.neutral20,borderRadius:u,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(c.primary):void 0,"&:hover":{borderColor:s?c.primary:c.neutral30}})},pq=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,o=e.innerRef,c=e.innerProps,u=e.menuIsOpen;return Ee("div",Ne({ref:o},Nt(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":u}),c,{"aria-disabled":r||void 0}),n)},gq=pq,vq=["data"],yq=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},bq=function(e){var n=e.children,r=e.cx,s=e.getStyles,o=e.getClassNames,c=e.Heading,u=e.headingProps,f=e.innerProps,m=e.label,g=e.theme,v=e.selectProps;return Ee("div",Ne({},Nt(e,"group",{group:!0}),f),Ee(c,Ne({},u,{selectProps:v,theme:g,getStyles:s,getClassNames:o,cx:r}),m),Ee("div",null,n))},xq=function(e,n){var r=e.theme,s=r.colors,o=r.spacing;return Se({label:"group",cursor:"default",display:"block"},n?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},wq=function(e){var n=bA(e);n.data;var r=Za(n,vq);return Ee("div",Ne({},Nt(e,"groupHeading",{"group-heading":!0}),r))},_q=bq,Eq=["innerRef","isDisabled","isHidden","inputClassName"],Sq=function(e,n){var r=e.isDisabled,s=e.value,o=e.theme,c=o.spacing,u=o.colors;return Se(Se({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},Cq),n?{}:{margin:c.baseUnit/2,paddingBottom:c.baseUnit/2,paddingTop:c.baseUnit/2,color:u.neutral80})},RA={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Cq={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Se({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},RA)},Nq=function(e){return Se({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},RA)},Tq=function(e){var n=e.cx,r=e.value,s=bA(e),o=s.innerRef,c=s.isDisabled,u=s.isHidden,f=s.inputClassName,m=Za(s,Eq);return Ee("div",Ne({},Nt(e,"input",{"input-container":!0}),{"data-value":r||""}),Ee("input",Ne({className:n({input:!0},f),ref:o,style:Nq(u),disabled:c},m)))},Rq=Tq,Iq=function(e,n){var r=e.theme,s=r.spacing,o=r.borderRadius,c=r.colors;return Se({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:c.neutral10,borderRadius:o/2,margin:s.baseUnit/2})},Aq=function(e,n){var r=e.theme,s=r.borderRadius,o=r.colors,c=e.cropWithEllipsis;return Se({overflow:"hidden",textOverflow:c||c===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:s/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Dq=function(e,n){var r=e.theme,s=r.spacing,o=r.borderRadius,c=r.colors,u=e.isFocused;return Se({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:u?c.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:c.dangerLight,color:c.danger}})},IA=function(e){var n=e.children,r=e.innerProps;return Ee("div",r,n)},Oq=IA,Mq=IA;function jq(t){var e=t.children,n=t.innerProps;return Ee("div",Ne({role:"button"},n),e||Ee(q0,{size:14}))}var Pq=function(e){var n=e.children,r=e.components,s=e.data,o=e.innerProps,c=e.isDisabled,u=e.removeProps,f=e.selectProps,m=r.Container,g=r.Label,v=r.Remove;return Ee(m,{data:s,innerProps:Se(Se({},Nt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":c})),o),selectProps:f},Ee(g,{data:s,innerProps:Se({},Nt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:f},n),Ee(v,{data:s,innerProps:Se(Se({},Nt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},u),selectProps:f}))},kq=Pq,Lq=function(e,n){var r=e.isDisabled,s=e.isFocused,o=e.isSelected,c=e.theme,u=c.spacing,f=c.colors;return Se({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?f.primary:s?f.primary25:"transparent",color:r?f.neutral20:o?f.neutral0:"inherit",padding:"".concat(u.baseUnit*2,"px ").concat(u.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?f.primary:f.primary50}})},Uq=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,o=e.isSelected,c=e.innerRef,u=e.innerProps;return Ee("div",Ne({},Nt(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":o}),{ref:c,"aria-disabled":r},u),n)},Fq=Uq,Bq=function(e,n){var r=e.theme,s=r.spacing,o=r.colors;return Se({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Vq=function(e){var n=e.children,r=e.innerProps;return Ee("div",Ne({},Nt(e,"placeholder",{placeholder:!0}),r),n)},zq=Vq,Hq=function(e,n){var r=e.isDisabled,s=e.theme,o=s.spacing,c=s.colors;return Se({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?c.neutral40:c.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},$q=function(e){var n=e.children,r=e.isDisabled,s=e.innerProps;return Ee("div",Ne({},Nt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),n)},qq=$q,Wq={ClearIndicator:lq,Control:gq,DropdownIndicator:iq,DownChevron:NA,CrossIcon:q0,Group:_q,GroupHeading:wq,IndicatorsContainer:tq,IndicatorSeparator:uq,Input:Rq,LoadingIndicator:hq,Menu:V9,MenuList:H9,MenuPortal:K9,LoadingMessage:G9,NoOptionsMessage:W9,MultiValue:kq,MultiValueContainer:Oq,MultiValueLabel:Mq,MultiValueRemove:jq,Option:Fq,Placeholder:zq,SelectContainer:Q9,SingleValue:qq,ValueContainer:J9},Gq=function(e){return Se(Se({},Wq),e.components)},gC=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Yq(t,e){return!!(t===e||gC(t)&&gC(e))}function Kq(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Yq(t[n],e[n]))return!1;return!0}function Xq(t,e){e===void 0&&(e=Kq);var n=null;function r(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var c=t.apply(this,s);return n={lastResult:c,lastArgs:s,lastThis:this},c}return r.clear=function(){n=null},r}var Qq={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Zq=function(e){return Ee("span",Ne({css:Qq},e))},vC=Zq,Jq={guidance:function(e){var n=e.isSearchable,r=e.isMulti,s=e.tabSelectsValue,o=e.context,c=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return c?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,s=r===void 0?"":r,o=e.labels,c=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return c?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,s=e.options,o=e.label,c=o===void 0?"":o,u=e.selectValue,f=e.isDisabled,m=e.isSelected,g=e.isAppleDevice,v=function(_,S){return _&&_.length?"".concat(_.indexOf(S)+1," of ").concat(_.length):""};if(n==="value"&&u)return"value ".concat(c," focused, ").concat(v(u,r),".");if(n==="menu"&&g){var y=f?" disabled":"",w="".concat(m?" selected":"").concat(y);return"".concat(c).concat(w,", ").concat(v(s,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},eW=function(e){var n=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,o=e.focusableOptions,c=e.isFocused,u=e.selectValue,f=e.selectProps,m=e.id,g=e.isAppleDevice,v=f.ariaLiveMessages,y=f.getOptionLabel,w=f.inputValue,E=f.isMulti,_=f.isOptionDisabled,S=f.isSearchable,C=f.menuIsOpen,T=f.options,R=f.screenReaderStatus,M=f.tabSelectsValue,A=f.isLoading,I=f["aria-label"],k=f["aria-live"],U=x.useMemo(function(){return Se(Se({},Jq),v||{})},[v]),F=x.useMemo(function(){var Z="";if(n&&U.onChange){var j=n.option,K=n.options,B=n.removedValue,H=n.removedValues,P=n.value,$=function(fe){return Array.isArray(fe)?null:fe},re=B||j||$(P),ae=re?y(re):"",oe=K||H||void 0,J=oe?oe.map(y):[],ee=Se({isDisabled:re&&_(re,u),label:ae,labels:J},n);Z=U.onChange(ee)}return Z},[n,U,_,u,y]),Y=x.useMemo(function(){var Z="",j=r||s,K=!!(r&&u&&u.includes(r));if(j&&U.onFocus){var B={focused:j,label:y(j),isDisabled:_(j,u),isSelected:K,options:o,context:j===r?"menu":"value",selectValue:u,isAppleDevice:g};Z=U.onFocus(B)}return Z},[r,s,y,_,U,o,u,g]),se=x.useMemo(function(){var Z="";if(C&&T.length&&!A&&U.onFilter){var j=R({count:o.length});Z=U.onFilter({inputValue:w,resultsMessage:j})}return Z},[o,w,C,U,T,R,A]),de=(n==null?void 0:n.action)==="initial-input-focus",W=x.useMemo(function(){var Z="";if(U.guidance){var j=s?"value":C?"menu":"input";Z=U.guidance({"aria-label":I,context:j,isDisabled:r&&_(r,u),isMulti:E,isSearchable:S,tabSelectsValue:M,isInitialFocus:de})}return Z},[I,r,s,E,_,S,C,U,u,M,de]),Q=Ee(x.Fragment,null,Ee("span",{id:"aria-selection"},F),Ee("span",{id:"aria-focused"},Y),Ee("span",{id:"aria-results"},se),Ee("span",{id:"aria-guidance"},W));return Ee(x.Fragment,null,Ee(vC,{id:m},de&&Q),Ee(vC,{"aria-live":k,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},c&&!de&&Q))},tW=eW,$y=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],nW=new RegExp("["+$y.map(function(t){return t.letters}).join("")+"]","g"),AA={};for(var Fv=0;Fv<$y.length;Fv++)for(var Bv=$y[Fv],Vv=0;Vv<Bv.letters.length;Vv++)AA[Bv.letters[Vv]]=Bv.base;var DA=function(e){return e.replace(nW,function(n){return AA[n]})},rW=Xq(DA),yC=function(e){return e.replace(/^\s+|\s+$/g,"")},aW=function(e){return"".concat(e.label," ").concat(e.value)},sW=function(e){return function(n,r){if(n.data.__isNew__)return!0;var s=Se({ignoreCase:!0,ignoreAccents:!0,stringify:aW,trim:!0,matchFrom:"any"},e),o=s.ignoreCase,c=s.ignoreAccents,u=s.stringify,f=s.trim,m=s.matchFrom,g=f?yC(r):r,v=f?yC(u(n)):u(n);return o&&(g=g.toLowerCase(),v=v.toLowerCase()),c&&(g=rW(g),v=DA(v)),m==="start"?v.substr(0,g.length)===g:v.indexOf(g)>-1}},iW=["innerRef"];function oW(t){var e=t.innerRef,n=Za(t,iW),r=M9(n,"onExited","in","enter","exit","appear");return Ee("input",Ne({ref:e},r,{css:L0({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var lW=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function cW(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,s=t.onTopArrive,o=t.onTopLeave,c=x.useRef(!1),u=x.useRef(!1),f=x.useRef(0),m=x.useRef(null),g=x.useCallback(function(S,C){if(m.current!==null){var T=m.current,R=T.scrollTop,M=T.scrollHeight,A=T.clientHeight,I=m.current,k=C>0,U=M-A-R,F=!1;U>C&&c.current&&(r&&r(S),c.current=!1),k&&u.current&&(o&&o(S),u.current=!1),k&&C>U?(n&&!c.current&&n(S),I.scrollTop=M,F=!0,c.current=!0):!k&&-C>R&&(s&&!u.current&&s(S),I.scrollTop=0,F=!0,u.current=!0),F&&lW(S)}},[n,r,s,o]),v=x.useCallback(function(S){g(S,S.deltaY)},[g]),y=x.useCallback(function(S){f.current=S.changedTouches[0].clientY},[]),w=x.useCallback(function(S){var C=f.current-S.changedTouches[0].clientY;g(S,C)},[g]),E=x.useCallback(function(S){if(S){var C=A9?{passive:!1}:!1;S.addEventListener("wheel",v,C),S.addEventListener("touchstart",y,C),S.addEventListener("touchmove",w,C)}},[w,y,v]),_=x.useCallback(function(S){S&&(S.removeEventListener("wheel",v,!1),S.removeEventListener("touchstart",y,!1),S.removeEventListener("touchmove",w,!1))},[w,y,v]);return x.useEffect(function(){if(e){var S=m.current;return E(S),function(){_(S)}}},[e,E,_]),function(S){m.current=S}}var bC=["boxSizing","height","overflow","paddingRight","position"],xC={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function wC(t){t.cancelable&&t.preventDefault()}function _C(t){t.stopPropagation()}function EC(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function SC(){return"ontouchstart"in window||navigator.maxTouchPoints}var CC=!!(typeof window<"u"&&window.document&&window.document.createElement),iu=0,Jo={capture:!1,passive:!1};function uW(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,s=x.useRef({}),o=x.useRef(null),c=x.useCallback(function(f){if(CC){var m=document.body,g=m&&m.style;if(r&&bC.forEach(function(E){var _=g&&g[E];s.current[E]=_}),r&&iu<1){var v=parseInt(s.current.paddingRight,10)||0,y=document.body?document.body.clientWidth:0,w=window.innerWidth-y+v||0;Object.keys(xC).forEach(function(E){var _=xC[E];g&&(g[E]=_)}),g&&(g.paddingRight="".concat(w,"px"))}m&&SC()&&(m.addEventListener("touchmove",wC,Jo),f&&(f.addEventListener("touchstart",EC,Jo),f.addEventListener("touchmove",_C,Jo))),iu+=1}},[r]),u=x.useCallback(function(f){if(CC){var m=document.body,g=m&&m.style;iu=Math.max(iu-1,0),r&&iu<1&&bC.forEach(function(v){var y=s.current[v];g&&(g[v]=y)}),m&&SC()&&(m.removeEventListener("touchmove",wC,Jo),f&&(f.removeEventListener("touchstart",EC,Jo),f.removeEventListener("touchmove",_C,Jo)))}},[r]);return x.useEffect(function(){if(e){var f=o.current;return c(f),function(){u(f)}}},[e,c,u]),function(f){o.current=f}}var dW=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},fW={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function hW(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,s=r===void 0?!0:r,o=t.onBottomArrive,c=t.onBottomLeave,u=t.onTopArrive,f=t.onTopLeave,m=cW({isEnabled:s,onBottomArrive:o,onBottomLeave:c,onTopArrive:u,onTopLeave:f}),g=uW({isEnabled:n}),v=function(w){m(w),g(w)};return Ee(x.Fragment,null,n&&Ee("div",{onClick:dW,css:fW}),e(v))}var mW={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},pW=function(e){var n=e.name,r=e.onFocus;return Ee("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:mW,value:"",onChange:function(){}})},gW=pW;function W0(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function vW(){return W0(/^iPhone/i)}function OA(){return W0(/^Mac/i)}function yW(){return W0(/^iPad/i)||OA()&&navigator.maxTouchPoints>1}function bW(){return vW()||yW()}function xW(){return OA()||bW()}var wW=function(e){return e.label},_W=function(e){return e.label},EW=function(e){return e.value},SW=function(e){return!!e.isDisabled},CW={clearIndicator:oq,container:X9,control:mq,dropdownIndicator:sq,group:yq,groupHeading:xq,indicatorsContainer:eq,indicatorSeparator:cq,input:Sq,loadingIndicator:fq,loadingMessage:q9,menu:U9,menuList:z9,menuPortal:Y9,multiValue:Iq,multiValueLabel:Aq,multiValueRemove:Dq,noOptionsMessage:$9,option:Lq,placeholder:Bq,singleValue:Hq,valueContainer:Z9},NW={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},TW=4,MA=4,RW=38,IW=MA*2,AW={baseUnit:MA,controlHeight:RW,menuGutter:IW},zv={borderRadius:TW,colors:NW,spacing:AW},DW={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:mC(),captureMenuScroll:!mC(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:sW(),formatGroupLabel:wW,getOptionLabel:_W,getOptionValue:EW,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:SW,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!R9(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function NC(t,e,n,r){var s=kA(t,e,n),o=LA(t,e,n),c=PA(t,e),u=Yh(t,e);return{type:"option",data:e,isDisabled:s,isSelected:o,label:c,value:u,index:r}}function hh(t,e){return t.options.map(function(n,r){if("options"in n){var s=n.options.map(function(c,u){return NC(t,c,e,u)}).filter(function(c){return RC(t,c)});return s.length>0?{type:"group",data:n,options:s,index:r}:void 0}var o=NC(t,n,e,r);return RC(t,o)?o:void 0}).filter(D9)}function jA(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,O0(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function TC(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,O0(r.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(r.index,"-").concat(s.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function OW(t,e){return jA(hh(t,e))}function RC(t,e){var n=t.inputValue,r=n===void 0?"":n,s=e.data,o=e.isSelected,c=e.label,u=e.value;return(!FA(t)||!o)&&UA(t,{label:c,value:u,data:s},r)}function MW(t,e){var n=t.focusedValue,r=t.selectValue,s=r.indexOf(n);if(s>-1){var o=e.indexOf(n);if(o>-1)return n;if(s<e.length)return e[s]}return null}function jW(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var Hv=function(e,n){var r,s=(r=e.find(function(o){return o.data===n}))===null||r===void 0?void 0:r.id;return s||null},PA=function(e,n){return e.getOptionLabel(n)},Yh=function(e,n){return e.getOptionValue(n)};function kA(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function LA(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Yh(t,e);return n.some(function(s){return Yh(t,s)===r})}function UA(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var FA=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},PW=1,BA=function(t){I$(n,t);var e=O$(n);function n(r){var s;if(T$(this,n),s=e.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=xW(),s.controlRef=null,s.getControlRef=function(f){s.controlRef=f},s.focusedOptionRef=null,s.getFocusedOptionRef=function(f){s.focusedOptionRef=f},s.menuListRef=null,s.getMenuListRef=function(f){s.menuListRef=f},s.inputRef=null,s.getInputRef=function(f){s.inputRef=f},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(f,m){var g=s.props,v=g.onChange,y=g.name;m.name=y,s.ariaOnChange(f,m),v(f,m)},s.setValue=function(f,m,g){var v=s.props,y=v.closeMenuOnSelect,w=v.isMulti,E=v.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:E}),y&&(s.setState({inputIsHiddenAfterUpdate:!w}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(f,{action:m,option:g})},s.selectOption=function(f){var m=s.props,g=m.blurInputOnSelect,v=m.isMulti,y=m.name,w=s.state.selectValue,E=v&&s.isOptionSelected(f,w),_=s.isOptionDisabled(f,w);if(E){var S=s.getOptionValue(f);s.setValue(w.filter(function(C){return s.getOptionValue(C)!==S}),"deselect-option",f)}else if(!_)v?s.setValue([].concat(O0(w),[f]),"select-option",f):s.setValue(f,"select-option");else{s.ariaOnChange(f,{action:"select-option",option:f,name:y});return}g&&s.blurInput()},s.removeValue=function(f){var m=s.props.isMulti,g=s.state.selectValue,v=s.getOptionValue(f),y=g.filter(function(E){return s.getOptionValue(E)!==v}),w=Zf(m,y,y[0]||null);s.onChange(w,{action:"remove-value",removedValue:f}),s.focusInput()},s.clearValue=function(){var f=s.state.selectValue;s.onChange(Zf(s.props.isMulti,[],null),{action:"clear",removedValues:f})},s.popValue=function(){var f=s.props.isMulti,m=s.state.selectValue,g=m[m.length-1],v=m.slice(0,m.length-1),y=Zf(f,v,v[0]||null);g&&s.onChange(y,{action:"pop-value",removedValue:g})},s.getFocusedOptionId=function(f){return Hv(s.state.focusableOptionsWithIds,f)},s.getFocusableOptionsWithIds=function(){return TC(hh(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var f=arguments.length,m=new Array(f),g=0;g<f;g++)m[g]=arguments[g];return E9.apply(void 0,[s.props.classNamePrefix].concat(m))},s.getOptionLabel=function(f){return PA(s.props,f)},s.getOptionValue=function(f){return Yh(s.props,f)},s.getStyles=function(f,m){var g=s.props.unstyled,v=CW[f](m,g);v.boxSizing="border-box";var y=s.props.styles[f];return y?y(v,m):v},s.getClassNames=function(f,m){var g,v;return(g=(v=s.props.classNames)[f])===null||g===void 0?void 0:g.call(v,m)},s.getElementId=function(f){return"".concat(s.state.instancePrefix,"-").concat(f)},s.getComponents=function(){return Gq(s.props)},s.buildCategorizedOptions=function(){return hh(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return jA(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(f,m){s.setState({ariaSelection:Se({value:f},m)})},s.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(f){s.blockOptionHover=!1},s.onControlMouseDown=function(f){if(!f.defaultPrevented){var m=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&s.onMenuClose():m&&s.openMenu("first"):(m&&(s.openAfterFocus=!0),s.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()}},s.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0)&&!s.props.isDisabled){var m=s.props,g=m.isMulti,v=m.menuIsOpen;s.focusInput(),v?(s.setState({inputIsHiddenAfterUpdate:!g}),s.onMenuClose()):s.openMenu("first"),f.preventDefault()}},s.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(s.clearValue(),f.preventDefault(),s.openAfterFocus=!1,f.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(f){typeof s.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&Dm(f.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(f)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(f){var m=f.touches,g=m&&m.item(0);g&&(s.initialTouchX=g.clientX,s.initialTouchY=g.clientY,s.userIsDragging=!1)},s.onTouchMove=function(f){var m=f.touches,g=m&&m.item(0);if(g){var v=Math.abs(g.clientX-s.initialTouchX),y=Math.abs(g.clientY-s.initialTouchY),w=5;s.userIsDragging=v>w||y>w}},s.onTouchEnd=function(f){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(f.target)&&s.menuListRef&&!s.menuListRef.contains(f.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(f){s.userIsDragging||s.onControlMouseDown(f)},s.onClearIndicatorTouchEnd=function(f){s.userIsDragging||s.onClearIndicatorMouseDown(f)},s.onDropdownIndicatorTouchEnd=function(f){s.userIsDragging||s.onDropdownIndicatorMouseDown(f)},s.handleInputChange=function(f){var m=s.props.inputValue,g=f.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(g,{action:"input-change",prevInputValue:m}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(f){s.props.onFocus&&s.props.onFocus(f),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(f){var m=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(f),s.onInputChange("",{action:"input-blur",prevInputValue:m}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(f){if(!(s.blockOptionHover||s.state.focusedOption===f)){var m=s.getFocusableOptions(),g=m.indexOf(f);s.setState({focusedOption:f,focusedOptionId:g>-1?s.getFocusedOptionId(f):null})}},s.shouldHideSelectedOptions=function(){return FA(s.props)},s.onValueInputFocus=function(f){f.preventDefault(),f.stopPropagation(),s.focus()},s.onKeyDown=function(f){var m=s.props,g=m.isMulti,v=m.backspaceRemovesValue,y=m.escapeClearsValue,w=m.inputValue,E=m.isClearable,_=m.isDisabled,S=m.menuIsOpen,C=m.onKeyDown,T=m.tabSelectsValue,R=m.openMenuOnFocus,M=s.state,A=M.focusedOption,I=M.focusedValue,k=M.selectValue;if(!_&&!(typeof C=="function"&&(C(f),f.defaultPrevented))){switch(s.blockOptionHover=!0,f.key){case"ArrowLeft":if(!g||w)return;s.focusValue("previous");break;case"ArrowRight":if(!g||w)return;s.focusValue("next");break;case"Delete":case"Backspace":if(w)return;if(I)s.removeValue(I);else{if(!v)return;g?s.popValue():E&&s.clearValue()}break;case"Tab":if(s.isComposing||f.shiftKey||!S||!T||!A||R&&s.isOptionSelected(A,k))return;s.selectOption(A);break;case"Enter":if(f.keyCode===229)break;if(S){if(!A||s.isComposing)return;s.selectOption(A);break}return;case"Escape":S?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:w}),s.onMenuClose()):E&&y&&s.clearValue();break;case" ":if(w)return;if(!S){s.openMenu("first");break}if(!A)return;s.selectOption(A);break;case"ArrowUp":S?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":S?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!S)return;s.focusOption("pageup");break;case"PageDown":if(!S)return;s.focusOption("pagedown");break;case"Home":if(!S)return;s.focusOption("first");break;case"End":if(!S)return;s.focusOption("last");break;default:return}f.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++PW),s.state.selectValue=fC(r.value),r.menuIsOpen&&s.state.selectValue.length){var o=s.getFocusableOptionsWithIds(),c=s.buildFocusableOptions(),u=c.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=o,s.state.focusedOption=c[u],s.state.focusedOptionId=Hv(o,c[u])}return s}return R$(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&hC(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var o=this.props,c=o.isDisabled,u=o.menuIsOpen,f=this.state.isFocused;(f&&!c&&s.isDisabled||f&&u&&!s.menuIsOpen)&&this.focusInput(),f&&c&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!f&&!c&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(hC(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,o){this.props.onInputChange(s,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var o=this,c=this.state,u=c.selectValue,f=c.isFocused,m=this.buildFocusableOptions(),g=s==="first"?0:m.length-1;if(!this.props.isMulti){var v=m.indexOf(u[0]);v>-1&&(g=v)}this.scrollToFocusedOptionOnUpdate=!(f&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:m[g],focusedOptionId:this.getFocusedOptionId(m[g])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(s){var o=this.state,c=o.selectValue,u=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var f=c.indexOf(u);u||(f=-1);var m=c.length-1,g=-1;if(c.length){switch(s){case"previous":f===0?g=0:f===-1?g=m:g=f-1;break;case"next":f>-1&&f<m&&(g=f+1);break}this.setState({inputIsHidden:g!==-1,focusedValue:c[g]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,c=this.state.focusedOption,u=this.getFocusableOptions();if(u.length){var f=0,m=u.indexOf(c);c||(m=-1),s==="up"?f=m>0?m-1:u.length-1:s==="down"?f=(m+1)%u.length:s==="pageup"?(f=m-o,f<0&&(f=0)):s==="pagedown"?(f=m+o,f>u.length-1&&(f=u.length-1)):s==="last"&&(f=u.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:u[f],focusedValue:null,focusedOptionId:this.getFocusedOptionId(u[f])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(zv):Se(Se({},zv),this.props.theme):zv}},{key:"getCommonProps",value:function(){var s=this.clearValue,o=this.cx,c=this.getStyles,u=this.getClassNames,f=this.getValue,m=this.selectOption,g=this.setValue,v=this.props,y=v.isMulti,w=v.isRtl,E=v.options,_=this.hasValue();return{clearValue:s,cx:o,getStyles:c,getClassNames:u,getValue:f,hasValue:_,isMulti:y,isRtl:w,options:E,selectOption:m,selectProps:v,setValue:g,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,o=s.isClearable,c=s.isMulti;return o===void 0?c:o}},{key:"isOptionDisabled",value:function(s,o){return kA(this.props,s,o)}},{key:"isOptionSelected",value:function(s,o){return LA(this.props,s,o)}},{key:"filterOption",value:function(s,o){return UA(this.props,s,o)}},{key:"formatOptionLabel",value:function(s,o){if(typeof this.props.formatOptionLabel=="function"){var c=this.props.inputValue,u=this.state.selectValue;return this.props.formatOptionLabel(s,{context:o,inputValue:c,selectValue:u})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,o=s.isDisabled,c=s.isSearchable,u=s.inputId,f=s.inputValue,m=s.tabIndex,g=s.form,v=s.menuIsOpen,y=s.required,w=this.getComponents(),E=w.Input,_=this.state,S=_.inputIsHidden,C=_.ariaSelection,T=this.commonProps,R=u||this.getElementId("input"),M=Se(Se(Se({"aria-autocomplete":"list","aria-expanded":v,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":y,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},v&&{"aria-controls":this.getElementId("listbox")}),!c&&{"aria-readonly":!0}),this.hasValue()?(C==null?void 0:C.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return c?x.createElement(E,Ne({},T,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:R,innerRef:this.getInputRef,isDisabled:o,isHidden:S,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:m,form:g,type:"text",value:f},M)):x.createElement(oW,Ne({id:R,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Wh,onFocus:this.onInputFocus,disabled:o,tabIndex:m,inputMode:"none",form:g,value:""},M))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,o=this.getComponents(),c=o.MultiValue,u=o.MultiValueContainer,f=o.MultiValueLabel,m=o.MultiValueRemove,g=o.SingleValue,v=o.Placeholder,y=this.commonProps,w=this.props,E=w.controlShouldRenderValue,_=w.isDisabled,S=w.isMulti,C=w.inputValue,T=w.placeholder,R=this.state,M=R.selectValue,A=R.focusedValue,I=R.isFocused;if(!this.hasValue()||!E)return C?null:x.createElement(v,Ne({},y,{key:"placeholder",isDisabled:_,isFocused:I,innerProps:{id:this.getElementId("placeholder")}}),T);if(S)return M.map(function(U,F){var Y=U===A,se="".concat(s.getOptionLabel(U),"-").concat(s.getOptionValue(U));return x.createElement(c,Ne({},y,{components:{Container:u,Label:f,Remove:m},isFocused:Y,isDisabled:_,key:se,index:F,removeProps:{onClick:function(){return s.removeValue(U)},onTouchEnd:function(){return s.removeValue(U)},onMouseDown:function(W){W.preventDefault()}},data:U}),s.formatOptionLabel(U,"value"))});if(C)return null;var k=M[0];return x.createElement(g,Ne({},y,{data:k,isDisabled:_}),this.formatOptionLabel(k,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),o=s.ClearIndicator,c=this.commonProps,u=this.props,f=u.isDisabled,m=u.isLoading,g=this.state.isFocused;if(!this.isClearable()||!o||f||!this.hasValue()||m)return null;var v={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(o,Ne({},c,{innerProps:v,isFocused:g}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),o=s.LoadingIndicator,c=this.commonProps,u=this.props,f=u.isDisabled,m=u.isLoading,g=this.state.isFocused;if(!o||!m)return null;var v={"aria-hidden":"true"};return x.createElement(o,Ne({},c,{innerProps:v,isDisabled:f,isFocused:g}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),o=s.DropdownIndicator,c=s.IndicatorSeparator;if(!o||!c)return null;var u=this.commonProps,f=this.props.isDisabled,m=this.state.isFocused;return x.createElement(c,Ne({},u,{isDisabled:f,isFocused:m}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),o=s.DropdownIndicator;if(!o)return null;var c=this.commonProps,u=this.props.isDisabled,f=this.state.isFocused,m={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(o,Ne({},c,{innerProps:m,isDisabled:u,isFocused:f}))}},{key:"renderMenu",value:function(){var s=this,o=this.getComponents(),c=o.Group,u=o.GroupHeading,f=o.Menu,m=o.MenuList,g=o.MenuPortal,v=o.LoadingMessage,y=o.NoOptionsMessage,w=o.Option,E=this.commonProps,_=this.state.focusedOption,S=this.props,C=S.captureMenuScroll,T=S.inputValue,R=S.isLoading,M=S.loadingMessage,A=S.minMenuHeight,I=S.maxMenuHeight,k=S.menuIsOpen,U=S.menuPlacement,F=S.menuPosition,Y=S.menuPortalTarget,se=S.menuShouldBlockScroll,de=S.menuShouldScrollIntoView,W=S.noOptionsMessage,Q=S.onMenuScrollToTop,Z=S.onMenuScrollToBottom;if(!k)return null;var j=function(ae,oe){var J=ae.type,ee=ae.data,ce=ae.isDisabled,fe=ae.isSelected,me=ae.label,pe=ae.value,We=_===ee,tt=ce?void 0:function(){return s.onOptionHover(ee)},Ye=ce?void 0:function(){return s.selectOption(ee)},Ht="".concat(s.getElementId("option"),"-").concat(oe),Nn={id:Ht,onClick:Ye,onMouseMove:tt,onMouseOver:tt,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:fe};return x.createElement(w,Ne({},E,{innerProps:Nn,data:ee,isDisabled:ce,isSelected:fe,key:Ht,label:me,type:J,value:pe,isFocused:We,innerRef:We?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(ae.data,"menu"))},K;if(this.hasOptions())K=this.getCategorizedOptions().map(function(re){if(re.type==="group"){var ae=re.data,oe=re.options,J=re.index,ee="".concat(s.getElementId("group"),"-").concat(J),ce="".concat(ee,"-heading");return x.createElement(c,Ne({},E,{key:ee,data:ae,options:oe,Heading:u,headingProps:{id:ce,data:re.data},label:s.formatGroupLabel(re.data)}),re.options.map(function(fe){return j(fe,"".concat(J,"-").concat(fe.index))}))}else if(re.type==="option")return j(re,"".concat(re.index))});else if(R){var B=M({inputValue:T});if(B===null)return null;K=x.createElement(v,E,B)}else{var H=W({inputValue:T});if(H===null)return null;K=x.createElement(y,E,H)}var P={minMenuHeight:A,maxMenuHeight:I,menuPlacement:U,menuPosition:F,menuShouldScrollIntoView:de},$=x.createElement(F9,Ne({},E,P),function(re){var ae=re.ref,oe=re.placerProps,J=oe.placement,ee=oe.maxHeight;return x.createElement(f,Ne({},E,P,{innerRef:ae,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:R,placement:J}),x.createElement(hW,{captureEnabled:C,onTopArrive:Q,onBottomArrive:Z,lockEnabled:se},function(ce){return x.createElement(m,Ne({},E,{innerRef:function(me){s.getMenuListRef(me),ce(me)},innerProps:{role:"listbox","aria-multiselectable":E.isMulti,id:s.getElementId("listbox")},isLoading:R,maxHeight:ee,focusedOption:_}),K)}))});return Y||F==="fixed"?x.createElement(g,Ne({},E,{appendTo:Y,controlElement:this.controlRef,menuPlacement:U,menuPosition:F}),$):$}},{key:"renderFormField",value:function(){var s=this,o=this.props,c=o.delimiter,u=o.isDisabled,f=o.isMulti,m=o.name,g=o.required,v=this.state.selectValue;if(g&&!this.hasValue()&&!u)return x.createElement(gW,{name:m,onFocus:this.onValueInputFocus});if(!(!m||u))if(f)if(c){var y=v.map(function(_){return s.getOptionValue(_)}).join(c);return x.createElement("input",{name:m,type:"hidden",value:y})}else{var w=v.length>0?v.map(function(_,S){return x.createElement("input",{key:"i-".concat(S),name:m,type:"hidden",value:s.getOptionValue(_)})}):x.createElement("input",{name:m,type:"hidden",value:""});return x.createElement("div",null,w)}else{var E=v[0]?this.getOptionValue(v[0]):"";return x.createElement("input",{name:m,type:"hidden",value:E})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,o=this.state,c=o.ariaSelection,u=o.focusedOption,f=o.focusedValue,m=o.isFocused,g=o.selectValue,v=this.getFocusableOptions();return x.createElement(tW,Ne({},s,{id:this.getElementId("live-region"),ariaSelection:c,focusedOption:u,focusedValue:f,isFocused:m,selectValue:g,focusableOptions:v,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),o=s.Control,c=s.IndicatorsContainer,u=s.SelectContainer,f=s.ValueContainer,m=this.props,g=m.className,v=m.id,y=m.isDisabled,w=m.menuIsOpen,E=this.state.isFocused,_=this.commonProps=this.getCommonProps();return x.createElement(u,Ne({},_,{className:g,innerProps:{id:v,onKeyDown:this.onKeyDown},isDisabled:y,isFocused:E}),this.renderLiveRegion(),x.createElement(o,Ne({},_,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:y,isFocused:E,menuIsOpen:w}),x.createElement(f,Ne({},_,{isDisabled:y}),this.renderPlaceholderOrValue(),this.renderInput()),x.createElement(c,Ne({},_,{isDisabled:y}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,o){var c=o.prevProps,u=o.clearFocusValueOnUpdate,f=o.inputIsHiddenAfterUpdate,m=o.ariaSelection,g=o.isFocused,v=o.prevWasFocused,y=o.instancePrefix,w=s.options,E=s.value,_=s.menuIsOpen,S=s.inputValue,C=s.isMulti,T=fC(E),R={};if(c&&(E!==c.value||w!==c.options||_!==c.menuIsOpen||S!==c.inputValue)){var M=_?OW(s,T):[],A=_?TC(hh(s,T),"".concat(y,"-option")):[],I=u?MW(o,T):null,k=jW(o,M),U=Hv(A,k);R={selectValue:T,focusedOption:k,focusedOptionId:U,focusableOptionsWithIds:A,focusedValue:I,clearFocusValueOnUpdate:!1}}var F=f!=null&&s!==c?{inputIsHidden:f,inputIsHiddenAfterUpdate:void 0}:{},Y=m,se=g&&v;return g&&!se&&(Y={value:Zf(C,T,T[0]||null),options:T,action:"initial-input-focus"},se=!v),(m==null?void 0:m.action)==="initial-input-focus"&&(Y=null),Se(Se(Se({},R),F),{},{prevProps:s,ariaSelection:Y,prevWasFocused:se})}}]),n}(x.Component);BA.defaultProps=DW;var kW=x.forwardRef(function(t,e){var n=N$(t);return x.createElement(BA,Ne({ref:e},n))}),LW=kW;const Cl=x.forwardRef(({options:t=[],onChange:e,value:n,placeholder:r="Seleccione una opción...",searchPlaceholder:s="Escriba para buscar...",notFoundText:o="No se encontraron resultados.",disabled:c,readOnly:u,className:f,label:m,error:g,...v},y)=>{const w=x.useMemo(()=>{const C=t.reduce((T,R)=>{const M=R.group||"default";return T[M]||(T[M]=[]),T[M].push(R),T},{});return Object.entries(C).map(([T,R])=>({label:T==="default"?void 0:T,options:R})).filter(T=>T.label!==void 0)},[t]),E=x.useMemo(()=>n==null||n===""?null:t.find(C=>String(C.value)===String(n))||null,[n,t]),_=C=>{e&&e(C?String(C.value):"")},S={control:(C,T)=>({...C,backgroundColor:"hsl(var(--background))",borderColor:g?"hsl(var(--destructive))":T.isFocused?"hsl(var(--ring))":"hsl(var(--input))",boxShadow:T.isFocused?g?"0 0 0 2px hsl(var(--background)), 0 0 0 4px hsl(var(--destructive))":"0 0 0 2px hsl(var(--background)), 0 0 0 4px hsl(var(--ring))":"none","&:hover":{borderColor:g?"hsl(var(--destructive))":"hsl(var(--ring))"},borderRadius:"0.5rem",padding:"1px",minHeight:"2.5rem",cursor:c?"not-allowed":"pointer",opacity:c?.5:1,transition:"all 150ms"}),menu:C=>({...C,backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--input))",boxShadow:"0px 4px 16px hsl(var(--card-foreground) / 0.1)",borderRadius:"0.5rem",overflow:"hidden",zIndex:9999,marginTop:"8px",position:"absolute",width:"100%"}),menuPortal:C=>({...C,zIndex:9999}),menuList:C=>({...C,padding:"4px",maxHeight:"300px"}),option:(C,T)=>({...C,backgroundColor:T.isSelected?"hsl(var(--primary))":T.isFocused?"hsl(var(--accent))":"transparent",color:T.isSelected?"hsl(var(--primary-foreground))":T.isFocused?"hsl(var(--accent-foreground))":"hsl(var(--foreground))",cursor:"pointer",padding:"8px 12px",fontSize:"0.875rem",transition:"all 150ms","&:active":{backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},"&:hover":{backgroundColor:T.isSelected?"hsl(var(--primary))":"hsl(var(--accent))",color:T.isSelected?"hsl(var(--primary-foreground))":"hsl(var(--accent-foreground))"}}),input:C=>({...C,color:"hsl(var(--foreground))"}),singleValue:C=>({...C,color:"hsl(var(--foreground))",fontSize:"0.875rem"}),placeholder:C=>({...C,color:"hsl(var(--muted-foreground))",fontSize:"0.875rem"}),dropdownIndicator:(C,T)=>({...C,transition:"transform 150ms ease",transform:T.selectProps.menuIsOpen?"rotate(180deg)":void 0,color:"hsl(var(--muted-foreground))",padding:"0 8px","&:hover":{color:"hsl(var(--foreground))"}}),clearIndicator:C=>({...C,color:"hsl(var(--muted-foreground))",padding:"0 8px","&:hover":{color:"hsl(var(--foreground))"}}),multiValue:C=>({...C,backgroundColor:"hsl(var(--accent))",borderRadius:"4px"}),multiValueLabel:C=>({...C,color:"hsl(var(--accent-foreground))",fontSize:"0.875rem"}),multiValueRemove:C=>({...C,color:"hsl(var(--accent-foreground))","&:hover":{backgroundColor:"hsl(var(--destructive))",color:"hsl(var(--destructive-foreground))"}})};return h.jsxs("div",{className:"w-full space-y-2",children:[m&&h.jsx("label",{htmlFor:v.id||v.name,className:"text-sm font-bold leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:m}),h.jsx(LW,{...v,ref:y,options:w.length>0?w:t,value:E,onChange:C=>_(C),isDisabled:c||u,placeholder:r,noOptionsMessage:()=>o,classNamePrefix:"react-select",className:f,styles:S,isSearchable:!u,isClearable:!u,menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"auto",menuShouldBlockScroll:!0,menuShouldScrollIntoView:!1,closeMenuOnScroll:!1,blurInputOnSelect:!0,captureMenuScroll:!1,closeMenuOnSelect:!0,pageSize:5,tabSelectsValue:!0,openMenuOnFocus:!u,components:{IndicatorSeparator:()=>null},theme:C=>({...C,spacing:{...C.spacing,controlHeight:40,menuGutter:8},colors:{...C.colors,primary:"hsl(var(--primary))",primary75:"hsl(var(--primary-foreground))",primary50:"hsl(var(--accent))",primary25:"hsl(var(--accent))",danger:"hsl(var(--destructive))",dangerLight:"hsl(var(--destructive) / 0.1)"}})}),g&&h.jsx("p",{className:"text-sm font-medium text-destructive",children:g})]})});Cl.displayName="Select";const G0=x.forwardRef(({className:t,label:e,error:n,...r},s)=>h.jsxs("div",{className:"w-full space-y-2",children:[e&&h.jsx("label",{htmlFor:r.id||r.name,className:"text-sm font-bold leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:e}),h.jsx("textarea",{ref:s,className:Me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","resize-none",n&&"border-destructive focus-visible:ring-destructive",t),...r}),n&&h.jsx("p",{className:"text-sm font-medium text-destructive",children:n})]}));G0.displayName="Textarea";const yd=D.forwardRef(({className:t,label:e,error:n,containerClassName:r,value:s,onChange:o,...c},u)=>{const f=D.useRef(null),m=D.useMemo(()=>{if(!s)return"";try{const w=typeof s=="string"?e3(s):s;return w?kt(w,"yyyy-MM-dd"):""}catch{return""}},[s]),g=D.useMemo(()=>XN(s),[s]),v=w=>{const E=w.target.value;if(o){const[_,S,C]=E.split("-").map(Number),T=new Date(_,S-1,C,12);o(T.toISOString())}},y=()=>{f.current&&f.current.showPicker()};return h.jsxs("div",{className:Me("w-full space-y-2",r),children:[e&&h.jsx("label",{htmlFor:c.id||c.name,className:"text-sm font-bold leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:e}),h.jsxs("div",{className:"relative",children:[h.jsxs("div",{onClick:y,className:Me("flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2","text-sm ring-offset-background cursor-pointer","hover:bg-accent hover:text-accent-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",!s&&"text-muted-foreground",n&&"border-destructive focus-visible:ring-destructive",t),children:[h.jsx(mk,{className:"mr-2 h-4 w-4 opacity-50"}),g||c.placeholder||"Seleccione una fecha"]}),h.jsx("input",{...c,type:"date",ref:w=>{f.current=w,typeof u=="function"?u(w):u&&(u.current=w)},value:m,onChange:v,className:"sr-only"})]}),n&&h.jsx("p",{className:"text-sm font-medium text-destructive",children:n})]})});yd.displayName="DatePicker";const VA=x.forwardRef(({className:t,...e},n)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:n,className:Me("w-full caption-bottom text-sm",t),...e})}));VA.displayName="Table";const zA=x.forwardRef(({className:t,...e},n)=>h.jsx("thead",{ref:n,className:Me("[&_tr]:border-b",t),...e}));zA.displayName="TableHeader";const HA=x.forwardRef(({className:t,...e},n)=>h.jsx("tbody",{ref:n,className:Me("[&_tr:last-child]:border-0",t),...e}));HA.displayName="TableBody";const UW=x.forwardRef(({className:t,...e},n)=>h.jsx("tfoot",{ref:n,className:Me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));UW.displayName="TableFooter";const qy=x.forwardRef(({className:t,...e},n)=>h.jsx("tr",{ref:n,className:Me("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));qy.displayName="TableRow";const Wy=x.forwardRef(({className:t,...e},n)=>h.jsx("th",{ref:n,className:Me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Wy.displayName="TableHead";const Gy=x.forwardRef(({className:t,...e},n)=>h.jsx("td",{ref:n,className:Me("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Gy.displayName="TableCell";const FW=x.forwardRef(({className:t,...e},n)=>h.jsx("caption",{ref:n,className:Me("mt-4 text-sm text-muted-foreground",t),...e}));FW.displayName="TableCaption";var mh=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Kh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Kh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Kh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function $A(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function IC(t,e){const n=$A(t);return Math.round(e*n)/n}function $v(t){const e=x.useRef(t);return mh(()=>{e.current=t}),e}function BW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:c}={},transform:u=!0,whileElementsMounted:f,open:m}=t,[g,v]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,w]=x.useState(r);Kh(y,r)||w(r);const[E,_]=x.useState(null),[S,C]=x.useState(null),T=x.useCallback(B=>{B!==I.current&&(I.current=B,_(B))},[]),R=x.useCallback(B=>{B!==k.current&&(k.current=B,C(B))},[]),M=o||E,A=c||S,I=x.useRef(null),k=x.useRef(null),U=x.useRef(g),F=f!=null,Y=$v(f),se=$v(s),de=$v(m),W=x.useCallback(()=>{if(!I.current||!k.current)return;const B={placement:e,strategy:n,middleware:y};se.current&&(B.platform=se.current),x9(I.current,k.current,B).then(H=>{const P={...H,isPositioned:de.current!==!1};Q.current&&!Kh(U.current,P)&&(U.current=P,Ju.flushSync(()=>{v(P)}))})},[y,e,n,se,de]);mh(()=>{m===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,v(B=>({...B,isPositioned:!1})))},[m]);const Q=x.useRef(!1);mh(()=>(Q.current=!0,()=>{Q.current=!1}),[]),mh(()=>{if(M&&(I.current=M),A&&(k.current=A),M&&A){if(Y.current)return Y.current(M,A,W);W()}},[M,A,W,Y,F]);const Z=x.useMemo(()=>({reference:I,floating:k,setReference:T,setFloating:R}),[T,R]),j=x.useMemo(()=>({reference:M,floating:A}),[M,A]),K=x.useMemo(()=>{const B={position:n,left:0,top:0};if(!j.floating)return B;const H=IC(j.floating,g.x),P=IC(j.floating,g.y);return u?{...B,transform:"translate("+H+"px, "+P+"px)",...$A(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:P}},[n,u,j.floating,g.x,g.y]);return x.useMemo(()=>({...g,update:W,refs:Z,elements:j,floatingStyles:K}),[g,W,Z,j,K])}const VW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?dC({element:r.current,padding:s}).fn(n):{}:r?dC({element:r,padding:s}).fn(n):{}}}},zW=(t,e)=>({...m9(t),options:[t,e]}),HW=(t,e)=>({...p9(t),options:[t,e]}),$W=(t,e)=>({...b9(t),options:[t,e]}),qW=(t,e)=>({...g9(t),options:[t,e]}),WW=(t,e)=>({...v9(t),options:[t,e]}),GW=(t,e)=>({...y9(t),options:[t,e]}),YW=(t,e)=>({...VW(t),options:[t,e]});var KW="Arrow",qA=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return h.jsx(ot.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});qA.displayName=KW;var XW=qA;function WA(t){const[e,n]=x.useState(void 0);return Gs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let c,u;if("borderBoxSize"in o){const f=o.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,u=m.blockSize}else c=t.offsetWidth,u=t.offsetHeight;n({width:c,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Y0="Popper",[GA,Om]=Xa(Y0),[QW,YA]=GA(Y0),KA=t=>{const{__scopePopper:e,children:n}=t,[r,s]=x.useState(null);return h.jsx(QW,{scope:e,anchor:r,onAnchorChange:s,children:n})};KA.displayName=Y0;var XA="PopperAnchor",QA=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=YA(XA,n),c=x.useRef(null),u=It(e,c);return x.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:h.jsx(ot.div,{...s,ref:u})});QA.displayName=XA;var K0="PopperContent",[ZW,JW]=GA(K0),ZA=x.forwardRef((t,e)=>{var ce,fe,me,pe,We,tt;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:y=!1,updatePositionStrategy:w="optimized",onPlaced:E,..._}=t,S=YA(K0,n),[C,T]=x.useState(null),R=It(e,Ye=>T(Ye)),[M,A]=x.useState(null),I=WA(M),k=(I==null?void 0:I.width)??0,U=(I==null?void 0:I.height)??0,F=r+(o!=="center"?"-"+o:""),Y=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},se=Array.isArray(m)?m:[m],de=se.length>0,W={padding:Y,boundary:se.filter(tG),altBoundary:de},{refs:Q,floatingStyles:Z,placement:j,isPositioned:K,middlewareData:B}=BW({strategy:"fixed",placement:F,whileElementsMounted:(...Ye)=>yA(...Ye,{animationFrame:w==="always"}),elements:{reference:S.anchor},middleware:[zW({mainAxis:s+U,alignmentAxis:c}),f&&HW({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?$W():void 0,...W}),f&&qW({...W}),WW({...W,apply:({elements:Ye,rects:Ht,availableWidth:Nn,availableHeight:yr})=>{const{width:br,height:la}=Ht.reference,$t=Ye.floating.style;$t.setProperty("--radix-popper-available-width",`${Nn}px`),$t.setProperty("--radix-popper-available-height",`${yr}px`),$t.setProperty("--radix-popper-anchor-width",`${br}px`),$t.setProperty("--radix-popper-anchor-height",`${la}px`)}}),M&&YW({element:M,padding:u}),nG({arrowWidth:k,arrowHeight:U}),y&&GW({strategy:"referenceHidden",...W})]}),[H,P]=t2(j),$=Or(E);Gs(()=>{K&&($==null||$())},[K,$]);const re=(ce=B.arrow)==null?void 0:ce.x,ae=(fe=B.arrow)==null?void 0:fe.y,oe=((me=B.arrow)==null?void 0:me.centerOffset)!==0,[J,ee]=x.useState();return Gs(()=>{C&&ee(window.getComputedStyle(C).zIndex)},[C]),h.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:K?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(pe=B.transformOrigin)==null?void 0:pe.x,(We=B.transformOrigin)==null?void 0:We.y].join(" "),...((tt=B.hide)==null?void 0:tt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(ZW,{scope:n,placedSide:H,onArrowChange:A,arrowX:re,arrowY:ae,shouldHideArrow:oe,children:h.jsx(ot.div,{"data-side":H,"data-align":P,..._,ref:R,style:{..._.style,animation:K?void 0:"none"}})})})});ZA.displayName=K0;var JA="PopperArrow",eG={top:"bottom",right:"left",bottom:"top",left:"right"},e2=x.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=JW(JA,r),c=eG[o.placedSide];return h.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:h.jsx(XW,{...s,ref:n,style:{...s.style,display:"block"}})})});e2.displayName=JA;function tG(t){return t!==null}var nG=t=>({name:"transformOrigin",options:t,fn(e){var S,C,T;const{placement:n,rects:r,middlewareData:s}=e,c=((S=s.arrow)==null?void 0:S.centerOffset)!==0,u=c?0:t.arrowWidth,f=c?0:t.arrowHeight,[m,g]=t2(n),v={start:"0%",center:"50%",end:"100%"}[g],y=(((C=s.arrow)==null?void 0:C.x)??0)+u/2,w=(((T=s.arrow)==null?void 0:T.y)??0)+f/2;let E="",_="";return m==="bottom"?(E=c?v:`${y}px`,_=`${-f}px`):m==="top"?(E=c?v:`${y}px`,_=`${r.floating.height+f}px`):m==="right"?(E=`${-f}px`,_=c?v:`${w}px`):m==="left"&&(E=`${r.floating.width+f}px`,_=c?v:`${w}px`),{data:{x:E,y:_}}}});function t2(t){const[e,n="center"]=t.split("-");return[e,n]}var n2=KA,r2=QA,a2=ZA,s2=e2,rG="VisuallyHidden",i2=x.forwardRef((t,e)=>h.jsx(ot.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));i2.displayName=rG;var aG=i2,[Mm,bZ]=Xa("Tooltip",[Om]),jm=Om(),o2="TooltipProvider",sG=700,Yy="tooltip.open",[iG,X0]=Mm(o2),l2=t=>{const{__scopeTooltip:e,delayDuration:n=sG,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=t,[c,u]=x.useState(!0),f=x.useRef(!1),m=x.useRef(0);return x.useEffect(()=>{const g=m.current;return()=>window.clearTimeout(g)},[]),h.jsx(iG,{scope:e,isOpenDelayed:c,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(m.current),u(!1)},[]),onClose:x.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>u(!0),r)},[r]),isPointerInTransitRef:f,onPointerInTransitChange:x.useCallback(g=>{f.current=g},[]),disableHoverableContent:s,children:o})};l2.displayName=o2;var Pm="Tooltip",[oG,km]=Mm(Pm),c2=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:c,delayDuration:u}=t,f=X0(Pm,t.__scopeTooltip),m=jm(e),[g,v]=x.useState(null),y=Bs(),w=x.useRef(0),E=c??f.disableHoverableContent,_=u??f.delayDuration,S=x.useRef(!1),[C=!1,T]=Hl({prop:r,defaultProp:s,onChange:k=>{k?(f.onOpen(),document.dispatchEvent(new CustomEvent(Yy))):f.onClose(),o==null||o(k)}}),R=x.useMemo(()=>C?S.current?"delayed-open":"instant-open":"closed",[C]),M=x.useCallback(()=>{window.clearTimeout(w.current),w.current=0,S.current=!1,T(!0)},[T]),A=x.useCallback(()=>{window.clearTimeout(w.current),w.current=0,T(!1)},[T]),I=x.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{S.current=!0,T(!0),w.current=0},_)},[_,T]);return x.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),h.jsx(n2,{...m,children:h.jsx(oG,{scope:e,contentId:y,open:C,stateAttribute:R,trigger:g,onTriggerChange:v,onTriggerEnter:x.useCallback(()=>{f.isOpenDelayed?I():M()},[f.isOpenDelayed,I,M]),onTriggerLeave:x.useCallback(()=>{E?A():(window.clearTimeout(w.current),w.current=0)},[A,E]),onOpen:M,onClose:A,disableHoverableContent:E,children:n})})};c2.displayName=Pm;var Ky="TooltipTrigger",u2=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=km(Ky,n),o=X0(Ky,n),c=jm(n),u=x.useRef(null),f=It(e,u,s.onTriggerChange),m=x.useRef(!1),g=x.useRef(!1),v=x.useCallback(()=>m.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),h.jsx(r2,{asChild:!0,...c,children:h.jsx(ot.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:f,onPointerMove:Ae(t.onPointerMove,y=>{y.pointerType!=="touch"&&!g.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),g.current=!0)}),onPointerLeave:Ae(t.onPointerLeave,()=>{s.onTriggerLeave(),g.current=!1}),onPointerDown:Ae(t.onPointerDown,()=>{m.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Ae(t.onFocus,()=>{m.current||s.onOpen()}),onBlur:Ae(t.onBlur,s.onClose),onClick:Ae(t.onClick,s.onClose)})})});u2.displayName=Ky;var lG="TooltipPortal",[xZ,cG]=Mm(lG,{forceMount:void 0}),Nl="TooltipContent",d2=x.forwardRef((t,e)=>{const n=cG(Nl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,c=km(Nl,t.__scopeTooltip);return h.jsx(Lr,{present:r||c.open,children:c.disableHoverableContent?h.jsx(f2,{side:s,...o,ref:e}):h.jsx(uG,{side:s,...o,ref:e})})}),uG=x.forwardRef((t,e)=>{const n=km(Nl,t.__scopeTooltip),r=X0(Nl,t.__scopeTooltip),s=x.useRef(null),o=It(e,s),[c,u]=x.useState(null),{trigger:f,onClose:m}=n,g=s.current,{onPointerInTransitChange:v}=r,y=x.useCallback(()=>{u(null),v(!1)},[v]),w=x.useCallback((E,_)=>{const S=E.currentTarget,C={x:E.clientX,y:E.clientY},T=mG(C,S.getBoundingClientRect()),R=pG(C,T),M=gG(_.getBoundingClientRect()),A=yG([...R,...M]);u(A),v(!0)},[v]);return x.useEffect(()=>()=>y(),[y]),x.useEffect(()=>{if(f&&g){const E=S=>w(S,g),_=S=>w(S,f);return f.addEventListener("pointerleave",E),g.addEventListener("pointerleave",_),()=>{f.removeEventListener("pointerleave",E),g.removeEventListener("pointerleave",_)}}},[f,g,w,y]),x.useEffect(()=>{if(c){const E=_=>{const S=_.target,C={x:_.clientX,y:_.clientY},T=(f==null?void 0:f.contains(S))||(g==null?void 0:g.contains(S)),R=!vG(C,c);T?y():R&&(y(),m())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[f,g,c,m,y]),h.jsx(f2,{...t,ref:o})}),[dG,fG]=Mm(Pm,{isInside:!1}),f2=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:c,...u}=t,f=km(Nl,n),m=jm(n),{onClose:g}=f;return x.useEffect(()=>(document.addEventListener(Yy,g),()=>document.removeEventListener(Yy,g)),[g]),x.useEffect(()=>{if(f.trigger){const v=y=>{const w=y.target;w!=null&&w.contains(f.trigger)&&g()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[f.trigger,g]),h.jsx(Em,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:v=>v.preventDefault(),onDismiss:g,children:h.jsxs(a2,{"data-state":f.stateAttribute,...m,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(uI,{children:r}),h.jsx(dG,{scope:n,isInside:!0,children:h.jsx(aG,{id:f.contentId,role:"tooltip",children:s||r})})]})})});d2.displayName=Nl;var h2="TooltipArrow",hG=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=jm(n);return fG(h2,n).isInside?null:h.jsx(s2,{...s,...r,ref:e})});hG.displayName=h2;function mG(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function pG(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function gG(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function vG(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,c=e.length-1;o<e.length;c=o++){const u=e[o].x,f=e[o].y,m=e[c].x,g=e[c].y;f>r!=g>r&&n<(m-u)*(r-f)/(g-f)+u&&(s=!s)}return s}function yG(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),bG(e)}function bG(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],c=e[e.length-2];if((o.x-c.x)*(s.y-c.y)>=(o.y-c.y)*(s.x-c.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],c=n[n.length-2];if((o.x-c.x)*(s.y-c.y)>=(o.y-c.y)*(s.x-c.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var xG=l2,wG=c2,m2=u2,p2=d2;const _G=xG,AC=wG,Xy=x.forwardRef(({className:t,...e},n)=>h.jsx(m2,{ref:n,className:Me("",t),...e}));Xy.displayName=m2.displayName;const Qy=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(p2,{ref:r,sideOffset:e,className:Me("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Qy.displayName=p2.displayName;function EG({value:t=[],onChange:e,config:n,FormContent:r}){const[s,o]=x.useState(!1),[c,u]=x.useState(null),[f,m]=x.useState(null),[g,v]=x.useState({}),[y,w]=x.useState(!1),[E,_]=x.useState(null),{columns:S,form:{emptyState:C={title:"No hay elementos",description:'Haga clic en el botón "Agregar" para comenzar.'},modalTitles:T={add:"Agregar elemento",edit:"Editar elemento"},addButtonText:R="Agregar",editButtonTooltip:M="Editar",deleteButtonTooltip:A="Eliminar",disableEditIf:I,disableDeleteIf:k}}=n;x.useEffect(()=>{(async()=>{const j=S.filter(H=>{var P;return(P=H.reference)==null?void 0:P.field.relatedService}).map(async H=>{try{const $=await H.reference.field.relatedService.service.findAll();return{field:H.accessor,data:$}}catch(P){return console.error(`Error loading referenced data for ${H.accessor}:`,P),{field:H.accessor,data:[]}}}),K=await Promise.all(j),B={};K.forEach(({field:H,data:P})=>{const $={};P.forEach(re=>{$[re.id]=re}),B[H.replace("Id","")]=$}),v(B)})()},[S]);const U=Q=>{Q.preventDefault(),Q.stopPropagation(),u(null),m(null),o(!0)},F=(Q,Z)=>{u(Q),m(Z),o(!0)},Y=Q=>{const Z=[...t];Z.splice(Q,1),e(Z)},se=Q=>{_(Q),w(!0)},de=Q=>{const Z=[...t];f!==null?Z[f]=Q:Z.push(Q),o(!1),e(Z)},W=(Q,Z)=>{var j;if(Z.render)return Z.render(Q[Z.accessor],Q);if(Z.reference){const K=Q[Z.accessor],B=Z.accessor.replace("Id",""),H=(j=g[B])==null?void 0:j[K];return H?H[Z.reference.displayField]:"N/A"}return Q[Z.accessor]};return h.jsx(_G,{children:h.jsxs("div",{className:"space-y-3",children:[h.jsx(GI,{open:y,onOpenChange:w,title:"Confirmar eliminación",description:"¿Está seguro de que desea eliminar este elemento? Esta acción no se puede deshacer.",onConfirm:()=>E!==null&&Y(E),confirmText:"Eliminar",variant:"destructive"}),h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs(be,{onClick:U,size:"sm",variant:"secondary",className:"h-8",type:"button",children:[h.jsx(Pa,{className:"h-4 w-4 mr-1"}),R]})}),t.length===0?h.jsxs("div",{className:"text-center py-6 rounded-lg bg-muted/5 border border-dashed",children:[h.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:C.title}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:C.description})]}):h.jsx("div",{className:"rounded-lg border border-border/50 overflow-hidden",children:h.jsxs(VA,{children:[h.jsx(zA,{children:h.jsxs(qy,{className:"hover:bg-transparent",children:[S.map((Q,Z)=>h.jsx(Wy,{className:"h-9 text-xs",children:Q.header},Z)),h.jsx(Wy,{className:"h-9 w-[80px] text-xs",children:"Acciones"})]})}),h.jsx(HA,{children:t.map((Q,Z)=>h.jsxs(qy,{className:"hover:bg-muted/5",children:[S.map((j,K)=>h.jsx(Gy,{className:"py-2 text-sm",children:W(Q,j)},K)),h.jsx(Gy,{className:"py-2",children:h.jsxs("div",{className:"flex items-center gap-0.5",children:[(!I||!I(Q))&&h.jsxs(AC,{children:[h.jsx(Xy,{asChild:!0,children:h.jsx(be,{type:"button",variant:"secondary",size:"sm",className:"h-8 w-8 text-muted-foreground hover:text-foreground",onClick:j=>{j.preventDefault(),j.stopPropagation(),F(Q,Z)},children:h.jsx(ed,{className:"h-3.5 w-3.5"})})}),h.jsx(Qy,{children:h.jsx("p",{children:M})})]}),h.jsxs(AC,{children:[h.jsx(Xy,{asChild:!0,children:h.jsx(be,{type:"button",variant:"secondary",size:"sm",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:j=>{j.preventDefault(),j.stopPropagation(),se(Z)},children:h.jsx(td,{className:"h-3.5 w-3.5"})})}),h.jsx(Qy,{children:h.jsx("p",{children:A})})]})]})})]},Z))})]})}),h.jsx(pd,{open:s,onOpenChange:o,children:h.jsxs($l,{className:"sm:max-w-md",children:[h.jsx(ql,{children:h.jsx(Wl,{className:"text-lg",children:c?T.edit:T.add})}),h.jsx(r,{arrayForm:n.form,initialData:c||{},onSubmit:de,onCancel:()=>o(!1)})]})})]})})}function SG(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Q0="Checkbox",[CG,wZ]=Xa(Q0),[NG,TG]=CG(Q0),g2=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:c,disabled:u,value:f="on",onCheckedChange:m,form:g,...v}=t,[y,w]=x.useState(null),E=It(e,M=>w(M)),_=x.useRef(!1),S=y?g||!!y.closest("form"):!0,[C=!1,T]=Hl({prop:s,defaultProp:o,onChange:m}),R=x.useRef(C);return x.useEffect(()=>{const M=y==null?void 0:y.form;if(M){const A=()=>T(R.current);return M.addEventListener("reset",A),()=>M.removeEventListener("reset",A)}},[y,T]),h.jsxs(NG,{scope:n,state:C,disabled:u,children:[h.jsx(ot.button,{type:"button",role:"checkbox","aria-checked":Vs(C)?"mixed":C,"aria-required":c,"data-state":b2(C),"data-disabled":u?"":void 0,disabled:u,value:f,...v,ref:E,onKeyDown:Ae(t.onKeyDown,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:Ae(t.onClick,M=>{T(A=>Vs(A)?!0:!A),S&&(_.current=M.isPropagationStopped(),_.current||M.stopPropagation())})}),S&&h.jsx(RG,{control:y,bubbles:!_.current,name:r,value:f,checked:C,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"},defaultChecked:Vs(o)?!1:o})]})});g2.displayName=Q0;var v2="CheckboxIndicator",y2=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,o=TG(v2,n);return h.jsx(Lr,{present:r||Vs(o.state)||o.state===!0,children:h.jsx(ot.span,{"data-state":b2(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});y2.displayName=v2;var RG=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...o}=t,c=x.useRef(null),u=SG(n),f=WA(e);x.useEffect(()=>{const g=c.current,v=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(v,"checked").set;if(u!==n&&w){const E=new Event("click",{bubbles:r});g.indeterminate=Vs(n),w.call(g,Vs(n)?!1:n),g.dispatchEvent(E)}},[u,n,r]);const m=x.useRef(Vs(n)?!1:n);return h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??m.current,...o,tabIndex:-1,ref:c,style:{...t.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Vs(t){return t==="indeterminate"}function b2(t){return Vs(t)?"indeterminate":t?"checked":"unchecked"}var x2=g2,IG=y2;const bd=x.forwardRef(({className:t,...e},n)=>h.jsx(x2,{ref:n,className:Me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:h.jsx(IG,{className:Me("flex items-center justify-center text-current"),children:h.jsx(RN,{className:"h-4 w-4"})})}));bd.displayName=x2.displayName;var AG="Separator",DC="horizontal",DG=["horizontal","vertical"],w2=x.forwardRef((t,e)=>{const{decorative:n,orientation:r=DC,...s}=t,o=OG(r)?r:DC,u=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return h.jsx(ot.div,{"data-orientation":o,...u,...s,ref:e})});w2.displayName=AG;function OG(t){return DG.includes(t)}var _2=w2;const Zy=x.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>h.jsx(_2,{ref:s,decorative:n,orientation:e,className:Me("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Zy.displayName=_2.displayName;function MG({arrayForm:t,initialData:e,onSubmit:n,onCancel:r}){const[s,o]=D.useState(e),[c,u]=D.useState({});D.useEffect(()=>{(async()=>{const v=t.fields.filter(E=>E.relatedService).map(async E=>{try{const _=await E.relatedService.service.findAll();return{field:E.name,data:_}}catch(_){return console.error(`Error loading data for ${E.name}:`,_),ke.error(`Error al cargar datos relacionados para ${E.label}`),{field:E.name,data:[]}}}),y=await Promise.all(v),w={};y.forEach(({field:E,data:_})=>{w[E]=_}),u(w)})()},[t.fields]);const f=(g,v)=>{o(y=>({...y,[v.name]:g}))},m=g=>{if(g.relatedService&&c[g.name]){const{labelField:v,valueField:y}=g.relatedService;return c[g.name].map(w=>({value:w[y||"id"],label:w[v]}))}return g.options||[]};return h.jsxs("div",{className:"space-y-6 py-4",children:[h.jsx("div",{className:"grid gap-6",children:t.fields.map(g=>h.jsxs("div",{className:"space-y-2",children:[h.jsxs(hr,{htmlFor:g.name,children:[g.label,g.required&&h.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),g.type==="select"?h.jsx(Cl,{id:g.name,name:g.name,value:s[g.name]||"",onChange:v=>f(v,g),required:g.required,readOnly:g.readOnly,className:"w-full",options:m(g),placeholder:g.placeholder||"Seleccione una opción",searchPlaceholder:"Buscar...",notFoundText:"No se encontraron resultados"}):g.type==="textarea"?h.jsx(G0,{id:g.name,name:g.name,value:s[g.name]||"",onChange:v=>f(v.target.value,g),required:g.required,placeholder:g.placeholder,className:"min-h-[100px]"}):h.jsx(fn,{id:g.name,type:g.type,name:g.name,value:s[g.name]||"",onChange:v=>f(v.target.value,g),required:g.required,placeholder:g.placeholder,className:"w-full"})]},g.name))}),h.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[h.jsx(be,{type:"button",variant:"outline",onClick:r,children:"Cancelar"}),h.jsx(be,{type:"button",onClick:()=>n(s),children:"Guardar"})]})]})}function Qn({title:t,fields:e,sections:n,initialValues:r={},backPath:s,service:o,onSuccess:c,onFieldChange:u,children:f}){const m=Zt(),[g,v]=D.useState(r),[y,w]=D.useState(!1),[E,_]=D.useState({});D.useEffect(()=>{v(r)},[r]),D.useEffect(()=>{(async()=>{const U=(n?n.flatMap(se=>se.fields):e||[]).filter(se=>se.relatedService).map(async se=>{try{const de=await se.relatedService.service.findAll();return{field:se.name,data:de}}catch(de){return console.error(`Error loading data for ${se.name}:`,de),ke.error(`Error al cargar datos relacionados para ${se.label}`),{field:se.name,data:[]}}}),F=await Promise.all(U),Y={};F.forEach(({field:se,data:de})=>{Y[se]=de}),_(Y)})()},[e,n]);const S=I=>{const k=g[I.name];return I.type==="array"?Array.isArray(k)?k:[]:I.type==="date"?J5(k):I.type==="boolean"?!!k:k==null?"":String(k)},C=(I,k)=>{var F;let U=I;if(k.type==="number")if(I===""||I===null||I===void 0)U="";else{const Y=((F=I==null?void 0:I.target)==null?void 0:F.value)??I;U=Y===""?"":Number(Y),isNaN(U)&&(U="")}else k.type==="date"?U=I:k.type==="boolean"?U=!!I:k.type==="select"?U=I:I!=null&&I.target&&(U=I.target.value);if(v(Y=>({...Y,[k.name]:U})),k.onChange){const Y=k.onChange(U,g);Y!==void 0&&(U=Y,v(se=>({...se,[k.name]:Y})))}u==null||u(k.name,U)},T=async I=>{I.preventDefault(),w(!0);try{r.id?(await o.update(r.id,g),ke.success("Registro actualizado exitosamente")):(await o.create(g),ke.success("Registro creado exitosamente")),c==null||c(),m(s)}catch(k){console.error("Error al guardar el registro:",k);const U=(k==null?void 0:k.message)||"Error al guardar el registro";ke.error(U)}finally{w(!1)}},R=I=>{if(I.relatedService&&E[I.name]){const{labelField:k,valueField:U}=I.relatedService;return E[I.name].map(F=>({value:F[U||"id"],label:F[k]}))}return I.options||[]},M=I=>h.jsxs("div",{className:`space-y-2 ${I.type==="array"?"col-span-2":""}`,children:[h.jsxs(hr,{htmlFor:I.name,children:[I.label,I.required&&h.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),I.type==="select"?h.jsx(Cl,{id:I.name,name:I.name,value:S(I),onChange:k=>C(k,I),required:I.required,readOnly:I.readOnly,className:"w-full",options:R(I),placeholder:I.placeholder||"Seleccione una opción",searchPlaceholder:"Buscar...",notFoundText:"No se encontraron resultados"}):I.type==="textarea"?h.jsx(G0,{id:I.name,name:I.name,value:S(I),onChange:k=>C(k.target.value,I),required:I.required,placeholder:I.placeholder,className:"min-h-[100px]"}):I.type==="boolean"?h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(bd,{id:I.name,name:I.name,checked:S(I),onCheckedChange:k=>C(k,I),disabled:I.readOnly}),h.jsx("label",{htmlFor:I.name,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:I.placeholder||I.label})]}):I.type==="array"?h.jsx(EG,{config:I.arrayConfig,value:S(I),onChange:k=>C(k,I),FormContent:MG}):I.type==="date"?h.jsx(yd,{id:I.name,name:I.name,value:S(I),onChange:k=>C(k,I),required:I.required,placeholder:I.placeholder,className:"w-full"}):h.jsx(fn,{id:I.name,type:I.type,name:I.name,value:S(I),onChange:k=>C(k.target.value,I),required:I.required,placeholder:I.placeholder,className:"w-full"})]},I.name),A=I=>h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:I.map(M)});return h.jsx(ht,{className:"max-w-4xl mx-auto p-6",children:h.jsxs("form",{onSubmit:T,className:"space-y-8",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx(be,{type:"button",variant:"ghost",size:"icon",onClick:()=>m(s),children:h.jsx(NN,{className:"h-5 w-5"})}),h.jsx("h2",{className:"text-2xl font-bold",children:t})]}),n?h.jsx("div",{className:"space-y-8",children:n.map((I,k)=>I.visible?I.visible(g)&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-lg font-semibold",children:I.title}),h.jsx(Zy,{})]}),A(I.fields)]},I.title):h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-lg font-semibold",children:I.title}),h.jsx(Zy,{})]}),A(I.fields)]},I.title))}):A(e||[]),f,h.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[h.jsx(be,{type:"button",variant:"outline",onClick:()=>m(s),children:"Cancelar"}),h.jsxs(be,{type:"submit",disabled:y,children:[h.jsx(Xk,{className:"h-4 w-4 mr-2"}),r.id?"Actualizar":"Guardar"]})]})]})})}function OC(){const{id:t}=qe(),[e,n]=D.useState({}),r=new Qa;D.useEffect(()=>{t&&r.findById(t).then(o=>{o&&n(o)})},[t]);const s=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"phone",label:"Teléfono",type:"text"},{name:"email",label:"Email",type:"email"},{name:"address",label:"Dirección",type:"textarea"},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:_l.ACTIVE,label:"Activo"},{value:_l.INACTIVE,label:"Inactivo"}]}];return h.jsx(Qn,{title:t?"Editar Cliente":"Nuevo Cliente",fields:s,initialValues:e,service:r,backPath:"/customers"})}function Zn({title:t,fields:e,editPath:n,backPath:r,service:s,id:o}){const c=Zt(),[u,f]=D.useState(null),[m,g]=D.useState(!0);D.useEffect(()=>{(async()=>{try{const E=await s.findById(o);E?f(E):(ke.error("Registro no encontrado"),c(r))}catch(E){console.error("Error al cargar el registro:",E),ke.error("Error al cargar el registro"),c(r)}finally{g(!1)}})()},[o,s,r,c]);const v=async()=>{if(window.confirm("¿Está seguro de que desea eliminar este registro?"))try{await s.delete(o),ke.success("Registro eliminado exitosamente"),c(r)}catch(w){console.error("Error al eliminar el registro:",w),ke.error("Error al eliminar el registro")}};if(m||!u)return h.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})});const y=e(u);return h.jsxs("div",{className:"min-h-[80vh] flex flex-col gap-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:t}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Detalles del registro"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs(be,{variant:"secondary",onClick:()=>c(r),className:"flex items-center gap-2",children:[h.jsx(NN,{className:"h-4 w-4"}),"Volver"]}),h.jsx(ja,{to:n,children:h.jsxs(be,{variant:"secondary",className:"flex items-center gap-2",children:[h.jsx(ed,{className:"h-4 w-4"}),"Editar"]})}),h.jsxs(be,{variant:"danger",onClick:v,className:"flex items-center gap-2",children:[h.jsx(td,{className:"h-4 w-4"}),"Eliminar"]})]})]}),h.jsx(ht,{className:"p-6",children:h.jsx("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:y.map((w,E)=>h.jsx("div",{className:Me(D.isValidElement(w.value)?"col-span-full":""),children:D.isValidElement(w.value)?h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"text-base font-bold text-muted-foreground mb-2",children:w.label}),w.value]}):h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("dt",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:[w.label,":"]}),h.jsx("dd",{children:h.jsx("span",{className:"text-base font-medium",children:w.value||h.jsx("span",{className:"text-muted-foreground italic",children:"No disponible"})})})]})},E))})})]})}function jG(){const{id:t}=qe(),e=new Qa,n=r=>[{label:"Nombre",value:r.name},{label:"Teléfono",value:r.phone||"-"},{label:"Email",value:r.email||"-"},{label:"Dirección",value:r.address||"-"},{label:"Estado",value:r.status===_l.ACTIVE?"Activo":"Inactivo"}];return t?h.jsx(Zn,{title:"Cliente",fields:n,editPath:`/customers/${t}/edit`,backPath:"/customers",service:e,id:t}):null}var Tl=(t=>(t.ACTIVE="active",t.INACTIVE="inactive",t))(Tl||{});class E2 extends Kn{constructor(n){super(n,"suppliers");Ve(this,"modelProperties",["commercialName","legalName","phone","address","email","rut","status"])}async findByCommercialName(n){return this.findByField("commercialName",n)}async findByEmail(n){return this.findByField("email",n)}async findByPhone(n){return this.findByField("phone",n)}}class Fr extends Xn{constructor(){super(E2)}async findByName(e){return this.repository.findByCommercialName(e)}async findByEmail(e){return this.repository.findByEmail(e)}async findByPhone(e){return this.repository.findByPhone(e)}async findByStatus(e){return(await this.repository.findAll()).filter(r=>r.status===e)}}function PG(){const t=new Fr,e=[{header:"Nombre Comercial",accessor:"commercialName"},{header:"Teléfono",accessor:"phone",render:n=>n.phone||"-"},{header:"Estado",accessor:"status",type:"tag",tags:[{value:Tl.ACTIVE,label:"Activo",color:"success"},{value:Tl.INACTIVE,label:"Inactivo",color:"secondary"}]}];return h.jsx(Yn,{columns:e,title:"Proveedores",addPath:"/suppliers/new",backPath:"/suppliers",service:t})}function MC(){const{id:t}=qe(),[e,n]=D.useState({}),r=new Fr;D.useEffect(()=>{t&&r.findById(t).then(o=>{o&&n(o)})},[t]);const s=[{name:"commercialName",label:"Nombre Comercial",type:"text",required:!0},{name:"legalName",label:"Razón Social",type:"text"},{name:"phone",label:"Teléfono",type:"text"},{name:"email",label:"Email",type:"email"},{name:"address",label:"Dirección",type:"textarea"},{name:"rut",label:"RUT",type:"text"},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:Tl.ACTIVE,label:"Activo"},{value:Tl.INACTIVE,label:"Inactivo"}]}];return h.jsx(Qn,{title:t?"Editar Proveedor":"Nuevo Proveedor",fields:s,initialValues:e,service:r,backPath:"/suppliers"})}function kG(){const{id:t}=qe(),e=new Fr,n=r=>[{label:"Nombre Comercial",value:r.commercialName},{label:"Razón Social",value:r.legalName||"-"},{label:"Teléfono",value:r.phone||"-"},{label:"Email",value:r.email||"-"},{label:"Dirección",value:r.address||"-"},{label:"RUT",value:r.rut||"-"},{label:"Estado",value:r.status===Tl.ACTIVE?"Activo":"Inactivo"}];return t?h.jsx(Zn,{title:"Proveedor",fields:n,editPath:`/suppliers/${t}/edit`,backPath:"/suppliers",service:e,id:t}):null}class S2 extends Kn{constructor(n){super(n,"workers");Ve(this,"modelProperties",["name","primaryRoleId","phone","hireDate","monthlySalary","leaveBalance","leaveSalaryBalance","vacationSalaryBalance","bonusSalaryBalance","leaveHistory","payments"])}async findByPrimaryRole(n){return this.findByField("primaryRoleId",n)}async findByName(n){return this.findByField("name",n)}}class Pn extends Xn{constructor(){super(S2)}async findByName(e){return this.repository.findByName(e)}async findByPrimaryRoleId(e){return this.repository.findByPrimaryRole(e)}async findByHireDateRange(e,n){return(await this.repository.findAll()).filter(s=>{const o=new Date(s.hireDate);return o>=e&&o<=n})}async findBySalaryRange(e,n){return(await this.repository.findAll()).filter(s=>s.monthlySalary>=e&&s.monthlySalary<=n)}}class LG extends Kn{constructor(n){super(n,"roles");Ve(this,"modelProperties",["name","isProduction","tasks"])}async findByName(n){return this.findByField("name",n)}}class ti extends Xn{constructor(){super(LG)}async findByName(e){return this.repository.findByName(e)}async findByIsProduction(e){return(await this.repository.findAll()).filter(r=>r.isProduction===e)}async findByTaskName(e){return(await this.repository.findAll()).filter(r=>{var s;return(s=r.tasks)==null?void 0:s.some(o=>o.taskName===e)})}}function UG(){const t=new Pn,e=new ti,[n,r]=D.useState({});D.useEffect(()=>{(async()=>{const f=(await e.findAll()).reduce((m,g)=>({...m,[g.id]:g.name}),{});r(f)})()},[]);const s=c=>{const u=new Date,f=new Date(c);let m=u.getFullYear()-f.getFullYear();const g=u.getMonth()-f.getMonth();return(g<0||g===0&&u.getDate()<f.getDate())&&m--,m},o=[{header:"Nombre",accessor:"name"},{header:"Fecha de Contratación",accessor:"hireDate",render:c=>{const u=new Date(c.hireDate),f=s(u);return`${u.toLocaleDateString()} (${f} ${f===1?"año":"años"})`}},{header:"Rol Principal",accessor:"primaryRoleId",render:c=>n[c.primaryRoleId]||"Rol no encontrado"}];return h.jsx(Yn,{columns:o,title:"Colaboradores",addPath:"/workers/new",backPath:"/workers",service:t})}var zi=(t=>(t.PAID="paid",t.PENDING="pending",t))(zi||{}),Hi=(t=>(t.SALARY="salary",t.LEAVE="leave",t))(Hi||{});function jC(){const{id:t}=qe(),[e,n]=D.useState({}),r=new Pn;D.useEffect(()=>{t&&r.findById(t).then(o=>{o&&n(o)})},[t]);const s=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"primaryRoleId",label:"Rol Principal",type:"select",required:!0,relatedService:{service:new ti,labelField:"name"}},{name:"phone",label:"Teléfono",type:"text"},{name:"hireDate",label:"Fecha de Contratación",type:"date",required:!0},{name:"monthlySalary",label:"Salario Mensual",type:"number",required:!0},{name:"leaveBalance",label:"Saldo de Licencias",type:"number",required:!0},{name:"leaveSalaryBalance",label:"Saldo de Salario por Licencias",type:"number",required:!0},{name:"vacationSalaryBalance",label:"Saldo de Salario por Vacaciones",type:"number",required:!0},{name:"bonusSalaryBalance",label:"Saldo de Aguinaldos",type:"number",required:!0},{name:"leaveHistory",label:"Historial de Licencias Tomadas",type:"array",arrayConfig:{columns:[{header:"Fecha de Inicio",accessor:"startDate",render:o=>new Date(o).toLocaleDateString("es-UY")},{header:"Fecha de Fin",accessor:"endDate",render:o=>new Date(o).toLocaleDateString("es-UY")},{header:"Días",accessor:"day"}],form:{fields:[{name:"startDate",label:"Fecha de Inicio",type:"date",required:!0},{name:"endDate",label:"Fecha de Fin",type:"date",required:!0},{name:"day",label:"Días",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay licencias registrados",description:'Haga clic en el botón "Agregar" para comenzar a registrar las licencias tomadas del trabajador.'},modalTitles:{add:"Agregar Licencias Tomadas",edit:"Modificar Licencias Tomada"},addButtonText:"Agregar Licencias Tomada",editButtonTooltip:"Modificar este Licencias Tomada",deleteButtonTooltip:"Eliminar este Licencias Tomada"}}},{name:"payments",label:"Pagos",type:"array",arrayConfig:{columns:[{header:"Monto",accessor:"amount",render:o=>(o==null?void 0:o.toLocaleString("es-UY",{style:"currency",currency:"UYU",currencyDisplay:"symbol",minimumFractionDigits:0,maximumFractionDigits:0}))||"N/A"},{header:"Estado",accessor:"status",render:o=>{switch(o){case zi.PENDING:return"Pendiente";case zi.PAID:return"Pagado";default:return"N/A"}}},{header:"Concepto",accessor:"concept",render:o=>{switch(o){case Hi.SALARY:return"Salario";case Hi.LEAVE:return"Permiso";default:return"N/A"}}},{header:"Fecha de Pago",accessor:"paymentDate",render:o=>new Date(o).toLocaleDateString("es-UY")}],form:{fields:[{name:"amount",label:"Monto",type:"number",required:!0,placeholder:"Ej: 500000"},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:zi.PENDING,label:"Pendiente"},{value:zi.PAID,label:"Pagado"}]},{name:"concept",label:"Concepto",type:"select",required:!0,options:[{value:Hi.SALARY,label:"Salario"},{value:Hi.LEAVE,label:"Permiso"}]},{name:"paymentDate",label:"Fecha de Pago",type:"date",required:!0}],emptyState:{title:"No hay pagos registrados",description:'Haga clic en el botón "Agregar" para comenzar a registrar los pagos del trabajador.'},modalTitles:{add:"Agregar Pago",edit:"Modificar Pago"},addButtonText:"Agregar Pago",editButtonTooltip:"Modificar este pago",deleteButtonTooltip:"Eliminar este pago"}}}];return h.jsx(Qn,{title:t?"Editar Trabajador":"Nuevo Trabajador",fields:s,initialValues:e,service:r,backPath:"/workers"})}function no({data:t,columns:e,title:n="Registros",emptyMessage:r}){return t!=null&&t.length?h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:[n,":"]}),h.jsx("div",{className:"rounded-md border",children:h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsxs("table",{className:"w-full caption-bottom text-sm",children:[h.jsx("thead",{children:h.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:e.map((s,o)=>h.jsx("th",{className:"h-9 px-3 text-left align-middle text-xs font-medium uppercase tracking-wider text-muted-foreground",children:s.header},o))})}),h.jsx("tbody",{children:t.map((s,o)=>h.jsx("tr",{className:"border-b last:border-b-0 transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:e.map((c,u)=>h.jsx("td",{className:"p-2 align-middle",children:typeof c.accessor=="function"?c.accessor(s):h.jsx("div",{className:"font-medium",children:String(s[c.accessor])})},u))},o))})]})})})]}):h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"text-base font-bold text-muted-foreground whitespace-nowrap",children:[n,":"]}),h.jsx("span",{className:"text-base font-medium text-muted-foreground",children:"No hay registros"})]})}function FG(){const{id:t}=qe(),e=new Pn,n=new ti,[r,s]=D.useState({});D.useEffect(()=>{(async()=>{const y=(await n.findAll()).reduce((w,E)=>({...w,[E.id]:E.name}),{});s(y)})()},[]);const o=g=>g.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0,maximumFractionDigits:0}),c=g=>new Date(g).toLocaleDateString("es-UY",{year:"numeric",month:"long",day:"numeric"}),u=g=>{const v=[{header:"Fecha Inicio",accessor:y=>c(y.startDate)},{header:"Fecha Fin",accessor:y=>c(y.endDate)},{header:"Días",accessor:y=>y.day}];return h.jsx(no,{data:g,columns:v,emptyMessage:"No hay historial de licencias tomadas"})},f=g=>{const v=[{header:"Fecha",accessor:y=>c(y.paymentDate)},{header:"Concepto",accessor:y=>{switch(y.concept){case Hi.SALARY:return"Salario";case Hi.LEAVE:return"Permiso";default:return y.concept}}},{header:"Estado",accessor:y=>{switch(y.status){case zi.PAID:return"Pagado";case zi.PENDING:return"Pendiente";default:return y.status}}},{header:"Monto",accessor:y=>o(y.amount)}];return h.jsx(no,{data:g,columns:v,emptyMessage:"No hay pagos"})},m=g=>[{label:"Nombre",value:g.name},{label:"Rol Principal",value:r[g.primaryRoleId]||"Rol no encontrado"},{label:"Fecha de Contratación",value:c(g.hireDate)},{label:"Salario Mensual",value:o(g.monthlySalary)},{label:"Balance de Licencias",value:g.leaveBalance},{label:"Balance de Salario por Licencias",value:o(g.leaveSalaryBalance)},{label:"Balance de Salario por Vacaciones",value:o(g.vacationSalaryBalance)},{label:"Balance de Aguinaldo",value:o(g.bonusSalaryBalance)},{label:"Historial de Licencias Tomadas",value:u(g.leaveHistory||[])},{label:"Historial de Pagos",value:f(g.payments||[])}];return t?h.jsx(Zn,{title:"Trabajador",fields:m,editPath:`/workers/${t}/edit`,backPath:"/workers",service:e,id:t}):null}function BG(){const t=new ti,e=[{header:"Nombre",accessor:"name"},{header:"Tipo",accessor:"isProduction",render:n=>n.isProduction?"Producción":"Administrativo"},{header:"Tareas",accessor:"tasks",render:n=>{var r;return((r=n.tasks)==null?void 0:r.length)||0}}];return h.jsx(Yn,{columns:e,title:"Roles",addPath:"/roles/new",backPath:"/roles",service:t})}var Pi=(t=>(t.DAILY="daily",t.HOURLY="hourly",t.END_OF_SHIFT="end_of_shift",t))(Pi||{});function PC(){const{id:t}=qe(),[e,n]=D.useState({}),r=new ti;D.useEffect(()=>{t&&r.findById(t).then(o=>{o&&n(o)})},[t]);const s=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"isProduction",label:"¿Es de Producción?",type:"boolean",required:!0,placeholder:"Marque si el rol es de producción"},{name:"tasks",label:"Tareas",type:"array",arrayConfig:{columns:[{header:"Tarea",accessor:"taskName"},{header:"Frecuencia",accessor:"frequency",render:o=>{switch(o){case Pi.DAILY:return"Diaria";case Pi.HOURLY:return"Por Hora";case Pi.END_OF_SHIFT:return"Fin de Turno";default:return"N/A"}}}],form:{fields:[{name:"taskName",label:"Nombre de la Tarea",type:"text",required:!0,placeholder:"Ej: Limpiar área de trabajo"},{name:"frequency",label:"Frecuencia",type:"select",required:!0,options:[{value:Pi.DAILY,label:"Diaria"},{value:Pi.HOURLY,label:"Por Hora"},{value:Pi.END_OF_SHIFT,label:"Fin de Turno"}]}],emptyState:{title:"No hay tareas definidas",description:'Haga clic en el botón "Agregar" para comenzar a definir las tareas de este rol.'},modalTitles:{add:"Agregar Tarea",edit:"Modificar Tarea"},addButtonText:"Agregar Tarea",editButtonTooltip:"Modificar esta tarea",deleteButtonTooltip:"Eliminar esta tarea"}}}];return h.jsx(Qn,{title:t?"Editar Rol":"Nuevo Rol",fields:s,initialValues:e,service:r,backPath:"/roles"})}function VG(){const{id:t}=qe(),e=new ti,n=s=>s!=null&&s.length?h.jsx(h.Fragment,{children:s.map((o,c)=>h.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[h.jsx("td",{className:"p-4 align-middle",children:h.jsx("div",{className:"font-medium",children:o.taskName})}),h.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:o.frequency})]},c))}):"No hay tareas",r=s=>{var o;return[{label:"Nombre",value:s.name},{label:"Tipo",value:s.isProduction?"Producción":"Administrativo"},{label:"Tareas",value:(o=s.tasks)!=null&&o.length?n(s.tasks):"No hay tareas"}]};return t?h.jsx(Zn,{title:"Rol",fields:r,editPath:`/roles/${t}/edit`,backPath:"/roles",service:e,id:t}):null}class zG extends Kn{constructor(n){super(n,"units");Ve(this,"modelProperties",["name","symbol","conversions"])}async findByName(n){return this.findByField("name",n)}async findBySymbol(n){return this.findByField("symbol",n)}}class Ct extends Xn{constructor(){super(zG)}async findByName(e){return this.repository.findByName(e)}async findBySymbol(e){return this.repository.findBySymbol(e)}async create(e){const n=await super.create(e),r={toUnitId:n.id,factor:1,operation:"multiply",isDefault:!0},s=e.conversions||[],o=[r,...s];return await this.update(n.id,{...n,conversions:o}),this.findById(n.id)}}function HG(){const t=new Ct,e=[{header:"Nombre",accessor:"name"},{header:"Símbolo",accessor:"symbol"},{header:"Conversiones",accessor:"conversions",render:n=>{var r;return((r=n.conversions)==null?void 0:r.length)||0}}];return h.jsx(Yn,{columns:e,title:"Unidades",addPath:"/units/new",backPath:"/units",service:t})}function kC(){const{id:t}=qe(),[e,n]=D.useState({}),r=new Ct;D.useEffect(()=>{t&&r.findById(t).then(o=>{o&&n(o)})},[t]);const s=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"symbol",label:"Símbolo",type:"text",required:!0},{name:"conversions",label:"Conversiones",type:"array",arrayConfig:{columns:[{header:"Unidad Destino",accessor:"toUnitId",reference:{field:{name:"toUnitId",label:"Unidad Destino",type:"select",relatedService:{service:new Ct,labelField:"name"}},displayField:"name"}},{header:"Factor",accessor:"factor"},{header:"Operación",accessor:"operation",render:o=>o==="multiply"?"Multiplicar":"Dividir"}],form:{fields:[{name:"toUnitId",label:"Unidad Destino",type:"select",required:!0,relatedService:{service:new Ct,labelField:"name"}},{name:"factor",label:"Factor",type:"number",required:!0,placeholder:"Ej: 1000"},{name:"operation",label:"Operación",type:"select",required:!0,options:[{value:"multiply",label:"Multiplicar"},{value:"divide",label:"Dividir"}]}],emptyState:{title:"No hay conversiones definidas",description:'Haga clic en el botón "Agregar" para comenzar a definir las conversiones de esta unidad.'},modalTitles:{add:"Agregar Conversión",edit:"Modificar Conversión"},addButtonText:"Agregar Conversión",editButtonTooltip:"Modificar esta conversión",deleteButtonTooltip:"Eliminar esta conversión",disableEditIf:o=>o.isDefault===!0,disableDeleteIf:o=>o.isDefault===!0}}}];return h.jsx(Qn,{title:t?"Editar Unidad":"Nueva Unidad",fields:s,initialValues:e,service:r,backPath:"/units"})}function $G(){const{id:t}=qe(),e=new Ct,[n,r]=D.useState({});D.useEffect(()=>{(async()=>{const m=(await e.findAll()).reduce((g,v)=>({...g,[v.id]:v.name}),{});r(m)})()},[]);const s=u=>{switch(u){case"multiply":return"Multiplicar";case"divide":return"Dividir";default:return u}},o=u=>u!=null&&u.length?h.jsx(h.Fragment,{children:u.map((f,m)=>h.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[h.jsx("td",{className:"p-4 align-middle",children:h.jsx("div",{className:"font-medium",children:n[f.toUnitId]||"Unidad no encontrada"})}),h.jsxs("td",{className:"p-4 align-middle text-muted-foreground",children:[f.factor," (",s(f.operation),")"]})]},m))}):"No hay conversiones",c=u=>{var f;return[{label:"Nombre",value:u.name},{label:"Símbolo",value:u.symbol},{label:"Conversiones",value:(f=u.conversions)!=null&&f.length?o(u.conversions):"No hay conversiones"}]};return t?h.jsx(Zn,{title:"Unidad",fields:c,editPath:`/units/${t}/edit`,backPath:"/units",service:e,id:t}):null}class qG extends Kn{constructor(n){super(n,"parameters");Ve(this,"modelProperties",["name","code","value","description"])}async findByName(n){return this.findByField("name",n)}async findByCode(n){return this.findByField("code",n)}}class Z0 extends Xn{constructor(){super(qG)}async findByName(e){return this.repository.findByName(e)}async findByCode(e){return this.repository.findByCode(e)}async update(e,n){if(n.code){const r=await this.findById(e);if(!r)throw new Error("Parámetro no encontrado");if(r.code!==n.code&&(await this.findByCode(n.code)).length>0)throw new Error(`Ya existe un parámetro con el código ${n.code}`)}return super.update(e,n)}}function WG(){const t=new Z0,e=[{header:"Nombre",accessor:"name"},{header:"Código",accessor:"code"},{header:"Valor",accessor:"value"},{header:"Descripción",accessor:"description",render:n=>n.description||"-"}];return h.jsx(Yn,{columns:e,title:"Parámetros",addPath:"/parameters/new",backPath:"/parameters",service:t})}function LC(){const{id:t}=qe(),[e,n]=D.useState({}),r=new Z0;D.useEffect(()=>{t&&r.findById(t).then(o=>{o&&n(o)})},[t]);const s=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"code",label:"Código",type:"text",required:!0},{name:"value",label:"Valor",type:"text",required:!0},{name:"description",label:"Descripción",type:"textarea"}];return h.jsx(Qn,{title:t?"Editar Parámetro":"Nuevo Parámetro",fields:s,initialValues:e,service:r,backPath:"/parameters"})}function GG(){const{id:t}=qe(),e=new Z0,n=r=>[{label:"Nombre",value:r.name},{label:"Código",value:r.code},{label:"Valor",value:r.value},{label:"Descripción",value:r.description||"-"}];return t?h.jsx(Zn,{title:"Parámetro",fields:n,editPath:`/parameters/${t}/edit`,backPath:"/parameters",service:e,id:t}):null}class C2 extends Kn{constructor(n){super(n,"purchase-orders");Ve(this,"modelProperties",["orderDate","status","supplierId","products","totalItems","totalProducts"])}async findBySupplierId(n){return this.findByField("supplierId",n)}async findByStatus(n){return this.findByField("status",n.toString())}async findByDateRange(n,r){return(await this.findAll()).filter(o=>o.orderDate>=n&&o.orderDate<=r)}}var we=(t=>(t.PENDIENTE="PENDIENTE",t.ENVIADA="ENVIADA",t.COMPLETADA="COMPLETADA",t.CANCELADA="CANCELADA",t))(we||{});const Xl=t=>{switch(t){case"PENDIENTE":return"bg-yellow-100 text-yellow-800";case"ENVIADA":return"bg-blue-100 text-blue-800";case"COMPLETADA":return"bg-green-100 text-green-800";case"CANCELADA":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Sn={PENDIENTE:"PENDIENTE",ENVIADA:"ENVIADA",COMPLETADA:"COMPLETADA",CANCELADA:"CANCELADA"};class qa extends Xn{constructor(){super(C2)}calculateTotals(e){e.products||(e.products=[]),e.totalProducts=e.products.length,e.totalItems=e.products.reduce((n,r)=>{const s=Number(r.quantity)||0;return n+s},0)}validateOrder(e){if(!e.supplierId)throw new Error("La orden de compra debe tener un proveedor asignado");if(!e.orderDate)throw new Error("La orden de compra debe tener una fecha");if(!e.status)throw new Error("La orden de compra debe tener un estado");if(!e.products||e.products.length===0)throw new Error("La orden de compra debe tener al menos un producto");e.products.forEach((n,r)=>{if(!n.productId)throw new Error(`El producto #${r+1} debe tener un ID válido`);if(!n.quantity||n.quantity<=0)throw new Error(`El producto #${r+1} debe tener una cantidad válida mayor a 0`)})}async create(e){return e.status=e.status||we.PENDIENTE,this.calculateTotals(e),this.validateOrder(e),super.create(e)}async update(e,n){return(!n.supplierId||!n.orderDate||!n.status||!n.products)&&(n={...await this.findById(e),...n}),this.calculateTotals(n),this.validateOrder(n),super.update(e,n)}async findBySupplierId(e){return this.repository.findBySupplierId(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByDateRange(e,n){return this.repository.findByDateRange(e,n)}}class N2 extends Kn{constructor(n){super(n,"products");Ve(this,"modelProperties",["name","sku","imageUrl","isForSale","isMaterial","materialName","materialCode","salePrice","state","salesUnitCost","materialUnitCost","purchasePrice","salesUnitId","materialUnitId","purchaseUnitId","primarySupplierId","sector","sectorOrder","desiredStock","salesChannels","priceHistory"])}async findByName(n){return this.findByField("name",n)}async findBySku(n){return this.findByField("sku",n)}async findByState(n){return this.findByField("state",n)}async findBySector(n){return this.findByField("sector",n)}async findByPrimarySupplierId(n){return this.findByField("primarySupplierId",n)}async findByMaterialUnit(n){return this.findByField("materialUnitId",n)}async findBySalesUnit(n){return this.findByField("salesUnitId",n)}async findByIsForSale(n){return this.findByField("isForSale",n)}async findByIsMaterial(n){return this.findByField("isMaterial",n)}async findByStatus(n){return this.findByField("state",n)}async findBySaleStatus(n){return this.findByField("isForSale",n)}async findByMaterialStatus(n){return this.findByField("isMaterial",n)}async findByDesiredStockBelow(n){const r=mu(fu(this.db,this.dbRef),hu("desiredStock")),s=await nl(r);if(!s.exists())return[];const o=s.val();return Object.entries(o).filter(([,c])=>c.desiredStock&&c.desiredStock<n).map(([c,u])=>this.mapDocumentToEntity(u,c))}async findBySalesChannel(n){const r=mu(fu(this.db,this.dbRef),hu("salesChannels"),iI(n)),s=await nl(r);if(!s.exists())return[];const o=s.val();return Object.entries(o).filter(([,c])=>{var u;return(u=c.salesChannels)==null?void 0:u.some(f=>f.code===n)}).map(([c,u])=>this.mapDocumentToEntity(u,c))}async findByPriceRange(n,r){const s=mu(fu(this.db,this.dbRef),hu("salePrice")),o=await nl(s);if(!o.exists())return[];const c=o.val();return Object.entries(c).filter(([,u])=>u.salePrice>=n&&u.salePrice<=r).map(([u,f])=>this.mapDocumentToEntity(f,u))}async findByStockRange(n,r){const s=mu(fu(this.db,this.dbRef),hu("desiredStock")),o=await nl(s);if(!o.exists())return[];const c=o.val();return Object.entries(c).filter(([,u])=>u.desiredStock&&u.desiredStock>=n&&u.desiredStock<=r).map(([u,f])=>this.mapDocumentToEntity(f,u))}}class At extends Xn{constructor(){super(N2)}async findByName(e){return this.repository.findByName(e)}async findBySku(e){return this.repository.findBySku(e)}async findByState(e){return this.repository.findByState(e)}async findBySector(e){return this.repository.findBySector(e)}async findByPrimarySupplierId(e){return this.repository.findByPrimarySupplierId(e)}async findByMaterialUnit(e){return this.repository.findByMaterialUnit(e)}async findBySalesUnit(e){return this.repository.findBySalesUnit(e)}async findByIsForSale(e){return this.repository.findByIsForSale(e)}async findByIsMaterial(e){return this.repository.findByIsMaterial(e)}async findByPriceRange(e,n){return this.repository.findByPriceRange(e,n)}async findByDesiredStockBelow(e){return this.repository.findByDesiredStockBelow(e)}}function YG(){const t=new qa,e=new Fr,n=new At,r=new Ct,[s,o]=D.useState({}),[c,u]=D.useState([]),[f,m]=D.useState({});D.useEffect(()=>{(async()=>{try{const[y,w,E]=await Promise.all([e.findAll(),n.findAll(),r.findAll()]),_=y.reduce((C,T)=>(C[T.id]=T.commercialName,C),{}),S=E.reduce((C,T)=>(C[T.id]=T.name,C),{});o(_),u(w),m(S)}catch(y){console.error("Error loading data:",y)}})()},[]);const g=[{header:"Proveedor",accessor:"supplierId",render:v=>s[v.supplierId]||"Proveedor no encontrado"},{header:"Fecha",accessor:"orderDate",type:"date"},{header:"Total Productos",accessor:"totalProducts"},{header:"Total Items",accessor:"totalItems",render:v=>{var w;const y=(w=v.products)==null?void 0:w[0];if(y){const E=c.find(_=>_.id===y.productId);if(E!=null&&E.purchaseUnitId)return`${v.totalItems} ${f[E.purchaseUnitId]||"Unidad no encontrada"}`}return v.totalItems}},{header:"Estado",accessor:"status",type:"tag",tags:[{value:we.PENDIENTE,label:"Pendiente",color:"warning"},{value:we.ENVIADA,label:"Enviada",color:"info"},{value:we.COMPLETADA,label:"Completada",color:"success"},{value:we.CANCELADA,label:"Cancelada",color:"danger"}]}];return h.jsx(Yn,{columns:g,title:"Órdenes de Compra",addPath:"/purchase-orders/new",backPath:"/purchase-orders",service:t,type:"purchase",products:c,supplierName:s,units:f})}function UC(){const{id:t}=qe(),[e,n]=D.useState({orderDate:new Date,status:we.PENDIENTE}),r=new qa;D.useEffect(()=>{t&&r.findById(t).then(o=>{o&&n(o)})},[t]);const s=[{name:"supplierId",label:"Proveedor",type:"select",required:!0,relatedService:{service:new Fr,labelField:"commercialName"}},{name:"orderDate",label:"Fecha",type:"date",required:!0,readOnly:!0},{name:"status",label:"Estado",type:"select",required:!0,readOnly:!t,options:Object.values(we).map(o=>({value:o,label:o}))},{name:"products",label:"Productos",type:"array",arrayConfig:{columns:[{header:"Producto",accessor:"productId",reference:{field:{name:"productId",label:"Producto",type:"select",relatedService:{service:new At,labelField:"name"}},displayField:"name"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"productId",label:"Producto",type:"select",required:!0,relatedService:{service:new At,labelField:"name"}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay productos agregados",description:'Haga clic en el botón "Agregar" para comenzar a agregar productos a la orden de compra.'},modalTitles:{add:"Agregar Producto",edit:"Modificar Producto"},addButtonText:"Agregar Producto",editButtonTooltip:"Modificar este producto",deleteButtonTooltip:"Eliminar este producto"}}}];return h.jsx(Qn,{title:t?"Editar Orden de Compra":"Nueva Orden de Compra",fields:s,initialValues:e,service:r,backPath:"/purchase-orders"})}function KG(){const{id:t}=qe(),e=new qa,n=new Fr,r=new At,s=new Ct,[o,c]=D.useState({}),[u,f]=D.useState({}),[m,g]=D.useState({});D.useEffect(()=>{(async()=>{const[E,_,S]=await Promise.all([n.findAll(),r.findAll(),s.findAll()]),C=E.reduce((M,A)=>({...M,[A.id]:A.commercialName}),{}),T=_.reduce((M,A)=>({...M,[A.id]:A}),{}),R=S.reduce((M,A)=>({...M,[A.id]:A.name}),{});c(C),f(T),g(R)})()},[]);const v=w=>{const E=[{header:"Producto",accessor:_=>{if(_.productId){const S=u[_.productId];return h.jsx("div",{className:"font-medium",children:(S==null?void 0:S.name)||"Producto no encontrado"})}return"Producto no especificado"}},{header:"Cantidad",accessor:_=>{if(_.productId){const S=u[_.productId],C=S!=null&&S.purchaseUnitId?m[S.purchaseUnitId]:"Unidad no encontrada";return`${_.quantity} ${C}`}return _.quantity}}];return h.jsx(no,{data:w,columns:E,emptyMessage:"No hay productos"})},y=w=>[{label:"Proveedor",value:o[w.supplierId]||"Proveedor no encontrado"},{label:"Estado",value:Sn[w.status]},{label:"Fecha",value:new Date(w.orderDate).toLocaleDateString()},{label:"Productos",value:v(w.products)},{label:"Total de Items",value:w.totalItems},{label:"Total de Productos",value:w.totalProducts}];return t?h.jsx(Zn,{title:"Pedido de Compra",fields:y,editPath:`/purchase-orders/${t}/edit`,backPath:"/purchase-orders",service:e,id:t}):null}class T2 extends Kn{constructor(n){super(n,"customer-orders");Ve(this,"modelProperties",["orderDate","status","customerId","products","recipes","totalItems","totalProducts"])}async findByCustomerId(n){return this.findByField("customerId",n)}async findByStatus(n){return this.findByField("status",n.toString())}async findByDateRange(n,r){return(await this.findAll()).filter(o=>o.orderDate>=n&&o.orderDate<=r)}}class Wa extends Xn{constructor(){super(T2)}calculateTotals(e){e.products||(e.products=[]),e.recipes||(e.recipes=[]),e.totalProducts=e.products.length+e.recipes.length;const n=e.products.reduce((s,o)=>s+(Number(o.quantity)||0),0),r=e.recipes.reduce((s,o)=>s+(Number(o.quantity)||0),0);e.totalItems=n+r}validateOrder(e){var n,r;if(!e.customerId)throw new Error("La orden debe tener un cliente asignado");if(!e.orderDate)throw new Error("La orden debe tener una fecha");if(!e.status)throw new Error("La orden debe tener un estado");if((!e.products||e.products.length===0)&&(!e.recipes||e.recipes.length===0))throw new Error("La orden debe tener al menos un producto o receta");(n=e.products)==null||n.forEach((s,o)=>{if(!s.productId)throw new Error(`El producto #${o+1} debe tener un ID válido`);if(!s.quantity||s.quantity<=0)throw new Error(`El producto #${o+1} debe tener una cantidad válida mayor a 0`)}),(r=e.recipes)==null||r.forEach((s,o)=>{if(!s.recipeId)throw new Error(`La receta #${o+1} debe tener un ID válido`);if(!s.quantity||s.quantity<=0)throw new Error(`La receta #${o+1} debe tener una cantidad válida mayor a 0`)})}async create(e){return e.status=e.status||we.PENDIENTE,this.calculateTotals(e),this.validateOrder(e),super.create(e)}async update(e,n){return(!n.customerId||!n.orderDate||!n.status||!n.products||!n.recipes)&&(n={...await this.findById(e),...n}),this.calculateTotals(n),this.validateOrder(n),super.update(e,n)}async findByCustomerId(e){return this.repository.findByCustomerId(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByDateRange(e,n){return this.repository.findByDateRange(e,n)}}class R2 extends Kn{constructor(n){super(n,"recipes");Ve(this,"modelProperties",["name","recipeType","yieldUnitId","yield","cost","materials","primaryWorkerId","notes"])}async findByName(n){return this.findByField("name",n)}}class zt extends Xn{constructor(){super(R2)}async findByName(e){return this.repository.findByName(e)}async findByType(e){return(await this.repository.findAll()).filter(r=>r.recipeType===e)}async findByPrimaryWorkerId(e){return(await this.repository.findAll()).filter(r=>r.primaryWorkerId===e)}}function XG(){const t=new Wa,e=new Qa,n=new At,r=new zt,s=new Ct,[o,c]=D.useState({}),[u,f]=D.useState([]),[m,g]=D.useState([]),[v,y]=D.useState({});D.useEffect(()=>{(async()=>{try{const[_,S,C,T]=await Promise.all([e.findAll(),n.findAll(),r.findAll(),s.findAll()]),R=_.reduce((A,I)=>(A[I.id]=I.name,A),{}),M=T.reduce((A,I)=>(A[I.id]=I.name,A),{});c(R),f(S),g(C),y(M)}catch(_){console.error("Error loading data:",_)}})()},[]);const w=[{header:"Cliente",accessor:"customerId",render:E=>o[E.customerId]||"Cliente no encontrado"},{header:"Fecha",accessor:"orderDate",type:"date"},{header:"Total Productos/Recetas",accessor:"totalProducts"},{header:"Total Items",accessor:"totalItems",render:E=>{var C,T;const _=(C=E.products)==null?void 0:C[0];if(_){const R=u.find(M=>M.id===_.productId);if(R!=null&&R.salesUnitId)return`${E.totalItems} ${v[R.salesUnitId]||"Unidad no encontrada"}`}const S=(T=E.recipes)==null?void 0:T[0];if(S){const R=m.find(M=>M.id===S.recipeId);if(R!=null&&R.yieldUnitId)return`${E.totalItems} ${v[R.yieldUnitId]||"Unidad no encontrada"}`}return E.totalItems}},{header:"Estado",accessor:"status",type:"tag",tags:[{value:we.PENDIENTE,label:"Pendiente",color:"warning"},{value:we.ENVIADA,label:"Enviada",color:"info"},{value:we.COMPLETADA,label:"Completada",color:"success"},{value:we.CANCELADA,label:"Cancelada",color:"danger"}]}];return h.jsx(Yn,{columns:w,title:"Pedidos de Clientes",addPath:"/customer-orders/new",backPath:"/customer-orders",service:t,type:"customer",products:u,recipes:m,customerName:o,units:v})}function FC(){const{id:t}=qe(),[e,n]=D.useState({orderDate:new Date,status:we.PENDIENTE}),r=new Wa;D.useEffect(()=>{t&&r.findById(t).then(o=>{o&&n(o)})},[t]);const s=[{name:"customerId",label:"Cliente",type:"select",required:!0,relatedService:{service:new Qa,labelField:"name"}},{name:"orderDate",label:"Fecha",type:"date",required:!0,readOnly:!0},{name:"status",label:"Estado",type:"select",required:!0,readOnly:!t,options:Object.values(we).map(o=>({value:o,label:o}))},{name:"recipes",label:"Recetas",type:"array",arrayConfig:{columns:[{header:"Receta",accessor:"recipeId",reference:{field:{name:"recipeId",label:"Receta",type:"select",relatedService:{service:new zt,labelField:"name"}},displayField:"name"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"recipeId",label:"Receta",type:"select",required:!0,relatedService:{service:new zt,labelField:"name"}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay recetas agregadas",description:'Haga clic en el botón "Agregar" para comenzar a agregar recetas al pedido.'},modalTitles:{add:"Agregar Receta",edit:"Modificar Receta"},addButtonText:"Agregar Receta",editButtonTooltip:"Modificar esta receta",deleteButtonTooltip:"Eliminar esta receta"}}},{name:"products",label:"Productos",type:"array",arrayConfig:{columns:[{header:"Producto",accessor:"productId",reference:{field:{name:"productId",label:"Producto",type:"select",relatedService:{service:new At,labelField:"name"}},displayField:"name"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"productId",label:"Producto",type:"select",required:!0,relatedService:{service:new At,labelField:"name"}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 5"}],emptyState:{title:"No hay productos agregados",description:'Haga clic en el botón "Agregar" para comenzar a agregar productos al pedido.'},modalTitles:{add:"Agregar Producto",edit:"Modificar Producto"},addButtonText:"Agregar Producto",editButtonTooltip:"Modificar este producto",deleteButtonTooltip:"Eliminar este producto"}}}];return h.jsx(Qn,{title:t?"Editar Pedido de Cliente":"Nuevo Pedido de Cliente",fields:s,initialValues:e,service:r,backPath:"/customer-orders"})}function QG(){const{id:t}=qe(),e=new Wa,n=new Qa,r=new At,s=new zt,o=new Ct,[c,u]=D.useState({}),[f,m]=D.useState({}),[g,v]=D.useState({}),[y,w]=D.useState({});D.useEffect(()=>{(async()=>{const[T,R,M,A]=await Promise.all([n.findAll(),r.findAll(),s.findAll(),o.findAll()]),I=T.reduce((Y,se)=>({...Y,[se.id]:se.name}),{}),k=R.reduce((Y,se)=>({...Y,[se.id]:se}),{}),U=M.reduce((Y,se)=>({...Y,[se.id]:se}),{}),F=A.reduce((Y,se)=>({...Y,[se.id]:se.name}),{});u(I),m(k),v(U),w(F)})()},[]);const E=C=>{const T=[{header:"Producto",accessor:R=>{if(R.productId){const M=f[R.productId];return h.jsx("div",{className:"font-medium",children:(M==null?void 0:M.name)||"Producto no encontrado"})}return"Producto no especificado"}},{header:"Cantidad",accessor:R=>{if(R.productId){const M=f[R.productId],A=M!=null&&M.salesUnitId?y[M.salesUnitId]:"Unidad no encontrada";return`${R.quantity} ${A}`}return R.quantity}}];return h.jsx(no,{data:C,columns:T,emptyMessage:"No hay productos"})},_=C=>{const T=[{header:"Receta",accessor:R=>{const M=g[R.recipeId];return h.jsx("div",{className:"font-medium",children:(M==null?void 0:M.name)||"Receta no encontrada"})}},{header:"Cantidad",accessor:R=>{const M=g[R.recipeId],A=M!=null&&M.yieldUnitId?y[M.yieldUnitId]:"Unidad no encontrada";return`${R.quantity} ${A}`}}];return h.jsx(no,{data:C,columns:T,emptyMessage:"No hay recetas"})},S=C=>[{label:"Cliente",value:c[C.customerId]||"Cliente no encontrado"},{label:"Estado",value:Sn[C.status]},{label:"Fecha",value:new Date(C.orderDate).toLocaleDateString()},{label:"Productos",value:E(C.products)},{label:"Recetas",value:_(C.recipes)},{label:"Total de Items",value:C.totalItems},{label:"Total de Productos",value:C.totalProducts}];return t?h.jsx(Zn,{title:"Pedido de Cliente",fields:S,editPath:`/customer-orders/${t}/edit`,backPath:"/customer-orders",service:e,id:t}):null}class I2 extends Kn{constructor(n){super(n,"production-orders");Ve(this,"modelProperties",["consecutive","orderDate","status","responsibleWorkerId","recipes","ratios","totalItems","totalProducts"])}async findByResponsibleWorkerId(n){return this.findByField("responsibleWorkerId",n)}async findByStatus(n){return this.findByField("status",n.toString())}async findByRecipeId(n){return(await this.findAll()).filter(s=>s.recipes.some(o=>o.recipeId===n))}async findByDateRange(n,r){return(await this.findAll()).filter(o=>o.orderDate>=n&&o.orderDate<=r)}}class Ga extends Xn{constructor(){super(I2)}calculateTotals(e){e.recipes||(e.recipes=[]),e.totalProducts=e.recipes.length,e.totalItems=e.recipes.reduce((n,r)=>n+(Number(r.quantity)||0),0)}validateOrder(e){if(!e.responsibleWorkerId)throw new Error("La orden debe tener un trabajador responsable asignado");if(!e.orderDate)throw new Error("La orden debe tener una fecha");if(!e.status)throw new Error("La orden debe tener un estado");if(!e.recipes||e.recipes.length===0)throw new Error("La orden debe tener al menos una receta");e.recipes.forEach((n,r)=>{if(!n.recipeId)throw new Error(`La receta #${r+1} debe tener un ID válido`);if(!n.quantity||n.quantity<=0)throw new Error(`La receta #${r+1} debe tener una cantidad válida mayor a 0`)})}async create(e){return e.status=e.status||we.PENDIENTE,this.calculateTotals(e),this.validateOrder(e),super.create(e)}async update(e,n){return(!n.responsibleWorkerId||!n.orderDate||!n.status||!n.recipes)&&(n={...await this.findById(e),...n}),this.calculateTotals(n),this.validateOrder(n),super.update(e,n)}async findByResponsibleWorkerId(e){return this.repository.findByResponsibleWorkerId(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByDateRange(e,n){return this.repository.findByDateRange(e,n)}}function ZG(){const t=new Ga,e=new Pn,n=new zt,r=new Ct,[s,o]=D.useState({}),[c,u]=D.useState([]),[f,m]=D.useState({});D.useEffect(()=>{(async()=>{try{const[y,w,E]=await Promise.all([e.findAll(),n.findAll(),r.findAll()]),_=y.reduce((C,T)=>(C[T.id]=T.name,C),{}),S=E.reduce((C,T)=>(C[T.id]=T.name,C),{});o(_),u(w),m(S)}catch(y){console.error("Error loading data:",y)}})()},[]);const g=[{header:"Trabajador",accessor:"responsibleWorkerId",render:v=>s[v.responsibleWorkerId]||"Trabajador no encontrado"},{header:"Fecha",accessor:"orderDate",type:"date"},{header:"Total Recetas",accessor:"totalProducts"},{header:"Total Items",accessor:"totalItems",render:v=>{var w;const y=(w=v.recipes)==null?void 0:w[0];if(y){const E=c.find(_=>_.id===y.recipeId);if(E&&E.yieldUnitId)return`${v.totalItems} ${f[E.yieldUnitId]||"Unidad no encontrada"}`}return v.totalItems}},{header:"Estado",accessor:"status",type:"tag",tags:[{value:we.PENDIENTE,label:"Pendiente",color:"warning"},{value:we.ENVIADA,label:"Enviada",color:"info"},{value:we.COMPLETADA,label:"Completada",color:"success"},{value:we.CANCELADA,label:"Cancelada",color:"danger"}]}];return h.jsx(Yn,{columns:g,title:"Órdenes de Producción",addPath:"/production-orders/new",backPath:"/production-orders",service:t,type:"production",recipes:c,workerName:s,units:f})}function BC(){const{id:t}=qe(),[e,n]=D.useState({orderDate:new Date,status:we.PENDIENTE}),r=new Ga;D.useEffect(()=>{t&&r.findById(t).then(o=>{o&&n(o)})},[t]);const s=[{name:"responsibleWorkerId",label:"Trabajador Responsable",type:"select",required:!0,relatedService:{service:new Pn,labelField:"name"}},{name:"orderDate",label:"Fecha de Producción",type:"date",required:!0,readOnly:!0},{name:"status",label:"Estado",type:"select",required:!0,readOnly:!t,options:Object.values(we).map(o=>({value:o,label:o}))},{name:"recipes",label:"Recetas",type:"array",arrayConfig:{columns:[{header:"Receta",accessor:"recipeId",reference:{field:{name:"recipeId",label:"Receta",type:"select",relatedService:{service:new zt,labelField:"name"}},displayField:"name"}},{header:"Cantidad",accessor:"quantity"}],form:{fields:[{name:"recipeId",label:"Receta",type:"select",required:!0,relatedService:{service:new zt,labelField:"name"}},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 10"}],emptyState:{title:"No hay recetas agregadas",description:'Haga clic en el botón "Agregar" para comenzar a agregar recetas a la orden de producción.'},modalTitles:{add:"Agregar Receta",edit:"Modificar Receta"},addButtonText:"Agregar Receta",editButtonTooltip:"Modificar esta receta",deleteButtonTooltip:"Eliminar esta receta"}}}];return h.jsx(Qn,{title:t?"Editar Orden de Producción":"Nueva Orden de Producción",fields:s,initialValues:e,service:r,backPath:"/production-orders"})}function JG(){const{id:t}=qe(),e=new Ga,n=new Pn,r=new zt,[s,o]=D.useState({}),[c,u]=D.useState({});D.useEffect(()=>{(async()=>{const[w,E]=await Promise.all([n.findAll(),r.findAll()]),_=w.reduce((C,T)=>(C[T.id]=T.name,C),{}),S=E.reduce((C,T)=>(C[T.id]=T.name,C),{});o(_),u(S)})()},[]);const f=y=>new Date(y).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),m=y=>y!=null&&y.length?h.jsx("table",{className:"w-full",children:h.jsx("tbody",{children:y.map((w,E)=>h.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[h.jsx("td",{className:"p-4 align-middle",children:h.jsx("div",{className:"font-medium",children:c[w.recipeId]||"Receta no encontrada"})}),h.jsxs("td",{className:"p-4 align-middle text-muted-foreground",children:["Cantidad: ",w.quantity]})]},E))})}):"No hay recetas",g=y=>y!=null&&y.length?h.jsx("table",{className:"w-full",children:h.jsx("tbody",{children:y.map((w,E)=>h.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[h.jsx("td",{className:"p-4 align-middle",children:h.jsx("div",{className:"font-medium",children:w.name})}),h.jsxs("td",{className:"p-4 align-middle text-muted-foreground",children:["Valor: ",w.value||"No especificado"]})]},E))})}):"No hay ratios definidos",v=y=>{var w,E;return[{label:"Trabajador Responsable",value:s[y.responsibleWorkerId]||"Trabajador no encontrado"},{label:"Fecha de Producción",value:f(y.orderDate)},{label:"Estado",value:Sn[y.status]},{label:"Recetas",value:(w=y.recipes)!=null&&w.length?m(y.recipes):"No hay recetas"},{label:"Ratios de Producción",value:(E=y.ratios)!=null&&E.length?g(y.ratios):"No hay ratios definidos"}]};return t?h.jsx(Zn,{title:"Orden de Producción",fields:v,editPath:`/production-orders/${t}/edit`,backPath:"/production-orders",service:e,id:t}):null}var ro=(t=>(t.SALE_RECIPE="sale_recipe",t.INTERNAL_USE="internal_use",t))(ro||{});function eY(){const t=new zt,e=new Ct,[n,r]=D.useState({});D.useEffect(()=>{(async()=>{try{const f=(await e.findAll()).reduce((m,g)=>({...m,[g.id]:g.symbol}),{});r(f)}catch(u){console.error("Error loading units:",u)}})()},[]);const s=c=>{switch(c){case ro.SALE_RECIPE:return"Receta de Venta";case ro.INTERNAL_USE:return"Uso Interno";default:return c}},o=[{header:"Nombre",accessor:"name"},{header:"Tipo",accessor:"recipeType",render:c=>s(c.recipeType)},{header:"Rendimiento",accessor:"yield",render:c=>`${c.yield} ${n[c.yieldUnitId]||""}`},{header:"Materiales",accessor:"materials",render:c=>{var u;return((u=c.materials)==null?void 0:u.length)||0}}];return h.jsx(Yn,{columns:o,title:"Recetas",addPath:"/recipes/new",backPath:"/recipes",service:t})}function VC(){const{id:t}=qe(),[e,n]=D.useState({}),[r,s]=D.useState([]),[o,c]=D.useState({}),[u,f]=D.useState(0),m=new zt,g=new At,v=new Ct,y=_=>{if(console.log("====== INICIO CÁLCULO DE COSTO TOTAL ======"),console.log("Materiales recibidos:",_),!_||_.length===0)return console.log("No hay materiales para calcular"),f(0),n(I=>({...I,cost:0})),0;let S=0;for(const I of _){if(console.log(`
Procesando material:`,I),!I.materialId){console.log("⚠️ Material sin ID");continue}const k=w(I.materialId);if(console.log("Info del material encontrada:",k),!k){console.log("⚠️ No se encontró info del material");continue}if(!I.quantity){console.log("⚠️ Material sin cantidad");continue}const U=k.cost*I.quantity;console.log("Cálculo:",`${k.cost} × ${I.quantity} = ${U}`),S+=U}console.log(`
Resumen de costos:`),console.log("Costo total de materiales:",S);const C=S*.05;console.log("Costo por merma (5%):",C);const T=S*.1;console.log("Gastos fijos (10%):",T);const R=S+C+T;console.log("COSTO TOTAL FINAL:",R);const M=e.yield||1,A=R/M;return console.log("Rendimiento:",M),console.log("COSTO UNITARIO:",A),console.log(`====== FIN CÁLCULO DE COSTO TOTAL ======
`),f(R),n(I=>({...I,cost:A,materials:_})),R};D.useEffect(()=>{v.findAll().then(_=>{const S=_.reduce((C,T)=>(C[T.id]=T.name,C),{});c(S)})},[]),D.useEffect(()=>{t&&m.findById(t).then(_=>{_&&(n(_),y(_.materials||[]))})},[t]),D.useEffect(()=>{Promise.all([g.findAll(),m.findAll()]).then(([_,S])=>{const C=_.filter(R=>R.isMaterial).map(R=>{const M=R.materialUnitId&&o[R.materialUnitId]?o[R.materialUnitId]:"";return{id:R.id,name:R.name,materialType:"Producto",displayName:`P - ${R.name}`,unitName:M,cost:R.materialUnitCost||0,originalData:R}}),T=S.filter(R=>R.id!==t).map(R=>{const M=R.yieldUnitId&&o[R.yieldUnitId]?o[R.yieldUnitId]:"";return{id:R.id,name:R.name,materialType:"Receta",displayName:`R - ${R.name}`,unitName:M,cost:R.cost||0,originalData:R}});s([...C,...T]),e.materials&&y(e.materials)})},[t,o]),D.useEffect(()=>{e.materials&&r.length>0&&y(e.materials)},[r,e.materials]);const w=_=>r.find(S=>S.id===_),E=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"recipeType",label:"Tipo",type:"select",required:!0,options:[{value:ro.SALE_RECIPE,label:"Receta de Venta"},{value:ro.INTERNAL_USE,label:"Uso Interno"}]},{name:"yieldUnitId",label:"Unidad de Rendimiento",type:"select",required:!0,relatedService:{service:new Ct,labelField:"name"}},{name:"yield",label:"Rendimiento",type:"number",required:!0,placeholder:"Ej: 1.5",onChange:_=>{if(_===""||_===null||_===void 0)return"";const S=parseFloat(_);return!isNaN(S)&&S>=0?S:""}},{name:"primaryWorkerId",label:"Trabajador Principal",type:"select",required:!0,relatedService:{service:new Pn,labelField:"name"}},{name:"notes",label:"Notas",type:"textarea"},{name:"materials",label:"Materiales",type:"array",arrayConfig:{columns:[{header:"Material",accessor:"materialId",render:(_,S)=>{const C=w(_);return C?C.displayName:"N/A"}},{header:"Cantidad",accessor:"quantity",render:(_,S)=>{const C=w(S.materialId);return C&&_?`${_} ${C.unitName}`:_||""}},{header:"Sub Total",accessor:"quantity",render:(_,S)=>{const C=w(S.materialId);return!C||!S.quantity?"":(C.cost*_).toLocaleString("es-UY",{style:"currency",currency:"UYU",currencyDisplay:"symbol",minimumFractionDigits:0,maximumFractionDigits:0})}}],form:{fields:[{name:"materialId",label:"Material",type:"select",required:!0,searchable:!0,options:r.map(_=>({value:_.id,label:`${_.displayName} (${_.cost.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})} por ${_.unitName})`,group:_.materialType==="Producto"?"Productos":"Recetas"})),placeholder:"Buscar material...",isSearchable:!0,isClearable:!0},{name:"quantity",label:"Cantidad",type:"number",required:!0,placeholder:"Ej: 1.5",onChange:_=>{if(_===""||_===null||_===void 0)return"";const S=parseFloat(_);return isNaN(S)||S<0?"":S}}],emptyState:{title:"No hay materiales agregados",description:'Haga clic en el botón "Agregar" para comenzar a agregar materiales a la receta.'},modalTitles:{add:"Agregar Material",edit:"Modificar Material"},addButtonText:"Agregar Material",editButtonTooltip:"Modificar este material",deleteButtonTooltip:"Eliminar este material"}}}];return h.jsx("div",{className:"space-y-4",children:h.jsx(Qn,{title:t?"Editar Receta":"Nueva Receta",fields:E,initialValues:{...e,materials:e.materials||[]},service:m,backPath:"/recipes",onFieldChange:(_,S)=>{_==="materials"?y(S||[]):_==="yield"&&y(e.materials||[]),n(C=>({...C,[_]:S}))},children:h.jsxs("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm p-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Desglose de Costos"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Costo de Materiales:"}),h.jsx("span",{children:(u*.87).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Costo por Merma (5%):"}),h.jsx("span",{children:(u*.05).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Gastos Fijos (10%):"}),h.jsx("span",{children:(u*.1).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Costo Total:"}),h.jsx("span",{children:u.toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0})})]}),h.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[h.jsx("span",{children:"Costo Unitario:"}),h.jsxs("span",{children:[(u/(e.yield||1)).toLocaleString("es-UY",{style:"currency",currency:"UYU",minimumFractionDigits:0}),e.yieldUnitId&&o[e.yieldUnitId]?` X ${o[e.yieldUnitId]}`:""]})]})]})]})})})}function tY(){const{id:t}=qe(),e=new zt,n=new Pn,r=new Ct,s=new At,[o,c]=D.useState({}),[u,f]=D.useState({}),[m,g]=D.useState({}),[v,y]=D.useState({});D.useEffect(()=>{(async()=>{const[C,T,R,M]=await Promise.all([n.findAll(),r.findAll(),s.findAll(),e.findAll()]),A=C.reduce((F,Y)=>({...F,[Y.id]:Y.name}),{}),I=T.reduce((F,Y)=>({...F,[Y.id]:Y.name}),{}),k=R.reduce((F,Y)=>({...F,[Y.id]:Y}),{}),U=M.reduce((F,Y)=>({...F,[Y.id]:Y}),{});c(A),f(I),g(k),y(U)})()},[]);const w=S=>{switch(S){case ro.SALE_RECIPE:return"Receta de Venta";case ro.INTERNAL_USE:return"Uso Interno";default:return S}},E=S=>{const C=[{header:"Material",accessor:T=>{let R="Material no encontrado";if(T.materialId){const M=m[T.materialId],A=v[T.materialId];M?R=M.name:A&&(R=`R - ${A.name}`)}return h.jsx("div",{className:"font-medium",children:R})}},{header:"Cantidad",accessor:T=>{let R="Unidad no encontrada";if(T.materialId){const M=m[T.materialId],A=v[T.materialId];M?R=M.materialUnitId?u[M.materialUnitId]:"Unidad no encontrada":A&&(R=u[A.yieldUnitId]||"Unidad no encontrada")}return`${T.quantity} ${R}`}}];return h.jsx(no,{data:S||[],columns:C,emptyMessage:"No hay materiales"})},_=S=>[{label:"Nombre",value:S.name},{label:"Tipo",value:w(S.recipeType)},{label:"Unidad de Rendimiento",value:u[S.yieldUnitId]||"Unidad no encontrada"},{label:"Rendimiento",value:S.yield},{label:"Trabajador Principal",value:o[S.primaryWorkerId]||"Trabajador no encontrado"},{label:"Notas",value:S.notes||"-"},{label:"Materiales",value:E(S.materials)}];return t?h.jsx(Zn,{title:"Receta",fields:_,editPath:`/recipes/${t}/edit`,backPath:"/recipes",service:e,id:t}):null}var ao=(t=>(t.ACTIVE="active",t.INACTIVE="inactive",t))(ao||{}),Yu=(t=>(t.GENERAL="general",t.OTHER="other",t))(Yu||{});function nY(){const t=new At,e=[{header:"SKU",accessor:"sku"},{header:"Nombre",accessor:"name"},{header:"Tipo",accessor:"isMaterial",render:n=>n.isMaterial&&n.isForSale?"Material y Venta":n.isMaterial?"Material":n.isForSale?"Venta":""},{header:"Estado",accessor:"state",type:"tag",tags:[{value:ao.ACTIVE,label:"Activo",color:"success"},{value:ao.INACTIVE,label:"Inactivo",color:"secondary"}]}];return h.jsx(Yn,{columns:e,title:"Productos",addPath:"/products/new",backPath:"/products",service:t})}function zC(){const{id:t}=qe(),[e,n]=D.useState({}),[r,s]=D.useState({}),o=new At,c=new Ct;D.useEffect(()=>{t&&o.findById(t).then(E=>{E&&n(E)})},[t]),D.useEffect(()=>{c.findAll().then(E=>{const _={};E.forEach(S=>{_[S.id]=S}),s(_)})},[]);const u=E=>{const _=Number(E.purchasePrice)||0,S=r[E.purchaseUnitId||""],C=r[E.salesUnitId||""],T=r[E.materialUnitId||""];if(S&&C&&_>0){const R=C.conversionFactor/S.conversionFactor;E.salesUnitCost=_*R}if(S&&T&&_>0){const R=T.conversionFactor/S.conversionFactor;E.materialUnitCost=_*R}return E},f=[{name:"name",label:"Nombre",type:"text",required:!0},{name:"sku",label:"SKU",type:"text",required:!0},{name:"imageUrl",label:"URL de Imagen",type:"text"},{name:"state",label:"Estado",type:"select",required:!0,options:[{value:ao.ACTIVE,label:"Activo"},{value:ao.INACTIVE,label:"Inactivo"}]},{name:"isForSale",label:"¿Es para Venta?",type:"boolean",required:!0,placeholder:"Marque si el producto es para venta"},{name:"isMaterial",label:"¿Es Material?",type:"boolean",required:!0,placeholder:"Marque si el producto es un material"}],m=[{name:"purchasePrice",label:"Precio de Compra",type:"number",onChange:(E,_)=>u({..._,purchasePrice:E})},{name:"purchaseUnitId",label:"Unidad de Compra",type:"select",relatedService:{service:new Ct,labelField:"name"},onChange:(E,_)=>u({..._,purchaseUnitId:E})},{name:"primarySupplierId",label:"Proveedor Principal",type:"select",relatedService:{service:new Fr,labelField:"commercialName"}}],g=[{name:"salePrice",label:"Precio de Venta",type:"number",required:!0},{name:"salesUnitId",label:"Unidad de Venta",type:"select",relatedService:{service:new Ct,labelField:"name"},onChange:(E,_)=>u({..._,salesUnitId:E})},{name:"salesUnitCost",label:"Costo Unitario de Venta",type:"number",readOnly:!0},{name:"salesChannels",label:"Canales de Venta",type:"array",arrayConfig:{columns:[{header:"Código",accessor:"code"},{header:"Nombre",accessor:"name"},{header:"Precio de Venta",accessor:"salePrice",render:E=>(E==null?void 0:E.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||""}],form:{fields:[{name:"code",label:"Código",type:"text",required:!0,placeholder:"Ej: TIENDA_1"},{name:"name",label:"Nombre",type:"text",required:!0,placeholder:"Ej: Tienda Principal"},{name:"salePrice",label:"Precio de Venta",type:"number",required:!0,placeholder:"Ej: 1000"}],emptyState:{title:"No hay canales de venta definidos",description:'Haga clic en el botón "Agregar" para comenzar a definir los canales de venta de este producto.'},modalTitles:{add:"Agregar Canal de Venta",edit:"Modificar Canal de Venta"},addButtonText:"Agregar Canal",editButtonTooltip:"Modificar este canal",deleteButtonTooltip:"Eliminar este canal"}}}],v=[{name:"materialName",label:"Nombre del Material",type:"text"},{name:"materialCode",label:"Código del Material",type:"text"},{name:"materialUnitId",label:"Unidad de Material",type:"select",relatedService:{service:new Ct,labelField:"name"},onChange:(E,_)=>u({..._,materialUnitId:E})},{name:"materialUnitCost",label:"Costo Unitario de Material",type:"number",readOnly:!0}],y=[{name:"sector",label:"Sector",type:"select",options:[{value:Yu.GENERAL,label:"General"},{value:Yu.OTHER,label:"Otro"}]},{name:"sectorOrder",label:"Orden en el Sector",type:"number"},{name:"desiredStock",label:"Stock Deseado",type:"number"}],w=[{title:"Información General",fields:f},{title:"Información de Compra",fields:m},{title:"Información de Venta",fields:g,visible:E=>E.isForSale===!0},{title:"Información de Material",fields:v,visible:E=>E.isMaterial===!0},{title:"Información de Inventario",fields:y}];return h.jsx(Qn,{title:t?"Editar Producto":"Nuevo Producto",sections:w,initialValues:e,service:o,backPath:"/products"})}function rY(){const{id:t}=qe(),e=new At,n=new Ct,r=new Fr,[s,o]=D.useState({}),[c,u]=D.useState({});D.useEffect(()=>{(async()=>{const[w,E]=await Promise.all([n.findAll(),r.findAll()]),_=w.reduce((C,T)=>({...C,[T.id]:T.name}),{}),S=E.reduce((C,T)=>({...C,[T.id]:T.commercialName}),{});o(_),u(S)})()},[]);const f=y=>{switch(y){case ao.ACTIVE:return"Activo";case ao.INACTIVE:return"Inactivo";default:return y}},m=y=>{switch(y){case Yu.GENERAL:return"General";case Yu.OTHER:return"Otro";default:return y}},g=y=>{const w=[{header:"Código",accessor:E=>E.code},{header:"Nombre",accessor:E=>E.name},{header:"Precio de Venta",accessor:E=>E.salePrice.toLocaleString("es-UY",{style:"currency",currency:"UYU"})}];return h.jsx(no,{data:y,columns:w,emptyMessage:"No hay canales de venta"})},v=y=>{var w,E,_;return[{label:"Nombre",value:y.name},{label:"SKU",value:y.sku},{label:"Estado",value:f(y.state)},{label:"Sector",value:y.sector?m(y.sector):"-"},{label:"Orden en Sector",value:y.sectorOrder||"-"},{label:"Stock Deseado",value:y.desiredStock||"-"},{label:"Precio de Venta",value:y.salePrice.toLocaleString("es-UY",{style:"currency",currency:"UYU"})},{label:"Costo Unitario de Venta",value:((w=y.salesUnitCost)==null?void 0:w.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||"-"},{label:"Costo Unitario de Material",value:((E=y.materialUnitCost)==null?void 0:E.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||"-"},{label:"Precio de Compra",value:((_=y.purchasePrice)==null?void 0:_.toLocaleString("es-UY",{style:"currency",currency:"UYU"}))||"-"},{label:"Unidad de Venta",value:y.salesUnitId?s[y.salesUnitId]:"-"},{label:"Unidad de Material",value:y.materialUnitId?s[y.materialUnitId]:"-"},{label:"Unidad de Compra",value:y.purchaseUnitId?s[y.purchaseUnitId]:"-"},{label:"Proveedor Principal",value:y.primarySupplierId?c[y.primarySupplierId]:"-"},{label:"Canales de Venta",value:g(y.salesChannels||[])}]};return t?h.jsx(Zn,{title:"Producto",fields:v,editPath:`/products/${t}/edit`,backPath:"/products",service:e,id:t}):null}var Rl=(t=>(t.PENDING="pending",t.RESOLVED="resolved",t))(Rl||{}),Ft=(t=>(t.PRODUCTION="production",t.TASK="task",t.INVENTORY="inventory",t))(Ft||{});class aY extends Kn{constructor(n){super(n,"incidents");Ve(this,"modelProperties",["type","description","reportedByWorkerId","status","taskId","productId","recipeId"])}async findByType(n){return this.findByField("type",n)}async findByStatus(n){return this.findByField("status",n)}async findByReportedBy(n){return this.findByField("reportedByWorkerId",n)}}class J0 extends Xn{constructor(){super(aY)}async findByType(e){return this.repository.findByType(e)}async findByStatus(e){return this.repository.findByStatus(e)}async findByReportedBy(e){return(await this.repository.findAll()).filter(r=>r.reportedByWorkerId===e)}async findByDateRange(e,n){return(await this.repository.findAll()).filter(s=>{const o=new Date(s.createdAt);return o>=e&&o<=n})}async findByTaskId(e){return(await this.repository.findAll()).filter(r=>r.taskId===e)}async findByProductId(e){return(await this.repository.findAll()).filter(r=>r.productId===e)}async findByRecipeId(e){return(await this.repository.findAll()).filter(r=>r.recipeId===e)}}function sY(){const t=new J0,e=new Pn,[n,r]=D.useState({});D.useEffect(()=>{(async()=>{try{const c=await e.findAll(),u={};c.forEach(f=>{u[f.id]=f.name}),r(u)}catch(c){console.error("Error loading worker names:",c)}})()},[]);const s=[{header:"Tipo",accessor:"type",type:"tag",tags:[{value:Ft.PRODUCTION,label:"Producción",color:"primary"},{value:Ft.TASK,label:"Tarea",color:"info"},{value:Ft.INVENTORY,label:"Inventario",color:"warning"}]},{header:"Descripción",accessor:"description"},{header:"Reportado Por",accessor:"reportedByWorkerId",render:o=>n[o.reportedByWorkerId]||"Cargando..."},{header:"Estado",accessor:"status",type:"tag",tags:[{value:Rl.PENDING,label:"Pendiente",color:"warning"},{value:Rl.RESOLVED,label:"Resuelto",color:"success"}]}];return h.jsx(Yn,{columns:s,title:"Incidentes",addPath:"/incidents/new",backPath:"/incidents",service:t})}function HC(){const{id:t}=qe(),[e,n]=D.useState({}),[r,s]=D.useState(""),o=new J0;D.useEffect(()=>{t&&o.findById(t).then(v=>{v&&(n(v),s(v.type))})},[t]);const c=v=>{const y=v.target.value;s(y)},u=[{name:"type",label:"Tipo",type:"select",required:!0,options:[{value:Ft.PRODUCTION,label:"Producción"},{value:Ft.TASK,label:"Tarea"},{value:Ft.INVENTORY,label:"Inventario"}],onChange:c},{name:"reportedByWorkerId",label:"Reportado Por",type:"select",required:!0,relatedService:{service:new Pn,labelField:"name"}},{name:"description",label:"Descripción",type:"textarea",required:!0},{name:"status",label:"Estado",type:"select",required:!0,options:[{value:Rl.PENDING,label:"Pendiente"},{value:Rl.RESOLVED,label:"Resuelto"}]}],m=(()=>{switch(r){case Ft.PRODUCTION:return{name:"recipeId",label:"Receta",type:"select",required:!0,relatedService:{service:new zt,labelField:"name"}};case Ft.TASK:return{name:"taskId",label:"Tarea",type:"select",required:!0,relatedService:{service:new ti,labelField:"name"}};case Ft.INVENTORY:return{name:"productId",label:"Producto",type:"select",required:!0,relatedService:{service:new At,labelField:"name"}};default:return null}})(),g=m?[...u,m]:u;return h.jsx(Qn,{title:t?"Editar Incidente":"Nuevo Incidente",fields:g,initialValues:e,service:o,backPath:"/incidents"})}function iY(){const{id:t}=qe(),e=new J0,n=new Pn,r=new ti,s=new At,o=new zt,[c,u]=D.useState(""),[f,m]=D.useState(""),[g,v]=D.useState(""),[y,w]=D.useState("");D.useEffect(()=>{if(!t)return;(async()=>{const T=await e.findById(t);if(T){if(T.reportedByWorkerId){const R=await n.findById(T.reportedByWorkerId);R&&u(R.name)}switch(T.type){case Ft.TASK:if(T.taskId){const R=await r.findById(T.taskId);R&&m(R.name)}break;case Ft.INVENTORY:if(T.productId){const R=await s.findById(T.productId);R&&v(R.name)}break;case Ft.PRODUCTION:if(T.recipeId){const R=await o.findById(T.recipeId);R&&w(R.name)}break}}})()},[t]);const E=C=>{switch(C){case Ft.PRODUCTION:return"Producción";case Ft.TASK:return"Tarea";case Ft.INVENTORY:return"Inventario";default:return C}},_=C=>{switch(C.type){case Ft.TASK:return{label:"Tarea",value:f||"Cargando..."};case Ft.INVENTORY:return{label:"Producto",value:g||"Cargando..."};case Ft.PRODUCTION:return{label:"Receta",value:y||"Cargando..."};default:return null}},S=C=>{const T=[{label:"Tipo",value:E(C.type)},{label:"Descripción",value:C.description},{label:"Reportado Por",value:c||"Cargando..."},{label:"Estado",value:C.status===Rl.PENDING?"Pendiente":"Resuelto"}],R=_(C);return R&&T.push(R),T};return t?h.jsx(Zn,{title:"Incidente",fields:S,editPath:`/incidents/${t}/edit`,backPath:"/incidents",service:e,id:t}):null}class oY extends Kn{constructor(n){super(n,"daily-closures");Ve(this,"modelProperties",["date","totalExpenses","totalIncome","totalDifference","observations","accounts","transactions"])}async findByDate(n){return this.findByField("date",n.toISOString())}}class ex extends Xn{constructor(){super(oY)}async findByDate(e){return this.repository.findByDate(e)}async findByDateRange(e,n){return(await this.repository.findAll()).filter(s=>{const o=new Date(s.date);return o>=e&&o<=n})}async findByAccountCode(e){return(await this.repository.findAll()).filter(r=>r.accounts.some(s=>s.accountCode===e))}async findByTransactionCode(e){return(await this.repository.findAll()).filter(r=>{var s;return(s=r.transactions)==null?void 0:s.some(o=>o.transactionCode===e)})}async getTotalsByDate(e){const n=await this.findByDate(e),r={};return n.forEach(s=>{var o;(o=s.transactions)==null||o.forEach(c=>{const u=c.concept;r[u]||(r[u]=0),r[u]+=c.amount})}),r}async getBalanceByDate(e){return(await this.findByDate(e)).reduce((r,s)=>{var o;return r+(((o=s.transactions)==null?void 0:o.reduce((c,u)=>c+u.amount,0))||0)},0)}}function lY(){const t=new ex,e=[{header:"Fecha",accessor:"date",render:n=>new Date(n.date).toLocaleDateString()},{header:"Total Ingresos",accessor:"totalIncome",render:n=>`$${n.totalIncome.toFixed(2)}`},{header:"Total Gastos",accessor:"totalExpenses",render:n=>`$${n.totalExpenses.toFixed(2)}`},{header:"Diferencia Total",accessor:"totalDifference",render:n=>`$${n.totalDifference.toFixed(2)}`},{header:"Cuentas",accessor:"accounts",render:n=>{var r;return((r=n.accounts)==null?void 0:r.length)||0}},{header:"Transacciones",accessor:"transactions",render:n=>{var r;return((r=n.transactions)==null?void 0:r.length)||0}}];return h.jsx(Yn,{columns:e,title:"Cierres Diarios",addPath:"/daily-closures/new",backPath:"/daily-closures",service:t})}function $C(){const{id:t}=qe(),[e,n]=D.useState({}),r=new ex;D.useEffect(()=>{t&&r.findById(t).then(o=>{o&&n(o)})},[t]);const s=[{name:"date",label:"Fecha",type:"date",required:!0},{name:"totalExpenses",label:"Total de Gastos",type:"number",required:!0},{name:"totalIncome",label:"Total de Ingresos",type:"number",required:!0},{name:"totalDifference",label:"Diferencia Total",type:"number",required:!0},{name:"observations",label:"Observaciones",type:"textarea"},{name:"accounts",label:"Cuentas",type:"array",arrayConfig:{columns:[{header:"Nombre",accessor:"name"},{header:"Saldo",accessor:"balance",render:o=>(o==null?void 0:o.toLocaleString("es-CL",{style:"currency",currency:"CLP"}))||"N/A"}],form:{fields:[{name:"name",label:"Nombre",type:"text",required:!0,placeholder:"Ej: Caja Principal"},{name:"balance",label:"Saldo",type:"number",required:!0,placeholder:"Ej: 100000"}],emptyState:{title:"No hay cuentas registradas",description:'Haga clic en el botón "Agregar" para comenzar a registrar las cuentas del cierre diario.'},modalTitles:{add:"Agregar Cuenta",edit:"Modificar Cuenta"},addButtonText:"Agregar Cuenta",editButtonTooltip:"Modificar esta cuenta",deleteButtonTooltip:"Eliminar esta cuenta"}}},{name:"transactions",label:"Transacciones",type:"array",arrayConfig:{columns:[{header:"Descripción",accessor:"description"},{header:"Monto",accessor:"amount",render:o=>(o==null?void 0:o.toLocaleString("es-CL",{style:"currency",currency:"CLP"}))||"N/A"},{header:"Tipo",accessor:"type"}],form:{fields:[{name:"description",label:"Descripción",type:"text",required:!0,placeholder:"Ej: Venta de pan"},{name:"amount",label:"Monto",type:"number",required:!0,placeholder:"Ej: 5000"},{name:"type",label:"Tipo",type:"select",required:!0,options:[{value:"income",label:"Ingreso"},{value:"expense",label:"Gasto"}]}],emptyState:{title:"No hay transacciones registradas",description:'Haga clic en el botón "Agregar" para comenzar a registrar las transacciones del cierre diario.'},modalTitles:{add:"Agregar Transacción",edit:"Modificar Transacción"},addButtonText:"Agregar Transacción",editButtonTooltip:"Modificar esta transacción",deleteButtonTooltip:"Eliminar esta transacción"}}}];return h.jsx(Qn,{title:t?"Editar Cierre Diario":"Nuevo Cierre Diario",fields:s,initialValues:e,service:r,backPath:"/daily-closures"})}function cY(){const{id:t}=qe(),e=new ex,n=o=>new Date(o).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),r=o=>o.toLocaleString("es-CL",{style:"currency",currency:"CLP"}),s=o=>{var c,u;return[{label:"Fecha",value:n(o.date)},{label:"Total Ingresos",value:r(o.totalIncome)},{label:"Total Gastos",value:r(o.totalExpenses)},{label:"Diferencia Total",value:r(o.totalDifference)},{label:"Observaciones",value:o.observations||"-"},{label:"Cantidad de Cuentas",value:((c=o.accounts)==null?void 0:c.length)||0},{label:"Cantidad de Transacciones",value:((u=o.transactions)==null?void 0:u.length)||0}]};return t?h.jsx(Zn,{title:"Cierre Diario",fields:s,editPath:`/daily-closures/${t}/edit`,backPath:"/daily-closures",service:e,id:t}):null}class uY{constructor(){Ve(this,"customerOrderRepo");Ve(this,"productionOrderRepo");Ve(this,"purchaseOrderRepo");Ve(this,"productRepo");Ve(this,"customerRepo");Ve(this,"supplierRepo");Ve(this,"workerRepo");Ve(this,"recipeRepo");this.customerOrderRepo=new T2(Ta),this.productionOrderRepo=new I2(Ta),this.purchaseOrderRepo=new C2(Ta),this.productRepo=new N2(Ta),this.customerRepo=new YI(Ta),this.supplierRepo=new E2(Ta),this.workerRepo=new S2(Ta),this.recipeRepo=new R2(Ta)}async getDashboardData(){const[e,n,r,s,o,c,u,f]=await Promise.all([this.productRepo.findAll(),this.customerOrderRepo.findAll(),this.productionOrderRepo.findAll(),this.purchaseOrderRepo.findAll(),this.customerRepo.findAll(),this.supplierRepo.findAll(),this.workerRepo.findAll(),this.recipeRepo.findAll()]);console.log("Debug - Raw Data:",{products:e,recipes:f,customerOrders:n,productionOrders:r,purchaseOrders:s,customers:o,suppliers:c,workers:u});const m=Array.isArray(e)?e.length:0,g=Array.isArray(f)?f.length:0;console.log("Debug - Counts:",{productsCount:m,recipesCount:g,total:m+g});const v={totalProducts:m,totalRecipes:g,totalInventory:m+g,totalOrders:Array.isArray(n)?n.length:0,totalPurchases:Array.isArray(s)?s.length:0,totalProduction:Array.isArray(r)?r.length:0,totalSuppliers:Array.isArray(c)?c.length:0,totalCustomers:Array.isArray(o)?o.length:0,totalWorkers:Array.isArray(u)?u.length:0};console.log("Debug - Stats:",v);const y=new Map;s.forEach(A=>{var I;(I=A.products)==null||I.forEach(k=>{const U=e.find(F=>F.id===k.productId);if(U){const F=y.get(U.id)||{quantity:0,amount:0,count:0};y.set(U.id,{quantity:F.quantity+(Number(k.quantity)||0),amount:F.amount+(Number(k.quantity)||0)*(Number(U.purchasePrice)||0),count:F.count+1})}})});const w=new Map;r.forEach(A=>{var I;A.status===we.COMPLETADA&&((I=A.recipes)==null||I.forEach(k=>{const U=f.find(F=>F.id===k.recipeId);if(U){const F=w.get(U.id)||{quantity:0,amount:0,count:0};w.set(U.id,{quantity:F.quantity+(Number(k.quantity)||0),amount:F.amount+(Number(k.quantity)||0)*(Number(U.cost)||0),count:F.count+1})}}))});const E=new Map;n.forEach(A=>{var I;(I=A.products)==null||I.forEach(k=>{const U=e.find(F=>F.id===k.productId);if(U){const F=E.get(U.id)||{quantity:0,amount:0,count:0};E.set(U.id,{quantity:F.quantity+(Number(k.quantity)||0),amount:F.amount+(Number(k.quantity)||0)*(Number(U.salePrice)||0),count:F.count+1})}})});const _=A=>`$${A.toLocaleString("es-UY")}`,S=A=>A.toFixed(2),C=(A,I)=>`+${(A/I*100).toFixed(0)}%`,T=Array.from(y.entries()).map(([A,I])=>{const k=e.find(U=>U.id===A);return{name:(k==null?void 0:k.name)||"",quantity:S(I.quantity),amount:_(I.amount),trend:C(I.count,s.length),status:we.COMPLETADA}}).sort((A,I)=>Number(I.amount.slice(1).replace(/,/g,""))-Number(A.amount.slice(1).replace(/,/g,""))).slice(0,3),R=Array.from(w.entries()).map(([A,I])=>{const k=f.find(U=>U.id===A);return{name:(k==null?void 0:k.name)||"",quantity:S(I.quantity),amount:_(I.amount),trend:C(I.count,r.length),status:we.COMPLETADA}}).sort((A,I)=>Number(I.amount.slice(1).replace(/,/g,""))-Number(A.amount.slice(1).replace(/,/g,""))).slice(0,3),M=Array.from(E.entries()).map(([A,I])=>{const k=e.find(U=>U.id===A);return{name:(k==null?void 0:k.name)||"",quantity:S(I.quantity),amount:_(I.amount),trend:C(I.count,n.length),status:we.COMPLETADA}}).sort((A,I)=>Number(I.amount.slice(1).replace(/,/g,""))-Number(A.amount.slice(1).replace(/,/g,""))).slice(0,3);return{stats:v,topPurchased:T,topProduced:R,topOrdered:M}}}var dY=Object.defineProperty,fY=(t,e,n)=>e in t?dY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qv=(t,e,n)=>(fY(t,typeof e!="symbol"?e+"":e,n),n);let hY=class{constructor(){qv(this,"current",this.detect()),qv(this,"handoffState","pending"),qv(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Wi=new hY;function Lm(t){return Wi.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}function Um(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function ni(){let t=[],e={addEventListener(n,r,s,o){return n.addEventListener(r,s,o),e.add(()=>n.removeEventListener(r,s,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Um(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,s){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=ni();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let s of t.splice(r,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}function tx(){let[t]=x.useState(ni);return x.useEffect(()=>()=>t.dispose(),[t]),t}let _n=(t,e)=>{Wi.isServer?x.useEffect(t,e):x.useLayoutEffect(t,e)};function lo(t){let e=x.useRef(t);return _n(()=>{e.current=t},[t]),e}let bt=function(t){let e=lo(t);return D.useCallback((...n)=>e.current(...n),[e])},mY=x.createContext(void 0);function pY(){return x.useContext(mY)}function Jy(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Qs(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Qs),r}var Xh=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Xh||{}),Ms=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ms||{});function vr(){let t=vY();return x.useCallback(e=>gY({mergeRefs:t,...e}),[t])}function gY({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:s,visible:o=!0,name:c,mergeRefs:u}){u=u??yY;let f=A2(e,t);if(o)return Jf(f,n,r,c,u);let m=s??0;if(m&2){let{static:g=!1,...v}=f;if(g)return Jf(v,n,r,c,u)}if(m&1){let{unmount:g=!0,...v}=f;return Qs(g?0:1,{0(){return null},1(){return Jf({...v,hidden:!0,style:{display:"none"}},n,r,c,u)}})}return Jf(f,n,r,c,u)}function Jf(t,e={},n,r,s){let{as:o=n,children:c,refName:u="ref",...f}=Wv(t,["unmount","static"]),m=t.ref!==void 0?{[u]:t.ref}:{},g=typeof c=="function"?c(e):c;"className"in f&&f.className&&typeof f.className=="function"&&(f.className=f.className(e)),f["aria-labelledby"]&&f["aria-labelledby"]===f.id&&(f["aria-labelledby"]=void 0);let v={};if(e){let y=!1,w=[];for(let[E,_]of Object.entries(e))typeof _=="boolean"&&(y=!0),_===!0&&w.push(E.replace(/([A-Z])/g,S=>`-${S.toLowerCase()}`));if(y){v["data-headlessui-state"]=w.join(" ");for(let E of w)v[`data-${E}`]=""}}if(o===x.Fragment&&(Object.keys(ki(f)).length>0||Object.keys(ki(v)).length>0))if(!x.isValidElement(g)||Array.isArray(g)&&g.length>1){if(Object.keys(ki(f)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ki(f)).concat(Object.keys(ki(v))).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`))}else{let y=g.props,w=y==null?void 0:y.className,E=typeof w=="function"?(...C)=>Jy(w(...C),f.className):Jy(w,f.className),_=E?{className:E}:{},S=A2(g.props,ki(Wv(f,["ref"])));for(let C in v)C in S&&delete v[C];return x.cloneElement(g,Object.assign({},S,v,m,{ref:s(bY(g),m.ref)},_))}return x.createElement(o,Object.assign({},Wv(f,["ref"]),o!==x.Fragment&&m,o!==x.Fragment&&v),g)}function vY(){let t=x.useRef([]),e=x.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function yY(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function A2(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var o;return(o=s==null?void 0:s.preventDefault)==null?void 0:o.call(s)}]);for(let r in n)Object.assign(e,{[r](s,...o){let c=n[r];for(let u of c){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;u(s,...o)}}});return e}function kn(t){var e;return Object.assign(x.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function ki(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Wv(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function bY(t){return D.version.split(".")[0]>="19"?t.props.ref:t.ref}let xY="span";var Qh=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Qh||{});function wY(t,e){var n;let{features:r=1,...s}=t,o={ref:e,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return vr()({ourProps:o,theirProps:s,slot:{},defaultTag:xY,name:"Hidden"})}let eb=kn(wY),D2=Symbol();function _Y(t,e=!0){return Object.assign(t,{[D2]:e})}function oa(...t){let e=x.useRef(t);x.useEffect(()=>{e.current=t},[t]);let n=bt(r=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return t.every(r=>r==null||(r==null?void 0:r[D2]))?void 0:n}let nx=x.createContext(null);nx.displayName="DescriptionContext";function O2(){let t=x.useContext(nx);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,O2),e}return t}function EY(){let[t,e]=x.useState([]);return[t.length>0?t.join(" "):void 0,x.useMemo(()=>function(n){let r=bt(o=>(e(c=>[...c,o]),()=>e(c=>{let u=c.slice(),f=u.indexOf(o);return f!==-1&&u.splice(f,1),u}))),s=x.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return D.createElement(nx.Provider,{value:s},n.children)},[e])]}let SY="p";function CY(t,e){let n=x.useId(),r=pY(),{id:s=`headlessui-description-${n}`,...o}=t,c=O2(),u=oa(e);_n(()=>c.register(s),[s,c.register]);let f=r||!1,m=x.useMemo(()=>({...c.slot,disabled:f}),[c.slot,f]),g={ref:u,...c.props,id:s};return vr()({ourProps:g,theirProps:o,slot:m,defaultTag:SY,name:c.name||"Description"})}let NY=kn(CY),TY=Object.assign(NY,{});var M2=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(M2||{});let RY=x.createContext(()=>{});function IY({value:t,children:e}){return D.createElement(RY.Provider,{value:t},e)}let AY=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};function j2(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...o){let c=e[s].call(n,...o);c&&(n=c,r.forEach(u=>u()))}}}function P2(t){return x.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}let DY=new AY(()=>j2(()=>[],{ADD(t){return this.includes(t)?this:[...this,t]},REMOVE(t){let e=this.indexOf(t);if(e===-1)return this;let n=this.slice();return n.splice(e,1),n}}));function Ql(t,e){let n=DY.get(e),r=x.useId(),s=P2(n);if(_n(()=>{if(t)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,t]),!t)return!1;let o=s.indexOf(r),c=s.length;return o===-1&&(o=c,c+=1),o===c-1}let tb=new Map,Cu=new Map;function qC(t){var e;let n=(e=Cu.get(t))!=null?e:0;return Cu.set(t,n+1),n!==0?()=>WC(t):(tb.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>WC(t))}function WC(t){var e;let n=(e=Cu.get(t))!=null?e:1;if(n===1?Cu.delete(t):Cu.set(t,n-1),n!==1)return;let r=tb.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,tb.delete(t))}function OY(t,{allowed:e,disallowed:n}={}){let r=Ql(t,"inert-others");_n(()=>{var s,o;if(!r)return;let c=ni();for(let f of(s=n==null?void 0:n())!=null?s:[])f&&c.add(qC(f));let u=(o=e==null?void 0:e())!=null?o:[];for(let f of u){if(!f)continue;let m=Lm(f);if(!m)continue;let g=f.parentElement;for(;g&&g!==m.body;){for(let v of g.children)u.some(y=>v.contains(y))||c.add(qC(v));g=g.parentElement}}return c.dispose},[r,e,n])}function MY(t,e,n){let r=lo(s=>{let o=s.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});x.useEffect(()=>{if(!t)return;let s=e===null?null:e instanceof HTMLElement?e:e.current;if(!s)return;let o=ni();if(typeof ResizeObserver<"u"){let c=new ResizeObserver(()=>r.current(s));c.observe(s),o.add(()=>c.disconnect())}if(typeof IntersectionObserver<"u"){let c=new IntersectionObserver(()=>r.current(s));c.observe(s),o.add(()=>c.disconnect())}return()=>o.dispose()},[e,r,t])}let Zh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),jY=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Ra=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Ra||{}),nb=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(nb||{}),PY=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(PY||{});function kY(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Zh)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function LY(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(jY)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var k2=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(k2||{});function UY(t,e=0){var n;return t===((n=Lm(t))==null?void 0:n.body)?!1:Qs(e,{0(){return t.matches(Zh)},1(){let r=t;for(;r!==null;){if(r.matches(Zh))return!0;r=r.parentElement}return!1}})}var FY=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(FY||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ua(t){t==null||t.focus({preventScroll:!0})}let BY=["textarea","input"].join(",");function VY(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,BY))!=null?n:!1}function zY(t,e=n=>n){return t.slice().sort((n,r)=>{let s=e(n),o=e(r);if(s===null||o===null)return 0;let c=s.compareDocumentPosition(o);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Nu(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let o=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,c=Array.isArray(t)?n?zY(t):t:e&64?LY(t):kY(t);s.length>0&&c.length>1&&(c=c.filter(w=>!s.some(E=>E!=null&&"current"in E?(E==null?void 0:E.current)===w:E===w))),r=r??o.activeElement;let u=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(r))-1;if(e&4)return Math.max(0,c.indexOf(r))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=e&32?{preventScroll:!0}:{},g=0,v=c.length,y;do{if(g>=v||g+v<=0)return 0;let w=f+g;if(e&16)w=(w+v)%v;else{if(w<0)return 3;if(w>=v)return 1}y=c[w],y==null||y.focus(m),g+=u}while(y!==o.activeElement);return e&6&&VY(y)&&y.select(),2}function L2(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function HY(){return/Android/gi.test(window.navigator.userAgent)}function $Y(){return L2()||HY()}function ou(t,e,n,r){let s=lo(n);x.useEffect(()=>{if(!t)return;function o(c){s.current(c)}return document.addEventListener(e,o,r),()=>document.removeEventListener(e,o,r)},[t,e,r])}function U2(t,e,n,r){let s=lo(n);x.useEffect(()=>{if(!t)return;function o(c){s.current(c)}return window.addEventListener(e,o,r),()=>window.removeEventListener(e,o,r)},[t,e,r])}const GC=30;function qY(t,e,n){let r=Ql(t,"outside-click"),s=lo(n),o=x.useCallback(function(f,m){if(f.defaultPrevented)return;let g=m(f);if(g===null||!g.getRootNode().contains(g)||!g.isConnected)return;let v=function y(w){return typeof w=="function"?y(w()):Array.isArray(w)||w instanceof Set?w:[w]}(e);for(let y of v)if(y!==null&&(y.contains(g)||f.composed&&f.composedPath().includes(y)))return;return!UY(g,k2.Loose)&&g.tabIndex!==-1&&f.preventDefault(),s.current(f,g)},[s,e]),c=x.useRef(null);ou(r,"pointerdown",f=>{var m,g;c.current=((g=(m=f.composedPath)==null?void 0:m.call(f))==null?void 0:g[0])||f.target},!0),ou(r,"mousedown",f=>{var m,g;c.current=((g=(m=f.composedPath)==null?void 0:m.call(f))==null?void 0:g[0])||f.target},!0),ou(r,"click",f=>{$Y()||c.current&&(o(f,()=>c.current),c.current=null)},!0);let u=x.useRef({x:0,y:0});ou(r,"touchstart",f=>{u.current.x=f.touches[0].clientX,u.current.y=f.touches[0].clientY},!0),ou(r,"touchend",f=>{let m={x:f.changedTouches[0].clientX,y:f.changedTouches[0].clientY};if(!(Math.abs(m.x-u.current.x)>=GC||Math.abs(m.y-u.current.y)>=GC))return o(f,()=>f.target instanceof HTMLElement?f.target:null)},!0),U2(r,"blur",f=>o(f,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function xd(...t){return x.useMemo(()=>Lm(...t),[...t])}function F2(t,e,n,r){let s=lo(n);x.useEffect(()=>{t=t??window;function o(c){s.current(c)}return t.addEventListener(e,o,r),()=>t.removeEventListener(e,o,r)},[t,e,r])}function WY(){let t;return{before({doc:e}){var n;let r=e.documentElement,s=(n=e.defaultView)!=null?n:window;t=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,t-s);n.style(r,"paddingRight",`${o}px`)}}}function GY(){return L2()?{before({doc:t,d:e,meta:n}){function r(s){return n.containers.flatMap(o=>o()).some(o=>o.contains(s))}e.microTask(()=>{var s;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let u=ni();u.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>u.dispose()))}let o=(s=window.scrollY)!=null?s:window.pageYOffset,c=null;e.addEventListener(t,"click",u=>{if(u.target instanceof HTMLElement)try{let f=u.target.closest("a");if(!f)return;let{hash:m}=new URL(f.href),g=t.querySelector(m);g&&!r(g)&&(c=g)}catch{}},!0),e.addEventListener(t,"touchstart",u=>{if(u.target instanceof HTMLElement)if(r(u.target)){let f=u.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;e.style(f,"overscrollBehavior","contain")}else e.style(u.target,"touchAction","none")}),e.addEventListener(t,"touchmove",u=>{if(u.target instanceof HTMLElement){if(u.target.tagName==="INPUT")return;if(r(u.target)){let f=u.target;for(;f.parentElement&&f.dataset.headlessuiPortal!==""&&!(f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth);)f=f.parentElement;f.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),e.add(()=>{var u;let f=(u=window.scrollY)!=null?u:window.pageYOffset;o!==f&&window.scrollTo(0,o),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})})}}:{}}function YY(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function KY(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let $i=j2(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:ni(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:KY(n)},s=[GY(),WY(),YY()];s.forEach(({before:o})=>o==null?void 0:o(r)),s.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});$i.subscribe(()=>{let t=$i.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&$i.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&$i.dispatch("TEARDOWN",n)}});function XY(t,e,n=()=>({containers:[]})){let r=P2($i),s=e?r.get(e):void 0,o=s?s.count>0:!1;return _n(()=>{if(!(!e||!t))return $i.dispatch("PUSH",e,n),()=>$i.dispatch("POP",e,n)},[t,e]),o}function QY(t,e,n=()=>[document.body]){let r=Ql(t,"scroll-lock");XY(r,e,s=>{var o;return{containers:[...(o=s.containers)!=null?o:[],n]}})}function ZY(t=0){let[e,n]=x.useState(t),r=x.useCallback(f=>n(f),[e]),s=x.useCallback(f=>n(m=>m|f),[e]),o=x.useCallback(f=>(e&f)===f,[e]),c=x.useCallback(f=>n(m=>m&~f),[n]),u=x.useCallback(f=>n(m=>m^f),[n]);return{flags:e,setFlag:r,addFlag:s,hasFlag:o,removeFlag:c,toggleFlag:u}}var JY={},YC,KC;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((YC=process==null?void 0:JY)==null?void 0:YC.NODE_ENV)==="test"&&typeof((KC=Element==null?void 0:Element.prototype)==null?void 0:KC.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var eK=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(eK||{});function tK(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function nK(t,e,n,r){let[s,o]=x.useState(n),{hasFlag:c,addFlag:u,removeFlag:f}=ZY(t&&s?3:0),m=x.useRef(!1),g=x.useRef(!1),v=tx();return _n(()=>{var y;if(t){if(n&&o(!0),!e){n&&u(3);return}return(y=r==null?void 0:r.start)==null||y.call(r,n),rK(e,{inFlight:m,prepare(){g.current?g.current=!1:g.current=m.current,m.current=!0,!g.current&&(n?(u(3),f(4)):(u(4),f(2)))},run(){g.current?n?(f(3),u(4)):(f(4),u(3)):n?f(1):u(1)},done(){var w;g.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(m.current=!1,f(7),n||o(!1),(w=r==null?void 0:r.end)==null||w.call(r,n))}})}},[t,n,e,v]),t?[s,{closed:c(1),enter:c(2),leave:c(4),transition:c(2)||c(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function rK(t,{prepare:e,run:n,done:r,inFlight:s}){let o=ni();return sK(t,{prepare:e,inFlight:s}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(aK(t,r))})}),o.dispose}function aK(t,e){var n,r;let s=ni();if(!t)return s.dispose;let o=!1;s.add(()=>{o=!0});let c=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(u=>u instanceof CSSTransition))!=null?r:[];return c.length===0?(e(),s.dispose):(Promise.allSettled(c.map(u=>u.finished)).then(()=>{o||e()}),s.dispose)}function sK(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function rx(t,e){let n=x.useRef([]),r=bt(t);x.useEffect(()=>{let s=[...n.current];for(let[o,c]of e.entries())if(n.current[o]!==c){let u=r(e,s);return n.current=e,u}},[r,...e])}let Fm=x.createContext(null);Fm.displayName="OpenClosedContext";var Rr=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Rr||{});function Bm(){return x.useContext(Fm)}function iK({value:t,children:e}){return D.createElement(Fm.Provider,{value:t},e)}function oK({children:t}){return D.createElement(Fm.Provider,{value:null},t)}function lK(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ds=[];lK(()=>{function t(e){if(!(e.target instanceof HTMLElement)||e.target===document.body||Ds[0]===e.target)return;let n=e.target;n=n.closest(Zh),Ds.unshift(n??e.target),Ds=Ds.filter(r=>r!=null&&r.isConnected),Ds.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function B2(t){let e=bt(t),n=x.useRef(!1);x.useEffect(()=>(n.current=!1,()=>{n.current=!0,Um(()=>{n.current&&e()})}),[e])}function cK(){let t=typeof document>"u";return"useSyncExternalStore"in Tu?(e=>e.useSyncExternalStore)(Tu)(()=>()=>{},()=>!1,()=>!t):!1}function wd(){let t=cK(),[e,n]=x.useState(Wi.isHandoffComplete);return e&&Wi.isHandoffComplete===!1&&n(!1),x.useEffect(()=>{e!==!0&&n(!0)},[e]),x.useEffect(()=>Wi.handoff(),[]),t?!1:e}let V2=x.createContext(!1);function uK(){return x.useContext(V2)}function XC(t){return D.createElement(V2.Provider,{value:t.force},t.children)}function dK(t){let e=uK(),n=x.useContext(H2),r=xd(t),[s,o]=x.useState(()=>{var c;if(!e&&n!==null)return(c=n.current)!=null?c:null;if(Wi.isServer)return null;let u=r==null?void 0:r.getElementById("headlessui-portal-root");if(u)return u;if(r===null)return null;let f=r.createElement("div");return f.setAttribute("id","headlessui-portal-root"),r.body.appendChild(f)});return x.useEffect(()=>{s!==null&&(r!=null&&r.body.contains(s)||r==null||r.body.appendChild(s))},[s,r]),x.useEffect(()=>{e||n!==null&&o(n.current)},[n,o,e]),s}let z2=x.Fragment,fK=kn(function(t,e){let n=t,r=x.useRef(null),s=oa(_Y(v=>{r.current=v}),e),o=xd(r),c=dK(r),[u]=x.useState(()=>{var v;return Wi.isServer?null:(v=o==null?void 0:o.createElement("div"))!=null?v:null}),f=x.useContext(rb),m=wd();_n(()=>{!c||!u||c.contains(u)||(u.setAttribute("data-headlessui-portal",""),c.appendChild(u))},[c,u]),_n(()=>{if(u&&f)return f.register(u)},[f,u]),B2(()=>{var v;!c||!u||(u instanceof Node&&c.contains(u)&&c.removeChild(u),c.childNodes.length<=0&&((v=c.parentElement)==null||v.removeChild(c)))});let g=vr();return m?!c||!u?null:Ju.createPortal(g({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:z2,name:"Portal"}),u):null});function hK(t,e){let n=oa(e),{enabled:r=!0,...s}=t,o=vr();return r?D.createElement(fK,{...s,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:z2,name:"Portal"})}let mK=x.Fragment,H2=x.createContext(null);function pK(t,e){let{target:n,...r}=t,s={ref:oa(e)},o=vr();return D.createElement(H2.Provider,{value:n},o({ourProps:s,theirProps:r,defaultTag:mK,name:"Popover.Group"}))}let rb=x.createContext(null);function gK(){let t=x.useContext(rb),e=x.useRef([]),n=bt(o=>(e.current.push(o),t&&t.register(o),()=>r(o))),r=bt(o=>{let c=e.current.indexOf(o);c!==-1&&e.current.splice(c,1),t&&t.unregister(o)}),s=x.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,x.useMemo(()=>function({children:o}){return D.createElement(rb.Provider,{value:s},o)},[s])]}let vK=kn(hK),$2=kn(pK),yK=Object.assign(vK,{Group:$2});function bK(t,e=typeof document<"u"?document.defaultView:null,n){let r=Ql(t,"escape");F2(e,"keydown",s=>{r&&(s.defaultPrevented||s.key===M2.Escape&&n(s))})}function xK(){var t;let[e]=x.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=x.useState((t=e==null?void 0:e.matches)!=null?t:!1);return _n(()=>{if(!e)return;function s(o){r(o.matches)}return e.addEventListener("change",s),()=>e.removeEventListener("change",s)},[e]),n}function wK({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=xd(n),s=bt(()=>{var o,c;let u=[];for(let f of t)f!==null&&(f instanceof HTMLElement?u.push(f):"current"in f&&f.current instanceof HTMLElement&&u.push(f.current));if(e!=null&&e.current)for(let f of e.current)u.push(f);for(let f of(o=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?o:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(n&&(f.contains(n)||f.contains((c=n==null?void 0:n.getRootNode())==null?void 0:c.host))||u.some(m=>f.contains(m))||u.push(f));return u});return{resolveContainers:s,contains:bt(o=>s().some(c=>c.contains(o)))}}let q2=x.createContext(null);function QC({children:t,node:e}){let[n,r]=x.useState(null),s=W2(e??n);return D.createElement(q2.Provider,{value:s},t,s===null&&D.createElement(eb,{features:Qh.Hidden,ref:o=>{var c,u;if(o){for(let f of(u=(c=Lm(o))==null?void 0:c.querySelectorAll("html > *, body > *"))!=null?u:[])if(f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f!=null&&f.contains(o)){r(f);break}}}}))}function W2(t=null){var e;return(e=x.useContext(q2))!=null?e:t}function ax(){let t=x.useRef(!1);return _n(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var gu=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(gu||{});function _K(){let t=x.useRef(0);return U2(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function G2(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let EK="div";var Bi=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Bi||{});function SK(t,e){let n=x.useRef(null),r=oa(n,e),{initialFocus:s,initialFocusFallback:o,containers:c,features:u=15,...f}=t;wd()||(u=0);let m=xd(n);RK(u,{ownerDocument:m});let g=IK(u,{ownerDocument:m,container:n,initialFocus:s,initialFocusFallback:o});AK(u,{ownerDocument:m,container:n,containers:c,previousActiveElement:g});let v=_K(),y=bt(T=>{let R=n.current;R&&(M=>M())(()=>{Qs(v.current,{[gu.Forwards]:()=>{Nu(R,Ra.First,{skipElements:[T.relatedTarget,o]})},[gu.Backwards]:()=>{Nu(R,Ra.Last,{skipElements:[T.relatedTarget,o]})}})})}),w=Ql(!!(u&2),"focus-trap#tab-lock"),E=tx(),_=x.useRef(!1),S={ref:r,onKeyDown(T){T.key=="Tab"&&(_.current=!0,E.requestAnimationFrame(()=>{_.current=!1}))},onBlur(T){if(!(u&4))return;let R=G2(c);n.current instanceof HTMLElement&&R.add(n.current);let M=T.relatedTarget;M instanceof HTMLElement&&M.dataset.headlessuiFocusGuard!=="true"&&(Y2(R,M)||(_.current?Nu(n.current,Qs(v.current,{[gu.Forwards]:()=>Ra.Next,[gu.Backwards]:()=>Ra.Previous})|Ra.WrapAround,{relativeTo:T.target}):T.target instanceof HTMLElement&&Ua(T.target)))}},C=vr();return D.createElement(D.Fragment,null,w&&D.createElement(eb,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:Qh.Focusable}),C({ourProps:S,theirProps:f,defaultTag:EK,name:"FocusTrap"}),w&&D.createElement(eb,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:Qh.Focusable}))}let CK=kn(SK),NK=Object.assign(CK,{features:Bi});function TK(t=!0){let e=x.useRef(Ds.slice());return rx(([n],[r])=>{r===!0&&n===!1&&Um(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=Ds.slice())},[t,Ds,e]),bt(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function RK(t,{ownerDocument:e}){let n=!!(t&8),r=TK(n);rx(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Ua(r())},[n]),B2(()=>{n&&Ua(r())})}function IK(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:s}){let o=x.useRef(null),c=Ql(!!(t&1),"focus-trap#initial-focus"),u=ax();return rx(()=>{if(t===0)return;if(!c){s!=null&&s.current&&Ua(s.current);return}let f=n.current;f&&Um(()=>{if(!u.current)return;let m=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===m){o.current=m;return}}else if(f.contains(m)){o.current=m;return}if(r!=null&&r.current)Ua(r.current);else{if(t&16){if(Nu(f,Ra.First|Ra.AutoFocus)!==nb.Error)return}else if(Nu(f,Ra.First)!==nb.Error)return;if(s!=null&&s.current&&(Ua(s.current),(e==null?void 0:e.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=e==null?void 0:e.activeElement})},[s,c,t]),o}function AK(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:s}){let o=ax(),c=!!(t&4);F2(e==null?void 0:e.defaultView,"focus",u=>{if(!c||!o.current)return;let f=G2(r);n.current instanceof HTMLElement&&f.add(n.current);let m=s.current;if(!m)return;let g=u.target;g&&g instanceof HTMLElement?Y2(f,g)?(s.current=g,Ua(g)):(u.preventDefault(),u.stopPropagation(),Ua(m)):Ua(s.current)},!0)}function Y2(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function K2(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:Q2)!==x.Fragment||D.Children.count(t.children)===1}let Vm=x.createContext(null);Vm.displayName="TransitionContext";var DK=(t=>(t.Visible="visible",t.Hidden="hidden",t))(DK||{});function OK(){let t=x.useContext(Vm);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function MK(){let t=x.useContext(zm);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let zm=x.createContext(null);zm.displayName="NestingContext";function Hm(t){return"children"in t?Hm(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function X2(t,e){let n=lo(t),r=x.useRef([]),s=ax(),o=tx(),c=bt((w,E=Ms.Hidden)=>{let _=r.current.findIndex(({el:S})=>S===w);_!==-1&&(Qs(E,{[Ms.Unmount](){r.current.splice(_,1)},[Ms.Hidden](){r.current[_].state="hidden"}}),o.microTask(()=>{var S;!Hm(r)&&s.current&&((S=n.current)==null||S.call(n))}))}),u=bt(w=>{let E=r.current.find(({el:_})=>_===w);return E?E.state!=="visible"&&(E.state="visible"):r.current.push({el:w,state:"visible"}),()=>c(w,Ms.Unmount)}),f=x.useRef([]),m=x.useRef(Promise.resolve()),g=x.useRef({enter:[],leave:[]}),v=bt((w,E,_)=>{f.current.splice(0),e&&(e.chains.current[E]=e.chains.current[E].filter(([S])=>S!==w)),e==null||e.chains.current[E].push([w,new Promise(S=>{f.current.push(S)})]),e==null||e.chains.current[E].push([w,new Promise(S=>{Promise.all(g.current[E].map(([C,T])=>T)).then(()=>S())})]),E==="enter"?m.current=m.current.then(()=>e==null?void 0:e.wait.current).then(()=>_(E)):_(E)}),y=bt((w,E,_)=>{Promise.all(g.current[E].splice(0).map(([S,C])=>C)).then(()=>{var S;(S=f.current.shift())==null||S()}).then(()=>_(E))});return x.useMemo(()=>({children:r,register:u,unregister:c,onStart:v,onStop:y,wait:m,chains:g}),[u,c,r,v,y,g,m])}let Q2=x.Fragment,Z2=Xh.RenderStrategy;function jK(t,e){var n,r;let{transition:s=!0,beforeEnter:o,afterEnter:c,beforeLeave:u,afterLeave:f,enter:m,enterFrom:g,enterTo:v,entered:y,leave:w,leaveFrom:E,leaveTo:_,...S}=t,[C,T]=x.useState(null),R=x.useRef(null),M=K2(t),A=oa(...M?[R,e,T]:e===null?[]:[e]),I=(n=S.unmount)==null||n?Ms.Unmount:Ms.Hidden,{show:k,appear:U,initial:F}=OK(),[Y,se]=x.useState(k?"visible":"hidden"),de=MK(),{register:W,unregister:Q}=de;_n(()=>W(R),[W,R]),_n(()=>{if(I===Ms.Hidden&&R.current){if(k&&Y!=="visible"){se("visible");return}return Qs(Y,{hidden:()=>Q(R),visible:()=>W(R)})}},[Y,R,W,Q,k,I]);let Z=wd();_n(()=>{if(M&&Z&&Y==="visible"&&R.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[R,Y,Z,M]);let j=F&&!U,K=U&&k&&F,B=x.useRef(!1),H=X2(()=>{B.current||(se("hidden"),Q(R))},de),P=bt(ce=>{B.current=!0;let fe=ce?"enter":"leave";H.onStart(R,fe,me=>{me==="enter"?o==null||o():me==="leave"&&(u==null||u())})}),$=bt(ce=>{let fe=ce?"enter":"leave";B.current=!1,H.onStop(R,fe,me=>{me==="enter"?c==null||c():me==="leave"&&(f==null||f())}),fe==="leave"&&!Hm(H)&&(se("hidden"),Q(R))});x.useEffect(()=>{M&&s||(P(k),$(k))},[k,M,s]);let re=!(!s||!M||!Z||j),[,ae]=nK(re,C,k,{start:P,end:$}),oe=ki({ref:A,className:((r=Jy(S.className,K&&m,K&&g,ae.enter&&m,ae.enter&&ae.closed&&g,ae.enter&&!ae.closed&&v,ae.leave&&w,ae.leave&&!ae.closed&&E,ae.leave&&ae.closed&&_,!ae.transition&&k&&y))==null?void 0:r.trim())||void 0,...tK(ae)}),J=0;Y==="visible"&&(J|=Rr.Open),Y==="hidden"&&(J|=Rr.Closed),ae.enter&&(J|=Rr.Opening),ae.leave&&(J|=Rr.Closing);let ee=vr();return D.createElement(zm.Provider,{value:H},D.createElement(iK,{value:J},ee({ourProps:oe,theirProps:S,defaultTag:Q2,features:Z2,visible:Y==="visible",name:"Transition.Child"})))}function PK(t,e){let{show:n,appear:r=!1,unmount:s=!0,...o}=t,c=x.useRef(null),u=K2(t),f=oa(...u?[c,e]:e===null?[]:[e]);wd();let m=Bm();if(n===void 0&&m!==null&&(n=(m&Rr.Open)===Rr.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[g,v]=x.useState(n?"visible":"hidden"),y=X2(()=>{n||v("hidden")}),[w,E]=x.useState(!0),_=x.useRef([n]);_n(()=>{w!==!1&&_.current[_.current.length-1]!==n&&(_.current.push(n),E(!1))},[_,n]);let S=x.useMemo(()=>({show:n,appear:r,initial:w}),[n,r,w]);_n(()=>{n?v("visible"):!Hm(y)&&c.current!==null&&v("hidden")},[n,y]);let C={unmount:s},T=bt(()=>{var A;w&&E(!1),(A=t.beforeEnter)==null||A.call(t)}),R=bt(()=>{var A;w&&E(!1),(A=t.beforeLeave)==null||A.call(t)}),M=vr();return D.createElement(zm.Provider,{value:y},D.createElement(Vm.Provider,{value:S},M({ourProps:{...C,as:x.Fragment,children:D.createElement(J2,{ref:f,...C,...o,beforeEnter:T,beforeLeave:R})},theirProps:{},defaultTag:x.Fragment,features:Z2,visible:g==="visible",name:"Transition"})))}function kK(t,e){let n=x.useContext(Vm)!==null,r=Bm()!==null;return D.createElement(D.Fragment,null,!n&&r?D.createElement(ab,{ref:e,...t}):D.createElement(J2,{ref:e,...t}))}let ab=kn(PK),J2=kn(jK),sx=kn(kK),LK=Object.assign(ab,{Child:sx,Root:ab});var UK=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(UK||{}),FK=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(FK||{});let BK={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},ix=x.createContext(null);ix.displayName="DialogContext";function $m(t){let e=x.useContext(ix);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,$m),n}return e}function VK(t,e){return Qs(e.type,BK,t,e)}let ZC=kn(function(t,e){let n=x.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:o,initialFocus:c,role:u="dialog",autoFocus:f=!0,__demoMode:m=!1,unmount:g=!1,...v}=t,y=x.useRef(!1);u=function(){return u==="dialog"||u==="alertdialog"?u:(y.current||(y.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let w=Bm();s===void 0&&w!==null&&(s=(w&Rr.Open)===Rr.Open);let E=x.useRef(null),_=oa(E,e),S=xd(E),C=s?0:1,[T,R]=x.useReducer(VK,{titleId:null,descriptionId:null,panelRef:x.createRef()}),M=bt(()=>o(!1)),A=bt($=>R({type:0,id:$})),I=wd()?C===0:!1,[k,U]=gK(),F={get current(){var $;return($=T.panelRef.current)!=null?$:E.current}},Y=W2(),{resolveContainers:se}=wK({mainTreeNode:Y,portals:k,defaultContainers:[F]}),de=w!==null?(w&Rr.Closing)===Rr.Closing:!1;OY(m||de?!1:I,{allowed:bt(()=>{var $,re;return[(re=($=E.current)==null?void 0:$.closest("[data-headlessui-portal]"))!=null?re:null]}),disallowed:bt(()=>{var $;return[($=Y==null?void 0:Y.closest("body > *:not(#headlessui-portal-root)"))!=null?$:null]})}),qY(I,se,$=>{$.preventDefault(),M()}),bK(I,S==null?void 0:S.defaultView,$=>{$.preventDefault(),$.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),M()}),QY(m||de?!1:I,S,se),MY(I,E,M);let[W,Q]=EY(),Z=x.useMemo(()=>[{dialogState:C,close:M,setTitleId:A,unmount:g},T],[C,T,M,A,g]),j=x.useMemo(()=>({open:C===0}),[C]),K={ref:_,id:r,role:u,tabIndex:-1,"aria-modal":m?void 0:C===0?!0:void 0,"aria-labelledby":T.titleId,"aria-describedby":W,unmount:g},B=!xK(),H=Bi.None;I&&!m&&(H|=Bi.RestoreFocus,H|=Bi.TabLock,f&&(H|=Bi.AutoFocus),B&&(H|=Bi.InitialFocus));let P=vr();return D.createElement(oK,null,D.createElement(XC,{force:!0},D.createElement(yK,null,D.createElement(ix.Provider,{value:Z},D.createElement($2,{target:E},D.createElement(XC,{force:!1},D.createElement(Q,{slot:j},D.createElement(U,null,D.createElement(NK,{initialFocus:c,initialFocusFallback:E,containers:se,features:H},D.createElement(IY,{value:M},P({ourProps:K,theirProps:v,slot:j,defaultTag:zK,features:HK,visible:C===0,name:"Dialog"})))))))))))}),zK="div",HK=Xh.RenderStrategy|Xh.Static;function $K(t,e){let{transition:n=!1,open:r,...s}=t,o=Bm(),c=t.hasOwnProperty("open")||o!==null,u=t.hasOwnProperty("onClose");if(!c&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!c)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!s.static?D.createElement(QC,null,D.createElement(LK,{show:r,transition:n,unmount:s.unmount},D.createElement(ZC,{ref:e,...s}))):D.createElement(QC,null,D.createElement(ZC,{ref:e,open:r,...s}))}let qK="div";function WK(t,e){let n=x.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...o}=t,[{dialogState:c,unmount:u},f]=$m("Dialog.Panel"),m=oa(e,f.panelRef),g=x.useMemo(()=>({open:c===0}),[c]),v=bt(S=>{S.stopPropagation()}),y={ref:m,id:r,onClick:v},w=s?sx:x.Fragment,E=s?{unmount:u}:{},_=vr();return D.createElement(w,{...E},_({ourProps:y,theirProps:o,slot:g,defaultTag:qK,name:"Dialog.Panel"}))}let GK="div";function YK(t,e){let{transition:n=!1,...r}=t,[{dialogState:s,unmount:o}]=$m("Dialog.Backdrop"),c=x.useMemo(()=>({open:s===0}),[s]),u={ref:e,"aria-hidden":!0},f=n?sx:x.Fragment,m=n?{unmount:o}:{},g=vr();return D.createElement(f,{...m},g({ourProps:u,theirProps:r,slot:c,defaultTag:GK,name:"Dialog.Backdrop"}))}let KK="h2";function XK(t,e){let n=x.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=t,[{dialogState:o,setTitleId:c}]=$m("Dialog.Title"),u=oa(e);x.useEffect(()=>(c(r),()=>c(null)),[r,c]);let f=x.useMemo(()=>({open:o===0}),[o]),m={ref:u,id:r};return vr()({ourProps:m,theirProps:s,slot:f,defaultTag:KK,name:"Dialog.Title"})}let QK=kn($K),ZK=kn(WK);kn(YK);let JK=kn(XK),hl=Object.assign(QK,{Panel:ZK,Title:JK,Description:TY});function eX({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const eD=x.forwardRef(eX),tX={EXENTO:0,MINIMO:10,BASICO:22},nX=[{value:"EXENTO",label:"IVA Exento"},{value:"MINIMO",label:"IVA Mínimo (10%)"},{value:"BASICO",label:"IVA Básico (22%)"}],Gv="price-calculator-data";function rX({isOpen:t,onClose:e}){const[n,r]=x.useState({totalAmount:"",units:"1",profitPercentage:"25",ivaType:"EXENTO"});x.useEffect(()=>{const u=localStorage.getItem(Gv);u&&r(JSON.parse(u))},[]);const s=sX(n),o=u=>f=>{const m=typeof f=="string"?f:f.target.value;if(u==="profitPercentage"&&parseFloat(m)>=100){ke.error("El porcentaje de ganancia debe ser menor a 100%");return}const g={...n,[u]:u==="ivaType"?f:m,lastUsed:new Date().toLocaleString()};r(g),localStorage.setItem(Gv,JSON.stringify(g))},c=()=>{const u={totalAmount:"",units:"1",profitPercentage:"25",ivaType:"EXENTO",lastUsed:new Date().toLocaleString()};r(u),localStorage.setItem(Gv,JSON.stringify(u))};return h.jsxs(hl,{open:t,onClose:e,className:"relative z-50",children:[h.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),h.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:h.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:h.jsxs(hl.Panel,{className:"mx-auto max-w-3xl rounded-xl bg-white dark:bg-gray-800 shadow-2xl w-full",children:[h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 rounded-t-xl",children:[h.jsx(hl.Title,{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Calculadora de Precios"}),h.jsx("button",{type:"button",onClick:e,className:"rounded-lg p-1.5 text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600",children:h.jsx(eD,{className:"h-5 w-5"})})]}),h.jsx("div",{className:"max-h-[calc(100vh-12rem)] overflow-y-auto",children:h.jsxs("div",{className:"flex flex-col space-y-4 p-4",children:[h.jsxs("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 dark:from-gray-700 dark:to-gray-800 p-4 rounded-lg border border-primary-200 dark:border-gray-600 shadow-sm",children:[h.jsxs("h3",{className:"text-base font-semibold text-primary-900 dark:text-white mb-4 flex items-center",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 0v12h8V4H6z",clipRule:"evenodd"})}),"Datos de Entrada"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx(fn,{label:"$ Importe Total",type:"number",value:n.totalAmount,onChange:o("totalAmount"),placeholder:"0.00",min:"0",step:"0.01",className:"font-bold"}),h.jsx(fn,{label:"Cantidad",type:"number",value:n.units,onChange:o("units"),placeholder:"1",min:"1",className:"font-bold"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(Cl,{label:"IVA",value:n.ivaType,onChange:o("ivaType"),options:nX,className:"font-bold"}),h.jsx(fn,{label:"% Ganancia",type:"number",value:n.profitPercentage,onChange:o("profitPercentage"),placeholder:"25",min:"0",max:"100",className:"font-bold"})]})]})]}),h.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-600 shadow-sm",children:[h.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2 flex items-center",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-primary-500",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z",clipRule:"evenodd"})}),"Resultados del Cálculo"]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[h.jsx(eh,{label:"Costo Unitario",value:s.unitCost}),h.jsx(eh,{label:"Ganancia por Unidad",value:s.profitPerUnit}),h.jsx(eh,{label:"IVA",value:n.ivaType==="EXENTO"?"0.00":s.ivaAmount})]}),h.jsx("div",{className:"w-full",children:n.ivaType==="EXENTO"?h.jsx(eh,{label:"Precio Final",value:s.priceWithoutIVA,className:"bg-primary-50 dark:bg-primary-900/30 border-2 border-primary-200 dark:border-primary-700"}):h.jsx(aX,{withoutIVA:s.priceWithoutIVA,withIVA:s.finalPrice})})]})]})]})}),h.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 rounded-b-xl",children:h.jsxs("div",{className:"flex items-center justify-between",children:[n.lastUsed&&h.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Último uso: ",n.lastUsed]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(be,{variant:"secondary",onClick:c,size:"sm",children:"Limpiar"}),h.jsx(be,{onClick:e,size:"sm",children:"Cerrar"})]})]})})]})})})]})}function eh({label:t,value:e,className:n=""}){return h.jsx("div",{className:`bg-white dark:bg-gray-700 rounded-lg p-2 shadow-sm ${n}`,children:h.jsxs("div",{className:"flex flex-col space-y-0.5",children:[h.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:t}),h.jsxs("span",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:["$",e]})]})})}function aX({withoutIVA:t,withIVA:e}){return h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-2 shadow-sm",children:h.jsxs("div",{className:"flex flex-col space-y-0.5",children:[h.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Precio sin IVA"}),h.jsxs("span",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:["$",t]})]})}),h.jsx("div",{className:"bg-primary-50 dark:bg-primary-900/30 rounded-lg p-2 shadow-sm border-2 border-primary-200 dark:border-primary-700",children:h.jsxs("div",{className:"flex flex-col space-y-0.5",children:[h.jsx("span",{className:"text-xs font-medium text-primary-700 dark:text-primary-300",children:"Precio con IVA"}),h.jsxs("span",{className:"text-xl font-bold text-primary-700 dark:text-primary-300",children:["$",e]})]})})]})}function sX(t){const e=parseFloat(t.totalAmount)||0,n=parseInt(t.units)||1,r=parseFloat(t.profitPercentage)||0,s=tX[t.ivaType]||0,o=e/n,c=o/(1-r/100),u=c-o,f=c*s/100,m=c+f;return{unitCost:o.toFixed(2),profitPerUnit:u.toFixed(2),priceWithoutIVA:c.toFixed(2),ivaAmount:f.toFixed(2),finalPrice:m.toFixed(2)}}const iX=[{id:"caja-carton",name:"Caja de Cartón",weight:250},{id:"bolsa-plastica",name:"Bolsa Plástica",weight:50},{id:"caja-madera",name:"Caja de Madera",weight:500},{id:"malla",name:"Malla",weight:30}],ph=[{id:"manzana",name:"Manzana",type:"FRUTA",wastagePercentage:5,profitPercentage:25},{id:"banana",name:"Banana",type:"FRUTA",wastagePercentage:8,profitPercentage:25},{id:"tomate",name:"Tomate",type:"VERDURA",wastagePercentage:10,profitPercentage:25},{id:"lechuga",name:"Lechuga",type:"VERDURA",wastagePercentage:15,profitPercentage:25}],Yv="produce-calculator-data",lu="produce-order-items",oX=ph.map(t=>({value:t.id,label:t.name,group:t.type==="FRUTA"?"Frutas":"Verduras"})),lX=iX.map(t=>({value:t.id,label:t.name}));function cX({isOpen:t,onClose:e}){const[n,r]=x.useState({productId:"",totalWeight:"",totalCost:"",packageId:"bolsa-plastica",profitPercentage:"25"}),[s,o]=x.useState([]),[c,u]=x.useState(null);x.useEffect(()=>{const A=localStorage.getItem(Yv),I=localStorage.getItem(lu);A&&r(JSON.parse(A)),I&&o(JSON.parse(I))},[]);const f=JC(n),m=ph.find(A=>A.id===n.productId),g=s.reduce((A,I)=>A+parseFloat(I.results.sellingPrice),0),v=s.reduce((A,I)=>A+parseFloat(I.results.profitAmount),0),y=A=>I=>{const k=typeof I=="string"?I:I.target.value,U={...n,[A]:k,lastUsed:new Date().toLocaleString()};r(U),localStorage.setItem(Yv,JSON.stringify(U))},w=A=>{const I=s.find(k=>k.id===A);I&&(r({productId:I.productId,totalWeight:I.totalWeight,totalCost:I.totalCost,packageId:I.packageId,profitPercentage:I.profitPercentage}),u(A))},E=()=>{T(),u(null)},_=()=>{if(!c||!m||!n.totalWeight||!n.totalCost||!n.profitPercentage)return;const A=s.map(I=>I.id===c?{...I,...n,results:JC(n)}:I);o(A),localStorage.setItem(lu,JSON.stringify(A)),E()},S=()=>{if(!m||!n.totalWeight||!n.totalCost||!n.profitPercentage)return;const A={id:crypto.randomUUID(),...n,results:f},I=[...s,A];o(I),localStorage.setItem(lu,JSON.stringify(I)),T()},C=A=>{const I=s.filter(k=>k.id!==A);o(I),localStorage.setItem(lu,JSON.stringify(I))},T=()=>{const A={productId:"",totalWeight:"",totalCost:"",packageId:"bolsa-plastica",profitPercentage:"25",lastUsed:new Date().toLocaleString()};r(A),localStorage.setItem(Yv,JSON.stringify(A))},R=()=>{o([]),localStorage.removeItem(lu)},M=()=>{const A=window.open("","_blank");if(!A){ke.error("No se pudo abrir la ventana de impresión");return}const I=s.map(k=>{const U=ph.find(F=>F.id===k.productId);return`
        <div style="page-break-after: always; margin-bottom: 15px;">
          <div style="font-size: 24px; font-weight: bold; margin-bottom: 5px;">
            ${(U==null?void 0:U.name)||"Producto"}
          </div>
          <div style="font-size: 18px; margin-bottom: 5px;">
            SKU: ${(U==null?void 0:U.id)||"N/A"}
          </div>
          <div style="font-size: 28px; font-weight: bold;">
            $${k.results.sellingPrice}
          </div>
        </div>
      `}).join("");A.document.write(`
      <html>
        <head>
          <style>
            @page {
              size: 80mm auto;
              margin: 5mm;
            }
            body {
              font-family: Arial, sans-serif;
              width: 70mm;
              margin: 0 auto;
              padding: 2mm;
            }
            div {
              text-align: center;
            }
          </style>
        </head>
        <body>
          ${I}
        </body>
      </html>
    `),A.document.close(),A.print()};return h.jsxs(hl,{open:t,onClose:e,className:"relative z-50",children:[h.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),h.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:h.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:h.jsxs(hl.Panel,{className:"mx-auto max-w-5xl rounded-xl bg-white dark:bg-gray-800 shadow-2xl w-full",children:[h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 rounded-t-xl",children:[h.jsx(hl.Title,{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Calculadora de Productos"}),h.jsx("button",{type:"button",onClick:e,className:"rounded-lg p-1.5 text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600",children:h.jsx(eD,{className:"h-5 w-5"})})]}),h.jsx("div",{className:"max-h-[calc(100vh-12rem)] overflow-y-auto",children:h.jsx("div",{className:"p-3",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[h.jsx("div",{className:"space-y-3",children:h.jsxs("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 dark:from-gray-700 dark:to-gray-800 p-3 rounded-lg border border-primary-200 dark:border-gray-600 shadow-sm",children:[h.jsx("h3",{className:"text-sm font-semibold text-primary-900 dark:text-white mb-3",children:c?"Editar Producto":"Agregar Producto"}),h.jsxs("div",{className:"grid gap-3",children:[h.jsx(Cl,{label:"Producto",value:n.productId,onChange:y("productId"),options:oX,placeholder:"Seleccionar producto",searchPlaceholder:"Buscar producto...",notFoundText:"No se encontraron productos",className:"font-bold text-lg"}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(fn,{label:"Peso Total (Kg)",type:"number",value:n.totalWeight,onChange:y("totalWeight"),placeholder:"0",min:"0",step:"0.01",className:"font-bold text-lg"}),h.jsx(fn,{label:"Costo Total ($)",type:"number",value:n.totalCost,onChange:y("totalCost"),placeholder:"0.00",min:"0",step:"0.01",className:"font-bold text-lg"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(Cl,{label:"Tipo de Empaque",value:n.packageId,onChange:y("packageId"),options:lX,placeholder:"Seleccionar empaque",className:"font-bold text-lg"}),h.jsx(fn,{label:"Ganancia (%)",type:"number",value:n.profitPercentage,onChange:y("profitPercentage"),placeholder:"25",min:"0",max:"100",className:"font-bold text-lg"})]}),h.jsx("div",{className:"flex justify-end space-x-2 pt-2",children:c?h.jsxs(h.Fragment,{children:[h.jsx(be,{variant:"secondary",onClick:E,size:"sm",children:"Cancelar"}),h.jsx(be,{onClick:_,size:"sm",disabled:!m||!n.totalWeight||!n.totalCost||!n.profitPercentage,children:"Guardar"})]}):h.jsxs(h.Fragment,{children:[h.jsx(be,{variant:"secondary",onClick:T,size:"sm",children:"Limpiar"}),h.jsxs(be,{onClick:S,size:"sm",disabled:!m||!n.totalWeight||!n.totalCost||!n.profitPercentage,children:[h.jsx(Pa,{className:"h-4 w-4 mr-1"}),"Agregar"]})]})})]})]})}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm flex flex-col",children:[h.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Productos"})}),h.jsx("div",{className:"p-3 space-y-2",children:s.length===0?h.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400 py-4",children:"No hay productos"}):s.map(A=>{const I=ph.find(k=>k.id===A.productId);return h.jsxs("div",{className:"flex flex-col p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:I==null?void 0:I.name}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>w(A.id),className:"text-blue-500 hover:text-blue-700 dark:text-blue-400",disabled:c!==null,children:h.jsx(ed,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>C(A.id),className:"text-red-500 hover:text-red-700 dark:text-red-400",disabled:c===A.id,children:h.jsx(td,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-500 dark:text-gray-400",children:[h.jsxs("span",{children:["Peso Unitario: ",A.results.unitWeight," Kg"]}),h.jsxs("span",{children:["Precio Unitario: $",A.results.unitPrice]}),h.jsxs("span",{children:["Ganancia: $",A.results.profitAmount]}),h.jsxs("span",{children:["Precio Venta: $",A.results.sellingPrice]})]})]},A.id)})}),h.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:h.jsxs("div",{className:"space-y-2 mb-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Ganancia Total:"}),h.jsxs("span",{className:"text-base font-semibold text-green-600 dark:text-green-400",children:["$",v.toFixed(2)]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Importe Total:"}),h.jsxs("span",{className:"text-lg font-bold text-primary-600 dark:text-primary-400",children:["$",g.toFixed(2)]})]})]})})]})]})})}),h.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 rounded-b-xl",children:h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx(be,{variant:"secondary",onClick:R,size:"sm",disabled:s.length===0,children:"Limpiar"}),h.jsxs(be,{variant:"secondary",onClick:M,size:"sm",disabled:s.length===0,children:[h.jsx(DN,{className:"h-4 w-4 mr-1"}),"Imprimir Etiquetas"]}),h.jsx(be,{onClick:e,size:"sm",children:"Cerrar"})]})})]})})})]})}function JC(t){const e=parseFloat(t.totalWeight)||0,n=parseFloat(t.totalCost)||0,r=parseFloat(t.profitPercentage)||0,s=n/e,o=n*r/100,c=n+o;return{unitWeight:e.toFixed(2),unitPrice:s.toFixed(2),profitAmount:o.toFixed(2),sellingPrice:c.toFixed(2)}}const uX=()=>{const[t,e]=x.useState(null),[n,r]=x.useState(!0),[s,o]=x.useState(null),[c,u]=x.useState(!1),[f,m]=x.useState(!1);x.useEffect(()=>{(async()=>{try{r(!0),o(null);const E=await new uY().getDashboardData();console.log("Debug - Dashboard Data:",E),e(E)}catch(w){console.error("Error loading dashboard data:",w),o("Error al cargar los datos del dashboard")}finally{r(!1)}})()},[]);const g=[{name:"Calculadora de Precios",icon:TN,color:"bg-blue-500/10 text-blue-500",onClick:()=>u(!0)},{name:"Frutas y Verduras",icon:ik,color:"bg-green-500/10 text-green-500",onClick:()=>m(!0)},{name:"Actualización de Precios",icon:Wk,color:"bg-purple-500/10 text-purple-500"}],v=[{title:"Inventarios",icon:ty,color:"bg-blue-500/10 text-blue-500",total:((t==null?void 0:t.stats.totalProducts)||0)+((t==null?void 0:t.stats.totalRecipes)||0),items:[{name:"Productos",value:(t==null?void 0:t.stats.totalProducts)||0,icon:ty,color:"text-blue-500"},{name:"Recetas",value:(t==null?void 0:t.stats.totalRecipes)||0,icon:cu,color:"text-blue-500"}]},{title:"Órdenes",icon:uv,color:"bg-green-500/10 text-green-500",total:((t==null?void 0:t.stats.totalOrders)||0)+((t==null?void 0:t.stats.totalPurchases)||0)+((t==null?void 0:t.stats.totalProduction)||0),items:[{name:"Pedidos",value:(t==null?void 0:t.stats.totalOrders)||0,icon:uv,color:"text-green-500"},{name:"Compras",value:(t==null?void 0:t.stats.totalPurchases)||0,icon:ny,color:"text-green-500"},{name:"Producción",value:(t==null?void 0:t.stats.totalProduction)||0,icon:cu,color:"text-green-500"}]},{title:"Contactos",icon:ay,color:"bg-purple-500/10 text-purple-500",total:((t==null?void 0:t.stats.totalCustomers)||0)+((t==null?void 0:t.stats.totalSuppliers)||0)+((t==null?void 0:t.stats.totalWorkers)||0),items:[{name:"Clientes",value:(t==null?void 0:t.stats.totalCustomers)||0,icon:ay,color:"text-purple-500"},{name:"Proveedores",value:(t==null?void 0:t.stats.totalSuppliers)||0,icon:cL,color:"text-purple-500"},{name:"Colaboradores",value:(t==null?void 0:t.stats.totalWorkers)||0,icon:Ak,color:"text-purple-500"}]}];return n?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):s?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4",children:[h.jsx("p",{className:"text-destructive text-lg",children:s}),h.jsx(be,{onClick:()=>window.location.reload(),variant:"secondary",children:"Reintentar"})]}):h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:g.map(y=>h.jsx(ht,{className:"backdrop-blur-sm bg-card/80 hover:bg-card/90 transition-colors cursor-pointer",onClick:y.onClick,children:h.jsx(Rt,{className:"p-6",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:`p-3 rounded-lg ${y.color}`,children:h.jsx(y.icon,{className:"h-6 w-6"})}),h.jsx("h3",{className:"text-lg font-semibold",children:y.name})]})})},y.name))}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:v.map(y=>h.jsxs(ht,{className:"backdrop-blur-sm bg-card/80",children:[h.jsx(yn,{className:"pb-0 pt-4 px-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:`p-1.5 rounded-lg ${y.color}`,children:h.jsx(y.icon,{className:"h-4 w-4"})}),h.jsx(bn,{className:"text-lg font-semibold",children:y.title})]}),h.jsx("p",{className:"text-xl font-bold",children:y.total})]})}),h.jsx(Rt,{className:"pt-2 pb-3 px-4",children:h.jsx("div",{className:"space-y-1",children:y.items.map(w=>h.jsxs("div",{className:"flex items-center justify-between py-1",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(w.icon,{className:`h-3.5 w-3.5 ${w.color}`}),h.jsx("span",{className:"text-sm",children:w.name})]}),h.jsx("span",{className:"text-sm font-medium",children:w.value})]},w.name))})})]},y.title))}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs(ht,{className:"backdrop-blur-sm bg-card/80",children:[h.jsx(yn,{children:h.jsx(bn,{className:"text-xl font-semibold",children:"Más Comprados"})}),h.jsx(Rt,{className:"space-y-4",children:t==null?void 0:t.topPurchased.map((y,w)=>h.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:`p-2 rounded-lg ${y.status===we.PENDIENTE?"bg-yellow-500/10":y.status===we.ENVIADA?"bg-blue-500/10":y.status===we.COMPLETADA?"bg-green-500/10":"bg-red-500/10"}`,children:h.jsx(ny,{className:`h-5 w-5 ${y.status===we.PENDIENTE?"text-yellow-500":y.status===we.ENVIADA?"text-blue-500":y.status===we.COMPLETADA?"text-green-500":"text-red-500"}`})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:y.name}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Estado: ",y.status===we.PENDIENTE?"Pendiente":y.status===we.ENVIADA?"Enviada":y.status===we.COMPLETADA?"Completada":"Cancelada"]}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Cantidad: ",y.quantity]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-sm font-medium",children:y.amount}),h.jsx("p",{className:"text-xs text-green-500",children:y.trend})]})]},w))})]}),h.jsxs(ht,{className:"backdrop-blur-sm bg-card/80",children:[h.jsx(yn,{children:h.jsx(bn,{className:"text-xl font-semibold",children:"Más Producidos"})}),h.jsx(Rt,{className:"space-y-4",children:t!=null&&t.topProduced&&t.topProduced.length>0?t.topProduced.map((y,w)=>h.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:h.jsx(cu,{className:"h-5 w-5 text-green-500"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:y.name}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Cantidad: ",y.quantity]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-sm font-medium",children:y.amount}),h.jsx("p",{className:"text-xs text-green-500",children:y.trend})]})]},w)):h.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[h.jsx(cu,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay datos de producción disponibles"})]})})]}),h.jsxs(ht,{className:"backdrop-blur-sm bg-card/80",children:[h.jsx(yn,{children:h.jsx(bn,{className:"text-xl font-semibold",children:"Más Pedidos"})}),h.jsx(Rt,{className:"space-y-4",children:t==null?void 0:t.topOrdered.map((y,w)=>h.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:`p-2 rounded-lg ${y.status===we.PENDIENTE?"bg-yellow-500/10":y.status===we.ENVIADA?"bg-blue-500/10":y.status===we.COMPLETADA?"bg-green-500/10":"bg-red-500/10"}`,children:h.jsx(uv,{className:`h-5 w-5 ${y.status===we.PENDIENTE?"text-yellow-500":y.status===we.ENVIADA?"text-blue-500":y.status===we.COMPLETADA?"text-green-500":"text-red-500"}`})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:y.name}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Estado: ",y.status===we.PENDIENTE?"Pendiente":y.status===we.ENVIADA?"Enviada":y.status===we.COMPLETADA?"Completada":"Cancelada"]}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Cantidad: ",y.quantity]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-sm font-medium",children:y.amount}),h.jsx("p",{className:"text-xs text-green-500",children:y.trend})]})]},w))})]})]}),h.jsx(rX,{isOpen:c,onClose:()=>u(!1)}),h.jsx(cX,{isOpen:f,onClose:()=>m(!1)})]})},dX=h.jsxs(h.Fragment,{children:[h.jsx(he,{path:"dashboard",element:h.jsx(uX,{})}),h.jsx(he,{path:"customers",element:h.jsx(b$,{})}),h.jsx(he,{path:"customers/new",element:h.jsx(OC,{})}),h.jsx(he,{path:"customers/:id",element:h.jsx(jG,{})}),h.jsx(he,{path:"customers/:id/edit",element:h.jsx(OC,{})}),h.jsx(he,{path:"suppliers",element:h.jsx(PG,{})}),h.jsx(he,{path:"suppliers/new",element:h.jsx(MC,{})}),h.jsx(he,{path:"suppliers/:id",element:h.jsx(kG,{})}),h.jsx(he,{path:"suppliers/:id/edit",element:h.jsx(MC,{})}),h.jsx(he,{path:"workers",element:h.jsx(UG,{})}),h.jsx(he,{path:"workers/new",element:h.jsx(jC,{})}),h.jsx(he,{path:"workers/:id",element:h.jsx(FG,{})}),h.jsx(he,{path:"workers/:id/edit",element:h.jsx(jC,{})}),h.jsx(he,{path:"roles",element:h.jsx(BG,{})}),h.jsx(he,{path:"roles/new",element:h.jsx(PC,{})}),h.jsx(he,{path:"roles/:id",element:h.jsx(VG,{})}),h.jsx(he,{path:"roles/:id/edit",element:h.jsx(PC,{})}),h.jsx(he,{path:"units",element:h.jsx(HG,{})}),h.jsx(he,{path:"units/new",element:h.jsx(kC,{})}),h.jsx(he,{path:"units/:id",element:h.jsx($G,{})}),h.jsx(he,{path:"units/:id/edit",element:h.jsx(kC,{})}),h.jsx(he,{path:"parameters",element:h.jsx(WG,{})}),h.jsx(he,{path:"parameters/new",element:h.jsx(LC,{})}),h.jsx(he,{path:"parameters/:id",element:h.jsx(GG,{})}),h.jsx(he,{path:"parameters/:id/edit",element:h.jsx(LC,{})}),h.jsx(he,{path:"purchase-orders",element:h.jsx(YG,{})}),h.jsx(he,{path:"purchase-orders/new",element:h.jsx(UC,{})}),h.jsx(he,{path:"purchase-orders/:id",element:h.jsx(KG,{})}),h.jsx(he,{path:"purchase-orders/:id/edit",element:h.jsx(UC,{})}),h.jsx(he,{path:"customer-orders",element:h.jsx(XG,{})}),h.jsx(he,{path:"customer-orders/new",element:h.jsx(FC,{})}),h.jsx(he,{path:"customer-orders/:id",element:h.jsx(QG,{})}),h.jsx(he,{path:"customer-orders/:id/edit",element:h.jsx(FC,{})}),h.jsx(he,{path:"production-orders",element:h.jsx(ZG,{})}),h.jsx(he,{path:"production-orders/new",element:h.jsx(BC,{})}),h.jsx(he,{path:"production-orders/:id",element:h.jsx(JG,{})}),h.jsx(he,{path:"production-orders/:id/edit",element:h.jsx(BC,{})}),h.jsx(he,{path:"recipes",element:h.jsx(eY,{})}),h.jsx(he,{path:"recipes/new",element:h.jsx(VC,{})}),h.jsx(he,{path:"recipes/:id",element:h.jsx(tY,{})}),h.jsx(he,{path:"recipes/:id/edit",element:h.jsx(VC,{})}),h.jsx(he,{path:"products",element:h.jsx(nY,{})}),h.jsx(he,{path:"products/new",element:h.jsx(zC,{})}),h.jsx(he,{path:"products/:id",element:h.jsx(rY,{})}),h.jsx(he,{path:"products/:id/edit",element:h.jsx(zC,{})}),h.jsx(he,{path:"incidents",element:h.jsx(sY,{})}),h.jsx(he,{path:"incidents/new",element:h.jsx(HC,{})}),h.jsx(he,{path:"incidents/:id",element:h.jsx(iY,{})}),h.jsx(he,{path:"incidents/:id/edit",element:h.jsx(HC,{})}),h.jsx(he,{path:"daily-closures",element:h.jsx(lY,{})}),h.jsx(he,{path:"daily-closures/new",element:h.jsx($C,{})}),h.jsx(he,{path:"daily-closures/:id",element:h.jsx(cY,{})}),h.jsx(he,{path:"daily-closures/:id/edit",element:h.jsx($C,{})})]});var tD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},eN=D.createContext&&D.createContext(tD),fX=["attr","size","title"];function hX(t,e){if(t==null)return{};var n=mX(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jh(){return Jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jh.apply(this,arguments)}function tN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(n),!0).forEach(function(r){pX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pX(t,e,n){return e=gX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gX(t){var e=vX(t,"string");return typeof e=="symbol"?e:e+""}function vX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nD(t){return t&&t.map((e,n)=>D.createElement(e.tag,em({key:n},e.attr),nD(e.child)))}function _d(t){return e=>D.createElement(yX,Jh({attr:em({},t.attr)},e),nD(t.child))}function yX(t){var e=n=>{var{attr:r,size:s,title:o}=t,c=hX(t,fX),u=s||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),D.createElement("svg",Jh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:f,style:em(em({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&D.createElement("title",null,o),t.children)};return eN!==void 0?D.createElement(eN.Consumer,null,n=>e(n)):e(tD)}function bX(t){return _d({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function Li(t){return _d({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function Kv(t){return _d({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function Ui(t){return _d({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M475.115 163.781L336 252.309v-68.28c0-18.916-20.931-30.399-36.885-20.248L160 252.309V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h464c13.255 0 24-10.745 24-24V184.029c0-18.917-20.931-30.399-36.885-20.248z"},child:[]}]})(t)}function Fi(t){return _d({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}const sb=()=>{const t=Zt(),[e,n]=D.useState({purchases:0,customerOrders:0,production:0}),[r,s]=D.useState(!0);D.useEffect(()=>{o()},[]);const o=async()=>{try{const u=new Wa,f=new Ga,m=new qa,[g,v,y]=await Promise.all([u.findByStatus(we.PENDIENTE),f.findByStatus(we.PENDIENTE),m.findByStatus(we.PENDIENTE)]);n({purchases:y.length,customerOrders:g.length,production:v.length})}catch(u){console.error("Error loading order counts:",u)}finally{s(!1)}},c=[{title:"Compras",icon:Fi,path:"/mobile/purchases",description:"Gestión de órdenes de compra",count:e.purchases,status:"Pendientes"},{title:"Pedidos",icon:Li,path:"/mobile/orders",description:"Gestión de pedidos de clientes",count:e.customerOrders,status:"Pendientes"},{title:"Producción",icon:Ui,path:"/mobile/production",description:"Control de órdenes de producción",count:e.production,status:"En Progreso"}];return r?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):h.jsx("div",{className:"p-4 space-y-4",children:h.jsx("div",{className:"grid grid-cols-1 gap-4",children:c.map((u,f)=>h.jsxs(ht,{className:"hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>t(u.path),children:[h.jsxs(yn,{className:"flex flex-row items-center space-y-0 pb-2",children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[h.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary/10",children:D.createElement(u.icon,{className:"w-5 h-5 text-primary"})}),h.jsx(bn,{className:"text-xl",children:u.title})]}),u.count>0&&h.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10",children:h.jsx("span",{className:"text-sm font-medium text-primary",children:u.count})})]}),h.jsx(Rt,{children:h.jsxs("div",{className:"space-y-1",children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:u.description}),u.count>0&&h.jsxs("p",{className:"text-sm font-medium text-primary",children:[u.count," ",u.status]})]})})]},f))})})},ox=({onView:t,onEdit:e,onDelete:n,order:r,type:s,customerName:o,customerPhone:c,workerName:u,workerPhone:f,supplierName:m,supplierPhone:g,products:v,recipes:y})=>{const w=()=>{let E="";switch(s){case"customer":E=c||"";break;case"production":E=f||"";break;case"purchase":E=g||"";break}const _=new cI({order:r,type:s,customerName:o,workerName:u,supplierName:m,products:v,recipes:y}).toString();let S=E.replace(/\D/g,"");S&&(S.startsWith("0")&&(S=S.slice(1)),S.startsWith("598")||(S="598"+S));const C=S?`https://api.whatsapp.com/send?phone=${S}&text=${encodeURIComponent(_)}`:`https://api.whatsapp.com/send?text=${encodeURIComponent(_)}`;window.open(C,"_blank")};return h.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4",children:[h.jsxs(be,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px]",onClick:t,children:[h.jsx(AN,{className:"h-8 w-8"}),h.jsx("span",{className:"text-base",children:"Ver"})]}),h.jsxs(be,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px] bg-orange-500 hover:bg-orange-600 text-white border-orange-500",onClick:e,children:[h.jsx(ed,{className:"h-8 w-8"}),h.jsx("span",{className:"text-base",children:"Editar"})]}),h.jsxs(be,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px] bg-green-500 hover:bg-green-600 text-white border-green-500",onClick:w,children:[h.jsx(Fk,{className:"h-8 w-8"}),h.jsx("span",{className:"text-base",children:"WhatsApp"})]}),h.jsxs(be,{variant:"outline",className:"aspect-square flex flex-col items-center justify-center gap-3 min-h-[140px] bg-red-500 hover:bg-red-600 text-white border-red-500",onClick:n,children:[h.jsx(td,{className:"h-8 w-8"}),h.jsx("span",{className:"text-base",children:"Eliminar"})]})]})},xX=()=>{const[t,e]=D.useState([]),[n,r]=D.useState([]),[s,o]=D.useState([]),[c,u]=D.useState(!0),f=Zt(),m=new qa;D.useEffect(()=>{g()},[]);const g=async()=>{try{const[_,S,C]=await Promise.all([m.findAll(),new Fr().findAll(),new At().findAll()]),T=_.sort((R,M)=>new Date(M.orderDate).getTime()-new Date(R.orderDate).getTime());e(T),r(S),o(C)}catch(_){console.error("Error loading data:",_)}finally{u(!1)}},v=_=>{try{if(!_)return"Fecha no disponible";let S;if(_ instanceof Date)S=_;else if(typeof _=="string")S=Ya(_);else if(typeof _=="object"&&"seconds"in _)S=new Date(_.seconds*1e3);else throw new Error("Invalid date format");return isNaN(S.getTime())?"Fecha inválida":kt(S,"PPP",{locale:Zs})}catch(S){return console.error("Error formatting date:",S),"Fecha no disponible"}},y=_=>{if(!_)return"";const S=_.slice(0,3),C=_.slice(-2);return`${S}${C}`.toUpperCase()},w=_=>{const S=n.find(C=>C.id===_);return(S==null?void 0:S.commercialName)||"No asignado"},E=(_,S)=>{const C=document.querySelector('[role="dialog"]');if(C){const T=C.querySelector('button[data-state="open"]');T&&T instanceof HTMLButtonElement&&T.click()}switch(_){case"view":f(`/mobile/purchases/${S.id}/view`);break;case"edit":f(`/mobile/purchases/${S.id}/edit`);break;case"delete":f(`/mobile/purchases/${S.id}/delete`);break}};return c?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):h.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs(be,{className:"w-full flex items-center gap-2",onClick:()=>f("/mobile/purchases/new"),children:[h.jsx(Pa,{className:"h-4 w-4"}),"Nueva Orden de Compra"]}),h.jsxs("div",{className:"space-y-4",children:[t.map(_=>{var S,C;return h.jsxs(pd,{children:[h.jsx(D0,{asChild:!0,children:h.jsx(ht,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:h.jsx(Rt,{className:"p-4",children:h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("span",{className:"font-medium",children:["Compra #",y(_.id)]}),h.jsx("span",{className:"text-sm text-muted-foreground",children:v(_.orderDate)})]}),h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Xl(_.status)}`,children:Sn[_.status]})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Proveedor:"}),h.jsx("span",{className:"font-medium",children:w(_.supplierId)})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Productos:"}),h.jsx("span",{className:"font-medium",children:((S=_.products)==null?void 0:S.length)||0})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Total:"}),h.jsx("span",{className:"font-medium",children:_.totalItems||0})]})]})]})})})}),h.jsxs($l,{className:"sm:max-w-[425px]",children:[h.jsx(ql,{children:h.jsx(Wl,{children:h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("span",{children:["Compra #",y(_.id)]}),h.jsx("span",{className:"text-sm font-normal text-gray-500",children:v(_.orderDate)})]})})}),h.jsx(ox,{onView:()=>E("view",_),onEdit:()=>E("edit",_),onDelete:()=>E("delete",_),onShare:()=>{},order:_,type:"purchase",supplierName:w(_.supplierId),supplierPhone:(C=n.find(T=>T.id===_.supplierId))==null?void 0:C.phone,products:s})]})]},_.id)}),t.length===0&&h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h.jsx("p",{children:"No hay órdenes de compra"})})]})]})})},wX=()=>{const{id:t}=qe(),[e,n]=D.useState(null),[r,s]=D.useState([]),[o,c]=D.useState([]),[u,f]=D.useState(!0);D.useEffect(()=>{(async()=>{if(t)try{const[w,E,_]=await Promise.all([new qa().findById(t),new Fr().findAll(),new At().findAll()]);n(w),s(E),c(_)}catch(w){console.error("Error loading data:",w)}finally{f(!1)}})()},[t]);const m=y=>{try{if(!y)return"Fecha no disponible";let w;if(y instanceof Date)w=y;else if(typeof y=="string")w=Ya(y);else if(typeof y=="object"&&"seconds"in y)w=new Date(y.seconds*1e3);else throw new Error("Invalid date format");return isNaN(w.getTime())?"Fecha inválida":kt(w,"PPP",{locale:Zs})}catch(w){return console.error("Error formatting date:",w),"Fecha no disponible"}},g=y=>{const w=r.find(E=>E.id===y);return(w==null?void 0:w.commercialName)||"No asignado"},v=y=>{const w=o.find(E=>E.id===y);return(w==null?void 0:w.name)||"Producto no encontrado"};return u?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):e?h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs(ht,{children:[h.jsx(yn,{children:h.jsx(bn,{children:"Información General"})}),h.jsxs(Rt,{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-muted-foreground",children:"Estado"}),h.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${Xl(e.status)}`,children:Sn[e.status]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Fecha de Compra"}),h.jsx("span",{children:m(e.orderDate)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Proveedor"}),h.jsx("span",{children:g(e.supplierId)})]})]})]}),e.products&&e.products.length>0&&h.jsxs(ht,{children:[h.jsx(yn,{children:h.jsx(bn,{children:"Productos"})}),h.jsx(Rt,{children:h.jsx("div",{className:"space-y-4",children:e.products.map((y,w)=>h.jsx("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"font-medium",children:v(y.productId)}),h.jsxs("div",{className:"text-sm text-muted-foreground",children:["Cantidad: ",y.quantity]})]})},w))})})]})]}):h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Orden no encontrada"})})};var lx="Collapsible",[_X,SZ]=Xa(lx),[EX,cx]=_X(lx),rD=x.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:o,onOpenChange:c,...u}=t,[f=!1,m]=Hl({prop:r,defaultProp:s,onChange:c});return h.jsx(EX,{scope:n,disabled:o,contentId:Bs(),open:f,onOpenToggle:x.useCallback(()=>m(g=>!g),[m]),children:h.jsx(ot.div,{"data-state":dx(f),"data-disabled":o?"":void 0,...u,ref:e})})});rD.displayName=lx;var aD="CollapsibleTrigger",sD=x.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=cx(aD,n);return h.jsx(ot.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":dx(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:Ae(t.onClick,s.onOpenToggle)})});sD.displayName=aD;var ux="CollapsibleContent",iD=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=cx(ux,t.__scopeCollapsible);return h.jsx(Lr,{present:n||s.open,children:({present:o})=>h.jsx(SX,{...r,ref:e,present:o})})});iD.displayName=ux;var SX=x.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=t,c=cx(ux,n),[u,f]=x.useState(r),m=x.useRef(null),g=It(e,m),v=x.useRef(0),y=v.current,w=x.useRef(0),E=w.current,_=c.open||u,S=x.useRef(_),C=x.useRef(void 0);return x.useEffect(()=>{const T=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(T)},[]),Gs(()=>{const T=m.current;if(T){C.current=C.current||{transitionDuration:T.style.transitionDuration,animationName:T.style.animationName},T.style.transitionDuration="0s",T.style.animationName="none";const R=T.getBoundingClientRect();v.current=R.height,w.current=R.width,S.current||(T.style.transitionDuration=C.current.transitionDuration,T.style.animationName=C.current.animationName),f(r)}},[c.open,r]),h.jsx(ot.div,{"data-state":dx(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!_,...o,ref:g,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":E?`${E}px`:void 0,...t.style},children:_&&s})});function dx(t){return t?"open":"closed"}var CX=rD;const fx=CX,hx=sD,mx=iD,oD=({value:t,unit:e,onQuantityChange:n,onClick:r})=>{const[s,o]=D.useState(!1),c=D.useRef(null);return D.useEffect(()=>{s&&c.current&&c.current.focus()},[s]),s?h.jsxs("div",{className:"flex items-center bg-transparent",children:[h.jsx(fn,{ref:c,type:"number",min:"1",className:"h-10 w-20 text-left pl-0 border-0 text-lg font-bold text-blue-600 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0",defaultValue:"",onBlur:u=>{const f=Number(u.target.value);f>0&&n(f),o(!1)},onKeyDown:u=>{u.key==="Enter"&&u.target.blur(),u.key==="Escape"&&o(!1)},onClick:u=>u.stopPropagation()}),h.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(e==null?void 0:e.name)||(e==null?void 0:e.symbol)})]}):h.jsxs("button",{type:"button",className:"flex items-center gap-2 text-left",onClick:u=>{u.stopPropagation(),o(!0),r==null||r(u)},children:[h.jsx("span",{className:"text-lg font-bold text-blue-600",children:t}),h.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(e==null?void 0:e.name)||(e==null?void 0:e.symbol)})]})},nN=()=>{var Q,Z;const{id:t}=qe(),e=Zt(),[n,r]=D.useState(!0),[s,o]=D.useState(!1),[c,u]=D.useState(!t),[f,m]=D.useState([]),[g,v]=D.useState([]),[y,w]=D.useState([]),[E,_]=D.useState(""),[S,C]=D.useState(1),[T,R]=D.useState([]),[M,A]=D.useState(""),[I,k]=D.useState({orderDate:new Date,status:we.PENDIENTE,supplierId:"",products:[]}),U=D.useCallback(j=>{if(!I.supplierId){R([]);return}const K=g.filter(B=>B.primarySupplierId===I.supplierId&&B.name.toLowerCase().includes(j.toLowerCase())).sort((B,H)=>B.name.localeCompare(H.name));R(K)},[g,I.supplierId]);D.useEffect(()=>{U(M)},[U,M,I.supplierId]),D.useEffect(()=>{F()},[t]);const F=async()=>{try{const[j,K,B]=await Promise.all([new Fr().findAll(),new At().findAll(),new Ct().findAll()]);if(m(j.map(H=>({id:H.id,commercialName:H.commercialName}))),v(K),w(B),t){const P=await new qa().findById(t);if(P){const $=P.orderDate instanceof Date?P.orderDate:new Date(P.orderDate);k({...P,orderDate:isNaN($.getTime())?new Date:$})}}}catch(j){console.error("Error loading data:",j),ke.error("Error al cargar los datos")}finally{r(!1)}},Y=()=>{var K;if(!E)return;if(S<=0){ke.error("La cantidad debe ser mayor a 0");return}const j=(K=I.products)==null?void 0:K.findIndex(B=>B.productId===E);if(j!==void 0&&j>=0){const B=[...I.products||[]];B[j].quantity+=S,k(H=>({...H,products:B}))}else k(B=>({...B,products:[...B.products||[],{productId:E,quantity:S}]}));_(""),C(1)},se=j=>{k(K=>{var B;return{...K,products:(B=K.products)==null?void 0:B.filter((H,P)=>P!==j)}})},de=async j=>{var K;if(j.preventDefault(),!I.supplierId){ke.error("Debe seleccionar un proveedor");return}if(!((K=I.products)!=null&&K.length)){ke.error("Debe agregar al menos un producto");return}o(!0);try{const B=new qa,H={...I,orderDate:I.orderDate||new Date};t?(await B.update(t,H),ke.success("Orden actualizada correctamente")):(await B.create(H),ke.success("Orden creada correctamente")),e("/mobile/purchases")}catch(B){console.error("Error saving order:",B),ke.error("Error al guardar la orden")}finally{o(!1)}},W=()=>{try{if(!I.orderDate)return kt(new Date,"yyyy-MM-dd");const j=I.orderDate instanceof Date?I.orderDate:new Date(I.orderDate);return isNaN(j.getTime())?kt(new Date,"yyyy-MM-dd"):kt(j,"yyyy-MM-dd")}catch(j){return console.error("Error formatting date:",j),kt(new Date,"yyyy-MM-dd")}};return n?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):h.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:h.jsxs("form",{onSubmit:de,className:"p-4 space-y-4 max-w-lg mx-auto",children:[h.jsx(fx,{open:c,onOpenChange:u,children:h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>u(!c),children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-sm font-medium",children:"Información General"}),!c&&h.jsx("span",{className:"text-xs text-gray-500",children:I.supplierId?(Q=f.find(j=>j.id===I.supplierId))==null?void 0:Q.commercialName:"Sin asignar"})]}),h.jsx(hx,{asChild:!0,children:h.jsx(be,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:c?h.jsx(Eb,{className:"h-4 w-4"}):h.jsx(_b,{className:"h-4 w-4"})})})]}),h.jsx(mx,{children:h.jsxs("div",{className:"p-4 space-y-4 border-t",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(hr,{htmlFor:"orderDate",className:"text-sm text-gray-600",children:"Fecha de Orden"}),h.jsx(yd,{value:W(),onChange:j=>{if(!j)return;const K=new Date(j);k(B=>({...B,orderDate:K}))},className:"w-full"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(hr,{htmlFor:"supplierId",className:"text-sm text-gray-600",children:"Proveedor"}),h.jsxs("select",{id:"supplierId",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:I.supplierId,onChange:j=>k(K=>({...K,supplierId:j.target.value})),children:[h.jsx("option",{value:"",children:"Seleccionar proveedor"}),f.map(j=>h.jsx("option",{value:j.id,children:j.commercialName},j.id))]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(hr,{htmlFor:"status",className:"text-sm text-gray-600",children:"Estado"}),h.jsx("select",{id:"status",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:I.status,onChange:j=>k(K=>({...K,status:j.target.value})),disabled:!t,children:t?Object.values(we).map(j=>h.jsx("option",{value:j,children:Sn[j]},j)):h.jsx("option",{value:we.PENDIENTE,children:Sn[we.PENDIENTE]})})]})]})})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow-sm border px-4 py-2",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs("span",{className:"text-sm text-gray-500",children:[((Z=I.products)==null?void 0:Z.length)||0," productos • ",(I.products||[]).reduce((j,K)=>j+K.quantity,0)," items"]})}),h.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(I.products||[]).reduce((j,K)=>{const B=g.find(H=>H.id===K.productId);return j+((B==null?void 0:B.purchasePrice)||0)*K.quantity},0).toFixed(2)]})]})}),h.jsx("div",{className:"space-y-4",children:I.supplierId?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative",children:[h.jsx(fn,{type:"text",placeholder:"Buscar productos...",className:"w-full pl-9",value:M,onChange:j=>A(j.target.value)}),h.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("path",{d:"m21 21-4.3-4.3"})]})]}),h.jsx("div",{className:"grid grid-cols-1 gap-2",children:T.map(j=>{var B;const K=(B=I.products)==null?void 0:B.find(H=>H.productId===j.id);return h.jsx("div",{className:`w-full bg-white rounded-lg border shadow-sm cursor-pointer transition-all relative ${K?"border-primary ring-1 ring-primary":"hover:bg-gray-50/50"}`,onClick:H=>{H.target.tagName},onDoubleClick:()=>{var H;K?se(((H=I.products)==null?void 0:H.findIndex(P=>P.productId===j.id))||0):(_(j.id),C(1),Y())},children:h.jsxs("div",{className:"p-4",children:[h.jsx("span",{className:"absolute top-0 right-0 w-6 h-6 flex items-center justify-center text-xs font-medium text-white rounded-bl-lg bg-purple-500",children:"P"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(bd,{checked:K!==void 0,onCheckedChange:H=>{var P;H?(_(j.id),C(1),Y()):se(((P=I.products)==null?void 0:P.findIndex($=>$.productId===j.id))||0)},className:"h-5 w-5"}),h.jsx("div",{className:"flex-1",children:h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("span",{className:"font-medium text-base",children:j.name})})})]}),K&&h.jsx("div",{className:"mt-3",children:h.jsxs("div",{className:"ml-8 space-y-2",children:[h.jsx(oD,{value:K.quantity,unit:y.find(H=>H.id===j.purchaseUnitId),onQuantityChange:H=>{const P=[...I.products||[]],$=P.findIndex(re=>re.productId===j.id);$>=0&&(P[$].quantity=H,k(re=>({...re,products:P})))}}),h.jsxs("div",{className:"flex justify-between items-center text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Costo unitario:"}),h.jsxs("span",{className:"font-medium",children:["$",(j.purchasePrice||0).toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600",children:"Total:"}),h.jsxs("span",{className:"font-semibold text-blue-600",children:["$",((j.purchasePrice||0)*K.quantity).toFixed(2)]})]})]})})]})},j.id)})}),T.length===0&&h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h.jsx("p",{children:"No hay productos disponibles para este proveedor"})})]}):h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h.jsx("p",{children:"Seleccione un proveedor para ver los productos disponibles"})})}),h.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:h.jsxs("div",{className:"flex flex-col gap-2 max-w-lg mx-auto",children:[h.jsx(be,{type:"submit",disabled:s,className:"h-11",children:s?"Guardando...":t?"Guardar Cambios":"Crear Orden"}),h.jsx(be,{type:"button",variant:"secondary",onClick:()=>e(-1),disabled:s,className:"h-11",children:"Cancelar"})]})})]})})},NX=()=>{const{id:t}=qe(),e=Zt(),n=async()=>{if(t)try{await new qa().delete(t),e("/mobile/purchases")}catch(s){console.error("Error deleting order:",s)}},r=()=>{e(-1)};return h.jsx("div",{className:"p-4",children:h.jsx(ht,{children:h.jsx(Rt,{className:"pt-6",children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-center",children:"¿Está seguro que desea eliminar esta orden de compra?"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx(be,{variant:"destructive",onClick:n,className:"w-full",children:"Eliminar"}),h.jsx(be,{variant:"outline",onClick:r,className:"w-full",children:"Cancelar"})]})]})})})})},TX=()=>{const[t,e]=D.useState([]),[n,r]=D.useState([]),[s,o]=D.useState([]),[c,u]=D.useState([]),[f,m]=D.useState(!0),g=Zt(),v=new Wa;D.useEffect(()=>{y()},[]);const y=async()=>{try{const[C,T,R,M]=await Promise.all([v.findAll(),new Qa().findAll(),new At().findAll(),new zt().findAll()]),A=C.sort((I,k)=>{const U=new Date(I.orderDate).getTime();return new Date(k.orderDate).getTime()-U});e(A),r(T),o(R),u(M)}catch(C){console.error("Error loading data:",C)}finally{m(!1)}},w=C=>{try{if(!C)return"Fecha no disponible";let T;if(C instanceof Date)T=C;else if(typeof C=="string")T=Ya(C);else if(typeof C=="object"&&"seconds"in C)T=new Date(C.seconds*1e3);else throw new Error("Invalid date format");return isNaN(T.getTime())?"Fecha inválida":kt(T,"PPP",{locale:Zs})}catch(T){return console.error("Error formatting date:",T),"Fecha no disponible"}},E=C=>{if(!C)return"";const T=C.slice(0,3),R=C.slice(-2);return`${T}${R}`.toUpperCase()},_=C=>{const T=n.find(R=>R.id===C);return(T==null?void 0:T.name)||"No asignado"},S=(C,T)=>{const R=document.querySelector('[role="dialog"]');if(R){const M=R.querySelector('button[data-state="open"]');M&&M instanceof HTMLButtonElement&&M.click()}switch(C){case"view":g(`/mobile/orders/${T.id}/view`);break;case"edit":g(`/mobile/orders/${T.id}/edit`);break;case"delete":g(`/mobile/orders/${T.id}/delete`);break}};return f?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):h.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs(be,{className:"w-full flex items-center gap-2",onClick:()=>g("/mobile/orders/new"),children:[h.jsx(Pa,{className:"h-4 w-4"}),"Nuevo Pedido"]}),h.jsxs("div",{className:"space-y-4",children:[t.map(C=>{var T,R,M;return h.jsxs(pd,{children:[h.jsx(D0,{asChild:!0,children:h.jsx(ht,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:h.jsx(Rt,{className:"p-4",children:h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("span",{className:"font-medium",children:["Pedido #",E(C.id)]}),h.jsx("span",{className:"text-sm text-muted-foreground",children:w(C.orderDate)})]}),h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Xl(C.status)}`,children:Sn[C.status]})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Cliente:"}),h.jsx("span",{className:"font-medium",children:_(C.customerId)})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Productos:"}),h.jsx("span",{className:"font-medium",children:((T=C.products)==null?void 0:T.length)||0})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Recetas:"}),h.jsx("span",{className:"font-medium",children:((R=C.recipes)==null?void 0:R.length)||0})]})]})]})})})}),h.jsxs($l,{className:"sm:max-w-[425px]",children:[h.jsx(ql,{children:h.jsx(Wl,{children:h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("span",{children:["Pedido #",E(C.id)]}),h.jsx("span",{className:"text-sm font-normal text-gray-500",children:w(C.orderDate)})]})})}),h.jsx(ox,{onView:()=>S("view",C),onEdit:()=>S("edit",C),onDelete:()=>S("delete",C),onShare:()=>{},order:C,type:"customer",customerName:_(C.customerId),customerPhone:(M=n.find(A=>A.id===C.customerId))==null?void 0:M.phone,products:s,recipes:c})]})]},C.id)}),t.length===0&&h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h.jsx("p",{children:"No hay pedidos"})})]})]})})},RX=()=>{const{id:t}=qe(),[e,n]=D.useState(null),[r,s]=D.useState([]),[o,c]=D.useState([]),[u,f]=D.useState([]),[m,g]=D.useState(!0);D.useEffect(()=>{(async()=>{if(t)try{const[S,C,T,R]=await Promise.all([new Wa().findById(t),new Qa().findAll(),new At().findAll(),new zt().findAll()]);n(S),s(C),c(T),f(R)}catch(S){console.error("Error loading data:",S)}finally{g(!1)}})()},[t]);const v=_=>{try{if(!_)return"Fecha no disponible";let S;if(_ instanceof Date)S=_;else if(typeof _=="string")S=Ya(_);else if(typeof _=="object"&&"seconds"in _)S=new Date(_.seconds*1e3);else throw new Error("Invalid date format");return isNaN(S.getTime())?"Fecha inválida":kt(S,"PPP",{locale:Zs})}catch(S){return console.error("Error formatting date:",S),"Fecha no disponible"}},y=_=>{const S=r.find(C=>C.id===_);return(S==null?void 0:S.name)||"No asignado"},w=_=>{const S=o.find(C=>C.id===_);return(S==null?void 0:S.name)||"Producto no encontrado"},E=_=>{const S=u.find(C=>C.id===_);return(S==null?void 0:S.name)||"Receta no encontrada"};return m?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):e?h.jsxs("div",{className:"p-2 space-y-3 max-w-full",children:[h.jsxs(ht,{className:"w-full",children:[h.jsx(yn,{className:"pb-2",children:h.jsx(bn,{className:"text-lg",children:"Información General"})}),h.jsxs(Rt,{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Estado"}),h.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Xl(e.status)}`,children:Sn[e.status]})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Fecha del Pedido"}),h.jsx("span",{className:"text-sm",children:v(e.orderDate)})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Cliente"}),h.jsx("span",{className:"text-sm text-right",children:y(e.customerId)})]})]})]}),e.products&&e.products.length>0&&h.jsxs(ht,{className:"w-full",children:[h.jsx(yn,{className:"pb-2",children:h.jsx(bn,{className:"text-lg",children:"Productos"})}),h.jsx(Rt,{children:h.jsx("div",{className:"space-y-3",children:e.products.map((_,S)=>h.jsx("div",{className:"p-3 rounded-lg bg-muted/30",children:h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"font-medium text-base break-words",children:w(_.productId)}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Cantidad:"}),h.jsx("span",{className:"text-sm font-medium",children:_.quantity})]})]})},S))})})]}),e.recipes&&e.recipes.length>0&&h.jsxs(ht,{className:"w-full",children:[h.jsx(yn,{className:"pb-2",children:h.jsx(bn,{className:"text-lg",children:"Recetas"})}),h.jsx(Rt,{children:h.jsx("div",{className:"space-y-3",children:e.recipes.map((_,S)=>h.jsx("div",{className:"p-3 rounded-lg bg-muted/30",children:h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"font-medium text-base break-words",children:E(_.recipeId)}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Cantidad:"}),h.jsx("span",{className:"text-sm font-medium",children:_.quantity})]})]})},S))})})]})]}):h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Pedido no encontrado"})})},IX=({value:t,unit:e,onQuantityChange:n,onClick:r})=>{const[s,o]=D.useState(!1),c=D.useRef(null);return D.useEffect(()=>{s&&c.current&&c.current.focus()},[s]),s?h.jsxs("div",{className:"flex items-center bg-transparent",children:[h.jsx(fn,{ref:c,type:"number",min:"1",className:"h-10 w-20 text-left pl-0 border-0 text-lg font-bold text-blue-600 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0",defaultValue:"",onBlur:u=>{const f=Number(u.target.value);f>0&&n(f),o(!1)},onKeyDown:u=>{u.key==="Enter"&&u.target.blur(),u.key==="Escape"&&o(!1)},onClick:u=>u.stopPropagation()}),h.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(e==null?void 0:e.name)||(e==null?void 0:e.symbol)})]}):h.jsxs("button",{type:"button",className:"flex items-center gap-2 text-left",onClick:u=>{u.stopPropagation(),o(!0),r==null||r(u)},children:[h.jsx("span",{className:"text-lg font-bold text-blue-600",children:t}),h.jsx("span",{className:"text-base font-semibold text-gray-800 italic",children:(e==null?void 0:e.name)||(e==null?void 0:e.symbol)})]})},rN=()=>{var re,ae,oe;const{id:t}=qe(),e=Zt(),[n,r]=D.useState(!0),[s,o]=D.useState(!1),[c,u]=D.useState(!t),[f,m]=D.useState([]),[g,v]=D.useState([]),[y,w]=D.useState([]),[E,_]=D.useState([]),[S,C]=D.useState(""),[T,R]=D.useState(""),[M,A]=D.useState(1),[I,k]=D.useState(1),[U,F]=D.useState({orderDate:new Date,status:we.PENDIENTE,customerId:"",products:[],recipes:[]}),[Y,se]=D.useState([]),[de,W]=D.useState(""),Q=D.useCallback(J=>{if(!U.customerId){se([]);return}const ee=y.filter(fe=>fe.name.toLowerCase().includes(J.toLowerCase())).map(fe=>({...fe,type:"recipe"})),ce=g.filter(fe=>fe.name.toLowerCase().includes(J.toLowerCase())).map(fe=>({...fe,type:"product"}));se([...ee,...ce])},[y,g,U.customerId]);D.useEffect(()=>{Q(de)},[Q,de,U.customerId]),D.useEffect(()=>{Z()},[t]);const Z=async()=>{try{const[J,ee,ce,fe]=await Promise.all([new Qa().findAll(),new At().findAll(),new zt().findAll(),new Ct().findAll()]);if(m(J),v(ee),w(ce),_(fe),se([...ce.map(me=>({...me,type:"recipe"})),...ee.map(me=>({...me,type:"product"}))]),t){const pe=await new Wa().findById(t);pe&&F({...pe,orderDate:pe.orderDate instanceof Date?pe.orderDate:new Date(pe.orderDate)})}}catch(J){console.error("Error loading data:",J),ke.error("Error al cargar los datos")}finally{r(!1)}},j=()=>{var ee;if(!S)return;if(M<=0){ke.error("La cantidad debe ser mayor a 0");return}const J=(ee=U.products)==null?void 0:ee.findIndex(ce=>ce.productId===S);if(J!==void 0&&J>=0){const ce=[...U.products||[]];ce[J].quantity+=M,F(fe=>({...fe,products:ce}))}else F(ce=>({...ce,products:[...ce.products||[],{productId:S,quantity:M}]}));C(""),A(1)},K=()=>{var ee;if(!T)return;if(I<=0){ke.error("La cantidad debe ser mayor a 0");return}const J=(ee=U.recipes)==null?void 0:ee.findIndex(ce=>ce.recipeId===T);if(J!==void 0&&J>=0){const ce=[...U.recipes||[]];ce[J].quantity+=I,F(fe=>({...fe,recipes:ce}))}else F(ce=>({...ce,recipes:[...ce.recipes||[],{recipeId:T,quantity:I}]}));R(""),k(1)},B=J=>{F(ee=>{var ce;return{...ee,products:(ce=ee.products)==null?void 0:ce.filter((fe,me)=>me!==J)}})},H=J=>{F(ee=>{var ce;return{...ee,recipes:(ce=ee.recipes)==null?void 0:ce.filter((fe,me)=>me!==J)}})},P=async J=>{var ee,ce;if(J.preventDefault(),!U.customerId){ke.error("Debe seleccionar un cliente");return}if(!((ee=U.products)!=null&&ee.length)&&!((ce=U.recipes)!=null&&ce.length)){ke.error("Debe agregar al menos un producto o receta");return}o(!0);try{const fe=new Wa,me=U.products||[],pe=U.recipes||[],We=me.reduce((Ht,Nn)=>Ht+Nn.quantity,0)+pe.reduce((Ht,Nn)=>Ht+Nn.quantity,0),tt=me.length+pe.length,Ye={customerId:U.customerId,orderDate:U.orderDate instanceof Date?U.orderDate:new Date(U.orderDate||new Date),status:U.status,products:me,recipes:pe,totalItems:We,totalProducts:tt};t?(await fe.update(t,Ye),ke.success("Pedido actualizado correctamente")):(await fe.create(Ye),ke.success("Pedido creado correctamente")),e("/mobile/orders")}catch(fe){console.error("Error saving order:",fe),ke.error("Error al guardar el pedido")}finally{o(!1)}},$=()=>{try{return U.orderDate?kt(U.orderDate,"yyyy-MM-dd"):kt(new Date,"yyyy-MM-dd")}catch(J){return console.error("Error formatting date:",J),kt(new Date,"yyyy-MM-dd")}};return n?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):h.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:h.jsxs("form",{onSubmit:P,className:"p-4 space-y-4 max-w-lg mx-auto",children:[h.jsx(fx,{open:c,onOpenChange:u,children:h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>u(!c),children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-sm font-medium",children:"INFORMACIÓN GENERAL"}),!c&&h.jsxs("span",{className:"text-xs text-gray-500",children:[U.customerId?(re=f.find(J=>J.id===U.customerId))==null?void 0:re.name:"Sin asignar"," • ",U.orderDate?kt(new Date(U.orderDate),"dd/MM/yyyy"):""]})]}),h.jsx(hx,{asChild:!0,children:h.jsx(be,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:c?h.jsx(Eb,{className:"h-4 w-4"}):h.jsx(_b,{className:"h-4 w-4"})})})]}),h.jsx(mx,{children:h.jsxs("div",{className:"p-4 space-y-4 border-t",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(hr,{htmlFor:"orderDate",className:"text-sm text-gray-600",children:"FECHA DEL PEDIDO"}),h.jsx(yd,{value:$(),onChange:J=>{if(!J)return;const ee=new Date(J);F(ce=>({...ce,orderDate:ee}))},className:"w-full"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(hr,{htmlFor:"customerId",className:"text-sm text-gray-600",children:"CLIENTE"}),h.jsxs("select",{id:"customerId",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:U.customerId,onChange:J=>F(ee=>({...ee,customerId:J.target.value})),children:[h.jsx("option",{value:"",children:"Seleccionar cliente"}),f.map(J=>h.jsx("option",{value:J.id,children:J.name},J.id))]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(hr,{htmlFor:"status",className:"text-sm text-gray-600",children:"ESTADO"}),h.jsx("select",{id:"status",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:U.status,onChange:J=>F(ee=>({...ee,status:J.target.value})),disabled:!t,children:t?Object.values(we).map(J=>h.jsx("option",{value:J,children:Sn[J]},J)):h.jsx("option",{value:we.PENDIENTE,children:Sn[we.PENDIENTE]})})]})]})})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow-sm border px-4 py-2",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs("span",{className:"text-sm text-gray-500",children:[((ae=U.products)==null?void 0:ae.length)||0," productos • ",((oe=U.recipes)==null?void 0:oe.length)||0," recetas • ",[...(U.products||[]).map(J=>J.quantity),...(U.recipes||[]).map(J=>J.quantity)].reduce((J,ee)=>J+ee,0)," items"]})}),h.jsxs("span",{className:"font-semibold text-blue-600",children:["$",[...(U.products||[]).map(J=>{const ee=g.find(ce=>ce.id===J.productId);return((ee==null?void 0:ee.purchasePrice)||0)*J.quantity}),...(U.recipes||[]).map(J=>{const ee=y.find(ce=>ce.id===J.recipeId);return((ee==null?void 0:ee.cost)||0)*J.quantity})].reduce((J,ee)=>J+ee,0).toFixed(2)]})]})}),h.jsx("div",{className:"space-y-4",children:U.customerId?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative",children:[h.jsx(fn,{type:"text",placeholder:"Buscar productos o recetas...",className:"w-full pl-9",value:de,onChange:J=>W(J.target.value)}),h.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("path",{d:"m21 21-4.3-4.3"})]})]}),h.jsx("div",{className:"grid grid-cols-1 gap-2",children:Y.map(J=>{var fe,me;const ee=J.type==="recipe",ce=ee?(fe=U.recipes)==null?void 0:fe.find(pe=>pe.recipeId===J.id):(me=U.products)==null?void 0:me.find(pe=>pe.productId===J.id);return h.jsx("div",{className:`w-full bg-white rounded-lg border shadow-sm cursor-pointer transition-all relative ${ce?"border-primary ring-1 ring-primary":"hover:bg-gray-50/50"}`,onClick:pe=>{pe.target.tagName},onDoubleClick:()=>{var pe,We;ce?ee?H(((pe=U.recipes)==null?void 0:pe.findIndex(tt=>tt.recipeId===J.id))||0):B(((We=U.products)==null?void 0:We.findIndex(tt=>tt.productId===J.id))||0):ee?(R(J.id),k(1),K()):(C(J.id),A(1),j())},children:h.jsxs("div",{className:"p-4",children:[h.jsx("span",{className:`absolute top-0 right-0 w-6 h-6 flex items-center justify-center text-xs font-medium text-white rounded-bl-lg ${ee?"bg-blue-500":"bg-purple-500"}`,children:ee?"R":"P"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(bd,{checked:ce!==void 0,onCheckedChange:pe=>{var We,tt;pe?ee?(R(J.id),k(1),K()):(C(J.id),A(1),j()):ee?H(((We=U.recipes)==null?void 0:We.findIndex(Ye=>Ye.recipeId===J.id))||0):B(((tt=U.products)==null?void 0:tt.findIndex(Ye=>Ye.productId===J.id))||0)},className:"h-5 w-5"}),h.jsx("div",{className:"flex-1",children:h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("span",{className:"font-medium text-base",children:J.name})})})]}),ce&&h.jsx("div",{className:"mt-3",children:h.jsxs("div",{className:"ml-8 space-y-2",children:[h.jsx(IX,{value:ce.quantity,unit:ee?E.find(pe=>pe.id===J.yieldUnitId):E.find(pe=>pe.id===J.salesUnitId),onQuantityChange:pe=>{if(ee){const We=[...U.recipes||[]],tt=We.findIndex(Ye=>Ye.recipeId===J.id);tt>=0&&(We[tt].quantity=pe,F(Ye=>({...Ye,recipes:We})))}else{const We=[...U.products||[]],tt=We.findIndex(Ye=>Ye.productId===J.id);tt>=0&&(We[tt].quantity=pe,F(Ye=>({...Ye,products:We})))}}}),h.jsxs("div",{className:"flex justify-between items-center text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Costo unitario:"}),h.jsxs("span",{className:"font-medium",children:["$",ee?J.cost.toFixed(2):(J.purchasePrice||0).toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600",children:"Total:"}),h.jsxs("span",{className:"font-semibold text-blue-600",children:["$",ee?(J.cost*ce.quantity).toFixed(2):((J.purchasePrice||0)*ce.quantity).toFixed(2)]})]})]})})]})},`${J.type}-${J.id}`)})}),Y.length===0&&h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h.jsx("p",{children:"No hay items disponibles que coincidan con la búsqueda"})})]}):h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h.jsx("p",{children:"Seleccione un cliente para ver los productos y recetas disponibles"})})}),h.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:h.jsxs("div",{className:"flex flex-col gap-2 max-w-lg mx-auto",children:[h.jsx(be,{type:"submit",disabled:s,className:"h-11",children:s?"Guardando...":t?"Guardar Cambios":"Crear Pedido"}),h.jsx(be,{type:"button",variant:"secondary",onClick:()=>e(-1),disabled:s,className:"h-11",children:"Cancelar"})]})})]})})},AX=()=>{const{id:t}=qe(),e=Zt(),n=async()=>{if(t)try{await new Wa().delete(t),e("/mobile/orders")}catch(s){console.error("Error deleting order:",s)}},r=()=>{e(-1)};return h.jsx("div",{className:"p-4",children:h.jsx(ht,{children:h.jsx(Rt,{className:"pt-6",children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-center",children:"¿Está seguro que desea eliminar este pedido?"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx(be,{variant:"destructive",onClick:n,className:"w-full",children:"Eliminar"}),h.jsx(be,{variant:"outline",onClick:r,className:"w-full",children:"Cancelar"})]})]})})})})},DX=()=>{const[t,e]=D.useState([]),[n,r]=D.useState(!0),[s,o]=D.useState([]),[c,u]=D.useState([]),f=Zt(),m=new Ga,g=new Pn;D.useEffect(()=>{v()},[]);const v=async()=>{try{const[_,S,C]=await Promise.all([m.findAll(),g.findAll(),new zt().findAll()]),T=_.sort((R,M)=>{const A=R.orderDate instanceof Date?R.orderDate:new Date(R.orderDate);return(M.orderDate instanceof Date?M.orderDate:new Date(M.orderDate)).getTime()-A.getTime()});e(T),o(S),u(C)}catch(_){console.error("Error loading data:",_)}finally{r(!1)}},y=_=>{try{if(!_)return"Fecha no disponible";let S;if(_ instanceof Date)S=_;else if(typeof _=="string")S=Ya(_);else if(typeof _=="object"&&"seconds"in _)S=new Date(_.seconds*1e3);else throw new Error("Invalid date format");return isNaN(S.getTime())?"Fecha inválida":kt(S,"PPP",{locale:Zs})}catch(S){return console.error("Error formatting date:",S),"Fecha no disponible"}},w=_=>{if(!_)return"";const S=_.slice(0,3),C=_.slice(-2);return`${S}${C}`.toUpperCase()},E=(_,S)=>{const C=document.querySelector('[role="dialog"]');if(C){const T=C.querySelector('button[data-state="open"]');T&&T instanceof HTMLButtonElement&&T.click()}switch(_){case"view":f(`/mobile/production/${S.id}/view`);break;case"edit":f(`/mobile/production/${S.id}/edit`);break;case"delete":f(`/mobile/production/${S.id}/delete`);break}};return n?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):h.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs(be,{className:"w-full flex items-center gap-2",onClick:()=>f("/mobile/production/new"),children:[h.jsx(Pa,{className:"h-4 w-4"}),"Nueva Orden de Producción"]}),h.jsxs("div",{className:"space-y-4",children:[t.map(_=>{var S,C,T,R,M;return h.jsxs(pd,{children:[h.jsx(D0,{asChild:!0,children:h.jsx(ht,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:h.jsx(Rt,{className:"p-4",children:h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("span",{className:"font-medium",children:["Producción #",w(_.id)]}),h.jsx("span",{className:"text-sm text-muted-foreground",children:y(_.orderDate)})]}),h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Xl(_.status)}`,children:Sn[_.status]})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Responsable:"}),h.jsx("span",{className:"font-medium",children:((S=s.find(A=>A.id===_.responsibleWorkerId))==null?void 0:S.name)||"No asignado"})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Recetas:"}),h.jsx("span",{className:"font-medium",children:((C=_.recipes)==null?void 0:C.length)||0})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Total:"}),h.jsx("span",{className:"font-medium",children:((T=_.recipes)==null?void 0:T.reduce((A,I)=>A+(I.quantity||0),0))||0})]})]})]})})})}),h.jsxs($l,{className:"sm:max-w-[425px]",children:[h.jsx(ql,{children:h.jsx(Wl,{children:h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("span",{children:["Producción #",w(_.id)]}),h.jsx("span",{className:"text-sm font-normal text-gray-500",children:y(_.orderDate)})]})})}),h.jsx(ox,{onView:()=>E("view",_),onEdit:()=>E("edit",_),onDelete:()=>E("delete",_),onShare:()=>{},order:_,type:"production",workerName:(R=s.find(A=>A.id===_.responsibleWorkerId))==null?void 0:R.name,workerPhone:(M=s.find(A=>A.id===_.responsibleWorkerId))==null?void 0:M.phone,recipes:c})]})]},_.id)}),t.length===0&&h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h.jsx("p",{children:"No hay órdenes de producción"})})]})]})})},OX=()=>{var g;const{id:t}=qe(),[e,n]=D.useState(null),[r,s]=D.useState({}),[o,c]=D.useState({}),[u,f]=D.useState(!0);D.useEffect(()=>{(async()=>{if(t)try{const y=new Ga,w=new Pn,E=new zt,[_,S,C]=await Promise.all([y.findById(t),w.findAll(),E.findAll()]);n(_),s(S.reduce((T,R)=>({...T,[R.id]:R.name}),{})),c(C.reduce((T,R)=>({...T,[R.id]:R.name}),{}))}catch(y){console.error("Error loading data:",y)}finally{f(!1)}})()},[t]);const m=v=>{try{if(!v)return"Fecha no disponible";let y;if(v instanceof Date)y=v;else if(typeof v=="string")y=Ya(v);else if(typeof v=="object"&&"seconds"in v)y=new Date(v.seconds*1e3);else throw new Error("Invalid date format");return isNaN(y.getTime())?"Fecha inválida":kt(y,"PPP",{locale:Zs})}catch(y){return console.error("Error formatting date:",y),"Fecha no disponible"}};return u?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):e?h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs(ht,{children:[h.jsx(yn,{children:h.jsx(bn,{children:"Información General"})}),h.jsxs(Rt,{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-muted-foreground",children:"Estado"}),h.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${Xl(e.status)}`,children:Sn[e.status]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Fecha de Producción"}),h.jsx("span",{children:m(e.orderDate)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Responsable"}),h.jsx("span",{children:r[e.responsibleWorkerId]||"No asignado"})]})]})]}),h.jsxs(ht,{children:[h.jsx(yn,{children:h.jsx(bn,{children:"Recetas"})}),h.jsx(Rt,{children:h.jsxs("div",{className:"space-y-4",children:[(g=e.recipes)==null?void 0:g.map((v,y)=>h.jsx("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"font-medium",children:o[v.recipeId]||"Receta no encontrada"}),h.jsxs("div",{className:"text-sm text-muted-foreground",children:["Cantidad: ",v.quantity]})]})},y)),(!e.recipes||e.recipes.length===0)&&h.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No hay recetas asignadas"})]})})]})]}):h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Orden no encontrada"})})},MX=()=>{const{id:t}=qe(),e=Zt(),[n,r]=D.useState(null),[s,o]=D.useState(!0),[c,u]=D.useState(!1),f=new Ga;D.useEffect(()=>{(async()=>{if(t)try{const y=await f.findById(t);r(y)}catch(y){console.error("Error loading order:",y),ke.error("Error al cargar la orden")}finally{o(!1)}})()},[t]);const m=async()=>{if(t)try{u(!0),await f.delete(t),ke.success("Orden eliminada correctamente"),e("/mobile/production")}catch(v){console.error("Error deleting order:",v),ke.error("Error al eliminar la orden")}finally{u(!1)}},g=v=>{if(!v)return"";const y=v.slice(0,3),w=v.slice(-2);return`${y}${w}`.toUpperCase()};return s?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):n?h.jsx("div",{className:"p-4",children:h.jsxs(ht,{children:[h.jsx(yn,{children:h.jsx(bn,{className:"text-center text-red-500",children:"¿Estás seguro de eliminar esta orden?"})}),h.jsx(Rt,{className:"space-y-4",children:h.jsxs("p",{className:"text-center text-muted-foreground",children:["Esta acción no se puede deshacer. Se eliminará la Orden #",n.consecutive||g(n.id)," y todos sus datos asociados."]})}),h.jsxs(ZN,{className:"flex flex-col gap-2",children:[h.jsx(be,{variant:"danger",className:"w-full",onClick:m,disabled:c,children:c?"Eliminando...":"Sí, eliminar"}),h.jsx(be,{variant:"secondary",className:"w-full",onClick:()=>e(-1),disabled:c,children:"Cancelar"})]})]})}):h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Orden no encontrada"})})},aN=()=>{var de;const{id:t}=qe(),e=Zt(),[n,r]=D.useState(!0),[s,o]=D.useState(!1),[c,u]=D.useState(!t),[f,m]=D.useState([]),[g,v]=D.useState([]),[y,w]=D.useState([]),[E,_]=D.useState(new Set),[S,C]=D.useState([]),[T,R]=D.useState(""),[M,A]=D.useState({orderDate:new Date,status:we.PENDIENTE,responsibleWorkerId:"",recipes:[]}),I=D.useCallback(W=>{if(!M.responsibleWorkerId){C([]);return}const Q=g.filter(Z=>Z.primaryWorkerId===M.responsibleWorkerId&&Z.name.toLowerCase().includes(W.toLowerCase())).sort((Z,j)=>Z.name.localeCompare(j.name));C(Q)},[g,M.responsibleWorkerId]);D.useEffect(()=>{I(T)},[I,T,M.responsibleWorkerId]),D.useEffect(()=>{k()},[t]);const k=async()=>{var W;try{const[Q,Z,j]=await Promise.all([new Pn().findAll(),new zt().findAll(),new Ct().findAll()]);if(m(Q),v(Z),w(j),C(Z),t){const B=await new Ga().findById(t);if(B){A({...B,orderDate:B.orderDate instanceof Date?B.orderDate:new Date(B.orderDate)});const H=new Set((W=B.recipes)==null?void 0:W.map(P=>P.recipeId));_(H)}}}catch(Q){console.error("Error loading data:",Q),ke.error("Error al cargar los datos")}finally{r(!1)}},U=async W=>{if(W.preventDefault(),E.size===0){ke.error("Debe seleccionar al menos una receta");return}o(!0);try{const Q=new Ga,Z={...M,orderDate:M.orderDate};t?(await Q.update(t,Z),ke.success("Orden actualizada correctamente")):(await Q.create(Z),ke.success("Orden creada correctamente")),e("/mobile/production")}catch(Q){console.error("Error saving order:",Q),ke.error("Error al guardar la orden")}finally{o(!1)}},F=(W,Q)=>{W&&A(Z=>({...Z,recipes:[...(Z.recipes||[]).filter(j=>j.recipeId!==W),...Q>0?[{recipeId:W,quantity:Q}]:[]]}))},Y=(W,Q=1)=>{_(Z=>{const j=new Set(Z);return j.has(W)?(j.delete(W),F(W,0)):(j.add(W),F(W,Q)),j})},se=()=>{try{return M.orderDate?kt(M.orderDate,"yyyy-MM-dd"):kt(new Date,"yyyy-MM-dd")}catch(W){return console.error("Error formatting date:",W),kt(new Date,"yyyy-MM-dd")}};return n?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})}):h.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-32",children:h.jsxs("form",{onSubmit:U,className:"p-4 space-y-4 max-w-lg mx-auto",children:[h.jsx(fx,{open:c,onOpenChange:u,children:h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>u(!c),children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-sm font-medium",children:"Información General"}),!c&&h.jsx("span",{className:"text-xs text-gray-500",children:M.responsibleWorkerId?(de=f.find(W=>W.id===M.responsibleWorkerId))==null?void 0:de.name:"Sin asignar"})]}),h.jsx(hx,{asChild:!0,children:h.jsx(be,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:c?h.jsx(Eb,{className:"h-4 w-4"}):h.jsx(_b,{className:"h-4 w-4"})})})]}),h.jsx(mx,{children:h.jsxs("div",{className:"p-4 space-y-4 border-t",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(hr,{htmlFor:"orderDate",className:"text-sm text-gray-600",children:"Fecha de Orden"}),h.jsx(yd,{value:se(),onChange:W=>{if(!W)return;const Q=new Date(W);A(Z=>({...Z,orderDate:Q}))},className:"w-full"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(hr,{htmlFor:"responsibleWorkerId",className:"text-sm text-gray-600",children:"Responsable"}),h.jsxs("select",{id:"responsibleWorkerId",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:M.responsibleWorkerId,onChange:W=>A(Q=>({...Q,responsibleWorkerId:W.target.value})),children:[h.jsx("option",{value:"",children:"Seleccionar responsable"}),f.map(W=>h.jsx("option",{value:W.id,children:W.name},W.id))]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(hr,{htmlFor:"status",className:"text-sm text-gray-600",children:"Estado"}),h.jsx("select",{id:"status",className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",value:M.status,onChange:W=>A(Q=>({...Q,status:W.target.value})),disabled:!t,children:t?Object.values(we).map(W=>h.jsx("option",{value:W,children:Sn[W]},W)):h.jsx("option",{value:we.PENDIENTE,children:Sn[we.PENDIENTE]})})]})]})})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow-sm border px-4 py-2",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs("span",{className:"text-sm text-gray-500",children:[E.size," recetas • ",(M.recipes||[]).reduce((W,Q)=>W+Q.quantity,0)," items"]})}),h.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(M.recipes||[]).reduce((W,Q)=>{const Z=g.find(j=>j.id===Q.recipeId);return W+((Z==null?void 0:Z.cost)||0)*Q.quantity},0).toFixed(2)]})]})}),h.jsx("div",{className:"space-y-4",children:M.responsibleWorkerId?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative",children:[h.jsx(fn,{type:"text",placeholder:"Buscar recetas...",className:"w-full pl-9",value:T,onChange:W=>R(W.target.value)}),h.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("path",{d:"m21 21-4.3-4.3"})]})]}),h.jsx("div",{className:"grid grid-cols-1 gap-3",children:S.map(W=>{var j;const Q=E.has(W.id),Z=(j=M.recipes)==null?void 0:j.find(K=>K.recipeId===W.id);return h.jsx("div",{className:`w-full bg-white rounded-lg border shadow-sm cursor-pointer transition-all relative ${Q?"border-primary ring-1 ring-primary":"hover:bg-gray-50/50"}`,onClick:K=>{K.target.tagName},onDoubleClick:()=>{Q?(F(W.id,0),_(K=>{const B=new Set(K);return B.delete(W.id),B})):Y(W.id,1)},children:h.jsxs("div",{className:"p-4",children:[h.jsx("span",{className:"absolute top-0 right-0 w-6 h-6 flex items-center justify-center text-xs font-medium text-white rounded-bl-lg bg-blue-500",children:"R"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(bd,{checked:Q,onCheckedChange:K=>{K?Y(W.id,1):(F(W.id,0),_(B=>{const H=new Set(B);return H.delete(W.id),H}))},className:"h-5 w-5"}),h.jsx("div",{className:"flex-1",children:h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("span",{className:"font-medium text-base",children:W.name})})})]}),Z&&h.jsx("div",{className:"mt-3",children:h.jsxs("div",{className:"ml-8 space-y-2",children:[h.jsx(oD,{value:Z.quantity,unit:y.find(K=>K.id===W.yieldUnitId),onQuantityChange:K=>{const B=[...M.recipes||[]],H=B.findIndex(P=>P.recipeId===W.id);H>=0&&(B[H].quantity=K,A(P=>({...P,recipes:B})))}}),h.jsxs("div",{className:"flex justify-between items-center text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Costo unitario:"}),h.jsxs("span",{className:"font-medium",children:["$",W.cost.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600",children:"Total:"}),h.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(W.cost*Z.quantity).toFixed(2)]})]})]})})]})},W.id)})}),S.length===0&&h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h.jsx("p",{children:"No hay recetas disponibles para este trabajador"})})]}):h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h.jsx("p",{children:"Seleccione un trabajador para ver las recetas disponibles"})})}),h.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:h.jsxs("div",{className:"flex flex-col gap-2 max-w-lg mx-auto",children:[h.jsx(be,{type:"submit",disabled:s||E.size===0,className:"h-11",children:s?"Guardando...":t?"Guardar Cambios":"Crear Orden"}),h.jsx(be,{type:"button",variant:"secondary",onClick:()=>e(-1),disabled:s,className:"h-11",children:"Cancelar"})]})})]})})},jX=h.jsxs(h.Fragment,{children:[h.jsx(he,{path:"/mobile",element:h.jsx(sb,{})}),h.jsx(he,{path:"/mobile/dashboard",element:h.jsx(sb,{})}),h.jsx(he,{path:"/mobile/purchases",element:h.jsx(xX,{})}),h.jsx(he,{path:"/mobile/purchases/new",element:h.jsx(nN,{})}),h.jsx(he,{path:"/mobile/purchases/:id/view",element:h.jsx(wX,{})}),h.jsx(he,{path:"/mobile/purchases/:id/edit",element:h.jsx(nN,{})}),h.jsx(he,{path:"/mobile/purchases/:id/delete",element:h.jsx(NX,{})}),h.jsx(he,{path:"/mobile/orders",element:h.jsx(TX,{})}),h.jsx(he,{path:"/mobile/orders/new",element:h.jsx(rN,{})}),h.jsx(he,{path:"/mobile/orders/:id/view",element:h.jsx(RX,{})}),h.jsx(he,{path:"/mobile/orders/:id/edit",element:h.jsx(rN,{})}),h.jsx(he,{path:"/mobile/orders/:id/delete",element:h.jsx(AX,{})}),h.jsx(he,{path:"/mobile/production",element:h.jsx(DX,{})}),h.jsx(he,{path:"/mobile/production/new",element:h.jsx(aN,{})}),h.jsx(he,{path:"/mobile/production/:id/view",element:h.jsx(OX,{})}),h.jsx(he,{path:"/mobile/production/:id/edit",element:h.jsx(aN,{})}),h.jsx(he,{path:"/mobile/production/:id/delete",element:h.jsx(MX,{})})]});function lD(t){const e=t+"CollectionProvider",[n,r]=Xa(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:E,children:_}=w,S=D.useRef(null),C=D.useRef(new Map).current;return h.jsx(s,{scope:E,itemMap:C,collectionRef:S,children:_})};c.displayName=e;const u=t+"CollectionSlot",f=D.forwardRef((w,E)=>{const{scope:_,children:S}=w,C=o(u,_),T=It(E,C.collectionRef);return h.jsx(wl,{ref:T,children:S})});f.displayName=u;const m=t+"CollectionItemSlot",g="data-radix-collection-item",v=D.forwardRef((w,E)=>{const{scope:_,children:S,...C}=w,T=D.useRef(null),R=It(E,T),M=o(m,_);return D.useEffect(()=>(M.itemMap.set(T,{ref:T,...C}),()=>void M.itemMap.delete(T))),h.jsx(wl,{[g]:"",ref:R,children:S})});v.displayName=m;function y(w){const E=o(t+"CollectionConsumer",w);return D.useCallback(()=>{const S=E.collectionRef.current;if(!S)return[];const C=Array.from(S.querySelectorAll(`[${g}]`));return Array.from(E.itemMap.values()).sort((M,A)=>C.indexOf(M.ref.current)-C.indexOf(A.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:c,Slot:f,ItemSlot:v},y,r]}var PX=x.createContext(void 0);function cD(t){const e=x.useContext(PX);return t||e||"ltr"}var Xv="rovingFocusGroup.onEntryFocus",kX={bubbles:!1,cancelable:!0},qm="RovingFocusGroup",[ib,uD,LX]=lD(qm),[UX,dD]=Xa(qm,[LX]),[FX,BX]=UX(qm),fD=x.forwardRef((t,e)=>h.jsx(ib.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(ib.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(VX,{...t,ref:e})})}));fD.displayName=qm;var VX=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...v}=t,y=x.useRef(null),w=It(e,y),E=cD(o),[_=null,S]=Hl({prop:c,defaultProp:u,onChange:f}),[C,T]=x.useState(!1),R=Or(m),M=uD(n),A=x.useRef(!1),[I,k]=x.useState(0);return x.useEffect(()=>{const U=y.current;if(U)return U.addEventListener(Xv,R),()=>U.removeEventListener(Xv,R)},[R]),h.jsx(FX,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:_,onItemFocus:x.useCallback(U=>S(U),[S]),onItemShiftTab:x.useCallback(()=>T(!0),[]),onFocusableItemAdd:x.useCallback(()=>k(U=>U+1),[]),onFocusableItemRemove:x.useCallback(()=>k(U=>U-1),[]),children:h.jsx(ot.div,{tabIndex:C||I===0?-1:0,"data-orientation":r,...v,ref:w,style:{outline:"none",...t.style},onMouseDown:Ae(t.onMouseDown,()=>{A.current=!0}),onFocus:Ae(t.onFocus,U=>{const F=!A.current;if(U.target===U.currentTarget&&F&&!C){const Y=new CustomEvent(Xv,kX);if(U.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const se=M().filter(j=>j.focusable),de=se.find(j=>j.active),W=se.find(j=>j.id===_),Z=[de,W,...se].filter(Boolean).map(j=>j.ref.current);pD(Z,g)}}A.current=!1}),onBlur:Ae(t.onBlur,()=>T(!1))})})}),hD="RovingFocusGroupItem",mD=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...c}=t,u=Bs(),f=o||u,m=BX(hD,n),g=m.currentTabStopId===f,v=uD(n),{onFocusableItemAdd:y,onFocusableItemRemove:w}=m;return x.useEffect(()=>{if(r)return y(),()=>w()},[r,y,w]),h.jsx(ib.ItemSlot,{scope:n,id:f,focusable:r,active:s,children:h.jsx(ot.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:Ae(t.onMouseDown,E=>{r?m.onItemFocus(f):E.preventDefault()}),onFocus:Ae(t.onFocus,()=>m.onItemFocus(f)),onKeyDown:Ae(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){m.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const _=$X(E,m.orientation,m.dir);if(_!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let C=v().filter(T=>T.focusable).map(T=>T.ref.current);if(_==="last")C.reverse();else if(_==="prev"||_==="next"){_==="prev"&&C.reverse();const T=C.indexOf(E.currentTarget);C=m.loop?qX(C,T+1):C.slice(T+1)}setTimeout(()=>pD(C))}})})})});mD.displayName=hD;var zX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function HX(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function $X(t,e,n){const r=HX(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return zX[r]}function pD(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function qX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var WX=fD,GX=mD,ob=["Enter"," "],YX=["ArrowDown","PageUp","Home"],gD=["ArrowUp","PageDown","End"],KX=[...YX,...gD],XX={ltr:[...ob,"ArrowRight"],rtl:[...ob,"ArrowLeft"]},QX={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ed="Menu",[Ku,ZX,JX]=lD(Ed),[co,vD]=Xa(Ed,[JX,Om,dD]),Wm=Om(),yD=dD(),[eQ,uo]=co(Ed),[tQ,Sd]=co(Ed),bD=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:o,modal:c=!0}=t,u=Wm(e),[f,m]=x.useState(null),g=x.useRef(!1),v=Or(o),y=cD(s);return x.useEffect(()=>{const w=()=>{g.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>g.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),h.jsx(n2,{...u,children:h.jsx(eQ,{scope:e,open:n,onOpenChange:v,content:f,onContentChange:m,children:h.jsx(tQ,{scope:e,onClose:x.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:g,dir:y,modal:c,children:r})})})};bD.displayName=Ed;var nQ="MenuAnchor",px=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Wm(n);return h.jsx(r2,{...s,...r,ref:e})});px.displayName=nQ;var gx="MenuPortal",[rQ,xD]=co(gx,{forceMount:void 0}),wD=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,o=uo(gx,e);return h.jsx(rQ,{scope:e,forceMount:n,children:h.jsx(Lr,{present:n||o.open,children:h.jsx(C0,{asChild:!0,container:s,children:r})})})};wD.displayName=gx;var mr="MenuContent",[aQ,vx]=co(mr),_D=x.forwardRef((t,e)=>{const n=xD(mr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=uo(mr,t.__scopeMenu),c=Sd(mr,t.__scopeMenu);return h.jsx(Ku.Provider,{scope:t.__scopeMenu,children:h.jsx(Lr,{present:r||o.open,children:h.jsx(Ku.Slot,{scope:t.__scopeMenu,children:c.modal?h.jsx(sQ,{...s,ref:e}):h.jsx(iQ,{...s,ref:e})})})})}),sQ=x.forwardRef((t,e)=>{const n=uo(mr,t.__scopeMenu),r=x.useRef(null),s=It(e,r);return x.useEffect(()=>{const o=r.current;if(o)return EI(o)},[]),h.jsx(yx,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ae(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),iQ=x.forwardRef((t,e)=>{const n=uo(mr,t.__scopeMenu);return h.jsx(yx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),yx=x.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:f,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:y,onDismiss:w,disableOutsideScroll:E,..._}=t,S=uo(mr,n),C=Sd(mr,n),T=Wm(n),R=yD(n),M=ZX(n),[A,I]=x.useState(null),k=x.useRef(null),U=It(e,k,S.onContentChange),F=x.useRef(0),Y=x.useRef(""),se=x.useRef(0),de=x.useRef(null),W=x.useRef("right"),Q=x.useRef(0),Z=E?N0:x.Fragment,j=E?{as:wl,allowPinchZoom:!0}:void 0,K=H=>{var ce,fe;const P=Y.current+H,$=M().filter(me=>!me.disabled),re=document.activeElement,ae=(ce=$.find(me=>me.ref.current===re))==null?void 0:ce.textValue,oe=$.map(me=>me.textValue),J=yQ(oe,P,ae),ee=(fe=$.find(me=>me.textValue===J))==null?void 0:fe.ref.current;(function me(pe){Y.current=pe,window.clearTimeout(F.current),pe!==""&&(F.current=window.setTimeout(()=>me(""),1e3))})(P),ee&&setTimeout(()=>ee.focus())};x.useEffect(()=>()=>window.clearTimeout(F.current),[]),pI();const B=x.useCallback(H=>{var $,re;return W.current===(($=de.current)==null?void 0:$.side)&&xQ(H,(re=de.current)==null?void 0:re.area)},[]);return h.jsx(aQ,{scope:n,searchRef:Y,onItemEnter:x.useCallback(H=>{B(H)&&H.preventDefault()},[B]),onItemLeave:x.useCallback(H=>{var P;B(H)||((P=k.current)==null||P.focus(),I(null))},[B]),onTriggerLeave:x.useCallback(H=>{B(H)&&H.preventDefault()},[B]),pointerGraceTimerRef:se,onPointerGraceIntentChange:x.useCallback(H=>{de.current=H},[]),children:h.jsx(Z,{...j,children:h.jsx(S0,{asChild:!0,trapped:s,onMountAutoFocus:Ae(o,H=>{var P;H.preventDefault(),(P=k.current)==null||P.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:h.jsx(Em,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:y,onDismiss:w,children:h.jsx(WX,{asChild:!0,...R,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:I,onEntryFocus:Ae(f,H=>{C.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(a2,{role:"menu","aria-orientation":"vertical","data-state":UD(S.open),"data-radix-menu-content":"",dir:C.dir,...T,..._,ref:U,style:{outline:"none",..._.style},onKeyDown:Ae(_.onKeyDown,H=>{const $=H.target.closest("[data-radix-menu-content]")===H.currentTarget,re=H.ctrlKey||H.altKey||H.metaKey,ae=H.key.length===1;$&&(H.key==="Tab"&&H.preventDefault(),!re&&ae&&K(H.key));const oe=k.current;if(H.target!==oe||!KX.includes(H.key))return;H.preventDefault();const ee=M().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);gD.includes(H.key)&&ee.reverse(),gQ(ee)}),onBlur:Ae(t.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(F.current),Y.current="")}),onPointerMove:Ae(t.onPointerMove,Xu(H=>{const P=H.target,$=Q.current!==H.clientX;if(H.currentTarget.contains(P)&&$){const re=H.clientX>Q.current?"right":"left";W.current=re,Q.current=H.clientX}}))})})})})})})});_D.displayName=mr;var oQ="MenuGroup",bx=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(ot.div,{role:"group",...r,ref:e})});bx.displayName=oQ;var lQ="MenuLabel",ED=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(ot.div,{...r,ref:e})});ED.displayName=lQ;var tm="MenuItem",sN="menu.itemSelect",Gm=x.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,o=x.useRef(null),c=Sd(tm,t.__scopeMenu),u=vx(tm,t.__scopeMenu),f=It(e,o),m=x.useRef(!1),g=()=>{const v=o.current;if(!n&&v){const y=new CustomEvent(sN,{bubbles:!0,cancelable:!0});v.addEventListener(sN,w=>r==null?void 0:r(w),{once:!0}),dI(v,y),y.defaultPrevented?m.current=!1:c.onClose()}};return h.jsx(SD,{...s,ref:f,disabled:n,onClick:Ae(t.onClick,g),onPointerDown:v=>{var y;(y=t.onPointerDown)==null||y.call(t,v),m.current=!0},onPointerUp:Ae(t.onPointerUp,v=>{var y;m.current||(y=v.currentTarget)==null||y.click()}),onKeyDown:Ae(t.onKeyDown,v=>{const y=u.searchRef.current!=="";n||y&&v.key===" "||ob.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});Gm.displayName=tm;var SD=x.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=t,c=vx(tm,n),u=yD(n),f=x.useRef(null),m=It(e,f),[g,v]=x.useState(!1),[y,w]=x.useState("");return x.useEffect(()=>{const E=f.current;E&&w((E.textContent??"").trim())},[o.children]),h.jsx(Ku.ItemSlot,{scope:n,disabled:r,textValue:s??y,children:h.jsx(GX,{asChild:!0,...u,focusable:!r,children:h.jsx(ot.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:m,onPointerMove:Ae(t.onPointerMove,Xu(E=>{r?c.onItemLeave(E):(c.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ae(t.onPointerLeave,Xu(E=>c.onItemLeave(E))),onFocus:Ae(t.onFocus,()=>v(!0)),onBlur:Ae(t.onBlur,()=>v(!1))})})})}),cQ="MenuCheckboxItem",CD=x.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return h.jsx(AD,{scope:t.__scopeMenu,checked:n,children:h.jsx(Gm,{role:"menuitemcheckbox","aria-checked":nm(n)?"mixed":n,...s,ref:e,"data-state":wx(n),onSelect:Ae(s.onSelect,()=>r==null?void 0:r(nm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});CD.displayName=cQ;var ND="MenuRadioGroup",[uQ,dQ]=co(ND,{value:void 0,onValueChange:()=>{}}),TD=x.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,o=Or(r);return h.jsx(uQ,{scope:t.__scopeMenu,value:n,onValueChange:o,children:h.jsx(bx,{...s,ref:e})})});TD.displayName=ND;var RD="MenuRadioItem",ID=x.forwardRef((t,e)=>{const{value:n,...r}=t,s=dQ(RD,t.__scopeMenu),o=n===s.value;return h.jsx(AD,{scope:t.__scopeMenu,checked:o,children:h.jsx(Gm,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":wx(o),onSelect:Ae(r.onSelect,()=>{var c;return(c=s.onValueChange)==null?void 0:c.call(s,n)},{checkForDefaultPrevented:!1})})})});ID.displayName=RD;var xx="MenuItemIndicator",[AD,fQ]=co(xx,{checked:!1}),DD=x.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,o=fQ(xx,n);return h.jsx(Lr,{present:r||nm(o.checked)||o.checked===!0,children:h.jsx(ot.span,{...s,ref:e,"data-state":wx(o.checked)})})});DD.displayName=xx;var hQ="MenuSeparator",OD=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(ot.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});OD.displayName=hQ;var mQ="MenuArrow",MD=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Wm(n);return h.jsx(s2,{...s,...r,ref:e})});MD.displayName=mQ;var pQ="MenuSub",[CZ,jD]=co(pQ),vu="MenuSubTrigger",PD=x.forwardRef((t,e)=>{const n=uo(vu,t.__scopeMenu),r=Sd(vu,t.__scopeMenu),s=jD(vu,t.__scopeMenu),o=vx(vu,t.__scopeMenu),c=x.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:f}=o,m={__scopeMenu:t.__scopeMenu},g=x.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return x.useEffect(()=>g,[g]),x.useEffect(()=>{const v=u.current;return()=>{window.clearTimeout(v),f(null)}},[u,f]),h.jsx(px,{asChild:!0,...m,children:h.jsx(SD,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":UD(n.open),...t,ref:_m(e,s.onTriggerChange),onClick:v=>{var y;(y=t.onClick)==null||y.call(t,v),!(t.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ae(t.onPointerMove,Xu(v=>{o.onItemEnter(v),!v.defaultPrevented&&!t.disabled&&!n.open&&!c.current&&(o.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:Ae(t.onPointerLeave,Xu(v=>{var w,E;g();const y=(w=n.content)==null?void 0:w.getBoundingClientRect();if(y){const _=(E=n.content)==null?void 0:E.dataset.side,S=_==="right",C=S?-5:5,T=y[S?"left":"right"],R=y[S?"right":"left"];o.onPointerGraceIntentChange({area:[{x:v.clientX+C,y:v.clientY},{x:T,y:y.top},{x:R,y:y.top},{x:R,y:y.bottom},{x:T,y:y.bottom}],side:_}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(v),v.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ae(t.onKeyDown,v=>{var w;const y=o.searchRef.current!=="";t.disabled||y&&v.key===" "||XX[r.dir].includes(v.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),v.preventDefault())})})})});PD.displayName=vu;var kD="MenuSubContent",LD=x.forwardRef((t,e)=>{const n=xD(mr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=uo(mr,t.__scopeMenu),c=Sd(mr,t.__scopeMenu),u=jD(kD,t.__scopeMenu),f=x.useRef(null),m=It(e,f);return h.jsx(Ku.Provider,{scope:t.__scopeMenu,children:h.jsx(Lr,{present:r||o.open,children:h.jsx(Ku.Slot,{scope:t.__scopeMenu,children:h.jsx(yx,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:m,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var v;c.isUsingKeyboardRef.current&&((v=f.current)==null||v.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Ae(t.onFocusOutside,g=>{g.target!==u.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ae(t.onEscapeKeyDown,g=>{c.onClose(),g.preventDefault()}),onKeyDown:Ae(t.onKeyDown,g=>{var w;const v=g.currentTarget.contains(g.target),y=QX[c.dir].includes(g.key);v&&y&&(o.onOpenChange(!1),(w=u.trigger)==null||w.focus(),g.preventDefault())})})})})})});LD.displayName=kD;function UD(t){return t?"open":"closed"}function nm(t){return t==="indeterminate"}function wx(t){return nm(t)?"indeterminate":t?"checked":"unchecked"}function gQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function vQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function yQ(t,e,n){const s=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let c=vQ(t,Math.max(o,0));s.length===1&&(c=c.filter(m=>m!==n));const f=c.find(m=>m.toLowerCase().startsWith(s.toLowerCase()));return f!==n?f:void 0}function bQ(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,c=e.length-1;o<e.length;c=o++){const u=e[o].x,f=e[o].y,m=e[c].x,g=e[c].y;f>r!=g>r&&n<(m-u)*(r-f)/(g-f)+u&&(s=!s)}return s}function xQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return bQ(n,e)}function Xu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var wQ=bD,_Q=px,EQ=wD,SQ=_D,CQ=bx,NQ=ED,TQ=Gm,RQ=CD,IQ=TD,AQ=ID,DQ=DD,OQ=OD,MQ=MD,jQ=PD,PQ=LD,_x="DropdownMenu",[kQ,NZ]=Xa(_x,[vD]),Cn=vD(),[LQ,FD]=kQ(_x),BD=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:c,modal:u=!0}=t,f=Cn(e),m=x.useRef(null),[g=!1,v]=Hl({prop:s,defaultProp:o,onChange:c});return h.jsx(LQ,{scope:e,triggerId:Bs(),triggerRef:m,contentId:Bs(),open:g,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(y=>!y),[v]),modal:u,children:h.jsx(wQ,{...f,open:g,onOpenChange:v,dir:r,modal:u,children:n})})};BD.displayName=_x;var VD="DropdownMenuTrigger",zD=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,o=FD(VD,n),c=Cn(n);return h.jsx(_Q,{asChild:!0,...c,children:h.jsx(ot.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:_m(e,o.triggerRef),onPointerDown:Ae(t.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:Ae(t.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});zD.displayName=VD;var UQ="DropdownMenuPortal",HD=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Cn(e);return h.jsx(EQ,{...r,...n})};HD.displayName=UQ;var $D="DropdownMenuContent",qD=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=FD($D,n),o=Cn(n),c=x.useRef(!1);return h.jsx(SQ,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:e,onCloseAutoFocus:Ae(t.onCloseAutoFocus,u=>{var f;c.current||(f=s.triggerRef.current)==null||f.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:Ae(t.onInteractOutside,u=>{const f=u.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,g=f.button===2||m;(!s.modal||g)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qD.displayName=$D;var FQ="DropdownMenuGroup",BQ=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Cn(n);return h.jsx(CQ,{...s,...r,ref:e})});BQ.displayName=FQ;var VQ="DropdownMenuLabel",WD=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Cn(n);return h.jsx(NQ,{...s,...r,ref:e})});WD.displayName=VQ;var zQ="DropdownMenuItem",GD=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Cn(n);return h.jsx(TQ,{...s,...r,ref:e})});GD.displayName=zQ;var HQ="DropdownMenuCheckboxItem",YD=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Cn(n);return h.jsx(RQ,{...s,...r,ref:e})});YD.displayName=HQ;var $Q="DropdownMenuRadioGroup",qQ=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Cn(n);return h.jsx(IQ,{...s,...r,ref:e})});qQ.displayName=$Q;var WQ="DropdownMenuRadioItem",KD=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Cn(n);return h.jsx(AQ,{...s,...r,ref:e})});KD.displayName=WQ;var GQ="DropdownMenuItemIndicator",XD=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Cn(n);return h.jsx(DQ,{...s,...r,ref:e})});XD.displayName=GQ;var YQ="DropdownMenuSeparator",QD=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Cn(n);return h.jsx(OQ,{...s,...r,ref:e})});QD.displayName=YQ;var KQ="DropdownMenuArrow",XQ=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Cn(n);return h.jsx(MQ,{...s,...r,ref:e})});XQ.displayName=KQ;var QQ="DropdownMenuSubTrigger",ZD=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Cn(n);return h.jsx(jQ,{...s,...r,ref:e})});ZD.displayName=QQ;var ZQ="DropdownMenuSubContent",JD=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Cn(n);return h.jsx(PQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JD.displayName=ZQ;var JQ=BD,eZ=zD,tZ=HD,eO=qD,tO=WD,nO=GD,rO=YD,aO=KD,sO=XD,iO=QD,oO=ZD,lO=JD;const iN=JQ,oN=eZ,nZ=x.forwardRef(({className:t,inset:e,children:n,...r},s)=>h.jsxs(oO,{ref:s,className:Me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,h.jsx(xk,{className:"ml-auto h-4 w-4"})]}));nZ.displayName=oO.displayName;const rZ=x.forwardRef(({className:t,...e},n)=>h.jsx(lO,{ref:n,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));rZ.displayName=lO.displayName;const lb=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(tZ,{children:h.jsx(eO,{ref:r,sideOffset:e,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));lb.displayName=eO.displayName;const yu=x.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(nO,{ref:r,className:Me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));yu.displayName=nO.displayName;const aZ=x.forwardRef(({className:t,children:e,checked:n,...r},s)=>h.jsxs(rO,{ref:s,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(sO,{children:h.jsx(RN,{className:"h-4 w-4"})})}),e]}));aZ.displayName=rO.displayName;const sZ=x.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(aO,{ref:r,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(sO,{children:h.jsx(Ck,{className:"h-2 w-2 fill-current"})})}),e]}));sZ.displayName=aO.displayName;const cb=x.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(tO,{ref:r,className:Me("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));cb.displayName=tO.displayName;const ub=x.forwardRef(({className:t,...e},n)=>h.jsx(iO,{ref:n,className:Me("-mx-1 my-1 h-px bg-muted",t),...e}));ub.displayName=iO.displayName;const lN=[{label:"Administración",icon:fS,submenu:[{label:"Clientes",path:"/customers",icon:ay},{label:"Proveedores",path:"/suppliers",icon:dk},{label:"Colaboradores",path:"/workers",icon:Jv},{label:"Roles",path:"/roles",icon:Zk},{label:"Unidades",path:"/units",icon:Yk},{label:"Parámetros",path:"/parameters",icon:fS},{label:"Incidentes",path:"/incidents",icon:IN}]},{label:"Operación",icon:sL,submenu:[{label:"Compras",path:"/purchase-orders",icon:ny},{label:"Pedidos",path:"/customer-orders",icon:Hn},{label:"Producción",path:"/production-orders",icon:cu},{label:"Cierres Diarios",path:"/daily-closures",icon:TN}]},{label:"Inventario",icon:ty,submenu:[{label:"Productos",path:"/products",icon:ck},{label:"Recetas",path:"/recipes",icon:vk}]}],iZ=({children:t})=>{const e=Zt(),[n,r]=x.useState(!1),[s,o]=x.useState(null),[c,u]=x.useState(document.documentElement.classList.contains("dark")),[f,m]=x.useState(null);x.useEffect(()=>{const E=rl.onAuthStateChanged(_=>{m((_==null?void 0:_.email)||null)});return()=>E()},[]);const g=()=>{const E=!c;u(E),E?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")},v=()=>{localStorage.removeItem("token"),e("/login",{replace:!0})},y=E=>{o(s===E?null:E)},w=()=>{r(!1),o(null)};return h.jsxs("div",{className:"min-h-screen bg-background",onClick:()=>o(null),children:[h.jsx("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:h.jsx("div",{className:"absolute -top-[40rem] left-1/2 -z-10 transform -translate-x-1/2",children:h.jsx("div",{className:"aspect-[1200/800] w-[80rem] bg-gradient-to-tr from-primary/20 to-primary-foreground/20 opacity-30 blur-3xl"})})}),h.jsxs("nav",{className:"sticky top-0 z-40 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex h-16 items-center justify-between",children:[h.jsxs(ja,{to:"/dashboard",className:"flex items-center space-x-3 cursor-pointer",onClick:w,children:[h.jsx("img",{src:lI,alt:"Logo",className:"h-8 w-8 rounded-lg object-cover"}),h.jsx("span",{className:"text-xl font-bold",children:"Sistema de Gestión Operativa"})]}),h.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[h.jsx("div",{className:"flex items-center gap-1",children:lN.map((E,_)=>h.jsxs("div",{className:"relative group px-3",children:[h.jsxs("button",{onClick:S=>{S.stopPropagation(),y(_)},className:"flex items-center space-x-2 text-sm font-medium transition-colors hover:text-primary py-2",children:[E.icon&&h.jsx(E.icon,{className:"h-4 w-4"}),h.jsx("span",{children:E.label})]}),E.submenu&&s===_&&h.jsx("div",{className:"absolute right-0 top-full w-56 pt-2 z-50",onClick:S=>S.stopPropagation(),children:h.jsx(ht,{className:"p-2 shadow-lg",children:h.jsx("nav",{className:"grid gap-1",children:E.submenu.map((S,C)=>h.jsxs(ja,{to:S.path||"#",onClick:w,className:"flex w-full items-center space-x-2 rounded-md p-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground cursor-pointer",children:[S.icon&&h.jsx(S.icon,{className:"h-4 w-4"}),h.jsx("span",{children:S.label})]},C))})})})]},_))}),h.jsx("div",{className:"flex items-center space-x-2 border-l border-border/40 pl-4 ml-2",children:h.jsxs(iN,{children:[h.jsx(oN,{asChild:!0,children:h.jsx(be,{variant:"secondary",size:"sm",className:"rounded-full",children:h.jsx(Jv,{className:"h-5 w-5"})})}),h.jsxs(lb,{align:"end",className:"w-56",children:[h.jsx(cb,{className:"font-normal",children:h.jsxs("div",{className:"flex flex-col space-y-1",children:[h.jsx("p",{className:"text-sm font-medium leading-none",children:"Mi Perfil"}),h.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:f})]})}),h.jsx(ub,{}),h.jsxs(yu,{onClick:g,children:[c?h.jsx(ry,{className:"mr-2 h-4 w-4"}):h.jsx(ey,{className:"mr-2 h-4 w-4"}),h.jsxs("span",{children:["Tema ",c?"Claro":"Oscuro"]})]}),h.jsxs(yu,{onClick:v,children:[h.jsx(cv,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Cerrar Sesión"})]})]})]})})]}),h.jsxs("div",{className:"flex md:hidden items-center space-x-2",children:[h.jsxs(iN,{children:[h.jsx(oN,{asChild:!0,children:h.jsx(be,{variant:"secondary",size:"sm",className:"rounded-full",children:h.jsx(Jv,{className:"h-5 w-5"})})}),h.jsxs(lb,{align:"end",className:"w-56",children:[h.jsx(cb,{className:"font-normal",children:h.jsxs("div",{className:"flex flex-col space-y-1",children:[h.jsx("p",{className:"text-sm font-medium leading-none",children:"Mi Perfil"}),h.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:f})]})}),h.jsx(ub,{}),h.jsxs(yu,{onClick:g,children:[c?h.jsx(ry,{className:"mr-2 h-4 w-4"}):h.jsx(ey,{className:"mr-2 h-4 w-4"}),h.jsxs("span",{children:["Tema ",c?"Claro":"Oscuro"]})]}),h.jsxs(yu,{onClick:v,children:[h.jsx(cv,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Cerrar Sesión"})]})]})]}),h.jsx(be,{variant:"secondary",size:"sm",className:"md:hidden",onClick:()=>r(!n),children:n?h.jsx(ON,{className:"h-6 w-6"}):h.jsx(Lk,{className:"h-6 w-6"})})]})]})}),n&&h.jsx("div",{className:"md:hidden border-t border-border/40",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[lN.map((E,_)=>h.jsxs("div",{className:"py-2",children:[h.jsxs("button",{onClick:S=>{S.stopPropagation(),y(_)},className:"flex items-center space-x-2 font-medium mb-1 w-full text-left",children:[E.icon&&h.jsx(E.icon,{className:"h-4 w-4"}),h.jsx("span",{children:E.label})]}),E.submenu&&s===_&&h.jsx("div",{className:"pl-4 space-y-1",children:E.submenu.map((S,C)=>h.jsxs(ja,{to:S.path||"#",onClick:w,className:"flex items-center space-x-2 py-2 text-sm text-muted-foreground hover:text-primary cursor-pointer",children:[S.icon&&h.jsx(S.icon,{className:"h-4 w-4"}),h.jsx("span",{children:S.label})]},C))})]},_)),h.jsx("div",{className:"pt-4 border-t border-border/40",children:h.jsxs(be,{variant:"ghost",className:"w-full justify-start text-sm text-muted-foreground hover:text-primary",onClick:v,children:[h.jsx(cv,{className:"h-4 w-4 mr-2"}),"Cerrar sesión"]})})]})})]}),h.jsx("main",{className:"py-6",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsx("div",{className:"fade-in",children:t})})})]})},oZ=({children:t})=>{const e=kr(),n=Zt(),r=e.pathname==="/mobile"||e.pathname==="/mobile/dashboard";x.useEffect(()=>((async()=>{try{const u=document.documentElement;u.requestFullscreen?await u.requestFullscreen():u.webkitRequestFullscreen?await u.webkitRequestFullscreen():u.msRequestFullscreen&&await u.msRequestFullscreen()}catch(u){console.log("No se pudo activar el modo pantalla completa:",u)}})(),()=>{document.fullscreenElement&&document.exitFullscreen().catch(u=>{console.log("Error al salir de pantalla completa:",u)})}),[]);const o=(()=>{const c=e.pathname;return r?{title:"Inicio",icon:Kv,showBack:!1,action:null}:c.includes("/mobile/production")?c.includes("/new")?{title:"Nueva Producción",icon:Ui,showBack:!0,action:()=>null,actionIcon:Hn}:c.includes("/edit")?{title:"Editar Producción",icon:Ui,showBack:!0,action:()=>null,actionIcon:Hn}:c.includes("/view")?{title:"Ver Producción",icon:Ui,showBack:!0,action:()=>null,actionIcon:Hn}:c.includes("/delete")?{title:"Eliminar Producción",icon:Ui,showBack:!0,action:()=>null,actionIcon:Hn}:{title:"Producciones",icon:Ui,showBack:!1,action:()=>n("/mobile/production/new"),actionIcon:Pa}:c.includes("/mobile/purchases")?c.includes("/new")?{title:"Nueva Compra",icon:Fi,showBack:!0,action:()=>null,actionIcon:Hn}:c.includes("/edit")?{title:"Editar Compra",icon:Fi,showBack:!0,action:()=>null,actionIcon:Hn}:c.includes("/view")?{title:"Ver Compra",icon:Fi,showBack:!0,action:()=>null,actionIcon:Hn}:c.includes("/delete")?{title:"Eliminar Compra",icon:Fi,showBack:!0,action:()=>null,actionIcon:Hn}:{title:"Compras",icon:Fi,showBack:!1,action:()=>n("/mobile/purchases/new"),actionIcon:Pa}:c.includes("/mobile/orders")?c.includes("/new")?{title:"Nuevo Pedido",icon:Li,showBack:!0,action:()=>null,actionIcon:Hn}:c.includes("/edit")?{title:"Editar Pedido",icon:Li,showBack:!0,action:()=>null,actionIcon:Hn}:c.includes("/view")?{title:"Ver Pedido",icon:Li,showBack:!0,action:()=>null,actionIcon:Hn}:c.includes("/delete")?{title:"Eliminar Pedido",icon:Li,showBack:!0,action:()=>null,actionIcon:Hn}:{title:"Pedidos",icon:Li,showBack:!1,action:()=>n("/mobile/orders/new"),actionIcon:Pa}:{title:"SGO",icon:Kv,showBack:!1,action:null}})();return h.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[h.jsx("div",{className:"h-[env(safe-area-inset-top)] bg-background"}),h.jsx("header",{className:Me("sticky top-0 z-40 w-full bg-background/80 backdrop-blur-xl","transition-all duration-200 ease-in-out","border-b border-border/40"),children:h.jsxs("div",{className:"flex items-center justify-between px-4 h-14",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[o.showBack&&h.jsx(be,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>n(-1),children:h.jsx(bX,{className:"h-4 w-4"})}),h.jsxs("div",{className:"flex items-center gap-2",children:[D.createElement(o.icon,{className:Me("h-5 w-5",e.pathname.includes("/mobile/production")?"text-primary":"",e.pathname.includes("/mobile/purchases")?"text-primary":"",e.pathname.includes("/mobile/orders")?"text-primary":"",r?"text-primary":"")}),h.jsx("h1",{className:"text-lg font-medium",children:o.title})]})]}),o.action&&o.actionIcon&&h.jsx(be,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:o.action,children:D.createElement(o.actionIcon,{className:"h-5 w-5"})})]})}),h.jsx("main",{className:"flex-1 overflow-y-auto",children:r?h.jsx(sb,{}):h.jsx(bb,{})}),h.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-t border-border/40",children:h.jsxs("div",{className:"flex justify-around items-center h-14",children:[h.jsxs(be,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${r?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile"),children:[h.jsx(Kv,{className:"h-5 w-5"}),h.jsx("span",{className:"text-[10px] font-medium",children:"Inicio"}),r&&h.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]}),h.jsxs(be,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${e.pathname.includes("/mobile/purchases")?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile/purchases"),children:[h.jsx(Fi,{className:"h-5 w-5"}),h.jsx("span",{className:"text-[10px] font-medium",children:"Compras"}),e.pathname.includes("/mobile/purchases")&&h.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]}),h.jsxs(be,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${e.pathname.includes("/mobile/orders")?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile/orders"),children:[h.jsx(Li,{className:"h-5 w-5"}),h.jsx("span",{className:"text-[10px] font-medium",children:"Pedidos"}),e.pathname.includes("/mobile/orders")&&h.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]}),h.jsxs(be,{variant:"ghost",size:"sm",className:`flex flex-col items-center gap-0.5 h-full px-2 rounded-none relative ${e.pathname.includes("/mobile/production")?"text-primary":"text-muted-foreground"}`,onClick:()=>n("/mobile/production"),children:[h.jsx(Ui,{className:"h-5 w-5"}),h.jsx("span",{className:"text-[10px] font-medium",children:"Producción"}),e.pathname.includes("/mobile/production")&&h.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]})]})}),h.jsx("div",{className:"h-[calc(env(safe-area-inset-bottom)+3.5rem)]"})]})};class lZ extends D.Component{constructor(){super(...arguments);Ve(this,"resizeObserver",null);Ve(this,"state",{isMobile:window.innerWidth<=768})}componentDidMount(){this.resizeObserver=new ResizeObserver(n=>{for(const r of n){const o=r.contentRect.width<=768;this.state.isMobile!==o&&this.setState({isMobile:o},()=>{const c=o?"/mobile":"/dashboard";this.props.navigate(c)})}}),this.resizeObserver.observe(document.body)}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}render(){const{isMobile:n}=this.state,r=n?oZ:iZ;return h.jsx(bN,{children:h.jsxs(he,{element:h.jsx(r,{children:h.jsx(bb,{})}),children:[n&&jX,!n&&dX,h.jsx(he,{path:"*",element:h.jsx(yb,{to:n?"/mobile":"/dashboard",replace:!0})})]})})}}const cZ=()=>{const t=Zt();return h.jsx(lZ,{navigate:t})},uZ=()=>h.jsx("div",{className:"fixed inset-0 bg-gray-50 dark:bg-gray-900 z-50 flex items-center justify-center",children:h.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Cargando..."})]})}),dZ=({children:t})=>{const e=kr(),[n,r]=D.useState(!0),[s,o]=D.useState(null);return D.useEffect(()=>{let c=!0;console.log("RequireAuth - Setting up auth listener");const u=rl.onAuthStateChanged(f=>{console.log("RequireAuth - Auth state changed:",{email:f==null?void 0:f.email,uid:f==null?void 0:f.uid,isAuthenticated:!!f}),c&&(o(f),r(!1))});return()=>{c=!1,u()}},[]),n?(console.log("RequireAuth - Loading..."),h.jsx(uZ,{})):s?(console.log("RequireAuth - User authenticated, rendering content"),t||h.jsx(bb,{})):(console.log("RequireAuth - No user, redirecting to login"),h.jsx(yb,{to:"/login",state:{from:e.pathname},replace:!0}))},fZ=()=>{D.useEffect(()=>{new Fh},[]);const t=window.innerWidth<=768;return h.jsx(WP,{basename:"/nrd-sgo",children:h.jsxs(bN,{children:[h.jsx(he,{path:"login",element:h.jsx(Wz,{})}),h.jsx(he,{element:h.jsx(dZ,{}),children:h.jsx(he,{path:"/*",element:h.jsx(cZ,{})})}),h.jsx(he,{path:"",element:h.jsx(yb,{to:"/dashboard",replace:!0})})]})})};function hZ(){return h.jsxs(h.Fragment,{children:[h.jsx(fZ,{}),h.jsx(qz,{richColors:!0,position:"top-right",closeButton:!0,duration:4e3})]})}class mZ extends x.Component{constructor(){super(...arguments);Ve(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by error boundary:",n,r)}render(){return this.state.hasError?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:h.jsx("div",{className:"max-w-md w-full space-y-8",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(IN,{className:"h-12 w-12 text-red-500 mb-4"}),h.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Algo salió mal"}),h.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Ha ocurrido un error inesperado. Por favor, intente recargar la página."}),h.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Recargar página"}),!1]})})}):this.props.children}}Dj.createRoot(document.getElementById("root")).render(h.jsx(D.StrictMode,{children:h.jsx(mZ,{children:h.jsx(hZ,{})})}));
//# sourceMappingURL=index-CQPWv6UG.js.map
